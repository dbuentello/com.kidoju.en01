/*! Copyright ©2013-2018 Memba® Sarl. All rights reserved. - Version 0.3.8 dated 11-Sep-2018 */!function(t){function e(e){for(var i,o,r=e[0],a=e[1],s=0,c=[];s<r.length;s++)o=r[s],n[o]&&c.push(n[o][0]),n[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);for(l&&l(e);c.length;)c.shift()()}var i={},n={0:0};function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise(function(e,o){i=n[t]=[e,o]});e.push(i[2]=r);var a,s=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(t){return o.p+""+({1:"app.culture.en",2:"app.culture.fr",3:"app.theme.android-dark",4:"app.theme.android-light",5:"app.theme.blackberry",6:"app.theme.fiori",7:"app.theme.flat",8:"app.theme.ios",9:"app.theme.ios7",10:"app.theme.material-dark",11:"app.theme.material-light",12:"app.theme.meego",13:"app.theme.nova",14:"app.theme.office365",15:"app.theme.wp-dark",16:"app.theme.wp-light"}[t]||t)+".bundle.js?v=0.3.8"}(t),a=function(e){l.onerror=l.onload=null,clearTimeout(c);var i=n[t];if(0!==i){if(i){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");a.type=o,a.request=r,i[1](a)}n[t]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,s.appendChild(l)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="./build/",o.oe=function(t){throw console.error(t),t};var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var l=a;o(o.s=178)}([function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e),i.d(e,"default",function(){return l});var o={};"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(t){o["[object ".concat(t,"]")]=t.toLowerCase()});var r=o.toString,a=o.hasOwnProperty,s={isArray:Array.isArray,isFunction:function(t){return"function"===s.type(t)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isNumeric:function(t){return!s.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===s.type(t)&&!t.nodeType&&!s.isWindow(t)&&!(t.constructor&&!a.call(t.constructor.prototype,"isPrototypeOf"))},isWindow:function(t){return null!==t&&t===t.window},type:function(t){return null===t?"".concat(t):"object"===n(t)||"function"==typeof t?o[r.call(t)]||"object":n(t)}};function l(t,e){if(!t)throw new Error(e)}l.enum=function(t,e,i){if(-1===t.indexOf(e))throw new RangeError(i)},l.equal=function(t,e,i){if(t!==e)throw new RangeError(i)},l.format=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.replace(/\{(\d+)\}/g,function(t,e){return"".concat(i[parseInt(e,10)])})},l.hasLength=function(t,e){if(!t||!t.length)throw new TypeError(e)},l.instanceof=function(t,e,i){if(!(e instanceof t))throw new TypeError(i)},l.isArray=function(t,e){if(!Array.isArray(t))throw new TypeError(e)},l.isDefined=function(t,e){if("undefined"===s.type(t))throw new TypeError(e)},l.isEmptyObject=function(t,e){if(!s.isEmptyObject(t))throw new TypeError(e)},l.isFunction=function(t,e){if(!s.isFunction(t))throw new TypeError(e)},l.isOptionalObject=function(t,e){if("undefined"!==s.type(t)&&(!s.isPlainObject(t)||s.isEmptyObject(t)))throw new TypeError(e)},l.isPlainObject=function(t,e){if(!s.isPlainObject(t)||s.isEmptyObject(t))throw new TypeError(e)},l.isUndefined=function(t,e){if("undefined"!==s.type(t))throw new TypeError(e)},l.match=function(t,e,i){if("string"!==s.type(e)||!t.test(e))throw new RangeError(i)},l.ok=function(t,e){return l(t,e)},l.type=function(t,e,i){if(s.type(e)!==t)throw new TypeError(i)},l.typeOrUndef=function(t,e,i){if("undefined"!==s.type(e)&&s.type(e)!==t)throw new TypeError(i)},l.messages={enum:{default:"`{0}` is expected to be any of `{1}`"},equal:{default:"`{0}` is expected to equal `{1}`"},hasLength:{default:"`{0}` has neither length nor any item"},instanceof:{default:"`{0}` is expected to be an instance of `{1}`"},isArray:{default:"`{0}` is expected to be an array"},isDefined:{default:"`{0}` is expected to be not undefined"},isEmptyObject:{default:"`{0}` is expected to be an empty object"},isFunction:{default:"`{0}` is expected to be a function"},isOptionalObject:{default:"`{0}` is expected to be undefined or a plain object"},isPlainObject:{default:"`{0}` is expected to be a plain object"},isUndefined:{default:"`{0}` is expected to be undefined"},match:{default:"`{0}` is expected to match `{1}`"},ok:{default:"A statement is expected to be true"},type:{default:"`{0}` is expected to have type `{1}`"},typeOrUndef:{default:"`{0}` is expected to have type `{1}` or be undefined"}},l.crud=function(t){l.type("object",t,l.format(l.messages.type.default,"options","object")),l.type("object",t.data,l.format(l.messages.type.default,"options.data","object")),l.isFunction(t.success,l.format(l.messages.isFunction.default,"options.success")),l.isFunction(t.error,l.format(l.messages.isFunction.default,"options.error"))},window.assert=l},function(t,e,i){var n=i(8),o=i(15),r=i(26),a=i(22),s=i(34),l=function(t,e,i){var c,u,h,d,f=t&l.F,p=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,b=p?n:m?n[e]||(n[e]={}):(n[e]||{}).prototype,k=p?o:o[e]||(o[e]={}),y=k.prototype||(k.prototype={});for(c in p&&(i=e),i)h=((u=!f&&b&&void 0!==b[c])?b:i)[c],d=v&&u?s(h,n):g&&"function"==typeof h?s(Function.call,h):h,b&&a(b,c,h,t&l.U),k[c]!=h&&r(k,c,d),g&&y[c]!=h&&(y[c]=h)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){"use strict";e.a={BOOLEAN:"boolean",DATE:"date",FUNCTION:"function",NULL:"null",NUMBER:"number",OBJECT:"object",STRING:"string",SYMBOL:"symbol",UNDEFINED:"undefined",CHANGE:"change",CLICK:"click",CLOSE:"close",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",TOUCHEND:"touchend",TOUCHLEAVE:"touchleave",TOUCHMOVE:"touchmove",TOUCHSTART:"touchstart",LOADED:"i18n.loaded",NOT_FOUND_ERR:"Not found",NOT_IMPLEMENTED_ERR:"Not implemented",JSON_CONTENT_TYPE:"application/json",CROSSHAIR_CURSOR:"crosshair",DEFAULT_CURSOR:"default",DISABLED_CLASS:"k-state-disabled",FOCUS_CLASS:"k-state-focus",HEIGHT:"height",WIDTH:"width",ACTION:"action",RX_ISODATE:/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,RX_LANGUAGE:/^[a-z]{2}$/,RX_MONGODB_ID:/^[a-f0-9]{24}$/,RX_URL:/^https?:\/\//,DOT:".",HASH:"#",HYPHEN:"-",UNDERSCORE:"_",ID:"id",ME:"me",POINTER:"pointer"}},function(t,e,i){var n,o,r;i(0),o=[i(5)],void 0===(r="function"==typeof(n=function(){return function(t,e,i){var n,o=e.kendo=e.kendo||{cultures:{}},r=t.extend,a=t.each,s=t.isArray,l=t.proxy,c=t.noop,u=Math,h=e.JSON||{},d={},f=/%/,p=/\{(\d+)(:[^\}]+)?\}/g,m=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,g=/^(\+|-?)\d+(\.?)\d*$/,v="function",b="string",k="number",y="object",w="null",_="boolean",x="undefined",S={},C={},A=[].slice;function T(){}o.version="2018.2.620".replace(/^\s+|\s+$/g,""),T.extend=function(t){var e,i,n=function(){},o=this,a=t&&t.init?t.init:function(){o.apply(this,arguments)};for(e in n.prototype=o.prototype,i=a.fn=a.prototype=new n,t)null!=t[e]&&t[e].constructor===Object?i[e]=r(!0,{},n.prototype[e],t[e]):i[e]=t[e];return i.constructor=a,a.extend=o.extend,a},T.prototype._initOptions=function(t){this.options=q({},this.options,t)};var j=o.isFunction=function(t){return"function"==typeof t},M=function(){this._defaultPrevented=!0},z=function(){return!0===this._defaultPrevented},E=T.extend({init:function(){this._events={}},bind:function(t,e,n){var o,r,a,s,l=this,c=typeof t===b?[t]:t,u=typeof e===v;if(e===i){for(o in t)l.bind(o,t[o]);return l}for(o=0,r=c.length;o<r;o++)t=c[o],(s=u?e:e[t])&&(n&&(a=s,(s=function(){l.unbind(t,s),a.apply(l,arguments)}).original=a),(l._events[t]=l._events[t]||[]).push(s));return l},one:function(t,e){return this.bind(t,e,!0)},first:function(t,e){var i,n,o,r=typeof t===b?[t]:t,a=typeof e===v;for(i=0,n=r.length;i<n;i++)t=r[i],(o=a?e:e[t])&&(this._events[t]=this._events[t]||[]).unshift(o);return this},trigger:function(t,e){var i,n,o=this._events[t];if(o){for((e=e||{}).sender=this,e._defaultPrevented=!1,e.preventDefault=M,e.isDefaultPrevented=z,i=0,n=(o=o.slice()).length;i<n;i++)o[i].call(this,e);return!0===e._defaultPrevented}return!1},unbind:function(t,e){var n,o=this._events[t];if(t===i)this._events={};else if(o)if(e)for(n=o.length-1;n>=0;n--)o[n]!==e&&o[n].original!==e||o.splice(n,1);else this._events[t]=[];return this}});function I(t,e){if(e)return"'"+t.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=t.charAt(0),n=t.substring(1);return"="===i?"+("+n+")+":":"===i?"+$kendoHtmlEncode("+n+")+":";"+t+";$kendoOutput+="}var D=/^\w+/,O=/\$\{([^}]*)\}/g,P=/\\\}/g,R=/__CURLY__/g,L=/\\#/g,F=/__SHARP__/g,N=["","0","00","000","0000"];function B(t,e,i){return t+="",(i=(e=e||2)-t.length)?N[e].substring(0,i)+t:t}function q(t){var e=1,i=arguments.length;for(e=1;e<i;e++)V(t,arguments[e]);return t}function V(t,e){var i,n,r,a,s,l=o.data.ObservableArray,c=o.data.LazyObservableArray,u=o.data.DataSource,h=o.data.HierarchicalDataSource;for(i in e)(a=(r=typeof(n=e[i]))===y&&null!==n?n.constructor:null)&&a!==Array&&a!==l&&a!==c&&a!==u&&a!==h&&a!==RegExp?n instanceof Date?t[i]=new Date(n.getTime()):j(n.clone)?t[i]=n.clone():(s=t[i],t[i]=typeof s===y&&s||{},V(t[i],n)):r!==x&&(t[i]=n);return t}function H(t,e,n){for(var o in e)if(e.hasOwnProperty(o)&&e[o].test(t))return o;return n!==i?n:t}function U(t){return t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})}function W(e,i){var n,r={};return document.defaultView&&document.defaultView.getComputedStyle?(n=document.defaultView.getComputedStyle(e,""),i&&t.each(i,function(t,e){r[e]=n.getPropertyValue(e)})):(n=e.currentStyle,i&&t.each(i,function(t,e){r[e]=n[U(e)]})),o.size(r)||(r=n),r}n={paramName:"data",useWithBlock:!0,render:function(t,e){var i,n,o="";for(i=0,n=e.length;i<n;i++)o+=t(e[i]);return o},compile:function(t,e){var i,n,a,s=r({},this,e),l=s.paramName,c=l.match(D)[0],u=s.useWithBlock,h="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(j(t))return t;for(h+=u?"with("+l+"){":"",h+="$kendoOutput=",n=t.replace(P,"__CURLY__").replace(O,"#=$kendoHtmlEncode($1)#").replace(R,"}").replace(L,"__SHARP__").split("#"),a=0;a<n.length;a++)h+=I(n[a],a%2==0);h+=u?";}":";",h=(h+="return $kendoOutput;").replace(F,"#");try{return(i=new Function(c,h))._slotCount=Math.floor(n.length/2),i}catch(e){throw new Error(o.format("Invalid template:'{0}' Generated code:'{1}'",t,h))}}},function(){var t,e,i,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r={}.toString;function a(t){return n.lastIndex=0,n.test(t)?'"'+t.replace(n,function(t){var e=o[t];return typeof e===b?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}typeof Date.prototype.toJSON!==v&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?B(this.getUTCFullYear(),4)+"-"+B(this.getUTCMonth()+1)+"-"+B(this.getUTCDate())+"T"+B(this.getUTCHours())+":"+B(this.getUTCMinutes())+":"+B(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof h.stringify!==v&&(h.stringify=function(n,o,s){var l;if(t="",e="",typeof s===k)for(l=0;l<s;l+=1)e+=" ";else typeof s===b&&(e=s);if(i=o,o&&typeof o!==v&&(typeof o!==y||typeof o.length!==k))throw new Error("JSON.stringify");return function n(o,s){var l,c,u,h,d,f,p=t,m=s[o];if(m&&typeof m===y&&typeof m.toJSON===v&&(m=m.toJSON(o)),typeof i===v&&(m=i.call(s,o,m)),(f=typeof m)===b)return a(m);if(f===k)return isFinite(m)?String(m):w;if(f===_||f===w)return String(m);if(f===y){if(!m)return w;if(t+=e,d=[],"[object Array]"===r.apply(m)){for(h=m.length,l=0;l<h;l++)d[l]=n(l,m)||w;return u=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+p+"]":"["+d.join(",")+"]",t=p,u}if(i&&typeof i===y)for(h=i.length,l=0;l<h;l++)typeof i[l]===b&&(u=n(c=i[l],m))&&d.push(a(c)+(t?": ":":")+u);else for(c in m)Object.hasOwnProperty.call(m,c)&&(u=n(c,m))&&d.push(a(c)+(t?": ":":")+u);return u=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+p+"}":"{"+d.join(",")+"}",t=p,u}}("",{"":n})})}(),function(){var e=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,n=/^(n|c|p|e)(\d*)$/i,r=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,a=/\,/g,s="",l=".",c=",",h="#",d="0",f="??",m="en-US",g={}.toString;function v(t){if(t){if(t.numberFormat)return t;if(typeof t===b){var e=o.cultures;return e[t]||e[t.split("-")[0]]||null}return null}return null}function y(t){return t&&(t=v(t)),t||o.cultures.current}o.cultures["en-US"]={name:m,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},o.culture=function(t){var e,n=o.cultures;if(t===i)return n.current;(e=v(t)||n[m]).calendar=e.calendars.standard,n.current=e},o.findCulture=v,o.getCulture=y,o.culture(m);var w=function(t,e,n,o){var r,a,s,u,h,d,f=t.indexOf(o[l]),p=o.groupSize.slice(),m=p.shift();if(n=-1!==f?f:n+1,(a=(r=t.substring(e,n)).length)>=m){for(s=a,u=[];s>-1;)if((h=r.substring(s-m,s))&&u.push(h),s-=m,0===(m=(d=p.shift())!==i?d:m)){s>0&&u.push(r.substring(0,s));break}r=u.reverse().join(o[c]),t=t.substring(0,e)+r+t.substring(n)}return t},_=function(t,e,i){return e=e||0,t=t.toString().split("e"),t=Math.round(+(t[0]+"e"+(t[1]?+t[1]+e:e))),i&&(t=-t),(t=+((t=t.toString().split("e"))[0]+"e"+(t[1]?+t[1]-e:-e))).toFixed(Math.min(e,20))},x=function(t,o,p){if(o){if("[object Date]"===g.call(t))return function(t,n,o){var r=(o=y(o)).calendars.standard,a=r.days,s=r.months;return(n=r.patterns[n]||n).replace(e,function(e){var n,o,l;return"d"===e?o=t.getDate():"dd"===e?o=B(t.getDate()):"ddd"===e?o=a.namesAbbr[t.getDay()]:"dddd"===e?o=a.names[t.getDay()]:"M"===e?o=t.getMonth()+1:"MM"===e?o=B(t.getMonth()+1):"MMM"===e?o=s.namesAbbr[t.getMonth()]:"MMMM"===e?o=s.names[t.getMonth()]:"yy"===e?o=B(t.getFullYear()%100):"yyyy"===e?o=B(t.getFullYear(),4):"h"===e?o=t.getHours()%12||12:"hh"===e?o=B(t.getHours()%12||12):"H"===e?o=t.getHours():"HH"===e?o=B(t.getHours()):"m"===e?o=t.getMinutes():"mm"===e?o=B(t.getMinutes()):"s"===e?o=t.getSeconds():"ss"===e?o=B(t.getSeconds()):"f"===e?o=u.floor(t.getMilliseconds()/100):"ff"===e?((o=t.getMilliseconds())>99&&(o=u.floor(o/10)),o=B(o)):"fff"===e?o=B(t.getMilliseconds(),3):"tt"===e?o=t.getHours()<12?r.AM[0]:r.PM[0]:"zzz"===e?(l=(n=t.getTimezoneOffset())<0,o=u.abs(n/60).toString().split(".")[0],n=u.abs(n)-60*o,o=(l?"+":"-")+B(o),o+=":"+B(n)):"zz"!==e&&"z"!==e||(l=(o=t.getTimezoneOffset()/60)<0,o=u.abs(o).toString().split(".")[0],o=(l?"+":"-")+("zz"===e?B(o):o)),o!==i?o:e.slice(1,e.length-1)})}(t,o,p);if(typeof t===k)return function(t,e,o){var u,p,m,g,v,b,k,x,S,C,A,T,j,M,z,E,I,D,O,P,R,L=(o=y(o)).numberFormat,F=L[l],N=L.decimals,B=L.pattern[0],q=[],V=t<0,H=s,U=s,W=-1;if(t===i)return s;if(!isFinite(t))return t;if(!e)return o.name.length?t.toLocaleString():t.toString();if(v=n.exec(e)){if(m="p"===(e=v[1].toLowerCase()),((p="c"===e)||m)&&(F=(L=p?L.currency:L.percent)[l],N=L.decimals,u=L.symbol,B=L.pattern[V?0:1]),(g=v[2])&&(N=+g),"e"===e)return g?t.toExponential(N):t.toExponential();if(m&&(t*=100),V=(t=_(t,N))<0,b=(t=t.split(l))[0],k=t[1],V&&(b=b.substring(1)),U=w(b,0,b.length,L),k&&(U+=F+k),"n"===e&&!V)return U;for(t=s,S=0,C=B.length;S<C;S++)t+="n"===(A=B.charAt(S))?U:"$"===A||"%"===A?u:A;return t}if((e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1)&&(e=e.replace(r,function(t){var e=t.charAt(0).replace("\\",""),i=t.slice(1).replace(e,"");return q.push(i),f})),e=e.split(";"),V&&e[1])e=e[1],j=!0;else if(0===t){if(-1==(e=e[2]||e[0]).indexOf(h)&&-1==e.indexOf(d))return e}else e=e[0];if(O=e.indexOf("%"),p=-1!=(P=e.indexOf("$")),(m=-1!=O)&&(t*=100),p&&"\\"===e[P-1]&&(e=e.split("\\").join(""),p=!1),(p||m)&&(F=(L=p?L.currency:L.percent)[l],N=L.decimals,u=L.symbol),(T=e.indexOf(c)>-1)&&(e=e.replace(a,s)),M=e.indexOf(l),C=e.length,-1!=M&&(k=(k=(k=t.toString().split("e"))[1]?_(t,Math.abs(k[1])):k[0]).split(l)[1]||s,I=(E=e.lastIndexOf(d)-M)>-1,D=(z=e.lastIndexOf(h)-M)>-1,S=k.length,I||D||(C=(e=e.substring(0,M)+e.substring(M+1)).length,M=-1,S=0),I&&E>z?S=E:z>E&&(D&&S>z?S=z:I&&S<E&&(S=E))),t=_(t,S,V),z=e.indexOf(h),E=e.indexOf(d),W=-1==z&&-1!=E?E:-1!=z&&-1==E?z:z>E?E:z,z=e.lastIndexOf(h),E=e.lastIndexOf(d),R=-1==z&&-1!=E?E:-1!=z&&-1==E?z:z>E?z:E,W==C&&(R=W),-1!=W){for(b=(U=t.toString().split(l))[0],k=U[1]||s,x=b.length,k.length,V&&-1*t>=0&&(V=!1),t=e.substring(0,W),V&&!j&&(t+="-"),S=W;S<C;S++){if(A=e.charAt(S),-1==M){if(R-S<x){t+=b;break}}else if(-1!=E&&E<S&&(H=s),M-S<=x&&M-S>-1&&(t+=b,S=M),M===S){t+=(k?F:s)+k,S+=R-M+1;continue}A===d?(t+=A,H=A):A===h&&(t+=H)}if(T&&(t=w(t,W+(V&&!j?1:0),Math.max(R,x+W),L)),R>=W&&(t+=e.substring(R+1)),p||m){for(U=s,S=0,C=t.length;S<C;S++)U+="$"===(A=t.charAt(S))||"%"===A?u:A;t=U}if(C=q.length)for(S=0;S<C;S++)t=t.replace(f,q[S])}return t}(t,o,p)}return t!==i?t:""};o.format=function(t){var e=arguments;return t.replace(p,function(t,i,n){var o=e[parseInt(i,10)+1];return x(o,n?n.substring(1):"")})},o._extractFormat=function(t){return"{0:"===t.slice(0,3)&&(t=t.slice(3,t.length-1)),t},o._activeElement=function(){try{return document.activeElement}catch(t){return document.documentElement.activeElement}},o._round=_,o._outerWidth=function(e,i){return t(e).outerWidth(i||!1)||0},o._outerHeight=function(e,i){return t(e).outerHeight(i||!1)||0},o.toString=x}(),function(){var e=/\u00A0/g,n=/[eE][\-+]?[0-9]+/,r=/[+|\-]\d{1,2}/,a=/[+|\-]\d{1,2}:?\d{2}/,l=/^\/Date\((.*?)\)\/$/,c=/[+-]\d*/,h=[[],["G","g","F"],["D","d","y","m","T","t"]],d=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],f={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},p={}.toString;function m(t,e,i){return!(t>=e&&t<=i)}function g(t){return t.charAt(0)}function v(e){return t.map(e,g)}function b(t){for(var e=0,i=t.length,n=[];e<i;e++)n[e]=(t[e]+"").toLowerCase();return n}function y(t){var e,i={};for(e in t)i[e]=b(t[e]);return i}function w(t,e,n,s){if(!t)return null;var l,c,u,h,d,p,g,b,k,w,_,x,S=function(t){for(var i=0;e[R]===t;)i++,R++;return i>0&&(R-=1),i},C=function(e){var i=f[e]||new RegExp("^\\d{1,"+e+"}"),n=t.substr(L,e).match(i);return n?(n=n[0],L+=n.length,parseInt(n,10)):null},A=function(e,i){for(var n,o,r,a=0,s=e.length,l=0,c=0;a<s;a++)o=(n=e[a]).length,r=t.substr(L,o),i&&(r=r.toLowerCase()),r==n&&o>l&&(l=o,c=a);return l?(L+=l,c+1):null},T=function(){var i=!1;return t.charAt(L)===e[R]&&(L++,i=!0),i},j=n.calendars.standard,M=null,z=null,E=null,I=null,D=null,O=null,P=null,R=0,L=0,F=!1,N=new Date,B=j.twoDigitYearMax||2029,q=N.getFullYear();for(e||(e="d"),(h=j.patterns[e])&&(e=h),u=(e=e.split("")).length;R<u;R++)if(l=e[R],F)"'"===l?F=!1:T();else if("d"===l){if(c=S("d"),j._lowerDays||(j._lowerDays=y(j.days)),null!==E&&c>2)continue;if(null===(E=c<3?C(2):A(j._lowerDays[3==c?"namesAbbr":"names"],!0))||m(E,1,31))return null}else if("M"===l){if(c=S("M"),j._lowerMonths||(j._lowerMonths=y(j.months)),null===(z=c<3?C(2):A(j._lowerMonths[3==c?"namesAbbr":"names"],!0))||m(z,1,12))return null;z-=1}else if("y"===l){if(null===(M=C(c=S("y"))))return null;2==c&&("string"==typeof B&&(B=q+parseInt(B,10)),(M=q-q%100+M)>B&&(M-=100))}else if("h"===l){if(S("h"),12==(I=C(2))&&(I=0),null===I||m(I,0,11))return null}else if("H"===l){if(S("H"),null===(I=C(2))||m(I,0,23))return null}else if("m"===l){if(S("m"),null===(D=C(2))||m(D,0,59))return null}else if("s"===l){if(S("s"),null===(O=C(2))||m(O,0,59))return null}else if("f"===l){if(c=S("f"),x=t.substr(L,c).match(f[3]),null!==(P=C(c))&&(P=parseFloat("0."+x[0],10),P=o._round(P,3),P*=1e3),null===P||m(P,0,999))return null}else if("t"===l){if(c=S("t"),b=j.AM,k=j.PM,1===c&&(b=v(b),k=v(k)),!(d=A(k))&&!A(b))return null}else if("z"===l){if(p=!0,c=S("z"),"Z"===t.substr(L,1)){T();continue}if(!(g=t.substr(L,6).match(c>2?a:r)))return null;if(w=(g=g[0].split(":"))[0],!(_=g[1])&&w.length>3&&(L=w.length-2,_=w.substring(L),w=w.substring(0,L)),m(w=parseInt(w,10),-12,13))return null;if(c>2&&(_=g[0][0]+_,_=parseInt(_,10),isNaN(_)||m(_,-59,59)))return null}else if("'"===l)F=!0,T();else if(!T())return null;return s&&!/^\s*$/.test(t.substr(L))?null:(null!==M||null!==z||null!==E||null===I&&null===D&&!O?(null===M&&(M=q),null===E&&(E=1)):(M=q,z=N.getMonth(),E=N.getDate()),d&&I<12&&(I+=12),p?(w&&(I+=-w),_&&(D+=-_),t=new Date(Date.UTC(M,z,E,I,D,O,P))):function(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}(t=new Date(M,z,E,I,D,O,P),I),M<100&&t.setFullYear(M),t.getDate()!==E&&p===i?null:t)}function _(t,e,i,n){if("[object Date]"===p.call(t))return t;var r,a,f=0,m=null;if(t&&0===t.indexOf("/D")&&(m=l.exec(t)))return m=m[1],a=c.exec(m.substring(1)),m=new Date(parseInt(m,10)),a&&(a=function(t){var e="-"===t.substr(0,1)?-1:1;return t=t.substring(1),e*(t=60*parseInt(t.substr(0,2),10)+parseInt(t.substring(2),10))}(a[0]),m=o.timezone.apply(m,0),m=o.timezone.convert(m,0,-1*a)),m;for(i=o.getCulture(i),e||(e=function(t){var e,i,n,o=u.max(h.length,d.length),r=t.calendar.patterns,a=[];for(n=0;n<o;n++){for(e=h[n],i=0;i<e.length;i++)a.push(r[e[i]]);a=a.concat(d[n])}return a}(i)),r=(e=s(e)?e:[e]).length;f<r;f++)if(m=w(t,e[f],i,n))return m;return m}o.parseDate=function(t,e,i){return _(t,e,i,!1)},o.parseExactDate=function(t,e,i){return _(t,e,i,!0)},o.parseInt=function(t,e){var i=o.parseFloat(t,e);return i&&(i|=0),i},o.parseFloat=function(t,i,r){if(!t&&0!==t)return null;if(typeof t===k)return t;t=t.toString();var a,s,l=(i=o.getCulture(i)).numberFormat,c=l.percent,u=l.currency,h=u.symbol,d=c.symbol,f=t.indexOf("-");return n.test(t)?(t=parseFloat(t.replace(l["."],".")),isNaN(t)&&(t=null),t):f>0?null:(f=f>-1,t.indexOf(h)>-1||r&&r.toLowerCase().indexOf("c")>-1?(a=(l=u).pattern[0].replace("$",h).split("n"),t.indexOf(a[0])>-1&&t.indexOf(a[1])>-1&&(t=t.replace(a[0],"").replace(a[1],""),f=!0)):t.indexOf(d)>-1&&(s=!0,l=c,h=d),t=t.replace("-","").replace(h,"").replace(e," ").split(l[","].replace(e," ")).join("").replace(l["."],"."),t=parseFloat(t),isNaN(t)?t=null:f&&(t*=-1),t&&s&&(t/=100),t)}}(),function(){d._scrollbar=i,d.scrollbar=function(t){if(isNaN(d._scrollbar)||t){var e,i=document.createElement("div");return i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),d._scrollbar=e=i.offsetWidth-i.scrollWidth,document.body.removeChild(i),e}return d._scrollbar},d.isRtl=function(e){return t(e).closest(".k-rtl").length>0};var n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",d.tbodyInnerHtml=!0}catch(t){d.tbodyInnerHtml=!1}d.touch="ontouchstart"in e;var o=document.documentElement.style,r=d.transitions=!1,s=d.transforms=!1,l="HTMLElement"in e?HTMLElement.prototype:[];d.hasHW3D="WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix||"MozPerspective"in o||"msPerspective"in o,d.cssFlexbox="flexWrap"in o||"WebkitFlexWrap"in o||"msFlexWrap"in o,a(["Moz","webkit","O","ms"],function(){var t=this.toString(),e=typeof n.style[t+"Transition"]===b;if(e||typeof n.style[t+"Transform"]===b){var i=t.toLowerCase();return s={css:"ms"!=i?"-"+i+"-":"",prefix:t,event:"o"===i||"webkit"===i?i:""},e&&((r=s).event=r.event?r.event+"TransitionEnd":"transitionend"),!1}}),n=null,d.transforms=s,d.transitions=r,d.devicePixelRatio=e.devicePixelRatio===i?1:e.devicePixelRatio;try{d.screenWidth=e.outerWidth||e.screen?e.screen.availWidth:e.innerWidth,d.screenHeight=e.outerHeight||e.screen?e.screen.availHeight:e.innerHeight}catch(t){d.screenWidth=e.screen.availWidth,d.screenHeight=e.screen.availHeight}d.detectOS=function(t){var i,n=!1,o=[],r=!/mobile safari/i.test(t),a={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},l={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var u in a)if(a.hasOwnProperty(u)&&(o=t.match(a[u]))){if("windows"==u&&"plugins"in navigator)return!1;(n={}).device=u,n.tablet=H(u,l,!1),n.browser=H(t,c,"default"),n.name=H(u,s),n[n.name]=!0,n.majorVersion=o[2],n.minorVersion=o[3].replace("_","."),i=n.minorVersion.replace(".","").substr(0,2),n.flatVersion=n.majorVersion+i+new Array(3-(i.length<3?i.length:2)).join("0"),n.cordova=typeof e.PhoneGap!==x||typeof e.cordova!==x,n.appMode=e.navigator.standalone||/file|local|wmapp/.test(e.location.protocol)||n.cordova,n.android&&(d.devicePixelRatio<1.5&&n.flatVersion<400||r)&&(d.screenWidth>800||d.screenHeight>800)&&(n.tablet=u);break}return n};var c=d.mobileOS=d.detectOS(navigator.userAgent);d.wpDevicePixelRatio=c.wp?screen.width/320:0,d.hasNativeScrolling=!1,(c.ios||c.android&&c.majorVersion>2||c.wp)&&(d.hasNativeScrolling=c),d.delayedClick=function(){if(d.touch){if(c.ios)return!0;if(c.android)return!d.browser.chrome||!(d.browser.version<32)&&!(t("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},d.mouseAndTouchPresent=d.touch&&!(d.mobileOS.ios||d.mobileOS.android),d.detectBrowser=function(t){var e=!1,i=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var o in n)if(n.hasOwnProperty(o)&&(i=t.match(n[o]))){(e={})[o]=!0,e[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||i[2],10);break}return e},d.browser=d.detectBrowser(navigator.userAgent),d.detectClipboardAccess=function(){var t={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return d.browser.chrome&&(t.paste=!1,d.browser.version>=43&&(t.copy=!0,t.cut=!0)),t},d.clipboard=d.detectClipboardAccess(),d.zoomLevel=function(){try{var t=d.browser,i=0,n=document.documentElement;return t.msie&&11==t.version&&n.scrollHeight>n.clientHeight&&!d.touch&&(i=d.scrollbar()),d.touch?n.clientWidth/e.innerWidth:t.msie&&t.version>=10?((top||e).document.documentElement.offsetWidth+i)/(top||e).innerWidth:1}catch(t){return 1}},d.cssBorderSpacing=void 0!==o.borderSpacing&&!(d.browser.msie&&d.browser.version<8),function(e){var i="",n=t(document.documentElement),o=parseInt(e.version,10);e.msie?i="ie":e.mozilla?i="ff":e.safari?i="safari":e.webkit?i="webkit":e.opera?i="opera":e.edge&&(i="edge"),i&&(i="k-"+i+" k-"+i+o),d.mobileOS&&(i+=" k-mobile"),d.cssFlexbox||(i+=" k-no-flexbox"),n.addClass(i)}(d.browser),d.eventCapture=document.documentElement.addEventListener;var u=document.createElement("input");d.placeholder="placeholder"in u,d.propertyChangeEvent="onpropertychange"in u,d.input=function(){for(var t,e=["number","date","time","month","week","datetime","datetime-local"],i=e.length,n={},o=0;o<i;o++)t=e[o],u.setAttribute("type",t),u.value="test",n[t.replace("-","")]="text"!==u.type&&"test"!==u.value;return n}(),u.style.cssText="float:left;",d.cssFloat=!!u.style.cssFloat,u=null,d.stableSort=function(){for(var t=[{index:0,field:"b"}],e=1;e<513;e++)t.push({index:e,field:"a"});return t.sort(function(t,e){return t.field>e.field?1:t.field<e.field?-1:0}),1===t[0].index}(),d.matchesSelector=l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.matchesSelector||l.matches||function(e){for(var i=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:t(e),n=i.length;n--;)if(i[n]==this)return!0;return!1},d.pushState=e.history&&e.history.pushState;var h=document.documentMode;d.hashChange="onhashchange"in e&&!(d.browser.msie&&(!h||h<=8)),d.customElements="registerElement"in e.document;var f=d.browser.chrome,p=d.browser.mozilla;d.msPointers=!f&&e.MSPointerEvent,d.pointers=!f&&!p&&e.PointerEvent,d.kineticScrollNeeded=c&&(d.touch||d.msPointers||d.pointers)}();var G={};function Q(t,e,i,n){return typeof t===b&&(j(e)&&(n=e,e=400,i=!1),j(i)&&(n=i,i=!1),typeof e===_&&(i=e,e=400),t={effects:t,duration:e,reverse:i,complete:n}),r({effects:{},duration:400,reverse:!1,init:c,teardown:c,hide:!1},t,{completeCallback:t.complete,complete:c})}function Y(e,i,n,o,r){for(var a,s=0,l=e.length;s<l;s++)(a=t(e[s])).queue(function(){G.promise(a,Q(i,n,o,r))});return e}t.extend(G,{enabled:!0,Element:function(e){this.element=t(e)},promise:function(t,e){t.is(":visible")||t.css({display:t.data("olddisplay")||"block"}).css("display"),e.hide&&t.data("olddisplay",t.css("display")).hide(),e.init&&e.init(),e.completeCallback&&e.completeCallback(t),t.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),G.promiseShim=G.promise,"kendoAnimate"in t.fn||r(t.fn,{kendoStop:function(t,e){return this.stop(t,e)},kendoAnimate:function(t,e,i,n){return Y(this,t,e,i,n)},kendoAddClass:function(t,e){return o.toggleClass(this,t,e,!0)},kendoRemoveClass:function(t,e){return o.toggleClass(this,t,e,!1)},kendoToggleClass:function(t,e,i){return o.toggleClass(this,t,e,i)}});var K=/&/g,Z=/</g,X=/"/g,J=/'/g,$=/>/g,tt=function(t){return t.target};d.touch&&(tt=function(t){var e="originalEvent"in t?t.originalEvent.changedTouches:"changedTouches"in t?t.changedTouches:null;return e?document.elementFromPoint(e[0].clientX,e[0].clientY):t.target},a(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,i){t.fn[i]=function(t){return this.bind(i,t)}})),d.touch?d.mobileOS?(d.mousedown="touchstart",d.mouseup="touchend",d.mousemove="touchmove",d.mousecancel="touchcancel",d.click="touchend",d.resize="orientationchange"):(d.mousedown="mousedown touchstart",d.mouseup="mouseup touchend",d.mousemove="mousemove touchmove",d.mousecancel="mouseleave touchcancel",d.click="click",d.resize="resize"):d.pointers?(d.mousemove="pointermove",d.mousedown="pointerdown",d.mouseup="pointerup",d.mousecancel="pointercancel",d.click="pointerup",d.resize="orientationchange resize"):d.msPointers?(d.mousemove="MSPointerMove",d.mousedown="MSPointerDown",d.mouseup="MSPointerUp",d.mousecancel="MSPointerCancel",d.click="MSPointerUp",d.resize="orientationchange resize"):(d.mousemove="mousemove",d.mousedown="mousedown",d.mouseup="mouseup",d.mousecancel="mouseleave",d.click="click",d.resize="resize");var et=/^([a-z]+:)?\/\//i;r(o,{widgets:[],_widgetRegisteredCallbacks:[],ui:o.ui||{},fx:o.fx||function(t){return new o.effects.Element(t)},effects:o.effects||G,mobile:o.mobile||{},data:o.data||{},dataviz:o.dataviz||{},drawing:o.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:o.support||d,animate:o.animate||Y,ns:"",attr:function(t){return"data-"+o.ns+t},getShadows:function(t){var e=t.css(o.support.transitions.css+"box-shadow")||t.css("box-shadow"),i=e&&e.match(m)||[0,0,0,0,0],n=u.max(+i[3],+(i[4]||0));return{left:-i[1]+n,right:+i[1]+n,bottom:+i[2]+n}},wrap:function(e,i){var n,r=d.browser,a=o._outerWidth,s=o._outerHeight;if(e.parent().hasClass("k-animation-container")){var l=e.parent(".k-animation-container"),c=l[0].style;l.is(":hidden")&&l.css({display:"",position:""}),(n=f.test(c.width)||f.test(c.height))||l.css({width:i?a(e)+1:a(e),height:s(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var h=e[0].style.width,p=e[0].style.height,m=f.test(h),g=f.test(p);n=m||g,!m&&(!i||i&&h)&&(h=i?a(e)+1:a(e)),!g&&(!i||i&&p)&&(p=s(e)),e.wrap(t("<div/>").addClass("k-animation-container").css({width:h,height:p})),n&&e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return r.msie&&u.floor(r.version)<=7&&(e.css({zoom:1}),e.children(".k-menu").width(e.width())),e.parent()},deepExtend:q,getComputedStyles:W,webComponents:o.webComponents||[],isScrollable:function(t){if(t&&t.className&&"string"==typeof t.className&&t.className.indexOf("k-auto-scrollable")>-1)return!0;var e=W(t,["overflow"]).overflow;return"auto"==e||"scroll"==e},scrollLeft:function(e,n){var o,r=d.browser.webkit,a=d.browser.mozilla,s=e instanceof t?e[0]:e;if(e){if(o=d.isRtl(e),n===i)return o&&r?s.scrollWidth-s.clientWidth-s.scrollLeft:Math.abs(s.scrollLeft);s.scrollLeft=o&&r?s.scrollWidth-s.clientWidth-n:o&&a?-n:n}},size:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&"toJSON"!=e&&i++;return i},toCamelCase:U,toHyphens:function(t){return t.replace(/([a-z][A-Z])/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()})},getOffset:o.getOffset||function(t,i,n){i||(i="offset");var o=t[i](),r={top:o.top,right:o.right,bottom:o.bottom,left:o.left};if(d.browser.msie&&(d.pointers||d.msPointers)&&!n){var a=d.isRtl(t)?1:-1;r.top-=e.pageYOffset-document.documentElement.scrollTop,r.left-=e.pageXOffset+a*document.documentElement.scrollLeft}return r},parseEffects:o.parseEffects||function(t){var e={};return a("string"==typeof t?t.split(" "):t,function(t){e[t]=this}),e},toggleClass:o.toggleClass||function(t,e,i,n){return e&&(e=e.split(" "),a(e,function(e,i){t.toggleClass(i,n)})),t},directions:o.directions||{left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},Observable:E,Class:T,Template:n,template:l(n.compile,n),render:l(n.render,n),stringify:l(h.stringify,h),eventTarget:tt,htmlEncode:function(t){return(""+t).replace(K,"&amp;").replace(Z,"&lt;").replace($,"&gt;").replace(X,"&quot;").replace(J,"&#39;")},isLocalUrl:function(t){return t&&!et.test(t)},expr:function(t,e,i){return t=t||"",typeof e==b&&(i=e,e=!1),i=i||"d",t&&"["!==t.charAt(0)&&(t="."+t),t=e?(t=function(t,e){var i,n,o,r,a=e||"d",s=1;for(n=0,o=t.length;n<o;n++)""!==(r=t[n])&&(0!==(i=r.indexOf("["))&&(-1==i?r="."+r:(s++,r="."+r.substring(0,i)+" || {})"+r.substring(i))),s++,a+=r+(n<o-1?" || {})":")"));return new Array(s).join("(")+a}((t=(t=t.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'")).split("."),i)).replace(/_\$DOT\$_/g,"."):i+t},getter:function(t,e){var i=t+e;return S[i]=S[i]||new Function("d","return "+o.expr(t,e))},setter:function(t){return C[t]=C[t]||new Function("d,value",o.expr(t)+"=value")},accessor:function(t){return{get:o.getter(t),set:o.setter(t)}},guid:function(){var t,e,i="";for(t=0;t<32;t++)e=16*u.random()|0,8!=t&&12!=t&&16!=t&&20!=t||(i+="-"),i+=(12==t?4:16==t?3&e|8:e).toString(16);return i},roleSelector:function(t){return t.replace(/(\S+)/g,"["+o.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(t){var e=t.split(" ");if(e)for(var i=0;i<e.length;i++)"view"!=e[i]&&(e[i]=e[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return e.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(t){return/^(label|input|textarea|select)$/i.test(t.target.tagName)},onWidgetRegistered:function(t){for(var e=0,i=o.widgets.length;e<i;e++)t(o.widgets[e]);o._widgetRegisteredCallbacks.push(t)},logToConsole:function(t,i){var n=e.console;!o.suppressLog&&void 0!==n&&n.log&&n[i||"log"](t)}});var it=E.extend({init:function(t,e){this.element=o.jQuery(t).handler(this),this.angular("init",e),E.fn.init.call(this);var i=e?e.dataSource:null;i&&(e=r({},e,{dataSource:{}})),e=this.options=r(!0,{},this.options,e),i&&(e.dataSource=i),this.element.attr(o.attr("role"))||this.element.attr(o.attr("role"),(e.name||"").toLowerCase()),this.element.data("kendo"+e.prefix+e.name,this),this.bind(this.events,e)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(t){t=t||this.wrapper;var e=this.element,i=t.attr("tabindex")||e.attr("tabindex");e.removeAttr("tabindex"),t.attr("tabindex",isNaN(i)?0:i)},setOptions:function(e){this._setEvents(e),t.extend(this.options,e)},_setEvents:function(t){for(var e,i=0,n=this.events.length;i<n;i++)e=this.events[i],this.options[e]&&t[e]&&this.unbind(e,this.options[e]);this.bind(this.events,t)},resize:function(t){var e=this.getSize(),i=this._size;(t||(e.width>0||e.height>0)&&(!i||e.width!==i.width||e.height!==i.height))&&(this._size=e,this._resize(e,t),this.trigger("resize",e))},getSize:function(){return o.dimensions(this.element)},size:function(t){if(!t)return this.getSize();this.setSize(t)},setSize:t.noop,_resize:t.noop,destroy:function(){this.element.removeData("kendo"+this.options.prefix+this.options.name),this.element.removeData("handler"),this.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(t){this._muteRebind=!0,t.call(this),this._muteRebind=!1}}),nt=it.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var i=this;i.angular(e,function(){return{elements:i.items(),data:t.map(i.dataItems(),function(t){return{dataItem:t}})}})}});o.dimensions=function(t,e){var i=t[0];return e&&t.css(e),{width:i.offsetWidth,height:i.offsetHeight}},o.notify=c;var ot=/template$/i,rt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,at=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,st=/([A-Z])/g;function lt(t,e){var n;return 0===e.indexOf("data")&&(e=(e=e.substring(4)).charAt(0).toLowerCase()+e.substring(1)),e=e.replace(st,"-$1"),null===(n=t.getAttribute("data-"+o.ns+e))?n=i:"null"===n?n=null:"true"===n?n=!0:"false"===n?n=!1:g.test(n)&&"mask"!=e?n=parseFloat(n):rt.test(n)&&!at.test(n)&&(n=new Function("return ("+n+")")()),n}function ct(e,n,r){var a,s,l={};for(a in n)(s=lt(e,a))!==i&&(ot.test(a)&&("string"==typeof s?t("#"+s).length?s=o.template(t("#"+s).html()):r&&(s=o.template(r[s])):s=e.getAttribute(a)),l[a]=s);return l}function ut(e,i){return t.contains(e,i)?-1:1}function ht(){var e=t(this);return t.inArray(e.attr("data-"+o.ns+"role"),["slider","rangeslider"])>-1||e.is(":visible")}o.initWidget=function(n,r,a){var s,l,c,u,h,d,f,p,m,g;if(a?a.roles&&(a=a.roles):a=o.ui.roles,d=(n=n.nodeType?n:n[0]).getAttribute("data-"+o.ns+"role")){c=(m=-1===d.indexOf("."))?a[d]:o.getter(d)(e);var v=t(n).data(),k=c?"kendo"+c.fn.options.prefix+c.fn.options.name:"";for(var y in g=m?new RegExp("^kendo.*"+d+"$","i"):new RegExp("^"+k+"$","i"),v)if(y.match(g)){if(y!==k)return v[y];s=v[y]}if(c){for(p=lt(n,"dataSource"),r=t.extend({},ct(n,c.fn.options),r),p&&(r.dataSource=typeof p===b?o.getter(p)(e):p),u=0,h=c.fn.events.length;u<h;u++)(f=lt(n,l=c.fn.events[u]))!==i&&(r[l]=o.getter(f)(e));return s?t.isEmptyObject(r)||s.setOptions(r):s=new c(n,r),s}}},o.rolesFromNamespaces=function(t){var e,i,n=[];for(t[0]||(t=[o.ui,o.dataviz.ui]),e=0,i=t.length;e<i;e++)n[e]=t[e].roles;return r.apply(null,[{}].concat(n.reverse()))},o.init=function(e){var i=o.rolesFromNamespaces(A.call(arguments,1));t(e).find("[data-"+o.ns+"role]").addBack().each(function(){o.initWidget(this,{},i)})},o.destroy=function(e){t(e).find("[data-"+o.ns+"role]").addBack().each(function(){var e=t(this).data();for(var i in e)0===i.indexOf("kendo")&&typeof e[i].destroy===v&&e[i].destroy()})},o.resize=function(e,i){var n=t(e).find("[data-"+o.ns+"role]").addBack().filter(ht);if(n.length){var r=t.makeArray(n);r.sort(ut),t.each(r,function(){var e=o.widgetInstance(t(this));e&&e.resize(i)})}},o.parseOptions=ct,r(o.ui,{Widget:it,DataBoundWidget:nt,roles:{},progress:function(e,i,n){var r,a,s,l,c,u=e.find(".k-loading-mask"),h=o.support,d=h.browser;c=(n=t.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:!1},n)).opacity?"k-loading-mask k-opaque":"k-loading-mask",i?u.length||(a=(r=h.isRtl(e))?"right":"left",l=e.scrollLeft(),s=d.webkit&&r?e[0].scrollWidth-e.width()-2*l:0,u=t(o.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",c,o.ui.progress.messages.loading)).width(n.width).height(n.height).css("top",n.top).css(a,Math.abs(l)+s).prependTo(e)):u&&u.remove()},plugin:function(e,n,r){var a,s=e.fn.options.name;n=n||o.ui,r=r||"",n[s]=e,n.roles[s.toLowerCase()]=e,a="getKendo"+r+s;var l={name:s="kendo"+r+s,widget:e,prefix:r||""};o.widgets.push(l);for(var c=0,u=o._widgetRegisteredCallbacks.length;c<u;c++)o._widgetRegisteredCallbacks[c](l);t.fn[s]=function(n){var r,a=this;return typeof n===b?(r=A.call(arguments,1),this.each(function(){var e,l,c=t.data(this,s);if(!c)throw new Error(o.format("Cannot call method '{0}' of {1} before it is initialized",n,s));if(typeof(e=c[n])!==v)throw new Error(o.format("Cannot find method '{0}' of {1}",n,s));if((l=e.apply(c,r))!==i)return a=l,!1})):this.each(function(){return new e(this,n)}),a},t.fn[s].widget=e,t.fn[a]=function(){return this.data(s)}}}),o.ui.progress.messages={loading:"Loading..."};var dt={bind:function(){return this},nullObject:!0,options:{}},ft=it.extend({init:function(t,e){it.fn.init.call(this,t,e),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){it.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var t=this.element.closest(o.roleSelector("view splitview modalview drawer"));return o.widgetInstance(t,o.mobile.ui)||dt},viewHasNativeScrolling:function(){var t=this.view();return t&&t.options.useNativeScrolling},container:function(){var t=this.element.closest(o.roleSelector("view layout modalview drawer splitview"));return o.widgetInstance(t.eq(0),o.mobile.ui)||dt}});function pt(e,i){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||i)&&function(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}(e)}r(o.mobile,{init:function(t){o.init(t,o.mobile.ui,o.ui,o.dataviz.ui)},appLevelNativeScrolling:function(){return o.mobile.application&&o.mobile.application.options&&o.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:ft,DataBoundWidget:nt.extend(ft.prototype),roles:{},plugin:function(t){o.ui.plugin(t,o.mobile.ui,"Mobile")}}}),q(o.dataviz,{init:function(t){o.init(t,o.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(t){o.ui.plugin(t,o.dataviz.ui)}},roles:{}}),o.touchScroller=function(e,i){return i||(i={}),i.useNative=!0,t(e).map(function(e,n){return n=t(n),!(!d.kineticScrollNeeded||!o.mobile.ui.Scroller||n.data("kendoMobileScroller"))&&(n.kendoMobileScroller(i),n.data("kendoMobileScroller"))})[0]},o.preventDefault=function(t){t.preventDefault()},o.widgetInstance=function(t,i){var n,r,a=t.data(o.ns+"role"),s=[];if(a){if("content"===a&&(a="scroller"),"editortoolbar"===a){var l=t.data("kendoEditorToolbar");if(l)return l}if(i)if(i[0])for(n=0,r=i.length;n<r;n++)s.push(i[n].roles[a]);else s.push(i.roles[a]);else s=[o.ui.roles[a],o.dataviz.ui.roles[a],o.mobile.ui.roles[a]];for(a.indexOf(".")>=0&&(s=[o.getter(a)(e)]),n=0,r=s.length;n<r;n++){var c=s[n];if(c){var u=t.data("kendo"+c.fn.options.prefix+c.fn.options.name);if(u)return u}}}},o.onResize=function(i){var n=i;return d.mobileOS.android&&(n=function(){setTimeout(i,600)}),t(e).on(d.resize,n),n},o.unbindResize=function(i){t(e).off(d.resize,i)},o.attrValue=function(t,e){return t.data(o.ns+e)},o.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},t.extend(t.expr[":"],{kendoFocusable:function(e){var i=t.attr(e,"tabindex");return pt(e,!isNaN(i)&&i>-1)}});var mt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],gt={setupMouseMute:function(){var e=0,i=mt.length,n=document.documentElement;if(!gt.mouseTrap&&d.eventCapture){gt.mouseTrap=!0,gt.bustClick=!1,gt.captureMouse=!1;for(var o=function(e){gt.captureMouse&&("click"===e.type?gt.bustClick&&!t(e.target).is("label, input, [data-rel=external]")&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};e<i;e++)n.addEventListener(mt[e],o,!0)}},muteMouse:function(t){gt.captureMouse=!0,t.data.bustClick&&(gt.bustClick=!0),clearTimeout(gt.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(gt.mouseTrapTimeoutID),gt.mouseTrapTimeoutID=setTimeout(function(){gt.captureMouse=!1,gt.bustClick=!1},400)}},vt={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};d.touch&&(d.mobileOS.ios||d.mobileOS.android)?vt={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:d.pointers?vt={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:d.msPointers&&(vt={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!d.msPointers||"onmspointerenter"in e||t.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,i){t.event.special[e]={delegateType:i,bindType:i,handle:function(e){var n,o=e.relatedTarget,r=e.handleObj;return o&&(o===this||t.contains(this,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=i),n}}});var bt=function(t){return vt[t]||t},kt=/([^ ]+)/g;o.applyEventMap=function(t,e){return t=t.replace(kt,bt),e&&(t=t.replace(kt,"$1."+e)),t};var yt=t.fn.on;function wt(t,e){return new wt.fn.init(t,e)}r(!0,wt,t),wt.fn=wt.prototype=new t,wt.fn.constructor=wt,wt.fn.init=function(e,i){return i&&i instanceof t&&!(i instanceof wt)&&(i=wt(i)),t.fn.init.call(this,e,i,_t)},wt.fn.init.prototype=wt.fn;var _t=wt(document);r(wt.fn,{handler:function(t){return this.data("handler",t),this},autoApplyNS:function(t){return this.data("kendoNS",t||o.guid()),this},on:function(){var t=this.data("kendoNS");if(1===arguments.length)return yt.call(this,arguments[0]);var e=this,i=A.call(arguments);typeof i[i.length-1]===x&&i.pop();var n=i[i.length-1],r=o.applyEventMap(i[0],t);if(d.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement){gt.setupMouseMute();var a=2===i.length?null:i[1],s=r.indexOf("click")>-1&&r.indexOf("touchend")>-1;yt.call(this,{touchstart:gt.muteMouse,touchend:gt.unMuteMouse},a,{bustClick:s})}return typeof n===b&&(e=this.data("handler"),n=e[n],i[i.length-1]=function(t){n.call(e,t)}),i[0]=r,yt.apply(this,i),this},kendoDestroy:function(t){return(t=t||this.data("kendoNS"))&&this.off("."+t),this}}),o.jQuery=wt,o.eventMap=vt,o.timezone=function(){var t={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},e={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function i(i,n){var o,r,a,s=n[3],l=n[4],c=n[5],u=n[8];return u||(n[8]=u={}),u[i]?u[i]:(isNaN(l)?0===l.indexOf("last")?(o=new Date(Date.UTC(i,t[s]+1,1,c[0]-24,c[1],c[2],0)),r=e[l.substr(4,3)],a=o.getUTCDay(),o.setUTCDate(o.getUTCDate()+r-a-(r>a?7:0))):l.indexOf(">=")>=0&&(o=new Date(Date.UTC(i,t[s],l.substr(5),c[0],c[1],c[2],0)),r=e[l.substr(0,3)],a=o.getUTCDay(),o.setUTCDate(o.getUTCDate()+r-a+(r<a?7:0))):o=new Date(Date.UTC(i,t[s],l,c[0],c[1],c[2],0)),u[i]=o)}function n(t,e,n,o){typeof t!=k&&(t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));var r=function(t,e,i){var n=e[i];if("string"==typeof n&&(n=e[n]),!n)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var o=n.length-1;o>=0;o--){var r=n[o][3];if(r&&t>r)break}var a=n[o+1];if(!a)throw new Error('Timezone "'+i+'" not found on '+t+".");return a}(t,e,o);return{zone:r,rule:function(t,e,n){if(!(e=e[n])){var o=n.split(":"),r=0;return o.length>1&&(r=60*o[0]+Number(o[1])),[-1e6,"max","-","Jan",1,[0,0,0],r,"-"]}var a=new Date(t).getUTCFullYear();(e=jQuery.grep(e,function(t){var e=t[0],i=t[1];return e<=a&&(i>=a||e==a&&"only"==i||"max"==i)})).push(t),e.sort(function(t,e){return"number"!=typeof t&&(t=Number(i(a,t))),"number"!=typeof e&&(e=Number(i(a,e))),t-e});var s=e[jQuery.inArray(t,e)-1]||e[e.length-1];return isNaN(s)?s:null}(t,n,r[1])}}return{zones:{},rules:{},offset:function(t,e){if("Etc/UTC"==e||"Etc/GMT"==e)return 0;var i=n(t,this.zones,this.rules,e),r=i.zone,a=i.rule;return o.parseFloat(a?r[0]-a[6]:r[0])},convert:function(t,e,i){var n,o=i;typeof e==b&&(e=this.offset(t,e)),typeof i==b&&(i=this.offset(t,i));var r=t.getTimezoneOffset(),a=(t=new Date(t.getTime()+6e4*(e-i))).getTimezoneOffset();return typeof o==b&&(o=this.offset(t,o)),n=a-r+(i-o),new Date(t.getTime()+6e4*n)},apply:function(t,e){return this.convert(t,t.getTimezoneOffset(),e)},remove:function(t,e){return this.convert(t,e,t.getTimezoneOffset())},abbr:function(t,e){var i=n(t,this.zones,this.rules,e),o=i.zone,r=i.rule,a=o[2];return a.indexOf("/")>=0?a.split("/")[r&&+r[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",r&&"-"!=r[7]?r[7]:""):a},toLocalDate:function(t){return this.apply(new Date(t),"Etc/UTC")}}}(),o.date=function(){var t=6e4,e=864e5;function n(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function r(t,e,i){var o=t.getHours();i=i||1,e=(e-t.getDay()+7*i)%7,t.setDate(t.getDate()+e),n(t,o)}function a(t,e,i){return r(t=new Date(t),e,i),t}function s(t){return new Date(t.getFullYear(),t.getMonth(),1)}function l(t,i){var n=new Date(t.getFullYear(),0,1,-6),o=function(t,e){return 1!==e?h(a(t,e,-1),4):h(t,4-(t.getDay()||7))}(t,i).getTime()-n.getTime(),r=Math.floor(o/e);return 1+Math.floor(r/7)}function c(t){return n(t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),0),t}function u(t){return p(t).getTime()-c(p(t))}function h(t,i){var o=t.getHours();return d(t=new Date(t),i*e),n(t,o),t}function d(e,i,n){var o,r=e.getTimezoneOffset();e.setTime(e.getTime()+i),n||(o=e.getTimezoneOffset()-r,e.setTime(e.getTime()+o*t))}function f(){return c(new Date)}function p(t){var e=new Date(1980,1,1,0,0,0);return t&&e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}return{adjustDST:n,dayOfWeek:a,setDayOfWeek:r,getDate:c,isInDateRange:function(t,i,n){var o,r=i.getTime(),a=n.getTime();return r>=a&&(a+=e),(o=t.getTime())>=r&&o<=a},isInTimeRange:function(t,i,n){var o,r=u(i),a=u(n);return!t||r==a||(i>=n&&(n+=e),r>(o=u(t))&&(o+=e),a<r&&(a+=e),o>=r&&o<=a)},isToday:function(t){return c(t).getTime()==f().getTime()},nextDay:function(t){return h(t,1)},previousDay:function(t){return h(t,-1)},toUtcTime:function(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},MS_PER_DAY:e,MS_PER_HOUR:60*t,MS_PER_MINUTE:t,setTime:d,setHours:function(t,e){return n(t=new Date(o.date.getDate(t).getTime()+o.date.getMilliseconds(e)),e.getHours()),t},addDays:h,today:f,toInvariantTime:p,firstDayOfMonth:s,lastDayOfMonth:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0),i=s(t),n=Math.abs(e.getTimezoneOffset()-i.getTimezoneOffset());return n&&e.setHours(i.getHours()+n/60),e},weekInYear:function(t,e){e===i&&(e=o.culture().calendar.firstDay);var n=h(t,-7),r=h(t,7),a=l(t,e);return 0===a?l(n,e)+1:53===a&&l(r,e)>1?1:a},getMilliseconds:u}}(),o.stripWhitespace=function(t){if(document.createNodeIterator)for(var e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);e.nextNode();)e.referenceNode&&!e.referenceNode.textContent.trim()&&e.referenceNode.parentNode.removeChild(e.referenceNode);else for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];3!=n.nodeType||/\S/.test(n.nodeValue)||(t.removeChild(n),i--),1==n.nodeType&&o.stripWhitespace(n)}};var xt=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};o.animationFrame=function(t){xt.call(e,t)};var St=[];o.queueAnimation=function(t){St[St.length]=t,1===St.length&&o.runNextAnimation()},o.runNextAnimation=function(){o.animationFrame(function(){St[0]&&(St.shift()(),St[0]&&o.runNextAnimation())})},o.parseQueryStringParams=function(t){for(var e={},i=(t.split("?")[1]||"").split(/&|=/),n=i.length,o=0;o<n;o+=2)""!==i[o]&&(e[decodeURIComponent(i[o])]=decodeURIComponent(i[o+1]));return e},o.elementUnderCursor=function(t){if(void 0!==t.x.client)return document.elementFromPoint(t.x.client,t.y.client)},o.wheelDeltaY=function(t){var e,n=t.originalEvent,o=n.wheelDeltaY;return n.wheelDelta?(o===i||o)&&(e=n.wheelDelta):n.detail&&n.axis===n.VERTICAL_AXIS&&(e=10*-n.detail),e},o.throttle=function(t,e){var i,n=0;if(!e||e<=0)return t;var o=function(){var o=this,r=+new Date-n,a=arguments;function s(){t.apply(o,a),n=+new Date}if(!n)return s();i&&clearTimeout(i),r>e?s():i=setTimeout(s,e-r)};return o.cancel=function(){clearTimeout(i)},o},o.caret=function(e,n,o){var r,a=n!==i;if(o===i&&(o=n),e[0]&&(e=e[0]),!a||!e.disabled){try{if(e.selectionStart!==i)if(a){e.focus();var s=d.mobileOS;s.wp||s.android?setTimeout(function(){e.setSelectionRange(n,o)},0):e.setSelectionRange(n,o)}else n=[e.selectionStart,e.selectionEnd];else if(document.selection)if(t(e).is(":visible")&&e.focus(),r=e.createTextRange(),a)r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",o-n),r.select();else{var l,c,u=r.duplicate();r.moveToBookmark(document.selection.createRange().getBookmark()),u.setEndPoint("EndToStart",r),c=(l=u.text.length)+r.text.length,n=[l,c]}}catch(t){n=[]}return n}},o.compileMobileDirective=function(t,i){var n=e.angular;return t.attr("data-"+o.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),n.element(t).injector().invoke(["$compile",function(e){e(t)(i),/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),o.widgetInstance(t,o.mobile.ui)},o.antiForgeryTokens=function(){var e={},n=t("meta[name=csrf-token],meta[name=_csrf]").attr("content"),o=t("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return t("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value}),o!==i&&n!==i&&(e[o]=n),e},o.cycleForm=function(t){var e=t.find("input, .k-widget").first(),i=t.find("button, .k-button").last();function n(t){var e=o.widgetInstance(t);e&&e.focus?e.focus():t.focus()}i.on("keydown",function(t){t.keyCode!=o.keys.TAB||t.shiftKey||(t.preventDefault(),n(e))}),e.on("keydown",function(t){t.keyCode==o.keys.TAB&&t.shiftKey&&(t.preventDefault(),n(i))})},o.focusElement=function(i){var n=[],r=i.parentsUntil("body").filter(function(t,e){return"visible"!==o.getComputedStyles(e,["overflow"]).overflow}).add(e);r.each(function(e,i){n[e]=t(i).scrollTop()});try{i[0].setActive()}catch(t){i[0].focus()}r.each(function(e,i){t(i).scrollTop(n[e])})},function(){function i(e,i,n,r){var a=t("<form>").attr({action:n,method:"POST",target:r}),s=o.antiForgeryTokens();s.fileName=i;var l=e.split(";base64,");for(var c in s.contentType=l[0].replace("data:",""),s.base64=l[1],s)s.hasOwnProperty(c)&&t("<input>").attr({value:s[c],name:c,type:"hidden"}).appendTo(a);a.appendTo("body").submit().remove()}var n=document.createElement("a"),r="download"in n&&!o.support.browser.edge;function a(t,e){var i=t;if("string"==typeof t){for(var n=t.split(";base64,"),o=n[0],r=atob(n[1]),a=new Uint8Array(r.length),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);i=new Blob([a.buffer],{type:o})}navigator.msSaveBlob(i,e)}function s(t,i){e.Blob&&t instanceof Blob&&(t=URL.createObjectURL(t)),n.download=i,n.href=t;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o),setTimeout(function(){URL.revokeObjectURL(t)})}o.saveAs=function(t){var e=i;t.forceProxy||(r?e=s:navigator.msSaveBlob&&(e=a)),e(t.dataURI,t.fileName,t.proxyURL,t.proxyTarget)}}(),o.proxyModelSetters=function(t){var e={};return Object.keys(t||{}).forEach(function(i){Object.defineProperty(e,i,{get:function(){return t[i]},set:function(e){t[i]=e,t.dirty=!0}})}),e}}(jQuery,window),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e){t.exports=jQuery},function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return s});var n=i(3);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,i){var o=t,a=/\s+/g;if("[object Object]"!==Object.prototype.toString.call(o))throw new TypeError("`entry` should be an object");o.error instanceof Error&&(r(o.message)===n.a.UNDEFINED&&(o.message=o.error.message),o.error.originalError instanceof window.Error?(o.originalMessage=o.error.originalError.message,r(o.error.originalError.stack)===n.a.STRING&&(o.stack=o.error.originalError.stack.split("\n").join(", ").replace(a," "))):r(o.error.stack)===n.a.STRING&&(o.stack=o.error.stack.split("\n").join(", ").replace(a," "))),o.module=r(e)===n.a.STRING?e:n.a.UNDEFINED,o.level=Object.keys(s.levels).indexOf(i)>-1?i:s.levels.default;var l=document.getElementById("trace");l instanceof HTMLInputElement&&"hidden"===l.type&&(o.trace=l.value);var c="".concat(window.location.protocol,"//").concat(window.location.host).length;o.url=window.location.href.substr(c),window.location.search||window.location.hash?window.jQuery&&"function"==typeof window.jQuery.deparam?o.query={search:window.jQuery.deparam(window.location.search.substr(1)),hash:window.jQuery.deparam(window.location.hash)}:o.query={search:window.location.search.substr(1),hash:window.location.hash}:o.query={}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._module=e}return function(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}(t,[{key:"log",value:function(e,i,o){var s=String(e).toLowerCase();if(-1===Object.keys(t.levels).indexOf(s))throw new TypeError("`level` should be one of `debug`, `info`, `warn`, `error` or `crit`");if(window.app&&window.app.level>t.levels[s].value)return!1;var l=function(t,e){if(r(t)!==n.a.STRING&&r(e)!==n.a.UNDEFINED)throw new TypeError("Unexpected data when message is not a string");var i={};return r(t)===n.a.STRING?i={message:t,data:e}:t instanceof window.Error?i={message:t.message,error:t}:r(window.ErrorEvent)===n.a.FUNCTION&&t instanceof window.ErrorEvent?i={message:t.message,data:{filename:t.filename,lineno:t.lineno,colno:t.colno},error:t.error}:"[object Object]"===Object.prototype.toString.call(t)?(i=JSON.parse(JSON.stringify(t)),t.error instanceof Error&&(i.error=t.error)):i={message:"Unknown error",data:t},i}(i,o);return a(l,this._module,s),window.app&&window.app.DEBUG&&function(t){var e=": ",i=window.console;if(i&&r(i.log)===n.a.FUNCTION){var o="[".concat(t.level.toUpperCase()).concat(4===t.level.length?" ":"","]"),a=!0;if(t.message&&(o+="".concat(a?" ":"; ","message").concat(e).concat(t.message),a=!1),t.originalMessage&&(o+="".concat(a?" ":"; ","originalMessage").concat(e).concat(t.originalMessage),a=!1),t.module&&(o+="".concat(a?" ":"; ","module").concat(e).concat(t.module),a=!1),t.method&&(o+="".concat(a?" ":"; ","method").concat(e).concat(t.method),a=!1),t.stack&&(o+="".concat(a?" ":"; ","stack").concat(e).concat(t.stack),a=!1),t.data)try{o+="".concat(a?" ":"; ","data").concat(e).concat(JSON.stringify(t.data))}catch(i){r(t.data.toString)===n.a.FUNCTION&&(o+="".concat(a?" ":"; ","data").concat(e).concat(t.data.toString()))}t.trace&&(o+="".concat(a?" ":"; ","trace").concat(e).concat(t.trace),a=!1),i.log(o),t.error instanceof Error&&r(window.console.error)===n.a.FUNCTION&&window.console.error(t.error),t.originalError instanceof Error&&r(window.console.error)===n.a.FUNCTION&&window.console.error(t.originalError)}}(l),window.app&&window.app.logger&&r(window.app.logger["_".concat(s)])===n.a.FUNCTION&&window.app.logger["_".concat(s)](l),!0}},{key:"debug",value:function(e,i){return this.log(t.levels.debug.name,e,i)}},{key:"info",value:function(e,i){return this.log(t.levels.info.name,e,i)}},{key:"warn",value:function(e,i){return this.log(t.levels.warn.name,e,i)}},{key:"error",value:function(e,i){return this.log(t.levels.error.name,e,i)}},{key:"crit",value:function(e,i){return this.log(t.levels.crit.name,e,i)}},{key:"critical",value:function(t,e){return this.crit(t,e)}}],[{key:"levels",get:function(){return{debug:{name:"DEBUG",value:1},info:{name:"INFO",value:2},warn:{name:"WARN",value:4},error:{name:"ERROR",value:5},crit:{name:"CRIT",value:6},default:"info"}}}]),t}();window.onerror=function(t,e,i,n,o){new s("window.logger").crit({message:t,error:o,data:{source:e,lineno:i,colno:n}})},window.Logger=s},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(9);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var n,o,r;i(0),o=[i(4),i(17)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.Observable,o=i.data.ObservableObject,r=i.data.ObservableArray,a={}.toString,s={},l=i.Class,c=t.proxy,u="value",h=!0,d="function",f="change";!function(){var t=document.createElement("a");try{delete t.test}catch(t){h=!1}}();var p=n.extend({init:function(t,e){var i=this;n.fn.init.call(i),i.source=t[0],i.parents=t,i.path=e,i.dependencies={},i.dependencies[e]=!0,i.observable=i.source instanceof n,i._access=function(t){i.dependencies[t.field]=!0},i.observable&&(i._change=function(t){i.change(t)},i.source.bind(f,i._change))},_parents:function(){var e=this.parents,i=this.get();if(i&&"function"==typeof i.parent){var n=i.parent();t.inArray(n,e)<0&&(e=[n].concat(e))}return e},change:function(t){var e,i,n=t.field;if("this"===this.path)this.trigger(f,t);else for(e in this.dependencies)if(0===e.indexOf(n)&&(!(i=e.charAt(n.length))||"."===i||"["===i)){this.trigger(f,t);break}},start:function(t){t.bind("get",this._access)},stop:function(t){t.unbind("get",this._access)},get:function(){var t=this.source,e=0,i=this.path,n=t;if(!this.observable)return n;for(this.start(this.source),n=t.get(i);void 0===n&&t;)(t=this.parents[++e])instanceof o&&(n=t.get(i));if(void 0===n)for(t=this.source;void 0===n&&t;)(t=t.parent())instanceof o&&(n=t.get(i));return"function"==typeof n&&((e=i.lastIndexOf("."))>0&&(t=t.get(i.substring(0,e))),this.start(t),n=t!==this.source?n.call(t,this.source):n.call(t),this.stop(t)),t&&t!==this.source&&(this.currentSource=t,t.unbind(f,this._change).bind(f,this._change)),this.stop(this.source),n},set:function(t){var e=this.currentSource||this.source,n=i.getter(this.path)(e);"function"==typeof n?e!==this.source?n.call(e,this.source,t):n.call(e,t):e.set(this.path,t)},destroy:function(){this.observable&&(this.source.unbind(f,this._change),this.currentSource&&this.currentSource.unbind(f,this._change)),this.unbind()}}),m=p.extend({get:function(){var t,e=this.source,i=this.path,n=0;for(t=e.get(i);!t&&e;)(e=this.parents[++n])instanceof o&&(t=e.get(i));return c(t,e)}}),g=p.extend({init:function(t,e,i){p.fn.init.call(this,t,e),this.template=i},render:function(t){var e;return this.start(this.source),e=i.render(this.template,t),this.stop(this.source),e}}),v=l.extend({init:function(t,e,i){this.element=t,this.bindings=e,this.options=i},bind:function(t,e){var i=this;(t=e?t[e]:t).bind(f,function(t){i.refresh(e||t)}),i.refresh(e)},destroy:function(){}}),b=v.extend({dataType:function(){return(this.element.getAttribute("data-type")||this.element.type||"text").toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(t,e){return"date"==e?t=i.parseDate(t,"yyyy-MM-dd"):"datetime-local"==e?t=i.parseDate(t,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==e?t=i.parseFloat(t):"boolean"==e&&(t=t.toLowerCase(),t=null!==i.parseFloat(t)?Boolean(i.parseFloat(t)):"true"===t.toLowerCase()),t}});function k(e,n,o){return v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t,this._dataBinding=c(this.dataBinding,this),this._dataBound=c(this.dataBound,this),this._itemChange=c(this.itemChange,this)},itemChange:function(t){A(t.item[0],t.data,this._ns(t.ns),[t.data].concat(this.bindings[e]._parents()))},dataBinding:function(t){var e,i,n=this.widget,o=t.removedItems||n.items();for(e=0,i=o.length;e<i;e++)M(o[e],!1)},_ns:function(e){e=e||i.ui;var n=[i.ui,i.dataviz.ui,i.mobile.ui];return n.splice(t.inArray(e,n),1),n.unshift(e),i.rolesFromNamespaces(n)},dataBound:function(t){var o,r,a,s,l=this.widget,c=t.addedItems||l.items(),u=l[n],h=i.data.HierarchicalDataSource;if(!(h&&u instanceof h)&&c.length)for(a=t.addedDataItems||u.flatView(),s=this.bindings[e]._parents(),o=0,r=a.length;o<r;o++)c[o]&&A(c[o],a[o],this._ns(t.ns),[a[o]].concat(s))},refresh:function(t){var r,a,s,l=this.widget;(t=t||{}).action||(this.destroy(),l.bind("dataBinding",this._dataBinding),l.bind("dataBound",this._dataBound),l.bind("itemChange",this._itemChange),r=this.bindings[e].get(),l[n]instanceof i.data.DataSource&&l[n]!=r&&(r instanceof i.data.DataSource?l[o](r):r&&r._dataSource?l[o](r._dataSource):(a=i.ui.Select&&l instanceof i.ui.Select,s=i.ui.MultiSelect&&l instanceof i.ui.MultiSelect,i.ui.DropDownTree&&l instanceof i.ui.DropDownTree?l.treeview[n].data(r):l[n].data(r),this.bindings.value&&(a||s)&&l.value(E(this.bindings.value.get(),l.options.dataValueField)))))},destroy:function(){var t=this.widget;t.unbind("dataBinding",this._dataBinding),t.unbind("dataBound",this._dataBound),t.unbind("itemChange",this._itemChange)}})}s.attr=v.extend({refresh:function(t){this.element.setAttribute(t,this.bindings.attr[t].get())}}),s.css=v.extend({init:function(t,e,i){v.fn.init.call(this,t,e,i),this.classes={}},refresh:function(e){var i=t(this.element),n=this.bindings.css[e];(this.classes[e]=n.get())?i.addClass(e):i.removeClass(e)}}),s.style=v.extend({refresh:function(t){this.element.style[t]=this.bindings.style[t].get()||""}}),s.enabled=v.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),s.readonly=v.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),s.disabled=v.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),s.events=v.extend({init:function(t,e,i){v.fn.init.call(this,t,e,i),this.handlers={}},refresh:function(e){var i=t(this.element),n=this.bindings.events[e],o=this.handlers[e];o&&i.off(e,o),o=this.handlers[e]=n.get(),i.on(e,n.source,o)},destroy:function(){var e,i=t(this.element);for(e in this.handlers)i.off(e,this.handlers[e])}}),s.text=v.extend({refresh:function(){var e=this.bindings.text.get(),n=this.element.getAttribute("data-format")||"";null==e&&(e=""),t(this.element).text(i.toString(e,n))}}),s.visible=v.extend({refresh:function(){this.bindings.visible.get()?this.element.style.display="":this.element.style.display="none"}}),s.invisible=v.extend({refresh:function(){this.bindings.invisible.get()?this.element.style.display="none":this.element.style.display=""}}),s.html=v.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),s.value=b.extend({init:function(e,i,n){b.fn.init.call(this,e,i,n),this._change=c(this.change,this),this.eventName=n.valueUpdate||f,t(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=f,this.bindings.value.set(this.parsedValue()),this._initChange=!1},refresh:function(){if(!this._initChange){var t=this.bindings.value.get();null==t&&(t="");var e=this.dataType();"date"==e?t=i.toString(t,"yyyy-MM-dd"):"datetime-local"==e&&(t=i.toString(t,"yyyy-MM-ddTHH:mm:ss")),this.element.value=t}this._initChange=!1},destroy:function(){t(this.element).off(this.eventName,this._change)}}),s.source=v.extend({init:function(t,e,n){v.fn.init.call(this,t,e,n);var o=this.bindings.source.get();o instanceof i.data.DataSource&&!1!==n.autoBind&&o.fetch()},refresh:function(t){var e=this.bindings.source.get();e instanceof r||e instanceof i.data.DataSource?"add"==(t=t||{}).action?this.add(t.index,t.items):"remove"==t.action?this.remove(t.index,t.items):"itemchange"!=t.action&&this.render():this.render()},container:function(){var t=this.element;return"table"==t.nodeName.toLowerCase()&&(t.tBodies[0]||t.appendChild(document.createElement("tbody")),t=t.tBodies[0]),t},template:function(){var t=this.options,e=t.template,n=this.container().nodeName.toLowerCase();return e||(e="select"==n?t.valueField||t.textField?i.format('<option value="#:{0}#">#:{1}#</option>',t.valueField||t.textField,t.textField||t.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",e=i.template(e)),e},add:function(e,n){var o,r,a,s,l=this.container(),c=l.cloneNode(!1),u=l.children[e];if(t(c).html(i.render(this.template(),n)),c.children.length)for(o=this.bindings.source._parents(),r=0,a=n.length;r<a;r++)s=c.children[0],l.insertBefore(s,u||null),A(s,n[r],this.options.roles,[n[r]].concat(o))},remove:function(t,e){var i,n=this.container();for(i=0;i<e.length;i++){var o=n.children[t];M(o,!0),o.parentNode==n&&n.removeChild(o)}},render:function(){var e,n,o,s=this.bindings.source.get(),l=this.container(),c=this.template();if(null!=s)if(s instanceof i.data.DataSource&&(s=s.view()),s instanceof r||"[object Array]"===a.call(s)||(s=[s]),this.bindings.template){if(z(l,!0),t(l).html(this.bindings.template.render(s)),l.children.length)for(e=this.bindings.source._parents(),n=0,o=s.length;n<o;n++)A(l.children[n],s[n],this.options.roles,[s[n]].concat(e))}else t(l).html(i.render(c,s))}}),s.input={checked:b.extend({init:function(e,i,n){b.fn.init.call(this,e,i,n),this._change=c(this.change,this),t(this.element).change(this._change)},change:function(){var t=this.element,e=this.value();if("radio"==t.type)e=this.parsedValue(),this.bindings.checked.set(e);else if("checkbox"==t.type){var i,n=this.bindings.checked.get();if(n instanceof r){if((e=this.parsedValue())instanceof Date){for(var o=0;o<n.length;o++)if(n[o]instanceof Date&&+n[o]==+e){i=o;break}}else i=n.indexOf(e);i>-1?n.splice(i,1):n.push(e)}else this.bindings.checked.set(e)}},refresh:function(){var t=this.bindings.checked.get(),e=t,n=this.dataType(),o=this.element;if("checkbox"==o.type)if(e instanceof r){var a=-1;if((t=this.parsedValue())instanceof Date){for(var s=0;s<e.length;s++)if(e[s]instanceof Date&&+e[s]==+t){a=s;break}}else a=e.indexOf(t);o.checked=a>=0}else o.checked=e;else"radio"==o.type&&("date"==n?t=i.toString(t,"yyyy-MM-dd"):"datetime-local"==n&&(t=i.toString(t,"yyyy-MM-ddTHH:mm:ss")),null!==t&&void 0!==t&&o.value===t.toString()?o.checked=!0:o.checked=!1)},value:function(){var t=this.element,e=t.value;return"checkbox"==t.type&&(e=t.checked),e},destroy:function(){t(this.element).off(f,this._change)}})},s.select={source:s.source.extend({refresh:function(e){var n=this.bindings.source.get();if(n instanceof r||n instanceof i.data.DataSource){if("add"==(e=e||{}).action)this.add(e.index,e.items);else if("remove"==e.action)this.remove(e.index,e.items);else if(("itemchange"==e.action||void 0===e.action)&&(this.render(),this.bindings.value&&this.bindings.value)){var o=E(this.bindings.value.get(),t(this.element).data("valueField"));null===o?this.element.selectedIndex=-1:this.element.value=o}}else this.render()}}),value:b.extend({init:function(e,i,n){b.fn.init.call(this,e,i,n),this._change=c(this.change,this),t(this.element).change(this._change)},parsedValue:function(){var t,e,i,n,o=this.dataType(),r=[];for(i=0,n=this.element.options.length;i<n;i++)(e=this.element.options[i]).selected&&(t=(t=e.attributes.value)&&t.specified?e.value:e.text,r.push(this._parseValue(t,o)));return r},change:function(){var t,e,n,a,s,l,c=[],u=this.element,h=this.options.valueField||this.options.textField,d=this.options.valuePrimitive;for(s=0,l=u.options.length;s<l;s++)(e=u.options[s]).selected&&(a=(a=e.attributes.value)&&a.specified?e.value:e.text,h?c.push(a):c.push(this._parseValue(a,this.dataType())));if(h)for((t=this.bindings.source.get())instanceof i.data.DataSource&&(t=t.view()),n=0;n<c.length;n++)for(s=0,l=t.length;s<l;s++){var f=t[s].get(h);if(String(f)===c[n]){c[n]=t[s];break}}(a=this.bindings.value.get())instanceof r?a.splice.apply(a,[0,a.length].concat(c)):d||!(a instanceof o||null===a||void 0===a)&&h?this.bindings.value.set(c[0].get(h)):this.bindings.value.set(c[0])},refresh:function(){var t,e,n=this.element,a=n.options,s=this.bindings.value.get(),l=s,c=this.options.valueField||this.options.textField,u=this.dataType();l instanceof r||(l=new r([s])),n.selectedIndex=-1;for(var h=0;h<l.length;h++)for(s=l[h],c&&s instanceof o&&(s=s.get(c)),"date"==u?s=i.toString(l[h],"yyyy-MM-dd"):"datetime-local"==u&&(s=i.toString(l[h],"yyyy-MM-ddTHH:mm:ss")),t=0;t<a.length;t++)""===(e=a[t].value)&&""!==s&&(e=a[t].text),null!=s&&e==s.toString()&&(a[t].selected=!0)},destroy:function(){t(this.element).off(f,this._change)}})},s.widget={events:v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t,this.handlers={}},refresh:function(t){var e=this.bindings.events[t],i=this.handlers[t];i&&this.widget.unbind(t,i),i=e.get(),this.handlers[t]=function(t){t.data=e.source,i(t),t.data===e.source&&delete t.data},this.widget.bind(t,this.handlers[t])},destroy:function(){var t;for(t in this.handlers)this.widget.unbind(t,this.handlers[t])}}),checked:v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t,this._change=c(this.change,this),this.widget.bind(f,this._change)},change:function(){this.bindings.checked.set(this.value())},refresh:function(){this.widget.check(!0===this.bindings.checked.get())},value:function(){var t=this.element,e=t.value;return"on"!=e&&"off"!=e||(e=t.checked),e},destroy:function(){this.widget.unbind(f,this._change)}}),visible:v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t},refresh:function(){var t=this.bindings.visible.get();this.widget.wrapper[0].style.display=t?"":"none"}}),invisible:v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t},refresh:function(){var t=this.bindings.invisible.get();this.widget.wrapper[0].style.display=t?"none":""}}),enabled:v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:v.extend({init:function(t,e,i){v.fn.init.call(this,t.element[0],e,i),this.widget=t},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:k("source","dataSource","setDataSource"),value:v.extend({init:function(e,i,n){v.fn.init.call(this,e.element[0],i,n),this.widget=e,this._change=t.proxy(this.change,this),this.widget.first(f,this._change);var a=this.bindings.value.get();this._valueIsObservableObject=!n.valuePrimitive&&(null==a||a instanceof o),this._valueIsObservableArray=a instanceof r,this._initChange=!1},_source:function(){var t;return this.widget.dataItem&&(t=this.widget.dataItem())&&t instanceof o?[t]:(this.bindings.source&&(t=this.bindings.source.get()),(!t||t instanceof i.data.DataSource)&&(t=this.widget.dataSource.flatView()),t)},change:function(){var t,e,i,n,o,r,s,l=this.widget.value(),c=this.options.dataValueField||this.options.dataTextField,u="[object Array]"===a.call(l),h=this._valueIsObservableObject,d=[];if(this._initChange=!0,c)if(""===l&&(h||this.options.valuePrimitive))l=null;else{for(s=this._source(),u&&(e=l.length,d=l.slice(0)),o=0,r=s.length;o<r;o++)if(n=(i=s[o]).get(c),u){for(t=0;t<e;t++)if(n==d[t]){d[t]=i;break}}else if(n==l){l=h?i:n;break}d[0]&&(l=this._valueIsObservableArray?d:h||!c?d[0]:d[0].get(c))}this.bindings.value.set(l),this._initChange=!1},refresh:function(){if(!this._initChange){var t,e=this.widget,i=e.options,n=i.dataTextField,a=i.dataValueField||n,s=this.bindings.value.get(),l=i.text||"",c=0,u=[];if(void 0===s&&(s=null),a)if(s instanceof r){for(t=s.length;c<t;c++)u[c]=s[c].get(a);s=u}else s instanceof o&&(l=s.get(n),s=s.get(a));!1!==i.autoBind||i.cascadeFrom||!e.listView||e.listView.bound()?e.value(s):(n!==a||l||(l=s),l||!s&&0!==s||!i.valuePrimitive?e._preselect(s,l):e.value(s))}this._initChange=!1},destroy:function(){this.widget.unbind(f,this._change)}}),dropdowntree:{value:v.extend({init:function(e,i,n){v.fn.init.call(this,e.element[0],i,n),this.widget=e,this._change=t.proxy(this.change,this),this.widget.first(f,this._change),this._initChange=!1},change:function(){var t=this.bindings.value.get(),e=this.options.valuePrimitive,i=this.widget.treeview.select(),n=this.widget._isMultipleSelection()?this.widget._getAllChecked():this.widget.treeview.dataItem(i)||this.widget.value(),o=e||!1===this.widget.options.autoBind?this.widget.value():n,a=this.options.dataValueField||this.options.dataTextField;if(o=o.slice?o.slice(0):o,this._initChange=!0,t instanceof r){for(var s,l,c,u=[],h=o.length,d=0,f=0,p=t[d];void 0!==p;){for(c=!1,f=0;f<h;f++)if(e?o[f]==p:(l=(l=o[f]).get?l.get(a):l)==(p.get?p.get(a):p)){o.splice(f,1),h-=1,c=!0;break}c?d+=1:(u.push(p),y(t,d,1),s=d),p=t[d]}y(t,t.length,0,o),u.length&&t.trigger("change",{action:"remove",items:u,index:s}),o.length&&t.trigger("change",{action:"add",items:o,index:t.length-1})}else this.bindings.value.set(o);this._initChange=!1},refresh:function(){if(!this._initChange){var t,e,i=this.options,n=this.widget,a=i.dataValueField||i.dataTextField,s=this.bindings.value.get(),l=s,c=0,u=[];if(a)if(s instanceof r){for(t=s.length;c<t;c++)e=s[c],u[c]=e.get?e.get(a):e;s=u}else s instanceof o&&(s=s.get(a));!1===i.autoBind&&!0!==i.valuePrimitive?n._preselect(l,s):n.value(s)}},destroy:function(){this.widget.unbind(f,this._change)}})},gantt:{dependencies:k("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:v.extend({init:function(e,i,n){v.fn.init.call(this,e.element[0],i,n),this.widget=e,this._change=t.proxy(this.change,this),this.widget.first(f,this._change),this._initChange=!1},change:function(){var t=this.bindings.value.get(),e=this.options.valuePrimitive,i=e?this.widget.value():this.widget.dataItems(),n=this.options.dataValueField||this.options.dataTextField;if(i=i.slice(0),this._initChange=!0,t instanceof r){for(var o,a,s,l=[],c=i.length,u=0,h=0,d=t[u];void 0!==d;){for(s=!1,h=0;h<c;h++)if(e?i[h]==d:(a=(a=i[h]).get?a.get(n):a)==(d.get?d.get(n):d)){i.splice(h,1),c-=1,s=!0;break}s?u+=1:(l.push(d),y(t,u,1),o=u),d=t[u]}y(t,t.length,0,i),l.length&&t.trigger("change",{action:"remove",items:l,index:o}),i.length&&t.trigger("change",{action:"add",items:i,index:t.length-1})}else this.bindings.value.set(i);this._initChange=!1},refresh:function(){if(!this._initChange){var t,e,i=this.options,n=this.widget,a=i.dataValueField||i.dataTextField,s=this.bindings.value.get(),l=s,c=0,u=[];if(void 0===s&&(s=null),a)if(s instanceof r){for(t=s.length;c<t;c++)e=s[c],u[c]=e.get?e.get(a):e;s=u}else s instanceof o&&(s=s.get(a));!1!==i.autoBind||!0===i.valuePrimitive||n._isBound()?n.value(s):n._preselect(l,s)}},destroy:function(){this.widget.unbind(f,this._change)}})},scheduler:{source:k("source","dataSource","setDataSource").extend({dataBound:function(t){var e,i,n,o,r=this.widget,a=t.addedItems||r.items();if(a.length)for(n=t.addedDataItems||r.dataItems(),o=this.bindings.source._parents(),e=0,i=n.length;e<i;e++)A(a[e],n[e],this._ns(t.ns),[n[e]].concat(o))}})}};var y=function(t,e,i,n){n=n||[],i=i||0;var o,r=n.length,a=t.length,s=[].slice.call(t,e+i),l=s.length;if(r){for(r=e+r,o=0;e<r;e++)t[e]=n[o],o++;t.length=r}else if(i)for(t.length=e,i+=e;e<i;)delete t[--i];if(l){for(l=e+l,o=0;e<l;e++)t[e]=s[o],o++;t.length=l}for(e=t.length;e<a;)delete t[e],e++},w=l.extend({init:function(t,e){this.target=t,this.options=e,this.toDestroy=[]},bind:function(t){var e,i,n,o,r,a,s=this instanceof _,l=this.binders();for(e in t)e==u?i=!0:"source"==e?n=!0:"events"!=e||s?"checked"==e?r=!0:"css"==e?a=!0:this.applyBinding(e,t,l):o=!0;n&&this.applyBinding("source",t,l),i&&this.applyBinding(u,t,l),r&&this.applyBinding("checked",t,l),o&&!s&&this.applyBinding("events",t,l),a&&!s&&this.applyBinding("css",t,l)},binders:function(){return s[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(t,e,i){var n,o=i[t]||s[t],r=this.toDestroy,a=e[t];if(o)if(o=new o(this.target,e,this.options),r.push(o),a instanceof p)o.bind(a),r.push(a);else for(n in a)o.bind(a,n),r.push(a[n]);else if("template"!==t)throw new Error("The "+t+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var t,e,i=this.toDestroy;for(t=0,e=i.length;t<e;t++)i[t].destroy()}}),_=w.extend({binders:function(){return s.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(t,e,i){var n,o=i[t]||s.widget[t],r=this.toDestroy,a=e[t];if(!o)throw new Error("The "+t+" binding is not supported by the "+this.target.options.name+" widget");if(o=new o(this.target,e,this.target.options),r.push(o),a instanceof p)o.bind(a),r.push(a);else for(n in a)o.bind(a,n),r.push(a[n])}}),x=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,S=/\s/g;function C(t,e,i){var n,o={};for(n in t)o[n]=new i(e,t[n]);return o}function A(t,e,n,o){if(t&&!t.getAttribute("data-"+i.ns+"stop")){var r,a,s,l=t.getAttribute("data-"+i.ns+"role"),c=t.getAttribute("data-"+i.ns+"bind"),u=[],h=!0,d={};o=o||[e],(l||c)&&j(t,!1),l&&(s=function(t,e){var n=i.initWidget(t,{},e);if(n)return new _(n)}(t,n)),c&&(c=function t(e){var i,n,o,r,a,s,l,c={};for(i=0,n=(l=e.match(x)).length;i<n;i++)r=(o=l[i]).indexOf(":"),a=o.substring(0,r),"{"==(s=o.substring(r+1)).charAt(0)&&(s=t(s)),c[a]=s;return c}(c.replace(S,"")),s||((d=i.parseOptions(t,{textField:"",valueField:"",template:"",valueUpdate:f,valuePrimitive:!1,autoBind:!0},e)).roles=n,s=new w(t,d)),s.source=e,a=C(c,o,p),d.template&&(a.template=new g(o,"",d.template)),a.click&&(c.events=c.events||{},c.events.click=c.click,a.click.destroy(),delete a.click),a.source&&(h=!1),c.attr&&(a.attr=C(c.attr,o,p)),c.style&&(a.style=C(c.style,o,p)),c.events&&(a.events=C(c.events,o,m)),c.css&&(a.css=C(c.css,o,p)),s.bind(a)),s&&(t.kendoBindingTarget=s);var v=t.children;if(h&&v){for(r=0;r<v.length;r++)u[r]=v[r];for(r=0;r<u.length;r++)A(u[r],e,n,o)}}}function T(e,n){var o,r,a,s=i.rolesFromNamespaces([].slice.call(arguments,2));for(n=i.observable(n),o=0,r=(e=t(e)).length;o<r;o++)1===(a=e[o]).nodeType&&A(a,n,s)}function j(e,n){var o=e.kendoBindingTarget;if(o&&(o.destroy(),h?delete e.kendoBindingTarget:e.removeAttribute?e.removeAttribute("kendoBindingTarget"):e.kendoBindingTarget=null),n){var r=i.widgetInstance(t(e));r&&typeof r.destroy===d&&r.destroy()}}function M(t,e){j(t,e),z(t,e)}function z(t,e){var i=t.children;if(i)for(var n=0,o=i.length;n<o;n++)M(i[n],e)}function E(t,e){var i,n,a=[],s=0;if(!e)return t;if(t instanceof r){for(i=t.length;s<i;s++)n=t[s],a[s]=n.get?n.get(e):n[e];t=a}else t instanceof o&&(t=t.get(e));return t}i.unbind=function(e){var i,n;for(i=0,n=(e=t(e)).length;i<n;i++)M(e[i],!1)},i.bind=T,i.data.binders=s,i.data.Binder=v,i.notify=function(t,e){var i=t.element,n=i[0].kendoBindingTarget;n&&T(i,n.source,e)},i.observable=function(t){return t instanceof o||(t=new o(t)),t},i.observableHierarchy=function(t){var e=i.data.HierarchicalDataSource.create(t);return e.fetch(),function t(e){var i,n;for(i=0;i<e.length;i++)e[i]._initChildren(),(n=e[i].children).fetch(),e[i].items=n.data(),t(e[i].items)}(e.data()),e._data._dataSource=e,e._data}}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n=i(87)("wks"),o=i(47),r=i(8).Symbol,a="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=n},function(t,e,i){var n=i(10),o=i(123),r=i(41),a=Object.defineProperty;e.f=i(14)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(38),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n,o,r;i(0),o=[i(4),i(442),i(443)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i,n=t.extend,o=t.proxy,r=t.isPlainObject,a=t.isEmptyObject,s=t.isArray,l=t.grep,c=t.ajax,u=t.each,h=t.noop,d=window.kendo,f=d.isFunction,p=d.Observable,m=d.Class,g="string",v="change",b=["create","read","update","destroy"],k=function(t){return t},y=d.getter,w=d.stringify,_=Math,x=[].push,S=[].join,C=[].pop,A=[].splice,T=[].shift,j=[].slice,M=[].unshift,z={}.toString,E=d.support.stableSort,I=/^\/Date\((.*?)\)\/$/,D=p.extend({init:function(t,e){this.type=e||R,p.fn.init.call(this),this.length=t.length,this.wrapAll(t,this)},at:function(t){return this[t]},toJSON:function(){var t,e,i=this.length,n=new Array(i);for(t=0;t<i;t++)(e=this[t])instanceof R&&(e=e.toJSON()),n[t]=e;return n},parent:h,wrapAll:function(t,e){var i,n,o=this,r=function(){return o};for(e=e||[],i=0,n=t.length;i<n;i++)e[i]=o.wrap(t[i],r);return e},wrap:function(t,e){var i=this;return null!==t&&"[object Object]"===z.call(t)&&(t instanceof i.type||t instanceof N||(t=t instanceof R?t.toJSON():t,t=new i.type(t)),t.parent=e,t.bind(v,function(t){i.trigger(v,{field:t.field,node:t.node,index:t.index,items:t.items||[this],action:t.node?t.action||"itemloaded":"itemchange"})})),t},push:function(){var t,e=this.length,i=this.wrapAll(arguments);return t=x.apply(this,i),this.trigger(v,{action:"add",index:e,items:i}),t},slice:j,sort:[].sort,join:S,pop:function(){var t=this.length,e=C.apply(this);return t&&this.trigger(v,{action:"remove",index:t-1,items:[e]}),e},splice:function(t,e,i){var n,o,r,a=this.wrapAll(j.call(arguments,2));if((n=A.apply(this,[t,e].concat(a))).length)for(this.trigger(v,{action:"remove",index:t,items:n}),o=0,r=n.length;o<r;o++)n[o]&&n[o].children&&n[o].unbind(v);return i&&this.trigger(v,{action:"add",index:t,items:a}),n},shift:function(){var t=this.length,e=T.apply(this);return t&&this.trigger(v,{action:"remove",index:0,items:[e]}),e},unshift:function(){var t,e=this.wrapAll(arguments);return t=M.apply(this,e),this.trigger(v,{action:"add",index:0,items:e}),t},indexOf:function(t){var e,i;for(e=0,i=this.length;e<i;e++)if(this[e]===t)return e;return-1},forEach:function(t,e){for(var i=0,n=this.length,o=e||window;i<n;i++)t.call(o,this[i],i,this)},map:function(t,e){for(var i=0,n=[],o=this.length,r=e||window;i<o;i++)n[i]=t.call(r,this[i],i,this);return n},reduce:function(t){var e,i=0,n=this.length;for(2==arguments.length?e=arguments[1]:i<n&&(e=this[i++]);i<n;i++)e=t(e,this[i],i,this);return e},reduceRight:function(t){var e,i=this.length-1;for(2==arguments.length?e=arguments[1]:i>0&&(e=this[i--]);i>=0;i--)e=t(e,this[i],i,this);return e},filter:function(t,e){for(var i,n=0,o=[],r=this.length,a=e||window;n<r;n++)i=this[n],t.call(a,i,n,this)&&(o[o.length]=i);return o},find:function(t,e){for(var i,n=0,o=this.length,r=e||window;n<o;n++)if(i=this[n],t.call(r,i,n,this))return i},every:function(t,e){for(var i,n=0,o=this.length,r=e||window;n<o;n++)if(i=this[n],!t.call(r,i,n,this))return!1;return!0},some:function(t,e){for(var i,n=0,o=this.length,r=e||window;n<o;n++)if(i=this[n],t.call(r,i,n,this))return!0;return!1},remove:function(t){var e=this.indexOf(t);-1!==e&&this.splice(e,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!D.prototype[Symbol.iterator]&&(D.prototype[Symbol.iterator]=[][Symbol.iterator]);var O=D.extend({init:function(t,e){p.fn.init.call(this),this.type=e||R;for(var i=0;i<t.length;i++)this[i]=t[i];this.length=i,this._parent=o(function(){return this},this)},at:function(t){var e=this[t];return e instanceof this.type?e.parent=this._parent:e=this[t]=this.wrap(e,this._parent),e}});function P(t,e,i,n){return function(o){var r,a={};for(r in o)a[r]=o[r];a.field=n?i+"."+o.field:i,e==v&&t._notifyChange&&t._notifyChange(a),t.trigger(e,a)}}var R=p.extend({init:function(t){var e,i,n=this,o=function(){return n};for(i in p.fn.init.call(this),this._handlers={},t)"object"==typeof(e=t[i])&&e&&!e.getTime&&"_"!=i.charAt(0)&&(e=n.wrap(e,i,o)),n[i]=e;n.uid=d.guid()},shouldSerialize:function(t){return this.hasOwnProperty(t)&&"_handlers"!==t&&"_events"!==t&&"function"!=typeof this[t]&&"uid"!==t},forEach:function(t){for(var e in this)this.shouldSerialize(e)&&t(this[e],e)},toJSON:function(){var t,e,i={};for(e in this)this.shouldSerialize(e)&&(((t=this[e])instanceof R||t instanceof D)&&(t=t.toJSON()),i[e]=t);return i},get:function(t){return this.trigger("get",{field:t}),"this"===t?this:d.getter(t,!0)(this)},_set:function(t,e){var i=t.indexOf(".")>=0;if(i)for(var n=t.split("."),o="";n.length>1;){o+=n.shift();var r=d.getter(o,!0)(this);if(r instanceof R)return r.set(n.join("."),e),i;o+="."}return d.setter(t)(this,e),i},set:function(t,e){var i=this,n=!1,o=t.indexOf(".")>=0,r=d.getter(t,!0)(i);return r!==e&&(r instanceof p&&this._handlers[t]&&(this._handlers[t].get&&r.unbind("get",this._handlers[t].get),r.unbind(v,this._handlers[t].change)),(n=i.trigger("set",{field:t,value:e}))||(o||(e=i.wrap(e,t,function(){return i})),(!i._set(t,e)||t.indexOf("(")>=0||t.indexOf("[")>=0)&&i.trigger(v,{field:t}))),n},parent:h,wrap:function(t,e,i){var n,o,r=z.call(t);if(null!=t&&("[object Object]"===r||"[object Array]"===r)){var a=t instanceof D,s=t instanceof wt;"[object Object]"!==r||s||a?("[object Array]"===r||a||s)&&(a||s||(t=new D(t)),o=P(this,v,e,!1),t.bind(v,o),this._handlers[e]={change:o}):(t instanceof R||(t=new R(t)),n=P(this,"get",e,!0),t.bind("get",n),o=P(this,v,e,!0),t.bind(v,o),this._handlers[e]={get:n,change:o}),t.parent=i}return t}}),L={number:function(t){return typeof t===g&&"null"===t.toLowerCase()?null:d.parseFloat(t)},date:function(t){return typeof t===g&&"null"===t.toLowerCase()?null:d.parseDate(t)},boolean:function(t){return typeof t===g?"null"===t.toLowerCase()?null:"true"===t.toLowerCase():null!=t?!!t:t},string:function(t){return typeof t===g&&"null"===t.toLowerCase()?null:null!=t?t+"":t},default:function(t){return t}},F={string:"",number:0,date:new Date,boolean:!1,default:""},N=R.extend({init:function(i){if((!i||t.isEmptyObject(i))&&(i=t.extend({},this.defaults,i),this._initializers))for(var n=0;n<this._initializers.length;n++){var o=this._initializers[n];i[o]=this.defaults[o]()}R.fn.init.call(this,i),this.dirty=!1,this.dirtyFields={},this.idField&&(this.id=this.get(this.idField),this.id===e&&(this.id=this._defaultId))},shouldSerialize:function(t){return R.fn.shouldSerialize.call(this,t)&&"uid"!==t&&!("id"!==this.idField&&"id"===t)&&"dirty"!==t&&"dirtyFields"!==t&&"_accessors"!==t},_parse:function(t,e){var i,n=t,o=this.fields||{};return(t=o[t])||(t=function(t,e){var i,n;for(n in t){if(i=t[n],r(i)&&i.field&&i.field===e)return i;if(i===e)return i}return null}(o,n)),t&&!(i=t.parse)&&t.type&&(i=L[t.type.toLowerCase()]),i?i(e):e},_notifyChange:function(t){var e=t.action;"add"!=e&&"remove"!=e||(this.dirty=!0,this.dirtyFields[t.field]=!0)},editable:function(t){return!(t=(this.fields||{})[t])||!1!==t.editable},set:function(e,i,n){var o=this.dirty;this.editable(e)&&(function e(i,n){if(i===n)return!0;var o,r=t.type(i);if(r!==t.type(n))return!1;if("date"===r)return i.getTime()===n.getTime();if("object"!==r&&"array"!==r)return!1;for(o in i)if(!e(i[o],n[o]))return!1;return!0}(i=this._parse(e,i),this.get(e))?this.trigger("equalSet",{field:e,value:i}):(this.dirty=!0,this.dirtyFields[e]=!0,R.fn.set.call(this,e,i,n)&&!o&&(this.dirty=o,this.dirty||(this.dirtyFields[e]=!1))))},accept:function(t){var e,i=this,n=function(){return i};for(e in t){var o=t[e];"_"!=e.charAt(0)&&(o=i.wrap(t[e],e,n)),i._set(e,o)}i.idField&&(i.id=i.get(i.idField)),i.dirty=!1,i.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});N.define=function(t,i){i===e&&(i=t,t=N);var o,r,a,s,l,c,u,h,d=n({defaults:{}},i),f={},p=d.id,m=[];if(p&&(d.idField=p),d.id&&delete d.id,p&&(d.defaults[p]=d._defaultId=""),"[object Array]"===z.call(d.fields)){for(c=0,u=d.fields.length;c<u;c++)typeof(a=d.fields[c])===g?f[a]={}:a.field&&(f[a.field]=a);d.fields=f}for(r in d.fields)s=(a=d.fields[r]).type||"default",l=null,h=r,r=typeof a.field===g?a.field:r,a.nullable||"function"==typeof(l=d.defaults[h!==r?h:r]=a.defaultValue!==e?a.defaultValue:F[s.toLowerCase()])&&m.push(r),i.id===r&&(d._defaultId=l),d.defaults[h!==r?h:r]=l,a.parse=a.parse||L[s];return m.length>0&&(d._initializers=m),(o=t.extend(d)).define=function(t){return N.define(o,t)},d.fields&&(o.fields=d.fields,o.idField=d.idField),o};var B={selector:function(t){return f(t)?t:y(t)},compare:function(t){var e=this.selector(t);return function(t,i){return t=e(t),i=e(i),null==t&&null==i?0:null==t?-1:null==i?1:t.localeCompare?t.localeCompare(i):t>i?1:t<i?-1:0}},create:function(t){var e=t.compare||this.compare(t.field);return"desc"==t.dir?function(t,i){return e(i,t,!0)}:e},combine:function(t){return function(e,i){var n,o,r=t[0](e,i);for(n=1,o=t.length;n<o;n++)r=r||t[n](e,i);return r}}},q=n({},B,{asc:function(t){var e=this.selector(t);return function(t,i){var n=e(t),o=e(i);return n&&n.getTime&&o&&o.getTime&&(n=n.getTime(),o=o.getTime()),n===o?t.__position-i.__position:null==n?-1:null==o?1:n.localeCompare?n.localeCompare(o):n>o?1:-1}},desc:function(t){var e=this.selector(t);return function(t,i){var n=e(t),o=e(i);return n&&n.getTime&&o&&o.getTime&&(n=n.getTime(),o=o.getTime()),n===o?t.__position-i.__position:null==n?1:null==o?-1:o.localeCompare?o.localeCompare(n):n<o?1:-1}},create:function(t){return this[t.dir](t.field)}});i=function(t,e){var i,n=t.length,o=new Array(n);for(i=0;i<n;i++)o[i]=e(t[i],i,t);return o};var V=function(){function t(t){return"string"==typeof t&&(t=t.replace(/[\r\n]+/g,"")),JSON.stringify(t)}function e(e){return function(i,n,o){return n+="",o&&(i="("+i+" || '').toLowerCase()",n=n.toLowerCase()),e(i,t(n),o)}}function i(e,i,n,o){if(null!=n){if(typeof n===g){var r=I.exec(n);r?n=new Date(+r[1]):o?(n=t(n.toLowerCase()),i="(("+i+" || '')+'').toLowerCase()"):n=t(n)}n.getTime&&(i="("+i+"&&"+i+".getTime?"+i+".getTime():"+i+")",n=n.getTime())}return i+" "+e+" "+n}function n(t){for(var e="/^",i=!1,n=0;n<t.length;++n){var o=t.charAt(n);if(i)e+="\\"+o;else{if("~"==o){i=!0;continue}"*"==o?e+=".*":"?"==o?e+=".":".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(o)>=0?e+="\\"+o:e+=o}i=!1}return e+"$/"}return{quote:function(e){return e&&e.getTime?"new Date("+e.getTime()+")":t(e)},eq:function(t,e,n){return i("==",t,e,n)},neq:function(t,e,n){return i("!=",t,e,n)},gt:function(t,e,n){return i(">",t,e,n)},gte:function(t,e,n){return i(">=",t,e,n)},lt:function(t,e,n){return i("<",t,e,n)},lte:function(t,e,n){return i("<=",t,e,n)},startswith:e(function(t,e){return t+".lastIndexOf("+e+", 0) == 0"}),doesnotstartwith:e(function(t,e){return t+".lastIndexOf("+e+", 0) == -1"}),endswith:e(function(t,e){return t+".indexOf("+e+", "+t+".length - "+(e?e.length-2:0)+") >= 0"}),doesnotendwith:e(function(t,e){return t+".indexOf("+e+", "+t+".length - "+(e?e.length-2:0)+") < 0"}),contains:e(function(t,e){return t+".indexOf("+e+") >= 0"}),doesnotcontain:e(function(t,e){return t+".indexOf("+e+") == -1"}),matches:e(function(t,e){return n(e=e.substring(1,e.length-1))+".test("+t+")"}),doesnotmatch:e(function(t,e){return"!"+n(e=e.substring(1,e.length-1))+".test("+t+")"}),isempty:function(t){return t+" === ''"},isnotempty:function(t){return t+" !== ''"},isnull:function(t){return"("+t+" == null)"},isnotnull:function(t){return"("+t+" != null)"},isnullorempty:function(t){return"("+t+" === null) || ("+t+" === '')"},isnotnullorempty:function(t){return"("+t+" !== null) && ("+t+" !== '')"}}}();function H(t){this.data=t||[]}function U(t,i){if(t){var n=typeof t===g?{field:t,dir:i}:t,o=s(n)?n:n!==e?[n]:[];return l(o,function(t){return!!t.dir})}}H.filterExpr=function(t){var i,n,o,r,a,s,l=[],c=[],u=[],h=t.filters;for(i=0,n=h.length;i<n;i++)a=(o=h[i]).field,s=o.operator,o.filters?(o=(r=H.filterExpr(o)).expression.replace(/__o\[(\d+)\]/g,function(t,e){return e=+e,"__o["+(u.length+e)+"]"}).replace(/__f\[(\d+)\]/g,function(t,e){return e=+e,"__f["+(c.length+e)+"]"}),u.push.apply(u,r.operators),c.push.apply(c,r.fields)):("function"==typeof a?(r="__f["+c.length+"](d)",c.push(a)):r=d.expr(a),"function"==typeof s?(o="__o["+u.length+"]("+r+", "+V.quote(o.value)+")",u.push(s)):o=V[(s||"eq").toLowerCase()](r,o.value,o.ignoreCase===e||o.ignoreCase)),l.push(o);return{expression:"("+l.join({and:" && ",or:" || "}[t.logic])+")",fields:c,operators:u}};var W={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function G(t){if(t&&!a(t))return!s(t)&&t.filters||(t={logic:"and",filters:s(t)?t:[t]}),function t(e){var i,n,o,r,a=e.filters;if(a)for(i=0,n=a.length;i<n;i++)(r=(o=a[i]).operator)&&typeof r===g&&(o.operator=W[r.toLowerCase()]||r),t(o)}(t),t}function Q(t,e){return!t.logic&&!e.logic&&t.field===e.field&&t.value===e.value&&t.operator===e.operator}function Y(t){return a(t=t||{})?{logic:"and",filters:[]}:G(t)}function K(t,e){return e.logic||t.field>e.field?1:t.field<e.field?-1:0}function Z(t,n){var o=typeof t===g?{field:t,dir:n}:t,r=s(o)?o:o!==e?[o]:[];return i(r,function(t){return{field:t.field,dir:t.dir||"asc",aggregates:t.aggregates}})}function X(t,e){return t&&t.getTime&&e&&e.getTime?t.getTime()===e.getTime():t===e}function J(t,e,i,n,o,r){var a,s,l,c=(e=e||[]).length;for(a=0;a<c;a++){l=(s=e[a]).aggregate;var u=s.field;t[u]=t[u]||{},r[u]=r[u]||{},r[u][l]=r[u][l]||{},t[u][l]=$[l.toLowerCase()](t[u][l],i,d.accessor(u),n,o,r[u][l])}}H.normalizeFilter=G,H.compareFilters=function t(e,i){if(e=Y(e),i=Y(i),e.logic!==i.logic)return!1;var n,o,r=(e.filters||[]).slice(),a=(i.filters||[]).slice();if(r.length!==a.length)return!1;r=r.sort(K),a=a.sort(K);for(var s=0;s<r.length;s++)if(n=r[s],o=a[s],n.logic&&o.logic){if(!t(n,o))return!1}else if(!Q(n,o))return!1;return!0},H.prototype={toArray:function(){return this.data},range:function(t,e){return new H(this.data.slice(t,t+e))},skip:function(t){return new H(this.data.slice(t))},take:function(t){return new H(this.data.slice(0,t))},select:function(t){return new H(i(this.data,t))},order:function(t,e,i){var n={dir:e};return t&&(t.compare?n.compare=t.compare:n.field=t),new H(i?this.data.sort(B.create(n)):this.data.slice(0).sort(B.create(n)))},orderBy:function(t,e){return this.order(t,"asc",e)},orderByDescending:function(t,e){return this.order(t,"desc",e)},sort:function(t,e,i,n){var o,r,a=U(t,e),s=[];if(i=i||B,a.length){for(o=0,r=a.length;o<r;o++)s.push(i.create(a[o]));return this.orderBy({compare:i.combine(s)},n)}return this},filter:function(t){var e,i,n,o,r,a,s,l,c=this.data,u=[];if(!(t=G(t))||0===t.filters.length)return this;for(o=H.filterExpr(t),a=o.fields,s=o.operators,r=l=new Function("d, __f, __o","return "+o.expression),(a.length||s.length)&&(l=function(t){return r(t,a,s)}),e=0,n=c.length;e<n;e++)l(i=c[e])&&u.push(i);return new H(u)},group:function(t,e){t=Z(t||[]),e=e||this.data;var i,n=new H(this.data);return t.length>0&&(i=t[0],n=n.groupBy(i).select(function(n){var o=new H(e).filter([{field:n.field,operator:"eq",value:n.value,ignoreCase:!1}]);return{field:n.field,value:n.value,items:t.length>1?new H(n.items).group(t.slice(1),o.toArray()).toArray():n.items,hasSubgroups:t.length>1,aggregates:o.aggregate(i.aggregates)}})),n},groupBy:function(t){if(a(t)||!this.data.length)return new H([]);var e,i,n,o,r=t.field,s=this._sortForGrouping(r,t.dir||"asc"),l=d.accessor(r),c=l.get(s[0],r),u={field:r,value:c,items:[]},h=[u];for(n=0,o=s.length;n<o;n++)e=s[n],X(c,i=l.get(e,r))||(u={field:r,value:c=i,items:[]},h.push(u)),u.items.push(e);return new H(h)},_sortForGrouping:function(t,e){var i,n,o=this.data;if(!E){for(i=0,n=o.length;i<n;i++)o[i].__position=i;for(i=0,n=(o=new H(o).sort(t,e,q).toArray()).length;i<n;i++)delete o[i].__position;return o}return this.sort(t,e).toArray()},aggregate:function(t){var e,i,n={},o={};if(t&&t.length)for(e=0,i=this.data.length;e<i;e++)J(n,t,this.data[e],e,i,o);return n}};var $={sum:function(t,e,i){var n=i.get(e);return tt(t)?tt(n)&&(t+=n):t=n,t},count:function(t){return(t||0)+1},average:function(t,i,n,o,r,a){var s=n.get(i);return a.count===e&&(a.count=0),tt(t)?tt(s)&&(t+=s):t=s,tt(s)&&a.count++,o==r-1&&tt(t)&&(t/=a.count),t},max:function(t,e,i){var n=i.get(e);return tt(t)||et(t)||(t=n),t<n&&(tt(n)||et(n))&&(t=n),t},min:function(t,e,i){var n=i.get(e);return tt(t)||et(t)||(t=n),t>n&&(tt(n)||et(n))&&(t=n),t}};function tt(t){return"number"==typeof t&&!isNaN(t)}function et(t){return t&&t.getTime}function it(t){var e,i=t.length,n=new Array(i);for(e=0;e<i;e++)n[e]=t[e].toJSON();return n}H.process=function(t,i,n){i=i||{};var o,r=new H(t),a=i.group,s=Z(a||[]).concat(U(i.sort||[])),l=i.filterCallback,c=i.filter,u=i.skip,h=i.take;return s&&n&&(r=r.sort(s,e,e,n)),c&&(r=r.filter(c),l&&(r=l(r)),o=r.toArray().length),s&&!n&&(r=r.sort(s),a&&(t=r.toArray())),u!==e&&h!==e&&(r=r.range(u,h)),a&&(r=r.group(a,t)),{total:o,data:r.toArray()}};var nt=m.extend({init:function(t){this.data=t.data},read:function(t){t.success(this.data)},update:function(t){t.success(t.data)},create:function(t){t.success(t.data)},destroy:function(t){t.success(t.data)}}),ot=m.extend({init:function(t){var e;t=this.options=n({},this.options,t),u(b,function(e,i){typeof t[i]===g&&(t[i]={url:t[i]})}),this.cache=t.cache?rt.create(t.cache):{find:h,add:h},e=t.parameterMap,t.submit&&(this.submit=t.submit),f(t.push)&&(this.push=t.push),this.push||(this.push=k),this.parameterMap=f(e)?e:function(t){var i={};return u(t,function(t,n){t in e&&(t=e[t],r(t)&&(n=t.value(n),t=t.key)),i[t]=n}),i}},options:{parameterMap:k},create:function(t){return c(this.setup(t,"create"))},read:function(i){var n,o,r=this.cache;i=this.setup(i,"read"),n=i.success||h,i.error,(o=r.find(i.data))!==e?n(o):(i.success=function(t){r.add(i.data,t),n(t)},t.ajax(i))},update:function(t){return c(this.setup(t,"update"))},destroy:function(t){return c(this.setup(t,"destroy"))},setup:function(t,e){t=t||{};var i,o=this.options[e],r=f(o.data)?o.data(t.data):o.data;return t=n(!0,{},o,t),i=n(!0,{},r,t.data),t.data=this.parameterMap(i,e),f(t.url)&&(t.url=t.url(i)),t}}),rt=m.extend({init:function(){this._store={}},add:function(t,i){t!==e&&(this._store[w(t)]=i)},find:function(t){return this._store[w(t)]},clear:function(){this._store={}},remove:function(t){delete this._store[w(t)]}});function at(t,e,i,n,o){var r,a,s,l,c,u={};for(l=0,c=t.length;l<c;l++)for(a in r=t[l],e)(s=o[a])&&s!==a&&(u[s]||(u[s]=d.setter(s)),u[s](r,e[a](r)),delete r[a])}function st(t,e,i,n,o){var r,a,s,l,c;for(l=0,c=t.length;l<c;l++)for(a in r=t[l],e)r[a]=i._parse(a,e[a](r)),(s=o[a])&&s!==a&&delete r[s]}function lt(t,e,i,n,o){var r,a,s,l;for(a=0,l=t.length;a<l;a++)(s=n[(r=t[a]).field])&&s!=r.field&&(r.field=s),r.value=i._parse(r.field,r.value),r.hasSubgroups?lt(r.items,e,i,n,o):st(r.items,e,i,0,o)}function ct(t,e,i,n,o,r){return function(a){return a=t(a),ut(e,i,n,o,r)(a)}}function ut(t,e,i,n,o){return function(r){return r&&!a(i)&&("[object Array]"===z.call(r)||r instanceof D||(r=[r]),e(r,i,new t,n,o)),r||[]}}rt.create=function(t){var e={inmemory:function(){return new rt}};return r(t)&&f(t.find)?t:!0===t?new rt:e[t]()};var ht=m.extend({init:function(t){var e,i,n,a;for(e in t=t||{})i=t[e],this[e]=typeof i===g?y(i):i;a=t.modelBase||N,r(this.model)&&(this.model=n=a.define(this.model));var s=o(this.data,this);if(this._dataAccessFunction=s,this.model){var l,c,h=o(this.groups,this),d=o(this.serialize,this),f={},p={},m={},v={},b=!1;(n=this.model).fields&&(u(n.fields,function(t,e){var i;l=t,r(e)&&e.field?l=e.field:typeof e===g&&(l=e),r(e)&&e.from&&(i=e.from),b=b||i&&i!==t||l!==t,c=i||l,p[t]=-1!==c.indexOf(".")?y(c,!0):y(c),m[t]=y(t),f[i||l]=t,v[t]=i||l}),!t.serialize&&b&&(this.serialize=ct(d,n,at,m,f,v))),this._dataAccessFunction=s,this._wrapDataAccessBase=ut(n,st,p,f,v),this.data=ct(s,n,st,p,f,v),this.groups=ct(h,n,lt,p,f,v)}},errors:function(t){return t?t.errors:null},parse:k,data:k,total:function(t){return t.length},groups:k,aggregates:function(){return{}},serialize:function(t){return t}});function dt(t){var e,i,n,o,r=[];for(e=0,i=t.length;e<i;e++){var a=t.at(e);if(a.hasSubgroups)r=r.concat(dt(a.items));else for(n=a.items,o=0;o<n.length;o++)r.push(n.at(o))}return r}function ft(t,e,i,n){for(var o=0;o<t.length&&t[o].data!==e&&!pt(t[o].data,i,n);o++);}function pt(t,e,i){for(var n=0,o=t.length;n<o;n++){if(t[n]&&t[n].hasSubgroups)return pt(t[n].items,e,i);if(t[n]===e||t[n]===i)return t[n]=i,!0}}function mt(t,e){var i,n,o=t.length;for(n=0;n<o;n++)if((i=t[n]).uid&&i.uid==e.uid)return t.splice(n,1),i}function gt(t,e){return e?bt(t,function(t){return t.uid&&t.uid==e.uid||t[e.idField]===e.id&&e.id!==e._defaultId}):-1}function vt(t,e){return e?bt(t,function(t){return t.uid==e.uid}):-1}function bt(t,e){var i,n;for(i=0,n=t.length;i<n;i++)if(e(t[i]))return i;return-1}function kt(t,e){if(t&&!a(t)){var i,n=t[e];return i=r(n)?n.from||n.field||e:t[e]||e,f(i)?e:i}return e}function yt(t,e){var i,n,o,r,a=[];for(i=0,n=t.length;i<n;i++){for(var l in o={},r=t[i])o[l]=r[l];o.field=kt(e.fields,o.field),o.aggregates&&s(o.aggregates)&&(o.aggregates=yt(o.aggregates,e)),a.push(o)}return a}var wt=p.extend({init:function(t){var i,r=this;if(t&&(i=t.data),t=r.options=n({},r.options,t),r._map={},r._prefetch={},r._data=[],r._pristineData=[],r._ranges=[],r._view=[],r._pristineTotal=0,r._destroyed=[],r._pageSize=t.pageSize,r._page=t.page||(t.pageSize?1:e),r._sort=U(t.sort),r._filter=G(t.filter),r._group=Z(t.group),r._aggregate=t.aggregate,r._total=t.total,r._shouldDetachObservableParents=!0,p.fn.init.call(r),r.transport=_t.create(t,i,r),f(r.transport.push)&&r.transport.push({pushCreate:o(r._pushCreate,r),pushUpdate:o(r._pushUpdate,r),pushDestroy:o(r._pushDestroy,r)}),null!=t.offlineStorage)if("string"==typeof t.offlineStorage){var a=t.offlineStorage;r._storage={getItem:function(){return JSON.parse(localStorage.getItem(a))},setItem:function(t){localStorage.setItem(a,w(r.reader.serialize(t)))}}}else r._storage=t.offlineStorage;r.reader=new d.data.readers[t.schema.type||"json"](t.schema),r.reader.model,r._detachObservableParents(),r._data=r._observe(r._data),r._online=!0,r.bind(["push","error",v,"requestStart","sync","requestEnd","progress"],t)},options:{data:null,schema:{modelBase:N},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(i){return i!==e?this._online!=i&&(this._online=i,i)?this.sync():t.Deferred().resolve().promise():this._online},offlineData:function(t){return null==this.options.offlineStorage?null:t!==e?this._storage.setItem(t):this._storage.getItem()||[]},_isServerGrouped:function(){var t=this.group()||[];return this.options.serverGrouping&&t.length},_pushCreate:function(t){this._push(t,"pushCreate")},_pushUpdate:function(t){this._push(t,"pushUpdate")},_pushDestroy:function(t){this._push(t,"pushDestroy")},_push:function(t,e){var i=this._readData(t);i||(i=t),this[e](i)},_flatData:function(t,e){if(t){if(this._isServerGrouped())return dt(t);if(!e)for(var i=0;i<t.length;i++)t.at(i)}return t},parent:h,get:function(t){var e,i,n=this._flatData(this._data,this.options.useRanges);for(e=0,i=n.length;e<i;e++)if(n[e].id==t)return n[e]},getByUid:function(t){return this._getByUid(t,this._data)},_getByUid:function(t,e){var i,n,o=this._flatData(e,this.options.useRanges);if(o)for(i=0,n=o.length;i<n;i++)if(o[i].uid==t)return o[i]},indexOf:function(t){return vt(this._data,t)},at:function(t){return this._data.at(t)},data:function(t){if(t===e){if(this._data)for(var i=0;i<this._data.length;i++)this._data.at(i);return this._data}this._detachObservableParents(),this._data=this._observe(t),this._pristineData=t.slice(0),this._storeData(),this._ranges=[],this.trigger("reset"),this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data)},view:function(t){if(t===e)return this._view;this._view=this._observeView(t)},_observeView:function(t){var i=this;!function t(i,n,o,r,a){for(var s=0,l=i.length;s<l;s++){var c=i[s];if(c&&!(c instanceof r))if(c.hasSubgroups===e||a){for(var u=0;u<n.length;u++)if(n[u]===c){i[s]=n.at(u),ft(o,n,c,i[s]);break}}else t(c.items,n,o,r,a)}}(t,i._data,i._ranges,i.reader.model||R,i._isServerGrouped());var n=new O(t,i.reader.model);return n.parent=function(){return i.parent()},n},flatView:function(){return(this.group()||[]).length?dt(this._view):this._view},add:function(t){return this.insert(this._data.length,t)},_createNewModel:function(t){return this.reader.model?new this.reader.model(t):t instanceof R?t:new R(t)},insert:function(t,e){return e||(e=t,t=0),e instanceof N||(e=this._createNewModel(e)),this._isServerGrouped()?this._data.splice(t,0,this._wrapInEmptyGroup(e)):this._data.splice(t,0,e),this._insertModelInRange(t,e),e},pushInsert:function(e,i){var n=this._getCurrentRangeSpan();i||(i=e,e=0),s(i)||(i=[i]);var o=[],r=this.options.autoSync;this.options.autoSync=!1;try{for(var a=0;a<i.length;a++){var l=i[a],c=this.insert(e,l);o.push(c);var u=c.toJSON();this._isServerGrouped()&&(u=this._wrapInEmptyGroup(u)),this._pristineData.push(u),n&&n.length&&t(n).last()[0].pristineData.push(u),e++}}finally{this.options.autoSync=r}o.length&&this.trigger("push",{type:"create",items:o})},pushCreate:function(t){this.pushInsert(this._data.length,t)},pushUpdate:function(t){s(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var n=t[i],o=this._createNewModel(n),r=this.get(o.id);r?(e.push(r),r.accept(n),r.trigger(v),this._updatePristineForModel(r,n)):this.pushCreate(n)}e.length&&this.trigger("push",{type:"update",items:e})},pushDestroy:function(t){var e=this._removeItems(t);e.length&&this.trigger("push",{type:"destroy",items:e})},_removeItems:function(t){s(t)||(t=[t]);var e=[],i=this.options.autoSync;this.options.autoSync=!1;try{for(var n=0;n<t.length;n++){var o=t[n],r=this._createNewModel(o),a=!1;this._eachItem(this._data,function(t){for(var i=0;i<t.length;i++){var n=t.at(i);if(n.id===r.id){e.push(n),t.splice(i,1),a=!0;break}}}),a&&(this._removePristineForModel(r),this._destroyed.pop())}}finally{this.options.autoSync=i}return e},remove:function(t){var e,i=this,n=i._isServerGrouped();return this._eachItem(i._data,function(o){if((e=mt(o,t))&&n)return e.isNew&&e.isNew()||i._destroyed.push(e),!0}),this._removeModelFromRanges(t),t},destroyed:function(){return this._destroyed},created:function(){var t,e,i=[],n=this._flatData(this._data,this.options.useRanges);for(t=0,e=n.length;t<e;t++)n[t].isNew&&n[t].isNew()&&i.push(n[t]);return i},updated:function(){var t,e,i=[],n=this._flatData(this._data,this.options.useRanges);for(t=0,e=n.length;t<e;t++)n[t].isNew&&!n[t].isNew()&&n[t].dirty&&i.push(n[t]);return i},sync:function(){var e=this,i=[],n=[],o=e._destroyed,r=t.Deferred().resolve().promise();if(e.online()){if(!e.reader.model)return r;i=e.created(),n=e.updated();var a=[];e.options.batch&&e.transport.submit?a=e._sendSubmit(i,n,o):(a.push.apply(a,e._send("create",i)),a.push.apply(a,e._send("update",n)),a.push.apply(a,e._send("destroy",o))),r=t.when.apply(null,a).then(function(){var t,i;for(t=0,i=arguments.length;t<i;t++)arguments[t]&&e._accept(arguments[t]);e._storeData(!0),e._change({action:"sync"}),e.trigger("sync")})}else e._storeData(!0),e._change({action:"sync"});return r},cancelChanges:function(t){t instanceof d.data.Model?this._cancelModel(t):(this._destroyed=[],this._detachObservableParents(),this._data=this._observe(this._pristineData),this.options.serverPaging&&(this._total=this._pristineTotal),this._ranges=[],this._addRange(this._data,0),this._change(),this._markOfflineUpdatesAsDirty())},_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,function(t){for(var e=0;e<t.length;e++){var i=t.at(e);"update"!=i.__state__&&"create"!=i.__state__||(i.dirty=!0)}})},hasChanges:function(){var t,e,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(t=0,e=i.length;t<e;t++)if(i[t].isNew&&i[t].isNew()||i[t].dirty)return!0;return!1},_accept:function(e){var i,n=e.models,o=e.response,r=0,l=this._isServerGrouped(),c=this._pristineData,u=e.type;if(this.trigger("requestEnd",{response:o,type:u}),o&&!a(o)){if(o=this.reader.parse(o),this._handleCustomErrors(o))return;o=this.reader.data(o),s(o)||(o=[o])}else o=t.map(n,function(t){return t.toJSON()});for("destroy"===u&&(this._destroyed=[]),r=0,i=n.length;r<i;r++)"destroy"!==u?(n[r].accept(o[r]),"create"===u?c.push(l?this._wrapInEmptyGroup(n[r]):o[r]):"update"===u&&this._updatePristineForModel(n[r],o[r])):this._removePristineForModel(n[r])},_updatePristineForModel:function(t,e){this._executeOnPristineForModel(t,function(t,i){d.deepExtend(i[t],e)})},_executeOnPristineForModel:function(t,e){this._eachPristineItem(function(i){var n=gt(i,t);if(n>-1)return e(n,i),!0})},_removePristineForModel:function(t){this._executeOnPristineForModel(t,function(t,e){e.splice(t,1)})},_readData:function(t){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,t)},_eachPristineItem:function(t){var e=this,i=e.options,n=e._getCurrentRangeSpan();e._eachItem(e._pristineData,t),i.serverPaging&&i.useRanges&&u(n,function(i,n){e._eachItem(n.pristineData,t)})},_eachItem:function(t,e){t&&t.length&&(this._isServerGrouped()?function t(e,i){for(var n=0,o=e.length;n<o;n++)if(e[n].hasSubgroups){if(t(e[n].items,i))return!0}else if(i(e[n].items,e[n]))return!0}(t,e):e(t))},_pristineForModel:function(t){var e,i;return this._eachPristineItem(function(n){if((i=gt(n,t))>-1)return e=n[i],!0}),e},_cancelModel:function(t){var e=this,i=this._pristineForModel(t);this._eachItem(this._data,function(n){var o=vt(n,t);o>=0&&(!i||t.isNew()&&!i.__state__?(n.splice(o,1),e._removeModelFromRanges(t)):(n[o].accept(i),"update"==i.__state__&&(n[o].dirty=!0)))})},_submit:function(e,i){var o=this;o.trigger("requestStart",{type:"submit"}),o.trigger("progress"),o.transport.submit(n({success:function(i,n){var o=t.grep(e,function(t){return t.type==n})[0];o&&o.resolve({response:i,models:o.models,type:n})},error:function(t,i,n){for(var r=0;r<e.length;r++)e[r].reject(t);o.error(t,i,n)}},i))},_sendSubmit:function(e,i,n){var o=[];return this.options.batch&&(e.length&&o.push(t.Deferred(function(t){t.type="create",t.models=e})),i.length&&o.push(t.Deferred(function(t){t.type="update",t.models=i})),n.length&&o.push(t.Deferred(function(t){t.type="destroy",t.models=n})),this._submit(o,{data:{created:this.reader.serialize(it(e)),updated:this.reader.serialize(it(i)),destroyed:this.reader.serialize(it(n))}})),o},_promise:function(e,i,o){var r=this;return t.Deferred(function(t){r.trigger("requestStart",{type:o}),r.trigger("progress"),r.transport[o].call(r.transport,n({success:function(e){t.resolve({response:e,models:i,type:o})},error:function(e,i,n){t.reject(e),r.error(e,i,n)}},e))}).promise()},_send:function(t,e){var i,n,o=[],r=this.reader.serialize(it(e));if(this.options.batch)e.length&&o.push(this._promise({data:{models:r}},e,t));else for(i=0,n=e.length;i<n;i++)o.push(this._promise({data:r[i]},[e[i]],t));return o},read:function(e){var i=this,n=i._params(e),o=t.Deferred();return i._queueRequest(n,function(){var t=i.trigger("requestStart",{type:"read"});t?(i._dequeueRequest(),o.resolve(t)):(i.trigger("progress"),i._ranges=[],i.trigger("reset"),i.online()?i.transport.read({data:n,success:function(t){i._ranges=[],i.success(t,n),o.resolve()},error:function(){var t=j.call(arguments);i.error.apply(i,t),o.reject.apply(o,t)}}):null!=i.options.offlineStorage&&(i.success(i.offlineData(),n),o.resolve()))}),o.promise()},_readAggregates:function(t){return this.reader.aggregates(t)},success:function(t){var e=this.options;if(this.trigger("requestEnd",{response:t,type:"read"}),this.online()){if(t=this.reader.parse(t),this._handleCustomErrors(t))return void this._dequeueRequest();this._total=this.reader.total(t),this._pageSize>this._total&&(this._pageSize=this._total,this.options.pageSize&&this.options.pageSize>this._pageSize&&(this._pageSize=this.options.pageSize)),this._aggregate&&e.serverAggregates&&(this._aggregateResult=this._readAggregates(t)),t=this._readData(t),this._destroyed=[]}else{t=this._readData(t);var i,n=[],o={},r=this.reader.model,a=r?r.idField:"id";for(i=0;i<this._destroyed.length;i++){var s=this._destroyed[i][a];o[s]=s}for(i=0;i<t.length;i++){var l=t[i];"destroy"==l.__state__?o[l[a]]||this._destroyed.push(this._createNewModel(l)):n.push(l)}t=n,this._total=t.length}if(this._pristineTotal=this._total,this._pristineData=t.slice(0),this._detachObservableParents(),this.options.endless){this._data.unbind(v,this._changeHandler),this._isServerGrouped()&&this._data[this._data.length-1].value===t[0].value&&(function t(e,i){var n,o;if(i.items&&i.items.length)for(var r=0;r<i.items.length;r++)n=e.items[r],o=i.items[r],n&&o?n.hasSubgroups?t(n,o):n.field&&n.value==o.value?n.items.push.apply(n.items,o.items):e.items.push.apply(e.items,[o]):o&&e.items.push.apply(e.items,[o])}(this._data[this._data.length-1],t[0]),t.shift()),t=this._observe(t);for(var c=0;c<t.length;c++)this._data.push(t[c]);this._data.bind(v,this._changeHandler)}else this._data=this._observe(t);this._markOfflineUpdatesAsDirty(),this._storeData(),this._addRange(this._data),this._process(this._data),this._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var t=0;t<this._data.length;t++)this._data[t].parent&&(this._data[t].parent=h)},_storeData:function(t){var e=this._isServerGrouped(),i=this.reader.model;if(null!=this.options.offlineStorage){for(var n=function t(n){for(var o=[],r=0;r<n.length;r++){var a=n.at(r),s=a.toJSON();e&&a.items?s.items=t(a.items):(s.uid=a.uid,i&&(a.isNew()?s.__state__="create":a.dirty&&(s.__state__="update"))),o.push(s)}return o}(this._data),o=[],r=0;r<this._destroyed.length;r++){var a=this._destroyed[r].toJSON();a.__state__="destroy",o.push(a)}this.offlineData(n.concat(o)),t&&(this._pristineData=this.reader._wrapDataAccessBase(n))}},_addRange:function(t,e){var i=void 0!==e?e:this._skip||0,n=i+this._flatData(t,!0).length;this._ranges.push({start:i,end:n,data:t,pristineData:t.toJSON(),timestamp:this._timeStamp()}),this._sortRanges()},_sortRanges:function(){this._ranges.sort(function(t,e){return t.start-e.start})},error:function(t,e,i){this._dequeueRequest(),this.trigger("requestEnd",{}),this.trigger("error",{xhr:t,status:e,errorThrown:i})},_params:function(t){var e=n({take:this.take(),skip:this.skip(),page:this.page(),pageSize:this.pageSize(),sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate},t);return this.options.serverPaging||(delete e.take,delete e.skip,delete e.page,delete e.pageSize),this.options.serverGrouping?this.reader.model&&e.group&&(e.group=yt(e.group,this.reader.model)):delete e.group,this.options.serverFiltering?this.reader.model&&e.filter&&(e.filter=function t(e,i){var n,o,r={};for(var a in e)"filters"!==a&&(r[a]=e[a]);if(e.filters)for(r.filters=[],n=0,o=e.filters.length;n<o;n++)r.filters[n]=t(e.filters[n],i);else r.field=kt(i.fields,r.field);return r}(e.filter,this.reader.model)):delete e.filter,this.options.serverSorting?this.reader.model&&e.sort&&(e.sort=yt(e.sort,this.reader.model)):delete e.sort,this.options.serverAggregates?this.reader.model&&e.aggregate&&(e.aggregate=yt(e.aggregate,this.reader.model)):delete e.aggregate,e},_queueRequest:function(t,i){this._requestInProgress?this._pending={callback:o(i,this),options:t}:(this._requestInProgress=!0,this._pending=e,i())},_dequeueRequest:function(){this._requestInProgress=!1,this._pending&&this._queueRequest(this._pending.options,this._pending.callback)},_handleCustomErrors:function(t){if(this.reader.errors){var e=this.reader.errors(t);if(e)return this.trigger("error",{xhr:null,status:"customerror",errorThrown:"custom error",errors:e}),!0}return!1},_shouldWrap:function(t){var e=this.reader.model;return!(!e||!t.length||t[0]instanceof e)},_observe:function(t){var e=this,i=e.reader.model;return e._shouldDetachObservableParents=!0,t instanceof D?(e._shouldDetachObservableParents=!1,e._shouldWrap(t)&&(t.type=e.reader.model,t.wrapAll(t,t))):(t=new(e.pageSize()&&!e.options.serverPaging?O:D)(t,e.reader.model)).parent=function(){return e.parent()},e._isServerGrouped()&&function t(e,i){var n,o,r;if(i)for(n=0,o=e.length;n<o;n++)(r=e.at(n)).hasSubgroups?t(r.items,i):r.items=new O(r.items,i)}(t,i),e._changeHandler&&e._data&&e._data instanceof D?e._data.unbind(v,e._changeHandler):e._changeHandler=o(e._change,e),t.bind(v,e._changeHandler)},_updateTotalForAction:function(t,e){var i=parseInt(this._total,10);tt(this._total)||(i=parseInt(this._pristineTotal,10)),"add"===t?i+=e.length:"remove"===t?i-=e.length:"itemchange"===t||"sync"===t||this.options.serverPaging?"sync"===t&&(i=this._pristineTotal=parseInt(this._total,10)):i=this._pristineTotal,this._total=i},_change:function(t){var e,i,n=this,o=t?t.action:"";if("remove"===o)for(e=0,i=t.items.length;e<i;e++)t.items[e].isNew&&t.items[e].isNew()||n._destroyed.push(t.items[e]);if(!n.options.autoSync||"add"!==o&&"remove"!==o&&"itemchange"!==o)n._updateTotalForAction(o,t?t.items:[]),n._process(n._data,t);else{var r=function(e){"sync"===e.action&&(n.unbind("change",r),n._updateTotalForAction(o,t.items))};n.first("change",r),n.sync()}},_calculateAggregates:function(t,e){e=e||{};var i=new H(t),n=e.aggregate,o=e.filter;return o&&(i=i.filter(o)),i.aggregate(n)},_process:function(t,i){var n,o={};!0!==this.options.serverPaging&&(o.skip=this._skip,o.take=this._take||this._pageSize,o.skip===e&&this._page!==e&&this._pageSize!==e&&(o.skip=(this._page-1)*this._pageSize),this.options.useRanges&&(o.skip=this.currentRangeStart())),!0!==this.options.serverSorting&&(o.sort=this._sort),!0!==this.options.serverFiltering&&(o.filter=this._filter),!0!==this.options.serverGrouping&&(o.group=this._group),!0!==this.options.serverAggregates&&(o.aggregate=this._aggregate,this._aggregateResult=this._calculateAggregates(t,o)),n=this._queryProcess(t,o),this.view(n.data),n.total===e||this.options.serverFiltering||(this._total=n.total),(i=i||{}).items=i.items||this._view,this.trigger(v,i)},_queryProcess:function(t,e){return this.options.inPlaceSort?H.process(t,e,this.options.inPlaceSort):H.process(t,e)},_mergeState:function(t){return t!==e&&(this._pageSize=t.pageSize,this._page=t.page,this._sort=t.sort,this._filter=t.filter,this._group=t.group,this._aggregate=t.aggregate,this._skip=this._currentRangeStart=t.skip,this._take=t.take,this._skip===e&&(this._skip=this._currentRangeStart=this.skip(),t.skip=this.skip()),this._take===e&&this._pageSize!==e&&(this._take=this._pageSize,t.take=this._take),t.sort&&(this._sort=t.sort=U(t.sort)),t.filter&&(this._filter=t.filter=G(t.filter)),t.group&&(this._group=t.group=Z(t.group)),t.aggregate&&(this._aggregate=t.aggregate=function(t){return s(t)?t:[t]}(t.aggregate))),t},query:function(i){var n;if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===e||0===this._data.length)&&!this._destroyed.length){if(this.options.endless){var o=i.pageSize-this.pageSize();o>0?(o=this.pageSize(),i.page=i.pageSize/o,i.pageSize=o):(i.page=1,this.options.endless=!1)}return this.read(this._mergeState(i))}var r=this.trigger("requestStart",{type:"read"});return r||(this.trigger("progress"),n=this._queryProcess(this._data,this._mergeState(i)),this.options.serverFiltering||(n.total!==e?this._total=n.total:this._total=this._data.length),this._aggregateResult=this._calculateAggregates(this._data,i),this.view(n.data),this.trigger("requestEnd",{type:"read"}),this.trigger(v,{items:n.data})),t.Deferred().resolve(r).promise()},fetch:function(t){var e=this;return this._query().then(function(i){!0!==i&&f(t)&&t.call(e)})},_query:function(t){return this.query(n({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate()},t))},next:function(t){var e=this.page(),i=this.total();if(t=t||{},e&&!(i&&e+1>this.totalPages()))return this._skip=this._currentRangeStart=e*this.take(),e+=1,t.page=e,this._query(t),e},prev:function(t){var e=this.page();if(t=t||{},e&&1!==e)return this._skip=this._currentRangeStart=this._skip-this.take(),e-=1,t.page=e,this._query(t),e},page:function(t){var i;return t!==e?(t=_.max(_.min(_.max(t,1),this.totalPages()),1),void this._query({page:t})):(i=this.skip())!==e?_.round((i||0)/(this.take()||1))+1:e},pageSize:function(t){if(t===e)return this.take();this._query({pageSize:t,page:1})},sort:function(t){if(t===e)return this._sort;this._query({sort:t})},filter:function(t){if(t===e)return this._filter;this.trigger("reset"),this._query({filter:t,page:1})},group:function(t){if(t===e)return this._group;this._query({group:t})},total:function(){return parseInt(this._total||0,10)},aggregate:function(t){if(t===e)return this._aggregate;this._query({aggregate:t})},aggregates:function(){var t=this._aggregateResult;return a(t)&&(t=this._emptyAggregates(this.aggregate())),t},_emptyAggregates:function(t){var e={};if(!a(t)){var i={};s(t)||(t=[t]);for(var n=0;n<t.length;n++)i[t[n].aggregate]=0,e[t[n].field]=i}return e},_wrapInEmptyGroup:function(t){var e,i,n,o=this.group();for(n=o.length-1;n>=0;n--)i=o[n],e={value:t.get(i.field),field:i.field,items:e?[e]:[t],hasSubgroups:!!e,aggregates:this._emptyAggregates(i.aggregates)};return e},totalPages:function(){var t=this.pageSize()||this.total();return _.ceil((this.total()||0)/t)},inRange:function(t,e){var i=_.min(t+e,this.total());return!this.options.serverPaging&&this._data.length>0||this._findRange(t,i).length>0},lastRange:function(){var t=this._ranges;return t[t.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var t=this._ranges;return t.length&&t[0].data.length&&t[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(t,i,n){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,t=_.min(t||0,this.total()),n=f(n)?n:h;var o,r=this,a=_.max(_.floor(t/i),0)*i,s=_.min(a+i,r.total());if((o=r._findRange(t,_.min(t+i,r.total()))).length||0===r.total())return r._processRangeData(o,t,i,a,s),void n();i!==e&&(r._rangeExists(a,s)?a<t&&r.prefetch(s,i,function(){r.range(t,i,n)}):r.prefetch(a,i,function(){t>a&&s<r.total()&&!r._rangeExists(s,_.min(s+i,r.total()))?r.prefetch(s,i,function(){r.range(t,i,n)}):r.range(t,i,n)}))},_findRange:function(t,i){var n,o,r,a,s,l,c,u,h,d,f,p=this._ranges,m=[],g=this.options,v=g.serverSorting||g.serverPaging||g.serverFiltering||g.serverGrouping||g.serverAggregates;for(o=0,f=p.length;o<f;o++)if(t>=(n=p[o]).start&&t<=n.end){for(d=0,r=o;r<f;r++)if(n=p[r],(h=this._flatData(n.data,!0)).length&&t+d>=n.start){if(l=n.data,c=n.end,!v){if(g.inPlaceSort)u=this._queryProcess(n.data,{filter:this.filter()});else{var b=Z(this.group()||[]).concat(U(this.sort()||[]));u=this._queryProcess(n.data,{sort:b,filter:this.filter()})}h=l=u.data,u.total!==e&&(c=u.total)}if(a=0,t+d>n.start&&(a=t+d-n.start),s=h.length,c>i&&(s-=c-i),d+=s-a,m=this._mergeGroups(m,l,a,s),i<=n.end&&d==i-t)return m}break}return[]},_mergeGroups:function(t,e,i,n){if(this._isServerGrouped()){var o,r=e.toJSON();return t.length&&(o=t[t.length-1]),function t(e,i,n,o){for(var r,a,s=0;i.length&&o;){var l=(a=(r=i[s]).items).length;if(e&&e.field===r.field&&e.value===r.value?(e.hasSubgroups&&e.items.length?t(e.items[e.items.length-1],r.items,n,o):(a=a.slice(n,n+o),e.items=e.items.concat(a)),i.splice(s--,1)):r.hasSubgroups&&a.length?(t(r,a,n,o),r.items.length||i.splice(s--,1)):(a=a.slice(n,n+o),r.items=a,r.items.length||i.splice(s--,1)),0===a.length?n-=l:(n=0,o-=a.length),++s>=i.length)break}s<i.length&&i.splice(s,i.length-s)}(o,r,i,n),t.concat(r)}return t.concat(e.slice(i,n))},_processRangeData:function(t,i,n,o,r){this._pending=e,this._skip=i>this.skip()?_.min(r,(this.totalPages()-1)*this.take()):o,this._currentRangeStart=i,this._take=n;var a=this.options.serverPaging,s=this.options.serverSorting,l=this.options.serverFiltering,c=this.options.serverAggregates;try{this.options.serverPaging=!0,this._isServerGrouped()||this.group()&&this.group().length||(this.options.serverSorting=!0),this.options.serverFiltering=!0,this.options.serverPaging=!0,this.options.serverAggregates=!0,a&&(this._detachObservableParents(),this._data=t=this._observe(t)),this._process(t)}finally{this.options.serverPaging=a,this.options.serverSorting=s,this.options.serverFiltering=l,this.options.serverAggregates=c}},skip:function(){return this._skip===e?this._page!==e?(this._page-1)*(this.take()||1):e:this._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(t,e,i,n){var o=this,r=o._timeStamp();return function(a){var s,l,c,u=!1,h={start:t,end:e,data:[],timestamp:o._timeStamp()};if(o._dequeueRequest(),o.trigger("requestEnd",{response:a,type:"read"}),a=o.reader.parse(a),(c=o._readData(a)).length){for(s=0,l=o._ranges.length;s<l;s++)if(o._ranges[s].start===t){u=!0,(h=o._ranges[s]).pristineData=c,h.data=o._observe(c),h.end=h.start+o._flatData(h.data,!0).length,o._sortRanges();break}u||o._addRange(o._observe(c),t)}o._total=o.reader.total(a),(n||r>=o._currentRequestTimeStamp||!o._skipRequestsInProgress)&&(i&&c.length?i():o.trigger(v,{}))}},prefetch:function(t,e,i){var n=this,o=_.min(t+e,n.total()),r={take:e,skip:t,page:t/e+1,pageSize:e,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(t,o)?i&&i():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(r,function(){n.trigger("requestStart",{type:"read"})?n._dequeueRequest():n.transport.read({data:n._params(r),success:n._prefetchSuccessHandler(t,o,i),error:function(){var t=j.call(arguments);n.error.apply(n,t)}})})},100))},_multiplePrefetch:function(t,e,i){var n=_.min(t+e,this.total()),o={take:e,skip:t,page:t/e+1,pageSize:e,sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate};this._rangeExists(t,n)?i&&i():this.trigger("requestStart",{type:"read"})||this.transport.read({data:this._params(o),success:this._prefetchSuccessHandler(t,n,i,!0)})},_rangeExists:function(t,e){var i,n,o=this._ranges;for(i=0,n=o.length;i<n;i++)if(o[i].start<=t&&o[i].end>=e)return!0;return!1},_getCurrentRangeSpan:function(){var t,e,i=this._ranges,n=this.currentRangeStart(),o=n+(this.take()||0),r=[],a=i.length;for(e=0;e<a;e++)((t=i[e]).start<=n&&t.end>=n||t.start>=n&&t.start<=o)&&r.push(t);return r},_removeModelFromRanges:function(t){for(var e,i,n=0,o=this._ranges.length;n<o&&(i=this._ranges[n],this._eachItem(i.data,function(i){e=mt(i,t)}),!e);n++);this._updateRangesLength()},_insertModelInRange:function(t,e){var i,n,o=this._ranges||[],r=o.length;for(n=0;n<r;n++)if((i=o[n]).start<=t&&i.end>=t){this._getByUid(e.uid,i.data)||(this._isServerGrouped()?i.data.splice(t,0,this._wrapInEmptyGroup(e)):i.data.splice(t,0,e));break}this._updateRangesLength()},_updateRangesLength:function(){var t,e,i=this._ranges||[],n=i.length,o=!1,r=0,a=0;for(e=0;e<n;e++)t=i[e],a=this._flatData(t.data,!0).length-_.abs(t.end-t.start),o||0===a?o&&(t.start+=r,t.end+=r):(o=!0,r=a,t.end+=r)}}),_t={create:function(e,i,o){var a,s=e.transport?t.extend({},e.transport):null;return s?(s.read=typeof s.read===g?{url:s.read}:s.read,"jsdo"===e.type&&(s.dataSource=o),e.type&&(d.data.transports=d.data.transports||{},d.data.schemas=d.data.schemas||{},d.data.transports[e.type]?r(d.data.transports[e.type])?s=n(!0,{},d.data.transports[e.type],s):a=new d.data.transports[e.type](n(s,{data:i})):d.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),e.schema=n(!0,{},d.data.schemas[e.type],e.schema)),a||(a=f(s.read)?s:new ot(s))):a=new nt({data:e.data||[]}),a}};wt.create=function(i){(s(i)||i instanceof D)&&(i={data:i});var o,r,l,c=i||{},u=c.data,h=c.fields,f=c.table,p=c.select,m={};if(u||!h||c.transport||(f?u=function(e,i){var n,o,r,a,s,l,c,u=t(e)[0].tBodies[0],h=u?u.rows:[],d=i.length,f=[];for(n=0,o=h.length;n<o;n++){for(s={},c=!0,a=h[n].cells,r=0;r<d;r++)"th"!==(l=a[r]).nodeName.toLowerCase()&&(c=!1,s[i[r].field]=l.innerHTML);c||f.push(s)}return f}(f,h):p&&(u=function(e,i){var n,o,r,a,s,l,c=(e=t(e)[0]).options,u=i[0],h=i[1],d=[];for(n=0,o=c.length;n<o;n++)s={},a=c[n],(r=a.parentNode)===e&&(r=null),a.disabled||r&&r.disabled||(r&&(s.optgroup=r.label),s[u.field]=a.text,l=(l=a.attributes.value)&&l.specified?a.value:a.text,s[h.field]=l,d.push(s));return d}(p,h),c.group===e&&u[0]&&u[0].optgroup!==e&&(c.group="optgroup"))),d.data.Model&&h&&(!c.schema||!c.schema.model)){for(o=0,r=h.length;o<r;o++)(l=h[o]).type&&(m[l.field]=l);a(m)||(c.schema=n(!0,c.schema,{model:{fields:m}}))}return c.data=u,p=null,c.select=null,f=null,c.table=null,c instanceof wt?c:new wt(c)};var xt=N.define({idField:"id",init:function(t){var e=this.hasChildren||t&&t.hasChildren,i="items",o={};if(d.data.Model.fn.init.call(this,t),typeof this.children===g&&(i=this.children),o={schema:{data:i,model:{hasChildren:e,id:this.idField,fields:this.fields}}},typeof this.children!==g&&n(o,this.children),o.data=t,e||(e=o.schema.data),typeof e===g&&(e=d.getter(e)),f(e)){var r=e.call(this,this);r&&0===r.length?this.hasChildren=!1:this.hasChildren=!!r}this._childrenOptions=o,this.hasChildren&&this._initChildren(),this._loaded=!(!t||!t._loaded)},_initChildren:function(){var t,e,i,n=this;n.children instanceof Ct||(e=(t=n.children=new Ct(n._childrenOptions)).transport,i=e.parameterMap,e.parameterMap=function(t,e){return t[n.idField||"id"]=n.id,i&&(t=i(t,e)),t},t.parent=function(){return n},t.bind(v,function(t){t.node=t.node||n,n.trigger(v,t)}),t.bind("error",function(t){var e=n.parent();e&&(t.node=t.node||n,e.trigger("error",t))}),n._updateChildrenField())},append:function(t){this._initChildren(),this.loaded(!0),this.children.add(t)},hasChildren:!1,level:function(){for(var t=this.parentNode(),e=0;t&&t.parentNode;)e++,t=t.parentNode?t.parentNode():null;return e},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var i,n,r={},a="_query";return this.hasChildren?(this._initChildren(),i=this.children,r[this.idField||"id"]=this.id,this._loaded||(i._data=e,a="read"),i.one(v,o(this._childrenLoaded,this)),this._matchFilter&&(r.filter={field:"_matchFilter",operator:"eq",value:!0}),n=i[a](r)):this.loaded(!0),n||t.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(t){if(t===e)return this._loaded;this._loaded=t},shouldSerialize:function(t){return N.fn.shouldSerialize.call(this,t)&&"children"!==t&&"_loaded"!==t&&"hasChildren"!==t&&"_childrenOptions"!==t}});function St(t){return function(){var e=this._data,i=wt.fn[t].apply(this,j.call(arguments));return this._data!=e&&this._attachBubbleHandlers(),i}}var Ct=wt.extend({init:function(t){var e=xt.define({children:t});t.filter&&!t.serverFiltering&&(this._hierarchicalFilter=t.filter,t.filter=null),wt.fn.init.call(this,n(!0,{},{schema:{modelBase:e,model:e}},t)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind("error",function(e){t.trigger("error",e)})},read:function(t){var e=wt.fn.read.call(this,t);return this._hierarchicalFilter&&(this._data&&this._data.length>0?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=G(this.options.filter),this._hierarchicalFilter=null)),e},remove:function(t){var e,i=t.parentNode(),n=this;return i&&i._initChildren&&(n=i.children),e=wt.fn.remove.call(n,t),i&&!n.data().length&&(i.hasChildren=!1),e},success:St("success"),data:St("data"),insert:function(t,e){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),wt.fn.insert.call(this,t,e)},filter:function(t){if(t===e)return this._filter;!this.options.serverFiltering&&this._markHierarchicalQuery(t)&&(t={logic:"or",filters:[t,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:t,page:1})},_markHierarchicalQuery:function(t){var e,i,n,o,r;return(t=G(t))&&0!==t.filters.length?(e=H.filterExpr(t),n=e.fields,o=e.operators,i=r=new Function("d, __f, __o","return "+e.expression),(n.length||o.length)&&(r=function(t){return i(t,n,o)}),this._updateHierarchicalFilter(r),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(t){for(var e,i=this._data,n=!1,o=0;o<i.length;o++)(e=i[o]).hasChildren?(e._matchFilter=e.children._updateHierarchicalFilter(t),e._matchFilter||(e._matchFilter=t(e))):e._matchFilter=t(e),e._matchFilter&&(n=!0);return n},_find:function(t,e){var i,n,o,r,a=this._data;if(a){if(o=wt.fn[t].call(this,e))return o;for(i=0,n=(a=this._flatData(this._data)).length;i<n;i++)if((r=a[i].children)instanceof Ct&&(o=r[t](e)))return o}},get:function(t){return this._find("get",t)},getByUid:function(t){return this._find("getByUid",t)}});Ct.create=function(e){var i=(e=e&&e.push?{data:e}:e)||{},n=i.data,o=i.fields,r=i.list;return n&&n._dataSource?n._dataSource:(n||!o||i.transport||r&&(n=function e(i,n){var o,r,a,s,l,c,u,h,d=t(i).children(),f=[],p=n[0].field,m=n[1]&&n[1].field,g=n[2]&&n[2].field,v=n[3]&&n[3].field;function b(t,e){return t.filter(e).add(t.find(e))}for(o=0,r=d.length;o<r;o++)a={_loaded:!0},c=(s=d.eq(o))[0].firstChild,i=(h=s.children()).filter("ul"),h=h.filter(":not(ul)"),(l=s.attr("data-id"))&&(a.id=l),c&&(a[p]=3==c.nodeType?c.nodeValue:h.text()),m&&(a[m]=b(h,"a").attr("href")),v&&(a[v]=b(h,"img").attr("src")),g&&(u=b(h,".k-sprite").prop("className"),a[g]=u&&t.trim(u.replace("k-sprite",""))),i.length&&(a.items=e(i.eq(0),n)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),f.push(a);return f}(r,o)),i.data=n,i instanceof Ct?i:new Ct(i))};var At=d.Observable.extend({init:function(t,e,i){d.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=t,this.prefetch=!i;var n=this;t.bind("change",function(){n._change()}),t.bind("reset",function(){n._reset()}),this._syncWithDataSource(),this.setViewSize(e)},setViewSize:function(t){this.viewSize=t,this._recalculate()},at:function(t){var e=this.pageSize,i=!0;return t>=this.total()?(this.trigger("endreached",{index:t}),null):this.useRanges?this.useRanges?((t<this.dataOffset||t>=this.skip+e)&&(i=this.range(Math.floor(t/e)*e)),t===this.prefetchThreshold&&this._prefetch(),t===this.midPageThreshold?this.range(this.nextMidRange,!0):t===this.nextPageThreshold?this.range(this.nextFullRange):t===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),i?this.dataSource.at(t-this.dataOffset):(this.trigger("endreached",{index:t}),null)):void 0:this.dataSource.view()[t]},indexOf:function(t){return this.dataSource.data().indexOf(t)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var t=this,e=t.pageSize,i=t.skip-t.viewSize+e,n=_.max(_.floor(i/e),0)*e;this.offset=i,this.dataSource.prefetch(n,e,function(){t._goToRange(i,!0)})},range:function(t,e){if(this.offset===t)return!0;var i=this,n=this.pageSize,o=_.max(_.floor(t/n),0)*n,r=this.dataSource;return e&&(o+=n),r.inRange(t,n)?(this.offset=t,this._recalculate(),this._goToRange(t),!0):!this.prefetch||(r.prefetch(o,n,function(){i.offset=t,i._recalculate(),i._goToRange(t,!0)}),!1)},syncDataSource:function(){var t=this.offset;this.offset=null,this.range(t)},destroy:function(){this.unbind()},_prefetch:function(){var t=this,e=this.pageSize,i=this.skip+e,n=this.dataSource;n.inRange(i,e)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:i,take:e}),n.prefetch(i,e,function(){t._prefetching=!1,t.trigger("prefetched",{skip:i,take:e})}))},_goToRange:function(t,e){this.offset===t&&(this.dataOffset=t,this._expanding=e,this.dataSource.range(t,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var t=this.dataSource;this.length=this.useRanges?t.lastRange().end:t.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var t=this.dataSource;this._firstItemUid=t.firstItemUid(),this.dataOffset=this.offset=t.skip()||0,this.pageSize=t.pageSize(),this.useRanges=t.options.serverPaging},_recalculate:function(){var t=this.pageSize,e=this.offset,i=this.viewSize,n=Math.ceil(e/t)*t;this.skip=n,this.midPageThreshold=n+t-1,this.nextPageThreshold=n+i-1,this.prefetchThreshold=n+Math.floor(t/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+t-i,this.nextFullRange=n,this.previousMidRange=e-i,this.previousFullRange=n-t}}),Tt=d.Observable.extend({init:function(t,e){var i=this;d.Observable.fn.init.call(i),this.dataSource=t,this.batchSize=e,this._total=0,this.buffer=new At(t,3*e),this.buffer.bind({endreached:function(t){i.trigger("endreached",{index:t.index})},prefetching:function(t){i.trigger("prefetching",{skip:t.skip,take:t.take})},prefetched:function(t){i.trigger("prefetched",{skip:t.skip,take:t.take})},reset:function(){i._total=0,i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize),i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(t){var e,i=this.buffer,n=t*this.batchSize,o=this.batchSize,r=[];i.offset>n&&i.at(i.offset-1);for(var a=0;a<o&&null!==(e=i.at(n+a));a++)r.push(e);return r},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});n(!0,d.data,{readers:{json:ht},Query:H,DataSource:wt,HierarchicalDataSource:Ct,Node:xt,ObservableObject:R,ObservableArray:D,LazyObservableArray:O,LocalTransport:nt,RemoteTransport:ot,Cache:rt,DataReader:ht,Model:N,Buffer:At,BatchBuffer:Tt})}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(r).concat([o]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){var n={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,l=[],c=i(405);function u(t,e){for(var i=0;i<t.length;i++){var o=t[i],r=n[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(g(o.parts[a],e))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(g(o.parts[a],e));n[o.id]={id:o.id,refs:1,parts:s}}}}function h(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function d(t,e){var i=r(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(t.insertAt.before,i);i.insertBefore(e,o)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function p(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return m(e,t.attrs),d(t,e),e}function m(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function g(t,e){var i,n,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var l=s++;i=a||(a=p(e)),n=b.bind(null,i,l,!1),o=b.bind(null,i,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),d(t,e),e}(e),n=function(t,e,i){var n=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(n=c(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i,e),o=function(){f(i),i.href&&URL.revokeObjectURL(i.href)}):(i=p(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){f(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=h(t,e);return u(i,e),function(t){for(var o=[],r=0;r<i.length;r++){var a=i[r];(s=n[a.id]).refs--,o.push(s)}t&&u(h(t,e),e);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function b(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=i.Class,a=i.support,s=i.getOffset,l=i._outerWidth,c=i._outerHeight,u=/k-state-border-(\w+)/,h=t(document.documentElement),d=t.proxy,f=t(window),p=a.transitions.css+"transform",m=t.extend,g=".kendoPopup",v=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function b(e,i){return!(!e||!i)&&(e===i||t.contains(e,i))}var k=o.extend({init:function(e,n){var r,s=this;(n=n||{}).isRtl&&(n.origin=n.origin||"bottom right",n.position=n.position||"top right"),o.fn.init.call(s,e,n),e=s.element,n=s.options,s.collisions=n.collision?n.collision.split(" "):[],s.downEvent=i.applyEventMap("down",i.guid()),1===s.collisions.length&&s.collisions.push(s.collisions[0]),r=t(s.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=t(t(n.appendTo)[0]||r[0]||document.body),s.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:"absolute"}).appendTo(n.appendTo).attr("aria-hidden",!0).on("mouseenter"+g,function(){s._hovered=!0}).on("wheel"+g,function(e){var i=t(e.target).find(".k-list"),n=i.parent();i.length&&i.is(":visible")&&(0===n.scrollTop()&&e.originalEvent.deltaY<0||n.scrollTop()===n.prop("scrollHeight")-n.prop("offsetHeight")&&e.originalEvent.deltaY>0)&&e.preventDefault()}).on("mouseleave"+g,function(){s._hovered=!1}),s.wrapper=t(),!1===n.animation&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),m(n.animation.open,{complete:function(){s.wrapper.css({overflow:"visible"}),s._activated=!0,s._trigger("activate")}}),m(n.animation.close,{complete:function(){s._animationClose()}}),s._mousedownProxy=function(t){s._mousedown(t)},a.mobileOS.android?s._resizeProxy=function(t){setTimeout(function(){s._resize(t)},600)}:s._resizeProxy=function(t){s._resize(t)},n.toggleTarget&&t(n.toggleTarget).on(n.toggleEvent+g,t.proxy(s.toggle,s))},events:["open","activate","close","deactivate"],options:{name:"Popup",toggleEvent:"click",origin:"bottom left",position:"top left",anchor:"body",appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var t=this.wrapper.data("location");this.wrapper.hide(),t&&this.wrapper.css(t),"body"!=this.options.anchor&&this._hideDirClass(),this._closing=!1,this._trigger("deactivate")},destroy:function(){var e,n=this.options,r=this.element.off(g);o.fn.destroy.call(this),n.toggleTarget&&t(n.toggleTarget).off(g),n.modal||(h.unbind(this.downEvent,this._mousedownProxy),this._toggleResize(!1)),i.destroy(this.element.children()),r.removeData(),n.appendTo[0]===document.body&&((e=r.parent(".k-animation-container"))[0]?e.remove():r.remove())},open:function(e,n){var o,r,s={isFixed:!isNaN(parseInt(n,10)),x:e,y:n},l=this.element,c=this.options,u=t(c.anchor),d=l[0]&&l.hasClass("km-widget");if(!this.visible()){if(c.copyAnchorStyles&&(d&&"font-size"==v[0]&&v.shift(),l.css(i.getComputedStyles(u[0],v))),l.data("animating")||this._trigger("open"))return;this._activated=!1,c.modal||(h.unbind(this.downEvent,this._mousedownProxy).bind(this.downEvent,this._mousedownProxy),this._toggleResize(!1),this._toggleResize(!0)),this.wrapper=r=i.wrap(l,c.autosize).css({overflow:"hidden",display:"block",position:"absolute"}).attr("aria-hidden",!1),a.mobileOS.android&&r.css(p,"translatez(0)"),r.css("position"),t(c.appendTo)[0]==document.body&&r.css("top","-10000px"),this.flipped=this._position(s),o=this._openAnimation(),"body"!=c.anchor&&this._showDirClass(o),l.data("effects",o.effects).kendoStop(!0).kendoAnimate(o).attr("aria-hidden",!1)}},_location:function(e){var n,o=this.element,r=this.options,s=t(r.anchor),l=o[0]&&o.hasClass("km-widget");r.copyAnchorStyles&&(l&&"font-size"==v[0]&&v.shift(),o.css(i.getComputedStyles(s[0],v))),this.wrapper=n=i.wrap(o,r.autosize).css({overflow:"hidden",display:"block",position:"absolute"}),a.mobileOS.android&&n.css(p,"translatez(0)"),n.css("position"),t(r.appendTo)[0]==document.body&&n.css("top","-10000px"),this._position(e||{});var c=n.offset();return{width:i._outerWidth(n),height:i._outerHeight(n),left:c.left,top:c.top}},_openAnimation:function(){var t=m(!0,{},this.options.animation.open);return t.effects=i.parseEffects(t.effects,this.flipped),t},_hideDirClass:function(){var e=t(this.options.anchor),n=((e.attr("class")||"").match(u)||["","down"])[1],o="k-state-border-"+n;e.removeClass(o).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").removeClass("k-state-active").removeClass(o),this.element.removeClass("k-state-border-"+i.directions[n].reverse)},_showDirClass:function(e){var n=e.effects.slideIn?e.effects.slideIn.direction:"down",o="k-state-border-"+n;t(this.options.anchor).addClass(o).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").addClass("k-state-active").addClass(o),this.element.addClass("k-state-border-"+i.directions[n].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?"close":"open"]()},visible:function(){return this.element.is(":visible")},close:function(e){var n,o,r,a,s=this.options;if(this.visible()){if(n=this.wrapper[0]?this.wrapper:i.wrap(this.element).hide(),this._toggleResize(!1),this._closing||this._trigger("close"))return void this._toggleResize(!0);this.element.find(".k-popup").each(function(){var i=t(this).data("kendoPopup");i&&i.close(e)}),h.unbind(this.downEvent,this._mousedownProxy),e?o={hide:!0,effects:{}}:(o=m(!0,{},s.animation.close),r=this.element.data("effects"),!(a=o.effects)&&!i.size(a)&&r&&i.size(r)&&(o.effects=r,o.reverse=!0),this._closing=!0),this.element.kendoStop(!0).attr("aria-hidden",!0),n.css({overflow:"hidden"}).attr("aria-hidden",!0),this.element.kendoAnimate(o),e&&this._animationClose()}},_trigger:function(t){return this.trigger(t,{type:t})},_resize:function(t){var e=this;-1!==a.resize.indexOf(t.type)?(clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e._position(),e._resizeTimeout=null},50)):(!e._hovered||e._activated&&e.element.hasClass("k-list-container"))&&e.close()},_toggleResize:function(t){var e=t?"on":"off",i=a.resize;a.mobileOS.ios||a.mobileOS.android||(i+=" scroll"),this._scrollableParents()[e]("scroll",this._resizeProxy),f[e](i,this._resizeProxy)},_mousedown:function(e){var n=this.element[0],o=this.options,r=t(o.anchor)[0],a=o.toggleTarget,s=i.eventTarget(e),l=t(s).closest(".k-popup"),c=l.parent().parent(".km-shim").length;l=l[0],!c&&l&&l!==this.element[0]||"popover"!==t(e.target).closest("a").data("rel")&&(b(n,s)||b(r,s)||a&&b(t(a)[0],s)||this.close())},_fit:function(t,e,i){var n=0;return t+e>i&&(n=i-(t+e)),t<0&&(n=-t),n},_flip:function(t,e,i,n,o,r,a){var s=0;return a=a||e,r!==o&&"center"!==r&&"center"!==o&&(t+a>n&&(s+=-(i+e)),t+s<0&&(s+=i+e)),s},_scrollableParents:function(){return t(this.options.anchor).parentsUntil("body").filter(function(t,e){return i.isScrollable(e)})},_position:function(e){var n,o,r,u,h,d,f,p=this.element,g=this.wrapper,v=this.options,b=t(v.viewport),k=a.zoomLevel(),y=!!(b[0]==window&&window.innerWidth&&k<=1.02),w=t(v.anchor),_=v.origin.toLowerCase().split(" "),x=v.position.toLowerCase().split(" "),S=this.collisions,C=10002,A=0,T=document.documentElement;if(h=v.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:b.offset(),y?(d=window.innerWidth,f=window.innerHeight):(d=b.width(),f=b.height()),y&&T.scrollHeight-T.clientHeight>0&&(d-=(v.isRtl?-1:1)*i.support.scrollbar()),(n=w.parents().filter(g.siblings()))[0])if(r=Math.max(Number(n.css("zIndex")),0))C=r+10;else for(u=(o=w.parentsUntil(n)).length;A<u;A++)(r=Number(t(o[A]).css("zIndex")))&&C<r&&(C=r+10);g.css("zIndex",C),e&&e.isFixed?g.css({left:e.x,top:e.y}):g.css(this._align(_,x));var j=s(g,"position",w[0]===g.offsetParent()[0]),M=s(g);w.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(j=s(g,"position",!0),M=s(g)),M.top-=h.top,M.left-=h.left,this.wrapper.data("location")||g.data("location",m({},j));var z=m({},M),E=m({},j),I=v.adjustSize;"fit"===S[0]&&(E.top+=this._fit(z.top,c(g)+I.height,f/k)),"fit"===S[1]&&(E.left+=this._fit(z.left,l(g)+I.width,d/k));var D=m({},E),O=c(p),P=c(g);return!g.height()&&O&&(P+=O),"flip"===S[0]&&(E.top+=this._flip(z.top,O,c(w),f/k,_[0],x[0],P)),"flip"===S[1]&&(E.left+=this._flip(z.left,l(p),l(w),d/k,_[1],x[1],l(g))),p.css("position","absolute"),g.css(E),E.left!=D.left||E.top!=D.top},_align:function(e,i){var n,o=this.wrapper,r=t(this.options.anchor),a=e[0],u=e[1],h=i[0],d=i[1],f=s(r),p=t(this.options.appendTo),m=l(o),g=c(o)||c(o.children().first()),v=l(r),b=c(r),k=f.top,y=f.left,w=Math.round;return p[0]!=document.body&&(k-=(n=s(p)).top,y-=n.left),"bottom"===a&&(k+=b),"center"===a&&(k+=w(b/2)),"bottom"===h&&(k-=g),"center"===h&&(k-=w(g/2)),"right"===u&&(y+=v),"center"===u&&(y+=w(v/2)),"right"===d&&(y-=m),"center"===d&&(y-=w(m/2)),{top:k,left:y}}});n.plugin(k);var y=i.support.stableSort,w=r.extend({init:function(e){this.element=t(e),this.element.autoApplyNS("kendoTabKeyTrap")},trap:function(){this.element.on("keydown",d(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy("kendoTabKeyTrap")},destroy:function(){this.element.kendoDestroy("kendoTabKeyTrap"),this.element=void 0},shouldTrap:function(){return!0},_keepInTrap:function(t){if(9===t.which&&this.shouldTrap()&&!t.isDefaultPrevented()){var e=this._focusableElements(),i=this._sortFocusableElements(e),n=this._nextFocusable(t,i);this._focus(n),t.preventDefault()}},_focusableElements:function(){var e=this.element.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]").filter(function(e,i){return i.tabIndex>=0&&t(i).is(":visible")&&!t(i).is("[disabled]")});return this.element.is("[tabindex]")&&e.push(this.element[0]),e},_sortFocusableElements:function(t){var e;return y?e=t.sort(function(t,e){return t.tabIndex-e.tabIndex}):(t.each(function(t,e){e.setAttribute("__k_index",t)}),e=t.sort(function(t,e){return t.tabIndex===e.tabIndex?parseInt(t.getAttribute("__k_index"),10)-parseInt(e.getAttribute("__k_index"),10):t.tabIndex-e.tabIndex}),t.removeAttr("__k_index")),e},_nextFocusable:function(t,e){var i=e.length,n=e.index(t.target);return e.get((n+(t.shiftKey?-1:1))%i)},_focus:function(t){"IFRAME"!=t.nodeName?(t.focus(),"INPUT"==t.nodeName&&t.setSelectionRange&&this._haveSelectionRange(t)&&t.setSelectionRange(0,t.value.length)):t.contentWindow.document.body.focus()},_haveSelectionRange:function(t){var e=t.type.toLowerCase();return"text"===e||"search"===e||"url"===e||"tel"===e||"password"===e}});n.Popup.TabKeyTrap=w}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.support,o=i.Class,r=i.Observable,a=t.now,s=t.extend,l=n.mobileOS,c=l&&l.android,u=800,h=n.browser.msie?5:0,d={api:0,touch:0,mouse:9,pointer:9},f=!n.touch||n.mouseAndTouchPresent;function p(t,e){var i=t.x.location,n=t.y.location,o=e.x.location,r=e.y.location,a=i-o,s=n-r;return{center:{x:(i+o)/2,y:(n+r)/2},distance:Math.sqrt(a*a+s*s)}}function m(t){var e,i,o,r=[],a=t.originalEvent,s=t.currentTarget,l=0;if(t.api)r.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t,type:"api"});else if(t.type.match(/touch/))for(e=(i=a?a.changedTouches:[]).length;l<e;l++)o=i[l],r.push({location:o,event:t,target:o.target,currentTarget:s,id:o.identifier,type:"touch"});else n.pointers||n.msPointers?r.push({location:a,event:t,target:t.target,currentTarget:s,id:a.pointerId,type:"pointer"}):r.push({id:1,event:t,target:t.target,currentTarget:s,location:t,type:"mouse"});return r}var g=o.extend({init:function(t,e){this.axis=t,this._updateLocationData(e),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=a()},move:function(t){var e=t["page"+this.axis],i=a(),n=i-this.timeStamp||1;!e&&c||(this.delta=e-this.location,this._updateLocationData(t),this.initialDelta=e-this.startLocation,this.velocity=this.delta/n,this.timeStamp=i)},_updateLocationData:function(t){var e=this.axis;this.location=t["page"+e],this.client=t["client"+e],this.screen=t["screen"+e]}}),v=o.extend({init:function(t,e,i){s(this,{x:new g("X",i.location),y:new g("Y",i.location),type:i.type,useClickAsTap:t.useClickAsTap,threshold:t.threshold||d[i.type],userEvents:t,target:e,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(t.proxy(this,"_hold"),this.userEvents.minHold),this._trigger("press",this.pressEvent)},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(t){if(!this._finished){if(this.x.move(t.location),this.y.move(t.location),!this._moved){if(this._withinIgnoreThreshold())return;if(k.current&&k.current!==this.userEvents)return this.dispose();this._start(t)}this._finished||this._trigger("move",t)}},end:function(t){this.endTime=a(),this._finished||(this._finished=!0,this._trigger("release",t),this._moved?this._trigger("end",t):this.useClickAsTap||this._trigger("tap",t),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var e=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),e.splice(t.inArray(this,e),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(t){clearTimeout(this._holdTimeout),this.startTime=a(),this._moved=!0,this._trigger("start",t)},_trigger:function(t,e){var i=e.event,n={touch:this,x:this.x,y:this.y,target:this.target,event:i};this.userEvents.notify(t,n)&&i.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold}});function b(t){for(var e=i.eventMap.up.split(" "),n=0,o=e.length;n<o;n++)t(e[n])}var k=r.extend({init:function(e,o){var a,l=i.guid();if(o=o||{},a=this.filter=o.filter,this.threshold=o.threshold||h,this.minHold=o.minHold||u,this.touches=[],this._maxTouches=o.multiTouch?2:1,this.allowSelection=o.allowSelection,this.captureUpIfMoved=o.captureUpIfMoved,this.useClickAsTap=!o.fastTap&&!n.delayedClick(),this.eventNS=l,e=t(e).handler(this),r.fn.init.call(this),s(this,{element:e,surface:o.global&&f?t(e[0].ownerDocument.documentElement):t(o.surface||e),stopPropagation:o.stopPropagation,pressed:!1}),this.surface.handler(this).on(i.applyEventMap("move",l),"_move").on(i.applyEventMap("up cancel",l),"_end"),e.on(i.applyEventMap("down",l),a,"_start"),this.useClickAsTap&&e.on(i.applyEventMap("click",l),a,"_click"),(n.pointers||n.msPointers)&&(n.browser.version<11?e.css("-ms-touch-action",o.touchAction&&"none"!=o.touchAction?"pinch-zoom double-tap-zoom "+o.touchAction:"pinch-zoom double-tap-zoom"):e.css("touch-action",o.touchAction||"none")),o.preventDragEvent&&e.on(i.applyEventMap("dragstart",l),i.preventDefault),e.on(i.applyEventMap("mousedown",l),a,{root:e},"_select"),this.captureUpIfMoved&&n.eventCapture){var c=this.surface[0],d=t.proxy(this.preventIfMoving,this);b(function(t){c.addEventListener(t,d,!0)})}this.bind(["press","hold","tap","start","move","end","release","cancel","gesturestart","gesturechange","gestureend","gesturetap","select"],o)},preventIfMoving:function(t){this._isMoved()&&t.preventDefault()},destroy:function(){var t=this;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&n.eventCapture){var e=t.surface[0];b(function(i){e.removeEventListener(i,t.preventIfMoving)})}t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}},capture:function(){k.current=this},cancel:function(){this._disposeAll(),this.trigger("cancel")},notify:function(t,e){var i=this.touches;if(this._isMultiTouch()){switch(t){case"move":t="gesturechange";break;case"end":t="gestureend";break;case"tap":t="gesturetap"}s(e,{touches:i},p(i[0],i[1]))}return this.trigger(t,s(e,{type:t}))},press:function(t,e,i){this._apiCall("_start",t,e,i)},move:function(t,e){this._apiCall("_move",t,e)},end:function(t,e){this._apiCall("_end",t,e)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var t=this.touches;t.length>0;)t.pop().dispose()},_isMoved:function(){return t.grep(this.touches,function(t){return t.isMoved()}).length},_select:function(t){this.allowSelection&&!this.trigger("select",{event:t})||t.preventDefault()},_start:function(e){var i,n,o=0,r=this.filter,a=m(e),s=a.length,l=e.which;if(!(l&&l>1||this._maxTouchesReached()))for(k.current=null,this.currentTarget=e.currentTarget,this.stopPropagation&&e.stopPropagation();o<s&&!this._maxTouchesReached();o++)n=a[o],(i=r?t(n.currentTarget):this.element).length&&(n=new v(this,i,n),this.touches.push(n),n.press(),this._isMultiTouch()&&this.notify("gesturestart",{}))},_move:function(t){this._eachTouch("move",t)},_end:function(t){this._eachTouch("end",t)},_click:function(e){var i={touch:{initialTouch:e.target,target:t(e.currentTarget),endTime:a(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:t(e.currentTarget),event:e,type:"tap"};this.trigger("tap",i)&&e.preventDefault()},_eachTouch:function(t,e){var i,n,o,r,a={},s=m(e),l=this.touches;for(i=0;i<l.length;i++)a[(n=l[i]).id]=n;for(i=0;i<s.length;i++)(r=a[(o=s[i]).id])&&r[t](o)},_apiCall:function(e,i,n,o){this[e]({api:!0,pageX:i,pageY:n,clientX:i,clientY:n,target:t(o||this.element)[0],stopPropagation:t.noop,preventDefault:t.noop})}});k.defaultThreshold=function(t){h=t},k.minHold=function(t){u=t},i.getTouches=m,i.touchDelta=p,i.UserEvents=k}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n=i(8),o=i(26),r=i(25),a=i(47)("src"),s=Function.toString,l=(""+s).split("toString");i(15).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,i,s){var c="function"==typeof i;c&&(r(i,"name")||o(i,"name",e)),t[e]!==i&&(c&&(r(i,a)||o(i,a,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:o(t,e,i):(delete t[e],o(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,i){var n=i(2),o=i(7),r=i(37),a=/"/g,s=function(t,e,i,n){var o=String(r(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+o+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){var n,o,r,a,s,l,c,u,h;i(0),u=[i(4)],n="function"==typeof(c=function(){return function(t){kendo.drawing.util=kendo.drawing.util||{},kendo.deepExtend(kendo.drawing.util,{createPromise:function(){return t.Deferred()},promiseAll:function(e){return t.when.apply(t,e)}})}(window.kendo.jQuery),window.kendo})?c.apply(e,u):c,i(0),u=[i(4)],o="function"==typeof(c=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[n,i(44),o],r="function"==typeof(c=function(){!function(t){window.kendo=window.kendo||{};var e=kendo.drawing,i=e.util,n=kendo.Class,o=kendo.util,r=kendo.support,a=r.browser,s=i.createPromise,l=i.promiseAll,c={extend:function(t){for(var e in this)"extend"!==e&&(t[e]=this[e])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(t){return this._observers?this._observers.push(t):this._observers=[t],this},removeObserver:function(t){var e=this.observers(),i=e.indexOf(t);return-1!==i&&e.splice(i,1),this},trigger:function(t,e){var i=this._observers;if(i&&!this._suspended)for(var n=0;n<i.length;n++){var o=i[n];o[t]&&o[t](e)}return this},optionsChange:function(t){void 0===t&&(t={}),t.element=this,this.trigger("optionsChange",t)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}};function u(t,e){return t.push.apply(t,e),t}var h={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1000:"m"};function d(t){for(var e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],i="";t>0;)t<e[0]?e.shift():(i+=h[e[0]],t-=e[0]);return i}var f="undefined";function p(t){return typeof t!==f}var m=1;function g(){return"kdef"+m++}var v=Math.PI/180,b=Number.MAX_VALUE,k=-Number.MAX_VALUE;function y(t){return t/v}var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=String.fromCharCode;function x(t){for(var e="",i=0,n=function(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=_(n):n<2048?(e+=_(192|n>>>6),e+=_(128|63&n)):n<65536&&(e+=_(224|n>>>12),e+=_(128|n>>>6&63),e+=_(128|63&n))}return e}(t);i<n.length;){var o=n.charCodeAt(i++),r=n.charCodeAt(i++),a=n.charCodeAt(i++),s=o>>2,l=(3&o)<<4|r>>4,c=(15&r)<<2|a>>6,u=63&a;isNaN(r)?c=u=64:isNaN(a)&&(u=64),e=e+w.charAt(s)+w.charAt(l)+w.charAt(c)+w.charAt(u)}return e}function S(t){return p((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}function C(t){return void 0===t&&(t={}),t.touch?t.touch.initialTouch:t.target}function A(t){return""===t||null===t||"none"===t||"transparent"===t||!p(t)}function T(t){if(t)return t[t.length-1]}function j(t,e,i){return Math.max(Math.min(t,i),e)}function M(t,e){return t.length<2?t.slice():function t(i){if(i.length<=1)return i;var n=Math.floor(i.length/2),o=i.slice(0,n),r=i.slice(n);return o=t(o),r=t(r),function(t,i){for(var n=[],o=0,r=0,a=0;o<t.length&&r<i.length;)e(t[o],i[r])<=0?n[a++]=t[o++]:n[a++]=i[r++];return o<t.length&&n.push.apply(n,t.slice(o)),r<i.length&&n.push.apply(n,i.slice(r)),n}(o,r)}(t)}function z(t){return t*v}function E(t,e){var i=function(t){return t?Math.pow(10,t):1}(e);return Math.round(t*i)/i}function I(t,e){return p(t)?t:e}function D(t,e){for(var i in e)for(var n=i.trim().split(" "),o=0;o<n.length;o++)t.addEventListener(n[o],e[i],!1)}function O(t){var e=t.getBoundingClientRect(),i=document.documentElement;return{top:e.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:e.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}function P(t,e){for(var i={},n=window.getComputedStyle(t)||{},o=Array.isArray(e)?e:[e],r=0;r<o.length;r++){var a=o[r];i[a]=n[a]}return i}function R(t){return isNaN(t)?t:t+"px"}function L(t,e){if(!e){var i=P(t,["width","height"]);return{width:parseInt(i.width,10),height:parseInt(i.height,10)}}var n=e.width,o=e.height;p(n)&&(t.style.width=R(n)),p(o)&&(t.style.height=R(o))}function F(t,e){for(var i in void 0===e&&(e={}),e)for(var n=i.trim().split(" "),o=0;o<n.length;o++)t.removeEventListener(n[o],e[i],!1)}var N={append:u,arabicToRoman:d,createPromise:s,defined:p,definitionId:g,deg:y,encodeBase64:x,eventCoordinates:S,eventElement:C,isTransparent:A,last:T,limitValue:j,mergeSort:M,promiseAll:l,rad:z,round:E,valueOrDefault:I,bindEvents:D,elementOffset:O,elementSize:L,elementStyles:P,unbindEvents:F,DEG_TO_RAD:v,MAX_NUM:b,MIN_NUM:k},B={}.toString,q=n.extend({init:function(t,e){for(var i in void 0===e&&(e=""),this.prefix=e,t){var n=t[i];n=this._wrap(n,i),this[i]=n}},get:function(t){for(var e=t.split("."),i=this;e.length&&i;){var n=e.shift();i=i[n]}return i},set:function(t,e){var i=this.get(t);i!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))},_set:function(t,e){var i=t.indexOf(".")>=0,n=this,o=t;if(i){for(var r=o.split("."),a=this.prefix;r.length>1;){o=r.shift(),a+=o+".";var s=n[o];s||((s=new q({},a)).addObserver(this),n[o]=s),n=s}o=r[0]}n._clear(o),n[o]=e},_clear:function(t){var e=this[t];e&&e.removeObserver&&e.removeObserver(this)},_wrap:function(t,e){var i=B.call(t),o=t;return null!==o&&p(o)&&"[object Object]"===i&&(t instanceof q||t instanceof n||(o=new q(o,this.prefix+e+".")),o.addObserver(this)),o}});function V(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function H(t){return function(){return this[t]}}function U(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=n.charAt(0).toUpperCase()+n.substring(1,n.length);t["set"+o]=V(n),t["get"+o]=H(n)}}c.extend(q.prototype);var W=n.extend({init:function(t,e,i,n,o,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),this.a=t,this.b=e,this.c=i,this.d=n,this.e=o,this.f=r},multiplyCopy:function(t){return new W(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},invert:function(){var t=this.a,e=this.b,i=this.c,n=this.d,o=this.e,r=this.f,a=t*n-e*i;return 0===a?null:new W(n/a,-e/a,-i/a,t/a,(i*r-n*o)/a,(e*o-t*r)/a)},clone:function(){return new W(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(t){return!!t&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f},round:function(t){return this.a=E(this.a,t),this.b=E(this.b,t),this.c=E(this.c,t),this.d=E(this.d,t),this.e=E(this.e,t),this.f=E(this.f,t),this},toArray:function(t){var e=[this.a,this.b,this.c,this.d,this.e,this.f];if(p(t))for(var i=0;i<e.length;i++)e[i]=E(e[i],t);return e},toString:function(t,e){return void 0===e&&(e=","),this.toArray(t).join(e)}});function G(t){return t&&"function"==typeof t.matrix?t.matrix():t}W.translate=function(t,e){return new W(1,0,0,1,t,e)},W.unit=function(){return new W(1,0,0,1,0,0)},W.rotate=function(t,e,i){var n=new W;return n.a=Math.cos(z(t)),n.b=Math.sin(z(t)),n.c=-n.b,n.d=n.a,n.e=e-e*n.a+i*n.b||0,n.f=i-i*n.a-e*n.b||0,n},W.scale=function(t,e){return new W(t,0,0,e,0,0)},W.IDENTITY=W.unit();var Q=n.extend({init:function(t,e){this.x=t||0,this.y=e||0},equals:function(t){return t&&t.x===this.x&&t.y===this.y},clone:function(){return new Q(this.x,this.y)},rotate:function(t,e){var i=Q.create(e)||Q.ZERO;return this.transform(W.rotate(t,i.x,i.y))},translate:function(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this},translateWith:function(t){return this.translate(t.x,t.y)},move:function(t,e){return this.x=this.y=0,this.translate(t,e)},scale:function(t,e){return void 0===e&&(e=t),this.x*=t,this.y*=e,this.geometryChange(),this},scaleCopy:function(t,e){return this.clone().scale(t,e)},transform:function(t){var e=G(t),i=this.x,n=this.y;return this.x=e.a*i+e.c*n+e.e,this.y=e.b*i+e.d*n+e.f,this.geometryChange(),this},transformCopy:function(t){var e=this.clone();return t&&e.transform(t),e},distanceTo:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},round:function(t){return this.x=E(this.x,t),this.y=E(this.y,t),this.geometryChange(),this},toArray:function(t){var e=p(t),i=e?E(this.x,t):this.x,n=e?E(this.y,t):this.y;return[i,n]},toString:function(t,e){void 0===e&&(e=" ");var i=this.x,n=this.y;return p(t)&&(i=E(i,t),n=E(n,t)),i+e+n}});Q.create=function(t,e){if(p(t))return t instanceof Q?t:1===arguments.length&&2===t.length?new Q(t[0],t[1]):new Q(t,e)},Q.min=function(){for(var t=arguments,e=b,i=b,n=0;n<arguments.length;n++){var o=t[n];e=Math.min(o.x,e),i=Math.min(o.y,i)}return new Q(e,i)},Q.max=function(){for(var t=arguments,e=k,i=k,n=0;n<arguments.length;n++){var o=t[n];e=Math.max(o.x,e),i=Math.max(o.y,i)}return new Q(e,i)},Q.minPoint=function(){return new Q(k,k)},Q.maxPoint=function(){return new Q(b,b)},Object.defineProperties&&Object.defineProperties(Q,{ZERO:{get:function(){return new Q(0,0)}}}),U(Q.prototype,["x","y"]),c.extend(Q.prototype);var Y=n.extend({init:function(t,e){this.width=t||0,this.height=e||0},equals:function(t){return t&&t.width===this.width&&t.height===this.height},clone:function(){return new Y(this.width,this.height)},toArray:function(t){var e=p(t),i=e?E(this.width,t):this.width,n=e?E(this.height,t):this.height;return[i,n]}});Y.create=function(t,e){if(p(t))return t instanceof Y?t:1===arguments.length&&2===t.length?new Y(t[0],t[1]):new Y(t,e)},Object.defineProperties&&Object.defineProperties(Y,{ZERO:{get:function(){return new Y(0,0)}}}),U(Y.prototype,["width","height"]),c.extend(Y.prototype);var K=n.extend({init:function(t,e){void 0===t&&(t=new Q),void 0===e&&(e=new Y),this.setOrigin(t),this.setSize(e)},clone:function(){return new K(this.origin.clone(),this.size.clone())},equals:function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},setOrigin:function(t){return this._observerField("origin",Q.create(t)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(t){return this._observerField("size",Y.create(t)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(t){var e=this.topLeft().transformCopy(t),i=this.topRight().transformCopy(t),n=this.bottomRight().transformCopy(t),o=this.bottomLeft().transformCopy(t);return K.fromPoints(e,i,n,o)},transformCopy:function(t){return K.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))},expand:function(t,e){return void 0===e&&(e=t),this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this},expandCopy:function(t,e){return this.clone().expand(t,e)},containsPoint:function(t){var e=this.origin,i=this.bottomRight();return!(t.x<e.x||t.y<e.y||i.x<t.x||i.y<t.y)},_isOnPath:function(t,e){var i=this.expandCopy(e,e),n=this.expandCopy(-e,-e);return i.containsPoint(t)&&!n.containsPoint(t)}});K.fromPoints=function(){var t=Q.min.apply(null,arguments),e=Q.max.apply(null,arguments),i=new Y(e.x-t.x,e.y-t.y);return new K(t,i)},K.union=function(t,e){return K.fromPoints(Q.min(t.topLeft(),e.topLeft()),Q.max(t.bottomRight(),e.bottomRight()))},K.intersect=function(t,e){var i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(i.left<=n.right&&n.left<=i.right&&i.top<=n.bottom&&n.top<=i.bottom)return K.fromPoints(new Q(Math.max(i.left,n.left),Math.max(i.top,n.top)),new Q(Math.min(i.right,n.right),Math.min(i.bottom,n.bottom)))},c.extend(K.prototype);var Z=n.extend({init:function(t){void 0===t&&(t=W.unit()),this._matrix=t},clone:function(){return new Z(this._matrix.clone())},equals:function(t){return t&&t._matrix.equals(this._matrix)},translate:function(t,e){return this._matrix=this._matrix.multiplyCopy(W.translate(t,e)),this._optionsChange(),this},scale:function(t,e,i){void 0===e&&(e=t),void 0===i&&(i=null);var n=i;return n&&(n=Q.create(n),this._matrix=this._matrix.multiplyCopy(W.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(W.scale(t,e)),n&&(this._matrix=this._matrix.multiplyCopy(W.translate(-n.x,-n.y))),this._optionsChange(),this},rotate:function(t,e){var i=Q.create(e)||Q.ZERO;return this._matrix=this._matrix.multiplyCopy(W.rotate(t,i.x,i.y)),this._optionsChange(),this},multiply:function(t){var e=G(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},matrix:function(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix},_optionsChange:function(){this.optionsChange({field:"transform",value:this})}});function X(t){return null===t?null:t instanceof Z?t:new Z(t)}c.extend(Z.prototype);var J=n.extend({init:function(t){this._initOptions(t)},_initOptions:function(t){void 0===t&&(t={});var e=t.clip,i=t.transform;i&&(t.transform=X(i)),e&&!e.id&&(e.id=g()),this.options=new q(t),this.options.addObserver(this)},transform:function(t){if(!p(t))return this.options.get("transform");this.options.set("transform",X(t))},parentTransform:function(){for(var t,e=this;e.parent;){var i=(e=e.parent).transform();i&&(t=i.matrix().multiplyCopy(t||W.unit()))}if(t)return X(t)},currentTransform:function(t){void 0===t&&(t=this.parentTransform());var e,i=this.transform(),n=G(i),o=G(t);if(e=n&&o?o.multiplyCopy(n):n||o)return X(e)},visible:function(t){return p(t)?(this.options.set("visible",t),this):!1!==this.options.get("visible")},clip:function(t){var e=this.options;return p(t)?(t&&!t.id&&(t.id=g()),e.set("clip",t),this):e.get("clip")},opacity:function(t){return p(t)?(this.options.set("opacity",t),this):I(this.options.get("opacity"),1)},clippedBBox:function(t){var e=this._clippedBBox(t);if(e){var i=this.clip();return i?K.intersect(e,i.bbox(t)):e}},containsPoint:function(t,e){if(this.visible()){var i=this.currentTransform(e),n=t;return i&&(n=t.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1},_hasFill:function(){var t=this.options.fill;return t&&!A(t.color)},_hasStroke:function(){var t=this.options.stroke;return t&&t.width>0&&!A(t.color)},_clippedBBox:function(t){return this.bbox(t)}});function $(t,e,i,n){var o=0,r=0;return n&&(o=Math.atan2(n.c*i,n.a*e),0!==n.b&&(r=Math.atan2(n.d*i,n.b*e))),{x:o,y:r}}J.prototype.nodeType="Element",c.extend(J.prototype);var tt=Math.PI/2,et=n.extend({init:function(t,e){void 0===t&&(t=new Q),void 0===e&&(e=0),this.setCenter(t),this.setRadius(e)},setCenter:function(t){return this._observerField("center",Q.create(t)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return new et(this.center.clone(),this.radius)},pointAt:function(t){return this._pointAt(z(t))},bbox:function(t){for(var e=$(this.center,this.radius,this.radius,t),i=Q.maxPoint(),n=Q.minPoint(),o=0;o<4;o++){var r=this._pointAt(e.x+o*tt).transformCopy(t),a=this._pointAt(e.y+o*tt).transformCopy(t),s=new Q(r.x,a.y);i=Q.min(i,s),n=Q.max(n,s)}return K.fromPoints(i,n)},_pointAt:function(t){var e=this.center,i=this.radius;return new Q(e.x+i*Math.cos(t),e.y+i*Math.sin(t))},containsPoint:function(t){var e=this.center,i=this.radius,n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i,2);return n},_isOnPath:function(t,e){var i=this.center,n=this.radius,o=i.distanceTo(t);return n-e<=o&&o<=n+e}});U(et.prototype,["radius"]),c.extend(et.prototype);var it={extend:function(t){t.fill=this.fill,t.stroke=this.stroke},fill:function(t,e){var i=this.options;if(p(t)){if(t&&"Gradient"!==t.nodeType){var n={color:t};p(e)&&(n.opacity=e),i.set("fill",n)}else i.set("fill",t);return this}return i.get("fill")},stroke:function(t,e,i){return p(t)?(this.options.set("stroke.color",t),p(e)&&this.options.set("stroke.width",e),p(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}},nt=W.IDENTITY.toString(),ot={extend:function(t){t.bbox=this.bbox,t.geometryChange=this.geometryChange},bbox:function(t){var e,i=G(this.currentTransform(t)),n=i?i.toString():nt;this._bboxCache&&this._matrixHash===n?e=this._bboxCache.clone():(e=this._bbox(i),this._bboxCache=e?e.clone():null,this._matrixHash=n);var o=this.options.get("stroke.width");return o&&e&&e.expand(o/2),e},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function rt(t){var e="_"+t;return function(t){return p(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}function at(t,e){for(var i=0;i<e.length;i++)t[e[i]]=rt(e[i])}var st=J.extend({init:function(t,e){void 0===t&&(t=new et),void 0===e&&(e={}),J.fn.init.call(this,e),this.geometry(t),p(this.options.stroke)||this.stroke("#000")},rawBBox:function(){return this._geometry.bbox()},_bbox:function(t){return this._geometry.bbox(t)},_containsPoint:function(t){return this.geometry().containsPoint(t)},_isOnPath:function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}});st.prototype.nodeType="Circle",it.extend(st.prototype),ot.extend(st.prototype),at(st.prototype,["geometry"]);var lt=10;function ct(t,e,i){return void 0===i&&(i=lt),0===E(Math.abs(t-e),i)}function ut(t,e,i){return t<e||ct(t,e,i)}var ht=Math.pow,dt=n.extend({init:function(t,e){void 0===t&&(t=new Q),void 0===e&&(e={}),this.setCenter(t),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation},clone:function(){return new dt(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(t){return this._observerField("center",Q.create(t)),this.geometryChange(),this},getCenter:function(){return this.center},pointAt:function(t){var e=this.center,i=z(t);return new Q(e.x+this.radiusX*Math.cos(i),e.y+this.radiusY*Math.sin(i))},curvePoints:function(){var t,e=this.startAngle,i=this.anticlockwise?-1:1,n=[this.pointAt(e)],o=this._arcInterval(),r=o.endAngle-o.startAngle,a=Math.ceil(r/45),s=r/a,l=e;this.xRotation&&(t=X().rotate(this.xRotation,this.center));for(var c=1;c<=a;c++){var u=l+i*s,h=this._intervalCurvePoints(l,u,t);n.push(h.cp1,h.cp2,h.p2),l=u}return n},bbox:function(t){for(var e=this._arcInterval(),i=e.startAngle,n=e.endAngle,o=$(this.center,this.radiusX,this.radiusY,t),r=y(o.x),a=y(o.y),s=this.pointAt(n).transformCopy(t),l=pt(r,i),c=pt(a,i),u=this.pointAt(i).transformCopy(t),h=Q.min(u,s),d=Q.max(u,s);l<n||c<n;){var f=void 0;l<n&&(f=this.pointAt(l).transformCopy(t),l+=90);var p=void 0;c<n&&(p=this.pointAt(c).transformCopy(t),c+=90),u=new Q(f.x,p.y),h=Q.min(h,u),d=Q.max(d,u)}return K.fromPoints(h,d)},_arcInterval:function(){var t=this.startAngle,e=this.endAngle,i=this.anticlockwise;if(i){var n=t;t=e,e=n}return(t>e||i&&t===e)&&(e+=360),{startAngle:t,endAngle:e}},_intervalCurvePoints:function(t,e,i){var n=this.pointAt(t),o=this.pointAt(e),r=this._derivativeAt(t),a=this._derivativeAt(e),s=(z(e)-z(t))/3,l=new Q(n.x+s*r.x,n.y+s*r.y),c=new Q(o.x-s*a.x,o.y-s*a.y);return i&&(n.transform(i),o.transform(i),l.transform(i),c.transform(i)),{p1:n,cp1:l,cp2:c,p2:o}},_derivativeAt:function(t){var e=z(t);return new Q(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))},containsPoint:function(t){var e,i=this._arcInterval(),n=i.endAngle-i.startAngle,o=this.center,r=this.radiusX,a=this.radiusY,s=o.distanceTo(t),l=Math.atan2(t.y-o.y,t.x-o.x),c=r*a/Math.sqrt(ht(r,2)*ht(Math.sin(l),2)+ht(a,2)*ht(Math.cos(l),2)),u=this.pointAt(this.startAngle).round(lt),h=this.pointAt(this.endAngle).round(lt),d=function(t,e,i,n){var o=e.x-t.x,r=n.x-i.x,a=e.y-t.y,s=n.y-i.y,l=t.x-i.x,c=t.y-i.y,u=o*s-r*a,h=(o*c-a*l)/u,d=(r*c-s*l)/u;if(h>=0&&h<=1&&d>=0&&d<=1)return new Q(t.x+d*o,t.y+d*a)}(o,t.round(lt),u,h);if(n<180)e=d&&ut(o.distanceTo(d),s)&&ut(s,c);else{var f=ft(o.x,o.y,r,a,t.x,t.y);360!==f&&(f=(360+f)%360);var p=i.startAngle<=f&&f<=i.endAngle;e=p&&ut(s,c)||!p&&(!d||d.equals(t))}return e},_isOnPath:function(t,e){var i=this._arcInterval(),n=this.center,o=ft(n.x,n.y,this.radiusX,this.radiusY,t.x,t.y);360!==o&&(o=(360+o)%360);var r=i.startAngle<=o&&o<=i.endAngle;return r&&this.pointAt(o).distanceTo(t)<=e}});function ft(t,e,i,n,o,r){var a=E((o-t)/i,3),s=E((r-e)/n,3);return E(y(Math.atan2(s,a)))}function pt(t,e){for(var i=t;i<e;)i+=90;return i}dt.fromPoints=function(t,e,i,n,o,r,a){var s=function(t){var e=t.x1,i=t.y1,n=t.x2,o=t.y2,r=t.rx,a=t.ry,s=t.largeArc,l=t.swipe,c=t.rotation;void 0===c&&(c=0);var u=z(c),h=Math.cos(u),d=Math.sin(u),f=h*(e-n)/2+d*(i-o)/2,p=-d*(e-n)/2+h*(i-o)/2,m=s!==l?1:-1,g=Math.pow(f,2),v=Math.pow(p,2),b=Math.pow(r,2),k=Math.pow(a,2),w=g/b+v/k;w>1&&(w=Math.sqrt(g/b+v/k),r*=w,b=Math.pow(r,2),a*=w,k=Math.pow(a,2));var _=m*Math.sqrt((b*k-b*v-k*g)/(b*v+k*g));isNaN(_)&&(_=0);var x=_*(r*p)/a,S=a*f*-_/r,C=h*x-d*S+(e+n)/2,A=d*x+h*S+(i+o)/2,T=(f-x)/r,j=(p-S)/a,M=-(f+x)/r,I=-(p+S)/a,D=(j>=0?1:-1)*y(Math.acos(T/Math.sqrt(T*T+j*j))),O=E((T*M+j*I)/(Math.sqrt(T*T+j*j)*Math.sqrt(M*M+I*I)),10),P=(T*I-j*M>=0?1:-1)*y(Math.acos(O));!l&&P>0&&(P-=360),l&&P<0&&(P+=360);var R=D+P,L=R>=0?1:-1;return R=Math.abs(R)%360*L,{center:new Q(C,A),startAngle:D,endAngle:R,radiusX:r,radiusY:a,xRotation:c}}({x1:t.x,y1:t.y,x2:e.x,y2:e.y,rx:i,ry:n,largeArc:o,swipe:r,rotation:a});return new dt(s.center,{startAngle:s.startAngle,endAngle:s.endAngle,radiusX:s.radiusX,radiusY:s.radiusY,xRotation:s.xRotation,anticlockwise:0===r})},U(dt.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),c.extend(dt.prototype);var mt=[].push,gt=[].pop,vt=[].splice,bt=[].shift,kt=[].slice,yt=[].unshift,wt=n.extend({init:function(t){void 0===t&&(t=[]),this.length=0,this._splice(0,t.length,t)},elements:function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},push:function(){var t=arguments,e=mt.apply(this,t);return this._add(t),e},slice:function(){return kt.call(this)},pop:function(){var t=this.length,e=gt.apply(this);return t&&this._remove([e]),e},splice:function(t,e){var i=kt.call(arguments,2),n=this._splice(t,e,i);return this._change(),n},shift:function(){var t=this.length,e=bt.apply(this);return t&&this._remove([e]),e},unshift:function(){var t=arguments,e=yt.apply(this,t);return this._add(t),e},indexOf:function(t){for(var e=this.length,i=0;i<e;i++)if(this[i]===t)return i;return-1},_splice:function(t,e,i){var n=vt.apply(this,[t,e].concat(i));return this._clearObserver(n),this._setObserver(i),n},_add:function(t){this._setObserver(t),this._change()},_remove:function(t){this._clearObserver(t),this._change()},_setObserver:function(t){for(var e=0;e<t.length;e++)t[e].addObserver(this)},_clearObserver:function(t){for(var e=0;e<t.length;e++)t[e].removeObserver(this)},_change:function(){}});c.extend(wt.prototype);var _t=wt.extend({_change:function(){this.geometryChange()}});function xt(t){var e="_"+t;return function(t){return p(t)?(this._observerField(e,Q.create(t)),this.geometryChange(),this):this[e]}}function St(t,e){for(var i=0;i<e.length;i++)t[e[i]]=xt(e[i])}function Ct(t,e,i){var n=y(Math.atan2(e.y-t.y,e.x-t.x)),o=i.transformCopy(X().rotate(-n,t));return o.x<t.x}function At(t,e,i){var n=1-t;return Math.pow(n,3)*i[0][e]+3*Math.pow(n,2)*t*i[1][e]+3*Math.pow(t,2)*n*i[2][e]+Math.pow(t,3)*i[3][e]}function Tt(t,e){return[-t[0][e]+3*t[1][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}var jt=n.extend({init:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.real=t,this.img=e},add:function(t){return new jt(E(this.real+t.real,lt),E(this.img+t.img,lt))},addConstant:function(t){return new jt(this.real+t,this.img)},negate:function(){return new jt(-this.real,-this.img)},multiply:function(t){return new jt(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)},multiplyConstant:function(t){return new jt(this.real*t,this.img*t)},nthRoot:function(t){var e=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),n=Math.pow(i,1/t);return new jt(n*Math.cos(e/t),n*Math.sin(e/t))},equals:function(t){return this.real===t.real&&this.img===t.img},isReal:function(){return 0===this.img}});function Mt(t){return t<0?-1:1}function zt(t,e,i,n){if(0===t)return function(t,e,i){var n=Math.sqrt(Math.pow(e,2)-4*t*i);return[(-e+n)/(2*t),(-e-n)/(2*t)]}(e,i,n);var o,r,a,s,l,c,u,h=(3*t*i-Math.pow(e,2))/(3*Math.pow(t,2)),d=(2*Math.pow(e,3)-9*t*e*i+27*Math.pow(t,2)*n)/(27*Math.pow(t,3)),f=Math.pow(h/3,3)+Math.pow(d/2,2),p=new jt(0,1),m=-e/(3*t);f<0?(o=new jt(-d/2,Math.sqrt(-f)).nthRoot(3),r=new jt(-d/2,-Math.sqrt(-f)).nthRoot(3)):(o=-d/2+Math.sqrt(f),o=new jt(Mt(o)*Math.pow(Math.abs(o),1/3)),r=-d/2-Math.sqrt(f),r=new jt(Mt(r)*Math.pow(Math.abs(r),1/3))),a=o.add(r),c=o.add(r).multiplyConstant(-.5),u=o.add(r.negate()).multiplyConstant(Math.sqrt(3)/2),s=c.add(p.multiply(u)),l=c.add(p.negate().multiply(u));var g=[];return a.isReal()&&g.push(E(a.real+m,lt)),s.isReal()&&g.push(E(s.real+m,lt)),l.isReal()&&g.push(E(l.real+m,lt)),g}function Et(t,e,i,n,o){for(var r,a=Tt(t,n),s=zt(a[0],a[1],a[2],a[3]-e[n]),l=0;l<s.length;l++)if(0<=s[l]&&s[l]<=1&&(r=At(s[l],i,t),Math.abs(r-e[i])<=o))return!0}function It(t,e,i){var n;if(t.x!==e.x){var o=Math.min(t.x,e.x),r=Math.max(t.x,e.x),a=Math.min(t.y,e.y),s=Math.max(t.y,e.y),l=o<=i.x&&i.x<r;n=a===s?i.y<=a&&l:l&&(s-a)*((t.x-e.x)*(t.y-e.y)>0?i.x-o:r-i.x)/(r-o)+a-i.y>=0}return n?1:0}var Dt=n.extend({init:function(t,e,i){this.anchor(t||new Q),this.controlIn(e),this.controlOut(i)},bboxTo:function(t,e){var i=this.anchor().transformCopy(e),n=t.anchor().transformCopy(e);return this.controlOut()&&t.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),n):this._lineBoundingBox(i,n)},_lineBoundingBox:function(t,e){return K.fromPoints(t,e)},_curveBoundingBox:function(t,e,i,n){var o=[t,e,i,n],r=this._curveExtremesFor(o,"x"),a=this._curveExtremesFor(o,"y"),s=Ot([r.min,r.max,t.x,n.x]),l=Ot([a.min,a.max,t.y,n.y]);return K.fromPoints(new Q(s.min,l.min),new Q(s.max,l.max))},_curveExtremesFor:function(t,e){var i=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:At(i.min,e,t),max:At(i.max,e,t)}},_curveExtremes:function(t,e,i,n){var o=t-3*e+3*i-n,r=-2*(t-2*e+i),a=t-e,s=Math.sqrt(r*r-4*o*a),l=0,c=1;0===o?0!==r&&(l=c=-a/r):isNaN(s)||(l=(-r+s)/(2*o),c=(-r-s)/(2*o));var u=Math.max(Math.min(l,c),0);(u<0||u>1)&&(u=0);var h=Math.min(Math.max(l,c),1);return(h>1||h<0)&&(h=1),{min:u,max:h}},_intersectionsTo:function(t,e){return this.controlOut()&&t.controlIn()?function(t,e,i){for(var n,o=Tt(t,"x"),r=zt(o[0],o[1],o[2],o[3]-e.x),a=0,s=0;s<r.length;s++)(ct(n=At(r[s],"y",t),e.y)||n>e.y)&&((0===r[s]||1===r[s])&&i.bottomRight().x>e.x||0<r[s]&&r[s]<1)&&a++;return a}([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):It(this.anchor(),t.anchor(),e)},_isOnCurveTo:function(t,e,i,n){var o=this.bboxTo(t).expand(i,i);if(o.containsPoint(e)){var r=this.anchor(),a=this.controlOut(),s=t.controlIn(),l=t.anchor();if("start"===n&&r.distanceTo(e)<=i)return!Ct(r,a,e);if("end"===n&&l.distanceTo(e)<=i)return!Ct(l,s,e);var c=[r,a,s,l];if(Et(c,e,"x","y",i)||Et(c,e,"y","x",i))return!0;var u=X().rotate(45,e),h=[r.transformCopy(u),a.transformCopy(u),s.transformCopy(u),l.transformCopy(u)];return Et(h,e,"x","y",i)||Et(h,e,"y","x",i)}},_isOnLineTo:function(t,e,i){var n=this.anchor(),o=t.anchor(),r=y(Math.atan2(o.y-n.y,o.x-n.x)),a=new K([n.x,n.y-i/2],[n.distanceTo(o),i]);return a.containsPoint(e.transformCopy(X().rotate(-r,n)))},_isOnPathTo:function(t,e,i,n){return this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,i/2,n):this._isOnLineTo(t,e,i)}});function Ot(t){for(var e=t.length,i=b,n=k,o=0;o<e;o++)n=Math.max(n,t[o]),i=Math.min(i,t[o]);return{min:i,max:n}}St(Dt.prototype,["anchor","controlIn","controlOut"]),c.extend(Dt.prototype);var Pt=J.extend({init:function(t){J.fn.init.call(this,t),this.segments=new _t,this.segments.addObserver(this),p(this.options.stroke)||(this.stroke("#000"),p(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this},lineTo:function(t,e){var i=p(e)?new Q(t,e):t,n=new Dt(i);return this.segments.push(n),this},curveTo:function(t,e,i){if(this.segments.length>0){var n=T(this.segments),o=new Dt(i,e);this.suspend(),n.controlOut(t),this.resume(),this.segments.push(o)}return this},arc:function(t,e,i,n,o){if(this.segments.length>0){var r=T(this.segments),a=r.anchor(),s=z(t),l=new Q(a.x-i*Math.cos(s),a.y-n*Math.sin(s)),c=new dt(l,{startAngle:t,endAngle:e,radiusX:i,radiusY:n,anticlockwise:o});this._addArcSegments(c)}return this},arcTo:function(t,e,i,n,o,r){if(this.segments.length>0){var a=T(this.segments),s=a.anchor(),l=dt.fromPoints(s,t,e,i,n,o,r);this._addArcSegments(l)}return this},_addArcSegments:function(t){this.suspend();for(var e=t.curvePoints(),i=1;i<e.length;i+=3)this.curveTo(e[i],e[i+1],e[i+2]);this.resume(),this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},rawBBox:function(){return this._bbox()},_containsPoint:function(t){for(var e,i,n=this.segments,o=n.length,r=0,a=1;a<o;a++)e=n[a-1],i=n[a],r+=e._intersectionsTo(i,t);return!this.options.closed&&n[0].anchor().equals(n[o-1].anchor())||(r+=It(n[0].anchor(),n[o-1].anchor(),t)),r%2!=0},_isOnPath:function(t,e){var i=this.segments,n=i.length,o=e||this.options.stroke.width;if(n>1){if(i[0]._isOnPathTo(i[1],t,o,"start"))return!0;for(var r=2;r<=n-2;r++)if(i[r-1]._isOnPathTo(i[r],t,o))return!0;if(i[n-2]._isOnPathTo(i[n-1],t,o,"end"))return!0}return!1},_bbox:function(t){var e,i=this.segments,n=i.length;if(1===n){var o=i[0].anchor().transformCopy(t);e=new K(o,Y.ZERO)}else if(n>0)for(var r=1;r<n;r++){var a=i[r-1].bboxTo(i[r],t);e=e?K.union(e,a):a}return e}});Pt.fromRect=function(t,e){return new Pt(e).moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close()},Pt.fromPoints=function(t,e){if(t){for(var i=new Pt(e),n=0;n<t.length;n++){var o=Q.create(t[n]);o&&(0===n?i.moveTo(o):i.lineTo(o))}return i}},Pt.fromArc=function(t,e){var i=new Pt(e),n=t.startAngle,o=t.pointAt(n);return i.moveTo(o.x,o.y),i.arc(n,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),i},Pt.prototype.nodeType="Path",it.extend(Pt.prototype),ot.extend(Pt.prototype);var Rt=J.extend({init:function(t,e){void 0===t&&(t=new dt),void 0===e&&(e={}),J.fn.init.call(this,e),this.geometry(t),p(this.options.stroke)||this.stroke("#000")},_bbox:function(t){return this._geometry.bbox(t)},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var t=new Pt,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i+=3)t.curveTo(e[i],e[i+1],e[i+2])}return t},_containsPoint:function(t){return this.geometry().containsPoint(t)},_isOnPath:function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}});function Lt(t,e,i){for(var n,o=0;o<t.length;o++){var r=t[o];if(r.visible()){var a=e?r.bbox(i):r.rawBBox();a&&(n=n?K.union(n,a):a)}}return n}function Ft(t,e){for(var i,n=0;n<t.length;n++){var o=t[n];if(o.visible()){var r=o.clippedBBox(e);r&&(i=i?K.union(i,r):r)}}return i}Rt.prototype.nodeType="Arc",it.extend(Rt.prototype),ot.extend(Rt.prototype),at(Rt.prototype,["geometry"]);var Nt=J.extend({init:function(t){J.fn.init.call(this,t),this.paths=new _t,this.paths.addObserver(this),p(this.options.stroke)||this.stroke("#000")},moveTo:function(t,e){var i=new Pt;return i.moveTo(t,e),this.paths.push(i),this},lineTo:function(t,e){return this.paths.length>0&&T(this.paths).lineTo(t,e),this},curveTo:function(t,e,i){return this.paths.length>0&&T(this.paths).curveTo(t,e,i),this},arc:function(t,e,i,n,o){return this.paths.length>0&&T(this.paths).arc(t,e,i,n,o),this},arcTo:function(t,e,i,n,o,r){return this.paths.length>0&&T(this.paths).arcTo(t,e,i,n,o,r),this},close:function(){return this.paths.length>0&&T(this.paths).close(),this},_bbox:function(t){return Lt(this.paths,!0,t)},rawBBox:function(){return Lt(this.paths,!1)},_containsPoint:function(t){for(var e=this.paths,i=0;i<e.length;i++)if(e[i]._containsPoint(t))return!0;return!1},_isOnPath:function(t){for(var e=this.paths,i=this.options.stroke.width,n=0;n<e.length;n++)if(e[n]._isOnPath(t,i))return!0;return!1},_clippedBBox:function(t){return Ft(this.paths,this.currentTransform(t))}});Nt.prototype.nodeType="MultiPath",it.extend(Nt.prototype),ot.extend(Nt.prototype);var Bt=J.extend({init:function(t,e,i){void 0===e&&(e=new Q),void 0===i&&(i={}),J.fn.init.call(this,i),this.content(t),this.position(e),this.options.font||(this.options.font="12px sans-serif"),p(this.options.fill)||this.fill("#000")},content:function(t){return p(t)?(this.options.set("content",t),this):this.options.get("content")},measure:function(){var t=o.measureText(this.content(),{font:this.options.get("font")});return t},rect:function(){var t=this.measure(),e=this.position().clone();return new K(e,[t.width,t.height])},bbox:function(t){var e=G(this.currentTransform(t));return this.rect().bbox(e)},rawBBox:function(){return this.rect().bbox()},_containsPoint:function(t){return this.rect().containsPoint(t)}});Bt.prototype.nodeType="Text",it.extend(Bt.prototype),St(Bt.prototype,["position"]);var qt=J.extend({init:function(t,e,i){void 0===e&&(e=new K),void 0===i&&(i={}),J.fn.init.call(this,i),this.src(t),this.rect(e)},src:function(t){return p(t)?(this.options.set("src",t),this):this.options.get("src")},bbox:function(t){var e=G(this.currentTransform(t));return this._rect.bbox(e)},rawBBox:function(){return this._rect.bbox()},_containsPoint:function(t){return this._rect.containsPoint(t)},_hasFill:function(){return this.src()}});qt.prototype.nodeType="Image",at(qt.prototype,["rect"]);var Vt={extend:function(t,e){t.traverse=function(t){for(var i=this[e],n=0;n<i.length;n++){var o=i[n];o.traverse?o.traverse(t):t(o)}return this}}},Ht=J.extend({init:function(t){J.fn.init.call(this,t),this.children=[]},childrenChange:function(t,e,i){this.trigger("childrenChange",{action:t,items:e,index:i})},append:function(){return u(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},insert:function(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this},insertAt:function(t,e){return this.insert(e,t)},remove:function(t){var e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this},removeAt:function(t){if(0<=t&&t<this.children.length){var e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this},clear:function(){var t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this},bbox:function(t){return Lt(this.children,!0,this.currentTransform(t))},rawBBox:function(){return Lt(this.children,!1)},_clippedBBox:function(t){return Ft(this.children,this.currentTransform(t))},currentTransform:function(t){return J.prototype.currentTransform.call(this,t)||null},containsPoint:function(t,e){if(this.visible())for(var i=this.children,n=this.currentTransform(e),o=0;o<i.length;o++)if(i[o].containsPoint(t,n))return!0;return!1},_reparent:function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=n.parent;o&&o!==this&&o.remove&&o.remove(n),n.parent=e}}});function Ut(t,e,i){var n=i.transform()||X(),o=n.matrix();o.e+=t.x-e.origin.x,o.f+=t.y-e.origin.y,n.matrix(o),i.transform(n)}function Wt(t,e,i,n,o){return"start"===i?e.origin[n]:"end"===i?e.origin[n]+e.size[o]-t:e.origin[n]+(e.size[o]-t)/2}function Gt(t,e,i,n,o){return"start"===i?e.origin[n]+e.size[o]-t:"end"===i?e.origin[n]:e.origin[n]+(e.size[o]-t)/2}Ht.prototype.nodeType="Group",Vt.extend(Ht.prototype,"children");var Qt={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},Yt=function(t,e){t.forEach(e)},Kt=function(t,e){for(var i=t.length,n=i-1;n>=0;n--)e(t[n],n)},Zt=Ht.extend({init:function(e,i){Ht.fn.init.call(this,t.extend({},Qt,i)),this._rect=e,this._fieldMap={}},rect:function(t){return t?(this._rect=t,this):this._rect},_initMap:function(){var t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=Kt,this.justifyAlign=Gt):(this.forEach=Yt,this.justifyAlign=Wt)},reflow:function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var t,e,i,n=this.options,o=this._rect,r=this._initGroups(),a=r.groups,s=r.groupsSize,l=this._fieldMap,c=l.sizeField,u=l.groupsSizeField,h=l.groupAxis,d=l.groupsAxis,f=new Q,p=new Q,m=new Y,g=Wt(s,o,n.alignContent,d,u),v=function(o,r){var a=e.elements[r];p[h]=t,p[d]=Wt(o.size[u],i,n.alignItems,d,u),Ut(p,o,a),t+=o.size[c]+n.spacing},b=0;b<a.length;b++)e=a[b],f[h]=t=this.justifyAlign(e.size,o,n.justifyContent,h,c),f[d]=g,m[c]=e.size,m[u]=e.lineSize,i=new K(f,m),this.forEach(e.bboxes,v),g+=e.lineSize+n.lineSpacing;if(!n.wrap&&e.size>o.size[c]){var k=o.size[c]/i.size[c],y=i.topLeft().scale(k,k),w=i.size[u]*k,_=Wt(w,o,n.alignContent,d,u),x=X();"x"===h?x.translate(o.origin.x-y.x,_-y.y):x.translate(_-y.x,o.origin.y-y.y),x.scale(k,k),this.transform(x)}}},_initGroups:function(){for(var t=this.options,e=this.children,i=t.lineSpacing,n=t.wrap,o=t.spacing,r=this._fieldMap.sizeField,a=this._newGroup(),s=[],l=function(){s.push(a),c+=a.lineSize+i},c=-i,u=0;u<e.length;u++){var h=e[u],d=e[u].clippedBBox();h.visible()&&d&&(n&&a.size+d.size[r]+o>this._rect.size[r]?0===a.bboxes.length?(this._addToGroup(a,d,h),l(),a=this._newGroup()):(l(),a=this._newGroup(),this._addToGroup(a,d,h)):this._addToGroup(a,d,h))}return a.bboxes.length&&l(),{groups:s,groupsSize:c}},_addToGroup:function(t,e,i){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(i)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}}),Xt=J.extend({init:function(t,e){void 0===t&&(t=new K),void 0===e&&(e={}),J.fn.init.call(this,e),this.geometry(t),p(this.options.stroke)||this.stroke("#000")},_bbox:function(t){return this._geometry.bbox(t)},rawBBox:function(){return this._geometry.bbox()},_containsPoint:function(t){return this._geometry.containsPoint(t)},_isOnPath:function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}});function Jt(t,e,i,n,o){for(var r=0;r<t.length;r++){var a=t[r].clippedBBox();if(a){var s=a.origin.clone();s[n]=Wt(a.size[o],e,i||"start",n,o),Ut(s,a,t[r])}}}function $t(t,e,i,n){if(t.length>1)for(var o=new Q,r=t[0].bbox,a=1;a<t.length;a++){var s=t[a].element,l=t[a].bbox;o[e]=r.origin[e]+r.size[n],o[i]=l.origin[i],Ut(o,l,s),l.origin[e]=o[e],r=l}}function te(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],o=n.clippedBBox();o&&e.push({element:n,bbox:o})}return e}function ee(t,e,i,n,o){for(var r=function(t,e,i){for(var n,o,r=e.size[i],a=[],s=[],l=0,c=function(){s.push({element:n,bbox:o})},u=0;u<t.length;u++)if(n=t[u],o=n.clippedBBox()){var h=o.size[i];l+h>r?s.length?(a.push(s),s=[],c(),l=h):(c(),a.push(s),s=[],l=0):(c(),l+=h)}return s.length&&a.push(s),a}(t,e,o),a=e.origin.clone(),s=[],l=0;l<r.length;l++){var c=r[l],u=c[0];a[n]=u.bbox.origin[n],Ut(a,u.bbox,u.element),u.bbox.origin[i]=a[i],$t(c,i,n,o),s.push([]);for(var h=0;h<c.length;h++)s[l].push(c[h].element)}return s}Xt.prototype.nodeType="Rect",it.extend(Xt.prototype),ot.extend(Xt.prototype),at(Xt.prototype,["geometry"]);var ie=wt.extend({_change:function(){this.optionsChange({field:"stops"})}});function ne(t){return function(e){return p(e)?(this.options.set(t,e),this):this.options.get(t)}}var oe=n.extend({init:function(t,e,i){this.options=new q({offset:t,color:e,opacity:p(i)?i:1}),this.options.addObserver(this)}});oe.create=function(t){if(p(t))return t instanceof oe?t:t.length>1?new oe(t[0],t[1],t[2]):new oe(t.offset,t.color,t.opacity)},function(t,e){for(var i=0;i<e.length;i++)t[e[i]]=ne(e[i])}(oe.prototype,["offset","color","opacity"]),c.extend(oe.prototype);var re=n.extend({init:function(t){void 0===t&&(t={}),this.stops=new ie(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=g()},userSpace:function(t){return p(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace},_createStops:function(t){void 0===t&&(t=[]);for(var e=[],i=0;i<t.length;i++)e.push(oe.create(t[i]));return e},addStop:function(t,e,i){this.stops.push(new oe(t,e,i))},removeStop:function(t){var e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)}});re.prototype.nodeType="Gradient",c.extend(re.prototype),t.extend(re.prototype,{optionsChange:function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var ae=re.extend({init:function(t){void 0===t&&(t={}),re.fn.init.call(this,t),this.start(t.start||new Q),this.end(t.end||new Q(1,0))}});St(ae.prototype,["start","end"]);var se=re.extend({init:function(t){void 0===t&&(t={}),re.fn.init.call(this,t),this.center(t.center||new Q),this._radius=p(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill},radius:function(t){return p(t)?(this._radius=t,this.geometryChange(),this):this._radius},fallbackFill:function(t){return p(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill}});St(se.prototype,["center"]);var le={swing:function(t){return.5-Math.cos(t*Math.PI)/2},linear:function(t){return t},easeOutElastic:function(t,e,i,n){var o=1.70158,r=0,a=n;return 0===t?i:1===t?i+n:(r||(r=.5),a<Math.abs(n)?(a=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((Number(t)-o)*(1.1*Math.PI)/r)+n+i)}},ce=Date.now||function(){return(new Date).getTime()},ue=n.extend({init:function(e,i){this.options=t.extend({},this.options,i),this.element=e},setup:function(){},step:function(){},play:function(){var t=this,e=this.options,i=e.duration,n=e.delay;void 0===n&&(n=0);var o=le[e.easing],r=ce()+n,a=r+i;0===i?(this.step(1),this.abort()):setTimeout(function(){var e=function(){if(!t._stopped){var n=ce(),s=j(n-r,0,i),l=s/i,c=o(l,s,0,1,i);t.step(c),n<a?kendo.animationFrame(e):t.abort()}};e()},n)},abort:function(){this._stopped=!0},destroy:function(){this.abort()}});ue.prototype.options={duration:500,easing:"swing"};var he=n.extend({init:function(){this._items=[]},register:function(t,e){this._items.push({name:t,type:e})},create:function(t,e){var i,n=this._items;if(e&&e.type)for(var o=e.type.toLowerCase(),r=0;r<n.length;r++)if(n[r].name.toLowerCase()===o){i=n[r];break}if(i)return new i.type(t,e)}});he.current=new he,ue.create=function(t,e,i){return he.current.create(t,e,i)};var de={l:function(t,e){for(var i=e.parameters,n=e.position,o=0;o<i.length;o+=2){var r=new Q(i[o],i[o+1]);e.isRelative&&r.translateWith(n),t.lineTo(r.x,r.y),n.x=r.x,n.y=r.y}},c:function(t,e){for(var i=e.parameters,n=e.position,o=0;o<i.length;o+=6){var r=new Q(i[o],i[o+1]),a=new Q(i[o+2],i[o+3]),s=new Q(i[o+4],i[o+5]);e.isRelative&&(a.translateWith(n),r.translateWith(n),s.translateWith(n)),t.curveTo(r,a,s),n.x=s.x,n.y=s.y}},v:function(t,e){var i=e.isRelative?0:e.position.x;fe(e.parameters,!0,i),this.l(t,e)},h:function(t,e){var i=e.isRelative?0:e.position.y;fe(e.parameters,!1,i),this.l(t,e)},a:function(t,e){for(var i=e.parameters,n=e.position,o=0;o<i.length;o+=7){var r=i[o],a=i[o+1],s=i[o+2],l=i[o+3],c=i[o+4],u=new Q(i[o+5],i[o+6]);e.isRelative&&u.translateWith(n),n.x===u.x&&n.y===u.y||(t.arcTo(u,r,a,l,c,s),n.x=u.x,n.y=u.y)}},s:function(t,e){var i,n=e.parameters,o=e.position,r=e.previousCommand;"s"!==r&&"c"!==r||(i=T(T(t.paths).segments).controlIn());for(var a=0;a<n.length;a+=4){var s=new Q(n[a],n[a+1]),l=new Q(n[a+2],n[a+3]),c=void 0;e.isRelative&&(s.translateWith(o),l.translateWith(o)),c=i?pe(i,o):o.clone(),i=s,t.curveTo(c,s,l),o.x=l.x,o.y=l.y}},q:function(t,e){for(var i=e.parameters,n=e.position,o=0;o<i.length;o+=4){var r=new Q(i[o],i[o+1]),a=new Q(i[o+2],i[o+3]);e.isRelative&&(r.translateWith(n),a.translateWith(n));var s=ge(n,r,a);t.curveTo(s.controlOut,s.controlIn,a),n.x=a.x,n.y=a.y}},t:function(t,e){var i,n=e.parameters,o=e.position,r=e.previousCommand;if("q"===r||"t"===r){var a=T(T(t.paths).segments);i=a.controlIn().clone().translateWith(o.scaleCopy(-1/3)).scale(1.5)}for(var s=0;s<n.length;s+=2){var l=new Q(n[s],n[s+1]);e.isRelative&&l.translateWith(o),i=i?pe(i,o):o.clone();var c=ge(o,i,l);t.curveTo(c.controlOut,c.controlIn,l),o.x=l.x,o.y=l.y}}};function fe(t,e,i){for(var n=e?0:1,o=0;o<t.length;o+=2)t.splice(o+n,0,i)}function pe(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}var me=1/3;function ge(t,e,i){var n=e.clone().scale(2/3);return{controlOut:n.clone().translateWith(t.scaleCopy(me)),controlIn:n.translateWith(i.scaleCopy(me))}}var ve=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,be=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,ke=n.extend({parse:function(t,e){var i,n=new Nt(e),o=new Q;return t.replace(ve,function(t,e,r,a){var s=e.toLowerCase(),l=s===e,c=function(t){var e=[];return t.replace(be,function(t,i){e.push(parseFloat(i))}),e}(r.trim());if("m"===s&&(l?(o.x+=c[0],o.y+=c[1]):(o.x=c[0],o.y=c[1]),n.moveTo(o.x,o.y),c.length>2&&(s="l",c.splice(0,2))),de[s])de[s](n,{parameters:c,position:o,isRelative:l,previousCommand:i}),a&&"z"===a.toLowerCase()&&n.close();else if("m"!==s)throw new Error("Error while parsing SVG path. Unsupported command: "+s);i=s}),n}});ke.current=new ke,Pt.parse=function(t,e){return ke.current.parse(t,e)};var ye=n.extend({init:function(){this._items=[]},register:function(t,e,i){var n=this._items,o=n[0],r={name:t,type:e,order:i};!o||i<o.order?n.unshift(r):n.push(r)},create:function(t,e){var i=this._items,n=i[0];if(e&&e.type)for(var o=e.type.toLowerCase(),r=0;r<i.length;r++)if(i[r].name===o){n=i[r];break}if(n)return new n.type(t,e);kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)}});ye.current=new ye;var we=["click","mouseenter","mouseleave","mousemove","resize"],_e=kendo.Observable.extend({init:function(e,i){kendo.Observable.fn.init.call(this),this.options=t.extend({},i),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new Ht,L(e,this.options),this.bind(we,this.options),this._enableTracking()},draw:function(t){this._visual.children.push(t)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},eventTarget:function(t){for(var e,i=C(t);!e&&i&&(e=i._kendoNode,i!==this.element);)i=i.parentElement;if(e)return e.srcElement},exportVisual:function(){return this._visual},getSize:function(){return L(this.element)},currentSize:function(t){if(!t)return this._size;this._size=t},setSize:function(t){L(this.element,t),this.currentSize(t),this._resize()},resize:function(t){var e=this.getSize(),i=this.currentSize();(t||(e.width>0||e.height>0)&&(!i||e.width!==i.width||e.height!==i.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))},size:function(t){if(!t)return this.getSize();this.setSize(t)},suspendTracking:function(){this._suspendedTracking=!0},resumeTracking:function(){this._suspendedTracking=!1},_enableTracking:function(){},_resize:function(){},_handler:function(t){var e=this;return function(i){var n=e.eventTarget(i);n&&!e._suspendedTracking&&e.trigger(t,{element:n,originalEvent:i,type:t})}},_elementOffset:function(){var t=this.element,e=P(t,["paddingLeft","paddingTop"]),i=e.paddingLeft,n=e.paddingTop,o=O(t),r=o.left,a=o.top;return{left:r+parseInt(i,10),top:a+parseInt(n,10)}},_surfacePoint:function(t){var e=this._elementOffset(),i=S(t),n=i.x-e.left,o=i.y-e.top;return new Q(n,o)}});_e.create=function(t,e){return ye.current.create(t,e)},_e.support={};var xe=n.extend({init:function(t){this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())},destroy:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var t=this.childNodes,e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null},load:function(){},observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(t){this.childNodes.push(t),t.parent=this},insertAt:function(t,e){this.childNodes.splice(e,0,t),t.parent=this},remove:function(t,e){for(var i=t+e,n=t;n<i;n++)this.childNodes[n].removeSelf();this.childNodes.splice(t,e)},removeSelf:function(){this.clear(),this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()}});function Se(t,e){return p(e)&&null!==e?" "+t+'="'+e+'" ':""}function Ce(t){for(var e="",i=0;i<t.length;i++)e+=Se(t[i][0],t[i][1]);return e}function Ae(t){for(var e="",i=0;i<t.length;i++){var n=t[i][1];p(n)&&(e+=t[i][0]+":"+n+";")}if(""!==e)return e}var Te={},je="http://www.w3.org/2000/svg",Me=function(t,e){t.innerHTML=e};if("undefined"!=typeof document){var ze="<svg xmlns='"+je+"'></svg>",Ee=document.createElement("div"),Ie="undefined"!=typeof DOMParser;Ee.innerHTML=ze,Ie&&Ee.firstChild.namespaceURI!==je&&(Me=function(t,e){var i=new DOMParser,n=i.parseFromString(e,"text/xml"),o=document.adoptNode(n.documentElement);t.innerHTML="",t.appendChild(o)})}var De=Me,Oe={clip:"clip-path",fill:"fill"};function Pe(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}var Re=xe.extend({init:function(t,e){xe.fn.init.call(this,t),this.definitions={},this.options=e},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),xe.fn.destroy.call(this)},load:function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=n.children,r=new Te[n.nodeType](n,this.options);p(e)?this.insertAt(r,e):this.append(r),r.createDefinitions(),o&&o.length>0&&r.load(o);var a=this.element;a&&r.attachTo(a,e)}},root:function(){for(var t=this;t.parent;)t=t.parent;return t},attachTo:function(t,e){var i=document.createElement("div");De(i,"<svg xmlns='"+je+"' version='1.1'>"+this.render()+"</svg>");var n=i.firstChild.firstChild;n&&(p(e)?t.insertBefore(n,t.childNodes[e]||null):t.appendChild(n),this.setElement(n))},setElement:function(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;for(var e=this.childNodes,i=0;i<e.length;i++){var n=t.childNodes[i];e[i].setElement(n)}},clear:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var t=this.childNodes,e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]},removeSelf:function(){if(this.element){var t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}xe.fn.removeSelf.call(this)},template:function(){return this.renderChildren()},render:function(){return this.template()},renderChildren:function(){for(var t=this.childNodes,e="",i=0;i<t.length;i++)e+=t[i].render();return e},optionsChange:function(t){var e=t.field,i=t.value;"visible"===e?this.css("display",i?"":"none"):Oe[e]&&Pe(e,i)?this.updateDefinition(e,i):"opacity"===e?this.attr("opacity",i):"cursor"===e?this.css("cursor",i):"id"===e&&(i?this.attr("id",i):this.removeAttr("id")),xe.fn.optionsChange.call(this,t)},attr:function(t,e){this.element&&this.element.setAttribute(t,e)},allAttr:function(t){for(var e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])},css:function(t,e){this.element&&(this.element.style[t]=e)},allCss:function(t){for(var e=0;e<t.length;e++)this.css(t[e][0],t[e][1])},removeAttr:function(t){this.element&&this.element.removeAttribute(t)},mapTransform:function(t){var e=[];return t&&e.push(["transform","matrix("+t.matrix().toString(6)+")"]),e},renderTransform:function(){return Ce(this.mapTransform(this.srcElement.transform()))},transformChange:function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr("transform")},mapStyle:function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return!1===t.visible&&e.push(["display","none"]),e},renderStyle:function(){return Se("style",Ae(this.mapStyle(!0)))},renderOpacity:function(){return Se("opacity",this.srcElement.options.opacity)},renderId:function(){return Se("id",this.srcElement.options.id)},createDefinitions:function(){var t=this.srcElement,e=this.definitions;if(t){var i,n=t.options;for(var o in Oe){var r=n.get(o);r&&Pe(o,r)&&(e[o]=r,i=!0)}i&&this.definitionChange({action:"add",definitions:e})}},definitionChange:function(t){this.parent&&this.parent.definitionChange(t)},updateDefinition:function(t,e){var i=this.definitions,n=i[t],o=Oe[t],r={};n&&(r[t]=n,this.definitionChange({action:"remove",definitions:r}),delete i[t]),e?(r[t]=e,this.definitionChange({action:"add",definitions:r}),i[t]=e,this.attr(o,this.refUrl(e.id))):n&&this.removeAttr(o)},clearDefinitions:function(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}},renderDefinitions:function(){return Ce(this.mapDefinitions())},mapDefinitions:function(){var t=this.definitions,e=[];for(var i in t)e.push([Oe[i],this.refUrl(t[i].id)]);return e},refUrl:function(t){var e=(this.options||{}).skipBaseHref,i=this.baseUrl().replace(/'/g,"\\'"),n=e?"":i;return"url("+n+"#"+t+")"},baseUrl:function(){return function(){var t=document.getElementsByTagName("base")[0],e=document.location.href,i="";if(t&&!a.msie){var n=e.indexOf("#");-1!==n&&(e=e.substring(0,n)),i=e}return i}()}}),Le=Re.extend({template:function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},renderOffset:function(){return Se("offset",this.srcElement.offset())},mapStyle:function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},optionsChange:function(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)}}),Fe=Re.extend({init:function(t){Re.fn.init.call(this,t),this.id=t.id,this.loadStops()},loadStops:function(){for(var t=this.srcElement.stops,e=this.element,i=0;i<t.length;i++){var n=new Le(t[i]);this.append(n),e&&n.attachTo(e)}},optionsChange:function(t){"gradient.stops"===t.field?(xe.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return Ce(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),Ne=Fe.extend({template:function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},mapCoordinates:function(){var t=this.srcElement,e=t.start(),i=t.end(),n=[["x1",e.x],["y1",e.y],["x2",i.x],["y2",i.y],this.mapSpace()];return n}}),Be=Fe.extend({template:function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},mapCoordinates:function(){var t=this.srcElement,e=t.center(),i=t.radius(),n=[["cx",e.x],["cy",e.y],["r",i],this.mapSpace()];return n}}),qe=Re.extend({init:function(t){Re.fn.init.call(this),this.srcElement=t,this.id=t.id,this.load([t])},template:function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"}}),Ve=Re.extend({init:function(){Re.fn.init.call(this),this.definitionMap={}},attachTo:function(t){this.element=t},template:function(){return"<defs>"+this.renderChildren()+"</defs>"},definitionChange:function(t){var e=t.definitions,i=t.action;"add"===i?this.addDefinitions(e):"remove"===i&&this.removeDefinitions(e)},createDefinition:function(t,e){var i;return"clip"===t?i=qe:"fill"===t&&(e instanceof ae?i=Ne:e instanceof se&&(i=Be)),new i(e)},addDefinitions:function(t){for(var e in t)this.addDefinition(e,t[e])},addDefinition:function(t,e){var i=this.element,n=this.definitionMap,o=e.id,r=n[o];if(r)r.count++;else{var a=this.createDefinition(t,e);n[o]={element:a,count:1},this.append(a),i&&a.attachTo(this.element)}},removeDefinitions:function(t){for(var e in t)this.removeDefinition(t[e])},removeDefinition:function(t){var e=this.definitionMap,i=t.id,n=e[i];n&&(n.count--,0===n.count&&(this.remove(this.childNodes.indexOf(n.element),1),delete e[i]))}}),He=Re.extend({init:function(t){Re.fn.init.call(this),this.options=t,this.defs=new Ve},attachTo:function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},clear:function(){xe.prototype.clear.call(this)},template:function(){return this.defs.render()+this.renderChildren()},definitionChange:function(t){this.defs.definitionChange(t)}}),Ue=_e.extend({init:function(e,i){_e.fn.init.call(this,e,i),this._root=new He(t.extend({rtl:"rtl"===P(e,"direction").direction},this.options)),De(this.element,this._template()),this._rootElement=this.element.firstElementChild,function(t){var e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(t){}if(e){var i=-e.e%1,n=-e.f%1,o=t.style;0===i&&0===n||(o.left=i+"px",o.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),D(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()},destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,F(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),_e.fn.destroy.call(this)},translate:function(t){var e=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t,this._rootElement.setAttribute("viewBox",e)},draw:function(t){_e.fn.draw.call(this,t),this._root.load([t])},clear:function(){_e.fn.clear.call(this),this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template()},exportVisual:function(){var t=this._visual,e=this._offset;if(e){var i=new Ht;i.children.push(t),i.transform(X().translate(-e.x,-e.y)),t=i}return t},_resize:function(){this._offset&&this.translate(this._offset)},_template:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+je+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"}});Ue.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(_e.support.svg=!0,ye.current.register("svg",Ue,10));var We=Re.extend({template:function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},optionsChange:function(t){"transform"===t.field&&this.transformChange(t.value),Re.fn.optionsChange.call(this,t)}});Te.Group=We;var Ge={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Qe={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},Ye=Re.extend({geometryChange:function(){this.attr("d",this.renderData()),this.invalidate()},optionsChange:function(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:var e=Qe[t.field];e&&this.attr(e,t.value)}Re.fn.optionsChange.call(this,t)},content:function(){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(t){var e=t.segments,i=e.length;if(i>0){for(var n,o,r=[],a=1;a<i;a++){var s=this.segmentType(e[a-1],e[a]);s!==o&&(o=s,r.push(s)),"L"===s?r.push(this.printPoints(e[a].anchor())):r.push(this.printPoints(e[a-1].controlOut(),e[a].controlIn(),e[a].anchor()))}return n="M"+this.printPoints(e[0].anchor())+" "+r.join(" "),t.options.closed&&(n+="Z"),n}},printPoints:function(){for(var t=arguments,e=t.length,i=[],n=0;n<e;n++)i.push(t[n].toString(3));return i.join(" ")},segmentType:function(t,e){return t.controlOut()&&e.controlIn()?"C":"L"},mapStroke:function(t){var e=[];return t&&!A(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),p(t.opacity)&&e.push(["stroke-opacity",t.opacity]),p(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke","none"]),e},renderStroke:function(){return Ce(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(t){var e=t.dashType,i=t.width;if(void 0===i&&(i=1),e&&"solid"!==e){for(var n=Ge[e.toLowerCase()],o=[],r=0;r<n.length;r++)o.push(n[r]*i);return o.join(" ")}},renderLinecap:function(t){var e=t.dashType,i=t.lineCap;return e&&"solid"!==e?"butt":i},mapFill:function(t){var e=[];return t&&"Gradient"===t.nodeType||(t&&!A(t.color)?(e.push(["fill",t.color]),p(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill","none"])),e},renderFill:function(){return Ce(this.mapFill(this.srcElement.options.fill))},template:function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Se("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"}});Te.Path=Ye;var Ke=Ye.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});Te.Arc=Ke;var Ze=Ye.extend({geometryChange:function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"}});Te.Circle=Ze;var Xe=Ye.extend({geometryChange:function(){var t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.invalidate()},size:function(){return this.srcElement.geometry().size},origin:function(){return this.srcElement.geometry().origin},template:function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"}});Te.Rect=Xe;var Je=Ye.extend({geometryChange:function(){this.allAttr(this.mapPosition()),this.invalidate()},optionsChange:function(t){"src"===t.field&&this.allAttr(this.mapSource()),Ye.fn.optionsChange.call(this,t)},mapPosition:function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},renderPosition:function(){return Ce(this.mapPosition())},mapSource:function(t){var e=this.srcElement.src();return t&&(e=kendo.htmlEncode(e)),[["xlink:href",e]]},renderSource:function(){return Ce(this.mapSource(!0))},template:function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+"></image>"}});Te.Image=Je;var $e=/&(?:[a-zA-Z]+|#\d+);/g;function ti(t){if(!t||"string"!=typeof t||!$e.test(t))return t;var e=ti._element;return $e.lastIndex=0,t.replace($e,function(t){return e.innerHTML=t,e.textContent||e.innerText})}"undefined"!=typeof document&&(ti._element=document.createElement("span"));var ei=Ye.extend({geometryChange:function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},optionsChange:function(t){"font"===t.field?(this.attr("style",Ae(this.mapStyle())),this.geometryChange()):"content"===t.field&&Ye.fn.content.call(this,this.srcElement.content()),Ye.fn.optionsChange.call(this,t)},mapStyle:function(t){var e=Ye.fn.mapStyle.call(this,t),i=this.srcElement.options.font;return t&&(i=kendo.htmlEncode(i)),e.push(["font",i],["white-space","pre"]),e},pos:function(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},renderContent:function(){var t=this.srcElement.content();return t=ti(t),t=kendo.htmlEncode(t),o.normalizeText(t)},renderTextAnchor:function(){var t;return!(this.options||{}).rtl||a.msie||a.edge||(t="end"),Se("text-anchor",t)},template:function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"}});Te.Text=ei;var ii=Ye.extend({renderData:function(){var t=this.srcElement.paths;if(t.length>0){for(var e=[],i=0;i<t.length;i++)e.push(this.printPath(t[i]));return e.join(" ")}}});Te.MultiPath=ii;var ni={Circle:et,Arc:dt,Rect:K,Point:Q,Segment:Dt,Matrix:W,Size:Y,toMatrix:G,Transformation:Z,transform:X};function oi(t){var e=new He({skipBaseHref:!0}),i=t.clippedBBox(),n=t;if(i){var o=i.getOrigin(),r=new Ht;r.transform(X().translate(-o.x,-o.y)),r.children.push(t),n=r}e.load([n]);var a="<?xml version='1.0' ?><svg xmlns='"+je+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+e.render()+"</svg>";return e.destroy(),a}var ri={Surface:Ue,RootNode:He,Node:Re,GroupNode:We,ArcNode:Ke,CircleNode:Ze,RectNode:Xe,ImageNode:Je,TextNode:ei,PathNode:Ye,MultiPathNode:ii,DefinitionNode:Ve,ClipNode:qe,GradientStopNode:Le,LinearGradientNode:Ne,RadialGradientNode:Be,exportGroup:oi},ai={};function si(t,e){var i=e.segments;if(0!==i.length){var n=i[0],o=n.anchor();t.moveTo(o.x,o.y);for(var r=1;r<i.length;r++){n=i[r],o=n.anchor();var a=i[r-1],s=a.controlOut(),l=n.controlIn();s&&l?t.bezierCurveTo(s.x,s.y,l.x,l.y,o.x,o.y):t.lineTo(o.x,o.y)}e.options.closed&&t.closePath()}}var li=xe.extend({init:function(t){xe.fn.init.call(this,t),t&&this.initClip()},initClip:function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),xe.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(t){this.clip&&(t.beginPath(),si(t,this.clip),t.clip())},optionsChange:function(t){"clip"===t.field&&(this.clearClip(),this.initClip()),xe.fn.optionsChange.call(this,t)},setTransform:function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},loadElements:function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n],r=o.children,a=new ai[o.nodeType](o,i);r&&r.length>0&&a.load(r,e,i),p(e)?this.insertAt(a,e):this.append(a)}},load:function(t,e,i){this.loadElements(t,e,i),this.invalidate()},setOpacity:function(t){if(this.srcElement){var e=this.srcElement.opacity();p(e)&&this.globalAlpha(t,e)}},globalAlpha:function(t,e){var i=e;i&&t.globalAlpha&&(i*=t.globalAlpha),t.globalAlpha=i},visible:function(){var t=this.srcElement;return!t||t&&!1!==t.options.visible}}),ci=li.extend({renderTo:function(t){if(this.visible()){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);for(var e=this.childNodes,i=0;i<e.length;i++){var n=e[i];n.visible()&&n.renderTo(t)}t.restore()}}});Vt.extend(ci.prototype,"childNodes"),ai.Group=ci;var ui=ci.extend({init:function(t){ci.fn.init.call(this),this.canvas=t,this.ctx=t.getContext("2d");var e=this._invalidate.bind(this);this.invalidate=kendo.throttle(function(){kendo.animationFrame(e)},1e3/60)},destroy:function(){ci.fn.destroy.call(this),this.canvas=null,this.ctx=null},load:function(t,e,i){this.loadElements(t,e,i),this._invalidate()},_invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}});Vt.extend(ui.prototype,"childNodes");var hi=n.extend({init:function(){this.shapes=[]},_add:function(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this},pointShapes:function(t){for(var e=this.shapes,i=e.length,n=[],o=0;o<i;o++)e[o].bbox.containsPoint(t)&&n.push(e[o].shape);return n},insert:function(t,e){this._add(t,e)},remove:function(t){for(var e=this.shapes,i=e.length,n=0;n<i;n++)if(e[n].shape===t){e.splice(n,1);break}}}),di=hi.extend({init:function(t){hi.fn.init.call(this),this.children=[],this.rect=t},inBounds:function(t){var e=this.rect,i=e.bottomRight(),n=t.bottomRight(),o=e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&n.x<=i.x&&n.y<=i.y;return o},pointShapes:function(t){for(var e=this.children,i=e.length,n=hi.fn.pointShapes.call(this,t),o=0;o<i;o++)u(n,e[o].pointShapes(t));return n},insert:function(t,e){var i=this.children,n=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{i.length||this._initChildren();for(var o=0;o<i.length;o++)if(i[o].insert(t,e)){n=!0;break}n||this._add(t,e)}n=!0}return n},_initChildren:function(){var t=this.rect,e=this.children,i=t.center(),n=t.width()/2,o=t.height()/2;e.push(new di(new K([t.origin.x,t.origin.y],[n,o])),new di(new K([i.x,t.origin.y],[n,o])),new di(new K([t.origin.x,i.y],[n,o])),new di(new K([i.x,i.y],[n,o])))}}),fi=n.extend({init:function(){this.initRoots()},initRoots:function(){this.rootMap={},this.root=new hi,this.rootElements=[]},clear:function(){for(var t=this.rootElements,e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()},pointShape:function(t){var e=(this.rootMap[Math.floor(t.x/3e3)]||{})[Math.floor(t.y/3e3)],i=this.root.pointShapes(t);e&&(i=i.concat(e.pointShapes(t))),this.assignZindex(i),i.sort(pi);for(var n=0;n<i.length;n++)if(i[n].containsPoint(t))return i[n]},assignZindex:function(t){for(var e=0;e<t.length;e++){for(var i=t[e],n=0,o=Math.pow(1e4,75),r=[];i;)r.push(i),i=i.parent;for(;r.length;)i=r.pop(),n+=((i.parent?i.parent.children:this.rootElements).indexOf(i)+1)*o,o/=1e4;t[e]._zIndex=n}},optionsChange:function(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)},geometryChange:function(t){this.bboxChange(t.element)},bboxChange:function(t){if("Group"===t.nodeType)for(var e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)},add:function(t){var e=Array.isArray(t)?t.slice(0):[t];u(this.rootElements,e),this._insert(e)},childrenChange:function(t){if("remove"===t.action)for(var e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))},_insert:function(t){for(var e;t.length>0;)(e=t.pop()).addObserver(this),"Group"===e.nodeType?u(t,e.children):this._insertShape(e)},_insertShape:function(t){var e=t.bbox();if(e){var i=this.getSectors(e),n=i[0][0],o=i[1][0];if(this.inRoot(i))this.root.insert(t,e);else{var r=this.rootMap;r[n]||(r[n]={}),r[n][o]||(r[n][o]=new di(new K([3e3*n,3e3*o],[3e3,3e3]))),r[n][o].insert(t,e)}}},remove:function(t){if(t.removeObserver(this),"Group"===t.nodeType)for(var e=t.children,i=0;i<e.length;i++)this.remove(e[i]);else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)},inRoot:function(t){return t[0].length>1||t[1].length>1},getSectors:function(t){for(var e=t.bottomRight(),i=Math.floor(e.x/3e3),n=Math.floor(e.y/3e3),o=[[],[]],r=Math.floor(t.origin.x/3e3);r<=i;r++)o[0].push(r);for(var a=Math.floor(t.origin.y/3e3);a<=n;a++)o[1].push(a);return o}});function pi(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}var mi=n.extend({init:function(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element},clear:function(){this._resetCursor()},destroy:function(){this._resetCursor(),delete this.element},_mouseenter:function(t){var e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()},_mouseleave:function(){this._resetCursor()},_shapeCursor:function(t){for(var e=t.element;e&&!p(e.options.cursor);)e=e.parent;if(e)return e.options.cursor},_getCursor:function(){if(this.element)return this.element.style.cursor},_setCursor:function(t){this.element&&(this.element.style.cursor=t,this._current=t)},_resetCursor:function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}),gi=_e.extend({init:function(t,e){_e.fn.init.call(this,t,e),this.element.innerHTML=this._template(this);var i=this.element.firstElementChild,n=L(t);i.width=n.width,i.height=n.height,this._rootElement=i,this._root=new ui(i),this._mouseTrackHandler=this._trackMouse.bind(this),D(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},destroy:function(){_e.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),F(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},draw:function(t){_e.fn.draw.call(this,t),this._root.load([t],void 0,this.options.cors),this._searchTree&&this._searchTree.add([t])},clear:function(){_e.fn.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},eventTarget:function(t){if(this._searchTree){var e=this._surfacePoint(t),i=this._searchTree.pointShape(e);return i}},image:function(){var t=this._root,e=this._rootElement,i=[];t.traverse(function(t){t.loading&&i.push(t.loading)});var n=s(),o=function(){t._invalidate();try{var i=e.toDataURL();n.resolve(i)}catch(t){n.reject(t)}};return l(i).then(o,o),n},suspendTracking:function(){_e.fn.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},resumeTracking:function(){if(_e.fn.resumeTracking.call(this),!this._searchTree){this._searchTree=new fi;for(var t=this._root.childNodes,e=[],i=0;i<t.length;i++)e.push(t[i].srcElement);this._searchTree.add(e)}},_resize:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate()},_template:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"},_enableTracking:function(){this._searchTree=new fi,this._cursor=new mi(this),_e.fn._enableTracking.call(this)},_trackMouse:function(t){if(!this._suspendedTracking){var e=this.eventTarget(t);if("click"!==t.type){var i=this._currentShape;i&&i!==e&&this.trigger("mouseleave",{element:i,originalEvent:t,type:"mouseleave"}),e&&i!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}}});gi.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(_e.support.canvas=!0,ye.current.register("canvas",gi,20));var vi=li.extend({renderTo:function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()},setFill:function(t){var e=this.srcElement.options.fill,i=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),i=!0):A(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),i=!0)),i},setGradientFill:function(t,e){var i,n=this.srcElement.rawBBox();if(e instanceof ae){var o=e.start(),r=e.end();i=t.createLinearGradient(o.x,o.y,r.x,r.y)}else if(e instanceof se){var a=e.center();i=t.createRadialGradient(a.x,a.y,0,a.x,a.y,e.radius())}!function(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=kendo.parseColor(n.color());o.a*=n.opacity(),t.addColorStop(n.offset(),o.toCssRgba())}}(i,e.stops),t.save(),e.userSpace()||t.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),t.fillStyle=i,t.fill(),t.restore()},setStroke:function(t){var e=this.srcElement.options.stroke;if(e&&!A(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=I(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0},dashType:function(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()},setLineDash:function(t){var e=this.dashType();if(e&&"solid"!==e){var i=Ge[e];t.setLineDash?t.setLineDash(i):(t.mozDash=i,t.webkitLineDash=i)}},setLineCap:function(t){var e=this.dashType(),i=this.srcElement.options.stroke;e&&"solid"!==e?t.lineCap="butt":i&&i.lineCap&&(t.lineCap=i.lineCap)},setLineJoin:function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},renderPoints:function(t,e){si(t,e)}});ai.Path=vi;var bi=vi.extend({renderPoints:function(t){var e=this.srcElement.toPath();si(t,e)}});ai.Arc=bi;var ki=vi.extend({renderPoints:function(t){var e=this.srcElement.geometry(),i=e.center,n=e.radius;t.arc(i.x,i.y,n,0,2*Math.PI)}});ai.Circle=ki;var yi=vi.extend({renderPoints:function(t){var e=this.srcElement.geometry(),i=e.origin,n=e.size;t.rect(i.x,i.y,n.width,n.height)}});ai.Rect=yi;var wi=vi.extend({init:function(t,e){vi.fn.init.call(this,t),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=s();var i=this.img=new Image;e&&!/^data:/i.test(t.src())&&(i.crossOrigin=e),i.src=t.src(),i.complete?this.onLoad():(i.onload=this.onLoad,i.onerror=this.onError)},renderTo:function(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},optionsChange:function(t){"src"===t.field?(this.loading=s(),this.img.src=this.srcElement.src()):vi.fn.optionsChange.call(this,t)},onLoad:function(){this.loading.resolve(),this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(t){var e=this.srcElement.rect(),i=e.topLeft();t.drawImage(this.img,i.x,i.y,e.width(),e.height())}});ai.Image=wi;var _i=vi.extend({renderTo:function(t){var e=this.srcElement,i=e.position(),n=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),i.x,i.y+n.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),i.x,i.y+n.baseline)),t.restore()}});ai.Text=_i;var xi=vi.extend({renderPoints:function(t){for(var e=this.srcElement.paths,i=0;i<e.length;i++)si(t,e[i])}});ai.MultiPath=xi;var Si={Surface:gi,RootNode:ui,Node:li,GroupNode:ci,ArcNode:bi,CircleNode:ki,RectNode:yi,ImageNode:wi,TextNode:_i,PathNode:vi,MultiPathNode:xi},Ci=a;function Ai(t){return Array.prototype.slice.call(t)}var Ti="KENDO-PSEUDO-ELEMENT",ji={},Mi={};Mi._root=Mi;var zi="undefined"!=typeof window,Ei=!!zi&&(Ci.msie||Ci.edge),Ii=Bt.extend({init:function(t,e,i){Bt.fn.init.call(this,t,e.getOrigin(),i),this._pdfRect=e},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});function Di(t,e){Object.keys(e).forEach(function(i){t.style[i]=e[i]})}var Oi="undefined"!=typeof Element&&Element.prototype&&function(t){return t.matches?function(t,e){return t.matches(e)}:t.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:t.mozMatchesSelector?function(t,e){return t.mozMatchesSelector(e)}:t.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}}(Element.prototype);function Pi(t,e){if(t.closest)return t.closest(e);for(;t&&!/^\[object (?:HTML)?Document\]$/.test(String(t));){if(1==t.nodeType&&Oi(t,e))return t;t=t.parentNode}}var Ri=function(t){return t?function e(i){var n=i.cloneNode(!1);if(1==i.nodeType){var o,r=t(i),a=t(n),s=r.data();for(o in s)a.data(o,s[o]);for(/^canvas$/i.test(i.tagName)?n.getContext("2d").drawImage(i,0,0):/^(?:input|select|textarea|option)$/i.test(i.tagName)&&(n.removeAttribute("id"),n.removeAttribute("name"),n.value=i.value,n.checked=i.checked,n.selected=i.selected),o=i.firstChild;o;o=o.nextSibling)n.appendChild(e(o))}return n}:function(t){var e=function t(e){var i=e.cloneNode(!1);e._kendoExportVisual&&(i._kendoExportVisual=e._kendoExportVisual);for(var n=e.firstChild;n;n=n.nextSibling)i.appendChild(t(n));return i}(t),i=t.querySelectorAll("canvas");i.length&&Ai(e.querySelectorAll("canvas")).forEach(function(t,e){t.getContext("2d").drawImage(i[e],0,0)});var n=t.querySelectorAll("input, select, textarea, option");return Ai(e.querySelectorAll("input, select, textarea, option")).forEach(function(t,e){t.removeAttribute("id"),t.removeAttribute("name"),t.value=n[e].value,t.checked=n[e].checked,t.selected=n[e].selected}),e}}("undefined"!=typeof window&&window.kendo&&window.kendo.jQuery);function Li(t,e){e||(e={});var i=s();if(!t)return i.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");kendo.pdf.defineFont(Vi(t.ownerDocument));var n=function(t){return"number"==typeof t?{x:t,y:t}:Array.isArray(t)?{x:t[0],y:t[1]}:{x:t.x,y:t.y}}(e.scale||1);function o(t){var i=new Ht,o=t.getBoundingClientRect();return cn(i,[n.x,0,0,n.y,-o.left*n.x,-o.top*n.y]),Mi._clipbox=!1,Mi._matrix=W.unit(),Mi._stackingContext={element:t,group:i},!0===e.avoidLinks?Mi._avoidLinks="a":Mi._avoidLinks=e.avoidLinks,function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}(t,"k-pdf-export"),An(t,i),function(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/\s+/).reduce(function(t,i){return i!=e&&t.push(i),t},[]).join(" ")}(t,"k-pdf-export"),i}return Ki(t,function(){var r=e&&e.forcePageBreak,a=e&&e.paperSize&&"auto"!=e.paperSize,s=kendo.pdf.getPaperOptions(function(t,i){return"paperSize"==t?a?e[t]:"A4":t in e?e[t]:i}),l=a&&s.paperSize[0],c=a&&s.paperSize[1],u=e.margin&&s.margin,h=Boolean(u);if(r||c){u||(u={left:0,top:0,right:0,bottom:0}),l&&(l/=n.x),c&&(c/=n.y),u.left/=n.x,u.right/=n.x,u.top/=n.y,u.bottom/=n.y;var d=new Ht({pdf:{multiPage:!0,paperSize:a?s.paperSize:"auto",_ignoreMargin:h}});!function(t,e,i,n,o,r,a){var s=function(t){if(null!=t)return"string"==typeof t&&(t=kendo.template(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(e){var i=t(e);if(i&&"string"==typeof i){var n=document.createElement("div");n.innerHTML=i,i=n.firstElementChild}return i}:function(){return t.cloneNode(!0)}}(a.template),l=e.ownerDocument,c=[],u=a._destructive?e:Ri(e),h=l.createElement("KENDO-PDF-DOCUMENT"),d=0;function f(){("-"!=i||o)&&function t(e){if("TABLE"==e.tagName&&Di(e,{tableLayout:"fixed"}),!p(e)){var n=tn(e),r=parseFloat(en(n,"padding-bottom")),a=parseFloat(en(n,"border-bottom-width")),s=d;d+=r+a;for(var l=!0,c=e.firstChild;c;c=c.nextSibling)if(1==c.nodeType){if(l=!1,Oi(c,i)){m(c);continue}if(!o){t(c);continue}if(!/^(?:static|relative)$/.test(en(tn(c),"position")))continue;var u=v(c);1==u?m(c):u&&p(c)?m(c):t(c)}else 3==c.nodeType&&o&&(b(c,l),l=!1);d=s}}(u);var e=g();u.parentNode.insertBefore(e,u),e.appendChild(u),s&&c.forEach(function(t,e){var i=s({element:t,pageNum:e+1,totalPages:c.length});i&&t.appendChild(i)}),Ki(c,function(){!function(t,e){var i=0;function n(){--i<=0&&e()}t.forEach(function(t){for(var e=t.querySelectorAll("img"),o=0;o<e.length;++o){var r=e[o];r.complete||(i++,r.onload=r.onerror=n)}}),i||n()}(c,function(){t({pages:c,container:h})})})}function p(t){if(a.keepTogether&&Oi(t,a.keepTogether)&&t.offsetHeight<=o-d)return!0;var e=t.tagName;return!(/^h[1-6]$/i.test(e)&&t.offsetHeight>=o-d)&&(t.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(t.tagName))}function m(t){if(1==t.nodeType&&t!==u&&function(t){var e=t.parentNode,i=e.firstChild;if(t===i)return!0;if(t===e.children[0]){if(7==i.nodeType||8==i.nodeType)return!0;if(3==i.nodeType)return!/\S/.test(i.data)}return!1}(t))return m(t.parentNode);var e,i,n,o,r;e=Pi(t,"table"),i=e&&e.querySelector("colgroup"),a.repeatHeaders&&(n=e&&e.querySelector("thead"),(o=Pi(t,".k-grid.k-widget"))&&o.querySelector(".k-auto-scrollable")&&(r=o.querySelector(".k-grid-header")));var s=g(),c=l.createRange();c.setStartBefore(u),c.setEndBefore(t),s.appendChild(c.extractContents()),u.parentNode.insertBefore(s,u),k(t.parentNode),e&&(e=Pi(t,"table"),a.repeatHeaders&&n&&e.insertBefore(n.cloneNode(!0),e.firstChild),i&&e.insertBefore(i.cloneNode(!0),e.firstChild)),a.repeatHeaders&&r&&(o=Pi(t,".k-grid.k-widget")).insertBefore(r.cloneNode(!0),o.firstChild)}function g(){var t=l.createElement("KENDO-PDF-PAGE");return Di(t,{display:"block",boxSizing:"content-box",width:n?n+"px":"auto",padding:r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px",position:"relative",height:o?o+"px":"auto",overflow:o||n?"hidden":"visible",clear:"both"}),a&&a.pageClassName&&(t.className=a.pageClassName),c.push(t),t}function v(t){var e=t.getBoundingClientRect();if(0===e.width||0===e.height)return 0;var i=u.getBoundingClientRect().top,n=o-d;return e.height>n?3:e.top-i>n?1:e.bottom-i>n?2:0}function b(t,e){if(/\S/.test(t.data)){var i=t.data.length,n=l.createRange();n.selectNodeContents(t);var o=v(n);if(o){var r=t;if(1==o)m(e?t.parentNode:t);else if(function e(i,o,r){return n.setEnd(t,o),i==o||o==r?o:v(n)?e(i,i+o>>1,o):e(o,o+r>>1,r)}(0,i>>1,i),!/\S/.test(n.toString())&&e)m(t.parentNode);else{r=t.splitText(n.endOffset);var a=g();n.setStartBefore(u),a.appendChild(n.extractContents()),u.parentNode.insertBefore(a,u),k(r.parentNode)}b(r)}}}function k(t){var e=Pi(t,"li");e&&(e.setAttribute("kendo-no-bullet","1"),k(e.parentNode))}Ai(u.querySelectorAll("tfoot")).forEach(function(t){t.parentNode.appendChild(t)}),Ai(u.querySelectorAll("ol")).forEach(function(t){Ai(t.children).forEach(function(t,e){t.setAttribute("kendo-split-index",e)})}),Di(h,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),n&&(Di(h,{width:n+"px",paddingLeft:r.left+"px",paddingRight:r.right+"px"}),Di(u,{overflow:"hidden"})),e.parentNode.insertBefore(h,e),h.appendChild(u),a.beforePageBreak?setTimeout(function(){a.beforePageBreak(h,f)},15):setTimeout(f,15)}(function(t){if(e.progress){var n=!1,r=0;!function a(){if(r<t.pages.length){var s=o(t.pages[r]);d.append(s),e.progress({page:s,pageNum:++r,totalPages:t.pages.length,cancel:function(){n=!0}}),n?t.container.parentNode.removeChild(t.container):setTimeout(a)}else t.container.parentNode.removeChild(t.container),i.resolve(d)}()}else t.pages.forEach(function(t){d.append(o(t))}),t.container.parentNode.removeChild(t.container),i.resolve(d)},t,r,l?l-u.left-u.right:null,c?c-u.top-u.bottom:null,u,e)}else i.resolve(o(t))}),i}Li.getFontFaces=Vi,Li.drawText=function(t){var e=new Ht;return Mi._clipbox=!1,Mi._matrix=W.unit(),Mi._stackingContext={element:t,group:e},Xi(t,tn(t),e),3==t.firstChild.nodeType?Cn(t,t.firstChild,e):yn(t,e),Ji(),e};var Fi=function(){var t=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,e=/^([-0-9.]+%)/,i=/^([-0-9.]+px)/,n=/^(left|right|top|bottom|to|center)\W/,o=/^([-0-9.]+(deg|grad|rad|turn))/,r=/^(\s+)/,a=/^(\()/,s=/^(\))/,l=/^(,)/,c=/^(url)\(/,u=/^(.*?)\)/,h={},d={};function f(d){var f,p=d;if(Hi(h,p))return h[p];function m(t){!function(){var t=r.exec(d);t&&(d=d.substr(t[1].length))}();var e=t.exec(d);if(e)return d=d.substr(e[1].length),e[1]}function g(){var t,n,o=kendo.parseColor(d,!0);if(o){var r=/^#[0-9a-f]+/i.exec(d)||/^rgba?\(.*?\)/i.exec(d)||/^..*?\b/.exec(d);return d=d.substr(r[0].length),o=o.toRGB(),(t=m(i))||(n=m(e)),{color:o,length:t,percent:n}}}return(f=m(t))?f=function(t){var i,r,c,u=[],h=!1;if(m(a)){if((i=m(o))?(i=function(t){var e=parseFloat(t);return/grad$/.test(t)?Math.PI*e/200:/rad$/.test(t)?e:/turn$/.test(t)?Math.PI*e*2:/deg$/.test(t)?Math.PI*e/180:void 0}(i),m(l)):("to"==(r=m(n))?r=m(n):r&&/^-/.test(t)&&(h=!0),c=m(n),m(l)),/-moz-/.test(t)&&null==i&&null==r){var f=m(e),p=m(e);h=!0,"0%"==f?r="left":"100%"==f&&(r="right"),"0%"==p?c="top":"100%"==p&&(c="bottom"),m(l)}for(;d&&!m(s);){var v=g();if(!v)break;u.push(v),m(l)}return{type:"linear",angle:i,to:r&&c?r+" "+c:r||c||null,stops:u,reverse:h}}}(f):(f=m(c))&&(f=function(){if(m(a)){var t=m(u);return t=t.replace(/^['"]+|["']+$/g,""),m(s),{type:"url",url:t}}}()),h[p]=f||{type:"none"}}return function(t){return Hi(d,t)?d[t]:d[t]=Ni(t).map(f)}}(),Ni=function(){var t={};return function(e,i){i||(i=/^\s*,\s*/);var n=e+i;if(Hi(t,n))return t[n];var o,r=[],a=0,s=0,l=0,c=!1;function u(t){return o=t.exec(e.substr(s))}function h(t){return t.replace(/^\s+|\s+$/g,"")}for(;s<e.length;)!c&&u(/^[\(\[\{]/)?(l++,s++):!c&&u(/^[\)\]\}]/)?(l--,s++):!c&&u(/^[\"\']/)?(c=o[0],s++):"'"==c&&u(/^\\\'/)?s+=2:'"'==c&&u(/^\\\"/)?s+=2:"'"==c&&u(/^\'/)?(c=!1,s++):'"'==c&&u(/^\"/)?(c=!1,s++):u(i)?(!c&&!l&&s>a&&(r.push(h(e.substring(a,s))),a=s+o[0].length),s+=o[0].length):s++;return a<s&&r.push(h(e.substring(a,s))),t[n]=r}}(),Bi=function(t){return function(e){var i,n=t[e];return n||((i=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))?n=t[e]=i[2]:(i=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e))&&(n=t[e]=i[2])),n}}(Object.create?Object.create(null):{}),qi=function(t){return function(e){var i=t[e];return null==i&&(i=t[e]=o.measureText("Mapq",{font:e}).height),i}}(Object.create?Object.create(null):{});function Vi(t){null==t&&(t=document);for(var e={},i=0;i<t.styleSheets.length;++i)n(t.styleSheets[i]);return e;function n(t){if(t){var e=null;try{e=t.cssRules}catch(t){}e&&function(t,e){for(var i=0;i<e.length;++i){var a=e[i];switch(a.type){case 3:n(a.styleSheet);break;case 5:var s=a.style,l=Ni(en(s,"font-family")),c=/^([56789]00|bold)$/i.test(en(s,"font-weight")),u="italic"==en(s,"font-style"),h=o(a);h.length>0&&r(t,l,c,u,h[0])}}}(t,e)}}function o(t){var e=en(t.style,"src");if(e)return Ni(e).reduce(function(t,e){var i=Bi(e);return i&&t.push(i),t},[]);var i=Bi(t.cssText);return i?[i]:[]}function r(t,i,n,o,r){/^data:/i.test(r)||/^[^\/:]+:\/\//.test(r)||/^\//.test(r)||(r=String(t.href).replace(/[^\/]*$/,"")+r),i.forEach(function(t){t=t.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(t+="|bold"),o&&(t+="|italic"),e[t]=r})}}function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ui(t,e){var i=Mi;for(t="_counter_"+t;i&&!Hi(i,t);)i=Object.getPrototypeOf(i);i||(i=Mi._root),i[t]=(i[t]||0)+(null==e?1:e)}function Wi(t,e){Mi[t="_counter_"+t]=null==e?0:e}function Gi(t,e,i){for(var n=0;n<t.length;){var o=t[n++],r=parseFloat(t[n]);isNaN(r)?e(o,i):(e(o,r),++n)}}function Qi(t){var e=en(t,"counter-reset");e&&Gi(Ni(e,/^\s+/),Wi,0);var i=en(t,"counter-increment");i&&Gi(Ni(i,/^\s+/),Ui,1)}function Yi(t,e){var i=kendo.parseColor(t,!0);return i&&(i=i.toRGB(),e?i=i.toCssRgba():0===i.a&&(i=null)),i}function Ki(t,e){var i=[];function n(t){ji[t]||(ji[t]=!0,i.push(t))}function o(t){/^img$/i.test(t.tagName)&&n(t.src),Fi(en(tn(t),"background-image")).forEach(function(t){"url"==t.type&&n(t.url)}),t.children&&Ai(t.children).forEach(o)}Array.isArray(t)?t.forEach(o):o(t);var r=i.length;function a(){--r<=0&&e()}0===r&&a(),i.forEach(function(t){var e=ji[t]=new window.Image;/^data:/i.test(t)||(e.crossOrigin="Anonymous"),e.src=t,e.complete?a():(e.onload=a,e.onerror=function(){ji[t]=null,a()})})}function Zi(t){var e="";do{var i=t%26;e=String.fromCharCode(97+i)+e,t=Math.floor(t/26)}while(t>0);return e}function Xi(t,e,i){(Mi=Object.create(Mi))[t.tagName.toLowerCase()]={element:t,style:e};var n=en(e,"text-decoration");if(n&&"none"!=n){var o=en(e,"color");n.split(/\s+/g).forEach(function(t){Mi[t]||(Mi[t]=o)})}(function(t){function e(e){return en(t,e)}if("none"!=e("transform")||"static"!=e("position")||"auto"!=e("z-index")||e("opacity")<1)return!0})(e)&&(Mi._stackingContext={element:t,group:i})}function Ji(){Mi=Object.getPrototypeOf(Mi)}function $i(t){if(null!=Mi._clipbox){var e=t.bbox(Mi._matrix);Mi._clipbox?Mi._clipbox=K.intersect(Mi._clipbox,e):Mi._clipbox=e}}function tn(t,e){return window.getComputedStyle(t,e||null)}function en(t,e,i){var n=t.getPropertyValue(e);return null!=n&&""!==n||(Ci.webkit?n=t.getPropertyValue("-webkit-"+e):Ci.mozilla?n=t.getPropertyValue("-moz-"+e):Ci.opera?n=t.getPropertyValue("-o-"+e):Ei&&(n=t.getPropertyValue("-ms-"+e))),arguments.length>2&&(null==n||""===n)?i:n}function nn(t,e,i,n){t.setProperty(e,i,n),Ci.webkit?t.setProperty("-webkit-"+e,i,n):Ci.mozilla?t.setProperty("-moz-"+e,i,n):Ci.opera?t.setProperty("-o-"+e,i,n):Ei&&(t.setProperty("-ms-"+e,i,n),e="ms"+e.replace(/(^|-)([a-z])/g,function(t,e,i){return e+i.toUpperCase()}),t[e]=i)}function on(t,e){return e="border-"+e,{width:parseFloat(en(t,e+"-width")),style:en(t,e+"-style"),color:Yi(en(t,e+"-color"),!0)}}function rn(t,e){var i=t.style.cssText,n=e();return t.style.cssText=i,n}function an(t,e){var i=en(t,"border-"+e+"-radius").split(/\s+/g).map(parseFloat);return 1==i.length&&i.push(i[0]),dn({x:i[0],y:i[1]})}function sn(t,e,i){var n,o,r,a,s;return"string"==typeof e?(n=tn(i),o=parseFloat(en(n,e.replace("*","top"))),r=parseFloat(en(n,e.replace("*","right"))),a=parseFloat(en(n,e.replace("*","bottom"))),s=parseFloat(en(n,e.replace("*","left")))):"number"==typeof e&&(o=r=a=s=e),{top:t.top+o,right:t.right-r,bottom:t.bottom-a,left:t.left+s,width:t.right-t.left-r-s,height:t.bottom-t.top-a-o}}function ln(t){return 180*t/Math.PI%360}function cn(t,e){return e=new W(e[0],e[1],e[2],e[3],e[4],e[5]),t.transform(e),e}function un(t,e){t.clip(e)}function hn(t,e,i,n){for(var o=new dt([e,i],n).curvePoints(),r=1;r<o.length;)t.curveTo(o[r++],o[r++],o[r++])}function dn(t){return(t.x<=0||t.y<=0)&&(t.x=t.y=0),t}function fn(t,e,i,n,o){var r=Math.max(0,e.x),a=Math.max(0,e.y),s=Math.max(0,i.x),l=Math.max(0,i.y),c=Math.max(0,n.x),u=Math.max(0,n.y),h=Math.max(0,o.x),d=Math.max(0,o.y),f=Math.min(t.width/(r+s),t.height/(l+u),t.width/(c+h),t.height/(d+a));return f<1&&(r*=f,a*=f,s*=f,l*=f,c*=f,u*=f,h*=f,d*=f),{tl:{x:r,y:a},tr:{x:s,y:l},br:{x:c,y:u},bl:{x:h,y:d}}}function pn(t,e,i){var n=tn(t),o=an(n,"top-left"),r=an(n,"top-right"),a=an(n,"bottom-left"),s=an(n,"bottom-right");if("padding"==i||"content"==i){var l=on(n,"top"),c=on(n,"right"),u=on(n,"bottom"),h=on(n,"left");if(o.x-=h.width,o.y-=l.width,r.x-=c.width,r.y-=l.width,s.x-=c.width,s.y-=u.width,a.x-=h.width,a.y-=u.width,"content"==i){var d=parseFloat(en(n,"padding-top")),f=parseFloat(en(n,"padding-right")),p=parseFloat(en(n,"padding-bottom")),m=parseFloat(en(n,"padding-left"));o.x-=m,o.y-=d,r.x-=f,r.y-=d,s.x-=f,s.y-=p,a.x-=m,a.y-=p}}return"number"==typeof i&&(o.x-=i,o.y-=i,r.x-=i,r.y-=i,s.x-=i,s.y-=i,a.x-=i,a.y-=i),mn(e,o,r,s,a)}function mn(t,e,i,n,o){var r=fn(t,e,i,n,o),a=r.tl,s=r.tr,l=r.br,c=r.bl,u=new Pt({fill:null,stroke:null});return u.moveTo(t.left,t.top+a.y),a.x&&hn(u,t.left+a.x,t.top+a.y,{startAngle:-180,endAngle:-90,radiusX:a.x,radiusY:a.y}),u.lineTo(t.right-s.x,t.top),s.x&&hn(u,t.right-s.x,t.top+s.y,{startAngle:-90,endAngle:0,radiusX:s.x,radiusY:s.y}),u.lineTo(t.right,t.bottom-l.y),l.x&&hn(u,t.right-l.x,t.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),u.lineTo(t.left+c.x,t.bottom),c.x&&hn(u,t.left+c.x,t.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),u.close()}function gn(t,e){var i=String(parseFloat(t));switch(e){case"decimal-leading-zero":return i.length<2&&(i="0"+i),i;case"lower-roman":return d(t).toLowerCase();case"upper-roman":return d(t).toUpperCase();case"lower-latin":case"lower-alpha":return Zi(t-1);case"upper-latin":case"upper-alpha":return Zi(t-1).toUpperCase();default:return i}}function vn(t,e){function i(t,e,i){return i?(i=i.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(t){var e=[],i=Mi;for(t="_counter_"+t;i;)Hi(i,t)&&e.push(i[t]),i=Object.getPrototypeOf(i);return e.reverse()}(t).map(function(t){return gn(t,e)}).join(i)):gn(function(t){return Mi[t="_counter_"+t]}(t)||0,e)}var n,o=Ni(e,/^\s+/),r=[];return o.forEach(function(e){var o;(n=/^\s*(["'])(.*)\1\s*$/.exec(e))?r.push(n[2].replace(/\\([0-9a-f]{4})/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})):(n=/^\s*counter\((.*?)\)\s*$/.exec(e))?(o=Ni(n[1]),r.push(i(o[0],o[1]))):(n=/^\s*counters\((.*?)\)\s*$/.exec(e))?(o=Ni(n[1]),r.push(i(o[0],o[2],o[1]))):(n=/^\s*attr\((.*?)\)\s*$/.exec(e))?r.push(t.getAttribute(n[1])||""):r.push(e)}),r.join("")}function bn(t){if(t.cssText)return t.cssText;for(var e=[],i=0;i<t.length;++i)e.push(t[i]+": "+en(t,t[i]));return e.join(";\n")}function kn(t,e){if(t.tagName!=Ti){var i=[];if(o(":before",t.firstChild),o(":after",null),i.length>0){var n=t.className;t.className+=" kendo-pdf-hide-pseudo-elements",yn(t,e),t.className=n,i.forEach(function(e){t.removeChild(e)})}else yn(t,e)}else yn(t,e);function o(e,n){var o=tn(t,e),r=o.content;if(Qi(o),r&&"normal"!=r&&"none"!=r&&"0px"!=o.width){var a=t.ownerDocument.createElement(Ti);a.style.cssText=bn(o),a.textContent=vn(t,r),t.insertBefore(a,n),i.push(a)}}}function yn(t,e){var i=tn(t),n=on(i,"top"),o=on(i,"right"),r=on(i,"bottom"),a=on(i,"left"),s=an(i,"top-left"),l=an(i,"top-right"),c=an(i,"bottom-left"),u=an(i,"bottom-right"),h=en(i,"direction"),f=en(i,"background-color");f=Yi(f);var p=Fi(en(i,"background-image")),m=Ni(en(i,"background-repeat")),g=Ni(en(i,"background-position")),v=Ni(en(i,"background-origin")),b=Ni(en(i,"background-size"));Ci.msie&&Ci.version<10&&(g=Ni(t.currentStyle.backgroundPosition));var k,y,w,_=sn(t.getBoundingClientRect(),"border-*-width",t);!function(){var t=en(i,"clip"),n=/^\s*rect\((.*)\)\s*$/.exec(t);if(n){var o=n[1].split(/[ ,]+/g),r="auto"==o[0]?_.top:parseFloat(o[0])+_.top,a="auto"==o[1]?_.right:parseFloat(o[1])+_.left,s="auto"==o[2]?_.bottom:parseFloat(o[2])+_.top,l="auto"==o[3]?_.left:parseFloat(o[3])+_.left,c=new Ht,u=(new Pt).moveTo(l,r).lineTo(a,r).lineTo(a,s).lineTo(l,s).close();un(c,u),e.append(c),e=c,$i(u)}}();var x=en(i,"display");if("table-row"==x)for(k=[],y=0,w=t.children;y<w.length;++y)k.push(w[y].getBoundingClientRect());else 1==(k=t.getClientRects()).length&&(k=[t.getBoundingClientRect()]);for(k=function(e){if(/^td$/i.test(t.tagName)){var i=Mi.table;if(i&&"collapse"==en(i.style,"border-collapse")){var n=on(i.style,"left").width,o=on(i.style,"top").width;if(0===n&&0===o)return e;var r=i.element.getBoundingClientRect(),a=i.element.rows[0].cells[0],s=a.getBoundingClientRect();if(s.top==r.top||s.left==r.left)return Ai(e).map(function(t){return{left:t.left+n,top:t.top+o,right:t.right+n,bottom:t.bottom+o,height:t.height,width:t.width}})}}return e}(k),y=0;y<k.length;++y)T(k[y],0===y,y==k.length-1);if("A"==t.tagName&&t.href&&!/^#?$/.test(t.getAttribute("href"))&&(!Mi._avoidLinks||!Oi(t,Mi._avoidLinks))){var S=document.createRange();S.selectNodeContents(t),Ai(S.getClientRects()).forEach(function(i){var n=new Ht;n._pdfLink={url:t.href,top:i.top,right:i.right,bottom:i.bottom,left:i.left},e.append(n)})}return k.length>0&&"list-item"==x&&!t.getAttribute("kendo-no-bullet")&&function(){var n=en(i,"list-style-type");if("none"!=n){var o=en(i,"list-style-position");switch(n){case"circle":case"disc":case"square":r(function(t){t.style.fontSize="60%",t.style.lineHeight="200%",t.style.paddingRight="0.5em",t.style.fontFamily="DejaVu Serif",t.innerHTML={disc:"●",circle:"◯",square:"■"}[n]});break;case"decimal":case"decimal-leading-zero":r(function(t){a(function(e){++e,"decimal-leading-zero"==n&&e<10&&(e="0"+e),t.innerHTML=e+"."})});break;case"lower-roman":case"upper-roman":r(function(t){a(function(e){e=d(e+1),"upper-roman"==n&&(e=e.toUpperCase()),t.innerHTML=e+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":r(function(t){a(function(e){e=Zi(e),/^upper/i.test(n)&&(e=e.toUpperCase()),t.innerHTML=e+"."})})}}function r(i){rn(t,function(){t.style.position="relative";var n=t.ownerDocument.createElement(Ti);n.style.position="absolute",n.style.boxSizing="border-box","outside"==o?(n.style.width="6em",n.style.left="-6.8em",n.style.textAlign="right"):n.style.left="0px",i(n),t.insertBefore(n,t.firstChild),An(n,e),t.removeChild(n)})}function a(e){var i=t.parentNode.children,n=t.getAttribute("kendo-split-index");if(null!=n)return e(0|n,i.length);for(var o=0;o<i.length;++o)if(i[o]===t)return e(o,i.length)}}(k[0]),function(){function n(){var i=pn(t,_,"padding"),n=new Ht;un(n,i),e.append(n),e=n,$i(i)}!function(t){return/^(?:textarea|select|input)$/i.test(t.tagName)}(t)?/^(hidden|auto|scroll)/.test(en(i,"overflow"))?n():/^(hidden|auto|scroll)/.test(en(i,"overflow-x"))?n():/^(hidden|auto|scroll)/.test(en(i,"overflow-y"))&&n():n()}(),function(t,e){var i;if(t._kendoExportVisual)i=t._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&t.getAttribute(window.kendo.attr("role"))){var n=window.kendo.widgetInstance(window.kendo.jQuery(t));n&&(n.exportDOMVisual||n.exportVisual)&&(i=n.exportDOMVisual?n.exportDOMVisual():n.exportVisual())}if(!i)return!1;var o=new Ht;o.children.push(i);var r=t.getBoundingClientRect();return o.transform(X().translate(r.left,r.top)),e.append(o),!0}(t,e)||Sn(t,e),e;function C(t,i,n,o,r,a,s,l){if(!(n<=0)){var c,u=new Ht;cn(u,l),e.append(u),dn(a),dn(s),c=new Pt({fill:{color:t},stroke:null}),u.append(c),c.moveTo(a.x?Math.max(a.x,o):0,0).lineTo(i-(s.x?Math.max(s.x,r):0),0).lineTo(i-Math.max(s.x,r),n).lineTo(Math.max(a.x,o),n).close(),a.x&&h(o,a,[-1,0,0,1,a.x,0]),s.x&&h(r,s,[1,0,0,1,i-s.x,0])}function h(e,i,o){var r=Math.PI/2*e/(e+n),a={x:i.x-e,y:i.y-n},s=new Pt({fill:{color:t},stroke:null}).moveTo(0,0);cn(s,o),hn(s,0,i.y,{startAngle:-90,endAngle:-ln(r),radiusX:i.x,radiusY:i.y}),a.x>0&&a.y>0?(s.lineTo(a.x*Math.cos(r),i.y-a.y*Math.sin(r)),hn(s,0,i.y,{startAngle:-ln(r),endAngle:-90,radiusX:a.x,radiusY:a.y,anticlockwise:!0})):a.x>0?s.lineTo(a.x,n).lineTo(0,n):s.lineTo(a.x,n).lineTo(a.x,0),u.append(s.close())}}function A(e,i,n,o,r,a,s){if(n&&"none"!=n)if("url"==n.type){if(/^url\(\"data:image\/svg/i.test(n.url))return;var l=ji[n.url];l&&l.width>0&&l.height>0&&c(e,i,l.width,l.height,function(t,e){t.append(new qt(n.url,e))})}else{if("linear"!=n.type)return;c(e,i,i.width,i.height,function(t){return function(e,i){var n=i.width(),o=i.height();switch(t.type){case"linear":var r=null!=t.angle?t.angle:Math.PI;switch(t.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(o,n);break;case"top right":case"right top":r=Math.atan2(o,n);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(o,n);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(o,n)}t.reverse&&(r-=Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI);var a=Math.abs(n*Math.sin(r))+Math.abs(o*Math.cos(r)),s=Math.atan(n*Math.tan(r)/o),l=Math.sin(s),c=Math.cos(s),u=Math.abs(l)+Math.abs(c),h=u/2*l,d=u/2*c;r>Math.PI/2&&r<=3*Math.PI/2&&(h=-h,d=-d);var f=[],p=0,m=t.stops.map(function(e,i){var n=e.percent;n?n=parseFloat(n)/100:e.length?n=parseFloat(e.length)/a:0===i?n=0:i==t.stops.length-1&&(n=1);var o={color:e.color.toCssRgba(),offset:n};return null!=n?(p=n,f.forEach(function(t,e){var i=t.stop;i.offset=t.left+(p-t.left)*(e+1)/(f.length+1)}),f=[]):f.push({left:p,stop:o}),o}),g=[.5-h,.5+d],v=[.5+h,.5-d];e.append(Pt.fromRect(i).stroke(null).fill(new ae({start:g,end:v,stops:m,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}}(n))}function c(e,i,n,l,c){var u,h=n/l,d=i;if("content-box"==a?d=sn(d=sn(d,"border-*-width",t),"padding-*",t):"padding-box"==a&&(d=sn(d,"border-*-width",t)),!/^\s*auto(\s+auto)?\s*$/.test(s))if("contain"==s)u=Math.min(d.width/n,d.height/l),n*=u,l*=u;else if("cover"==s)u=Math.max(d.width/n,d.height/l),n*=u,l*=u;else{var f=s.split(/\s+/g);n=/%$/.test(f[0])?d.width*parseFloat(f[0])/100:parseFloat(f[0]),l=1==f.length||"auto"==f[1]?n/h:/%$/.test(f[1])?d.height*parseFloat(f[1])/100:parseFloat(f[1])}var p=String(r);switch(p){case"bottom":p="50% 100%";break;case"top":p="50% 0";break;case"left":p="0 50%";break;case"right":p="100% 50%";break;case"center":p="50% 50%"}1==(p=p.split(/\s+/)).length&&(p[1]="50%"),/%$/.test(p[0])?p[0]=parseFloat(p[0])/100*(d.width-n):p[0]=parseFloat(p[0]),/%$/.test(p[1])?p[1]=parseFloat(p[1])/100*(d.height-l):p[1]=parseFloat(p[1]);var m=new K([d.left+p[0],d.top+p[1]],[n,l]);function g(){for(;m.origin.x>i.left;)m.origin.x-=n}function v(){for(;m.origin.y>i.top;)m.origin.y-=l}function b(){for(;m.origin.x<i.right;)c(e,m.clone()),m.origin.x+=n}if("no-repeat"==o)c(e,m);else if("repeat-x"==o)g(),b();else if("repeat-y"==o)for(v();m.origin.y<i.bottom;)c(e,m.clone()),m.origin.y+=l;else if("repeat"==o){g(),v();for(var k=m.origin.clone();m.origin.y<i.bottom;)m.origin.x=k.x,b(),m.origin.y+=l}}}function T(i,d,k){if(0!==i.width&&0!==i.height){!function(t){var i=new Ht;if(un(i,mn(t,s,l,u,c)),e.append(i),f){var n=new Pt({fill:{color:f.toCssRgba()},stroke:null});n.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),i.append(n)}for(var o=p.length;--o>=0;)A(i,t,p[o],m[o%m.length],g[o%g.length],v[o%v.length],b[o%b.length])}(i);var y=a.width>0&&(d&&"ltr"==h||k&&"rtl"==h),w=o.width>0&&(k&&"ltr"==h||d&&"rtl"==h);if(0!==n.width||0!==a.width||0!==o.width||0!==r.width){if(n.color==o.color&&n.color==r.color&&n.color==a.color&&n.width==o.width&&n.width==r.width&&n.width==a.width&&y&&w){i=sn(i,n.width/2);var _=pn(t,i,n.width/2);return _.options.stroke={color:n.color,width:n.width},void e.append(_)}if(0===s.x&&0===l.x&&0===u.x&&0===c.x&&n.width<2&&a.width<2&&o.width<2&&r.width<2)return n.width>0&&e.append(new Pt({stroke:{width:n.width,color:n.color}}).moveTo(i.left,i.top+n.width/2).lineTo(i.right,i.top+n.width/2)),r.width>0&&e.append(new Pt({stroke:{width:r.width,color:r.color}}).moveTo(i.left,i.bottom-r.width/2).lineTo(i.right,i.bottom-r.width/2)),y&&e.append(new Pt({stroke:{width:a.width,color:a.color}}).moveTo(i.left+a.width/2,i.top).lineTo(i.left+a.width/2,i.bottom)),void(w&&e.append(new Pt({stroke:{width:o.width,color:o.color}}).moveTo(i.right-o.width/2,i.top).lineTo(i.right-o.width/2,i.bottom)));var x=fn(i,s,l,u,c),S=x.tl,T=x.tr,j=x.br,M=x.bl;C(n.color,i.width,n.width,a.width,o.width,S,T,[1,0,0,1,i.left,i.top]),C(r.color,i.width,r.width,o.width,a.width,j,M,[-1,0,0,-1,i.right,i.bottom]),C(a.color,i.height,a.width,r.width,n.width,z(M),z(S),[0,-1,1,0,i.left,i.bottom]),C(o.color,i.height,o.width,n.width,r.width,z(T),z(j),[0,1,-1,0,i.right,i.top])}}function z(t){return{x:t.y,y:t.x}}}}function wn(t,e,i){var n=function(t){var e=t.getBoundingClientRect();return e=sn(e=sn(e,"border-*-width",t),"padding-*",t)}(t),o=new K([n.left,n.top],[n.width,n.height]),r=new qt(e,o);un(r,pn(t,n,"content")),i.append(r)}function _n(t,e){var i=tn(t),n=tn(e),o=parseFloat(en(i,"z-index")),r=parseFloat(en(n,"z-index")),a=en(i,"position"),s=en(n,"position");return isNaN(o)&&isNaN(r)?/static|absolute/.test(a)&&/static|absolute/.test(s)?0:"static"==a?-1:"static"==s?1:0:isNaN(o)?0===r?0:r>0?-1:1:isNaN(r)?0===o?0:o>0?1:-1:parseFloat(o)-parseFloat(r)}function xn(t,e){var i=t.tagName.toLowerCase();if("input"==i&&("checkbox"==t.type||"radio"==t.type))return function(t,e){var i=en(tn(t),"color"),n=t.getBoundingClientRect();"checkbox"==t.type?(e.append(Pt.fromRect(new K([n.left+1,n.top+1],[n.width-2,n.height-2])).stroke(i,1)),t.checked&&e.append((new Pt).stroke(i,1.2).moveTo(n.left+.22*n.width,n.top+.55*n.height).lineTo(n.left+.45*n.width,n.top+.75*n.height).lineTo(n.left+.78*n.width,n.top+.22*n.width))):(e.append(new st(new et([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-2,n.height-2)/2)).stroke(i,1)),t.checked&&e.append(new st(new et([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-8,n.height-8)/2)).fill(i).stroke(null)))}(t,e);var n,o=t.parentNode,r=t.ownerDocument,a=r.createElement(Ti);if(a.style.cssText=bn(tn(t)),"input"==i&&(a.style.whiteSpace="pre"),"select"!=i&&"textarea"!=i||(a.style.overflow="auto"),"select"==i)if(t.multiple)for(var s=0;s<t.options.length;++s)(n=r.createElement(Ti)).style.cssText=bn(tn(t.options[s])),n.style.display="block",n.textContent=t.options[s].textContent,a.appendChild(n);else(n=function(t){return t.selectedOptions&&t.selectedOptions.length>0?t.selectedOptions[0]:t.options[t.selectedIndex]}(t))&&(a.textContent=n.textContent);else a.textContent=t.value;o.insertBefore(a,t),a.scrollLeft=t.scrollLeft,a.scrollTop=t.scrollTop,t.style.display="none",Sn(a,e),t.style.display="",o.removeChild(a)}function Sn(t,e){switch(Mi._stackingContext.element===t&&(Mi._stackingContext.group=e),t.tagName.toLowerCase()){case"img":wn(t,t.src,e);break;case"canvas":try{wn(t,t.toDataURL("image/png"),e)}catch(t){}break;case"textarea":case"input":case"select":xn(t,e);break;default:for(var i=[],n=[],o=[],r=t.firstChild;r;r=r.nextSibling)switch(r.nodeType){case 3:/\S/.test(r.data)&&Cn(t,r,e);break;case 1:var a=tn(r),s=en(a,"float"),l=en(a,"position");"static"!=l?o.push(r):"none"!=s?n.push(r):i.push(r)}M(i,_n).forEach(function(t){An(t,e)}),M(n,_n).forEach(function(t){An(t,e)}),M(o,_n).forEach(function(t){An(t,e)})}}function Cn(t,e,i){if(!function(){var t=Mi._clipbox;return null==t||(t?0===t.width()||0===t.height():void 0)}()){var n=tn(t);if(!(parseFloat(en(n,"text-indent"))<-500)){var o=e.data,r=0,a=o.search(/\S\s*$/)+1;if(a){var s=en(n,"font-size"),l=en(n,"line-height"),c=[en(n,"font-style"),en(n,"font-variant"),en(n,"font-weight"),s,en(n,"font-family")].join(" ");if(s=parseFloat(s),l=parseFloat(l),0!==s){var u,h,d=en(n,"color"),f=t.ownerDocument.createRange(),p=en(n,"text-align"),m="justify"==p,g=en(n,"column-count",1),v=en(n,"white-space"),b=en(n,"text-transform");Ei&&"ellipsis"==(u=n.textOverflow)&&(h=t.style.textOverflow,t.style.textOverflow="clip");var k=t.getBoundingClientRect().width/s*5;0===k&&(k=500);for(var y=null,w=Mi.underline,_=Mi["line-through"],x=Mi.overline,S=w||_||x;!A(););return Ei&&"ellipsis"==u&&(t.style.textOverflow=h),void(S&&(f.selectNode(e),Ai(f.getClientRects()).forEach(function(t){function e(e,n){if(e){var o=s/12,r=new Pt({stroke:{width:o,color:e}});n-=o,r.moveTo(t.left,n).lineTo(t.right,n),i.append(r)}}e(w,t.bottom),e(_,t.bottom-t.height/2.7),e(x,t.top)})))}}}}function C(t){if(Ei||Ci.chrome){for(var e=t.getClientRects(),i={top:1/0,right:-1/0,bottom:-1/0,left:1/0},n=!1,o=0;o<e.length;++o){var r=e[o];r.width<=1||r.bottom===y||(i.left=Math.min(r.left,i.left),i.top=Math.min(r.top,i.top),i.right=Math.max(r.right,i.right),i.bottom=Math.max(r.bottom,i.bottom),n=!0)}return n?(i.width=i.right-i.left,i.height=i.bottom-i.top,i):t.getBoundingClientRect()}return t.getBoundingClientRect()}function A(){var t,n=r,s=o.substr(r).search(/\S/);if(r+=s,s<0||r>=a)return!0;f.setStart(e,r),f.setEnd(e,r+1),t=C(f);var u=!1;if((m||g>1)&&(s=o.substr(r).search(/\s/))>=0){f.setEnd(e,r+s);var h=C(f);h.bottom==t.bottom&&(t=h,u=!0,r+=s)}if(!u){if((s=function i(n,o,r){f.setEnd(e,o);var a=C(f);return a.bottom!=t.bottom&&n<o?i(n,n+o>>1,o):a.right!=t.right?(t=a,o<r?i(o,o+r>>1,r):o):o}(r,Math.min(a,r+k),a))==r)return!0;if(r=s,0===(s=f.toString().search(/\s+$/)))return!1;s>0&&(f.setEnd(e,f.startOffset+s),t=C(f))}Ei&&(t=f.getClientRects()[0]);var p=f.toString();if(/^(?:pre|pre-wrap)$/i.test(v)){if(/\t/.test(p)){var w=0;for(s=n;s<f.startOffset;++s){var _=o.charCodeAt(s);9==_?w+=8-w%8:10==_||13==_?w=0:w++}for(;(s=p.search("\t"))>=0;){var x="        ".substr(0,8-(w+s)%8);p=p.substr(0,s)+x+p.substr(s+1)}}}else p=p.replace(/\s+/g," ");u||(y=t.bottom),function(t,e){if(Ei&&!isNaN(l)){var n=qi(c),o=(e.top+e.bottom-n)/2;e={top:o,right:e.right,bottom:o+n,left:e.left,height:n,width:e.right-e.left}}switch(b){case"uppercase":t=t.toUpperCase();break;case"lowercase":t=t.toLowerCase();break;case"capitalize":t=t.replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})}var r=new Ii(t,new K([e.left,e.top],[e.width,e.height]),{font:c,fill:{color:d}});i.append(r)}(p,t)}}function An(t,e){var i=tn(t);if(Qi(i),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(t.tagName)&&null!=Mi._clipbox){var n=parseFloat(en(i,"opacity")),o=en(i,"visibility"),r=en(i,"display");if(0!==n&&"hidden"!=o&&"none"!=r){var a,s=function(t){var e=en(t,"transform");if("none"==e)return null;var i=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(e);if(i){var n=en(t,"transform-origin");return i=i[1].split(/\s*,\s*/g).map(parseFloat),n=n.split(/\s+/g).map(parseFloat),{matrix:i,origin:n}}}(i),l=en(i,"z-index");(s||n<1)&&"auto"==l&&(l=0),a=function(t,e,i){var n;"auto"!=i?(n=Mi._stackingContext.group,i=parseFloat(i)):(n=e,i=0);for(var o=n.children,r=0;r<o.length&&!(null!=o[r]._dom_zIndex&&o[r]._dom_zIndex>i);++r);var a=new Ht;if(n.insert(r,a),a._dom_zIndex=i,n!==e&&Mi._clipbox){var s=Mi._matrix.invert(),l=Mi._clipbox.transformCopy(s);un(a,Pt.fromRect(l))}return a}(0,e,l),n<1&&a.opacity(n*a.opacity()),Xi(t,i,a),s?rn(t,function(){nn(t.style,"transform","none","important"),nn(t.style,"transition","none","important"),"static"==en(i,"position")&&nn(t.style,"position","relative","important");var e=t.getBoundingClientRect(),n=e.left+s.origin[0],o=e.top+s.origin[1],r=[1,0,0,1,-n,-o];r=Tn(r=Tn(r,s.matrix),[1,0,0,1,n,o]),r=cn(a,r),Mi._matrix=Mi._matrix.multiplyCopy(r),kn(t,a)}):kn(t,a),Ji()}}}function Tn(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=e[0],c=e[1],u=e[2],h=e[3],d=e[4],f=e[5];return[i*l+n*u,i*c+n*h,o*l+r*u,o*c+r*h,a*l+s*u+d,a*c+s*h+f]}var jn={svg:ri,canvas:Si,util:N,PathParser:ke,Surface:_e,BaseNode:xe,SurfaceFactory:ye,OptionsStore:q,exportImage:function(e,i){var n={width:"800px",height:"600px",cors:"Anonymous"},o=e,r=e.clippedBBox();if(r){var a=r.getOrigin();(o=new Ht).transform(X().translate(-a.x,-a.y)),o.children.push(e);var s=r.getSize();n.width=s.width+"px",n.height=s.height+"px"}var l=t.extend(n,i),c=document.createElement("div"),u=c.style;u.display="none",u.width=l.width,u.height=l.height,document.body.appendChild(c);var h=new gi(c,l);h.suspendTracking(),h.draw(o);var d=h.image(),f=function(){h.destroy(),document.body.removeChild(c)};return d.then(f,f),d},exportSVG:function(t,e){var i=oi(t);return e&&e.raw||(i="data:image/svg+xml;base64,"+x(i)),s().resolve(i)},QuadNode:di,ShapesQuadTree:fi,ObserversMixin:c,Element:J,Circle:st,Arc:Rt,Path:Pt,MultiPath:Nt,Text:Bt,Image:qt,Group:Ht,Layout:Zt,Rect:Xt,align:function(t,e,i){Jt(t,e,i,"x","width")},vAlign:function(t,e,i){Jt(t,e,i,"y","height")},stack:function(t){$t(te(t),"x","y","width")},vStack:function(t){$t(te(t),"y","x","height")},wrap:function(t,e){return ee(t,e,"x","y","width")},vWrap:function(t,e){return ee(t,e,"y","x","height")},fit:function(t,e){var i=t.clippedBBox();if(i){var n=i.size,o=e.size;if(o.width<n.width||o.height<n.height){var r=Math.min(o.width/n.width,o.height/n.height),a=t.transform()||X();a.scale(r,r),t.transform(a)}}},LinearGradient:ae,RadialGradient:se,GradientStop:oe,Gradient:re,Animation:ue,AnimationFactory:he,drawDOM:Li};kendo.deepExtend(kendo,{drawing:jn,geometry:ni}),kendo.drawing.Segment=kendo.geometry.Segment,kendo.dataviz.drawing=kendo.drawing,kendo.dataviz.geometry=kendo.geometry,kendo.drawing.util.measureText=kendo.util.measureText,kendo.drawing.util.objectKey=kendo.util.objectKey,kendo.drawing.Color=kendo.Color,kendo.util.encodeBase64=kendo.drawing.util.encodeBase64}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[i(20),r],a="function"==typeof(c=function(){!function(t){var e=".kendo",i=window.kendo,n=i.deepExtend,o=i.drawing.util,r=o.defined,a=o.limitValue,s=o.eventCoordinates,l=i._outerWidth,c=i._outerHeight,u=t.proxy,h=i.Class.extend({init:function(e,i){this.element=t('<div class="k-tooltip"><div class="k-tooltip-content"></div></div>'),this.content=this.element.children(".k-tooltip-content"),i=i||{},this.options=n({},this.options,this._tooltipOptions(i)),this.popupOptions={appendTo:i.appendTo,animation:i.animation,copyAnchorStyles:!1,collision:"fit fit"},this._openPopupHandler=t.proxy(this._openPopup,this),this.surface=e,this._bindEvents()},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:!0,hideDelay:0,showAfter:100},_bindEvents:function(){this._showHandler=u(this._showEvent,this),this._surfaceLeaveHandler=u(this._surfaceLeave,this),this._mouseleaveHandler=u(this._mouseleave,this),this._mousemoveHandler=u(this._mousemove,this),this.surface.bind("click",this._showHandler),this.surface.bind("mouseenter",this._showHandler),this.surface.bind("mouseleave",this._mouseleaveHandler),this.surface.bind("mousemove",this._mousemoveHandler),this.surface.element.on("mouseleave"+e,this._surfaceLeaveHandler),this.element.on("click"+e,".k-tooltip-button",u(this._hideClick,this))},getPopup:function(){return this.popup||(this.popup=new i.ui.Popup(this.element,this.popupOptions)),this.popup},destroy:function(){var t=this.popup;this.surface.unbind("click",this._showHandler),this.surface.unbind("mouseenter",this._showHandler),this.surface.unbind("mouseleave",this._mouseleaveHandler),this.surface.unbind("mousemove",this._mousemoveHandler),this.surface.element.off("mouseleave"+e,this._surfaceLeaveHandler),this.element.off("click"+e),t&&(t.destroy(),delete this.popup),delete this.popupOptions,clearTimeout(this._timeout),delete this.element,delete this.content,delete this.surface},_tooltipOptions:function(t){return{position:(t=t||{}).position,showOn:t.showOn,offset:t.offset,autoHide:t.autoHide,width:t.width,height:t.height,content:t.content,shared:t.shared,hideDelay:t.hideDelay,showAfter:t.showAfter}},_tooltipShape:function(t){for(;t&&!t.options.tooltip;)t=t.parent;return t},_updateContent:function(t,e,n){var o=n.content;if(i.isFunction(o)&&(o=o({element:e,target:t})),o)return this.content.html(o),!0},_position:function(t,e,i,n){var o=e.position,r=e.offset||0,l=this.surface,c=l._instance._elementOffset(),u=l.getSize(),h=l._instance._offset,d=t.bbox(),f=i.width,p=i.height,m=0,g=0;if(d.origin.translate(c.left,c.top),h&&d.origin.translate(-h.x,-h.y),"cursor"==o&&n){var v=s(n);m=v.x-f/2,g=v.y-p-r}else"left"==o?(m=d.origin.x-f-r,g=d.center().y-p/2):"right"==o?(m=d.bottomRight().x+r,g=d.center().y-p/2):"bottom"==o?(m=d.center().x-f/2,g=d.bottomRight().y+r):(m=d.center().x-f/2,g=d.origin.y-p-r);return{left:a(m,c.left,c.left+u.width),top:a(g,c.top,c.top+u.height)}},show:function(t,e){this._show(t,t,n({},this.options,this._tooltipOptions(t.options.tooltip),e))},hide:function(){var t=this.popup,e=this._current;delete this._current,clearTimeout(this._showTimeout),t&&t.visible()&&e&&!this.surface.trigger("tooltipClose",{element:e.shape,target:e.target,popup:t})&&t.close()},_hideClick:function(t){t.preventDefault(),this.hide()},_show:function(t,e,i,n,o){var r=this._current;if(clearTimeout(this._timeout),!r||!(r.shape===e&&i.shared||r.target===t)){clearTimeout(this._showTimeout);var a=this.getPopup();if(!this.surface.trigger("tooltipOpen",{element:e,target:t,popup:a})&&this._updateContent(t,e,i)){this._autoHide(i);var s=this._measure(i);a.visible()&&a.close(!0),this._current={options:i,elementSize:s,shape:e,target:t,position:this._position(i.shared?e:t,i,s,n)},o?this._showTimeout=setTimeout(this._openPopupHandler,i.showAfter||0):this._openPopup()}}},_openPopup:function(){var t=this._current,e=t.position;this.getPopup().open(e.left,e.top)},_autoHide:function(e){e.autoHide&&this._closeButton&&(this.element.removeClass("k-tooltip-closable"),this._closeButton.remove(),delete this._closeButton),e.autoHide||this._closeButton||(this.element.addClass("k-tooltip-closable"),this._closeButton=t('<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>').prependTo(this.element))},_showEvent:function(t){var e=this._tooltipShape(t.element);if(e){var i=n({},this.options,this._tooltipOptions(e.options.tooltip));i&&i.showOn==t.type&&this._show(t.element,e,i,t.originalEvent,!0)}},_measure:function(t){var e,i,n=this.getPopup();this.element.css({width:"auto",height:"auto"});var o=n.visible();return o||n.wrapper.show(),this.element.css({width:r(t.width)?t.width:"auto",height:r(t.height)?t.height:"auto"}),e=l(this.element),i=c(this.element),o||n.wrapper.hide(),{width:e,height:i}},_mouseleave:function(t){if(this.popup&&!this._popupRelatedTarget(t.originalEvent)){var e=this,i=e._current;i&&i.options.autoHide&&(e._timeout=setTimeout(function(){clearTimeout(e._showTimeout),e.hide()},i.options.hideDelay||0))}},_mousemove:function(t){var e=this._current;if(e&&t.element){var i=e.options;if("cursor"==i.position){var n=this._position(t.element,i,e.elementSize,t.originalEvent);e.position=n,this.getPopup().wrapper.css({left:n.left,top:n.top})}}},_surfaceLeave:function(t){this.popup&&!this._popupRelatedTarget(t)&&(clearTimeout(this._showTimeout),this.hide())},_popupRelatedTarget:function(e){return e.relatedTarget&&t(e.relatedTarget).closest(this.popup.wrapper).length}});i.drawing.SurfaceTooltip=h}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[r,a],s="function"==typeof(c=function(){!function(t){var e=window.kendo,i=e.drawing,n=i.Surface,o=e.ui.Widget,r=e.deepExtend,a=t.proxy;e.support.svg=n.support.svg,e.support.canvas=n.support.canvas;var s=o.extend({init:function(t,e){o.fn.init.call(this,t,{}),this.options=r({},this.options,e),this._instance=n.create(this.element[0],e),this._instance.translate&&(this.translate=l),this._triggerInstanceHandler=a(this._triggerInstanceEvent,this),this._bindHandler("click"),this._bindHandler("mouseenter"),this._bindHandler("mouseleave"),this._bindHandler("mousemove"),this._enableTracking()},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],_triggerInstanceEvent:function(t){this.trigger(t.type,t)},_bindHandler:function(t){this._instance.bind(t,this._triggerInstanceHandler)},draw:function(t){this._instance.draw(t)},clear:function(){this._instance&&this._instance.clear(),this.hideTooltip()},destroy:function(){this._instance&&(this._instance.destroy(),delete this._instance),this._tooltip&&(this._tooltip.destroy(),delete this._tooltip),o.fn.destroy.call(this)},exportVisual:function(){return this._instance.exportVisual()},eventTarget:function(t){return this._instance.eventTarget(t)},showTooltip:function(t,e){this._tooltip&&this._tooltip.show(t,e)},hideTooltip:function(){this._tooltip&&this._tooltip.hide()},suspendTracking:function(){this._instance.suspendTracking(),this.hideTooltip()},resumeTracking:function(){this._instance.resumeTracking()},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(t){this.element.css({width:t.width,height:t.height}),this._size=t,this._instance.currentSize(t),this._resize()},_resize:function(){this._instance.currentSize(this._size),this._instance._resize()},_enableTracking:function(){e.ui.Popup&&(this._tooltip=new i.SurfaceTooltip(this,this.options.tooltip||{}))}});function l(t){this._instance.translate(t)}e.ui.plugin(s),s.create=function(t,e){return new s(t,e)},e.drawing.Surface=s}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[r],l="function"==typeof(c=function(){!function(t){var e=window.kendo,i=e.drawing,n=i.drawDOM;i.drawDOM=function(e,i){return n(t(e)[0],i)},i.drawDOM.drawText=n.drawText,i.drawDOM.getFontFaces=n.getFontFaces}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[n,r,a,s,l],void 0===(h="function"==typeof(c=function(){})?c.apply(e,u):c)||(t.exports=h)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(13),o=i(46);t.exports=i(14)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(65),o=i(37);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(37);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n,o,r;i(0),o=[i(4),i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i,n=window.kendo,o=n.support,r=window.document,a=t(window),s=n.Class,l=n.ui.Widget,c=n.Observable,u=n.UserEvents,h=t.proxy,d=t.extend,f=n.getOffset,p={},m={},g={},v=n.elementUnderCursor;function b(t,e){return parseInt(t.css(e),10)||0}function k(t,e){return Math.min(Math.max(t,e.min),e.max)}function y(t,e){var i=f(t),o=n._outerWidth,r=n._outerHeight,a=i.left+b(t,"borderLeftWidth")+b(t,"paddingLeft"),s=i.top+b(t,"borderTopWidth")+b(t,"paddingTop");return{x:{min:a,max:a+t.width()-o(e,!0)},y:{min:s,max:s+t.height()-r(e,!0)}}}var w,_=c.extend({init:function(e,i){var o=this,r=e[0];o.capture=!1,r.addEventListener?(t.each(n.eventMap.down.split(" "),function(){r.addEventListener(this,h(o._press,o),!0)}),t.each(n.eventMap.up.split(" "),function(){r.addEventListener(this,h(o._release,o),!0)})):(t.each(n.eventMap.down.split(" "),function(){r.attachEvent(this,h(o._press,o))}),t.each(n.eventMap.up.split(" "),function(){r.attachEvent(this,h(o._release,o))})),c.fn.init.call(o),o.bind(["press","release"],i||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(t){this.trigger("press"),this.capture&&t.preventDefault()},_release:function(t){this.trigger("release"),this.capture&&(t.preventDefault(),this.cancelCapture())}}),x=c.extend({init:function(e){c.fn.init.call(this),this.forcedEnabled=!1,t.extend(this,e),this.scale=1,this.horizontal?(this.measure="offsetWidth",this.scrollSize="scrollWidth",this.axis="x"):(this.measure="offsetHeight",this.scrollSize="scrollHeight",this.axis="y")},makeVirtual:function(){t.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(t,e){this._virtualMin===t&&this._virtualMax===e||(this._virtualMin=t,this._virtualMax=e,this.update())},outOfBounds:function(t){return t>this.max||t<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(t){this.scale=t},update:function(t){var e=this.virtual?this._virtualMax:this.getTotal(),i=e*this.scale,n=this.getSize();(0!==e||this.forcedEnabled)&&(this.max=this.virtual?-this._virtualMin:0,this.size=n,this.total=i,this.min=Math.min(this.max,n-i),this.minScale=n/e,this.centerOffset=(i-n)/2,this.enabled=this.forcedEnabled||i>n,t||this.trigger("change",this))}}),S=c.extend({init:function(t){c.fn.init.call(this),this.x=new x(d({horizontal:!0},t)),this.y=new x(d({horizontal:!1},t)),this.container=t.container,this.forcedMinScale=t.minScale,this.maxScale=t.maxScale||100,this.bind("change",t)},rescale:function(t){this.x.rescale(t),this.y.rescale(t),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){this.x.update(),this.y.update(),this.enabled=this.x.enabled||this.y.enabled,this.minScale=this.forcedMinScale||Math.min(this.x.minScale,this.y.minScale),this.fitScale=Math.max(this.x.minScale,this.y.minScale),this.trigger("change")}}),C=c.extend({init:function(t){d(this,t),c.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(t){var e=this.dimension,i=this.axis,n=this.movable,o=n[i]+t;e.enabled&&((o<e.min&&t<0||o>e.max&&t>0)&&(t*=this.resistance),n.translateAxis(i,t),this.trigger("change",this))}}),A=s.extend({init:function(e){var i,n,o,r,a=this;d(a,{elastic:!0},e),o=a.elastic?.5:0,r=a.movable,a.x=i=new C({axis:"x",dimension:a.dimensions.x,resistance:o,movable:r}),a.y=n=new C({axis:"y",dimension:a.dimensions.y,resistance:o,movable:r}),a.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(t){a.gesture=t,a.offset=a.dimensions.container.offset()},press:function(e){t(e.event.target).closest("a").is("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(t){var e,o=a.gesture,s=o.center,l=t.center,c=t.distance/o.distance,u=a.dimensions.minScale,h=a.dimensions.maxScale;r.scale<=u&&c<1&&(c+=.8*(1-c)),r.scale*c>=h&&(c=h/r.scale);var d=r.x+a.offset.left,f=r.y+a.offset.top;e={x:(d-s.x)*c+l.x-d,y:(f-s.y)*c+l.y-f},r.scaleWith(c),i.dragMove(e.x),n.dragMove(e.y),a.dimensions.rescale(r.scale),a.gesture=t,t.preventDefault()},move:function(t){t.event.target.tagName.match(/textarea|input/i)||(i.dimension.enabled||n.dimension.enabled?(i.dragMove(t.x.delta),n.dragMove(t.y.delta),t.preventDefault()):t.touch.skip())},end:function(t){t.preventDefault()}})}}),T=o.transitions.prefix+"Transform";w=o.hasHW3D?function(t,e,i){return"translate3d("+t+"px,"+e+"px,0) scale("+i+")"}:function(t,e,i){return"translate("+t+"px,"+e+"px) scale("+i+")"};var j=c.extend({init:function(e){c.fn.init.call(this),this.element=t(e),this.element[0].style.webkitTransformOrigin="left top",this.x=0,this.y=0,this.scale=1,this._saveCoordinates(w(this.x,this.y,this.scale))},translateAxis:function(t,e){this[t]+=e,this.refresh()},scaleTo:function(t){this.scale=t,this.refresh()},scaleWith:function(t){this.scale*=t,this.refresh()},translate:function(t){this.x+=t.x,this.y+=t.y,this.refresh()},moveAxis:function(t,e){this[t]=e,this.refresh()},moveTo:function(t){d(this,t),this.refresh()},refresh:function(){var t,e=this.x,i=this.y;this.round&&(e=Math.round(e),i=Math.round(i)),(t=w(e,i,this.scale))!=this.coordinates&&(n.support.browser.msie&&n.support.browser.version<10?(this.element[0].style.position="absolute",this.element[0].style.left=this.x+"px",this.element[0].style.top=this.y+"px"):this.element[0].style[T]=t,this._saveCoordinates(t),this.trigger("change"))},_saveCoordinates:function(t){this.coordinates=t}});function M(t,e){var i,n=e.options.group,o=t[n];if(l.fn.destroy.call(e),o.length>1){for(i=0;i<o.length;i++)if(o[i]==e){o.splice(i,1);break}}else o.length=0,delete t[n]}var z=l.extend({init:function(t,e){l.fn.init.call(this,t,e);var i=this.options.group;i in m?m[i].push(this):m[i]=[this]},events:["dragenter","dragleave","drop"],options:{name:"DropTarget",group:"default"},destroy:function(){M(m,this)},_trigger:function(t,e){var i=p[this.options.group];if(i)return this.trigger(t,d({},e.event,{draggable:i,dropTarget:e.dropTarget}))},_over:function(t){this._trigger("dragenter",t)},_out:function(t){this._trigger("dragleave",t)},_drop:function(t){var e=p[this.options.group];e&&(e.dropped=!this._trigger("drop",t))}});z.destroyGroup=function(t){var e,i=m[t]||g[t];if(i){for(e=0;e<i.length;e++)l.fn.destroy.call(i[e]);i.length=0,delete m[t],delete g[t]}},z._cache=m;var E=z.extend({init:function(t,e){l.fn.init.call(this,t,e);var i=this.options.group;i in g?g[i].push(this):g[i]=[this]},destroy:function(){M(g,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),I=l.extend({init:function(t,e){l.fn.init.call(this,t,e),this._activated=!1,this.userEvents=new u(this.element,{global:!0,allowSelection:!0,filter:this.options.filter,threshold:this.options.distance,start:h(this._start,this),hold:h(this._hold,this),move:h(this._drag,this),end:h(this._end,this),cancel:h(this._cancel,this),select:h(this._select,this)}),this._afterEndHandler=h(this._afterEnd,this),this._captureEscape=h(this._captureEscape,this)},events:["hold","dragstart","drag","dragend","dragcancel","hintDestroyed"],options:{name:"Draggable",distance:n.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(t){t.keyCode===n.keys.ESC&&(this._trigger("dragcancel",{event:t}),this.userEvents.cancel())},_updateHint:function(e){var i,n=this.options,o=this.boundaries,r=n.axis,a=this.options.cursorOffset;a?i={left:e.x.location+a.left,top:e.y.location+a.top}:(this.hintOffset.left+=e.x.delta,this.hintOffset.top+=e.y.delta,i=t.extend({},this.hintOffset)),o&&(i.top=k(i.top,o.y),i.left=k(i.left,o.x)),"x"===r?delete i.top:"y"===r&&delete i.left,this.hint.css(i)},_shouldIgnoreTarget:function(e){var i=this.options.ignore;return i&&t(e).is(i)},_select:function(t){this._shouldIgnoreTarget(t.event.target)||t.preventDefault()},_start:function(e){var i=this,o=i.options,a=o.container?t(o.container):null,s=o.hint;if(this._shouldIgnoreTarget(e.touch.initialTouch)||o.holdToDrag&&!i._activated)i.userEvents.cancel();else{if(i.currentTarget=e.target,i.currentTargetOffset=f(i.currentTarget),s){i.hint&&i.hint.stop(!0,!0).remove(),i.hint=n.isFunction(s)?t(s.call(i,i.currentTarget)):s;var l=f(i.currentTarget);i.hintOffset=l,i.hint.css({position:"absolute",zIndex:2e4,left:l.left,top:l.top}).appendTo(r.body),i.angular("compile",function(){i.hint.removeAttr("ng-repeat");for(var n=t(e.target);!n.data("$$kendoScope")&&n.length;)n=n.parent();return{elements:i.hint.get(),scopeFrom:n.data("$$kendoScope")}})}p[o.group]=i,i.dropped=!1,a&&(i.boundaries=y(a,i.hint)),t(r).on("keyup",i._captureEscape),i._trigger("dragstart",e)&&(i.userEvents.cancel(),i._afterEnd()),i.userEvents.capture()}},_hold:function(t){this.currentTarget=t.target,this._trigger("hold",t)?this.userEvents.cancel():this._activated=!0},_drag:function(e){e.preventDefault();var i=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==i&&(this._scrollableParent=P(i),this._cursorElement=i),this._lastEvent=e,this._processMovement(e,i),this.options.autoScroll&&this._scrollableParent[0]){var n=R(e.x.location,e.y.location,D(this._scrollableParent));this._scrollCompenstation=t.extend({},this.hintOffset),this._scrollVelocity=n,0===n.y&&0===n.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(t.proxy(this,"_autoScroll"),50))}this.hint&&this._updateHint(e)},_processMovement:function(e,n){this._withDropTarget(n,function(n,o){if(n){if(i){if(o===i.targetElement)return;i._trigger("dragleave",d(e,{dropTarget:t(i.targetElement)}))}n._trigger("dragenter",d(e,{dropTarget:t(o)})),i=d(n,{targetElement:o})}else i&&(i._trigger("dragleave",d(e,{dropTarget:t(i.targetElement)})),i=null)}),this._trigger("drag",d(e,{dropTarget:i,elementUnderCursor:n}))},_autoScroll:function(){var t=this._scrollableParent[0],e=this._scrollVelocity,i=this._scrollCompenstation;if(t){var n,o,s=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,s);var l=t===O()[0];l?(n=r.body.scrollHeight>a.height(),o=r.body.scrollWidth>a.width()):(n=t.offsetHeight<=t.scrollHeight,o=t.offsetWidth<=t.scrollWidth);var c=t.scrollTop+e.y,u=n&&c>0&&c<t.scrollHeight,h=t.scrollLeft+e.x,d=o&&h>0&&h<t.scrollWidth;u&&(t.scrollTop+=e.y),d&&(t.scrollLeft+=e.x),this.hint&&l&&(d||u)&&(u&&(i.top+=e.y),d&&(i.left+=e.x),this.hint.css(i))}},_end:function(e){this._withDropTarget(this._elementUnderCursor(e),function(n,o){n&&(n._drop(d({},e,{dropTarget:t(o)})),i=null)}),this._cancel(this._trigger("dragend",e))},_cancel:function(t){var e=this;e._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),e._activated=!1,e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0),t?e._afterEndHandler():e.hint.animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(t,e){return this.trigger(t,d({},e.event,{x:e.x,y:e.y,currentTarget:this.currentTarget,initialTarget:e.touch?e.touch.initialTouch:null,dropTarget:e.dropTarget,elementUnderCursor:e.elementUnderCursor}))},_elementUnderCursor:function(e){var i=v(e),n=this.hint;return n&&function(e,i){try{return t.contains(e,i)||e==i}catch(t){return!1}}(n[0],i)&&(n.hide(),(i=v(e))||(i=v(e)),n.show()),i},_withDropTarget:function(i,n){var r,a=this.options.group,s=m[a],l=g[a];(s&&s.length||l&&l.length)&&((r=function(i,n,r){for(var a,s,l=0,c=n&&n.length,u=r&&r.length;i&&i.parentNode;){for(l=0;l<c;l++)if((a=n[l]).element[0]===i)return{target:a,targetElement:i};for(l=0;l<u;l++)if(s=r[l],t.contains(s.element[0],i)&&o.matchesSelector.call(i,s.options.filter))return{target:s,targetElement:i};i=i.parentNode}return e}(i,s,l))?n(r.target,r.targetElement):n())},destroy:function(){l.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove(),delete p[this.options.group],this.trigger("destroy"),this.trigger("hintDestroyed"),t(r).off("keyup",this._captureEscape)}});function D(t){var e,i,n,o=O()[0];return t[0]===o?{top:i=o.scrollTop,left:n=o.scrollLeft,bottom:i+a.height(),right:n+a.width()}:((e=t.offset()).bottom=e.top+t.height(),e.right=e.left+t.width(),e)}function O(){return t(n.support.browser.edge||n.support.browser.safari?r.body:r.documentElement)}function P(e){var i=O();if(!e||e===r.body||e===r.documentElement)return i;for(var o=t(e)[0];o&&!n.isScrollable(o)&&o!==r.body;)o=o.parentNode;return o===r.body?i:t(o)}function R(t,e,i){var n={x:0,y:0};return t-i.left<50?n.x=-(50-(t-i.left)):i.right-t<50&&(n.x=50-(i.right-t)),e-i.top<50?n.y=-(50-(e-i.top)):i.bottom-e<50&&(n.y=50-(i.bottom-e)),n}n.ui.plugin(z),n.ui.plugin(E),n.ui.plugin(I),n.TapCapture=_,n.containerBoundaries=y,d(n.ui,{Pane:A,PaneDimensions:S,Movable:j}),n.ui.Draggable.utils={autoScrollVelocity:R,scrollableViewPort:D,findScrollableParent:P}}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){"use strict";var n=i(7);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){var n=i(66),o=i(46),r=i(27),a=i(41),s=i(25),l=i(123),c=Object.getOwnPropertyDescriptor;e.f=i(14)?c:function(t,e){if(t=r(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(2),o=i(15),r=i(7);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",a)}},function(t,e,i){var n=i(34),o=i(65),r=i(28),a=i(16),s=i(272);t.exports=function(t,e){var i=1==t,l=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,f=e||s;return function(e,s,p){for(var m,g,v=r(e),b=o(v),k=n(s,p,3),y=a(b.length),w=0,_=i?f(e,y):l?f(e,0):void 0;y>w;w++)if((d||w in b)&&(g=k(m=b[w],w,v),t))if(i)_[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:_.push(m)}else if(u)return!1;return h?-1:c||u?u:_}}},function(t,e,i){var n=i(35);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){"use strict";if(i(14)){var n=i(48),o=i(8),r=i(7),a=i(2),s=i(80),l=i(110),c=i(34),u=i(58),h=i(46),d=i(26),f=i(59),p=i(38),m=i(16),g=i(148),v=i(50),b=i(41),k=i(25),y=i(72),w=i(9),_=i(28),x=i(103),S=i(51),C=i(53),A=i(52).f,T=i(105),j=i(47),M=i(12),z=i(33),E=i(70),I=i(77),D=i(107),O=i(55),P=i(74),R=i(57),L=i(106),F=i(140),N=i(13),B=i(31),q=N.f,V=B.f,H=o.RangeError,U=o.TypeError,W=o.Uint8Array,G=Array.prototype,Q=l.ArrayBuffer,Y=l.DataView,K=z(0),Z=z(2),X=z(3),J=z(4),$=z(5),tt=z(6),et=E(!0),it=E(!1),nt=D.values,ot=D.keys,rt=D.entries,at=G.lastIndexOf,st=G.reduce,lt=G.reduceRight,ct=G.join,ut=G.sort,ht=G.slice,dt=G.toString,ft=G.toLocaleString,pt=M("iterator"),mt=M("toStringTag"),gt=j("typed_constructor"),vt=j("def_constructor"),bt=s.CONSTR,kt=s.TYPED,yt=s.VIEW,wt=z(1,function(t,e){return At(I(t,t[vt]),e)}),_t=r(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),xt=!!W&&!!W.prototype.set&&r(function(){new W(1).set({})}),St=function(t,e){var i=p(t);if(i<0||i%e)throw H("Wrong offset!");return i},Ct=function(t){if(w(t)&&kt in t)return t;throw U(t+" is not a typed array!")},At=function(t,e){if(!(w(t)&&gt in t))throw U("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return jt(I(t,t[vt]),e)},jt=function(t,e){for(var i=0,n=e.length,o=At(t,n);n>i;)o[i]=e[i++];return o},Mt=function(t,e,i){q(t,e,{get:function(){return this._d[i]}})},zt=function(t){var e,i,n,o,r,a,s=_(t),l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=T(s);if(void 0!=d&&!x(d)){for(a=d.call(s),n=[],e=0;!(r=a.next()).done;e++)n.push(r.value);s=n}for(h&&l>2&&(u=c(u,arguments[2],2)),e=0,i=m(s.length),o=At(this,i);i>e;e++)o[e]=h?u(s[e],e):s[e];return o},Et=function(){for(var t=0,e=arguments.length,i=At(this,e);e>t;)i[t]=arguments[t++];return i},It=!!W&&r(function(){ft.call(new W(1))}),Dt=function(){return ft.apply(It?ht.call(Ct(this)):Ct(this),arguments)},Ot={copyWithin:function(t,e){return F.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Ct(this),arguments)},filter:function(t){return Tt(this,Z(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ct(this),arguments)},lastIndexOf:function(t){return at.apply(Ct(this),arguments)},map:function(t){return wt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Ct(this),arguments)},reduceRight:function(t){return lt.apply(Ct(this),arguments)},reverse:function(){for(var t,e=Ct(this).length,i=Math.floor(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return X(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ut.call(Ct(this),t)},subarray:function(t,e){var i=Ct(this),n=i.length,o=v(t,n);return new(I(i,i[vt]))(i.buffer,i.byteOffset+o*i.BYTES_PER_ELEMENT,m((void 0===e?n:v(e,n))-o))}},Pt=function(t,e){return Tt(this,ht.call(Ct(this),t,e))},Rt=function(t){Ct(this);var e=St(arguments[1],1),i=this.length,n=_(t),o=m(n.length),r=0;if(o+e>i)throw H("Wrong length!");for(;r<o;)this[e+r]=n[r++]},Lt={entries:function(){return rt.call(Ct(this))},keys:function(){return ot.call(Ct(this))},values:function(){return nt.call(Ct(this))}},Ft=function(t,e){return w(t)&&t[kt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Nt=function(t,e){return Ft(t,e=b(e,!0))?h(2,t[e]):V(t,e)},Bt=function(t,e,i){return!(Ft(t,e=b(e,!0))&&w(i)&&k(i,"value"))||k(i,"get")||k(i,"set")||i.configurable||k(i,"writable")&&!i.writable||k(i,"enumerable")&&!i.enumerable?q(t,e,i):(t[e]=i.value,t)};bt||(B.f=Nt,N.f=Bt),a(a.S+a.F*!bt,"Object",{getOwnPropertyDescriptor:Nt,defineProperty:Bt}),r(function(){dt.call({})})&&(dt=ft=function(){return ct.call(this)});var qt=f({},Ot);f(qt,Lt),d(qt,pt,Lt.values),f(qt,{slice:Pt,set:Rt,constructor:function(){},toString:dt,toLocaleString:Dt}),Mt(qt,"buffer","b"),Mt(qt,"byteOffset","o"),Mt(qt,"byteLength","l"),Mt(qt,"length","e"),q(qt,mt,{get:function(){return this[kt]}}),t.exports=function(t,e,i,l){var c=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,f="set"+t,p=o[c],v=p||{},b=p&&C(p),k=!p||!s.ABV,_={},x=p&&p.prototype,T=function(t,i){q(t,i,{get:function(){return function(t,i){var n=t._d;return n.v[h](i*e+n.o,_t)}(this,i)},set:function(t){return function(t,i,n){var o=t._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),o.v[f](i*e+o.o,n,_t)}(this,i,t)},enumerable:!0})};k?(p=i(function(t,i,n,o){u(t,p,c,"_d");var r,a,s,l,h=0,f=0;if(w(i)){if(!(i instanceof Q||"ArrayBuffer"==(l=y(i))||"SharedArrayBuffer"==l))return kt in i?jt(p,i):zt.call(p,i);r=i,f=St(n,e);var v=i.byteLength;if(void 0===o){if(v%e)throw H("Wrong length!");if((a=v-f)<0)throw H("Wrong length!")}else if((a=m(o)*e)+f>v)throw H("Wrong length!");s=a/e}else s=g(i),r=new Q(a=s*e);for(d(t,"_d",{b:r,o:f,l:a,e:s,v:new Y(r)});h<s;)T(t,h++)}),x=p.prototype=S(qt),d(x,"constructor",p)):r(function(){p(1)})&&r(function(){new p(-1)})&&P(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=i(function(t,i,n,o){var r;return u(t,p,c),w(i)?i instanceof Q||"ArrayBuffer"==(r=y(i))||"SharedArrayBuffer"==r?void 0!==o?new v(i,St(n,e),o):void 0!==n?new v(i,St(n,e)):new v(i):kt in i?jt(p,i):zt.call(p,i):new v(g(i))}),K(b!==Function.prototype?A(v).concat(A(b)):A(v),function(t){t in p||d(p,t,v[t])}),p.prototype=x,n||(x.constructor=p));var j=x[pt],M=!!j&&("values"==j.name||void 0==j.name),z=Lt.values;d(p,gt,!0),d(x,kt,c),d(x,yt,!0),d(x,vt,p),(l?new p(1)[mt]==c:mt in x)||q(x,mt,{get:function(){return c}}),_[c]=p,a(a.G+a.W+a.F*(p!=v),_),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*r(function(){v.of.call(p,1)}),c,{from:zt,of:Et}),"BYTES_PER_ELEMENT"in x||d(x,"BYTES_PER_ELEMENT",e),a(a.P,c,Ot),R(c),a(a.P+a.F*xt,c,{set:Rt}),a(a.P+a.F*!M,c,Lt),n||x.toString==dt||(x.toString=dt),a(a.P+a.F*r(function(){new p(1).slice()}),c,{slice:Pt}),a(a.P+a.F*(r(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!r(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:Dt}),O[c]=M?j:z,n||M||d(x,pt,z)}}else t.exports=function(){}},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(17)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=window.assert,o=(new window.Logger("kidoju.util"),"number"),r=window.kidoju=window.kidoju||{},a=r.util=r.util||{};a.isAnyArray=function(t){return Array.isArray(t)||t instanceof i.data.ObservableArray},a.compareStringArrays=function(t,e){return a.isAnyArray(t)&&a.isAnyArray(e)&&t.length===e.length&&t.join(";")===e.join(";")},a.deg2rad=function(t){return t*Math.PI/180},a.rad2deg=function(t){return 180*t/Math.PI},a.getElementCenter=function(e,i,r){n.instanceof(t,e,n.format(n.messages.instanceof.default,"element","jQuery")),n.instanceof(t,i,n.format(n.messages.instanceof.default,"stage","jQuery")),n.type(o,r,n.format(n.messages.type.default,"scale",o));var a=e[0].getBoundingClientRect(),s=t(i.get(0).ownerDocument),l=i.offset();return{left:(a.left-l.left+a.width/2+s.scrollLeft())/r,top:(a.top-l.top+a.height/2+s.scrollTop())/r}},a.getMousePosition=function(e,i){n.instanceof(t.Event,e,n.format(n.messages.instanceof.default,"e","jQuery.Event")),n.instanceof(t,i,n.format(n.messages.instanceof.default,"stage","jQuery"));var o,r,a=e.originalEvent;a&&a.touches&&a.touches.length?(o=a.touches[0].clientX,r=a.touches[0].clientY):a&&a.changedTouches&&a.changedTouches.length?(o=a.changedTouches[0].clientX,r=a.changedTouches[0].clientY):(o=e.clientX,r=e.clientY);var s=t(i.get(0).ownerDocument),l=i.offset();return{x:o-l.left+s.scrollLeft(),y:r-l.top+s.scrollTop()}},a.getRotatedPoint=function(e,i,n){if(t.isPlainObject(e)&&"number"===t.type(e.x)&&"number"===t.type(e.y)&&t.isPlainObject(i)&&"number"===t.type(i.x)&&"number"===t.type(i.y)&&"number"===t.type(n))return{x:i.x+(e.x-i.x)*Math.cos(n)-(e.y-i.y)*Math.sin(n),y:i.y+(e.x-i.x)*Math.sin(n)+(e.y-i.y)*Math.cos(n)}},a.getRadiansBetween2Points=function(e,i,n){if(t.isPlainObject(e)&&"number"===t.type(e.x)&&"number"===t.type(e.y)&&t.isPlainObject(i)&&"number"===t.type(i.x)&&"number"===t.type(i.y)&&t.isPlainObject(n)&&"number"===t.type(n.x)&&"number"===t.type(n.y))return Math.atan2(n.y-e.y,n.x-e.x)-Math.atan2(i.y-e.y,i.x-e.x)},a.getRandomColor=function(){return"#"+(Math.round(127*Math.random())+127).toString(16)+(Math.round(127*Math.random())+127).toString(16)+(Math.round(127*Math.random())+127).toString(16)},a.getSelection=function(t){n.instanceof(HTMLDivElement,t,n.format(n.messages.instanceof.default,"htmlElement","HTMLDivElement")),n.ok(1===t.childNodes.length&&3===t.childNodes[0].nodeType,"`htmlElement` should only have on child node of type #Text");var e={},i=window.getSelection();if(i.rangeCount){var o=i.getRangeAt(0);o.commonAncestorContainer.parentNode===t&&(e.start=o.startOffset,e.end=o.endOffset)}return e},a.setSelection=function(t,e){n.instanceof(HTMLDivElement,t,n.format(n.messages.instanceof.default,"htmlElement","HTMLDivElement")),n.ok(1===t.childNodes.length&&3===t.childNodes[0].nodeType,"`htmlElement` should only have on child node of type #Text"),n.isPlainObject(e,n.format(n.messages.isPlainObject.default,"cursor")),n.type(o,e.start,n.format(n.messages.type.default,"cursor.start",o)),n.type(o,e.end,n.format(n.messages.type.default,"cursor.end",o));var i=window.getSelection(),r=document.createRange();r.setStart(t.childNodes[0],e.start),r.setEnd(t.childNodes[0],e.end),r.collapse(!0),i.removeAllRanges(),i.addRange(r)},a.replaceSelection=function(t,e){n.instanceof(HTMLDivElement,t,n.format(n.messages.instanceof.default,"htmlElement","HTMLDivElement")),n.ok(1===t.childNodes.length&&3===t.childNodes[0].nodeType,"`htmlElement` should only have on child node of type #Text"),n.type("string",e,n.format(n.messages.type.default,"cursor.end",o));var i=window.getSelection(),r=document.createRange();r.collapse(!0),i.removeAllRanges(),i.addRange(r)},a.getTransformRotation=function(e){n.instanceof(t,e,n.format(n.messages.instanceof.default,"element","jQuery"));var i=(e.attr("style")||"").match(/rotate\([\s]*([0-9\.]+)[deg\s]*\)/);return Array.isArray(i)&&i.length>1&&parseFloat(i[1])||0},a.getTransformScale=function(e){n.instanceof(t,e,n.format(n.messages.instanceof.default,"element","jQuery"));var i=(e.attr("style")||"").match(/scale\([\s]*([0-9\.]+)[\s]*\)/);return Array.isArray(i)&&i.length>1&&parseFloat(i[1])||1},a.isGuid=function(e){return"string"===t.type(e)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)},a.ObjectId=function(){this._id=a.randomString(16)},a.ObjectId.prototype.toString=function(){return this._id},a.randomId=function(){return"id_"+a.randomString(6)},a.randomString=function(t){return n.type(o,t,n.messages.type.default,"length",o),new Array(t+1).join("x").replace(/x/g,function(t){return(16*Math.random()|0).toString(16)})},a.shuffle=function(t){for(var e,i,n=t.length;n;)i=Math.floor(Math.random()*n--),e=t[n],t[n]=t[i],t[i]=e;return t},a.snap=function(t,e){return n.type(o,t,n.messages.type.default,"value",o),n.type(o,e,n.messages.type.default,"snapValue",o),(e=Math.round(e))?t%e<e/2?t-t%e:t+e-t%e:Math.round(t)},a.styleString2CssObject=function(e){if(t.isPlainObject(e))return e;if("string"===t.type(e)){for(var i={},n=e.split(";"),o=0;o<n.length;o++){var r=n[o].split(":");if(t.isArray(r)&&2===r.length){var a=t.camelCase(r[0].trim()),s=r[1].trim();a.length&&s.length&&(i[a]=s)}}return i}return{}}}(window.jQuery),window.kidoju})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n=i(9);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(47)("meta"),o=i(9),r=i(25),a=i(13).f,s=0,l=Object.isExtensible||function(){return!0},c=!i(7)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!r(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return c&&h.NEED&&l(t)&&!r(t,n)&&u(t),t}}},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6)],void 0===(r="function"==typeof(n=function(){var t=window.app=window.app||{};return function(e,i){var n=window.assert,o=t.logger=t.logger||{},r={DEBUG:{NAME:"DEBUG",VALUE:1},INFO:{NAME:"INFO",VALUE:2},WARN:{NAME:"WARN",VALUE:4},ERROR:{NAME:"ERROR",VALUE:5},CRIT:{NAME:"CRIT",VALUE:6}},a=new RegExp("^("+Object.keys(r).join("|")+")$","i");o._log=function(t,i,s){n.type("object",t,"A log entry is supposed to be an object"),n.match(a,i,"level is supposed to be any of `debug`, `info`, `warn`, `error` or `crit`");var l=e.Deferred();return(o.level||0)>r[i.toUpperCase()].VALUE?l.resolve(!1):"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?l.resolve(!1):(e.ajax({type:"POST",url:o.endPoint||s.endPoint,contentType:"application/json",data:JSON.stringify(e.extend(t,{date:new Date,level:i.toLowerCase()}))}).done(function(){return l.resolve(!0)}).fail(l.reject),l.promise())},o._debug=function(t,e){return o._log(t,r.DEBUG.NAME,e)},o._info=function(t,e){return o._log(t,r.INFO.NAME,e)},o._warn=function(t,e){return o._log(t,r.WARN.NAME,e)},o._error=function(t,e){return o._log(t,r.ERROR.NAME,e)},o._crit=function(t,e){return o._log(t,r.CRIT.NAME,e)}}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){window.kendo=window.kendo||{};var t=kendo.Class,e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},i=kendo.support.browser,n=function(t){var i=Object.keys(e);i.push("transparent");var o=new RegExp("^("+i.join("|")+")(\\W|$)","i");return n=function(t){return o.exec(t)},o.exec(t)},o=t.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var t=this.toBytes();return"rgba("+t.r+", "+t.g+", "+t.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){return i.msie&&i.version<9?this.toCss():this.toCssRgba()},equals:function(t){return t===this||null!==t&&this.toCssRgba()===h(t).toCssRgba()},diff:function(t){if(null===t)return NaN;var e=this.toBytes(),i=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-i.r),2)+Math.pow(.59*(e.g-i.g),2)+Math.pow(.11*(e.b-i.b),2))},clone:function(){var t=this.toBytes();return t===this&&(t=new a(t.r,t.g,t.b,t.a)),t}}),r=o.extend({init:function(t,e,i,n){o.fn.init.call(this),this.r=t,this.g=e,this.b=i,this.a=n},toHSV:function(){var t,e,i=this.r,n=this.g,o=this.b,r=Math.min(i,n,o),a=Math.max(i,n,o),s=a-r,c=a;return 0===s?new l(0,0,c,this.a):(0!==a?(e=s/a,t=i===a?(n-o)/s:n===a?2+(o-i)/s:4+(i-n)/s,(t*=60)<0&&(t+=360)):(e=0,t=-1),new l(t,e,c,this.a))},toHSL:function(){var t,e,i=this.r,n=this.g,o=this.b,r=Math.max(i,n,o),a=Math.min(i,n,o),s=(r+a)/2;if(r===a)t=e=0;else{var l=r-a;switch(e=s>.5?l/(2-r-a):l/(r+a),r){case i:t=(n-o)/l+(n<o?6:0);break;case n:t=(o-i)/l+2;break;case o:t=(i-n)/l+4}t*=60,e*=100,s*=100}return new c(t,e,s,this.a)},toBytes:function(){return new a(255*this.r,255*this.g,255*this.b,this.a)}}),a=r.extend({init:function(t,e,i,n){r.fn.init.call(this,Math.round(t),Math.round(e),Math.round(i),n)},toRGB:function(){return new r(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return s(this.r,2)+s(this.g,2)+s(this.b,2)},toBytes:function(){return this}});function s(t,e,i){void 0===i&&(i="0");for(var n=t.toString(16);e>n.length;)n=i+n;return n}var l=o.extend({init:function(t,e,i,n){o.fn.init.call(this),this.h=t,this.s=e,this.v=i,this.a=n},toRGB:function(){var t,e,i,n=this.h,o=this.s,a=this.v;if(0===o)t=e=i=a;else{n/=60;var s=Math.floor(n),l=n-s,c=a*(1-o),u=a*(1-o*l),h=a*(1-o*(1-l));switch(s){case 0:t=a,e=h,i=c;break;case 1:t=u,e=a,i=c;break;case 2:t=c,e=a,i=h;break;case 3:t=c,e=u,i=a;break;case 4:t=h,e=c,i=a;break;default:t=a,e=c,i=u}}return new r(t,e,i,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),c=o.extend({init:function(t,e,i,n){o.fn.init.call(this),this.h=t,this.s=e,this.l=i,this.a=n},toRGB:function(){var t,e,i,n=this.h,o=this.s,a=this.l;if(0===o)t=e=i=a;else{n/=360,o/=100;var s=(a/=100)<.5?a*(1+o):a+o-a*o,l=2*a-s;t=u(l,s,n+1/3),e=u(l,s,n),i=u(l,s,n-1/3)}return new r(t,e,i,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function u(t,e,i){var n=i;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h(t,i){var s,l;if(null==t||"none"===t)return null;if(t instanceof o)return t;var c=t.toLowerCase();if(s=n(c))return(c="transparent"===s[1]?new r(1,1,1,0):h(e[s[1]],i)).match=[s[1]],c;if((s=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(c))?l=new a(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16),1):(s=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(c))?l=new a(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16),1):(s=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(c))?l=new a(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),1):(s=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(c))?l=new a(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4])):(s=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(c))?l=new r(parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])/100,1):(s=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(c))&&(l=new r(parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])/100,parseFloat(s[4]))),l)l.match=s;else if(!i)throw new Error("Cannot parse color: "+c);return l}var d=t.extend({init:function(t){if(1===arguments.length)for(var e=d.formats,i=this.resolveColor(t),n=0;n<e.length;n++){var o=e[n].re,r=e[n].process,a=o.exec(i);if(a){var s=r(a);this.r=s[0],this.g=s[1],this.b=s[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)},toHex:function(){var t=this.padDigit,e=this.r.toString(16),i=this.g.toString(16),n=this.b.toString(16);return"#"+t(e)+t(i)+t(n)},resolveColor:function(t){var e=t||"black";return"#"===e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase(),e=d.namedColors[e]||e},normalizeByte:function(t){return t<0||isNaN(t)?0:t>255?255:t},padDigit:function(t){return 1===t.length?"0"+t:t},brightness:function(t){var e=Math.round;return this.r=e(this.normalizeByte(this.r*t)),this.g=e(this.normalizeByte(this.g*t)),this.b=e(this.normalizeByte(this.b*t)),this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});d.fromBytes=function(t,e,i,n){return new a(t,e,i,null!=n?n:1)},d.fromRGB=function(t,e,i,n){return new r(t,e,i,null!=n?n:1)},d.fromHSV=function(t,e,i,n){return new l(t,e,i,null!=n?n:1)},d.fromHSL=function(t,e,i,n){return new c(t,e,i,null!=n?n:1)},d.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],d.namedColors=e,kendo.deepExtend(kendo,{parseColor:h,Color:d})})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s;i(0),a=[i(4)],void 0===(s="function"==typeof(r=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?r.apply(e,a):r)||(t.exports=s),i(0),a=[i(4),i(24)],n="function"==typeof(r=function(){!function(t){window.kendo.dataviz=window.kendo.dataviz||{};var e=kendo.drawing,i=e.util,n=e.Path,o=e.Group,r=kendo.Class,a=kendo.geometry,s=a.Rect,l=a.Circle,c=a.transform,u=a.Segment,h=kendo.dataviz,d=kendo.deepExtend,f=kendo.isFunction,p=kendo.getter,m="x",g="y",v="top",b="bottom",k="left",y="right",w="center",_=3,x=Number.MAX_VALUE,S=-Number.MAX_VALUE,C="#fff",A=10,T="string",j=/\{\d+:?/,M={X:m,Y:g,WIDTH:"width",HEIGHT:"height",DEFAULT_HEIGHT:400,DEFAULT_WIDTH:600,TOP:v,LEFT:k,BOTTOM:b,RIGHT:y,CENTER:w,COORD_PRECISION:_,DEFAULT_PRECISION:A,CIRCLE:"circle",TRIANGLE:"triangle",CROSS:"cross",MAX_VALUE:x,MIN_VALUE:S,WHITE:C,BLACK:"#000",DEFAULT_FONT:"12px sans-serif",AXIS_LABEL_CLICK:"axisLabelClick",OUTSIDE:"outside",INSIDE:"inside",NONE:"none",NOTE_CLICK:"noteClick",NOTE_HOVER:"noteHover",VALUE:"value",STRING:T,OBJECT:"object",DATE:"date",ARC:"arc",FORMAT_REGEX:j,HIGHLIGHT_ZINDEX:100};function z(t){return Array.isArray(t)}var E=/\s+/g;function I(t){var e=.5;t.options.stroke&&kendo.drawing.util.defined(t.options.stroke.width)&&t.options.stroke.width%2==0&&(e=0);for(var i=0;i<t.segments.length;i++)t.segments[i].anchor().round(0).translate(e,e);return t}function D(t,e){return-t.x*e.y+t.y*e.x<0}function O(t){return"number"==typeof t&&!isNaN(t)}function P(t){return typeof t===T}function R(t){return"object"==typeof t}function L(t){return O(t)?t+"px":t}var F=/width|height|top|left|bottom|right/i;function N(t){return F.test(t)}function B(t,e){void 0===e&&(e=0);var i={top:0,right:0,bottom:0,left:0};return"number"==typeof t?i[v]=i[y]=i[b]=i[k]=t:(i[v]=t[v]||e,i[y]=t[y]||e,i[b]=t[b]||e,i[k]=t[k]||e),i}var q={format:function(t,e){return e},toString:function(t){return t},parseDate:function(t){return new Date(t)}},V=q,H=r.extend({});H.register=function(t){V=t},Object.defineProperties&&Object.defineProperties(H,{implementation:{get:function(){return V}}});var U=/\{(\d+)(:[^\}]+)?\}/g,W=r.extend({init:function(t){this._intlService=t},auto:function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=this.intlService;return P(t)&&t.match(j)?n.format.apply(n,[t].concat(e)):n.toString(e[0],t)},localeAuto:function(t,e,i){var n=this.intlService;return P(t)&&t.match(j)?t.replace(U,function(t,o,r){var a=e[parseInt(o,10)];return n.toString(a,r?r.substring(1):"",i)}):n.toString(e[0],t,i)}});Object.defineProperties&&Object.defineProperties(W.fn,{intlService:{get:function(){return this._intlService||H.implementation}}});var G,Q=r.extend({init:function(t,e){void 0===e&&(e={}),this._intlService=e.intlService,this.sender=e.sender||t,this.format=new W(e.intlService),this.chart=t,this.rtl=e.rtl},notify:function(t,e){this.chart.trigger(t,e)}});Object.defineProperties&&Object.defineProperties(Q.fn,{intl:{get:function(){return this._intlService||H.implementation}}});var Y=r.extend({});Y.register=function(t){G=t},Y.create=function(t,e){if(G)return G.create(t,e)};var K={compile:function(t){return t}},Z=r.extend({});Z.register=function(t){K=t},Z.compile=function(t){return K.compile(t)};var X={ChartService:Q,DomEventsBuilder:Y,FormatService:W,IntlService:H,TemplateService:Z};function J(t){var e;return void 0===t&&(t={}),t.template?t.template=e=Z.compile(t.template):f(t.content)&&(e=t.content),e}function $(t,e){for(var i=t.length,n=[],o=0;o<i;o++)e(t[o])&&n.push(t[o]);return n}function tt(t,e){if(e)return-1!==e.indexOf(t)}var et=r.extend({init:function(t,e){this.observer=t,this.handlerMap=d({},this.handlerMap,e)},trigger:function(t,e){var i,n=this.observer,o=this.handlerMap;return o[t]?i=this.callObserver(o[t],e):n.trigger&&(i=this.callObserver("trigger",t,e)),i},callObserver:function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return this.observer[t].apply(this.observer,e)},requiresHandlers:function(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0}});function it(t,e){for(var i=t.length,n=[],o=0;o<i;o++){var r=e(t[o]);kendo.drawing.util.defined(r)&&n.push(r)}return n}var nt=kendo.drawing.util,ot=nt.append,rt=nt.bindEvents,at=nt.defined,st=nt.deg,lt=nt.elementOffset,ct=nt.elementSize,ut=nt.eventElement,ht=nt.eventCoordinates,dt=nt.last,ft=nt.limitValue,pt=nt.objectKey,mt=nt.rad,gt=nt.round,vt=nt.unbindEvents,bt=nt.valueOrDefault,kt=r.extend({});function yt(t,e){var i=t.prototype;i.options?i.options=d({},i.options,e):i.options=e}function wt(t){for(var e=x,i=S,n=0,o=t.length;n<o;n++){var r=t[n];null!==r&&isFinite(r)&&(e=Math.min(e,r),i=Math.max(i,r))}return{min:e===x?void 0:e,max:i===S?void 0:i}}kt.fetchFonts=function(t,e,i){void 0===i&&(i={depth:0}),!t||i.depth>5||!document.fonts||Object.keys(t).forEach(function(n){var o=t[n];"dataSource"!==n&&"$"!==n[0]&&o&&("font"===n?e.push(o):"object"==typeof o&&(i.depth++,kt.fetchFonts(o,e,i),i.depth--))})},kt.loadFonts=function(t,e){var i=[];if(t.length>0&&document.fonts){try{i=t.map(function(t){return document.fonts.load(t)})}catch(t){kendo.logToConsole(t)}Promise.all(i).then(e,e)}else e()},kt.preloadFonts=function(t,e){var i=[];kt.fetchFonts(t,i),kt.loadFonts(i,e)};var _t=r.extend({init:function(t,e){this.x=t||0,this.y=e||0},clone:function(){return new _t(this.x,this.y)},equals:function(t){return t&&this.x===t.x&&this.y===t.y},rotate:function(t,e){var i=mt(e),n=Math.cos(i),o=Math.sin(i),r=t.x,a=t.y,s=this.x,l=this.y;return this.x=gt(r+(s-r)*n+(l-a)*o,_),this.y=gt(a+(l-a)*n-(s-r)*o,_),this},multiply:function(t){return this.x*=t,this.y*=t,this},distanceTo:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}});_t.onCircle=function(t,e,i){var n=mt(e);return new _t(t.x-i*Math.cos(n),t.y-i*Math.sin(n))};var xt=r.extend({init:function(t,e,i,n){this.x1=t||0,this.y1=e||0,this.x2=i||0,this.y2=n||0},equals:function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},move:function(t,e){var i=this.height(),n=this.width();return at(t)&&(this.x1=t,this.x2=this.x1+n),at(e)&&(this.y1=e,this.y2=this.y1+i),this},wrap:function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},wrapPoint:function(t){var e=z(t),i=e?t[0]:t.x,n=e?t[1]:t.y;return this.wrap(new xt(i,n,i,n)),this},snapTo:function(t,e){return e!==m&&e||(this.x1=t.x1,this.x2=t.x2),e!==g&&e||(this.y1=t.y1,this.y2=t.y2),this},alignTo:function(t,e){var i=this.height(),n=this.width(),o=e===v||e===b?g:m,r=o===g?i:n;if(e===w){var a=t.center(),s=this.center();this.x1+=a.x-s.x,this.y1+=a.y-s.y}else this[o+1]=e===v||e===k?t[o+1]-r:t[o+2];return this.x2=this.x1+n,this.y2=this.y1+i,this},shrink:function(t,e){return this.x2-=t,this.y2-=e,this},expand:function(t,e){return this.shrink(-t,-e),this},pad:function(t){var e=B(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},unpad:function(t){var e=B(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},clone:function(){return new xt(this.x1,this.y1,this.x2,this.y2)},center:function(){return new _t(this.x1+this.width()/2,this.y1+this.height()/2)},containsPoint:function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},points:function(){return[new _t(this.x1,this.y1),new _t(this.x2,this.y1),new _t(this.x2,this.y2),new _t(this.x1,this.y2)]},getHash:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},overlaps:function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},rotate:function(t){var e=this.width(),i=this.height(),n=this.center(),o=n.x,r=n.y,a=St(0,0,o,r,t),s=St(e,0,o,r,t),l=St(e,i,o,r,t),c=St(0,i,o,r,t);return e=Math.max(a.x,s.x,l.x,c.x)-Math.min(a.x,s.x,l.x,c.x),i=Math.max(a.y,s.y,l.y,c.y)-Math.min(a.y,s.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+i,this},toRect:function(){return new s([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return 0!==this.width()&&0!==this.height()},align:function(t,e,i){var n=e+1,o=e+2,r=e===m?"width":"height",a=this[r]();tt(i,[k,v])?(this[n]=t[n],this[o]=this[n]+a):tt(i,[y,b])?(this[o]=t[o],this[n]=this[o]-a):i===w&&(this[n]=t[n]+(t[r]()-a)/2,this[o]=this[n]+a)}});function St(t,e,i,n,o){var r=mt(o);return new _t(i+(t-i)*Math.cos(r)+(e-n)*Math.sin(r),n-(t-i)*Math.sin(r)+(e-n)*Math.cos(r))}var Ct=r.extend({init:function(t,e,i,n,o){this.center=t,this.innerRadius=e,this.radius=i,this.startAngle=n,this.angle=o},clone:function(){return new Ct(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},middle:function(){return this.startAngle+this.angle/2},setRadius:function(t,e){return e?this.innerRadius=t:this.radius=t,this},point:function(t,e){var i=mt(t),n=Math.cos(i),o=Math.sin(i),r=e?this.innerRadius:this.radius,a=gt(this.center.x-n*r,_),s=gt(this.center.y-o*r,_);return new _t(a,s)},adjacentBox:function(t,e,i){var n=this.clone().expand(t),o=n.middle(),r=n.point(o),a=e/2,s=i/2,l=Math.sin(mt(o)),c=Math.cos(mt(o)),u=r.x-a,h=r.y-s;return Math.abs(l)<.9&&(u+=a*-c/Math.abs(c)),Math.abs(c)<.9&&(h+=s*-l/Math.abs(l)),new xt(u,h,u+e,h+i)},containsPoint:function(t){var e=this.center,i=this.innerRadius,n=this.radius,o=this.startAngle,r=this.startAngle+this.angle,a=t.x-e.x,s=t.y-e.y,l=new _t(a,s),c=this.point(o),u=new _t(c.x-e.x,c.y-e.y),h=this.point(r),d=new _t(h.x-e.x,h.y-e.y),f=gt(a*a+s*s,_);return(u.equals(l)||D(u,l))&&!D(d,l)&&f>=i*i&&f<=n*n},getBBox:function(){var t,e=new xt(x,x,S,S),i=gt(this.startAngle%360),n=gt((i+this.angle)%360),o=this.innerRadius,r=[0,90,180,270,i,n].sort(At),a=r.indexOf(i),s=r.indexOf(n);t=i===n?r:a<s?r.slice(a,s+1):[].concat(r.slice(0,s+1),r.slice(a,r.length));for(var l=0;l<t.length;l++){var c=this.point(t[l]);e.wrapPoint(c),e.wrapPoint(c,o)}return o||e.wrapPoint(this.center),e},expand:function(t){return this.radius+=t,this}});function At(t,e){return t-e}var Tt=Ct.extend({init:function(t,e,i,n){Ct.fn.init.call(this,t,0,e,i,n)},expand:function(t){return Ct.fn.expand.call(this,t)},clone:function(){return new Tt(this.center,this.radius,this.startAngle,this.angle)},setRadius:function(t){return this.radius=t,this}}),jt=r.extend({createRing:function(t,e){var i=t.startAngle+180,o=t.angle+i;t.angle>0&&i===o&&(o+=.001);var r=new a.Point(t.center.x,t.center.y),s=Math.max(t.radius,0),l=Math.max(t.innerRadius,0),c=new a.Arc(r,{startAngle:i,endAngle:o,radiusX:s,radiusY:s}),u=n.fromArc(c,e).close();if(l){c.radiusX=c.radiusY=l;var h=c.pointAt(o);u.lineTo(h.x,h.y),u.arc(o,i,l,l,!0)}else u.lineTo(r.x,r.y);return u}});jt.current=new jt;var Mt=r.extend({init:function(t){this.children=[],this.options=d({},this.options,t)},reflow:function(t){for(var e,i=this.children,n=0;n<i.length;n++){var o=i[n];o.reflow(t),e=e?e.wrap(o.box):o.box.clone()}this.box=e||t},destroy:function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},getRoot:function(){var t=this.parent;return t?t.getRoot():null},getSender:function(){var t=this.getService();if(t)return t.sender},getService:function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},translateChildren:function(t,e){for(var i=this.children,n=i.length,o=0;o<n;o++)i[o].box.translate(t,e)},append:function(){for(var t=arguments,e=0;e<arguments.length;e++){var i=t[e];this.children.push(i),i.parent=this}},renderVisual:function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},addVisual:function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},renderChildren:function(){for(var t=this.children,e=t.length,i=0;i<e;i++)t[i].renderVisual()},createVisual:function(){this.visual=new o({zIndex:this.options.zIndex,visible:bt(this.options.visible,!0)})},createAnimation:function(){this.visual&&(this.animation=e.Animation.create(this.visual,this.options.animation))},appendVisual:function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):at(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},clipRoot:function(){return this.parent?this.parent.clipRoot():this},stackRoot:function(){return this.parent?this.parent.stackRoot():this},stackVisual:function(t){var e,i=t.options.zIndex||0,n=this.visual.children,o=n.length;for(e=0;e<o;e++){var r=n[e],a=bt(r.options.zIndex,0);if(a>i)break}this.visual.insert(e,t)},traverse:function(t){for(var e=this.children,i=e.length,n=0;n<i;n++){var o=e[n];t(o),o.traverse&&o.traverse(t)}},closest:function(t){for(var e=this,i=!1;e&&!i;)(i=t(e))||(e=e.parent);if(i)return e},renderComplete:function(){},hasHighlight:function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible)},toggleHighlight:function(e){var i=this,n=(this.options||{}).highlight||{},o=n.visual,r=this._highlight;if(!r){var a={fill:{color:C,opacity:.2},stroke:{color:C,width:1,opacity:.2}};if(o){if(!(r=this._highlight=o(t.extend(this.highlightVisualArgs(),{createVisual:function(){return i.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else r=this._highlight=this.createHighlight(a);at(r.options.zIndex)||(r.options.zIndex=bt(n.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(e)},createGradientOverlay:function(e,i,o){var r=new n(t.extend({stroke:{color:"none"},fill:this.createGradient(o),closed:e.options.closed},i));return r.segments.elements(e.segments.elements()),r},createGradient:function(t){if(this.parent)return this.parent.createGradient(t)}});Mt.prototype.options={};var zt=Mt.extend({init:function(t){Mt.fn.init.call(this,t),this.options.margin=B(this.options.margin),this.options.padding=B(this.options.padding)},reflow:function(t){var e,i=this,n=this.options,o=n.width,r=n.height,a=n.shrinkToFit,s=o&&r,l=n.margin,c=n.padding,u=n.border.width,h=function(){i.align(t,m,n.align),i.align(t,g,n.vAlign),i.paddingBox=e.clone().unpad(l).unpad(u)},d=t.clone();s&&(d.x2=d.x1+o,d.y2=d.y1+r),a&&d.unpad(l).unpad(u).unpad(c),Mt.fn.reflow.call(this,d),e=s?this.box=new xt(0,0,o,r):this.box,a&&s?(h(),d=this.contentBox=this.paddingBox.clone().unpad(c)):(d=this.contentBox=e.clone(),e.pad(c).pad(u).pad(l),h()),this.translateChildren(e.x1-d.x1+l.left+u+c.left,e.y1-d.y1+l.top+u+c.top);for(var f=this.children,p=0;p<f.length;p++){var v=f[p];v.reflow(v.box)}},align:function(t,e,i){this.box.align(t,e,i)},hasBox:function(){var t=this.options;return t.border.width||t.background},createVisual:function(){Mt.fn.createVisual.call(this);var t=this.options;t.visible&&this.hasBox()&&this.visual.append(n.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:bt(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}});yt(zt,{align:k,vAlign:v,margin:{},padding:{},border:{color:"#000",width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var Et=zt.extend({init:function(t,e){zt.fn.init.call(this,t),this.pointData=e},getElement:function(){var t=this.options,i=this.paddingBox,o=t.type,r=t.rotation,a=i.center(),s=i.width()/2;if(!t.visible||!this.hasBox())return null;var u,h=this.visualStyle();return"circle"===o?u=new e.Circle(new l([gt(i.x1+s,_),gt(i.y1+i.height()/2,_)],s),h):"triangle"===o?u=n.fromPoints([[i.x1+s,i.y1],[i.x1,i.y2],[i.x2,i.y2]],h).close():"cross"===o?((u=new e.MultiPath(h)).moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),u.moveTo(i.x1,i.y2).lineTo(i.x2,i.y1)):u=n.fromRect(i.toRect(),h),r&&u.transform(c().rotate(-r,[a.x,a.y])),u.options.zIndex=t.zIndex,u},createElement:function(){var t=this,e=this.options.visual,i=this.pointData||{};return e?e({value:i.value,dataItem:i.dataItem,sender:this.getSender(),series:i.series,category:i.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):this.getElement()},visualOptions:function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},createVisual:function(){this.visual=this.createElement()}});yt(Et,{type:"circle",align:w,vAlign:w});var It={glass:{type:"linear",rotation:0,stops:[{offset:0,color:C,opacity:0},{offset:.25,color:C,opacity:.3},{offset:1,color:C,opacity:0}]},sharpBevel:{type:"radial",stops:[{offset:0,color:C,opacity:.55},{offset:.65,color:C,opacity:0},{offset:.95,color:C,opacity:.25}]},roundedBevel:{type:"radial",stops:[{offset:.33,color:C,opacity:.06},{offset:.83,color:C,opacity:.2},{offset:.95,color:C,opacity:0}]},roundedGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:C,opacity:0},{offset:.5,color:C,opacity:.3},{offset:.99,color:C,opacity:0}]},sharpGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:C,opacity:.2},{offset:.15,color:C,opacity:.15},{offset:.17,color:C,opacity:.35},{offset:.85,color:C,opacity:.05},{offset:.87,color:C,opacity:.15},{offset:.99,color:C,opacity:0}]},bubbleShadow:{type:"radial",center:[.5,.5],radius:.5}};function Dt(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;var i=Math.min(t.x1,e.x1),n=Math.max(t.x1,e.x1),o=Math.min(t.x2,e.x2),r=Math.max(t.x2,e.x2),a=Math.min(t.y1,e.y1),s=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),c=Math.max(t.y2,e.y2),u=[];return u[0]=new xt(n,a,o,s),u[1]=new xt(i,s,n,l),u[2]=new xt(o,s,r,l),u[3]=new xt(n,l,o,c),t.x1===i&&t.y1===a||e.x1===i&&e.y1===a?(u[4]=new xt(i,a,n,s),u[5]=new xt(o,l,r,c)):(u[4]=new xt(o,a,r,s),u[5]=new xt(i,l,n,c)),$(u,function(t){return t.height()>0&&t.width()>0})[0]}var Ot=Mt.extend({init:function(t){Mt.fn.init.call(this,t);var e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}},reflow:function(){var t=this.options,e=this.children,i=new xt(0,0,t.width,t.height);this.box=i.unpad(t.margin);for(var n=0;n<e.length;n++)e[n].reflow(i),i=Dt(i,e[n].box)||new xt},createVisual:function(){this.visual=new o,this.createBackground()},createBackground:function(){var t=this.options,e=t.border||{},i=this.box.clone().pad(t.margin).unpad(e.width),o=n.fromRect(i.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(o)},getRoot:function(){return this},createGradient:function(i){var n,o=this.gradients,r=pt(i),a=It[i.gradient];if(o[r])n=o[r];else{var s=t.extend({},a,i);"linear"===a.type?n=new e.LinearGradient(s):(i.innerRadius&&(s.stops=function(e){for(var i=e.stops,n=e.innerRadius/e.radius*100,o=i.length,r=[],a=0;a<o;a++){var s=t.extend({},i[a]);s.offset=(s.offset*(100-n)+n)/100,r.push(s)}return r}(s)),(n=new e.RadialGradient(s)).supportVML=!1!==a.supportVML),o[r]=n}return n}});yt(Ot,{width:600,height:400,background:C,border:{color:"#000",width:0},margin:B(5),zIndex:-2});var Pt=Mt.extend({init:function(t){Mt.fn.init.call(this,t),this._initDirection()},_initDirection:function(){var t=this.options;t.vertical?(this.groupAxis=m,this.elementAxis=g,this.groupSizeField="width",this.elementSizeField="height",this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=g,this.elementAxis=m,this.groupSizeField="height",this.elementSizeField="width",this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},reflow:function(t){this.box=t.clone(),this.reflowChildren()},reflowChildren:function(){var t=this.box,e=this.elementAxis,i=this.groupAxis,n=this.elementSizeField,o=this.groupSizeField,r=this.groupOptions(),a=r.groups,s=r.groupsSize,l=r.maxGroupElementsSize,c=a.length,u=t[i+1]+this.alignStart(s,t[o]());if(c){for(var h=u,d=0;d<c;d++){for(var f=a[d],p=f.groupElements,m=t[e+1],g=p.length,v=0;v<g;v++){var b=p[v],k=this.elementSize(b),y=h+this.alignStart(k[o],f.groupSize),w=new xt;w[i+1]=y,w[i+2]=y+k[o],w[e+1]=m,w[e+2]=m+k[n],b.reflow(w),m+=k[n]+this.elementSpacing}h+=f.groupSize+this.groupSpacing}t[i+1]=u,t[i+2]=u+s,t[e+2]=t[e+1]+l}},alignStart:function(t,e){var i=0,n=this.options.align;return n===y||n===b?i=e-t:n===w&&(i=(e-t)/2),i},groupOptions:function(){for(var t=this.box,e=this.children,i=this.elementSizeField,n=this.groupSizeField,o=this.elementSpacing,r=this.groupSpacing,a=gt(t[i]()),s=e.length,l=[],c=0,u=0,h=0,d=0,f=[],p=0;p<s;p++){var m=e[p];m.box||m.reflow(t);var g=this.elementSize(m);this.options.wrap&&gt(u+o+g[i])>a&&(l.push({groupElements:f,groupSize:c,groupElementsSize:u}),d=Math.max(d,u),h+=r+c,c=0,u=0,f=[]),c=Math.max(c,g[n]),u>0&&(u+=o),u+=g[i],f.push(m)}return l.push({groupElements:f,groupSize:c,groupElementsSize:u}),d=Math.max(d,u),{groups:l,groupsSize:h+=c,maxGroupElementsSize:d}},elementSize:function(t){return{width:t.box.width(),height:t.box.height()}},createVisual:function(){}});yt(Pt,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var Rt=e.Text,Lt=Mt.extend({init:function(t,e){Mt.fn.init.call(this,e),this.content=t,this.reflow(new xt)},reflow:function(t){var e=this.options,n=e.size=i.measureText(this.content,{font:e.font});this.baseline=n.baseline,this.box=new xt(t.x1,t.y1,t.x1+n.width,t.y1+n.height)},createVisual:function(){var t=this.options,e=t.font,i=t.color,n=t.opacity,o=t.cursor;this.visual=new Rt(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:i,opacity:n},cursor:o})}});function Ft(t){var e=t.origin,i=t.bottomRight();return new xt(e.x,e.y,i.x,i.y)}yt(Lt,{font:"12px sans-serif",color:"#000"});var Nt=/\n/m,Bt=zt.extend({init:function(t,e){zt.fn.init.call(this,e),this.content=t,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new xt)},_initContainer:function(){var t=this.options,e=String(this.content).split(Nt),i=new Pt({vertical:!0,align:t.align,wrap:!1}),n=d({},t,{opacity:1,animation:null});this.container=i,this.append(i);for(var o=0;o<e.length;o++){var r=new Lt(e[o].trim(),n);i.append(r)}},reflow:function(t){var e=this.options,i=e.visual;if(this.container.options.align=e.align,i&&!this._boxReflow){var n=t;n.hasSize()||(this._boxReflow=!0,this.reflow(n),this._boxReflow=!1,n=this.box);var o=this.visual=i(this.visualContext(n));o&&(n=Ft(o.clippedBBox()||new s),o.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=n}else if(zt.fn.reflow.call(this,t),e.rotation){var r=B(e.margin),a=this.box.unpad(r);this.targetBox=t,this.normalBox=a.clone(),(a=this.rotate()).translate(r.left-r.right,r.top-r.bottom),this.rotatedBox=a.clone(),a.pad(r)}},createVisual:function(){var t=this.options;if(t.visible&&(this.visual=new o({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox())){var e=n.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},renderVisual:function(){if(this.options.visual){var t=this.visual;t&&!at(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else zt.fn.renderVisual.call(this)},visualOptions:function(){var t=this.options;return{background:t.background,border:t.border,color:t.color,font:t.font,margin:t.margin,padding:t.padding,visible:t.visible}},visualContext:function(t){var e=this;return{text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.visualOptions(),createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}}},getDefaultVisual:function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},rotate:function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,m,t.align),this.align(this.targetBox,g,t.vAlign),this.box},rotationTransform:function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),i=e.x,n=e.y,o=this.rotatedBox.center();return c().translate(o.x-i,o.y-n).rotate(t,[i,n])}}),qt=Mt.extend({init:function(e){Mt.fn.init.call(this,e),this.append(new Bt(this.options.text,t.extend({},this.options,{vAlign:this.options.position})))},reflow:function(t){Mt.fn.reflow.call(this,t),this.box.snapTo(t,m)}});qt.buildTitle=function(e,i,n){var o,r=e;return"string"==typeof e&&(r={text:e}),(r=t.extend({visible:!0},n,r))&&r.visible&&r.text&&(o=new qt(r),i.append(o)),o},yt(qt,{color:"#000",position:v,align:w,margin:B(5),padding:B(5)});var Vt=Bt.extend({init:function(t,e,i,n,o){Bt.fn.init.call(this,e,o),this.text=e,this.value=t,this.index=i,this.dataItem=n,this.reflow(new xt)},visualContext:function(t){var e=Bt.fn.visualContext.call(this,t);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e},click:function(t,e){t.trigger("axisLabelClick",{element:ut(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},rotate:function(){if(this.options.alignRotation!==w){var t=this.normalBox.toRect(),e=this.rotationTransform();this.box=Ft(t.bbox(e.matrix()))}else Bt.fn.rotate.call(this);return this.box},rotationTransform:function(){var t=this.options,e=t.rotation;if(!e)return null;if(t.alignRotation===w)return Bt.fn.rotationTransform.call(this);var i=c().rotate(e).matrix(),n=this.normalBox.toRect(),o=this.targetBox.toRect(),r=t.rotationOrigin||v,a=r===v||r===b?m:g,l=r===v||r===b?g:m,u=r===v||r===k?o.origin:o.bottomRight(),h=n.topLeft().transformCopy(i),d=n.topRight().transformCopy(i),f=n.bottomRight().transformCopy(i),p=n.bottomLeft().transformCopy(i),y=s.fromPoints(h,d,f,p),_={};_[l]=o.origin[l]-y.origin[l];var x,S,C=Math.abs(h[l]+_[l]-u[l]),T=Math.abs(d[l]+_[l]-u[l]);gt(C,A)===gt(T,A)?(x=h,S=d):T<C?(x=d,S=f):(x=h,S=p);var j=x[a]+(S[a]-x[a])/2;return _[a]=o.center()[a]-j,c().translate(_.x,_.y).rotate(e)}});yt(Vt,{_autoReflow:!1});var Ht=zt.extend({init:function(t,e,i){zt.fn.init.call(this,e),this.fields=t,this.chartService=i,this.render()},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var t=this.options;if(t.visible){var e,i,n=t.label,o=t.icon,r=new xt,a=o.size,s=this.fields.text;if(at(n)&&n.visible){var l=J(n);l?s=l(this.fields):n.format&&(s=this.chartService.format.auto(n.format,s)),n.color||(n.color="inside"===n.position?"#fff":o.background),this.label=new Bt(s,d({},n)),"inside"!==n.position||at(a)||("circle"===o.type?a=Math.max(this.label.box.width(),this.label.box.height()):(e=this.label.box.width(),i=this.label.box.height()),r.wrap(this.label.box))}o.width=e||a||7,o.height=i||a||7;var c=new Et(d({},o));this.marker=c,this.append(c),this.label&&this.append(this.label),c.reflow(new xt),this.wrapperBox=r.wrap(c.box)}},reflow:function(t){var e,i,n,o=this.options,r=this.label,a=this.marker,s=this.wrapperBox,l=t.center(),c=o.line.length,u=o.position;o.visible&&(tt(u,[k,y])?u===k?(n=s.alignTo(t,u).translate(-c,t.center().y-s.center().y),o.line.visible&&(e=[t.x1,l.y],this.linePoints=[e,[n.x2,l.y]],i=n.clone().wrapPoint(e))):(n=s.alignTo(t,u).translate(c,t.center().y-s.center().y),o.line.visible&&(e=[t.x2,l.y],this.linePoints=[e,[n.x1,l.y]],i=n.clone().wrapPoint(e))):u===b?(n=s.alignTo(t,u).translate(t.center().x-s.center().x,c),o.line.visible&&(e=[l.x,t.y2],this.linePoints=[e,[l.x,n.y1]],i=n.clone().wrapPoint(e))):(n=s.alignTo(t,u).translate(t.center().x-s.center().x,-c),o.line.visible&&(e=[l.x,t.y1],this.linePoints=[e,[l.x,n.y2]],i=n.clone().wrapPoint(e))),a&&a.reflow(n),r&&(r.reflow(n),a&&("outside"===o.label.position&&r.box.alignTo(a.box,u),r.reflow(r.box))),this.contentBox=n,this.targetBox=t,this.box=i||n)},createVisual:function(){zt.fn.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},renderVisual:function(){var e=this,i=this.options,n=i.visual;i.visible&&n?(this.visual=n(t.extend(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:i.background,border:i.background,icon:i.icon,label:i.label,line:i.line,position:i.position,visible:i.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):zt.fn.renderVisual.call(this)},createLine:function(){var t=this.options.line;if(this.linePoints){var e=n.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});I(e),this.visual.append(e)}},click:function(t,e){var i=this.eventArgs(e);t.trigger("noteClick",i)||e.preventDefault()},hover:function(t,e){var i=this.eventArgs(e);t.trigger("noteHover",i)||e.preventDefault()},leave:function(t){t._unsetActivePoint()},eventArgs:function(e){var i=this.options;return t.extend(this.fields,{element:ut(e),text:at(i.label)?i.label.text:"",visual:this.visual})}});function Ut(t,e){var i=t.tickX,o=t.tickY,r=t.position,a=new n({stroke:{width:e.width,color:e.color}});return t.vertical?a.moveTo(i,r).lineTo(i+e.size,r):a.moveTo(r,o).lineTo(r,o+e.size),I(a),a}function Wt(t,e){var i=t.lineStart,o=t.lineEnd,r=t.position,a=new n({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?a.moveTo(i,r).lineTo(o,r):a.moveTo(r,i).lineTo(r,o),I(a),a}yt(Ht,{icon:{visible:!0,type:"circle"},label:{position:"inside",visible:!0,align:w,vAlign:w},line:{visible:!0},visible:!0,position:v,zIndex:2});var Gt=Mt.extend({init:function(t,e){void 0===e&&(e=new Q),Mt.fn.init.call(this,t),this.chartService=e,this.options.visible||(this.options=d({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=d({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.minorTickType},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=d({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.majorTickType},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()},labelsRange:function(){return{min:this.options.labels.skip,max:this.labelsCount()}},createLabels:function(){var t=this.options,e=t.vertical?y:w,i=d({},t.labels,{align:e,zIndex:t.zIndex}),n=Math.max(1,i.step);if(this.children=$(this.children,function(t){return!(t instanceof Vt)}),this.labels=[],i.visible){var o=this.labelsRange(),r=i.rotation;R(r)&&(i.alignRotation=r.align,i.rotation=r.angle),"auto"===i.rotation&&(i.rotation=0,t.autoRotateLabels=!0);for(var a=o.min;a<o.max;a+=n){var s=this.createAxisLabel(a,i);s&&(this.append(s),this.labels.push(s))}}},lineBox:function(){var t=this.options,e=this.box,i=t.vertical,n=t.labels.mirror,o=n?e.x1:e.x2,r=n?e.y2:e.y1,a=t.line.width||0;return i?new xt(o,e.y1,o,e.y2-a):new xt(e.x1,r,e.x2-a,r)},createTitle:function(){var t=this.options,e=d({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var i=new Bt(e.text,e);this.append(i),this.title=i}},createNotes:function(){var t=this.options,e=t.notes,i=e.data||[];this.notes=[];for(var n=0;n<i.length;n++){var o=d({},e,i[n]);o.value=this.parseNoteValue(o.value);var r=new Ht({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);r.options.visible&&(at(r.options.position)?t.vertical&&!tt(r.options.position,[k,y])?r.options.position=t.reverse?k:y:t.vertical||tt(r.options.position,[v,b])||(r.options.position=t.reverse?b:v):t.vertical?r.options.position=t.reverse?k:y:r.options.position=t.reverse?b:v,this.append(r),this.notes.push(r))}},parseNoteValue:function(t){return t},renderVisual:function(){Mt.fn.renderVisual.call(this),this.createPlotBands()},createVisual:function(){Mt.fn.createVisual.call(this),this.createBackground(),this.createLine()},gridLinesVisual:function(){var t=this._gridLines;return t||(t=this._gridLines=new o({zIndex:-2}),this.appendVisual(this._gridLines)),t},createTicks:function(t){var e=this.options,i=this.lineBox(),n=e.labels.mirror,o=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical};function a(e,o,a){var s=e.length,l=Math.max(1,o.step);if(o.visible)for(var c=o.skip;c<s;c+=l)at(a)&&c%a==0||(r.tickX=n?i.x2:i.x2-o.size,r.tickY=n?i.y1-o.size:i.y1,r.position=e[c],t.append(Ut(r,o)))}a(this.getMajorTickPositions(),e.majorTicks),a(this.getMinorTickPositions(),e.minorTicks,o/e.minorUnit)},createLine:function(){var t=this.options,e=t.line,i=this.lineBox();if(e.width>0&&e.visible){var r=new n({stroke:{width:e.width,color:e.color,dashType:e.dashType}});r.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),t._alignLines&&I(r);var a=this._lineGroup=new o;a.append(r),this.visual.append(a),this.createTicks(a)}},getActualTickSize:function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},createBackground:function(){var t=this.options,e=this.box,i=t.background;i&&(this._backgroundPath=n.fromRect(e.toRect(),{fill:{color:i},stroke:null}),this.visual.append(this._backgroundPath))},createPlotBands:function(){var t=this,e=this.options,i=e.plotBands||[],r=e.vertical,a=this.plotArea;if(0!==i.length){for(var l=this._plotbandGroup=new o({zIndex:-1}),c=$(this.pane.axes,function(e){return e.options.vertical!==t.options.vertical})[0],u=0;u<i.length;u++){var h=i[u],d=void 0,f=void 0;if(r?(d=(c||a.axisX).lineBox(),f=t.getSlot(h.from,h.to,!0)):(d=t.getSlot(h.from,h.to,!0),f=(c||a.axisY).lineBox()),0!==d.width()&&0!==f.height()){var p=new s([d.x1,f.y1],[d.width(),f.height()]),m=n.fromRect(p,{fill:{color:h.color,opacity:h.opacity},stroke:null});l.append(m)}}this.appendVisual(l)}},createGridLines:function(t){var e=this.options,i=e.minorGridLines,n=e.majorGridLines,o=e.minorUnit,r=e.vertical,a=t.options.line.visible,s=n.visible?e.majorUnit:0,l=t.lineBox(),c=l[r?"y1":"x1"],u={lineStart:l[r?"x1":"y1"],lineEnd:l[r?"x2":"y2"],vertical:r},h=[],d=this.gridLinesVisual();function f(t,e,i){var n=t.length,o=Math.max(1,e.step);if(e.visible)for(var r=e.skip;r<n;r+=o){var s=gt(t[r]);tt(s,h)||r%i==0||a&&c===s||(u.position=s,d.append(Wt(u,e)),h.push(s))}}return f(this.getMajorTickPositions(),n),f(this.getMinorTickPositions(),i,s/o),d.children},reflow:function(t){for(var e=this.options,i=this.labels,n=this.title,o=e.vertical,r=i.length,a=o?"width":"height",s=n?n.box[a]():0,l=this.getActualTickSize()+e.margin+s,c=(this.getRoot()||{}).box||t,u=c[a](),h=0,d=0;d<r;d++){var f=i[d].box[a]();f+l<=u&&(h=Math.max(h,f))}this.box=o?new xt(t.x1,t.y1,t.x1+h+l,t.y2):new xt(t.x1,t.y1,t.x2,t.y1+h+l),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},getLabelsTickPositions:function(){return this.getMajorTickPositions()},labelTickIndex:function(t){return t.index},arrangeLabels:function(){for(var t=this.options,e=this.labels,i=!t.justified,n=t.vertical,o=this.lineBox(),r=t.labels.mirror,a=this.getLabelsTickPositions(),s=this.getActualTickSize()+t.margin,l=0;l<e.length;l++){var c=e[l],u=this.labelTickIndex(c),h=n?c.box.height():c.box.width(),d=a[u]-h/2,f=void 0,p=void 0,m=void 0;if(n){if(i){p=a[u],m=a[u+1];var g=p+(m-p)/2;d=g-h/2}var w=o.x2;r?(w+=s,c.options.rotationOrigin=k):(w-=s+c.box.width(),c.options.rotationOrigin=y),f=c.box.move(w,d)}else{i?(p=a[u],m=a[u+1]):(p=d,m=d+h);var _=o.y1;r?(_-=s+c.box.height(),c.options.rotationOrigin=b):(_+=s,c.options.rotationOrigin=v),f=new xt(p,_,m,_+c.box.height())}c.reflow(f)}},autoRotateLabels:function(){if(this.options.autoRotateLabels&&!this.options.vertical){for(var t,e=this.getMajorTickPositions(),i=this.labels,n=0;n<i.length;n++){var o=Math.abs(e[n+1]-e[n]),r=i[n].box;if(r.width()>o){if(r.height()>o){t=-90;break}t=-45}}if(t){for(var a=0;a<i.length;a++)i[a].options.rotation=t,i[a].reflow(new xt);return!0}}},arrangeTitle:function(){var t=this.options,e=this.title,i=t.labels.mirror,n=t.vertical;e&&(n?(e.options.align=i?y:k,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=i?v:b),e.reflow(this.box))},arrangeNotes:function(){for(var t=0;t<this.notes.length;t++){var e=this.notes[t],i=e.options.value,n=void 0;at(i)?(this.shouldRenderNote(i)?e.show():e.hide(),n=this.noteSlot(i)):e.hide(),e.reflow(n||this.lineBox())}},noteSlot:function(t){return this.getSlot(t)},alignTo:function(t){var e=t.lineBox(),i=this.options.vertical,n=i?g:m;this.box.snapTo(e,n),i?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[n+1]-=this.lineBox()[n+1]-e[n+1],this.box[n+2]-=this.lineBox()[n+2]-e[n+2]},axisLabelText:function(t,e,i){var n=J(i),o=t;return n?o=n({value:t,dataItem:e,format:i.format,culture:i.culture}):i.format&&(o=this.chartService.format.localeAuto(i.format,[t],i.culture)),o},slot:function(t,e,i){var n=this.getSlot(t,e,i);if(n)return n.toRect()},contentBox:function(){var t=this.box.clone(),e=this.labels;if(e.length){e[0].options.visible&&t.wrap(e[0].box);var i=e[e.length-1];i.options.visible&&t.wrap(i.box)}return t},limitRange:function(t,e,i,n,o){var r=this.options;if(t<i&&o<0&&(!at(r.min)||r.min<=i)||n<e&&o>0&&(!at(r.max)||n<=r.max))return null;if(e<i&&o>0||n<t&&o<0)return{min:t,max:e};var a=e-t,s=t,l=e;return t<i?(s=ft(t,i,n),l=ft(t+a,i+a,n)):e>n&&(l=ft(e,i,n),s=ft(e-a,i,n-a)),{min:s,max:l}},valueRange:function(){return{min:this.seriesMin,max:this.seriesMax}}});yt(Gt,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:"#000",visible:!0},title:{visible:!0,position:w},majorTicks:{align:"outside",size:4,skip:0,step:1},minorTicks:{align:"outside",size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:"outside",minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:"#000",skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var Qt="milliseconds",Yt="seconds",Kt="minutes",Zt="hours",Xt="days",Jt="weeks",$t="months",te="years",ee=1e3,ie=60*ee,ne=60*ie,oe=24*ne,re=7*oe,ae=31*oe,se=365*oe,le={years:se,months:ae,weeks:re,days:oe,hours:ne,minutes:ie,seconds:ee,milliseconds:1};function ce(t,e){var i=t.getTime()-e,n=t.getTimezoneOffset()-e.getTimezoneOffset();return i-n*ie}function ue(t,e){return new Date(t.getTime()+e)}function he(t){var e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function de(t,e){void 0===e&&(e=0);var i=0,n=t.getDay();if(!isNaN(n))for(;n!==e;)0===n?n=6:n--,i++;return ue(t,-i*oe)}function fe(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function pe(t,e,i,n){var o=t;if(t){var r=he(t),a=r.getHours();i===te?fe(o=new Date(r.getFullYear()+e,0,1),0):i===$t?fe(o=new Date(r.getFullYear(),r.getMonth()+e,1),a):i===Jt?fe(o=pe(de(r,n),7*e,Xt),a):i===Xt?fe(o=new Date(r.getFullYear(),r.getMonth(),r.getDate()+e),a):i===Zt?o=function(t,e){var i=new Date(t);i.setMinutes(0,0,0);var n=(t.getTimezoneOffset()-i.getTimezoneOffset())*ie;return ue(i,n+e*ne)}(r,e):i===Kt?(o=ue(r,e*ie)).getSeconds()>0&&o.setSeconds(0):i===Yt?o=ue(r,e*ee):i===Qt&&(o=ue(r,e)),i!==Qt&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function me(t,e,i){return pe(he(t),0,e,i)}function ge(t,e,i){var n=he(t);return n&&me(n,e,i).getTime()===n.getTime()?n:pe(n,1,e,i)}function ve(t,e){return t&&e?t.getTime()-e.getTime():-1}function be(t,e){return t.getTime()-e}function ke(t){if(z(t)){for(var e=[],i=0;i<t.length;i++)e.push(ke(t[i]));return e}if(t)return he(t).getTime()}function ye(t,e){return t&&e?ke(t)===ke(e):t===e}function we(t,e,i){return ce(t,e)/le[i]}function _e(t,e,i,n){var o=he(t),r=he(e);return(i===$t?o.getMonth()-r.getMonth()+12*(o.getFullYear()-r.getFullYear())+we(o,new Date(o.getFullYear(),o.getMonth()),Xt)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():i===te?o.getFullYear()-r.getFullYear()+_e(o,new Date(o.getFullYear(),0),$t,1)/12:i===Xt||i===Jt?we(o,r,i):be(o,e)/le[i])/n}function xe(t,e,i){return i===te?e.getFullYear()-t.getFullYear():i===$t?12*xe(t,e,te)+e.getMonth()-t.getMonth():i===Xt?Math.floor(be(e,t)/oe):Math.floor(be(e,t)/le[i])}function Se(t,e){return P(e)&&t.parseDate(e)||he(e)}function Ce(t,e){if(z(e)){for(var i=[],n=0;n<e.length;n++)i.push(Se(t,e[n]));return i}return Se(t,e)}var Ae=Gt.extend({init:function(t,e){Gt.fn.init.call(this,t,e),this._ticks={},this._initCategories(this.options)},_initCategories:function(t){var e=(t.categories||[]).slice(0),i=at(t.min),n=at(t.max);if(t.categories=e,(i||n)&&e.length){t.srcCategories=t.categories;var o,r=i?Math.floor(t.min):0;o=n?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(r,o)}},rangeIndices:function(){var t,e=this.options,i=e.categories.length||1,n=O(e.min)?e.min%1:0;return t=O(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?i-(1-e.max%1):i-(e.justified?1:0),{min:n,max:t}},totalRangeIndices:function(t){var e,i=this.options,n=O(i.min)?i.min:0;if(e=O(i.max)?i.max:O(i.min)?n+i.categories.length:(i.srcCategories||i.categories).length-(i.justified?1:0)||1,t){var o=this.totalRange();n=ft(n,0,o.max),e=ft(e,0,o.max)}return{min:n,max:e}},range:function(){var t=this.options;return{min:O(t.min)?t.min:0,max:O(t.max)?t.max:t.categories.length}},totalRange:function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,(t.srcCategories||t.categories).length)-(t.justified?1:0)}},getScale:function(){var t=this.rangeIndices(),e=t.min,i=t.max,n=this.lineBox(),o=this.options.vertical?n.height():n.width(),r=o/(i-e||1);return r*(this.options.reverse?-1:1)},getTickPositions:function(t){for(var e=this.options,i=e.vertical,n=e.reverse,o=this.rangeIndices(),r=o.min,a=o.max,s=this.lineBox(),l=this.getScale(),c=s[(i?g:m)+(n?2:1)],u=[],h=r%1!=0?Math.floor(r/1)+t:r;h<=a;)u.push(c+gt(l*(h-r),_)),h+=t;return u},getLabelsTickPositions:function(){var t=this.getMajorTickPositions().slice(0),e=this.rangeIndices(),i=this.getScale(),n=this.lineBox(),o=this.options,r=o.vertical?g:m,a=o.reverse?2:1,s=o.reverse?1:2;return e.min%1!=0&&t.unshift(n[r+a]-i*(e.min%1)),e.max%1!=0&&t.push(n[r+s]+i*(1-e.max%1)),t},labelTickIndex:function(t){var e=this.rangeIndices(),i=t.index;return e.min>0&&(i-=Math.floor(e.min)),i},arrangeLabels:function(){Gt.fn.arrangeLabels.call(this),this.hideOutOfRangeLabels()},hideOutOfRangeLabels:function(){var t=this.box,e=this.labels;if(e.length){var i=this.options.vertical?g:m,n=t[i+1],o=t[i+2],r=e[0],a=dt(e);(r.box[i+1]>o||r.box[i+2]<n)&&(r.options.visible=!1),(a.box[i+1]>o||a.box[i+2]<n)&&(a.options.visible=!1)}},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var t=this.options,e=t.reverse,i=t.justified,n=this._ticks,o=this.rangeIndices(),r=this.lineBox(),a=r.getHash()+o.min+","+o.max+e+i;return n._hash!==a&&(n._hash=a,n.majorTicks=this.getTickPositions(1),n.minorTicks=this.getTickPositions(.5)),n},getSlot:function(t,e,i){var n=this.options,o=n.reverse,r=n.justified,a=n.vertical,s=this.rangeIndices(),l=s.min,c=a?g:m,u=this.lineBox(),h=this.getScale(),d=u[c+(o?2:1)],f=u.clone(),p=!at(e),v=bt(t,0),b=bt(e,v);b=Math.max(b-1,v),b=Math.max(v,b);var k=d+(v-l)*h,y=d+(b+1-l)*h;return p&&r&&(y=k),i&&(k=ft(k,u[c+1],u[c+2]),y=ft(y,u[c+1],u[c+2])),f[c+1]=o?y:k,f[c+2]=o?k:y,f},limitSlot:function(t){var e=this.options.vertical,i=e?g:m,n=this.lineBox(),o=t.clone();return o[i+1]=ft(t[i+1],n[i+1],n[i+2]),o[i+2]=ft(t[i+2],n[i+1],n[i+2]),o},slot:function(t,e,i){var n=t,o=e;return"string"==typeof n&&(n=this.categoryIndex(n)),"string"==typeof o&&(o=this.categoryIndex(o)),Gt.fn.slot.call(this,n,o,i)},pointCategoryIndex:function(t){var e=this.options,i=e.reverse,n=e.justified,o=e.vertical,r=o?g:m,a=this.lineBox(),s=this.rangeIndices(),l=i?s.max:s.min,c=this.getScale(),u=a[r+1],h=a[r+2],d=t[r];if(d<u||d>h)return null;var f=l+(d-u)/c,p=f%1;return n?f=Math.round(f):0===p&&f>0&&f--,Math.floor(f)},getCategory:function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},categoryIndex:function(t){var e=this.options,i=function(t,e){if(t instanceof Date){for(var i=e.length,n=0;n<i;n++)if(ye(e[n],t))return n;return-1}return e.indexOf(t)}(t,e.srcCategories||e.categories);return i-Math.floor(e.min||0)},translateRange:function(t){var e=this.options,i=this.lineBox(),n=e.vertical?i.height():i.width(),o=e.categories.length,r=n/o,a=gt(t/r,A);return{min:a,max:o+a}},zoomRange:function(t){var e=this.totalRangeIndices(),i=this.totalRange(),n=i.min,o=i.max,r=ft(e.min+t,n,o),a=ft(e.max-t,n,o);if(a-r>0)return{min:r,max:a}},scaleRange:function(t){var e=this.options.categories.length,i=t*e;return{min:-i,max:e+i}},labelsCount:function(){var t=this.labelsRange();return t.max-t.min},labelsRange:function(){var t=this.options,e=t.justified,i=t.labels,n=this.totalRangeIndices(!0),o=n.min,r=n.max,a=Math.floor(o);return e?(o=Math.ceil(o),r=Math.floor(r)):(o=Math.floor(o),r=Math.ceil(r)),{min:(o>i.skip?i.skip+i.step*Math.ceil((o-i.skip)/i.step):i.skip)-a,max:(t.categories.length?r+(e?1:0):0)-a}},createAxisLabel:function(t,e){var i=this.options,n=i.dataItems?i.dataItems[t]:null,o=bt(i.categories[t],""),r=this.axisLabelText(o,n,e);return new Vt(o,r,t,n,e)},shouldRenderNote:function(t){var e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},noteSlot:function(t){var e=this.options,i=t-Math.floor(e.min||0);return this.getSlot(i)},arrangeNotes:function(){Gt.fn.arrangeNotes.call(this),this.hideOutOfRangeNotes()},hideOutOfRangeNotes:function(){var t=this.notes,e=this.box;if(t&&t.length)for(var i=this.options.vertical?g:m,n=e[i+1],o=e[i+2],r=0;r<t.length;r++){var a=t[r];a.box&&(o<a.box[i+1]||a.box[i+2]<n)&&a.hide()}},pan:function(t){var e=this.totalRangeIndices(!0),i=this.getScale(),n=gt(t/i,A),o=this.totalRange(),r=e.min+n,a=e.max+n;return this.limitRange(r,a,0,o.max,n)},pointsRange:function(t,e){var i=this.options,n=i.reverse,o=i.vertical,r=o?g:m,a=this.lineBox(),s=this.totalRangeIndices(!0),l=this.getScale(),c=a[r+(n?2:1)],u=t[r]-c,h=e[r]-c,d=s.min+u/l,f=s.min+h/l,p=Math.min(d,f),v=Math.max(d,f);if(v-p>=.01)return{min:p,max:v}},valueRange:function(){return this.range()}});yt(Ae,{type:"category",categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:"#000"},labels:{zIndex:1},justified:!1,_deferLabels:!0});var Te=3e5,je={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Me=.2,ze=[Qt,Yt,Kt,Zt,Xt,Jt,$t,te],Ee=Ae.extend({init:function(t,e){Ae.fn.init.call(this,t,e);var i=e.intl,n=this.options;if((n=d({roundToBaseUnit:!0},n,{categories:Ce(i,n.categories),min:Se(i,n.min),max:Se(i,n.max)})).userSetBaseUnit=n.userSetBaseUnit||n.baseUnit,n.userSetBaseUnitStep=n.userSetBaseUnitStep||n.baseUnitStep,n.categories&&n.categories.length>0){var o=(n.baseUnit||"").toLowerCase(),r="fit"!==o&&!tt(o,ze);r&&(n.baseUnit=this.defaultBaseUnit(n)),"fit"!==o&&"auto"!==n.baseUnitStep||this.autoBaseUnit(n),this._groupsStart=pe(n.categories[0],0,n.baseUnit,n.weekStartDay),this.groupCategories(n)}else n.baseUnit=n.baseUnit||Xt;this.options=n},_initCategories:function(){},shouldRenderNote:function(t){var e=this.range(),i=this.options.categories||[];return ve(t,e.min)>=0&&ve(t,e.max)<=0&&i.length},parseNoteValue:function(t){return Se(this.chartService.intl,t)},noteSlot:function(t){return this.getSlot(t)},translateRange:function(t){var e=this.options,i=e.baseUnit,n=e.weekStartDay,o=e.vertical,r=this.lineBox(),a=o?r.height():r.width(),s=this.range(),l=a/(s.max-s.min),c=gt(t/l,A);if(s.min&&s.max){var u=ue(e.min||s.min,c),h=ue(e.max||s.max,c);s={min:pe(u,0,i,n),max:pe(h,0,i,n)}}return s},scaleRange:function(t){var e=Math.abs(t),i=this.range(),n=i.min,o=i.max;if(n&&o){for(;e--;){var r=be(n,o),a=Math.round(.1*r);t<0?(n=ue(n,a),o=ue(o,-a)):(n=ue(n,-a),o=ue(o,a))}i={min:n,max:o}}return i},defaultBaseUnit:function(t){for(var e,i,n=t.categories,o=at(n)?n.length:0,r=x,a=0;a<o;a++){var s=n[a];if(s&&e){var l=ce(s,e);l>0&&(r=Math.min(r,l),i=r>=se?te:r>=ae-3*oe?$t:r>=re?Jt:r>=oe?Xt:r>=ne?Zt:r>=ie?Kt:Yt)}e=s}return i||Xt},_categoryRange:function(t){var e=t._range;return e||(e=t._range=wt(t)),e},totalRange:function(){return{min:0,max:this.options.categories.length}},rangeIndices:function(){var t=this.options,e=t.categories,i=t.baseUnit,n=t.baseUnitStep||1,o=this.categoriesRange(),r=he(t.min||o.min),a=he(t.max||o.max),s=0,l=0;return e.length&&(s=_e(r,e[0],i,n),l=_e(a,e[0],i,n),t.roundToBaseUnit&&(s=Math.floor(s),l=t.justified?Math.floor(l):Math.ceil(l))),{min:s,max:l}},labelsRange:function(){var t=this.options,e=t.labels,i=this.rangeIndices(),n=Math.floor(i.min),o=Math.ceil(i.max);return{min:n+e.skip,max:t.categories.length?o+(t.justified?1:0):0}},categoriesRange:function(){var t=this.options,e=this._categoryRange(t.srcCategories||t.categories),i=he(e.max);return!t.justified&&ye(i,this._roundToTotalStep(i,t,!1))&&(i=this._roundToTotalStep(i,t,!0,!0)),{min:he(e.min),max:i}},currentRange:function(){var t=this.options,e=!1!==t.roundToBaseUnit,i=this.categoriesRange(),n=t.min,o=t.max;return n||(n=e?this._roundToTotalStep(i.min,t,!1):i.min),o||(o=e?this._roundToTotalStep(i.max,t,!t.justified):i.max),{min:n,max:o}},datesRange:function(){var t=this._categoryRange(this.options.srcCategories||this.options.categories);return{min:he(t.min),max:he(t.max)}},pan:function(t){var e=this.options,i=this.lineBox(),n=e.vertical?i.height():i.width(),o=this.currentRange(),r=o.min,a=o.max,s=this.totalLimits(),l=n/(a-r),c=gt(t/l,A),u=ue(r,c),h=ue(a,c),d=this.limitRange(ke(u),ke(h),ke(s.min),ke(s.max),c);if(d)return d.min=he(d.min),d.max=he(d.max),d.baseUnit=e.baseUnit,d.baseUnitStep=e.baseUnitStep||1,d.userSetBaseUnit=e.userSetBaseUnit,d.userSetBaseUnitStep=e.userSetBaseUnitStep,d},pointsRange:function(t,e){var i=Ae.fn.pointsRange.call(this,t,e),n=this.currentRange(),o=this.rangeIndices(),r=be(n.max,n.min)/(o.max-o.min),a=this.options,s=ue(n.min,i.min*r),l=ue(n.min,i.max*r);return{min:s,max:l,baseUnit:a.userSetBaseUnit,baseUnitStep:a.userSetBaseUnitStep}},zoomRange:function(t){var e=this.options,i=this.totalLimits(),n=e.weekStartDay,o=e.baseUnit,r=e.baseUnitStep||1,a=this.currentRange(),s=a.min,l=a.max,c=pe(s,t*r,o,n),u=pe(l,-t*r,o,n);if("fit"===e.userSetBaseUnit){var h,d,f=e.autoBaseUnitSteps,p=e.maxDateGroups,m=dt(f[o])*p*le[o],g=be(l,s),v=be(u,c),b=ze.indexOf(o);if(v<le[o]&&o!==Qt)o=ze[b-1],h=dt(f[o]),d=(g-(p-1)*h*le[o])/2,c=ue(s,d),u=ue(l,-d);else if(v>m&&o!==te){var k=0;do{o=ze[++b],k=0,d=2*le[o];do{h=f[o][k],k++}while(k<f[o].length&&d*h<g)}while(o!==te&&d*h<g);(d=(d*h-g)/2)>0&&(c=ue(s,-d),u=ue(l,d),c=ue(c,ft(u,i.min,i.max)-u),u=ue(u,ft(c,i.min,i.max)-c))}}if(c=he(ft(c,i.min,i.max)),u=he(ft(u,i.min,i.max)),c&&u&&be(u,c)>0)return{min:c,max:u,baseUnit:e.userSetBaseUnit,baseUnitStep:e.userSetBaseUnitStep}},totalLimits:function(){var t=this.options,e=this.datesRange(),i=this._roundToTotalStep(he(e.min),t,!1),n=e.max;return t.justified||(n=this._roundToTotalStep(n,t,!0,ye(n,this._roundToTotalStep(n,t,!1)))),{min:i,max:n}},range:function(t){var e=t||this.options,i=e.categories,n="fit"===e.baseUnit,o=n?ze[0]:e.baseUnit,r=e.baseUnitStep||1,a={baseUnit:o,baseUnitStep:r,weekStartDay:e.weekStartDay},s=this._categoryRange(i),l=he(e.min||s.min),c=he(e.max||s.max);return{min:this._roundToTotalStep(l,a,!1),max:this._roundToTotalStep(c,a,!0,!0)}},autoBaseUnit:function(t){for(var e,i,n,o=this._categoryRange(t.categories),r=he(t.max||o.max)-he(t.min||o.min),a=t.maxDateGroups||this.options.maxDateGroups,s="fit"===t.baseUnit,l=0,c=s?ze[l++]:t.baseUnit,u=r/le[c],h=u,f=d({},this.options.autoBaseUnitSteps,t.autoBaseUnitSteps);!i||u>=a;)if(e=e||f[c].slice(0),n=e.shift())u=h/(i=n);else{if(c===dt(ze)){i=Math.ceil(h/a);break}if(!s){u>a&&(i=Math.ceil(h/a));break}c=ze[l++]||dt(ze),h=r/le[c],e=null}t.baseUnitStep=i,t.baseUnit=c},groupCategories:function(t){for(var e,i=t.categories,n=t.baseUnit,o=t.baseUnitStep||1,r=he(wt(i).max),a=this.range(t),s=a.min,l=a.max,c=[],u=s;u<l&&(c.push(u),!((e=pe(u,o,n,t.weekStartDay))>r)||t.max);u=e);t.srcCategories=i,t.categories=c},_roundToTotalStep:function(t,e,i,n){var o=e||this.options,r=o.baseUnit,a=o.baseUnitStep||1,s=this._groupsStart;if(s){var l=_e(t,s,r,a),c=i?Math.ceil(l):Math.floor(l);return n&&c++,pe(s,c*a,r,o.weekStartDay)}return pe(t,i?a:0,r,o.weekStartDay)},createAxisLabel:function(t,e){var i=this.options,n=i.dataItems?i.dataItems[t]:null,o=i.categories[t],r=i.baseUnit,a=e.dateFormats[r],s=!0;if(i.justified){var l=me(o,r,i.weekStartDay);s=ye(l,o)}else i.roundToBaseUnit||(s=!ye(this.range().max,o));if(s){e.format=e.format||a;var c=this.axisLabelText(o,n,e);if(c)return new Vt(o,c,t,n,e)}},categoryIndex:function(t){var e=this.options,i=e.categories,n=-1;return i.length&&(n=Math.floor(_e(he(t),i[0],e.baseUnit,e.baseUnitStep||1))),n},getSlot:function(t,e,i){var n=t,o=e;return"object"==typeof n&&(n=this.categoryIndex(n)),"object"==typeof o&&(o=this.categoryIndex(o)),Ae.fn.getSlot.call(this,n,o,i)},valueRange:function(){var t=this.options,e=this._categoryRange(t.srcCategories||t.categories);return{min:he(e.min),max:he(e.max)}}});function Ie(t,e){var i=gt(e-t,A-1);if(0===i){if(0===e)return.1;i=Math.abs(e)}var n=Math.pow(10,Math.floor(Math.log(i)/Math.log(10))),o=gt(i/n,A);return gt(n*(o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2),A)}function De(t,e){return gt(Math.floor(t/e)*e,A)}function Oe(t,e){return gt(Math.ceil(t/e)*e,A)}function Pe(t){return Math.max(Math.min(t,Te),-Te)}yt(Ee,{type:"date",labels:{dateFormats:je},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var Re=Math.pow(10,1-A),Le=Gt.extend({init:function(t,e,i,n){var o=function(t,e,i){var n=i.narrowRange,o=function(t,e,i){if(!t&&!e)return 0;var n;if(t>=0&&e>=0){var o=t===e?0:t,r=(e-o)/e;if(!1===i||!i&&r>Me)return 0;n=Math.max(0,o-(e-o)/2)}else n=t;return n}(t,e,n),r=function(t,e,i){if(!t&&!e)return 1;var n;if(t<=0&&e<=0){var o=t===e?0:e,r=Math.abs((o-t)/o);if(!1===i||!i&&r>Me)return 0;n=Math.min(0,o-(t-o)/2)}else n=e;return n}(t,e,n),a=Ie(o,r),s={majorUnit:a};return!1!==i.roundToMajorUnit&&(o<0&&Fe(o,a,1/3)&&(o-=a),r>0&&Fe(r,a,1/3)&&(r+=a)),s.min=De(o,a),s.max=Oe(r,a),s}(t,e,i),r=function(t,e){return{min:at(e.min)?Math.min(t.min,e.min):t.min,max:at(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}(o,i);Gt.fn.init.call(this,function(t,e){var i,n,o=e;if(e){i=at(e.min),n=at(e.max);var r=i||n;r&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=De(t.min,e.majorUnit),t.max=Oe(t.max,e.majorUnit)):r&&(o=d(t,e),t.majorUnit=Ie(o.min,o.max))}t.minorUnit=(o.majorUnit||t.majorUnit)/5;var a=d(t,o);return a.min>=a.max&&(i&&!n?a.max=a.min+a.majorUnit:!i&&n&&(a.min=a.max-a.majorUnit)),a}(o,i),n),this.totalMin=r.min,this.totalMax=r.max,this.totalMajorUnit=r.majorUnit,this.seriesMin=t,this.seriesMax=e},startValue:function(){return 0},range:function(){var t=this.options;return{min:t.min,max:t.max}},getDivisions:function(t){if(0===t)return 1;var e=this.options,i=e.max-e.min;return Math.floor(gt(i/t,_))+1},getTickPositions:function(t,e){var i=this.options,n=i.vertical,o=i.reverse,r=this.lineBox(),a=n?r.height():r.width(),s=i.max-i.min,l=a/s,c=t*l,u=this.getDivisions(t),h=(n?-1:1)*(o?-1:1),d=1===h?1:2,f=[],p=r[(n?g:m)+d],v=0;e&&(v=e/t);for(var b=0;b<u;b++)b%v!=0&&f.push(gt(p,_)),p+=c*h;return f},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(t,e,i){void 0===i&&(i=!1);var n,o,r=this.options,a=r.vertical,s=r.reverse,l=a?g:m,c=this.lineBox(),u=c[l+(s?2:1)],h=a?c.height():c.width(),d=s?-1:1,f=d*(h/(r.max-r.min)),p=new xt(c.x1,c.y1,c.x1,c.y1),v=t,b=e;return at(v)||(v=b||0),at(b)||(b=v||0),i&&(v=Math.max(Math.min(v,r.max),r.min),b=Math.max(Math.min(b,r.max),r.min)),a?(n=r.max-Math.max(v,b),o=r.max-Math.min(v,b)):(n=Math.min(v,b)-r.min,o=Math.max(v,b)-r.min),p[l+1]=Pe(u+f*(s?o:n)),p[l+2]=Pe(u+f*(s?n:o)),p},getValue:function(t){var e=this.options,i=e.vertical,n=e.reverse,o=Number(e.max),r=Number(e.min),a=i?g:m,s=this.lineBox(),l=s[a+(n?2:1)],c=i?s.height():s.width(),u=n?-1:1,h=u*(t[a]-l),d=(o-r)/c,f=h*d;if(h<0||h>c)return null;var p=i?o-f:r+f;return gt(p,A)},translateRange:function(t){var e=this.options,i=e.vertical,n=e.reverse,o=e.max,r=e.min,a=this.lineBox(),s=i?a.height():a.width(),l=o-r,c=s/l,u=gt(t/c,A);return!i&&!n||i&&n||(u=-u),{min:r+u,max:o+u}},scaleRange:function(t){var e=this.options,i=-t*e.majorUnit;return{min:e.min-i,max:e.max+i}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,e){var i=this.options,n=gt(i.min+t*i.majorUnit,A),o=this.axisLabelText(n,null,e);return new Vt(n,o,t,null,e)},shouldRenderNote:function(t){var e=this.range();return e.min<=t&&t<=e.max},pan:function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax)},pointsRange:function(t,e){var i=this.getValue(t),n=this.getValue(e),o=Math.min(i,n),r=Math.max(i,n);if(this.isValidRange(o,r))return{min:o,max:r}},zoomRange:function(t){var e=this.totalMin,i=this.totalMax,n=this.scaleRange(t),o=ft(n.min,e,i),r=ft(n.max,e,i);if(this.isValidRange(o,r))return{min:o,max:r}},isValidRange:function(t,e){return e-t>Re}});function Fe(t,e,i){var n=gt(Math.abs(t%e),A),o=e*(1-i);return 0===n||n>o}yt(Le,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:"#000"},labels:{format:"#.####################"},zIndex:1});var Ne=Gt.extend({init:function(t,e,i,n){var o=he(t),r=he(e),a=n.intl,s=i||{};s=d(s||{},{min:Se(a,s.min),max:Se(a,s.max),axisCrossingValue:Ce(a,s.axisCrossingValues||s.axisCrossingValue)}),s=function(t,e,i){var n=i.min||t,o=i.max||e,r=i.baseUnit||(o&&n?function(t){var e=Zt;return t>=se?e=te:t>=ae?e=$t:t>=re?e=Jt:t>=oe&&(e=Xt),e}(ce(o,n)):Zt),a=le[r],s=me(ke(n)-1,r)||he(o),l=ge(ke(o)+1,r),c=(i.majorUnit?i.majorUnit:void 0)||Oe(Ie(s.getTime(),l.getTime()),a)/a,u=xe(s,l,r),h=Oe(u,c)-u,d=Math.floor(h/2),f=h-d;return i.baseUnit||delete i.baseUnit,i.baseUnit=i.baseUnit||r,i.min=i.min||pe(s,-d,r),i.max=i.max||pe(l,f,r),i.minorUnit=i.minorUnit||c/5,i.majorUnit=c,i}(o,r,s),Gt.fn.init.call(this,s,n),this.intlService=a,this.seriesMin=o,this.seriesMax=r,this.totalMin=ke(me(ke(o)-1,s.baseUnit)),this.totalMax=ke(ge(ke(r)+1,s.baseUnit))},range:function(){var t=this.options;return{min:t.min,max:t.max}},getDivisions:function(t){var e=this.options;return Math.floor(xe(e.min,e.max,e.baseUnit)/t+1)},getTickPositions:function(t){for(var e=this.options,i=e.vertical,n=this.lineBox(),o=(i?-1:1)*(e.reverse?-1:1),r=1===o?1:2,a=n[(i?g:m)+r],s=this.getDivisions(t),l=be(e.max,e.min),c=i?n.height():n.width(),u=c/l,h=[a],d=1;d<s;d++){var f=pe(e.min,d*t,e.baseUnit),p=a+be(f,e.min)*u*o;h.push(gt(p,_))}return h},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(t,e,i){return Le.prototype.getSlot.call(this,Se(this.intlService,t),Se(this.intlService,e),i)},getValue:function(t){var e=Le.prototype.getValue.call(this,t);return null!==e?he(e):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,e){var i=this.options,n=t*i.majorUnit,o=i.min;n>0&&(o=pe(o,n,i.baseUnit));var r=e.dateFormats[i.baseUnit];e.format=e.format||r;var a=this.axisLabelText(o,null,e);return new Vt(o,a,t,null,e)},translateRange:function(t,e){var i=this.options,n=i.baseUnit,o=i.weekStartDay,r=this.lineBox(),a=i.vertical?r.height():r.width(),s=this.range(),l=a/be(s.max,s.min),c=gt(t/l,A),u=ue(i.min,c),h=ue(i.max,c);return e||(u=pe(u,0,n,o),h=pe(h,0,n,o)),{min:u,max:h}},scaleRange:function(t){for(var e=this.options,i=e.min,n=e.max,o=Math.abs(t);o--;){var r=be(i,n),a=Math.round(.1*r);t<0?(i=ue(i,a),n=ue(n,-a)):(i=ue(i,-a),n=ue(n,a))}return{min:i,max:n}},shouldRenderNote:function(t){var e=this.range();return ve(t,e.min)>=0&&ve(t,e.max)<=0},pan:function(t){var e=this.translateRange(t,!0),i=this.limitRange(ke(e.min),ke(e.max),this.totalMin,this.totalMax);if(i)return{min:he(i.min),max:he(i.max)}},pointsRange:function(t,e){var i=this.getValue(t),n=this.getValue(e),o=Math.min(i,n),r=Math.max(i,n);return{min:he(o),max:he(r)}},zoomRange:function(t){var e=this.scaleRange(t),i=he(ft(ke(e.min),this.totalMin,this.totalMax)),n=he(ft(ke(e.max),this.totalMin,this.totalMax));return{min:i,max:n}}});yt(Ne,{type:"date",majorGridLines:{visible:!0,width:1,color:"#000"},labels:{dateFormats:je}});var Be=Gt.extend({init:function(t,e,i,n){var o=d({majorUnit:10,min:t,max:e},i),r=o.majorUnit,a=function(t,e){var i=gt(Ve(t,e),A)%1;return t<=0?e:0!==i&&(i<.3||i>.9)?Math.pow(e,Ve(t,e)+.2):Math.pow(e,Math.ceil(Ve(t,e)))}(e,r),s=function(t,e,i){var n=i.majorUnit,o=t;return t<=0?o=e<=1?Math.pow(n,-2):1:i.narrowRange||(o=Math.pow(n,Math.floor(Ve(t,n)))),o}(t,e,o),l=function(t,e,i,n){var o=i.min,r=i.max;return at(i.axisCrossingValue)&&i.axisCrossingValue<=0&&qe(),at(n.max)?n.max<=0&&qe():r=e,at(n.min)?n.min<=0&&qe():o=t,{min:o,max:r}}(s,a,o,i);o.max=l.max,o.min=l.min,o.minorUnit=i.minorUnit||gt(r-1,A),Gt.fn.init.call(this,o,n),this.totalMin=at(i.min)?Math.min(s,i.min):s,this.totalMax=at(i.max)?Math.max(a,i.max):a,this.logMin=gt(Ve(l.min,r),A),this.logMax=gt(Ve(l.max,r),A),this.seriesMin=t,this.seriesMax=e,this.createLabels()},startValue:function(){return this.options.min},getSlot:function(t,e,i){var n,o,r=this.options,a=this.logMin,s=this.logMax,l=r.reverse,c=r.vertical,u=r.majorUnit,h=c?g:m,d=this.lineBox(),f=d[h+(l?2:1)],p=c?d.height():d.width(),v=l?-1:1,b=v*(p/(s-a)),k=new xt(d.x1,d.y1,d.x1,d.y1),y=t,w=e;return at(y)||(y=w||1),at(w)||(w=y||1),y<=0||w<=0?null:(i&&(y=Math.max(Math.min(y,r.max),r.min),w=Math.max(Math.min(w,r.max),r.min)),y=Ve(y,u),w=Ve(w,u),c?(n=s-Math.max(y,w),o=s-Math.min(y,w)):(n=Math.min(y,w)-a,o=Math.max(y,w)-a),k[h+1]=Pe(f+b*(l?o:n)),k[h+2]=Pe(f+b*(l?n:o)),k)},getValue:function(t){var e=this.options,i=this.logMin,n=this.logMax,o=e.reverse,r=e.vertical,a=e.majorUnit,s=this.lineBox(),l=r===o?1:-1,c=1===l?1:2,u=r?s.height():s.width(),h=(n-i)/u,d=r?g:m,f=s[d+c],p=l*(t[d]-f),v=p*h;if(p<0||p>u)return null;var b=i+v;return gt(Math.pow(a,b),A)},range:function(){var t=this.options;return{min:t.min,max:t.max}},scaleRange:function(t){var e=this.options.majorUnit,i=-t;return{min:Math.pow(e,this.logMin-i),max:Math.pow(e,this.logMax+i)}},translateRange:function(t){var e=this.options,i=this.logMin,n=this.logMax,o=e.reverse,r=e.vertical,a=e.majorUnit,s=this.lineBox(),l=r?s.height():s.width(),c=l/(n-i),u=gt(t/c,A);return!r&&!o||r&&o||(u=-u),{min:Math.pow(a,i+u),max:Math.pow(a,n+u)}},labelsCount:function(){var t=Math.floor(this.logMax),e=Math.floor(t-this.logMin)+1;return e},getMajorTickPositions:function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},{step:1,skip:0}),t},createTicks:function(t){var e=this.options,i=e.majorTicks,n=e.minorTicks,o=e.vertical,r=e.labels.mirror,a=this.lineBox(),s={vertical:o};function l(e,i){s.tickX=r?a.x2:a.x2-i.size,s.tickY=r?a.y1-i.size:a.y1,s.position=e,t.append(Ut(s,i))}return i.visible&&this.traverseMajorTicksPositions(l,i),n.visible&&this.traverseMinorTicksPositions(l,n),[]},createGridLines:function(t){var e=this.options,i=e.minorGridLines,n=e.majorGridLines,o=e.vertical,r=t.lineBox(),a={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},s=[],l=this.gridLinesVisual();function c(t,e){tt(t,s)||(a.position=t,l.append(Wt(a,e)),s.push(t))}return n.visible&&this.traverseMajorTicksPositions(c,n),i.visible&&this.traverseMinorTicksPositions(c,i),l.children},traverseMajorTicksPositions:function(t,e){for(var i=this._lineOptions(),n=i.lineStart,o=i.step,r=this.logMin,a=this.logMax,s=Math.ceil(r)+e.skip;s<=a;s+=e.step){var l=gt(n+o*(s-r),A);t(l,e)}},traverseMinorTicksPositions:function(t,e){for(var i=this.options,n=i.min,o=i.max,r=i.minorUnit,a=i.majorUnit,s=this._lineOptions(),l=s.lineStart,c=s.step,u=this.logMin,h=this.logMax,d=Math.floor(u),f=d;f<h;f++)for(var p=this._minorIntervalOptions(f),m=e.skip;m<r;m+=e.step){var g=p.value+m*p.minorStep;if(g>o)break;if(g>=n){var v=gt(l+c*(Ve(g,a)-u),A);t(v,e)}}},createAxisLabel:function(t,e){var i=Math.ceil(this.logMin+t),n=Math.pow(this.options.majorUnit,i),o=this.axisLabelText(n,null,e);return new Vt(n,o,t,null,e)},shouldRenderNote:function(t){var e=this.range();return e.min<=t&&t<=e.max},pan:function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,-t)},pointsRange:function(t,e){var i=this.getValue(t),n=this.getValue(e),o=Math.min(i,n),r=Math.max(i,n);return{min:o,max:r}},zoomRange:function(t){var e=this.options,i=this.totalMin,n=this.totalMax,o=this.scaleRange(t),r=ft(o.min,i,n),a=ft(o.max,i,n),s=e.majorUnit,l=a>r&&e.min&&e.max&&gt(Ve(e.max,s)-Ve(e.min,s),A)<1,c=!(e.min===i&&e.max===n)&&gt(Ve(a,s)-Ve(r,s),A)>=1;if(l||c)return{min:r,max:a}},_minorIntervalOptions:function(t){var e=this.options,i=e.minorUnit,n=e.majorUnit,o=Math.pow(n,t),r=Math.pow(n,t+1),a=r-o,s=a/i;return{value:o,minorStep:s}},_lineOptions:function(){var t=this.options,e=t.reverse,i=t.vertical,n=i?g:m,o=this.lineBox(),r=i===e?1:-1,a=1===r?1:2,s=i?o.height():o.width(),l=r*(s/(this.logMax-this.logMin)),c=o[n+a];return{step:l,lineStart:c,lineBox:o}}});function qe(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Ve(t,e){return Math.log(t)/Math.log(e)}yt(Be,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:"#000"},zIndex:1,_deferLabels:!0});var He={createGridLines:function(t){var e,i,n=this.options,o=Math.abs(this.box.center().y-t.lineBox().y1),r=[],a=!1;return n.majorGridLines.visible&&(e=this.majorGridLineAngles(t),a=!0,r=this.renderMajorGridLines(e,o,n.majorGridLines)),n.minorGridLines.visible&&(i=this.minorGridLineAngles(t,a),ot(r,this.renderMinorGridLines(i,o,n.minorGridLines,t,a))),r},renderMajorGridLines:function(t,e,i){return this.renderGridLines(t,e,i)},renderMinorGridLines:function(t,e,i,n,o){var r=this.radiusCallback&&this.radiusCallback(e,n,o);return this.renderGridLines(t,e,i,r)},renderGridLines:function(t,e,i,o){for(var r={stroke:{width:i.width,color:i.color,dashType:i.dashType}},a=this.box.center(),s=new l([a.x,a.y],e),c=this.gridLinesVisual(),u=0;u<t.length;u++){var h=new n(r);o&&(s.radius=o(t[u])),h.moveTo(s.center).lineTo(s.pointAt(t[u]+180)),c.append(h)}return c.children},gridLineAngles:function(t,e,i,n,o){var r=this,a=this.intervals(e,i,n,o),s=t.options,l=s.visible&&!1!==(s.line||{}).visible;return it(a,function(t){var e=r.intervalAngle(t);if(!l||90!==e)return e})}},Ue=Ae.extend({range:function(){return{min:0,max:this.options.categories.length}},reflow:function(t){this.box=t,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){for(var t=this.labels,e=this.options.labels,i=e.skip||0,n=e.step||1,o=new xt,r=0;r<t.length;r++){t[r].reflow(o);var a=t[r].box;t[r].reflow(this.getSlot(i+r*n).adjacentBox(0,a.width(),a.height()))}},intervals:function(t,e,i,n){void 0===n&&(n=!1);for(var o=this.options,r=o.categories.length,a=r/t||1,s=360/a,l=e||0,c=i||1,u=[],h=0,d=l;d<a;d+=c)h=o.reverse?360-d*s:d*s,h=gt(h,_)%360,n&&tt(h,n)||u.push(h);return u},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(t){return(360+t+this.options.startAngle)%360},majorAngles:function(){var t=this;return it(this.majorIntervals(),function(e){return t.intervalAngle(e)})},createLine:function(){return[]},majorGridLineAngles:function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},minorGridLineAngles:function(t,e){var i=this.options,n=i.minorGridLines,o=i.majorGridLines,r=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(t,.5,n.skip,n.step,r)},radiusCallback:function(t,e,i){if("arc"!==e.options.type){var n=mt(360/(2*this.options.categories.length)),o=Math.cos(n)*t,r=this.majorAngles();return function(e){return!i&&tt(e,r)?t:o}}},createPlotBands:function(){for(var t=this.options.plotBands||[],e=this._plotbandGroup=new o({zIndex:-1}),i=0;i<t.length;i++){var n=t[i],r=this.plotBandSlot(n),a=this.getSlot(n.from),s=n.from-Math.floor(n.from);r.startAngle+=s*a.angle;var l=Math.ceil(n.to)-n.to;r.angle-=(l+s)*a.angle;var c=jt.current.createRing(r,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});e.append(c)}this.appendVisual(e)},plotBandSlot:function(t){return this.getSlot(t.from,t.to-1)},getSlot:function(t,e){var i=this.options,n=i.justified,o=this.box,r=this.majorAngles(),a=r.length,s=360/a,l=t;i.reverse&&!n&&(l=(l+1)%a),l=ft(Math.floor(l),0,a-1);var c=r[l];n&&(c-=s/2)<0&&(c+=360);var u=ft(Math.ceil(e||l),l,a-1),h=u-l+1,d=s*h;return new Ct(o.center(),0,o.height()/2,c,d)},slot:function(t,e){var i=this.getSlot(t,e),n=i.startAngle+180,o=n+i.angle;return new a.Arc([i.center.x,i.center.y],{startAngle:n,endAngle:o,radiusX:i.radius,radiusY:i.radius})},pointCategoryIndex:function(t){for(var e=this.options.categories.length,i=null,n=0;n<e;n++){var o=this.getSlot(n);if(o.containsPoint(t)){i=n;break}}return i}});yt(Ue,{startAngle:90,labels:{margin:B(10)},majorGridLines:{visible:!0},justified:!0}),d(Ue.prototype,He);var We=Gt.extend({init:function(t,e){Gt.fn.init.call(this,t,e);var i=this.options;i.minorUnit=i.minorUnit||i.majorUnit/2},getDivisions:function(t){return Le.prototype.getDivisions.call(this,t)-1},reflow:function(t){this.box=t,this.reflowLabels()},reflowLabels:function(){for(var t=this.options,e=this.labels,i=this.options.labels,n=i.skip||0,o=i.step||1,r=new xt,a=this.intervals(t.majorUnit,n,o),s=0;s<e.length;s++){e[s].reflow(r);var l=e[s].box;e[s].reflow(this.getSlot(a[s]).adjacentBox(0,l.width(),l.height()))}},lineBox:function(){return this.box},intervals:function(t,e,i,n){void 0===n&&(n=!1);for(var o=this.options.min,r=this.getDivisions(t),a=[],s=e||0,l=i||1,c=s;c<r;c+=l){var u=(360+o+c*t)%360;n&&tt(u,n)||a.push(u)}return a},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(t){return(540-t-this.options.startAngle)%360},createLine:function(){return[]},majorGridLineAngles:function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},minorGridLineAngles:function(t,e){var i=this.options,n=i.minorGridLines,o=i.majorGridLines,r=e?this.intervals(i.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,i.minorUnit,n.skip,n.step,r)},plotBandSlot:function(t){return this.getSlot(t.from,t.to)},getSlot:function(t,e){var i=this.options,n=this.box,o=i.startAngle,r=ft(t,i.min,i.max),a=ft(e||r,r,i.max);if(i.reverse&&(r*=-1,a*=-1),(a=(540-a-o)%360)<(r=(540-r-o)%360)){var s=r;r=a,a=s}return new Ct(n.center(),0,n.height()/2,r,a-r)},slot:function(t,e){void 0===e&&(e=t);var i,n,o=this.options,r=360-o.startAngle,s=this.getSlot(t,e),l=Math.min(t,e),c=Math.max(t,e);return o.reverse?(i=l,n=c):(i=360-c,n=360-l),i=(i+r)%360,n=(n+r)%360,new a.Arc([s.center.x,s.center.y],{startAngle:i,endAngle:n,radiusX:s.radius,radiusY:s.radius})},getValue:function(t){var e=this.options,i=this.box.center(),n=t.x-i.x,o=t.y-i.y,r=Math.round(st(Math.atan2(o,n))),a=e.startAngle;return e.reverse||(r*=-1,a*=-1),(r+a+360)%360},valueRange:function(){return{min:0,max:2*Math.PI}}});yt(We,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:B(10)},majorGridLines:{color:"#000",visible:!0,width:1},minorGridLines:{color:"#aaa"}}),d(We.prototype,He,{createPlotBands:Ue.prototype.createPlotBands,majorAngles:Ue.prototype.majorAngles,range:Le.prototype.range,labelsCount:Le.prototype.labelsCount,createAxisLabel:Le.prototype.createAxisLabel});var Ge={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this.options,e=t.majorGridLines.type,i=t.plotBands;void 0===i&&(i=[]);for(var r=this.plotArea.polarAxis,a=r.majorAngles(),s=r.box.center(),l=this._plotbandGroup=new o({zIndex:-1}),c=0;c<i.length;c++){var u=i[c],h={fill:{color:u.color,opacity:u.opacity},stroke:{opacity:u.opacity}},d=this.getSlot(u.from,u.to,!0),f=new Ct(s,s.y-d.y2,s.y-d.y1,0,360),p=void 0;p="arc"===e?jt.current.createRing(f,h):n.fromPoints(this.plotBandPoints(f,a),h).close(),l.append(p)}this.appendVisual(l)},plotBandPoints:function(t,e){for(var i=[],n=[],o=[t.center.x,t.center.y],r=new l(o,t.innerRadius),a=new l(o,t.radius),s=0;s<e.length;s++)i.push(r.pointAt(e[s]+180)),n.push(a.pointAt(e[s]+180));return i.reverse(),i.push(i[0]),n.push(n[0]),n.concat(i)},createGridLines:function(t){var e=this.options,i=this.radarMajorGridLinePositions(),n=t.majorAngles(),o=t.box.center(),r=[];if(e.majorGridLines.visible&&(r=this.renderGridLines(o,i,n,e.majorGridLines)),e.minorGridLines.visible){var a=this.radarMinorGridLinePositions();ot(r,this.renderGridLines(o,a,n,e.minorGridLines))}return r},renderGridLines:function(t,i,o,r){var a={stroke:{width:r.width,color:r.color,dashType:r.dashType}},s=r.skip;void 0===s&&(s=0);var c=r.step;void 0===c&&(c=0);for(var u=this.gridLinesVisual(),h=s;h<i.length;h+=c){var d=t.y-i[h];if(d>0){var f=new l([t.x,t.y],d);if("arc"===r.type)u.append(new e.Circle(f,a));else{for(var p=new n(a),m=0;m<o.length;m++)p.lineTo(f.pointAt(o[m]+180));p.close(),u.append(p)}}}return u.children},getValue:function(t){var e=this.lineBox(),i=this.plotArea.polarAxis,n=i.majorAngles(),o=i.box.center(),r=t.distanceTo(o),a=r;if("arc"!==this.options.majorGridLines.type&&n.length>1){var s=t.x-o.x,l=t.y-o.y,c=(st(Math.atan2(l,s))+540)%360;n.sort(function(t,e){return Qe(t,c)-Qe(e,c)});var u=Qe(n[0],n[1])/2,h=Qe(c,n[0]),d=90-u,f=180-h-d;a=r*(Math.sin(mt(f))/Math.sin(mt(d)))}return this.axisType().prototype.getValue.call(this,new _t(e.x1,e.y2-a))}};function Qe(t,e){return 180-Math.abs(Math.abs(t-e)-180)}var Ye=Le.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},axisType:function(){return Le}});d(Ye.prototype,Ge);var Ke=Be.extend({radarMajorGridLinePositions:function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t},radarMinorGridLinePositions:function(){var t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t},axisType:function(){return Be}});d(Ke.prototype,Ge);var Ze=r.extend({init:function(t){this.closed=t},process:function(t){var e=t.slice(0),i=[],n=this.closed,o=e.length;if(o>2&&(this.removeDuplicates(0,e),o=e.length),o<2||2===o&&e[0].equals(e[1]))return i;var r,a,s=e[0],l=e[1],c=e[2];for(i.push(new u(s));s.equals(e[o-1]);)n=!0,e.pop(),o--;if(2===o){var h=this.tangent(s,l,m,g);return dt(i).controlOut(this.firstControlPoint(h,s,l,m,g)),i.push(new u(l,this.secondControlPoint(h,s,l,m,g))),i}if(n){s=e[o-1],l=e[0],c=e[1];var d=this.controlPoints(s,l,c);r=d[1],a=d[0]}else{var f=this.tangent(s,l,m,g);r=this.firstControlPoint(f,s,l,m,g)}for(var p=r,v=0;v<=o-3;v++)if(this.removeDuplicates(v,e),o=e.length,v+3<=o){s=e[v],l=e[v+1],c=e[v+2];var b=this.controlPoints(s,l,c);dt(i).controlOut(p),p=b[1];var k=b[0];i.push(new u(l,k))}if(n){s=e[o-2],l=e[o-1],c=e[0];var y=this.controlPoints(s,l,c);dt(i).controlOut(p),i.push(new u(l,y[0])),dt(i).controlOut(y[1]),i.push(new u(c,a))}else{var w=this.tangent(l,c,m,g);dt(i).controlOut(p),i.push(new u(c,this.secondControlPoint(w,l,c,m,g)))}return i},removeDuplicates:function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},invertAxis:function(t,e,i){var n=!1;if(t.x===e.x)n=!0;else if(e.x===i.x)(e.y<i.y&&t.y<=e.y||i.y<e.y&&e.y<=t.y)&&(n=!0);else{var o=this.lineFunction(t,e),r=this.calculateFunction(o,i.x);t.y<=e.y&&i.y<=r||e.y<=t.y&&i.y>=r||(n=!0)}return n},isLine:function(t,e,i){var n=this.lineFunction(t,e),o=this.calculateFunction(n,i.x);return t.x===e.x&&e.x===i.x||gt(o,1)===gt(i.y,1)},lineFunction:function(t,e){var i=(e.y-t.y)/(e.x-t.x),n=t.y-i*t.x;return[n,i]},controlPoints:function(t,e,i){var n,o=m,r=g,a=!1,s=!1;if(this.isLine(t,e,i))n=this.tangent(t,e,m,g);else{var l,c={x:this.isMonotonicByField(t,e,i,m),y:this.isMonotonicByField(t,e,i,g)};c.x&&c.y?(n=this.tangent(t,i,m,g),a=!0):(this.invertAxis(t,e,i)&&(o=g,r=m),c[o]?n=0:(l=i[r]<t[r]&&t[r]<=e[r]||t[r]<i[r]&&e[r]<=t[r]?Xe((i[r]-t[r])*(e[o]-t[o])):-Xe((i[o]-t[o])*(e[r]-t[r])),n=.01*l,s=!0))}var u=this.secondControlPoint(n,t,e,o,r);if(s){var h=o;o=r,r=h}var d=this.firstControlPoint(n,e,i,o,r);return a&&(this.restrictControlPoint(t,e,u,n),this.restrictControlPoint(e,i,d,n)),[u,d]},restrictControlPoint:function(t,e,i,n){t.y<e.y?e.y<i.y?(i.x=t.x+(e.y-t.y)/n,i.y=e.y):i.y<t.y&&(i.x=e.x-(e.y-t.y)/n,i.y=t.y):i.y<e.y?(i.x=t.x-(t.y-e.y)/n,i.y=e.y):t.y<i.y&&(i.x=e.x+(t.y-e.y)/n,i.y=t.y)},tangent:function(t,e,i,n){var o=e[i]-t[i],r=e[n]-t[n];return 0===o?0:r/o},isMonotonicByField:function(t,e,i,n){return i[n]>e[n]&&e[n]>t[n]||i[n]<e[n]&&e[n]<t[n]},firstControlPoint:function(t,e,i,n,o){var r=e[n],a=i[n],s=.333*(a-r);return this.point(r+s,e[o]+s*t,n,o)},secondControlPoint:function(t,e,i,n,o){var r=e[n],a=i[n],s=.333*(a-r);return this.point(a-s,i[o]-s*t,n,o)},point:function(t,e,i,n){var o=new a.Point;return o[i]=t,o[n]=e,o},calculateFunction:function(t,e){for(var i=t.length,n=0,o=0;o<i;o++)n+=Math.pow(e,o)*t[o];return n}});function Xe(t){return t<=0?-1:1}h.Gradients=It,kendo.deepExtend(kendo.dataviz,{constants:M,services:X,autoMajorUnit:Ie,Point:_t,Box:xt,Ring:Ct,Sector:Tt,ShapeBuilder:jt,ShapeElement:Et,ChartElement:Mt,BoxElement:zt,RootElement:Ot,FloatElement:Pt,Text:Lt,TextBox:Bt,Title:qt,AxisLabel:Vt,Axis:Gt,Note:Ht,CategoryAxis:Ae,DateCategoryAxis:Ee,DateValueAxis:Ne,NumericAxis:Le,LogarithmicAxis:Be,PolarAxis:We,RadarCategoryAxis:Ue,RadarNumericAxis:Ye,RadarLogarithmicAxis:Ke,CurveProcessor:Ze,rectToBox:Ft,addClass:function(t,e){for(var i=z(e)?e:[e],n=0;n<i.length;n++){var o=i[n];-1===t.className.indexOf(o)&&(t.className+=" "+o)}},removeClass:function(t,e){t&&t.className&&(t.className=t.className.replace(e,"").replace(E," "))},alignPathToPixel:I,clockwise:D,convertableToNumber:function(t){return O(t)||P(t)&&isFinite(t)},deepExtend:d,elementStyles:function(t,e){var i=P(e)?[e]:e;if(z(i)){for(var n={},o=window.getComputedStyle(t),r=0;r<i.length;r++){var a=i[r];n[a]=N(a)?parseFloat(o[a]):o[a]}return n}if(R(e))for(var s in e)t.style[s]=L(e[s])},getSpacing:B,getTemplate:J,getter:p,grep:$,hasClasses:function(t,e){if(t.className)for(var i=e.split(" "),n=0;n<i.length;n++)if(-1!==t.className.indexOf(i[n]))return!0},inArray:tt,interpolateValue:function(t,e,i){return kendo.drawing.util.round(t+(e-t)*i,_)},InstanceObserver:et,isArray:z,isFunction:f,isNumber:O,isObject:R,isString:P,map:it,mousewheelDelta:function(t){var e=0;return t.wheelDelta&&(e=(e=-t.wheelDelta/120)>0?Math.ceil(e):Math.floor(e)),t.detail&&(e=kendo.drawing.util.round(t.detail/3)),e},FontLoader:kt,setDefaultOptions:yt,sparseArrayLimits:wt,styleValue:L,append:ot,bindEvents:rt,Class:r,defined:at,deg:st,elementOffset:lt,elementSize:ct,eventElement:ut,eventCoordinates:ht,last:dt,limitValue:ft,logToConsole:kendo.logToConsole,objectKey:pt,rad:mt,round:gt,unbindEvents:vt,valueOrDefault:bt,absoluteDateDiff:ce,addDuration:pe,addTicks:ue,ceilDate:ge,dateComparer:ve,dateDiff:be,dateEquals:ye,dateIndex:_e,duration:xe,floorDate:me,lteDateIndex:function(t,e){for(var i,n=0,o=e.length-1;n<=o;){i=Math.floor((n+o)/2);var r=e[i];if(r<t)n=i+1;else{if(!(r>t)){for(;ye(e[i-1],t);)i--;return i}o=i-1}}return e[i]<=t?i:i-1},startOfWeek:de,toDate:he,parseDate:Se,parseDates:Ce,toTime:ke})}(window.kendo.jQuery)})?r.apply(e,a):r,i(0),a=[n],o="function"==typeof(r=function(){!function(t){var e=kendo.dataviz,i=e.services,n=kendo.drawing;e.ExportMixin={extend:function(t,e){if(!t.exportVisual)throw new Error("Mixin target has no exportVisual method defined.");t.exportSVG=this.exportSVG,t.exportImage=this.exportImage,t.exportPDF=this.exportPDF,e||(t.svg=this.svg,t.imageDataURL=this.imageDataURL)},exportSVG:function(t){return n.exportSVG(this.exportVisual(),t)},exportImage:function(t){return n.exportImage(this.exportVisual(t),t)},exportPDF:function(t){return n.exportPDF(this.exportVisual(),t)},svg:function(){if(n.svg.Surface)return n.svg.exportGroup(this.exportVisual());throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){if(!kendo.support.canvas)return null;if(n.canvas.Surface){var e=t("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),i=new n.canvas.Surface(e[0]);i.draw(this.exportVisual());var o=i._rootElement.toDataURL();return i.destroy(),e.remove(),o}throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},i.IntlService.register({format:function(t){return kendo.format.apply(null,[t].concat(Array.prototype.slice.call(arguments,1)))},toString:kendo.toString,parseDate:kendo.parseDate}),i.TemplateService.register({compile:kendo.template}),e.Point2D=e.Point,e.Box2D=e.Box,e.mwDelta=function(t){return e.mousewheelDelta(t.originalEvent)}}(window.kendo.jQuery)})?r.apply(e,a):r,i(0),a=[n,o],void 0===(s="function"==typeof(r=function(){})?r.apply(e,a):r)||(t.exports=s)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=!1},function(t,e,i){var n=i(125),o=i(90);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(38),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):r(t,e)}},function(t,e,i){var n=i(10),o=i(126),r=i(90),a=i(89)("IE_PROTO"),s=function(){},l=function(){var t,e=i(86)("iframe"),n=r.length;for(e.style.display="none",i(92).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[r[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(125),o=i(90).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(25),o=i(28),r=i(89)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(13).f,o=i(25),r=i(12)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,i){var n=i(12)("unscopables"),o=Array.prototype;void 0==o[n]&&i(26)(o,n,{}),t.exports=function(t){o[n][t]=!0}},function(t,e,i){"use strict";var n=i(8),o=i(13),r=i(14),a=i(12)("species");t.exports=function(t){var e=n[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(22);t.exports=function(t,e,i){for(var o in e)n(t,o,e[o],i);return t}},function(t,e,i){var n=i(9);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var n,o,r;i(0),o=[i(69),i(62),i(113)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.List,r=n.Select,a=i.support,s=i._activeElement,l=i.data.ObservableObject,c=i.keys,u=".kendoDropDownList",h=u+"FocusEvent",d="k-state-default",f="mouseenter"+u+" mouseleave"+u,p=t.proxy,m=r.extend({init:function(e,n){var o,a,s=this,l=n&&n.index;s.ns=u,n=t.isArray(n)?{dataSource:n}:n,r.fn.init.call(s,e,n),n=s.options,e=s.element.on("focus"+u,p(s._focusHandler,s)),s._focusInputHandler=t.proxy(s._focusInput,s),s.optionLabel=t(),s._optionLabel(),s._inputTemplate(),s._reset(),s._prev="",s._word="",s._wrapper(),s._tabindex(),s.wrapper.data("tabindex",s.wrapper.attr("tabindex")),s._span(),s._popup(),s._mobile(),s._dataSource(),s._ignoreCase(),s._filterHeader(),s._aria(),s.wrapper.attr("aria-live","polite"),s._enable(),s._attachFocusHandlers(),s._oldIndex=s.selectedIndex=-1,void 0!==l&&(n.index=l),s._initialIndex=n.index,s.requireValueMapper(s.options),s._initList(),s._cascade(),s.one("set",function(t){!t.sender.listView.bound()&&s.hasOptionLabel()&&s._textAccessor(s._optionLabelText())}),n.autoBind?s.dataSource.fetch():-1===s.selectedIndex&&((a=n.text||"")||((o=n.optionLabel)&&0===n.index?a=o:s._isSelect&&(a=e.children(":selected").text())),s._textAccessor(a)),t(s.element).parents("fieldset").is(":disabled")&&s.enable(!1),s.listView.bind("click",function(t){t.preventDefault()}),i.notify(s)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1},events:["open","close","change","select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(t){r.fn.setOptions.call(this,t),this.listView.setOptions(this._listOptions(t)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){r.fn.destroy.call(this),this.wrapper.off(u),this.wrapper.off(h),this.element.off(u),this._inputWrapper.off(u),this._arrow.off(),this._arrow=null,this._arrowIcon=null,this.optionLabel.off()},open:function(){var t=!!this.dataSource.filter()&&this.dataSource.filter().filters.length>0;this.popup.visible()||(this.listView.bound()&&"accept"!==this._state?this._allowOpening()&&(this._focusFilter=!0,this.popup.one("activate",this._focusInputHandler),this.popup._hovered=!0,this.popup.open(),this._resizeFilterInput(),this._focusItem()):(this._open=!0,this._state="rebind",this.filterInput&&(this.filterInput.val(""),this._prev=""),this.filterInput&&1!==this.options.minLength&&!t?(this.refresh(),this.popup.one("activate",this._focusInputHandler),this.popup.open(),this._resizeFilterInput()):this._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var t=this.filterInput,e=this._prevent;if(t){var n=this.filterInput[0]===s(),o=i.caret(this.filterInput[0])[0];this._prevent=!0,t.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),n&&(t.focus(),i.caret(t[0],o)),this._prevent=e}},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||r.fn._allowOpening.call(this)},toggle:function(t){this._toggle(t,!0)},current:function(t){var e;if(void 0===t)return!(e=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:e;this._focus(t)},dataItem:function(e){var i=null;if(null===e)return e;if(void 0===e)i=this.listView.selectedDataItems()[0];else{if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(t(e).data("uid"));e=e.hasClass("k-list-optionlabel")?-1:t(this.items()).index(e)}else this.hasOptionLabel()&&(e-=1);i=this.dataSource.flatView()[e]}return i||(i=this._optionLabelDataItem()),i},refresh:function(){this.listView.refresh()},text:function(t){var e,i=this,n=i.options.ignoreCase;if(void 0===(t=null===t?"":t))return i._textAccessor();"string"==typeof t?(e=n?t.toLowerCase():t,i._select(function(t){return t=i._text(t),n&&(t=(t+"").toLowerCase()),t===e}).done(function(){i._textAccessor(i.dataItem()||t)})):i._textAccessor(t)},_clearFilter:function(){t(this.filterInput).val(""),r.fn._clearFilter.call(this)},value:function(t){var e=this,i=e.listView,n=e.dataSource;return void 0===t?void 0===(t=e._accessor()||e.listView.value()[0])||null===t?"":t:(e.requireValueMapper(e.options,t),!t&&e.hasOptionLabel()||(e._initialIndex=null),this.trigger("set",{value:t}),e._request&&e.options.cascadeFrom&&e.listView.bound()?(e._valueSetter&&n.unbind("change",e._valueSetter),e._valueSetter=p(function(){e.value(t)},e),void n.one("change",e._valueSetter)):(e._isFilterEnabled()&&i.bound()&&i.isFiltered()?e._clearFilter():e._fetchData(),void i.value(t).done(function(){e._old=e._accessor(),e._oldIndex=e.selectedIndex})))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this,n=e.options,o=n.optionLabel,r=n.optionLabelTemplate;if(!o)return e.optionLabel.off().remove(),void(e.optionLabel=t());r||(r="#:",r+="string"==typeof o?"data":i.expr(n.dataTextField,"data"),r+="#"),"function"!=typeof r&&(r=i.template(r)),e.optionLabelTemplate=r,e.hasOptionLabel()||(e.optionLabel=t('<div class="k-list-optionlabel"></div>').prependTo(e.list)),e.optionLabel.html(r(o)).off().click(p(e._click,e)).on(f,e._toggleHover),e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})},_optionLabelText:function(){var t=this.options.optionLabel;return"string"==typeof t?t:this._text(t)},_optionLabelDataItem:function(){var e=this.options.optionLabel;if(this.hasOptionLabel())return t.isPlainObject(e)?new l(e):this._assignInstance(this._optionLabelText(),"")},_buildOptions:function(t){if(this._isSelect){var e=this.listView.value()[0],i=this._optionLabelDataItem(),n=i&&this._value(i);void 0!==e&&null!==e||(e=""),i&&(void 0!==n&&null!==n||(n=""),i='<option value="'+n+'">'+this._text(i)+"</option>"),this._options(t,i,e),e!==o.unifyType(this._accessor(),typeof e)&&(this._customOption=null,this._custom(e))}},_listBound:function(){var t,e=this._initialIndex,i="filter"===this._state,n=this.dataSource.flatView();this._presetValue=!1,this._renderFooter(),this._renderNoData(),this._toggleNoData(!n.length),this._resizePopup(!0),this.popup.position(),this._buildOptions(n),this._makeUnselectable(),i||(this._open&&this.toggle(this._allowOpening()),this._open=!1,this._fetch||(n.length?(!this.listView.value().length&&e>-1&&null!==e&&this.select(e),this._initialIndex=null,(t=this.listView.selectedDataItems()[0])&&this.text()!==this._text(t)&&this._selectValue(t)):this._textAccessor()!==this._optionLabelText()&&(this.listView.value(""),this._selectValue(null),this._oldIndex=this.selectedIndex))),this._hideBusy(),this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){this.wrapper.on("focusin"+h,p(this._focusinHandler,this)).on("focusout"+h,p(this._focusoutHandler,this))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass("k-state-focused"),this._prevent=!1},_focusoutHandler:function(){var t=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),a.mobileOS.ios&&t?this._change():this._blur(),this._inputWrapper.removeClass("k-state-focused"),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(t){t.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(t){var e=this.element,i=t.disable,n=t.readonly,o=this.wrapper.add(this.filterInput).off(u),r=this._inputWrapper.off(f);n||i?i?(o.removeAttr("tabindex"),r.addClass("k-state-disabled").removeClass(d)):r.addClass(d).removeClass("k-state-disabled"):(e.removeAttr("disabled").removeAttr("readonly"),r.addClass(d).removeClass("k-state-disabled").on(f,this._toggleHover),o.attr("tabindex",o.data("tabindex")).attr("aria-disabled",!1).on("keydown"+u,p(this._keydown,this)).on("mousedown"+u,p(this._wrapperMousedown,this)).on("paste"+u,p(this._filterPaste,this)),this.wrapper.on("click"+u,p(this._wrapperClick,this)),this.filterInput?o.on("input"+u,p(this._search,this)):o.on("keypress"+u,p(this._keypress,this))),e.attr("disabled",i).attr("readonly",n),o.attr("aria-disabled",i)},_keydown:function(t){var e,i,n=this,o=t.keyCode,r=t.altKey,a=n.popup.visible();if(n.filterInput&&(e=n.filterInput[0]===s()),o===c.LEFT?(o=c.UP,i=!0):o===c.RIGHT&&(o=c.DOWN,i=!0),!i||!e)if(t.keyCode=o,(r&&o===c.UP||o===c.ESC)&&n._focusElement(n.wrapper),"filter"===n._state&&o===c.ESC&&(n._clearFilter(),n._open=!1,n._state="accept"),o===c.ENTER&&n._typingTimeout&&n.filterInput&&a)t.preventDefault();else if(o!==c.SPACEBAR||e||(n.toggle(!a),t.preventDefault()),!(i=n._move(t))){if(!a||!n.filterInput){var l=n._focus();if(o===c.HOME?(i=!0,n._firstItem()):o===c.END&&(i=!0,n._lastItem()),i){if(n.trigger("select",{dataItem:n._getElementDataItem(n._focus()),item:n._focus()}))return void n._focus(l);n._select(n._focus(),!0).done(function(){a||n._blur()}),t.preventDefault()}}r||i||!n.filterInput||n._search()}},_matchText:function(t,e){var i=this.options.ignoreCase;return void 0!==t&&null!==t&&(t+="",i&&(t=t.toLowerCase()),0===t.indexOf(e))},_shuffleData:function(t,e){var i=this._optionLabelDataItem();return i&&(t=[i].concat(t)),t.slice(e).concat(t.slice(0,e))},_selectNext:function(){var t,e,i=this,n=i.dataSource.flatView(),o=n.length+(i.hasOptionLabel()?1:0),r=function(t,e){for(var i=0;i<t.length;i++)if(t.charAt(i)!==e)return!1;return!0}(i._word,i._last),a=i.selectedIndex;a=-1===a?0:v(a+=r?1:0,o),n=n.toJSON?n.toJSON():n.slice(),n=i._shuffleData(n,a);for(var s=0;s<o&&(e=i._text(n[s]),!r||!i._matchText(e,i._last))&&!i._matchText(e,i._word);s++);s!==o&&(t=i._focus(),i._select(v(a+s,o)).done(function(){var e=function(){i.popup.visible()||i._change()};i.trigger("select",{dataItem:i._getElementDataItem(i._focus()),item:i._focus()})?i._select(t).done(e):e()}))},_keypress:function(t){if(0!==t.which&&t.keyCode!==i.keys.ENTER){var e=String.fromCharCode(t.charCode||t.keyCode);this.options.ignoreCase&&(e=e.toLowerCase())," "===e&&t.preventDefault(),this._word+=e,this._last=e,this._search()}},_popupOpen:function(){var t=this.popup;t.wrapper=i.wrap(t.element),t.element.closest(".km-root")[0]&&(t.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){r.fn._popup.call(this),this.popup.one("open",p(this._popupOpen,this))},_getElementDataItem:function(t){return t&&t[0]?t[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(t)):null},_click:function(e){var i=this,n=e.item||t(e.currentTarget);e.preventDefault(),i.trigger("select",{dataItem:i._getElementDataItem(n),item:n})?i.close():(i._userTriggered=!0,i._select(n).done(function(){i._focusElement(i.wrapper),i._blur()}))},_focusElement:function(t){var e=s(),i=this.wrapper,n=this.filterInput,o=t===n?i:n,r=a.mobileOS&&(a.touch||a.MSPointers||a.pointers);n&&n[0]===t[0]&&r||n&&(o[0]===e||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=t.focus())},_searchByWord:function(t){if(t){var e=this;e.options.ignoreCase&&(t=t.toLowerCase()),e._select(function(i){return e._matchText(e._text(i),t)})}},_inputValue:function(){return this.text()},_search:function(){var t=this,e=t.dataSource;if(clearTimeout(t._typingTimeout),t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();t._prev!==e&&(t._prev=e,t.search(e),t._resizeFilterInput()),t._typingTimeout=null},t.options.delay);else{if(t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay),!t.listView.bound())return void e.fetch().done(function(){t._selectNext()});t._selectNext()}},_get:function(e){var i,n,o,r="function"==typeof e,a=r?t():t(e);if(this.hasOptionLabel()&&("number"==typeof e?e>-1&&(e-=1):a.hasClass("k-list-optionlabel")&&(e=-1)),r){for(i=this.dataSource.flatView(),o=0;o<i.length;o++)if(e(i[o])){e=o,n=!0;break}n||(e=-1)}return e},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var t=this.options,e=this.listView,i=e.focus(),n=e.select();void 0===(n=n[n.length-1])&&t.highlightFirst&&!i&&(n=0),void 0!==n?e.focus(n):!t.optionLabel||t.virtual&&"dataItem"===t.virtual.mapValueTo?e.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(t){this.optionLabel.removeClass("k-state-focused"+(t||"")).removeAttr("id")},_focus:function(t){var e=this.listView,i=this.optionLabel;if(void 0===t)return!(t=e.focus())&&i.hasClass("k-state-focused")&&(t=i),t;this._resetOptionLabel(),t=this._get(t),e.focus(t),-1===t&&(i.addClass("k-state-focused").attr("id",e._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",e._optionID))},_select:function(t,e){var i=this;return t=i._get(t),i.listView.select(t).done(function(){e||"filter"!==i._state||(i._state="accept"),-1===t&&i._selectValue(null)})},_selectValue:function(t){var e=this.options.optionLabel,i=this.listView.select(),n="",o="";void 0===(i=i[i.length-1])&&(i=-1),this._resetOptionLabel(" k-state-selected"),t||0===t?(o=t,n=this._dataValue(t),e&&(i+=1)):e&&(this._focus(this.optionLabel.addClass("k-state-selected")),o=this._optionLabelText(),n="string"==typeof e?"":this._value(e),i=0),this.selectedIndex=i,null===n&&(n=""),this._textAccessor(o),this._accessor(n,i),this._triggerCascade()},_mobile:function(){var t=this.popup,e=a.mobileOS;t.element.parents(".km-root").eq(0).length&&e&&(t.options.animation.open.effects=e.android||e.meego?"fadeIn":e.ios||e.wp?"slideIn:up":t.options.animation.open.effects)},_filterHeader:function(){var e;this.filterInput&&(this.filterInput.off(u).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(e='<span class="k-icon k-i-zoom"></span>',this.filterInput=t('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(t('<span class="k-list-filter" />').append(this.filterInput.add(e))))},_span:function(){var e,i=this.wrapper;(e=i.find("span.k-input"))[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),e=i.find("span.k-input")),this.span=e,this._inputWrapper=t(i[0].firstChild),this._arrow=i.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var t,e=this.element,i=e[0];(t=e.parent()).is("span.k-widget")||((t=e.wrap("<span />").parent())[0].style.cssText=i.style.cssText,t[0].title=i.title),this._focused=this.wrapper=t.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({accesskey:e.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),e.hide().removeAttr("accesskey")},_clearSelection:function(t){this.select(t.value()?0:-1)},_inputTemplate:function(){var e=this.options.valueTemplate;if(e=e?i.template(e):t.proxy(i.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=e,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(t){throw new Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(e){var i=null,n=this.valueTemplate,o=this._optionLabelText(),r=this.span;if(void 0===e)return r.text();t.isPlainObject(e)||e instanceof l?i=e:o&&o===e&&(i=this.options.optionLabel),i||(i=this._assignInstance(e,this._accessor())),this.hasOptionLabel()&&(i!==o&&this._text(i)!==o||(n=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(i=o)));var a=function(){return{elements:r.get(),data:[{dataItem:i}]}};this.angular("cleanup",a);try{r.html(n(i))}catch(t){r.html("")}this.angular("compile",a)},_preselect:function(t,e){t||e||(e=this._optionLabelText()),this._accessor(t),this._textAccessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(t),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(t,e){var i=this.options.dataTextField,n={};return i?(g(n,i.split("."),t),g(n,this.options.dataValueField.split("."),e),n=new l(n)):n=t,n}});function g(t,e,i){for(var n,o=0,r=e.length-1;o<r;++o)(n=e[o])in t||(t[n]={}),t=t[n];t[e[r]]=i}function v(t,e){return t>=e&&(t-=e),t}n.plugin(m)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(63),i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile,o=i.effects,r=n.ui,a=t.proxy,s=t.extend,l=r.Widget,c=i.Class,u=i.ui.Movable,h=i.ui.Pane,d=i.ui.PaneDimensions,f=o.Transition,p=o.Animation,m=Math.abs,g=p.extend({init:function(t){p.fn.init.call(this),s(this,t),this.userEvents.bind("gestureend",a(this.start,this)),this.tapCapture.bind("press",a(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)},onEnd:function(){var t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)}}),v=p.extend({init:function(t){var e=this;p.fn.init.call(e),s(e,t,{transition:new f({axis:t.axis,movable:t.movable,onEnd:function(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",a(e.start,e)),e.userEvents.bind("gestureend",a(e.start,e)),e.userEvents.bind("tap",a(e.onEnd,e))},onCancel:function(){this.transition.cancel()},freeze:function(t){this.cancel(),this._moveTo(t)},onEnd:function(){this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return m(this.velocity)<1},start:function(t){var e;this.dimension.enabled&&(this.paneAxis.outOfBounds()?this._snapBack():(e=2===t.touch.id?0:t.touch[this.axis].velocity,this.velocity=Math.max(Math.min(e*this.velocityMultiplier,55),-55),this.tapCapture.captureNext(),p.fn.start.call(this)))},tick:function(){var t=this.dimension,e=this.paneAxis.outOfBounds()?.5:this.friction,i=this.velocity*=e,n=this.movable[this.axis]+i;!this.elastic&&t.outOfBounds(n)&&(n=Math.max(Math.min(n,t.max),t.min),this.velocity=0),this.movable.moveAxis(this.axis,n)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var t=this.dimension,e=this.movable[this.axis]>t.max?t.max:t.min;this._moveTo(e)},_moveTo:function(t){this.transition.moveTo({location:t,duration:500,ease:f.easeOutExpo})}}),b=p.extend({init:function(t){i.effects.Animation.fn.init.call(this),s(this,t,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return m(this.offset.y)<5&&m(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(t,e){this.offset={},this.origin=t,this.destination=e},setCallback:function(t){t&&i.isFunction(t)?this.callback=t:t=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),k=c.extend({init:function(e){var i="x"===e.axis,n=t('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');s(this,e,{element:n,elementSize:0,movable:new u(n),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:i?"width":"height"}),this.scrollMovable.bind("change",a(this.refresh,this)),this.container.append(n),e.alwaysVisible&&this.show()},refresh:function(){var t=this.axis,e=this.dimension,i=e.size,n=this.scrollMovable,o=i/e.total,r=Math.round(-n[t]*o),a=Math.round(i*o);o>=1?this.element.css("display","none"):this.element.css("display",""),r+a>i?a=i-r:r<0&&(a+=r,r=0),this.elementSize!=a&&(this.element.css(this.size,a+"px"),this.elementSize=a),this.movable.moveAxis(t,r)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),y=l.extend({init:function(e,n){var o=this;if(l.fn.init.call(o,e,n),e=o.element,o._native=o.options.useNative&&i.support.hasNativeScrolling,o._native)return e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void s(o,{scrollElement:e,fixedContainer:e.children().first()});e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var r=e.children().eq(1),c=new i.TapCapture(e),f=new u(r),p=new d({element:r,container:e,forcedEnabled:o.options.zoom}),v=this.options.avoidScrolling,k=new i.UserEvents(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:o.options.zoom,start:function(e){p.refresh();var i=m(e.x.velocity),n=m(e.y.velocity),r=2*i>=n,a=2*n>=i;!t.contains(o.fixedContainer[0],e.event.target)&&!v(e)&&o.enabled&&(p.x.enabled&&r||p.y.enabled&&a)?k.capture():k.cancel()}}),y=new h({movable:f,dimensions:p,userEvents:k,elastic:o.options.elastic}),w=new g({movable:f,dimensions:p,userEvents:k,tapCapture:c}),_=new b({moveTo:function(t){o.scrollTo(t.x,t.y)}});f.bind("change",function(){o.scrollTop=-f.y,o.scrollLeft=-f.x,o.trigger("scroll",{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})}),o.options.mousewheelScrolling&&e.on("DOMMouseScroll mousewheel",a(this,"_wheelScroll")),s(o,{movable:f,dimensions:p,zoomSnapBack:w,animatedScroller:_,userEvents:k,pane:y,tapCapture:c,pulled:!1,enabled:!0,scrollElement:r,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()}),o._initAxis("x"),o._initAxis("y"),o._wheelEnd=function(){o._wheel=!1,o.userEvents.end(0,o._wheelY)},p.refresh(),o.options.pullToRefresh&&o._initPullToRefresh()},_wheelScroll:function(t){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var e=i.wheelDeltaY(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(t,e){this.dimensions.y.virtualSize(t,e)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull","scroll","resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(t){l.fn.setOptions.call(this,t),t.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(t,e){this._native?(this.scrollElement.scrollLeft(m(t)),this.scrollElement.scrollTop(m(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))},animatedScrollTo:function(t,e,i){var n,o;this._native?this.scrollTo(t,e):(n={x:this.movable.x,y:this.movable.y},o={x:t,y:e},this.animatedScroller.setCoordinates(n,o),this.animatedScroller.setCallback(i),this.animatedScroller.start())},pullHandled:function(){this.refreshHint.removeClass("km-scroller-refresh"),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){l.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(t){this.dimensions.rescale(t),this.movable.scaleTo(t)},_initPullToRefresh:function(){this.dimensions.y.forceEnabled(),this.pullTemplate=i.template(this.options.messages.pullTemplate),this.releaseTemplate=i.template(this.options.messages.releaseTemplate),this.refreshTemplate=i.template(this.options.messages.refreshTemplate),this.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+this.pullTemplate({})+"</span></span>"),this.refreshHint=this.scrollElement.children().first(),this.hintContainer=this.refreshHint.children(".km-template"),this.pane.y.bind("change",a(this._paneChange,this)),this.userEvents.bind("end",a(this._dragEnd,this))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass("km-scroller-release").addClass("km-scroller-refresh"),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){this.movable.y/.5>this.options.pullOffset?this.pulled||(this.pulled=!0,this.refreshHint.removeClass("km-scroller-refresh").addClass("km-scroller-release"),this.hintContainer.html(this.releaseTemplate({}))):this.pulled&&(this.pulled=!1,this.refreshHint.removeClass("km-scroller-release"),this.hintContainer.html(this.pullTemplate({})))},_initAxis:function(t){var e=this,i=e.movable,n=e.dimensions[t],o=e.tapCapture,r=e.pane[t],a=new k({axis:t,movable:i,dimension:n,container:e.element,alwaysVisible:e.options.visibleScrollHints});n.bind("change",function(){a.refresh()}),r.bind("change",function(){a.show()}),e[t+"inertia"]=new v({axis:t,paneAxis:r,movable:i,tapCapture:o,userEvents:e.userEvents,dimension:n,elastic:e.options.elastic,friction:e.options.friction||.96,velocityMultiplier:e.options.velocityMultiplier||10,end:function(){a.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}});r.plugin(y)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.effects,o=t.each,r=t.extend,a=t.proxy,s=i.support,l=s.browser,c=s.transforms,u=s.transitions,h={scale:0,scalex:0,scaley:0,scale3d:0},d={translate:0,translatex:0,translatey:0,translate3d:0},f=void 0!==document.documentElement.style.zoom&&!c,p=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,m=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,g=/translatex?$/i,v=/(zoom|fade|expand)(\w+)/,b=/(zoom|fade|expand)/,k=/[xy]$/i,y=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],w=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],_={rotate:"deg",scale:"",skew:"px",translate:"px"},x=c.css,S=Math.round,C="px",A="none",T="width",j="height",M=x+"transition",z=x+"transform",E=x+"backface-visibility",I=x+"perspective",D={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(i.directions=D,r(t.fn,{kendoStop:function(t,e){return u?n.stopQueue(this,t||!1,e||!1):this.stop(t,e)}}),c&&!u){o(w,function(e,i){t.fn[i]=function(e){if(void 0===e)return N(this,i);var n=t(this)[0],o=i+"("+e+_[i.replace(k,"")]+")";return-1==n.style.cssText.indexOf(z)?t(this).css(z,o):n.style.cssText=n.style.cssText.replace(new RegExp(i+"\\(.*?\\)","i"),o),this},t.fx.step[i]=function(e){t(e.elem)[i](e.now)}});var O=t.fx.prototype.cur;t.fx.prototype.cur=function(){return-1!=w.indexOf(this.prop)?parseFloat(t(this.elem)[this.prop]()):O.apply(this,arguments)}}function P(t){return parseInt(t,10)}function R(t,e){return P(t.css(e))}function L(t){for(var e in t)-1!=y.indexOf(e)&&-1==w.indexOf(e)&&delete t[e];return t}function F(t,e){var i,n,o,r,a=[],l={};for(n in e)i=n.toLowerCase(),r=c&&-1!=y.indexOf(i),!s.hasHW3D&&r&&-1==w.indexOf(i)?delete e[n]:(o=e[n],r?a.push(n+"("+o+")"):l[n]=o);return a.length&&(l[z]=a.join(" ")),l}function N(t,e){if(c){var i=t.css(z);if(i==A)return"scale"==e?1:0;var n=i.match(new RegExp(e+"\\s*\\(([\\d\\w\\.]+)")),o=0;return n?o=P(n[1]):(n=i.match(p)||[0,0,0,0,0],e=e.toLowerCase(),g.test(e)?o=parseFloat(n[3]/n[2]):"translatey"==e?o=parseFloat(n[4]/n[2]):"scale"==e?o=parseFloat(n[2]):"rotate"==e&&(o=parseFloat(Math.atan2(n[2],n[1])))),o}return parseFloat(t.css(e))}i.toggleClass=function(t,e,i,n){return e&&(e=e.split(" "),u&&(i=r({exclusive:"all",duration:400,ease:"ease-out"},i),t.css(M,i.exclusive+" "+i.duration+"ms "+i.ease),setTimeout(function(){t.css(M,"").css(j)},i.duration)),o(e,function(e,i){t.toggleClass(i,n)})),t},i.parseEffects=function(t,e){var i={};return"string"==typeof t?o(t.split(" "),function(t,n){var o=!b.test(n),r=n.replace(v,function(t,e,i){return e+":"+i.toLowerCase()}).split(":"),a=r[1],s={};r.length>1&&(s.direction=e&&o?D[a].reverse:a),i[r[0]]=s}):o(t,function(t){var n=this.direction;n&&e&&!b.test(t)&&(this.direction=D[n].reverse),i[t]=this}),i},u&&r(n,{transition:function(e,i,n){var o,a,s=0,l=e.data("keys")||[],c=!1,h=function(){c||(c=!0,a&&(clearTimeout(a),a=null),e.removeData("abortId").dequeue().css(M,"").css(M),n.complete.call(e))};(n=r({duration:200,ease:"ease-out",complete:null,exclusive:"all"},n)).duration=t.fx&&t.fx.speeds[n.duration]||n.duration,o=F(0,i),t.merge(l,function(t){var e=[];for(var i in t)e.push(i);return e}(o)),e.data("keys",t.unique(l)).height(),e.css(M,n.exclusive+" "+n.duration+"ms "+n.ease).css(M),e.css(o).css(z),u.event&&(e.one(u.event,h),0!==n.duration&&(s=500)),a=setTimeout(h,n.duration+s),e.data("abortId",a),e.data("completeCallback",h)},stopQueue:function(t,e,n){var o,r=t.data("keys"),a=!n&&r,s=t.data("completeCallback");return a&&(o=i.getComputedStyles(t[0],r)),s&&s(),a&&t.css(o),t.removeData("keys").stop(e)}});var B=i.Class.extend({init:function(t,e){this.element=t,this.effects=[],this.options=e,this.restore=[]},run:function(e){var i,o,a,s,l,h,d=e.length,f=this.element,p=this.options,m=t.Deferred(),g={},v={};for(this.effects=e,m.done(t.proxy(this,"complete")),f.data("animating",!0),o=0;o<d;o++)for((i=e[o]).setReverse(p.reverse),i.setOptions(p),this.addRestoreProperties(i.restore),i.prepare(g,v),a=0,h=(l=i.children()).length;a<h;a++)l[a].duration(p.duration).run();for(var b in p.effects)r(v,p.effects[b].properties);for(f.is(":visible")||r(g,{display:f.data("olddisplay")||"block"}),c&&!p.reset&&(s=f.data("targetTransform"))&&(g=r(s,g)),g=F(0,g),c&&!u&&(g=L(g)),f.css(g).css(z),o=0;o<d;o++)e[o].setup();return p.init&&p.init(),f.data("targetTransform",v),n.animate(f,v,r({},p,{complete:m.resolve})),m.promise()},stop:function(){t(this.element).kendoStop(!0,!0)},addRestoreProperties:function(t){for(var e,i=this.element,n=0,o=t.length;n<o;n++)e=t[n],this.restore.push(e),i.data(e)||i.data(e,i.css(e))},restoreCallback:function(){for(var t=this.element,e=0,i=this.restore.length;e<i;e++){var n=this.restore[e];t.css(n,t.data(n))}},complete:function(){var e=0,i=this.element,n=this.options,o=this.effects,r=o.length;for(i.removeData("animating").dequeue(),n.hide&&i.data("olddisplay",i.css("display")).hide(),this.restoreCallback(),f&&!c&&setTimeout(t.proxy(this,"restoreCallback"),0);e<r;e++)o[e].teardown();n.completeCallback&&n.completeCallback(i)}});n.promise=function(t,e){var o,r,a=[],s=new B(t,e),l=i.parseEffects(e.effects);for(var c in e.effects=l,l)(o=n[V(c)])&&(r=new o(t,l[c].direction),a.push(r));a[0]?s.run(a):(t.is(":visible")||t.css({display:t.data("olddisplay")||"block"}).css("display"),e.init&&e.init(),t.dequeue(),s.complete())},r(n,{animate:function(e,i,a){var s=!1!==a.transition;delete a.transition,u&&"transition"in n&&s?n.transition(e,i,a):c?e.animate(L(i),{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete}):e.each(function(){var e=t(this),n={};o(y,function(t,o){var a,s=i?i[o]+" ":null;if(s){var l=i;if(o in h&&void 0!==i[o])a=s.match(m),c&&r(l,{scale:+a[0]});else if(o in d&&void 0!==i[o]){var u=e.css("position"),f="absolute"==u||"fixed"==u;e.data("translate")||(f?e.data("translate",{top:R(e,"top")||0,left:R(e,"left")||0,bottom:R(e,"bottom"),right:R(e,"right")}):e.data("translate",{top:R(e,"marginTop")||0,left:R(e,"marginLeft")||0}));var p=e.data("translate");if(a=s.match(m)){var g="translatey"==o?0:+a[1],v="translatey"==o?+a[1]:+a[2];f?(isNaN(p.right)?isNaN(g)||r(l,{left:p.left+g}):isNaN(g)||r(l,{right:p.right-g}),isNaN(p.bottom)?isNaN(v)||r(l,{top:p.top+v}):isNaN(v)||r(l,{bottom:p.bottom-v})):(isNaN(g)||r(l,{marginLeft:p.left+g}),isNaN(v)||r(l,{marginTop:p.top+v}))}}!c&&"scale"!=o&&o in l&&delete l[o],l&&r(n,l)}}),l.msie&&delete n.scale,e.animate(n,{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete})})}}),n.animatedPromise=n.promise;var q=i.Class.extend({init:function(t,e){this.element=t,this._direction=e,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(t){return this._additionalEffects.push(t),this},direction:function(t){return this._direction=t,this},duration:function(t){return this._duration=t,this},compositeRun:function(){var t=new B(this.element,{reverse:this._reverse,duration:this._duration}),e=this._additionalEffects.concat([this]);return t.run(e)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e,i,o=this.element,a=0,s=this.restore,l=s.length,h=t.Deferred(),d={},f={},p=this.children(),m=p.length;for(h.done(t.proxy(this,"_complete")),o.data("animating",!0),a=0;a<l;a++)e=s[a],o.data(e)||o.data(e,o.css(e));for(a=0;a<m;a++)p[a].duration(this._duration).run();return this.prepare(d,f),o.is(":visible")||r(d,{display:o.data("olddisplay")||"block"}),c&&(i=o.data("targetTransform"))&&(d=r(i,d)),d=F(0,d),c&&!u&&(d=L(d)),o.css(d).css(z),this.setup(),o.data("targetTransform",f),n.animate(o,f,{duration:this._duration,complete:h.resolve}),h.promise()},stop:function(){var e=0,i=this.children(),n=i.length;for(e=0;e<n;e++)i[e].stop();return t(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var t=this.element,e=0,i=this.restore.length;e<i;e++){var n=this.restore[e];t.css(n,t.data(n))}},_complete:function(){var e=this.element;e.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&e.data("olddisplay",e.css("display")).hide(),f&&!c&&setTimeout(t.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(t){r(!0,this.options,t)},children:function(){return[]},shouldHide:t.noop,setup:t.noop,prepare:t.noop,teardown:t.noop,directions:[],setReverse:function(t){return this._reverse=t,this}});function V(t){return t.charAt(0).toUpperCase()+t.substring(1)}function H(t,e){var i=q.extend(e),r=i.prototype.directions;n[V(t)]=i,n.Element.prototype[t]=function(t,e,n,o){return new i(this.element,t,e,n,o)},o(r,function(e,o){n.Element.prototype[t+V(o)]=function(t,e,n){return new i(this.element,o,t,e,n)}})}var U=["left","right","up","down"],W=["in","out"];function G(t,e,i,n){H(t,{directions:W,startValue:function(t){return this._startValue=t,this},endValue:function(t){return this._endValue=t,this},shouldHide:function(){return this._shouldHide},prepare:function(t,o){var r,a,s="out"===this._direction,l=this.element.data(e);r=isNaN(l)||l==i?void 0!==this._startValue?this._startValue:s?i:n:l,a=void 0!==this._endValue?this._endValue:s?n:i,this._reverse?(t[e]=a,o[e]=r):(t[e]=r,o[e]=a),this._shouldHide=o[e]===n}})}H("slideIn",{directions:U,divisor:function(t){return this.options.divisor=t,this},prepare:function(t,e){var n,o=this.element,r=i._outerWidth,a=i._outerHeight,s=D[this._direction],l=-s.modifier*(s.vertical?a(o):r(o))/(this.options&&this.options.divisor||1)+C;this._reverse&&(n=t,t=e,e=n),c?(t[s.transition]=l,e[s.transition]="0px"):(t[s.property]=l,e[s.property]="0px")}}),H("tile",{directions:U,init:function(t,e,i){q.prototype.init.call(this,t,e),this.options={previous:i}},previousDivisor:function(t){return this.options.previousDivisor=t,this},children:function(){var t=this._reverse,e=this.options.previous,n=this.options.previousDivisor||1,o=this._direction,r=[i.fx(this.element).slideIn(o).setReverse(t)];return e&&r.push(i.fx(e).slideIn(D[o].reverse).divisor(n).setReverse(!t)),r}}),G("fade","opacity",1,0),G("zoom","scale",1,.01),H("slideMargin",{prepare:function(t,e){var i,n=this.element,o=this.options,r=n.data("origin"),a=o.offset,s=this._reverse;s||null!==r||n.data("origin",parseFloat(n.css("margin-"+o.axis))),i=n.data("origin")||0,e["margin-"+o.axis]=s?i:i+a}}),H("slideTo",{prepare:function(t,e){var i=this.element,n=this.options.offset.split(","),o=this._reverse;c?(e.translatex=o?0:n[0],e.translatey=o?0:n[1]):(e.left=o?0:n[0],e.top=o?0:n[1]),i.css("left")}}),H("expand",{directions:["horizontal","vertical"],restore:["overflow"],prepare:function(t,e){var i=this.element,n=this.options,o=this._reverse,r="vertical"===this._direction?j:T,a=i[0].style[r],s=i.data(r),l=parseFloat(s||a),c=S(i.css(r,"auto")[r]());t.overflow="hidden",l=n&&n.reset?c||l:l||c,e[r]=(o?0:l)+C,t[r]=(o?l:0)+C,void 0===s&&i.data(r,a)},shouldHide:function(){return this._reverse},teardown:function(){var t=this.element,e="vertical"===this._direction?j:T,i=t.data(e);"auto"!=i&&""!==i||setTimeout(function(){t.css(e,"auto").css(e)},0)}});var Q={position:"absolute",marginLeft:0,marginTop:0,scale:1};H("transfer",{init:function(t,e){this.element=t,this.options={target:e},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(t,e){var i=this.element,o=n.box(i),a=n.box(this.options.target),s=N(i,"scale"),l=n.fillScale(a,o),c=n.transformOrigin(a,o);r(t,Q),e.scale=1,i.css(z,"scale(1)").css(z),i.css(z,"scale("+s+")"),t.top=o.top,t.left=o.left,t.transformOrigin=c.x+C+" "+c.y+C,this._reverse?t.scale=l:e.scale=l}});var Y={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},K={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function Z(t,e){var n=t[i.directions[e].vertical?j:T]()/2+"px";return Y[e].replace("$size",n)}H("turningPage",{directions:U,init:function(t,e,i){q.prototype.init.call(this,t,e),this._container=i},prepare:function(t,e){var n=this._reverse,o=n?D[this._direction].reverse:this._direction,r=K[o];t.zIndex=1,this._clipInHalf&&(t.clip=Z(this._container,i.directions[o].reverse)),t[E]="hidden",e[z]="perspective(1500px)"+(n?r.start:r.end),t[z]="perspective(1500px)"+(n?r.end:r.start)},setup:function(){this._container.append(this.element)},face:function(t){return this._face=t,this},shouldHide:function(){var t=this._reverse,e=this._face;return t&&!e||!t&&e},clipInHalf:function(t){return this._clipInHalf=t,this},temporary:function(){return this.element.addClass("temp-page"),this}}),H("staticPage",{directions:U,init:function(t,e,i){q.prototype.init.call(this,t,e),this._container=i},restore:["clip"],prepare:function(t,e){var i=this._reverse?D[this._direction].reverse:this._direction;t.clip=Z(this._container,i),t.opacity=.999,e.opacity=1},shouldHide:function(){var t=this._reverse,e=this._face;return t&&!e||!t&&e},face:function(t){return this._face=t,this}}),H("pageturn",{directions:["horizontal","vertical"],init:function(t,e,i,n){q.prototype.init.call(this,t,e),this.options={},this.options.face=i,this.options.back=n},children:function(){var t,e=this.options,n="horizontal"===this._direction?"left":"top",o=i.directions[n].reverse,r=this._reverse,a=e.face.clone(!0).removeAttr("id"),s=e.back.clone(!0).removeAttr("id"),l=this.element;return r&&(t=n,n=o,o=t),[i.fx(e.face).staticPage(n,l).face(!0).setReverse(r),i.fx(e.back).staticPage(o,l).setReverse(r),i.fx(a).turningPage(n,l).face(!0).clipInHalf(!0).temporary().setReverse(r),i.fx(s).turningPage(o,l).clipInHalf(!0).temporary().setReverse(r)]},prepare:function(t,e){t[I]="1500px",t.transformStyle="preserve-3d",t.opacity=.999,e.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),H("flip",{directions:["horizontal","vertical"],init:function(t,e,i,n){q.prototype.init.call(this,t,e),this.options={},this.options.face=i,this.options.back=n},children:function(){var t,e=this.options,n="horizontal"===this._direction?"left":"top",o=i.directions[n].reverse,r=this._reverse,a=this.element;return r&&(t=n,n=o,o=t),[i.fx(e.face).turningPage(n,a).face(!0).setReverse(r),i.fx(e.back).turningPage(o,a).setReverse(r)]},prepare:function(t){t[I]="1500px",t.transformStyle="preserve-3d"}});var X=!s.mobileOS.android;H("replace",{_before:t.noop,_after:t.noop,init:function(e,i,n){q.prototype.init.call(this,e),this._previous=t(i),this._transitionClass=n},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(t){return this._before=t,this},afterTransition:function(t){return this._after=t,this},_both:function(){return t().add(this._element).add(this._previous)},_containerClass:function(){var t=this._direction,e="k-fx k-fx-start k-fx-"+this._transitionClass;return t&&(e+=" k-fx-"+t),this._reverse&&(e+=" k-fx-reverse"),e},complete:function(e){if(!(!this.deferred||e&&t(e.target).is(".km-touch-scrollbar, .km-actionsheet-wrapper"))){var i=this.container;i.removeClass("k-fx-end").removeClass(this._containerClass()).off(u.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),X&&i.css("overflow",""),this.isAbsolute||this._both().css("position",""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,n=e.element,o=e._previous,r=n.parents().filter(o.parents()).first(),a=e._both(),s=t.Deferred(),l=n.css("position");return r.length||(r=n.parent()),this.container=r,this.deferred=s,this.isAbsolute="absolute"==l,this.isAbsolute||a.css("position","absolute"),X&&(r.css("overflow"),r.css("overflow","hidden")),u?(n.addClass("k-fx-hidden"),r.addClass(this._containerClass()),this.completeProxy=t.proxy(this,"complete"),r.on(u.event,this.completeProxy),i.animationFrame(function(){n.removeClass("k-fx-hidden").addClass("k-fx-next"),o.css("display","").addClass("k-fx-current"),e._before(o,n),i.animationFrame(function(){r.removeClass("k-fx-start").addClass("k-fx-end"),e._after(o,n)})})):this.complete(),s.promise()},stop:function(){this.complete()}});var J=i.Class.extend({init:function(){this._tickProxy=a(this._tick,this),this._started=!1},tick:t.noop,done:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,i.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):i.animationFrame(this._tickProxy))}}),$=J.extend({init:function(t){r(this,t),J.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(t){var e=this.movable;this.initial=e[this.axis],this.delta=t.location-this.initial,this.duration="number"==typeof t.duration?t.duration:300,this.tick=this._easeProxy(t.ease),this.startDate=new Date,this.start()},_easeProxy:function(t){var e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}}});r($,{easeOutExpo:function(t,e,i,n){return t==n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeOutBack:function(t,e,i,n,o){return i*((t=t/n-1)*t*((1+(o=1.70158))*t+o)+1)+e}}),n.Animation=J,n.Transition=$,n.createEffect=H,n.box=function(e){var n=(e=t(e)).offset();return n.width=i._outerWidth(e),n.height=i._outerHeight(e),n},n.transformOrigin=function(t,e){var i=(t.left-e.left)*e.width/(e.width-t.width),n=(t.top-e.top)*e.height/(e.height-t.height);return{x:isNaN(i)?0:i,y:isNaN(n)?0:n}},n.fillScale=function(t,e){return Math.min(t.width/e.width,t.height/e.height)},n.fitScale=function(t,e){return Math.max(t.width/e.width,t.height/e.height)}}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(29),i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i,n=window.kendo,o=n.ui.Widget,r=n.ui.Popup.TabKeyTrap,a=n.ui.Draggable,s=t.isPlainObject,l=n._activeElement,c=n._outerWidth,u=n._outerHeight,h=t.proxy,d=t.extend,f=t.each,p=n.template,m=".kendoWindow",g=".k-window",v=".k-window-titlebar",b=".k-window-content",k=".k-resize-handle",y=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",w=".k-window-titlebar .k-window-action",_=/^0[a-z]*$/i,x=n.isLocalUrl;function S(t){return void 0!==t}function C(t,e,i){return Math.max(Math.min(parseInt(t,10),i===1/0?i:parseInt(i,10)),parseInt(e,10))}function A(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}var T=o.extend({init:function(e,i){var a,l,c,u,d,f,p,k,y={},_=i&&i.actions&&!i.actions.length;o.fn.init.call(this,e,i),u=(i=this.options).position,e=this.element,d=i.content,p=t(window),_&&(i.actions=[]),this.appendTo=t(i.appendTo),d&&!s(d)&&(d=i.content={url:d}),e.find("script").filter(A).remove(),e.parent().is(this.appendTo)||void 0!==u.top&&void 0!==u.left||(e.is(":visible")?y=e.offset():(l=e.css("visibility"),c=e.css("display"),e.css({visibility:"hidden",display:""}),y=e.offset(),e.css({visibility:l,display:c})),void 0===u.top&&(u.top=y.top),void 0===u.left&&(u.left=y.left)),S(i.visible)&&null!==i.visible||(i.visible=e.is(":visible")),a=this.wrapper=e.closest(g),e.is(".k-content")&&a[0]||(e.addClass("k-window-content k-content"),this._createWindow(e,i),a=this.wrapper=e.closest(g),this._dimensions()),this._position(),d&&this.refresh(d),i.visible&&this.toFront(),f=a.children(b),this._tabindex(f),i.visible&&i.modal&&this._overlay(a.is(":visible")).css({opacity:.5}),a.on("mouseenter"+m,w,h(this._buttonEnter,this)).on("mouseleave"+m,w,h(this._buttonLeave,this)).on("click"+m,"> "+w,h(this._windowActionHandler,this)).on("keydown"+m,h(this._keydown,this)).on("focus"+m,h(this._focus,this)).on("blur"+m,h(this._blur,this)),f.on("keydown"+m,h(this._keydown,this)).on("focus"+m,h(this._focus,this)).on("blur"+m,h(this._blur,this)),f.find(".k-content-frame")[0]&&!p.data("WindowEventsHandled")&&(p.on("blur"+m,function(){var e=t(document.activeElement).parent(b);e.length&&n.widgetInstance(e)._focus()}),p.on("focus"+m,function(){t(b).not(".k-dialog-content").each(function(e,i){n.widgetInstance(t(i))._blur()})}),p.data("WindowEventsHandled",!0)),this._resizable(),this._draggable(),i.pinned&&this.wrapper.is(":visible")&&this.pin(),(k=e.attr("id"))&&(k+="_wnd_title",a.children(v).children(".k-window-title").attr("id",k),f.attr({role:"dialog","aria-labelledby":k})),a.add(a.children(".k-resize-handle,"+v)).on("mousedown"+m,h(this.toFront,this)),this.touchScroller=n.touchScroller(e),this._resizeHandler=h(this._onDocumentResize,this),this._marker=n.guid().substring(0,8),t(window).on("resize"+m+this._marker,this._resizeHandler),i.visible&&(this.trigger("open"),this.trigger("activate")),n.notify(this),this.options.modal&&(this._tabKeyTrap=new r(a),this._tabKeyTrap.trap(),this._tabKeyTrap.shouldTrap=function(){return f.data("isFront")})},_buttonEnter:function(e){t(e.currentTarget).addClass("k-state-hover")},_buttonLeave:function(e){t(e.currentTarget).removeClass("k-state-hover")},_focus:function(){this.wrapper.addClass("k-state-focused")},_blur:function(){this.wrapper.removeClass("k-state-focused")},_dimensions:function(){var t=this.wrapper,e=this.options,i=e.width,n=e.height,o=e.maxHeight,r=["minWidth","minHeight","maxWidth","maxHeight"];this.title(e.title);for(var a=0;a<r.length;a++){var s=e[r[a]]||"";s!=1/0&&t.css(r[a],s)}o!=1/0&&this.element.css("maxHeight",o),i?isNaN(i)&&i.toString().indexOf("px")<0?t.width(i):t.width(C(i,e.minWidth,e.maxWidth)):t.width(""),n?isNaN(n)&&n.toString().indexOf("px")<0?t.height(n):t.height(C(n,e.minHeight,e.maxHeight)):t.height(""),e.visible||t.hide()},_position:function(){var t=this.wrapper,e=this.options.position;0===e.top&&(e.top=e.top.toString()),0===e.left&&(e.left=e.left.toString()),t.css({top:e.top||"",left:e.left||""})},_animationOptions:function(t){var e=this.options.animation;return e&&e[t]||{open:{effects:{}},close:{hide:!0,effects:{}}}[t]},_resize:function(){n.resize(this.element.children())},_resizable:function(){var e=this.options.resizable,n=this.wrapper;this.resizing&&(n.off("dblclick"+m).children(k).remove(),this.resizing.destroy(),this.resizing=null),e&&(n.on("dblclick"+m,v,h(function(e){t(e.target).closest(".k-window-action").length||this.toggleMaximization()},this)),f("n e s w se sw ne nw".split(" "),function(t,e){n.append(i.resizeHandle(e))}),this.resizing=new j(this)),n=null},_draggable:function(){var t=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),t&&(this.dragging=new M(this,t.dragHandle||v))},_actions:function(){var e=this.options,o=e.actions,r=e.pinned,a=this.wrapper.children(v).find(".k-window-actions"),s=["maximize","minimize"];o=t.map(o,function(t){return t=r&&"pin"===t.toLowerCase()?"unpin":t,{name:s.indexOf(t.toLowerCase())>-1?"window-"+t:t}}),a.html(n.render(i.action,o))},setOptions:function(t){var e=JSON.parse(JSON.stringify(t));d(t.position,this.options.position),d(t.position,e.position),o.fn.setOptions.call(this,t);var i=!1!==this.options.scrollable;if(this.restore(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions(),void 0!==t.modal){var n=!1!==this.options.visible;this._overlay(t.modal&&n)}this.element.css("overflow",i?"":"hidden")},events:["open","activate","deactivate","close","minimize","maximize","refresh","resizeStart","resize","resizeEnd","dragstart","dragend","error"],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:!1,isMinimized:!1},_closable:function(){return t.inArray("close",t.map(this.options.actions,function(t){return t.toLowerCase()}))>-1},_keydown:function(t){var e,i,o,r,a,s,l=this.options,c=n.keys,u=t.keyCode,h=this.wrapper,d=this.options.isMaximized,f=this.options.isMinimized;u==c.ESC&&this._closable()&&(t.stopPropagation(),this._close(!1)),t.target!=t.currentTarget||this._closing||(t.altKey&&82==u&&this.refresh(),t.altKey&&80==u&&(this.options.pinned?this.unpin():this.pin()),t.altKey&&u==c.UP?f?(this.restore(),this.element.focus()):d||(this.maximize(),this.element.focus()):t.altKey&&u==c.DOWN&&(f||d?d&&(this.restore(),this.element.focus()):(this.minimize(),this.wrapper.focus())),!l.draggable||t.ctrlKey||t.altKey||d||(e=n.getOffset(h),u==c.UP?i=h.css("top",e.top-10):u==c.DOWN?i=h.css("top",e.top+10):u==c.LEFT?i=h.css("left",e.left-10):u==c.RIGHT&&(i=h.css("left",e.left+10))),l.resizable&&t.ctrlKey&&!d&&!f&&(u==c.UP?(i=!0,r=h.height()-10):u==c.DOWN&&(i=!0,r=h.height()+10),u==c.LEFT?(i=!0,o=h.width()-10):u==c.RIGHT&&(i=!0,o=h.width()+10),i&&(a=C(o,l.minWidth,l.maxWidth),s=C(r,l.minHeight,l.maxHeight),isNaN(a)||(h.width(a),this.options.width=a+"px"),isNaN(s)||(h.height(s),this.options.height=s+"px"),this.resize())),i&&t.preventDefault())},_overlay:function(e){var i=this.appendTo.children(".k-overlay"),n=this.wrapper;return i.length||(i=t("<div class='k-overlay' />")),i.insertBefore(n[0]).toggle(e).css("zIndex",parseInt(n.css("zIndex"),10)-1),i},_actionForIcon:function(t){return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[/\bk-i(-\w+)+\b/.exec(t[0].className)[0]]},_windowActionHandler:function(e){if(!this._closing){var i=t(e.target).closest(".k-window-action").find(".k-icon"),n=this._actionForIcon(i);return n?(e.preventDefault(),this[n](),!1):void 0}},_modals:function(){var e=this,i=t(g).filter(function(){var i=t(this),n=e._object(i),o=n&&n.options;return o&&o.modal&&o.visible&&o.appendTo===e.options.appendTo&&i.is(":visible")}).sort(function(e,i){return+t(e).css("zIndex")-+t(i).css("zIndex")});return e=null,i},_object:function(t){var e=t.children(b),i=n.widgetInstance(e);if(i)return i},center:function(){var e,i,n=this.options.position,o=this.wrapper,r=t(window),a=0,s=0;return this.options.isMaximized?this:(this.options.pinned&&!this._isPinned&&this.pin(),this.options.pinned||(a=r.scrollTop(),s=r.scrollLeft()),i=s+Math.max(0,(r.width()-o.width())/2),e=a+Math.max(0,(r.height()-o.height()-parseInt(o.css("paddingTop"),10))/2),o.css({left:i,top:e}),n.top=e,n.left=i,this)},title:function(t){var e,o=this.wrapper,r=this.options,a=o.children(v),s=a.children(".k-window-title");return arguments.length?(!1===t?(o.addClass("k-window-titleless"),a.remove()):(a.length?s.html(n.htmlEncode(t)):(o.prepend(i.titlebar(r)),this._actions(),a=o.children(v)),e=parseInt(u(a),10),o.css("padding-top",e),a.css("margin-top",-e)),this.options.title=t,this):s.html()},content:function(t,e){var i=this.wrapper.children(b),o=i.children(".km-scroll-container");return i=o[0]?o:i,S(t)?(this.angular("cleanup",function(){return{elements:i.children()}}),n.destroy(this.element.children()),i.empty().html(t),this.angular("compile",function(){for(var t=[],n=i.length;--n>=0;)t.push({dataItem:e});return{elements:i.children(),data:t}}),this):i.html()},open:function(){var e,i,o=this,r=o.wrapper,a=o.options,s=this._animationOptions("open"),l=r.children(b),c=t(document);if(!o.trigger("open")){if(o._closing&&r.kendoStop(!0,!0),o._closing=!1,o.toFront(),a.autoFocus&&o.element.focus(),a.visible=!0,a.modal){if(i=!!o._modals().length,(e=o._overlay(i)).kendoStop(!0,!0),s.duration&&n.effects.Fade&&!i){var u=n.fx(e).fadeIn();u.duration(s.duration||0),u.endValue(.5),u.play()}else e.css("opacity",.5);e.show(),t(window).on("focus",function(){l.data("isFront")&&!t(document.activeElement).closest(l).length&&o.element.focus()})}r.is(":visible")||(l.css("overflow","hidden"),r.show().kendoStop().kendoAnimate({effects:s.effects,duration:s.duration,complete:h(this._activate,this)}))}return a.isMaximized&&(o._documentScrollTop=c.scrollTop(),o._documentScrollLeft=c.scrollLeft(),o._stopDocumentScrolling()),a.pinned&&!o._isPinned&&o.pin(),o},_activate:function(){var t=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus(),this.element.css("overflow",t?"":"hidden"),n.resize(this.element.children()),this.trigger("activate")},_removeOverlay:function(e){var i=this._modals(),o=this.options,r=o.modal&&!i.length,a=o.modal?this._overlay(!0):t(void 0),s=this._animationOptions("close");if(r)if(!e&&s.duration&&n.effects.Fade){var l=n.fx(a).fadeOut();l.duration(s.duration||0),l.startValue(.5),l.play()}else this._overlay(!1).remove();else i.length&&this._object(i.last())._overlay(!0)},_close:function(e){var i,n=this.wrapper,o=this.options,r=this._animationOptions("open"),a=this._animationOptions("close"),s=t(document);this._closing||(i=this.trigger("close",{userTriggered:!e}),this._closing=!i,n.is(":visible")&&!i&&(o.visible=!1,t(g).each(function(e,i){var o=t(i).children(b);i!=n&&o.find("> .k-content-frame").length>0&&o.children(".k-overlay").remove()}),this._removeOverlay(),n.kendoStop().kendoAnimate({effects:a.effects||r.effects,reverse:!0===a.reverse,duration:a.duration,complete:h(this._deactivate,this)})),this.options.isMaximized&&(this._enableDocumentScrolling(),this._documentScrollTop&&this._documentScrollTop>0&&s.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&s.scrollLeft(this._documentScrollLeft)))},_deactivate:function(){if(this.wrapper.hide().css("opacity",""),this.trigger("deactivate"),this.options.modal){var t=this._object(this._modals().last());t&&t.toFront()}},close:function(){return this._close(!0),this},_actionable:function(e){return t(e).is(w+","+w+" .k-icon,:input,a")},_shouldFocus:function(e){var i=l(),n=this.element;return this.options.autoFocus&&!t(i).is(n)&&!this._actionable(e)&&(!n.find(i).length||!n.find(e).length)},toFront:function(e){var n=this,o=n.wrapper,r=o[0],a=+o.css("zIndex"),s=a,l=e&&e.target||null;if(t(g).each(function(e,n){var o=t(n),s=o.css("zIndex"),l=o.children(b);isNaN(s)||(a=Math.max(+s,a)),l.data("isFront",n==r),n!=r&&l.find("> .k-content-frame").length>0&&l.append(i.overlay)}),(!o[0].style.zIndex||s<a)&&o.css("zIndex",a+2),n.element.find("> .k-overlay").remove(),n._shouldFocus(l)){n.isMinimized()?n.wrapper.focus():t(l).is(".k-overlay")?setTimeout(function(){n.element.focus()}):n.element.focus();var c=t(window).scrollTop(),u=parseInt(o.position().top,10);!n.options.pinned&&u>0&&u<c&&(c>0?t(window).scrollTop(u):o.css("top",c))}return o=null,n},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this.options,i=e.minHeight,n=this.restoreOptions,o=t(document);return e.isMaximized||e.isMinimized?(i&&i!=1/0&&this.wrapper.css("min-height",i),this.wrapper.css({position:e.pinned?"fixed":"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).removeClass("k-window-maximized").find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(y).parent().show().end().end().find(".k-i-pin,.k-i-unpin").parent().show(),e.isMaximized?this.wrapper.find(".k-i-window-maximize").parent().focus():e.isMinimized&&this.wrapper.find(".k-i-window-minimize").parent().focus(),this.options.width=n.width,this.options.height=n.height,this._enableDocumentScrolling(),this._documentScrollTop&&this._documentScrollTop>0&&o.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&o.scrollLeft(this._documentScrollLeft),e.isMaximized=e.isMinimized=!1,this.wrapper.removeAttr("tabindex"),this.wrapper.removeAttr("aria-labelled-by"),this.resize(),this):this},_sizingAction:function(t,e){var n=this.wrapper,o=n[0].style,r=this.options;return r.isMaximized||r.isMinimized?this:(this.restoreOptions={width:o.width,height:o.height},n.children(k).hide().end().children(v).find(y).parent().hide().eq(0).before(i.action({name:"window-restore"})),e.call(this),this.wrapper.children(v).find(".k-i-pin,.k-i-unpin").parent().toggle("maximize"!==t),this.trigger(t),n.find(".k-i-window-restore").parent().focus(),this)},maximize:function(){return this._sizingAction("maximize",function(){var e=this.wrapper,i=e.position(),n=t(document);d(this.restoreOptions,{left:i.left,top:i.top}),e.css({left:0,top:0,position:"fixed"}).addClass("k-window-maximized"),this._documentScrollTop=n.scrollTop(),this._documentScrollLeft=n.scrollLeft(),this._stopDocumentScrolling(),this.options.isMaximized=!0,this._onDocumentResize()}),this},_stopDocumentScrolling:function(){var e=t("body");this._storeOverflowRule(e),e.css("overflow","hidden");var i=t("html");this._storeOverflowRule(i),i.css("overflow","hidden")},_enableDocumentScrolling:function(){this._restoreOverflowRule(t(document.body)),this._restoreOverflowRule(t("html"))},_storeOverflowRule:function(t){if(!this._isOverflowStored(t)){var e=t.get(0).style.overflow;"string"==typeof e&&t.data("original-overflow-rule",e)}},_isOverflowStored:function(t){return"string"==typeof t.data("original-overflow-rule")},_restoreOverflowRule:function(t){var e=t.data("original-overflow-rule");null!==e&&void 0!==e?(t.css("overflow",e),t.removeData("original-overflow-rule")):t.css("overflow","")},isMaximized:function(){return this.options.isMaximized},minimize:function(){return this._sizingAction("minimize",function(){this.wrapper.css({height:"",minHeight:""}),this.element.hide(),this.options.isMinimized=!0}),this.wrapper.attr("tabindex",0),this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by")),this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=t(window),i=this.wrapper,n=parseInt(i.css("top"),10),o=parseInt(i.css("left"),10);this.options.isMaximized||(i.css({position:"fixed",top:n-e.scrollTop(),left:o-e.scrollLeft()}),i.children(v).find(".k-i-pin").addClass("k-i-unpin").removeClass("k-i-pin"),this._isPinned=!0,this.options.pinned=!0)},unpin:function(){var e=t(window),i=this.wrapper,n=parseInt(i.css("top"),10),o=parseInt(i.css("left"),10);this.options.isMaximized||(i.css({position:"",top:n+e.scrollTop(),left:o+e.scrollLeft()}),i.children(v).find(".k-i-unpin").addClass("k-i-pin").removeClass("k-i-unpin"),this._isPinned=!1,this.options.pinned=!1)},_onDocumentResize:function(){var e,i,o=this.wrapper,r=t(window),a=n.support.zoomLevel();if(this.options.isMaximized){var s=parseInt(o.css("border-left-width"),10)+parseInt(o.css("border-right-width"),10),l=parseInt(o.css("border-top-width"),10)+parseInt(o.css("border-bottom-width"),10);e=r.width()/a-s,i=r.height()/a-parseInt(o.css("padding-top"),10)-l,o.css({width:e,height:i}),this.options.width=e,this.options.height=i,this.resize()}},refresh:function(e){var n,o,r,a=this.options,l=t(this.element);return s(e)||(e={url:e}),e=d({},a.content,e),o=S(a.iframe)?a.iframe:e.iframe,(r=e.url)?(S(o)||(o=!x(r)),o?((n=l.find(".k-content-frame")[0])?n.src=r||n.src:l.html(i.contentFrame(d({},a,{content:e}))),l.find(".k-content-frame").unbind("load"+m).on("load"+m,h(this._triggerRefresh,this))):this._ajaxRequest(e)):(e.template&&this.content(p(e.template)({})),this.trigger("refresh")),l.toggleClass("k-window-iframecontent",!!o),this},_triggerRefresh:function(){this.trigger("refresh")},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(".k-window-titlebar .k-i-refresh").removeClass("k-i-loading")},_ajaxError:function(t,e){this.trigger("error",{status:e,xhr:t})},_ajaxSuccess:function(t){return function(e){var i=e;t&&(i=p(t)(e||{})),this.content(i,e),this.element.prop("scrollTop",0),this.trigger("refresh")}},_showLoading:function(){this.wrapper.find(".k-window-titlebar .k-i-refresh").addClass("k-i-loading")},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(h(this._showLoading,this),100),t.ajax(d({type:"GET",dataType:"html",cache:!1,error:h(this._ajaxError,this),complete:h(this._ajaxComplete,this),success:h(this._ajaxSuccess(e.template),this)},e))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(m).children(b).off(m).end().find(".k-resize-handle,.k-window-titlebar").off(m),t(window).off("resize"+m+this._marker),t(window).off(m),clearTimeout(this._loadingIconTimeout),o.fn.destroy.call(this),this.unbind(void 0),n.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=t()},_createWindow:function(){var e,o,r=this.element,a=this.options,s=n.support.isRtl(r);!1===a.scrollable&&r.css("overflow","hidden"),o=t(i.wrapper(a)),e=r.find("iframe:not(.k-content)").map(function(){var t=this.getAttribute("src");return this.src="",t}),o.toggleClass("k-rtl",s).appendTo(this.appendTo).append(r).find("iframe:not(.k-content)").each(function(t){this.src=e[t]}),o.find(".k-window-title").css(s?"left":"right",c(o.find(".k-window-actions"))+10),r.css("visibility","").show(),r.find("[data-role=editor]").each(function(){var e=t(this).data("kendoEditor");e&&e.refresh()}),o=r=null}});function j(t){this.owner=t,this._preventDragging=!1,this._draggable=new a(t.wrapper,{filter:">"+k,group:t.wrapper.id+"-resizing",dragstart:h(this.dragstart,this),drag:h(this.drag,this),dragend:h(this.dragend,this)}),this._draggable.userEvents.bind("press",h(this.addOverlay,this)),this._draggable.userEvents.bind("release",h(this.removeOverlay,this))}function M(t,e){this.owner=t,this._preventDragging=!1,this._draggable=new a(t.wrapper,{filter:e,group:t.wrapper.id+"-moving",dragstart:h(this.dragstart,this),drag:h(this.drag,this),dragend:h(this.dragend,this),dragcancel:h(this.dragcancel,this)}),this._draggable.userEvents.stopPropagation=!1}i={wrapper:p("<div class='k-widget k-window' />"),action:p("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"),titlebar:p("<div class='k-window-titlebar k-header'><span class='k-window-title'>#: title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:p("<iframe frameborder='0' title='#= title #' class='k-content-frame' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:p("<div class='k-resize-handle k-resize-#= data #'></div>")},j.prototype={addOverlay:function(){this.owner.wrapper.append(i.overlay)},removeOverlay:function(){this.owner.wrapper.find(".k-overlay").remove()},dragstart:function(e){var i=this.owner,o=i.wrapper;if(this._preventDragging=i.trigger("resizeStart"),!this._preventDragging){this.elementPadding=parseInt(o.css("padding-top"),10),this.initialPosition=n.getOffset(o,"position"),this.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),this.initialSize={width:o.width(),height:o.height()},this.containerOffset=n.getOffset(i.appendTo,"position");var r=o.offsetParent();if(r.is("html"))this.containerOffset.top=this.containerOffset.left=0;else{var a=r.css("margin-top"),s=r.css("margin-left");if(!_.test(a)||!_.test(s)){var l=function(e){for(var i={top:e.offsetTop,left:e.offsetLeft},n=e.offsetParent;n;){i.top+=n.offsetTop,i.left+=n.offsetLeft;var o=t(n).css("overflowX"),r=t(n).css("overflowY");"auto"!==r&&"scroll"!==r||(i.top-=n.scrollTop),"auto"!==o&&"scroll"!==o||(i.left-=n.scrollLeft),n=n.offsetParent}return i}(o[0]),c=l.left-this.containerOffset.left-this.initialPosition.left,u=l.top-this.containerOffset.top-this.initialPosition.top;this._relativeElMarginLeft=c>1?c:0,this._relativeElMarginTop=u>1?u:0,this.initialPosition.left+=this._relativeElMarginLeft,this.initialPosition.top+=this._relativeElMarginTop}}o.children(k).not(e.currentTarget).hide(),t("body").css("cursor",e.currentTarget.css("cursor"))}},drag:function(e){if(!this._preventDragging){var i,n,o,r,a=this.owner,s=a.wrapper,l=a.options,c=this.resizeDirection,u=this.containerOffset,h=this.initialPosition,d=this.initialSize,f=Math.max(e.x.location,0),p=Math.max(e.y.location,0);c.indexOf("e")>=0?(i=f-h.left-u.left,s.width(C(i,l.minWidth,l.maxWidth))):c.indexOf("w")>=0&&(i=C((r=h.left+d.width+u.left)-f,l.minWidth,l.maxWidth),s.css({left:r-i-u.left-(this._relativeElMarginLeft||0),width:i}));var m=p;a.options.pinned&&(m-=t(window).scrollTop()),c.indexOf("s")>=0?(n=m-h.top-this.elementPadding-u.top,s.height(C(n,l.minHeight,l.maxHeight))):c.indexOf("n")>=0&&(n=C((o=h.top+d.height+u.top)-m,l.minHeight,l.maxHeight),s.css({top:o-n-u.top-(this._relativeElMarginTop||0),height:n})),i&&(a.options.width=i+"px"),n&&(a.options.height=n+"px"),a.resize()}},dragend:function(e){if(!this._preventDragging){var i=this.owner,n=i.wrapper;return n.children(k).not(e.currentTarget).show(),t("body").css("cursor",""),i.touchScroller&&i.touchScroller.reset(),27==e.keyCode&&n.css(this.initialPosition).css(this.initialSize),i.trigger("resizeEnd"),!1}},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},M.prototype={dragstart:function(e){var o=this.owner,r=o.element,a=r.find(".k-window-actions"),s=n.getOffset(o.appendTo);this._preventDragging=o.trigger("dragstart")||!o.options.draggable,this._preventDragging||(o.initialWindowPosition=n.getOffset(o.wrapper,"position"),o.initialPointerPosition={left:e.x.client,top:e.y.client},o.startPosition={left:e.x.client-o.initialWindowPosition.left,top:e.y.client-o.initialWindowPosition.top},a.length>0?o.minLeftPosition=c(a)+parseInt(a.css("right"),10)-c(r):o.minLeftPosition=20-c(r),o.minLeftPosition-=s.left,o.minTopPosition=-s.top,o.wrapper.append(i.overlay).children(k).hide(),t("body").css("cursor",e.currentTarget.css("cursor")))},drag:function(e){if(!this._preventDragging){var i=this.owner,o=i.options.position;o.top=Math.max(e.y.client-i.startPosition.top,i.minTopPosition),o.left=Math.max(e.x.client-i.startPosition.left,i.minLeftPosition),n.support.transforms?t(i.wrapper).css("transform","translate("+(e.x.client-i.initialPointerPosition.left)+"px, "+(e.y.client-i.initialPointerPosition.top)+"px)"):t(i.wrapper).css(o)}},_finishDrag:function(){var e=this.owner;e.wrapper.children(k).toggle(!e.options.isMinimized).end().find(".k-overlay").remove(),t("body").css("cursor","")},dragcancel:function(t){this._preventDragging||(this._finishDrag(),t.currentTarget.closest(g).css(this.owner.initialWindowPosition))},dragend:function(){if(!this._preventDragging)return t(this.owner.wrapper).css(this.owner.options.position).css("transform",""),this._finishDrag(),this.owner.trigger("dragend"),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},n.ui.plugin(T)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n=i(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(68)],void 0===(r="function"==typeof(n=function(){var t=window.kidoju=window.kidoju||{};return function(e,i){var n=window.kendo,o=t.data.Model,r=n.data.ObservableArray,a=t.data.PageComponent,s=t.data.Page,l=window.assert,c=(new window.Logger("kidoju.tools"),"string"),u="number",h="boolean",d="date",f="error",p="warning",m=/^https?:\/\//,g=/font(-size)?:[^;]*[0-9]+px/,v=/^(cdn|data):\/\/[\s\S]+.mp3$/i,b=/^#[0-9a-f]{6}$/i,k=/\S+/i,y=/\S+/i,w=/\S+/i,_=/\S+/i,x=/^(cdn|data):\/\/[\s\S]+.(gif|jpe?g|png|svg)$/i,S=/val_[0-9a-f]{6}/,C=/^(([\w-]+)\s*:([^;<>]+);\s*)+$/i,A=/\S+/i,T=/\S+/i,j=/^\/\/ ([^\s\[\n]+)( (\[[^\n]+\]))?$/,M=/^function[\s]+validate[\s]*\([\s]*value[\s]*,[\s]*solution[\s]*(,[\s]*all[\s]*)?\)[\s]*\{[\s\S]*\}$/,z=/^(cdn|data):\/\/[\s\S]+.mp4$/i,E="function validate(value, solution, all) {\n\t{0}\n}",I={name:"custom",formula:n.format(E,"// Your code should return true when value is validated against solution.")},D={},O={tool:{top:{title:"Top"},left:{title:"Left"},height:{title:"Height"},width:{title:"Width"},rotate:{title:"Rotate"}},dialogs:{ok:{text:'<img alt="icon" src="https://cdn.kidoju.com/images/o_collection/svg/office/ok.svg" class="k-image">OK'},cancel:{text:'<img alt="icon" src="https://cdn.kidoju.com/images/o_collection/svg/office/close.svg" class="k-image">Cancel'}},messages:{invalidAltText:"A(n) {0} on page {1} requires some alternate text in display attributes.",invalidAudioFile:"A(n) {0} on page {1} requires an mp3 file in display attributes.",invalidColor:"A(n) {0} on page {1} has an invalid color in display attributes.",invalidData:"A(n) {0} on page {1} requires values in display attributes.",invalidDescription:"A(n) {0} named `{1}` on page {2} requires a question in test logic.",invalidConstant:"A(n) {0} on page {1} requires a constant in test logic.",invalidFailure:"A(n) {0} named `{1}` on page {2} has a failure score higher than the omit score or zero in test logic.",invalidFormula:"A(n) {0} on page {1} requires a formula in display attributes.",invalidImageFile:"A(n) {0} on page {1} requires an image file in display attributes.",invalidName:"A(n) {0} named `{1}` on page {2} has an invalid name.",invalidShape:"A(n) {0} named `{1}` on page {2} requires a shape in display attributes.",invalidSolution:"A(n) {0} named `{1}` on page {2} requires a solution in test logic.",invalidStyle:"A(n) {0} on page {1} has an invalid style in display attributes.",invalidSuccess:"A(n) {0} named `{1}` on page {2} has a success score lower than the omit score or zero in test logic.",invalidText:"A(n) {0} on page {1} requires some text in display attributes.",invalidValidation:"A(n) {0} named `{1}` on page {2} requires a validation formula in test logic.",invalidVideoFile:"A(n) {0} on page {1} requires an mp4 file in display attributes."},pointer:{description:"Pointer"},audio:{description:"Audio Player",attributes:{autoplay:{title:"Autoplay"},mp3:{title:"MP3 File"},ogg:{title:"OGG File"}}},chart:{description:"Chart",attributes:{type:{title:"Type"},title:{title:"Title"},categories:{title:"Categories"},values:{title:"Values"},legend:{title:"Legend"},data:{title:"Data"},style:{title:"Style"}}},chargrid:{description:"Character Grid",attributes:{blank:{title:"Blank"},columns:{title:"Columns"},layout:{title:"Layout"},rows:{title:"Rows"},whitelist:{title:"Whitelist"},gridFill:{title:"Grid Fill"},gridStroke:{title:"Grid Stroke"},selectedFill:{title:"Selection Fill"},lockedFill:{title:"Locked Fill"},fontColor:{title:"Font Color"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},chargridadapter:{messages:{layout:"<h3>Design the grid layout</h3><p>Any character you enter in the grid is locked and cannot be changed in play mode.</p><p>Use `{0}` to blank out cells.</p>",solution:"<h3>Enter the solution</h3><p>Use any whitelisted character, i.e. `{0}`.</p>"}},connector:{description:"Connector",attributes:{color:{title:"Color"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"},disabled:{title:"Disabled"}}},dropzone:{description:"Drop Zone",attributes:{center:{title:"Centre",defaultValue:!1},empty:{title:"Empty"},style:{title:"Style"},text:{title:"Text",defaultValue:"Please drop here."}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"},disabled:{title:"Disabled"}}},highlighter:{description:"Highlighter",attributes:{highlightStyle:{title:"Highlight"},split:{title:"Split"},style:{title:"Style"},text:{title:"Text",defaultValue:"Some text you can highlight."}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},image:{description:"Image",attributes:{alt:{title:"Text",defaultValue:"Image"},src:{title:"Source",defaultValue:"cdn://images/o_collection/svg/office/painting_landscape.svg"},style:{title:"Style"}},properties:{behavior:{title:"Behaviour"},constant:{title:"Constant"}}},imageset:{description:"Image Set",attributes:{style:{title:"Style"},data:{title:"Images",defaultValue:[{text:"Image set",image:"cdn://images/o_collection/svg/office/photos.svg"}]}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},label:{description:"Label",attributes:{style:{title:"Style"},text:{title:"Text",defaultValue:"Label"}},properties:{behavior:{title:"Behaviour"},constant:{title:"Constant"}}},mathexpression:{description:"Mathematic Expression",attributes:{formula:{title:"Formula",defaultValue:"\\sum_{n=1}^{\\infty}2^{-n}=1"},inline:{title:"Inline",defaultValue:!1},style:{title:"Style"}},properties:{behavior:{title:"Behaviour"},constant:{title:"Constant"}}},mathinput:{description:"Mathematic Input",attributes:{backspace:{title:"Backspace"},field:{title:"Field"},keypad:{title:"Keypad"},basic:{title:"Basic"},greek:{title:"Greek"},operators:{title:"Operators"},expressions:{title:"Functions"},sets:{title:"Sets"},matrices:{title:"Matrices"},statistics:{title:"Statistics"},style:{title:"Style"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},multiquiz:{description:"MultiQuiz",attributes:{data:{title:"Values",defaultValue:[{text:"Option 1",image:"cdn://images/o_collection/svg/office/hand_count_one.svg"},{text:"Option 2",image:"cdn://images/o_collection/svg/office/hand_point_up.svg"}]},groupStyle:{title:"Group Style"},itemStyle:{title:"Item Style"},mode:{title:"Mode"},selectedStyle:{title:"Select. Style"},shuffle:{title:"Shuffle"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},quiz:{description:"Quiz",attributes:{data:{title:"Values",defaultValue:[{text:"True",image:"cdn://images/o_collection/svg/office/ok.svg"},{text:"False",image:"cdn://images/o_collection/svg/office/error.svg"}]},groupStyle:{title:"Group Style"},itemStyle:{title:"Item Style"},mode:{title:"Mode"},selectedStyle:{title:"Select. Style"},shuffle:{title:"Shuffle"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},selector:{description:"Selector",attributes:{color:{title:"Color"},empty:{title:"Empty"},hitRadius:{title:"Hit Radius"},shape:{title:"Shape"},strokeWidth:{title:"Stroke"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"},disabled:{title:"Disabled"}}},table:{description:"Static Table",attributes:{columns:{title:"Columns"},rows:{title:"Rows"},data:{title:"Data"}}},textarea:{description:"TextArea",attributes:{style:{title:"Style"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},textbox:{description:"TextBox",attributes:{mask:{title:"Mask"},style:{title:"Style"}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},textgaps:{description:"Text gaps",attributes:{inputStyle:{title:"Input Style"},style:{title:"Style"},text:{title:"Text",defaultValue:"Some text with gaps like [] or [] to fill."}},properties:{name:{title:"Name"},question:{title:"Question"},solution:{title:"Solution"},validation:{title:"Validation"},success:{title:"Success"},failure:{title:"Failure"},omit:{title:"Omit"}}},video:{description:"Video Player",attributes:{autoplay:{title:"Autoplay"},toolbarHeight:{title:"Toolbar Height"},mp4:{title:"MP4 File"},ogv:{title:"OGV File"},wbem:{title:"WBEM File"}}}};function P(t){return new Array(t+1).join("x").replace(/x/g,function(t){return(16*Math.random()|0).toString(16)})}var R=t.ToolAssets=n.Class.extend({init:function(t){var e=(t=t||{}).collections||[],i=t.extensions||[],n=t.schemes||{};l.isArray(e,l.format(l.messages.isArray.default,"options.collections")),l.isArray(i,l.format(l.messages.isArray.default,"options.extensions")),l.type("object",n,l.format(l.messages.type.default,"options.schemes","object")),this.collections=e,this.extensions=i,this.schemes=n}}),L=t.assets={audio:new R,image:new R,video:new R},F=t.tools=n.observable({active:null,register:function(t){l.type("object",t.prototype,l.format(l.messages.type.default,"Class.prototype","object"));var e=new t;l.instanceof(N,e,l.format(l.messages.instanceof.default,"obj","kidoju.Tool")),l.type(c,e.id,l.format(l.messages.type.default,"obj.id",c)),e.id=e.id.trim(),l.ok(e.id.length>0,"A tool cannot have an empty id"),l.ok("active"!==e.id&&"register"!==e.id,"A tool cannot have `active` or `register` for id"),l.isUndefined(this[e.id],"Existing tools cannot be replaced"),this[e.id]=e,"pointer"===e.id&&(this.active="pointer")}}),N=t.Tool=n.Class.extend({id:null,icon:null,description:null,cursor:null,weight:0,height:250,width:250,attributes:{},properties:{},svg:{success:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTAyNHB4IiBoZWlnaHQ9IjEwMjRweCIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGNsaXAtcnVsZT0iZXZlbm9kZCIgdmlld0JveD0iMCAwIDEwMjQwIDEwMjQwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PHBhdGggaWQ9ImN1cnZlMCIgZmlsbD0iIzc2QTc5NyIgZD0iTTM4NDAgNTc2MGwzOTM0IC0zOTM0YzEyNCwtMTI0IDMyOCwtMTI0IDQ1MiwwbDExNDggMTE0OGMxMjQsMTI0IDEyNCwzMjggMCw0NTJsLTUzMDggNTMwOGMtMTI0LDEyNCAtMzI4LDEyNCAtNDUyLDBsLTI3NDggLTI3NDhjLTEyNCwtMTI0IC0xMjQsLTMyOCAwLC00NTJsMTE0OCAtMTE0OGMxMjQsLTEyNCAzMjgsLTEyNCA0NTIsMGwxMzc0IDEzNzR6Ii8+PC9zdmc+",failure:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTAyNHB4IiBoZWlnaHQ9IjEwMjRweCIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGNsaXAtcnVsZT0iZXZlbm9kZCIgdmlld0JveD0iMCAwIDEwMjQwIDEwMjQwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PHBhdGggaWQ9ImN1cnZlMCIgZmlsbD0iI0U2ODQ5NyIgZD0iTTEyNzMgNzE1NmwyMDM3IC0yMDM2IC0yMDM3IC0yMDM2Yy0xMjQsLTEyNSAtMTI0LC0zMjggMCwtNDUzbDEzNTggLTEzNThjMTI1LC0xMjQgMzI4LC0xMjQgNDUzLDBsMjAzNiAyMDM3IDIwMzYgLTIwMzdjMTI1LC0xMjQgMzI4LC0xMjQgNDUzLDBsMTM1OCAxMzU4YzEyNCwxMjUgMTI0LDMyOCAwLDQ1M2wtMjAzNyAyMDM2IDIwMzcgMjAzNmMxMjQsMTI1IDEyNCwzMjggMCw0NTNsLTEzNTggMTM1OGMtMTI1LDEyNCAtMzI4LDEyNCAtNDUzLDBsLTIwMzYgLTIwMzcgLTIwMzYgMjAzN2MtMTI1LDEyNCAtMzI4LDEyNCAtNDUzLDBsLTEzNTggLTEzNThjLTEyNCwtMTI1IC0xMjQsLTMyOCAwLC00NTN6Ii8+PC9zdmc+"},i18n:{tool:{top:{title:O.tool.top.title},left:{title:O.tool.left.title},height:{title:O.tool.height.title},width:{title:O.tool.width.title},rotate:{title:O.tool.rotate.title}},dialogs:{ok:{text:O.dialogs.ok.text},cancel:{text:O.dialogs.cancel.text}},messages:{invalidAltText:O.messages.invalidAltText,invalidAudioFile:O.messages.invalidAudioFile,invalidColor:O.messages.invalidColor,invalidData:O.messages.invalidData,invalidDescription:O.messages.invalidDescription,invalidConstant:O.messages.invalidConstant,invalidFailure:O.messages.invalidFailure,invalidFormula:O.messages.invalidFormula,invalidImageFile:O.messages.invalidImageFile,invalidName:O.messages.invalidName,invalidShape:O.messages.invalidShape,invalidSolution:O.messages.invalidSolution,invalidStyle:O.messages.invalidStyle,invalidSuccess:O.messages.invalidSuccess,invalidText:O.messages.invalidText,invalidValidation:O.messages.invalidValidation,invalidVideoFile:O.messages.invalidVideoFile}},init:function(t){e.extend(this,t),this.properties&&this.properties.solution instanceof q&&this.properties.validation instanceof B.ValidationAdapter&&(this.properties.validation.library=this.properties.solution.library,this.properties.validation.defaultValue="// "+this.properties.solution.libraryDefault)},_getAttributeModel:function(){var t={fields:{}};for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&this.attributes[e]instanceof q&&(t.fields[e]=this.attributes[e].getField());return o.define(t)},_getAttributeRows:function(){var t=[],e={};for(var i in e[n.attr("decimals")]=0,e[n.attr("format")]="n0",t.push(new B.NumberAdapter({title:this.i18n.tool.top.title},e).getRow("top")),t.push(new B.NumberAdapter({title:this.i18n.tool.left.title},e).getRow("left")),t.push(new B.NumberAdapter({title:this.i18n.tool.height.title},e).getRow("height")),t.push(new B.NumberAdapter({title:this.i18n.tool.width.title},e).getRow("width")),t.push(new B.NumberAdapter({title:this.i18n.tool.rotate.title},e).getRow("rotate")),this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&this.attributes[i]instanceof q&&t.push(this.attributes[i].getRow("attributes."+i));return t},_getPropertyModel:function(){var t=this.properties,e={fields:{}};for(var i in t)t.hasOwnProperty(i)&&t[i]instanceof q&&(e.fields[i]=t[i].getField(),"name"===i?e.fields.name.defaultValue="val_"+P(6):"validation"===i&&(e._library=t.validation.library));return o.define(e)},_getPropertyRows:function(){var t=[];for(var e in this.properties)this.properties.hasOwnProperty(e)&&this.properties[e]instanceof q&&t.push(this.properties[e].getRow("properties."+e));return t},getHtmlContent:function(t,i){return l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),n.template(this.templates[i]||this.templates.default)(e.extend(t,{ns:n.ns}))},getTestDefaultValue:function(t){},showResult:function(){return'<div class=".kj-element-result" data-#= ns #bind="visible: #: properties.name #"><div data-#= ns #bind="visible: #: properties.name #.result" style="position: absolute; height: 92px; width:92px; bottom: -20px; right: -20px; background-image: url(data:image/svg+xml;base64,'+N.fn.svg.success+'); background-size: 92px 92px; background-repeat: no-repeat; width: 92px; height: 92px;"></div><div data-#= ns #bind="invisible: #: properties.name #.result" style="position: absolute; height: 92px; width:92px; bottom: -20px; right: -20px; background-image: url(data:image/svg+xml;base64,'+N.fn.svg.failure+'); background-size: 92px 92px; background-repeat: no-repeat; width: 92px; height: 92px;"></div></div>'},value$:function(t){return n.htmlEncode(t.value||"")},solution$:function(t){return n.htmlEncode(t.solution||"")},validate:function(t,i){l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.type(u,i,l.format(l.messages.type.default,"pageIdx",u));var o=[];if(t.properties&&!t.properties.disabled){var r=t.properties,s=this.i18n.messages,h=this.description;if(e.type(r.behavior)===c&&"none"!==r.behavior)w.test(r.constant)||o.push({type:f,index:i,message:n.format(s.invalidConstant,h,i+1)});else if(e.type(t.properties.name)===c){var d=r.name;S.test(d)||o.push({type:f,index:i,message:n.format(s.invalidName,h,d,i+1)}),r.question&&y.test(r.question)||o.push({type:f,index:i,message:n.format(s.invalidDescription,h,d,i+1)}),r.solution&&A.test(r.solution)||o.push({type:f,index:i,message:n.format(s.invalidSolution,h,d,i+1)}),j.test(r.validation)||M.test(r.validation)||o.push({type:f,index:i,message:n.format(s.invalidValidation,h,d,i+1)}),e.type(r.failure)===u&&e.type(r.omit)===u&&r.failure>Math.min(r.omit,0)&&o.push({type:p,index:i,message:n.format(s.invalidFailure,h,d,i+1)}),e.type(r.success)===u&&e.type(r.omit)===u&&r.success<Math.max(r.omit,0)&&o.push({type:p,index:i,message:n.format(s.invalidSuccess,h,d,i+1)})}}return o}}),B=t.adapters={},q=B.BaseAdapter=n.Class.extend({type:void 0,init:function(t){t=t||{},this.defaultValue=t.defaultValue,this.editable=t.editable,this.nullable=t.nullable,this.parse=t.parse,this.from=t.from,this.validation=t.validation,this.field=t.field,this.title=t.title,this.format=t.format,this.template=t.template,this.editor=t.editor,this.attributes=t.attributes},getField:function(){var t={};return[c,u,h,d].indexOf(this.type)>-1&&(t.type=this.type),e.type(this.defaultValue)!==this.type&&void 0!==this.type||(t.defaultValue=this.defaultValue),e.type(this.editable)===h&&(t.editable=this.editable),e.type(this.nullable)===h&&(t.nullable=this.nullable),e.isFunction(this.parse)&&(t.parse=this.parse),e.type(this.from)===c&&(t.from=this.from),"object"===e.type(this.validation)&&(t.validation=this.validation),t},getRow:function(i){if(e.type(i)!==c||0===i.length)throw new TypeError;var n={};return n.field=i,e.type(this.title)===c&&(n.title=this.title),e.type(this.format)===c&&(n.format=this.format),e.type(this.template)===c&&(n.template=this.template),(e.isFunction(this.editor)||e.type(this.editor)===c&&(void 0===t.editors||e.isFunction(t.editors[this.editor])))&&(n.editor=this.editor),e.isPlainObject(this.attributes)&&(n.attributes=this.attributes),n}});B.AssetAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=c,i.defaultValue=i.defaultValue||(i.nullable?null:""),i.editor=function(t,o){var r={};r[n.attr("bind")]="value: "+o.field;var a=e("<div/>").css({display:"flex"}).appendTo(t);e("<input/>").addClass("k-textbox").css({flex:"auto",width:"100%"}).prop({readonly:!0}).attr(e.extend({},o.attributes,r)).appendTo(a),e("<button/>").text("...").addClass("k-button").css({flex:"none",marginRight:0}).appendTo(a).on("click",e.proxy(i.showDialog,i,o))}},showDialog:function(e){l.instanceof(a,e.model,l.format(l.messages.instanceof.default,"options.model","kidoju.data.PageComponent")),l.instanceof(R,L[e.model.tool],l.format(l.messages.instanceof.default,"assets[options.model.tool]","kidoju.ToolAssets")),t.dialogs.openAssetManager({title:e.title,data:{value:e.model.get(e.field)},assets:L[e.model.tool]}).done(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&e.model.set(e.field,t.data.value)}).fail(function(t){})}}),B.BooleanAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=h,this.defaultValue=this.defaultValue||!!this.nullable&&null,this.editor="input",this.attributes=e.extend({},this.attributes,i),this.attributes[n.attr("role")]="switch"},library:[{name:"equal",formula:n.format(E,"return String(value).toLowerCase() === String(solution).toLowerCase();")}],libraryDefault:"equal"}),B.CharGridAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=void 0,i.editor=function(t,n){e("<button/>").text("...").addClass("k-button").css({margin:0,width:"100%"}).appendTo(t).on("click",e.proxy(i.showDialog,i,n))}},showDialog:function(e,i){var o=e.model,r=o.get("attributes.columns"),a=o.get("attributes.rows"),s=o.get("attributes.whitelist"),l=o.get("attributes.layout"),c=o.get(e.field),u=n.ui.CharGrid._getCharGridArray(a,r,s,l,c);t.dialogs.openCharGrid({title:e.title,message:"properties.solution"===e.field?n.format(this.messages.solution,o.get("attributes.whitelist")):n.format(this.messages.layout,o.get("attributes.blank")),charGrid:{container:".kj-dialog",scaler:".kj-dialog",height:o.get("height"),width:o.get("width"),columns:r,rows:a,blank:o.get("attributes.blank"),locked:"properties.solution"===e.field?l:[],whitelist:"properties.solution"===e.field?o.get("attributes.whitelist"):"\\S",blankFill:o.get("attributes.blankFill"),gridFill:o.get("attributes.gridFill"),gridStroke:o.get("attributes.gridStroke"),lockedFill:o.get("attributes.lockedFill"),lockedColor:o.get("attributes.lockedColor"),selectedFill:o.get("attributes.selectedFill"),valueColor:o.get("attributes.valueColor")},data:{value:u}}).done(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&e.model.set(e.field,t.data.value)}).fail(function(t){})},library:[{name:"equal",formula:n.format(E,'return value && typeof value.equals === "function" && value.equals(solution);')}],libraryDefault:"equal",messages:{layout:O.chargridadapter.messages.layout,solution:O.chargridadapter.messages.solution}}),B.ChartAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=void 0,i.editor=function(t,n){e("<button/>").text("...").addClass("k-button").css({margin:0,width:"100%"}).appendTo(t).on("click",e.proxy(i.showDialog,i,n))}},showDialog:function(e){var i=e.model,o=i.get("attributes.categories")+1,r=i.get("attributes.values")+1,a=D.resizeSpreadsheetData(i.get("attributes.data"),r,o);t.dialogs.openSpreadsheet({title:e.title,data:Object.assign(a,{columns:o,rows:r,sheetsbar:!1,toolbar:!1})}).done(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&e.model.set(e.field,t.data)}).fail(function(t){})}}),B.ColorAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:"#000000"),this.editor="input",this.attributes=e.extend({},this.attributes,i),this.attributes[n.attr("role")]="colorpicker"},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")}],libraryDefault:"equal"}),B.ConnectorAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor=function(t,i){var o={};o[n.attr("bind")]="value: "+i.field,e("<input/>").css({width:"100%"}).attr(e.extend({},i.attributes,o)).appendTo(t).kendoComboBox({autoWidth:!0,open:function(t){var o=[],r=e("["+n.attr("role")+'="stage"]['+n.attr("mode")+'="design"]').parent().children(".kj-handle-box").attr(n.attr("uid"));if(l.instanceof(a,i.model,l.format(l.messages.instanceof.default,"settings.model","kidoju.data.PageModel")),i.model.parent()instanceof n.Observable&&i.model.parent().selectedPage instanceof s){var u=i.model.parent().selectedPage.components;e.each(u.data(),function(t,n){if("connector"===n.tool&&n.uid!==r){var a=n.get(i.field);e.type(a)===c&&a.length&&-1===o.indexOf(a)&&o.push(a)}}),o.sort()}t.sender.setDataSource(o)}})}},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")}],libraryDefault:"equal"}),B.DateAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=d,this.defaultValue=this.defaultValue||(this.nullable?null:new Date),this.editor="input",this.attributes=e.extend({},this.attributes,i),this.attributes[n.attr("role")]="datepicker"},library:[{name:"equal",formula:n.format(E,"return new Date(value) - new Date(solution) === 0;")}],libraryDefault:"equal"}),B.DisabledAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=h,this.defaultValue=this.defaultValue||!!this.nullable&&null,this.editor=function(t,i){var o={};o[n.attr("bind")]="value: "+i.field;var r=e("<div/>").attr(o).appendTo(t).kendoMobileSwitch({change:function(t){var e=t.sender.element.closest("tbody"),i=e.find(n.format('[{0}*="{1}"]',n.attr("bind"),"properties.question")).data("kendoComboBox");i instanceof n.ui.ComboBox&&i.enable(!t.checked);var o=e.find(n.format('[{0}*="{1}"]',n.attr("bind"),"properties.validation")).data("kendoCodeInput");o instanceof n.ui.CodeInput&&(o.enable(!t.checked),o.element.closest('td[role="gridcell"]').find("button.k-button").prop("disabled",t.checked).toggleClass("k-state-disabled",t.checked));var r=e.find(n.format('[{0}*="{1}"]',n.attr("bind"),"properties.success")).data("kendoNumericTextBox");r instanceof n.ui.NumericTextBox&&r.enable(!t.checked);var a=e.find(n.format('[{0}*="{1}"]',n.attr("bind"),"properties.failure")).data("kendoNumericTextBox");a instanceof n.ui.NumericTextBox&&a.enable(!t.checked);var s=e.find(n.format('[{0}*="{1}"]',n.attr("bind"),"properties.omit")).data("kendoNumericTextBox");s instanceof n.ui.NumericTextBox&&s.enable(!t.checked)}}).data("kendoMobileSwitch");setTimeout(function(){r.trigger("change",{checked:r.check()})},0)}}}),B.EnumAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor="input",this.attributes=e.extend({},this.attributes,i),this.attributes[n.attr("role")]="dropdownlist",this.attributes[n.attr("source")]=JSON.stringify(t&&t.enum?t.enum:[])}}),B.HighLighterAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor=function(t,o){var r={};r[n.attr("bind")]="value: "+o.field,e("<div/>").css({width:"100%",fontSize:"1em",minHeight:"4.6em"}).attr(e.extend(r,i)).appendTo(t).kendoHighLighter({text:o.model.get("attributes.text"),split:o.model.get("attributes.split")})}},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")}],libraryDefault:"equal"}),B.ImageListBuilderAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=void 0,i.defaultValue=i.defaultValue||[],i.editor=function(t,o){var r={};r[n.attr("bind")]="source: "+o.field;var a=e("<div/>").attr(r).appendTo(t).kendoImageList({schemes:L.image.schemes,click:e.proxy(i.showDialog,i,o)}).data("kendoImageList");l.instanceof(n.ui.ImageList,a,l.format(l.messages.instanceof.default,"imageListWidget","kendo.ui.ImageList")),a.dataSource.bind("change",function(t){e.type(t.action)===c&&o.model.trigger("change",{field:o.field})})}},showDialog:function(e,i){"image"===i.action&&t.dialogs.openAssetManager({title:e.title,data:{value:i.item.get("image")},assets:L.image}).done(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&i.item.set("image",t.data.value)}).fail(function(t){})}}),B.MathAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor=function(t,o){var r={};r[n.attr("bind")]="value: "+o.field,e("<div/>").css({width:"100%",fontSize:"1.25em",minHeight:"4.6em"}).attr(e.extend(r,i)).appendTo(t).kendoMathInput({toolbar:{resizable:!0,tools:["keypad","basic","greek","operators","expressions","sets","matrices","statistics"]}})}},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")}],libraryDefault:"equal"}),B.MultiQuizSolutionAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=void 0,this.defaultValue=this.defaultValue||[],this.editor=function(t,i){var o={};o[n.attr("bind")]="value: "+i.field,e("<div/>").attr(o).appendTo(t).kendoMultiQuiz({mode:"checkbox",checkboxTemplate:'<div class="kj-multiquiz-item kj-multiquiz-checkbox" data-'+n.ns+'uid="#: data.uid #"><input id="{2}_#: data.uid #" name="{2}" type="checkbox" class="k-checkbox" value="#: data.{0} #"><label class="k-checkbox-label" for="{2}_#: data.uid #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1}$() #);"></span># } #<span class="k-text">#: data.{0} #</span></label></div>',dataSource:new n.data.DataSource({data:i.model.get("attributes.data"),schema:{model:n.data.Model.define({id:"text",fields:{text:{type:c},image:{type:c}},image$:function(){var t=this.get("image"),e=L.image.schemes;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&new RegExp("^"+i+"://").test(t)){t=t.replace(i+"://",e[i]);break}return t}})}})})}},library:[{name:"equal",formula:n.format(E,"// Note: both value and solution are arrays of strings\n\treturn String(value.sort()) === String(solution.sort());")}],libraryDefault:"equal"}),B.NameAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor="input",this.attributes=e.extend({},this.attributes,i,{type:"text",class:"k-textbox k-state-disabled",disabled:!0})}}),B.NumberAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=u,this.defaultValue=this.defaultValue||(this.nullable?null:0),this.editor="input",this.attributes=e.extend({},this.attributes,i),this.attributes[n.attr("role")]="numerictextbox"},library:[{name:"equal",formula:n.format(E,"return Number(value) === Number(solution);")},{name:"greaterThan",formula:n.format(E,"return Number(value) > Number(solution);")},{name:"greaterThanOrEqual",formula:n.format(E,"return Number(value) >= Number(solution);")},{name:"lowerThan",formula:n.format(E,"return Number(value) < Number(solution);")},{name:"lowerThanOrEqual",formula:n.format(E,"return Number(value) <= Number(solution);")}],libraryDefault:"equal"}),B.QuestionAdapter=q.extend({init:function(t){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor=function(t,i){var o={};o[n.attr("bind")]="value: "+i.field,e("<input/>").css({width:"100%"}).attr(e.extend({},i.attributes,o)).appendTo(t).kendoComboBox({autoWidth:!0,open:function(t){var i=[];e("["+n.attr("role")+'="stage"]['+n.attr("mode")+'="design"]').find(".kj-element["+n.attr("tool")+'="label"]>div').each(function(t,n){var o=e(n).html().replace(/<br\/?>/g," ");e.type(o)===c&&o.length&&i.push(o)}),i.sort(),t.sender.setDataSource(i)}})}}});var V='<span class="kj-quiz-item kj-quiz-dropdown"># if (data.image) { #<span class="k-image" style="background-image:url(#: data.image$() #);"></span># } #<span class="k-text">#: data.text #</span></span>';B.QuizSolutionAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor=function(t,i){var o={};o[n.attr("bind")]="value: "+i.field,e("<input/>").css({width:"100%"}).attr(e.extend({},i.attributes,o)).appendTo(t).kendoDropDownList({autoWidth:!0,dataSource:new n.data.DataSource({data:i.model.get("attributes.data"),schema:{model:n.data.Model.define({id:"text",fields:{text:{type:c},image:{type:c}},image$:function(){var t=this.get("image"),e=L.image.schemes;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&new RegExp("^"+i+"://").test(t)){t=t.replace(i+"://",e[i]);break}return t}})}}),dataTextField:"text",dataValueField:"text",optionLabel:n.ui.Quiz.fn.options.messages.optionLabel,template:V,valueTemplate:V})}},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")}],libraryDefault:"equal"}),B.ScoreAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=u,this.defaultValue=this.defaultValue||(this.nullable?null:0),this.editor="input",this.attributes=e.extend({},this.attributes,i),this.attributes[n.attr("role")]="numerictextbox"}}),B.StringAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor="input",this.attributes=e.extend({},this.attributes,i,{type:"text",class:"k-textbox"})},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")},{name:"ignoreCaseEqual",formula:n.format(E,"return String(value).trim().toUpperCase() === String(solution).trim().toUpperCase();")},{name:"ignoreCaseMatch",formula:n.format(E,"return /{0}/i.test(String(value).trim());"),param:"Regular Expression"},{name:"ignoreDiacriticsEqual",formula:n.format(E,"return removeDiacritics(String(value).trim().toUpperCase()) === removeDiacritics(String(solution).trim().toUpperCase());")},{name:"match",formula:n.format(E,"return /{0}/.test(String(value).trim());"),param:"Regular Expression"},{name:"metaphone",formula:n.format(E,"return metaphone(removeDiacritics(String(value).trim().toUpperCase())) === metaphone(removeDiacritics(String(solution).trim().toUpperCase()));")},{name:"soundex",formula:n.format(E,"return soundex(removeDiacritics(String(value).trim().toUpperCase())) === soundex(removeDiacritics(String(solution).trim().toUpperCase()));")}],libraryDefault:"equal"}),B.StringArrayAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor="textarea",this.attributes=e.extend({},this.attributes,i)},library:[{name:"equal",formula:n.format(E,'// Note: value is an array and solution is a multiline string\n\treturn (value || []).sort().join("}-{").trim().replace(/\\s*}-{\\s*/g, "}-{") === String(solution).trim().split("\\n").sort().join("}-{").replace(/\\s*}-{\\s*/g, "}-{");')},{name:"ignoreCaseEqual",formula:n.format(E,'// Note: value is an array and solution is a multiline string\n\treturn (value || []).sort().join("}-{").trim().replace(/\\s*}-{\\s*/g, "}-{").toLowerCase() === String(solution).trim().split("\\n").sort().join("}-{").replace(/\\s*}-{\\s*/g, "}-{").toLowerCase();')},{name:"sumEqual",formula:n.format(E,'// Note: value is an array and solution is a multiline string\n\tvar ret = 0;\t(value || []).forEach(function(val){ ret += parseFloat((val || "").trim() || 0); });\treturn ret === parseFloat(String(solution).trim());')}],libraryDefault:"equal"}),B.StyleAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=c,i.defaultValue=i.defaultValue||(i.nullable?null:""),i.editor=function(t,o){var r={};r[n.attr("bind")]="value: "+o.field;var a=e("<div/>").css({display:"flex"}).appendTo(t);e("<input/>").addClass("k-textbox").css({flex:"auto",width:"100%"}).prop({readonly:!0}).attr(e.extend({},o.attributes,r)).appendTo(a),e("<button/>").text("...").addClass("k-button").css({flex:"none",marginRight:0}).appendTo(a).on("click",e.proxy(i.showDialog,i,o))}},showDialog:function(e){t.dialogs.openStyleEditor({title:e.title,data:{value:e.model.get(e.field)}}).then(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&e.model.set(e.field,t.data.value)}).fail(function(t){})}}),B.TableAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=void 0,i.editor=function(t,n){e("<button/>").text("...").addClass("k-button").css({margin:0,width:"100%"}).appendTo(t).on("click",e.proxy(i.showDialog,i,n))}},showDialog:function(e){var i=e.model,o=i.get("attributes.columns"),r=i.get("attributes.rows"),a=D.resizeSpreadsheetData(i.get("attributes.data"),r,o);t.dialogs.openSpreadsheet({title:e.title,data:Object.assign({columns:o,rows:r,columnWidth:150,rowHeight:58,sheets:[],sheetsbar:!1,toolbar:{home:[["bold","italic","underline"],"backgroundColor","textColor","borders","fontSize","fontFamily","alignment","textWrap",["formatDecreaseDecimal","formatIncreateDecimal"],"format"],insert:!1,data:!1}},a)}).done(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&e.model.set(e.field,t.data)}).fail(function(t){})}}),B.TextAdapter=q.extend({init:function(t,i){q.fn.init.call(this,t),this.type=c,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor="textarea",this.attributes=e.extend({},this.attributes,i)},library:[{name:"equal",formula:n.format(E,"return String(value).trim() === String(solution).trim();")},{name:"ignoreSpacesEqual",formula:n.format(E,'return String(value).replace(/\\s+/g, " ").trim() === String(solution).replace(/\\s+/g, " ").trim();')},{name:"ignorePunctuationEqual",formula:n.format(E,'return String(value).replace(/[\\.,;:\\?!\'"\\(\\)\\s]+/g, " ").trim() === String(solution).replace(/[\\.,;:\\?!\'"\\(\\)\\s]+/g, " ").trim();')}],libraryDefault:"equal"}),B.ValidationAdapter=q.extend({init:function(t){var i=this;q.fn.init.call(i,t),i.type=c,i.editor=function(t,o){var r={};r[n.attr("bind")]="value: "+o.field+", source: _library";var a=e("<div/>").css({display:"flex"}).appendTo(t);e("<div data-"+n.ns+'role="codeinput" data-'+n.ns+'default="'+o.model.properties.defaults.validation+'" />').attr(e.extend({},o.attributes,r)).css({flex:"auto"}).appendTo(a),e("<button/>").text("...").addClass("k-button").css({flex:"none",marginRight:0}).appendTo(a).on("click",e.proxy(i.showDialog,i,o))}},showDialog:function(e){t.dialogs.openCodeEditor({title:e.title,data:{value:e.model.get(e.field),library:[I].concat(this.library),defaultValue:this.defaultValue,solution:n.htmlEncode(JSON.stringify(e.model.get("properties.solution")))}}).then(function(t){t.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action&&e.model.set(e.field,t.data.value)}).fail(function(t){})}});var H=N.extend({id:"pointer",icon:"mouse_pointer",description:O.pointer.description,cursor:"default",height:0,width:0,getHtmlContent:void 0});F.register(H);var U=N.extend({id:"audio",icon:"loudspeaker3",description:O.audio.description,cursor:"crosshair",templates:{default:'<div data-#= ns #role="mediaplayer" data-#= ns #mode="audio" data-#= ns #autoplay="#: attributes.autoplay #" data-#= ns #files="#: files$() #"></div>'},height:100,width:400,attributes:{autoplay:new B.BooleanAdapter({title:O.audio.attributes.autoplay.title,defaultValue:!1}),mp3:new B.AssetAdapter({title:O.audio.attributes.mp3.title}),ogg:new B.AssetAdapter({title:O.audio.attributes.ogg.title})},getHtmlContent:function(t,i){l.instanceof(U,this,l.format(l.messages.instanceof.default,"this","Audio")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),l.instanceof(R,L.audio,l.format(l.messages.instanceof.default,"assets.audio","kidoju.ToolAssets"));var o=n.template(this.templates.default);return t.files$=function(){var e=t.attributes.get("mp3"),i=t.attributes.get("ogg"),n=L.audio.schemes;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=new RegExp("^"+o+"://");r.test(e)&&(e=e.replace(o+"://",n[o])),r.test(i)&&(i=i.replace(o+"://",n[o]))}var a=[];return m.test(e)&&a.push(e),m.test(i)&&a.push(i)," "+JSON.stringify(a)},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("mediaplayer")),s=r.data("kendoMediaPlayer");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),s.resize(),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&v.test(t.attributes.mp3)||i.push({type:f,index:e,message:n.format(r.invalidAudioFile,o,e+1)}),i}});F.register(U),D.defaultChartData=function(t,e){var i,n,o=e+1,r=t+1,a={sheets:[{name:"Sheet1",rows:[]}]},s=a.sheets[0].rows,l={index:0,cells:[]};for(n=1;n<r;n++)l.cells.push({index:n,value:1999+n});for(s.push(l),i=1;i<o;i++){for((l={index:i,cells:[]}).cells.push({index:0,value:"Series"+i}),n=1;n<r;n++)l.cells.push({index:n,value:Math.floor(500*Math.random())});s.push(l)}return a},D.resizeSpreadsheetData=function(t,e,i){for(var n=t.sheets[0].rows,o=function(t){return t.index<i},r=0,a=(n=n.filter(function(t){return t.index<e})).length;r<a;r++){var s=n[r].cells;s=s.filter(o),n[r].cells=s}return t.sheets[0].rows=n,t};var W=N.extend({id:"chart",icon:"chart_area",description:O.chart.description,cursor:"crosshair",templates:{default:'<div data-#= ns #role="chart" data-#= ns #chart-area="#: chartArea$() #" data-#= ns #series-defaults="#: seriesDefaults$() #" data-#= ns #title="#: title$() #" data-#= ns #legend="#: legend$() #" data-#= ns #series="#: series$() #" data-#= ns #category-axis="#: categoryAxis$() #" data-#= ns #value-axis="#: valueAxis$() #" style="#: attributes.style #"></div>'},height:400,width:400,attributes:{type:new B.EnumAdapter({title:O.chart.attributes.type.title,defaultValue:"column",enum:["area","bar","column","line","radarArea","radarColumn","radarLine","smoothLine","stackBar","waterfall","verticalArea","verticalLine"]},{style:"width: 100%;"}),title:new B.StringAdapter({title:O.chart.attributes.title.title}),categories:new B.NumberAdapter({title:O.chart.attributes.categories.title,defaultValue:4},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":10}),values:new B.NumberAdapter({title:O.chart.attributes.values.title,defaultValue:2},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":10}),legend:new B.EnumAdapter({title:O.chart.attributes.legend.title,defaultValue:"none",enum:["none","top","bottom","left","right"]},{style:"width: 100%;"}),data:new B.ChartAdapter({title:O.chart.attributes.data.title,defaultValue:D.defaultChartData(4,2)}),style:new B.StyleAdapter({title:O.chart.attributes.style.title})},getHtmlContent:function(t,i){var o={area:{type:"area"},bar:{type:"bar"},column:{type:"column"},line:{type:"line"},radarArea:{type:"radarArea"},radarColumn:{type:"radarColumn"},radarLine:{type:"radarLine"},smoothLine:{type:"line",style:"smooth"},stackBar:{type:"bar",stack:"true"},waterfall:{type:"waterfall"},verticalArea:{type:"verticalArea"},verticalLine:{type:"verticalLine"}};l.instanceof(W,this,l.format(l.messages.instanceof.default,"this","Chart")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=n.template(this.templates.default),s=t.attributes.get("style"),c=s.match(/font:([^;]+)/);c=e.isArray(c)?c[1]:c;var u=s.match(/font-size:([^;]+)/);u=e.isArray(u)?u[1]:u;var h=s.match(/font-family:([^;]+)/);h=e.isArray(h)?h[1]:h;var d=c=c||(u||"50px")+" "+(h||"Arial"),f=c.match(/([0-9])+/g);if(e.isArray(f))for(var p=0,m=f.length;p<m;p++)d=d.replace(f[p],Math.ceil(.6*parseInt(f[p],10)));var g=s.match(/color:([^;]+)/);g=e.isArray(g)?g[1]:g||void 0;var v=s.match(/background-color:([^;]+)/);return v=e.isArray(v)?v[1]:v||void 0,t.chartArea$=function(){return JSON.stringify({background:v})},t.legend$=function(){var e=t.attributes.get("legend");return JSON.stringify({position:"none"!==e?e:"right",visible:"none"!==e,labels:{font:d,color:g}})},t.categoryAxis$=function(){var e,i=[],n=t.attributes.get("categories")+1,o=function(t){return t.index===e},r=t.attributes.get("data").sheets[0].rows.find(function(t){return 0===t.index});for(e=1;e<n;e++){var a="";if(r&&r.cells){var s=r.cells.find(o);s&&s.value&&(a=s.value)}i.push(a)}return JSON.stringify({categories:i,color:g,labels:{font:d,color:g}})},t.series$=function(){var i,n,o=[],r=t.attributes.get("values")+1,a=t.attributes.get("categories")+1,s=function(t){return t.index===i},l=function(t){return t.index===n},c=t.attributes.get("data");for(i=1;i<r;i++){var u={name:"",data:[]},h=c.sheets[0].rows.find(s);if(h&&h.cells){n=0;var d=h.cells.find(l);for(d&&d.value&&(u.name=d.value),n=1;n<a;n++){var f=0;(d=h.cells.find(l))&&"number"===e.type(d.value)&&(f=d.value),u.data.push(f)}}o.push(u)}return" "+JSON.stringify(o)},t.seriesDefaults$=function(){return JSON.stringify(o[t.attributes.get("type")])},t.title$=function(){var e=t.attributes.get("title");return JSON.stringify({text:e,visible:!!e.trim(),font:c,color:g})},t.valueAxis$=function(){return JSON.stringify({color:g,labels:{font:d,color:g}})},r(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("chart")),s=r.data("kendoChart");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),s.resize(),t.preventDefault(),t.stopPropagation()}});F.register(W);var G='<div data-#= ns #role="chargrid" data-#= ns #columns="#: attributes.columns #" data-#= ns #rows="#: attributes.rows #" data-#= ns #blank="#: attributes.blank #" data-#= ns #whitelist="#: attributes.whitelist #" data-#= ns #grid-fill="#: attributes.gridFill #" data-#= ns #grid-stroke="#: attributes.gridStroke #" data-#= ns #blank-fill="#: attributes.gridStroke #" data-#= ns #selected-fill="#: attributes.selectedFill #" data-#= ns #locked-fill="#: attributes.lockedFill #" data-#= ns #locked-color="#: attributes.fontColor #" data-#= ns #value-color="#: attributes.fontColor #" {0}></div>',Q=N.extend({id:"chargrid",icon:"dot_matrix",description:O.chargrid.description,cursor:"crosshair",weight:8,templates:{design:n.format(G,'data-#= ns #value="#: JSON.stringify(attributes.layout) #" data-#= ns #locked="#: JSON.stringify(attributes.layout) #" data-#= ns #enable="false"'),play:n.format(G,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #locked="#: JSON.stringify(attributes.layout) #"'),review:n.format(G,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #locked="#: JSON.stringify(attributes.layout) #" data-#= ns #enable="false"')+N.fn.showResult()},height:400,width:400,attributes:{columns:new B.NumberAdapter({title:O.chargrid.attributes.columns.title,defaultValue:9},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":20}),rows:new B.NumberAdapter({title:O.chargrid.attributes.rows.title,defaultValue:9},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":20}),blank:new B.StringAdapter({title:O.chargrid.attributes.blank.title,defaultValue:"."}),whitelist:new B.StringAdapter({title:O.chargrid.attributes.whitelist.title,defaultValue:"1-9"}),layout:new B.CharGridAdapter({title:O.chargrid.attributes.layout.title,defaultValue:null}),gridFill:new B.ColorAdapter({title:O.chargrid.attributes.gridFill.title,defaultValue:"#ffffff"}),gridStroke:new B.ColorAdapter({title:O.chargrid.attributes.gridStroke.title,defaultValue:"#000000"}),selectedFill:new B.ColorAdapter({title:O.chargrid.attributes.selectedFill.title,defaultValue:"#ffffcc"}),lockedFill:new B.ColorAdapter({title:O.chargrid.attributes.lockedFill.title,defaultValue:"#e6e6e6"}),fontColor:new B.ColorAdapter({title:O.chargrid.attributes.fontColor.title,defaultValue:"#9999b6"})},properties:{name:new B.NameAdapter({title:O.chargrid.properties.name.title}),question:new B.QuestionAdapter({title:O.chargrid.properties.question.title}),solution:new B.CharGridAdapter({title:O.chargrid.properties.solution.title}),validation:new B.ValidationAdapter({title:O.chargrid.properties.validation.title}),success:new B.ScoreAdapter({title:O.chargrid.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.chargrid.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.chargrid.properties.omit.title,defaultValue:0})},_prettify:function(t){var i="";if(e.isArray(t)||t instanceof r)for(var o=0,a=t.length;o<a;o++){for(var s=t[o],l=0,c=s.length;l<c;l++)i+=n.htmlEncode(s[l]||"")+(l===c-1?"":",");i+="<br/>"}return i},value$:function(t){return this._prettify(t.value)},solution$:function(t){return this._prettify(t.solution)},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div.kj-chargrid");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight());var s=r.data("kendoCharGrid");l.instanceof(n.ui.CharGrid,s,l.format(l.messages.instanceof.default,"charGridWidget","kendo.ui.CharGrid")),s.refresh(),t.preventDefault(),t.stopPropagation()}});F.register(Q);var Y='<div data-#= ns #role="connector" data-#= ns #id="#: properties.name #" data-#= ns #target-value="#: properties.solution #" data-#= ns #color="#: attributes.color #" {0}></div>',K=N.extend({id:"connector",icon:"target",description:O.connector.description,cursor:"crosshair",weight:.25,templates:{design:n.format(Y,'data-#= ns #enable="false" data-#= ns #create-surface="false"'),play:n.format(Y,'data-#= ns #bind="value: #: properties.name #.value, source: interactions"'),review:n.format(Y,'data-#= ns #bind="value: #: properties.name #.value, source: interactions" data-#= ns #enable="false"')+N.fn.showResult()},height:70,width:70,attributes:{color:new B.ColorAdapter({title:O.connector.attributes.color.title,defaultValue:"#FF0000"})},properties:{name:new B.NameAdapter({title:O.connector.properties.name.title}),question:new B.QuestionAdapter({title:O.connector.properties.question.title}),solution:new B.ConnectorAdapter({title:O.connector.properties.solution.title}),validation:new B.ValidationAdapter({title:O.connector.properties.validation.title}),success:new B.ScoreAdapter({title:O.connector.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.connector.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.connector.properties.omit.title,defaultValue:0}),disabled:new B.DisabledAdapter({title:O.connector.properties.disabled.title,defaultValue:!1})},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div["+n.attr("role")+'="connector"]');e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight());var s=r.data("kendoConnector");l.instanceof(n.ui.Connector,s,l.format(l.messages.instanceof.default,"connectorWidget","kendo.ui.Connector")),s._drawConnector(),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&b.test(t.attributes.color)||i.push({type:p,index:e,message:n.format(r.invalidColor,o,e+1)}),t.properties&&t.properties.disabled&&!A.test(t.properties.solution)&&i.push({type:f,index:e,message:n.format(r.invalidSolution,o,t.properties.name,e+1)}),i}});F.register(K);var Z='<div id="#: properties.name #" data-#= ns #role="dropzone" data-#= ns #center="#: attributes.center #"  data-#= ns #empty="#: attributes.empty #" style="#: attributes.style #" {0}><div>#: attributes.text #</div></div>',X=N.extend({id:"dropzone",icon:"elements_selection",description:O.dropzone.description,cursor:"crosshair",weight:1,templates:{design:n.format(Z,'data-#= ns #enable="false"'),play:n.format(Z,'data-#= ns #bind="value: #: properties.name #.value, source: interactions"'),review:n.format(Z,'data-#= ns #bind="value: #: properties.name #.value, source: interactions" data-#= ns #enable="false"')+N.fn.showResult()},height:250,width:250,attributes:{center:new B.BooleanAdapter({title:O.dropzone.attributes.center.title,defaultValue:O.dropzone.attributes.center.defaultValue}),empty:new B.StringAdapter({title:O.dropzone.attributes.empty.title}),text:new B.StringAdapter({title:O.dropzone.attributes.text.title,defaultValue:O.dropzone.attributes.text.defaultValue}),style:new B.StyleAdapter({title:O.dropzone.attributes.style.title,defaultValue:"font-size:30px;border:dashed 3px #e1e1e1;"})},properties:{name:new B.NameAdapter({title:O.dropzone.properties.name.title}),question:new B.QuestionAdapter({title:O.dropzone.properties.question.title}),solution:new B.StringArrayAdapter({title:O.dropzone.properties.solution.title}),validation:new B.ValidationAdapter({title:O.dropzone.properties.validation.title}),success:new B.ScoreAdapter({title:O.dropzone.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.dropzone.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.dropzone.properties.omit.title,defaultValue:0}),disabled:new B.DisabledAdapter({title:O.dropzone.properties.disabled.title,defaultValue:!1})},value$:function(t){for(var e=(t.value||[]).slice(),i=0;i<e.length;i++)e[i]=n.htmlEncode((e[i]||"").trim());return e.join("<br/>")},solution$:function(t){for(var e=(t.solution||"").split("\n"),i=0;i<e.length;i++)e[i]=n.htmlEncode((e[i]||"").trim());return e.join("<br/>")},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(X);var J='<div class="kj-interactive" data-#= ns #role="highlighter" data-#= ns #text="#: attributes.text #" data-#= ns #split="#: attributes.split #"  data-#= ns #highlight-style="#: attributes.highlightStyle #" style="#: attributes.style #" {0}></div>',$=N.extend({id:"highlighter",icon:"marker",description:O.highlighter.description,cursor:"crosshair",weight:1,templates:{design:n.format(J,'data-#= ns #enable="false"'),play:n.format(J,'data-#= ns #bind="value: #: properties.name #.value, source: interactions"'),review:n.format(J,'data-#= ns #bind="value: #: properties.name #.value, source: interactions" data-#= ns #enable="false"')+N.fn.showResult()},height:250,width:250,attributes:{highlightStyle:new B.StyleAdapter({title:O.highlighter.attributes.highlightStyle.title}),style:new B.StyleAdapter({title:O.highlighter.attributes.style.title,defaultValue:"font-size:32px;"}),text:new B.TextAdapter({title:O.highlighter.attributes.text.title,defaultValue:O.highlighter.attributes.text.defaultValue}),split:new B.StringAdapter({title:O.highlighter.attributes.split.title,defaultValue:'([\\s\\.,;:\\?¿!<>\\(\\)&"`«»\\[\\]{}])'})},properties:{name:new B.NameAdapter({title:O.highlighter.properties.name.title}),question:new B.QuestionAdapter({title:O.highlighter.properties.question.title}),solution:new B.HighLighterAdapter({title:O.highlighter.properties.solution.title}),validation:new B.ValidationAdapter({title:O.highlighter.properties.validation.title}),success:new B.ScoreAdapter({title:O.highlighter.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.highlighter.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.highlighter.properties.omit.title,defaultValue:0})},getHtmlContent:function(t,i){return l.instanceof($,this,l.format(l.messages.instanceof.default,"this","HighLighter")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),n.template(this.templates[i])(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&t.attributes.text&&t.attributes.text!==O.highlighter.attributes.text.defaultValue&&T.test(t.attributes.text)||i.push({type:p,index:e,message:n.format(r.invalidText,o,e+1)}),(!t.attributes||t.attributes.highlightStyle&&!C.test(t.attributes.highlightStyle))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register($);var tt=N.extend({id:"image",icon:"painting_landscape",description:O.image.description,cursor:"crosshair",templates:{default:'<img src="#: src$() #" alt="#: attributes.alt #" class="#: class$() #" style="#: attributes.style #" data-#= ns #id="#: id$() #" data-#= ns #behavior="#: properties.behavior #" data-#= ns #constant="#: properties.constant #">'},height:250,width:250,attributes:{alt:new B.StringAdapter({title:O.image.attributes.alt.title,defaultValue:O.image.attributes.alt.defaultValue}),src:new B.AssetAdapter({title:O.image.attributes.src.title,defaultValue:O.image.attributes.src.defaultValue}),style:new B.StyleAdapter({title:O.image.attributes.style.title})},properties:{behavior:new B.EnumAdapter({title:O.image.properties.behavior.title,defaultValue:"none",enum:["none","draggable","selectable"]},{style:"width: 100%;"}),constant:new B.StringAdapter({title:O.image.properties.constant.title})},getHtmlContent:function(t,i){l.instanceof(tt,this,l.format(l.messages.instanceof.default,"this","Image")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),l.instanceof(R,L.image,l.format(l.messages.instanceof.default,"assets.image","kidoju.ToolAssets"));var o=n.template(this.templates.default);return t.class$=function(){return"kj-image"+("draggable"===t.properties.behavior?" kj-interactive":"")},t.id$=function(){return"none"!==t.properties.behavior&&e.type(t.id)===c&&t.id.length?t.id:""},t.src$=function(){var e=t.attributes.get("src"),i=L.image.schemes;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&new RegExp("^"+n+"://").test(e)){e=e.replace(n+"://",i[n]);break}return e},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("img"),s=r[0].naturalHeight,c=r[0].naturalWidth;if(s&&c){var u=i.get("height"),h=i.get("width"),d={height:Math.round(u),width:Math.round(u*c/s)};u!==d.height&&i.set("height",d.height),h!==d.width&&i.set("width",d.width)}r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&t.attributes.alt&&t.attributes.alt!==O.image.attributes.alt.defaultValue&&T.test(t.attributes.alt)||i.push({type:p,index:e,message:n.format(r.invalidAltText,o,e+1)}),t.attributes&&t.attributes.src&&t.attributes.src!==O.image.attributes.src.defaultValue&&x.test(t.attributes.src)||i.push({type:t.attributes.src===O.image.attributes.src.defaultValue?p:f,index:e,message:n.format(r.invalidImageFile,o,e+1)}),(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(tt);var et='<div data-#= ns #role="imageset" data-#= ns #images="#: data$() #" style="#: attributes.style #" {0}></div>',it=N.extend({id:"imageset",icon:"photos",description:O.imageset.description,cursor:"crosshair",weight:1,templates:{design:n.format(et,'data-#= ns #enabled="false"'),play:n.format(et,'data-#= ns #bind="value: #: properties.name #.value"'),review:n.format(et,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #enabled="false"')+N.fn.showResult()},height:250,width:250,attributes:{style:new B.StyleAdapter({title:O.imageset.attributes.style.title}),data:new B.ImageListBuilderAdapter({title:O.imageset.attributes.data.title,defaultValue:O.imageset.attributes.data.defaultValue})},properties:{name:new B.NameAdapter({title:O.imageset.properties.name.title}),question:new B.QuestionAdapter({title:O.imageset.properties.question.title}),solution:new B.QuizSolutionAdapter({title:O.imageset.properties.solution.title}),validation:new B.ValidationAdapter({title:O.imageset.properties.validation.title}),success:new B.ScoreAdapter({title:O.imageset.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.imageset.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.imageset.properties.omit.title,defaultValue:0})},getHtmlContent:function(t,i){l.instanceof(it,this,l.format(l.messages.instanceof.default,"this","ImageSet")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),l.instanceof(R,L.image,l.format(l.messages.instanceof.default,"assets.image","kidoju.ToolAssets"));var o=n.template(this.templates[i]);return t.data$=function(){for(var e=t.attributes.get("data"),i=[],n=L.image.schemes,o=0,r=e.length;o<r;o++){var a={text:e[o].text,image:""};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&new RegExp("^"+s+"://").test(e[o].image)){a.image=e[o].image.replace(s+"://",n[s]);break}i.push(a)}return" "+JSON.stringify(i)},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("imageset"));e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),t.attributes&&t.attributes.data&&k.test(t.attributes.data)||i.push({type:f,index:e,message:n.format(r.invalidData,o,e+1)}),i}});F.register(it);var nt=N.extend({id:"label",icon:"font",description:O.label.description,cursor:"crosshair",templates:{default:'<div class="#: class$() #" style="#: attributes.style #" data-#= ns #id="#: id$() #" data-#= ns #behavior="#: properties.behavior #" data-#= ns #constant="#: properties.constant #">#= (kendo.htmlEncode(attributes.text) || "").replace(/\\n/g, "<br/>") #</div>'},height:80,width:300,attributes:{text:new B.TextAdapter({title:O.label.attributes.text.title,defaultValue:O.label.attributes.text.defaultValue},{rows:2,style:"resize:vertical; width: 100%;"}),style:new B.StyleAdapter({title:O.label.attributes.style.title,defaultValue:"font-size:60px;"})},properties:{behavior:new B.EnumAdapter({title:O.label.properties.behavior.title,defaultValue:"none",enum:["none","draggable","selectable"]},{style:"width: 100%;"}),constant:new B.StringAdapter({title:O.label.properties.constant.title})},getHtmlContent:function(t,i){l.instanceof(nt,this,l.format(l.messages.instanceof.default,"this","Label")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes)));var o=n.template(this.templates.default);return t.class$=function(){return"kj-label"+("draggable"===t.properties.behavior?" kj-interactive":"")},t.id$=function(){return"none"!==t.properties.behavior&&e.type(t.id)===c&&t.id.length?t.id:""},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&t.attributes.text&&t.attributes.text!==O.label.attributes.text.defaultValue&&T.test(t.attributes.text)||i.push({type:p,index:e,message:n.format(r.invalidText,o,e+1)}),(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(nt);var ot=N.extend({id:"mathexpression",icon:"formula",description:O.mathexpression.description,cursor:"crosshair",templates:{default:'<div data-#= ns #role="mathexpression" class="#: class$() #" style="#: attributes.style #" data-#= ns #id="#: id$() #" data-#= ns #behavior="#: properties.behavior #" data-#= ns #constant="#: properties.constant #" data-#= ns #inline="#: attributes.inline #" data-#= ns #value="#: attributes.formula #" ></div>'},height:180,width:370,attributes:{formula:new B.MathAdapter({title:O.mathexpression.attributes.formula.title,defaultValue:O.mathexpression.attributes.formula.defaultValue}),inline:new B.BooleanAdapter({title:O.mathexpression.attributes.inline.title,defaultValue:O.mathexpression.attributes.inline.defaultValue}),style:new B.StyleAdapter({title:O.mathexpression.attributes.style.title,defaultValue:"font-size:50px;"})},properties:{behavior:new B.EnumAdapter({title:O.mathexpression.properties.behavior.title,defaultValue:"none",enum:["none","draggable","selectable"]},{style:"width: 100%;"}),constant:new B.StringAdapter({title:O.image.properties.constant.title})},getHtmlContent:function(t,i){l.instanceof(ot,this,l.format(l.messages.instanceof.default,"this","MathExpression")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes)));var o=n.template(this.templates.default);return t.class$=function(){return"draggable"===t.properties.behavior?"kj-interactive":""},t.id$=function(){return"none"!==t.properties.behavior&&e.type(t.id)===c&&t.id.length?t.id:""},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&t.attributes.formula&&t.attributes.formula!==O.mathexpression.attributes.formula.defaultValue&&_.test(t.attributes.formula)||i.push({type:p,index:e,message:n.format(r.invalidFormula,o,e+1)}),(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(ot);var rt='<div data-#= ns #role="mathinput" data-#= ns #toolbar="#: JSON.stringify(toolbar$()) #" style="#: attributes.style #" {0}>#: attributes.formula #</div>',at=N.extend({id:"mathinput",icon:"formula_input",description:O.mathinput.description,cursor:"crosshair",templates:{design:n.format(rt,'data-#= ns #enable="false"'),play:n.format(rt,'data-#= ns #bind="value: #: properties.name #.value"'),review:n.format(rt,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #enable="false"')+N.fn.showResult()},height:120,width:370,attributes:{keypad:new B.BooleanAdapter({title:O.mathinput.attributes.keypad.title,defaultValue:!0}),basic:new B.BooleanAdapter({title:O.mathinput.attributes.basic.title,defaultValue:!0}),greek:new B.BooleanAdapter({title:O.mathinput.attributes.greek.title,defaultValue:!1}),operators:new B.BooleanAdapter({title:O.mathinput.attributes.operators.title,defaultValue:!1}),expressions:new B.BooleanAdapter({title:O.mathinput.attributes.expressions.title,defaultValue:!1}),sets:new B.BooleanAdapter({title:O.mathinput.attributes.sets.title,defaultValue:!1}),matrices:new B.BooleanAdapter({title:O.mathinput.attributes.matrices.title,defaultValue:!1}),statistics:new B.BooleanAdapter({title:O.mathinput.attributes.statistics.title,defaultValue:!1}),style:new B.StyleAdapter({title:O.mathinput.attributes.style.title,defaultValue:"font-size:50px;"})},properties:{name:new B.NameAdapter({title:O.mathinput.properties.name.title}),question:new B.QuestionAdapter({title:O.mathinput.properties.question.title}),solution:new B.MathAdapter({title:O.mathinput.properties.solution.title,defaultValue:""}),validation:new B.ValidationAdapter({title:O.mathinput.properties.validation.title}),success:new B.ScoreAdapter({title:O.mathinput.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.mathinput.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.mathinput.properties.omit.title,defaultValue:0})},getHtmlContent:function(t,i){l.instanceof(at,this,l.format(l.messages.instanceof.default,"this","MathInput")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes)));var o=n.template(this.templates[i]);return t.toolbar$=function(){var t=[];return this.get("attributes.keypad")&&t.push("keypad"),this.get("attributes.basic")&&t.push("basic"),this.get("attributes.greek")&&t.push("greek"),this.get("attributes.operators")&&t.push("operators"),this.get("attributes.expressions")&&t.push("expressions"),this.get("attributes.sets")&&t.push("sets"),this.get("attributes.matrices")&&t.push("matrices"),this.get("attributes.statistics")&&t.push("statistics"),{container:"#floating .kj-floating-content",resizable:!1,tools:t}},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(at);var st='<div data-#= ns #role="multiquiz" data-#= ns #mode="#: attributes.mode #" data-#= ns #source="#: data$() #" style="#: attributes.groupStyle #" data-#= ns #item-style="#: attributes.itemStyle #" data-#= ns #selected-style="#: attributes.selectedStyle #" {0}></div>',lt=N.extend({id:"multiquiz",icon:"checkbox_group",description:O.multiquiz.description,cursor:"crosshair",weight:1,templates:{design:n.format(st,'data-#= ns #enable="false"'),play:n.format(st,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #shuffle="#: attributes.shuffle #"'),review:n.format(st,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #enable="false"')+N.fn.showResult()},height:150,width:420,attributes:{mode:new B.EnumAdapter({title:O.multiquiz.attributes.mode.title,defaultValue:"checkbox",enum:["button","checkbox","image","link","multiselect"]},{style:"width: 100%;"}),shuffle:new B.BooleanAdapter({title:O.multiquiz.attributes.shuffle.title}),groupStyle:new B.StyleAdapter({title:O.multiquiz.attributes.groupStyle.title,defaultValue:"font-size:60px;"}),itemStyle:new B.StyleAdapter({title:O.multiquiz.attributes.itemStyle.title}),selectedStyle:new B.StyleAdapter({title:O.multiquiz.attributes.selectedStyle.title}),data:new B.ImageListBuilderAdapter({title:O.multiquiz.attributes.data.title,defaultValue:O.multiquiz.attributes.data.defaultValue})},properties:{name:new B.NameAdapter({title:O.multiquiz.properties.name.title}),question:new B.QuestionAdapter({title:O.multiquiz.properties.question.title}),solution:new B.MultiQuizSolutionAdapter({title:O.multiquiz.properties.solution.title,defaultValue:[]}),validation:new B.ValidationAdapter({title:O.multiquiz.properties.validation.title}),success:new B.ScoreAdapter({title:O.multiquiz.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.multiquiz.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.multiquiz.properties.omit.title,defaultValue:0})},getHtmlContent:function(t,i){l.instanceof(lt,this,l.format(l.messages.instanceof.default,"this","MultiQuiz")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),l.instanceof(R,L.image,l.format(l.messages.instanceof.default,"assets.image","kidoju.ToolAssets"));var o=n.template(this.templates[i]);return t.data$=function(){for(var e=t.attributes.get("data"),i=[],n=L.image.schemes,o=0,r=e.length;o<r;o++){var a={text:e[o].text,image:""};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&new RegExp("^"+s+"://").test(e[o].image)){a.image=e[o].image.replace(s+"://",n[s]);break}i.push(a)}return" "+JSON.stringify(i)},o(e.extend(t,{ns:n.ns}))},value$:function(t){for(var e=(t.value||[]).slice(),i=0;i<e.length;i++)e[i]=n.htmlEncode(e[i]);return e.join("<br/>")},solution$:function(t){for(var e=(t.solution||[]).slice(),i=0;i<e.length;i++)e[i]=n.htmlEncode(e[i]);return e.join("<br/>")},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("quiz"));e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.groupStyle&&!C.test(t.attributes.groupStyle)||t.attributes.itemStyle&&!C.test(t.attributes.itemStyle)||t.attributes.selectedStyle&&!C.test(t.attributes.selectedStyle))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),t.attributes&&t.attributes.data&&k.test(t.attributes.data)||i.push({type:f,index:e,message:n.format(r.invalidData,o,e+1)}),i}});F.register(lt);var ct='<div data-#= ns #role="quiz" data-#= ns #mode="#: attributes.mode #" data-#= ns #source="#: data$() #" style="#: attributes.groupStyle #" data-#= ns #item-style="#: attributes.itemStyle #" data-#= ns #selected-style="#: attributes.selectedStyle #" {0}></div>',ut=N.extend({id:"quiz",icon:"radio_button_group",description:O.quiz.description,cursor:"crosshair",weight:1,templates:{design:n.format(ct,'data-#= ns #enable="false"'),play:n.format(ct,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #shuffle="#: attributes.shuffle #"'),review:n.format(ct,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #enable="false"')+N.fn.showResult()},height:120,width:490,attributes:{mode:new B.EnumAdapter({title:O.quiz.attributes.mode.title,defaultValue:"button",enum:["button","dropdown","image","link","radio"]},{style:"width: 100%;"}),shuffle:new B.BooleanAdapter({title:O.quiz.attributes.shuffle.title}),groupStyle:new B.StyleAdapter({title:O.quiz.attributes.groupStyle.title,defaultValue:"font-size:60px;"}),itemStyle:new B.StyleAdapter({title:O.quiz.attributes.itemStyle.title}),selectedStyle:new B.StyleAdapter({title:O.quiz.attributes.selectedStyle.title}),data:new B.ImageListBuilderAdapter({title:O.quiz.attributes.data.title,defaultValue:O.quiz.attributes.data.defaultValue})},properties:{name:new B.NameAdapter({title:O.quiz.properties.name.title}),question:new B.QuestionAdapter({title:O.quiz.properties.question.title}),solution:new B.QuizSolutionAdapter({title:O.quiz.properties.solution.title}),validation:new B.ValidationAdapter({title:O.quiz.properties.validation.title}),success:new B.ScoreAdapter({title:O.quiz.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.quiz.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.quiz.properties.omit.title,defaultValue:0})},getHtmlContent:function(t,i){l.instanceof(ut,this,l.format(l.messages.instanceof.default,"this","Quiz")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),l.instanceof(R,L.image,l.format(l.messages.instanceof.default,"assets.image","kidoju.ToolAssets"));var o=n.template(this.templates[i]);return t.data$=function(){for(var e=t.attributes.get("data"),i=[],n=L.image.schemes,o=0,r=e.length;o<r;o++){var a={text:e[o].text,image:""};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&new RegExp("^"+s+"://").test(e[o].image)){a.image=e[o].image.replace(s+"://",n[s]);break}i.push(a)}return" "+JSON.stringify(i)},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("quiz"));e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.groupStyle&&!C.test(t.attributes.groupStyle)||t.attributes.itemStyle&&!C.test(t.attributes.itemStyle)||t.attributes.selectedStyle&&!C.test(t.attributes.selectedStyle))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),t.attributes&&t.attributes.data&&k.test(t.attributes.data)||i.push({type:f,index:e,message:n.format(r.invalidData,o,e+1)}),i}});F.register(ut);var ht='<div data-#= ns #role="selector" data-#= ns #id="#: properties.name #" data-#= ns #shape="#: attributes.shape #" data-#= ns #stroke="{ color: \'#: attributes.color #\', dashType: \'solid\', opacity: 1, width: \'#: attributes.strokeWidth #\' }" data-#= ns #empty="#: attributes.empty #" data-#= ns #hit-radius="#: attributes.hitRadius #" {0}></div>',dt=N.extend({id:"selector",icon:"selector",description:O.selector.description,cursor:"crosshair",weight:1,templates:{design:'<img src="https://cdn.kidoju.com/images/o_collection/svg/office/selector.svg" alt="selector">',play:n.format(ht,'data-#= ns #toolbar="\\#floating .kj-floating-content" data-#= ns #bind="value: #: properties.name #.value, source: interactions"'),review:n.format(ht,'data-#= ns #bind="value: #: properties.name #.value, source: interactions" data-#= ns #enable="false"')+N.fn.showResult()},height:50,width:50,attributes:{color:new B.ColorAdapter({title:O.selector.attributes.color.title,defaultValue:"#FF0000"}),empty:new B.StringAdapter({title:O.selector.attributes.empty.title}),hitRadius:new B.NumberAdapter({title:O.selector.attributes.hitRadius.title,defaultValue:15},{"data-decimals":0,"data-format":"n0","data-min":15,"data-max":999}),shape:new B.EnumAdapter({title:O.selector.attributes.shape.title,defaultValue:"circle",enum:["circle","cross","rect"]},{style:"width: 100%;"}),strokeWidth:new B.NumberAdapter({title:O.selector.attributes.strokeWidth.title,defaultValue:12},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":50})},properties:{name:new B.NameAdapter({title:O.selector.properties.name.title}),question:new B.QuestionAdapter({title:O.selector.properties.question.title}),solution:new B.StringArrayAdapter({title:O.selector.properties.solution.title}),validation:new B.ValidationAdapter({title:O.selector.properties.validation.title}),success:new B.ScoreAdapter({title:O.selector.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.selector.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.selector.properties.omit.title,defaultValue:0}),disabled:new B.DisabledAdapter({title:O.selector.properties.disabled.title,defaultValue:!1})},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div["+n.attr("role")+'="selector"]');e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},value$:function(t){return t.result?n.htmlEncode(t.solution||""):"N/A"},solution$:function(t){return n.htmlEncode(t.solution||"")},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&b.test(t.attributes.color)||i.push({type:p,index:e,message:n.format(r.invalidColor,o,e+1)}),t.attributes&&-1!==["circle","cross","rect"].indexOf(t.attributes.shape)||i.push({type:p,index:e,message:n.format(r.invalidShape,o,e+1)}),i}});F.register(dt);var ft=N.extend({id:"table",icon:"table",description:O.table.description,cursor:"crosshair",templates:{default:'<div data-#= ns #role="table" style="#: attributes.style #" data-#= ns #columns="#: attributes.columns #" data-#= ns #rows="#: attributes.rows #" data-#= ns #value="#: JSON.stringify(attributes.data) #"></div>'},height:350,width:600,attributes:{columns:new B.NumberAdapter({title:O.table.attributes.columns.title,defaultValue:4},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":20}),rows:new B.NumberAdapter({title:O.table.attributes.rows.title,defaultValue:6},{"data-decimals":0,"data-format":"n0","data-min":1,"data-max":20}),data:new B.TableAdapter({title:O.table.attributes.data.title,defaultValue:{sheets:[{rows:[{index:0,cells:[{index:0,value:"Table",fontSize:48}]}]}]}})},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children(n.roleSelector("table"));e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(ft);var pt='<textarea id="#: properties.name #" class="k-textbox kj-interactive" style="#: attributes.style #" {0}></textarea>',mt=N.extend({id:"textarea",icon:"text_area",description:O.textarea.description,cursor:"crosshair",weight:2,templates:{design:n.format(pt,""),play:n.format(pt,'data-#= ns #bind="value: #: properties.name #.value"'),review:n.format(pt,'data-#= ns #bind="value: #: properties.name #.value"')+N.fn.showResult()},height:300,width:500,attributes:{style:new B.StyleAdapter({title:O.textarea.attributes.style.title,defaultValue:"font-size:40px;resize:none;"})},properties:{name:new B.NameAdapter({title:O.textarea.properties.name.title}),question:new B.QuestionAdapter({title:O.textarea.properties.question.title}),solution:new B.TextAdapter({title:O.textarea.properties.solution.title}),validation:new B.ValidationAdapter({title:O.textarea.properties.validation.title}),success:new B.ScoreAdapter({title:O.textarea.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.textarea.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.textarea.properties.omit.title,defaultValue:0})},onEnable:function(t,i,n){var o=e(t.currentTarget);o.is(".kj-element")&&i instanceof a&&o.children("textarea").prop({readonly:!n})},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("textarea");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(mt);var gt='<input type="text" id="#: properties.name #" class="kj-interactive" data-#= ns #role="maskedtextbox" data-#= ns #prompt-char="◊" style="#: attributes.style #" {0}>',vt=N.extend({id:"textbox",icon:"text_field",description:O.textbox.description,cursor:"crosshair",weight:1,templates:{design:n.format(gt,""),play:n.format(gt,'data-#= ns #bind="value: #: properties.name #.value"'),review:n.format(gt,'data-#= ns #bind="value: #: properties.name #.value"')+N.fn.showResult()},height:80,width:300,attributes:{mask:new B.StringAdapter({title:O.textbox.attributes.mask.title}),style:new B.StyleAdapter({title:O.textbox.attributes.style.title})},properties:{name:new B.NameAdapter({title:O.textbox.properties.name.title}),question:new B.QuestionAdapter({title:O.textbox.properties.question.title}),solution:new B.StringAdapter({title:O.textbox.properties.solution.title}),validation:new B.ValidationAdapter({title:O.textbox.properties.validation.title}),success:new B.ScoreAdapter({title:O.textbox.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.textbox.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.textbox.properties.omit.title,defaultValue:0})},onEnable:function(t,i,n){var o=e(t.currentTarget);o.is(".kj-element")&&i instanceof a&&o.find("input").prop({readonly:!n})},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.find("input");e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&(r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),i.attributes&&!g.test(i.attributes.style)&&r.css("font-size",Math.floor(.65*r.height())));var s=r.data("kendoMaskedTextBox");n.ui.MaskedTextBox&&s instanceof n.ui.MaskedTextBox&&s.options.mask!==i.attributes.mask&&s.setOptions({mask:i.attributes.mask}),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(vt);var bt='<div data-#= ns #role="textgaps" data-#= ns #text="#: attributes.text #" data-#= ns #input-style="#: attributes.inputStyle #" style="#: attributes.style #" {0}></div>',kt=N.extend({id:"textgaps",icon:"text_gaps",description:O.textgaps.description,cursor:"crosshair",weight:1,templates:{design:n.format(bt,'data-#= ns #enable="false"'),play:n.format(bt,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #shuffle="#: attributes.shuffle #"'),review:n.format(bt,'data-#= ns #bind="value: #: properties.name #.value" data-#= ns #enable="false"')+N.fn.showResult()},height:150,width:420,attributes:{inputStyle:new B.StyleAdapter({title:O.textgaps.attributes.inputStyle.title}),style:new B.StyleAdapter({title:O.textgaps.attributes.style.title,defaultValue:"font-size:32px;"}),text:new B.StringAdapter({title:O.textgaps.attributes.text.title,defaultValue:O.textgaps.attributes.text.defaultValue})},properties:{name:new B.NameAdapter({title:O.textgaps.properties.name.title}),question:new B.QuestionAdapter({title:O.textgaps.properties.question.title}),solution:new B.StringArrayAdapter({title:O.textgaps.properties.solution.title,defaultValue:[]}),validation:new B.ValidationAdapter({title:O.textgaps.properties.validation.title}),success:new B.ScoreAdapter({title:O.textgaps.properties.success.title,defaultValue:1}),failure:new B.ScoreAdapter({title:O.textgaps.properties.failure.title,defaultValue:0}),omit:new B.ScoreAdapter({title:O.textgaps.properties.omit.title,defaultValue:0})},getHtmlContent:function(t,i){return l.instanceof(kt,this,l.format(l.messages.instanceof.default,"this","TextGaps")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),n.template(this.templates[i])(e.extend(t,{ns:n.ns}))},value$:function(t){for(var e=(t.value||[]).slice(),i=0;i<e.length;i++)e[i]=n.htmlEncode((e[i]||"").trim());return e.join("<br/>")},solution$:function(t){for(var e=(t.solution||"").split("\n"),i=0;i<e.length;i++)e[i]=n.htmlEncode((e[i]||"").trim());return e.join("<br/>")},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("textgaps"));e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight()),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&t.attributes.text&&t.attributes.text!==O.textgaps.attributes.text.defaultValue&&T.test(t.attributes.text)||i.push({type:p,index:e,message:n.format(r.invalidText,o,e+1)}),(!t.attributes||t.attributes.inputStyle&&!C.test(t.attributes.inputStyle))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),(!t.attributes||t.attributes.style&&!C.test(t.attributes.style))&&i.push({type:f,index:e,message:n.format(r.invalidStyle,o,e+1)}),i}});F.register(kt);var yt=N.extend({id:"video",icon:"movie",description:O.video.description,cursor:"crosshair",templates:{default:'<div data-#= ns #role="mediaplayer" data-#= ns #mode="video" data-#= ns #autoplay="#: attributes.autoplay #" data-#= ns #files="#: files$() #" data-#= ns #toolbar-height="#: attributes.toolbarHeight #"></div>'},height:300,width:600,attributes:{autoplay:new B.BooleanAdapter({title:"Autoplay",defaultValue:!1}),toolbarHeight:new B.NumberAdapter({title:"Toolbar Height",defaultValue:48}),mp4:new B.AssetAdapter({title:"MP4 File"}),ogv:new B.AssetAdapter({title:"OGV File"}),wbem:new B.AssetAdapter({title:"WBEM File"})},getHtmlContent:function(t,i){l.instanceof(yt,this,l.format(l.messages.instanceof.default,"this","Video")),l.instanceof(a,t,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent")),l.enum(Object.keys(n.ui.Stage.fn.modes),i,l.format(l.messages.enum.default,"mode",Object.keys(n.ui.Stage.fn.modes))),l.instanceof(R,L.video,l.format(l.messages.instanceof.default,"assets.video","kidoju.ToolAssets"));var o=n.template(this.templates.default);return t.files$=function(){var e=t.attributes.get("mp4"),i=t.attributes.get("ogv"),n=t.attributes.get("wbem"),o=L.video.schemes;for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){var a=new RegExp("^"+r+"://");a.test(e)&&(e=e.replace(r+"://",o[r])),a.test(i)&&(i=i.replace(r+"://",o[r])),a.test(n)&&(n=n.replace(r+"://",o[r]))}var s=[];return m.test(e)&&s.push(e),m.test(i)&&s.push(i),m.test(n)&&s.push(n)," "+JSON.stringify(s)},o(e.extend(t,{ns:n.ns}))},onResize:function(t,i){var o=e(t.currentTarget);l.ok(o.is(".kj-element"),n.format("e.currentTarget is expected to be a stage element")),l.instanceof(a,i,l.format(l.messages.instanceof.default,"component","kidoju.data.PageComponent"));var r=o.children("div"+n.roleSelector("mediaplayer"));e.type(i.width)===u&&r.outerWidth(i.get("width")-r.outerWidth(!0)+r.outerWidth()),e.type(i.height)===u&&r.outerHeight(i.get("height")-r.outerHeight(!0)+r.outerHeight());var s=r.data("kendoMediaPlayer");n.ui.MediaPlayer&&s instanceof n.ui.MediaPlayer&&s.resize(),t.preventDefault(),t.stopPropagation()},validate:function(t,e){var i=N.fn.validate.call(this,t,e),o=this.description,r=this.i18n.messages;return t.attributes&&z.test(t.attributes.mp4)||i.push({type:f,index:e,message:n.format(r.invalidVideoFile,o,e+1)}),i}});F.register(yt)}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(441),i(11)],void 0===(r="function"==typeof(n=function(){var t=window.kidoju=window.kidoju||{};return function(e,i){var n=window.kendo,o=t.data=t.data||{},r=window.assert,a=new window.Logger("kidoju.data"),s="object",l="string",c="number",u=/^val_[a-z0-9]{6}$/,h=/^\/\/ ([^\s\[\n]+)( (\[[^\n]+\]))?$/,d=window.location,f=d.protocol+"//"+d.host+"/Kidoju.Widgets/src/js/kidoju.data.workerlib.js",p=o.Model=n.data.Model.define({_parseData:function(t){var i=e.extend({},this.defaults);if(this._initializers)for(var o=0;o<this._initializers.length;o++){var r=this._initializers[o];i[r]=this.defaults[r]()}var a={};for(var s in this.fields)if(this.fields.hasOwnProperty(s)){var l=this.fields[s].from||s,c=t?n.getter(l,!0)(t):void 0;"undefined"===e.type(c)&&(c=i[s]),a[s]=this._parse(s,c)}return a},init:function(t){!t||t instanceof n.data.Model||"boolean"!==e.type(t.hasSubgroups)||!e.isArray(t.items)?n.data.Model.fn.init.call(this,this._parseData(t)):n.data.Model.fn.init.call(this,t)},accept:function(t){if(n.data.Model.fn.accept.call(this,this._parseData(t)),e.isFunction(this.parent)){var i=this.parent();if(i instanceof n.data.ObservableObject)for(var o in i)if(i.hasOwnProperty(o)&&i[o]instanceof this.constructor&&i[o].uid===this.uid){i.trigger("change",{field:o});break}}},shouldSerialize:function(t){return r.type(l,t,n.format(r.messages.type.default,"field",l)),this.fields.hasOwnProperty(t)&&!1!==this.fields[t].serializable&&n.data.Model.fn.shouldSerialize.call(this,t)},toJSON:function(t){var i,o,r={};for(o in this)this.shouldSerialize(o)&&(((i=this[o])instanceof n.data.ObservableObject||i instanceof n.data.ObservableArray||t&&i instanceof g)&&(i=i.toJSON(t)),"undefined"===e.type(i)||e.isPlainObject(i)&&e.isEmptyObject(i)||e.type(i)===s&&i.constructor!==Object||(r[o]=i));return r},validate:function(){var t=!0;for(var i in this.fields)if(this.fields.hasOwnProperty(i)){var n=this.fields[i].validation;if(!e.isPlainObject(n))continue;if(!0===n.required&&!this[i]){t=!1;break}if(e.type(n.pattern)===l&&!new RegExp(n.pattern).test(this[i])){t=!1;break}if(e.type(n.min)===c&&!isNaN(parseFloat(this[i]))&&parseFloat(this[i])<n.min){t=!1;break}if(e.type(n.max)===c&&!isNaN(parseFloat(this[i]))&&parseFloat(this[i])>n.max){t=!1;break}}return t}}),m=t.data.ModelCollectionDataReader=n.Class.extend({init:function(t){this.reader=t,t.model&&(this.model=t.model)},errors:function(t){return this.reader.errors(t)},parse:function(t){if(e.isArray(t)&&e.isFunction(this.model))for(var i=(new this.model).defaults,n=0;n<t.length;n++)for(var o in i)t[n].hasOwnProperty(o)||!i.hasOwnProperty(o)||e.isArray(i[o])||(t[n][o]=i[o]);return this.reader.parse(t)},data:function(t){return this.reader.data(t)},total:function(t){return this.reader.total(t)},groups:function(t){return this.reader.groups(t)},aggregates:function(t){return this.reader.aggregates(t)},serialize:function(t){return this.reader.serialize(t)}}),g=o.DataSource=n.data.DataSource.extend({toJSON:function(){for(var t=[],e=0;e<this.data().length;e++)t.push(this.at(e).toJSON(!0));return t}}),v=o.PageComponent=p.define({id:"id",fields:{id:{type:l,editable:!1,nullable:!0},tool:{type:l,editable:!1,nullable:!0},top:{type:c,defaultValue:0},left:{type:c,defaultValue:0},height:{type:c,defaultValue:-1},width:{type:c,defaultValue:-1},rotate:{type:c,defaultValue:0,parse:function(t){return e.type(t)===c?(t+360)%360:0}},tag:{type:l,defaultValue:null},attributes:{defaultValue:null},properties:{defaultValue:null}},init:function(i){var o=this;if(e.type(i)===s&&(r.instanceof(n.Observable,t.tools,n.format(r.messages.instanceof.default,"kidoju.tools","kendo.Observable")),e.type(i.tool)!==l||0===i.tool.length||!(t.tools[i.tool]instanceof t.Tool)))throw new Error(n.format("`{0}` is not a valid Kidoju tool",i.tool));if(p.fn.init.call(o,i),t.tools&&e.type(o.tool)===l&&o.tool.length){var a=t.tools[o.tool];if(a instanceof t.Tool){var c=a._getAttributeModel(),u=e.extend({},c.prototype.defaults,o.attributes);o.attributes=new c(u),o.attributes.bind("change",function(t){t.field="attributes."+t.field,o.trigger("change",t)});var h=a._getPropertyModel(),d=e.extend({},h.prototype.defaults,o.properties);o.properties=new h(d),o.properties.bind("change",function(t){t.field="properties."+t.field,o.trigger("change",t)}),a.properties&&a.properties.validation instanceof t.adapters.ValidationAdapter&&(o._library=a.properties.validation.library)}}},page:function(){if(e.isFunction(this.parent)){var t=this.parent();if(e.isFunction(t.parent))return t.parent()}},clone:function(){r.type(l,this.tool,n.format(r.messages.type.default,"component.tool",l));var t=this.fields,i={};for(var o in t)t.hasOwnProperty(o)&&e.type(t[o].type)===l&&o!==this.idField&&(i[o]=this.get(o));for(o in t=this.attributes.fields,i.attributes={},t)t.hasOwnProperty(o)&&(i.attributes[o]=JSON.parse(JSON.stringify(this.get("attributes."+o))));for(o in t=this.properties.fields,i.properties={},t)t.hasOwnProperty(o)&&-1===["name","question","solution","validation","success","failure","omit"].indexOf(o)&&(i.properties[o]=JSON.parse(JSON.stringify(this.get("properties."+o))));return new v(i)},validate:function(e){r.instanceof(v,this,n.format(r.messages.instanceof.default,"this","kidoju.data.PageComponent")),r.type(c,e,n.format(r.messages.type.default,"pageIdx",c)),r.instanceof(n.Observable,t.tools,n.format(r.messages.instanceof.default,"kidoju.tools","kendo.Observable"));var i=[],o=this.get("tool");return r.type(l,o,n.format(r.messages.type.default,"tool",l)),t.tools[o]instanceof t.Tool&&(i=t.tools[o].validate(this,e)),i}}),b=o.PageComponentCollectionDataSource=g.extend({init:function(t){g.fn.init.call(this,e.extend(!0,{},t,{schema:{modelBase:v,model:v}})),this.reader=new m(this.reader)},remove:function(t){return g.fn.remove.call(this,t)},insert:function(t,e){if(e){if(!(e instanceof v)){var i=e;(e=this._createNewModel()).accept(i)}return g.fn.insert.call(this,t,e)}}});b.create=function(t){var e=(t=t&&t.push?{data:t}:t)||{},i=e.data;if(e.data=i,!(e instanceof b)&&e instanceof n.data.DataSource)throw new Error("Incorrect DataSource type. Only PageComponentCollectionDataSource instances are supported");return e instanceof b?e:new b(e)};var k=o.Page=p.define({id:"id",fields:{id:{type:l,nullable:!0,editable:!1},components:{defaultValue:[],parse:function(t){return t instanceof b?t:t&&t.push?new b({data:t}):new b(t)}},explanations:{type:l},instructions:{type:l},style:{type:l}},init:function(t){var e=this;p.fn.init.call(e,t),e.model&&e.model.components&&(e.components=new b(e.model.components));var i=e.components;i instanceof b&&(i.parent=function(){return e}),e._loaded=!(!t||!t.components&&!t._loaded)},append:function(t){this.loaded(!0),this.components.add(t)},load:function(){var t={},i="_query",n=this.components;return t[this.idField||"id"]=this.id,this._loaded||(n._data=void 0,i="read"),n.one("change",e.proxy(function(){this.loaded(!0)},this)),n[i](t)},stream:function(){if(e.isFunction(this.parent)){var t=this.parent();if(e.isFunction(t.parent))return t.parent()}},loaded:function(t){if(void 0===t)return this._loaded;this._loaded=t},clone:function(){var t=this.fields,i={};for(var n in t)t.hasOwnProperty(n)&&e.type(t[n].type)===l&&n!==this.idField&&(i[n]=this.get(n));i=new k(i);for(var o=this.components,r=0,a=o.total();r<a;r++)i.components.add(o.at(r).clone());return i},messages:{createMultiQuizExplanations:"The correct answers are:\n\n- **{0}**.",createMultiQuizInstructions:"Please select the options which correspond to your answers to the question: _{0}_.",createTextBoxExplanations:"The correct answer is **{0}**.",createTextBoxInstructions:"Please fill in the text box with your answer to the question: _{0}_.",createQuizExplanations:"The correct answer is **{0}**.",createQuizInstructions:"Please select the option which corresponds to your answer to the question: _{0}_.",emptyPage:"Page {0} cannot be empty.",minConnectors:"At least {0} Connectors are required to make a question on page {1}.",missingDraggable:"Draggable Labels or Images are required for a Drop Zone on page {0}.",missingDropZone:"A Drop Zone is required for draggable Labels or Images on page {0}.",missingLabel:"A Label is recommended on page {0}.",missingMultimedia:"A multimedia element (Image, Audio, Video) is recommended on page {0}.",missingQuestion:"A question is recommended on page {0}.",missingSelectable:"Selectable Labels or Images are required for a Selector on page {0}.",missingSelector:"A Selector is required for selectable Labels or Images on page {0}.",missingInstructions:"Instructions are recommended on page {0}.",missingExplanations:"Explanations are recommended on page {0}."},validate:function(t){r.instanceof(k,this,n.format(r.messages.instanceof.default,"this","kidoju.data.Page")),r.type(c,t,n.format(r.messages.type.default,"pageIdx",c));var i=[],o=!1,a=!1,u=!1,h=!1,d=!1,f=!1,p=!1,m=0,g=this.components.total();0===g&&i.push({type:"error",index:t,message:n.format(this.messages.emptyPage,t+1)});for(var v=0;v<g;v++){var b=this.components.at(v);"connector"===b.tool&&m++,o=o||e.type(b.properties)===s&&"draggable"===b.properties.behavior,a=a||"dropzone"===b.tool,d=d||"label"===b.tool,f=f||"image"===b.tool||"audio"===b.tool||"video"===b.tool,u=u||e.type(b.properties)===s&&"selectable"===b.properties.behavior,h=h||"selector"===b.tool,p=p||e.type(b.properties)===s&&e.type(b.properties.validation)===l&&b.properties.validation.length,i=i.concat(b.validate(t))}return g>0&&!d&&i.push({type:"warning",index:t,message:n.format(this.messages.missingLabel,t+1)}),g>0&&!p&&i.push({type:"warning",index:t,message:n.format(this.messages.missingQuestion,t+1)}),m>0&&m<4&&i.push({type:"warning",index:t,message:n.format(this.messages.minConnectors,4,t+1)}),a&&!o?i.push({type:"error",index:t,message:n.format(this.messages.missingDraggable,t+1)}):!a&&o&&i.push({type:"error",index:t,message:n.format(this.messages.missingDropZone,t+1)}),h&&!u?i.push({type:"error",index:t,message:n.format(this.messages.missingSelectable,t+1)}):!h&&u&&i.push({type:"error",index:t,message:n.format(this.messages.missingSelector,t+1)}),(this.get("instructions")||"").trim()||i.push({type:"warning",index:t,message:n.format(this.messages.missingInstructions,t+1)}),(this.get("explanations")||"").trim()||i.push({type:"warning",index:t,message:n.format(this.messages.missingExplanations,t+1)}),i}});k.createTextBoxPage=function(e){r.isPlainObject(e,r.format(r.messages.isPlainObject.default,"options")),r.type(l,e.question,r.format(r.messages.type.default,e.question,l)),r.type(l,e.solution,r.format(r.messages.type.default,e.solution,l));var i=e.solution.split("\n").filter(function(t){return""!==t.trim()}),o=i.map(t.util.escapeRegExp);return new k({components:[new v({tool:"label",top:40,left:40,width:940,height:160,attributes:{text:e.question}}),new v({tool:"image",top:250,left:580,width:360,height:360,attributes:{alt:e.question}}),new v({tool:"textbox",top:380,left:80,width:380,height:100,properties:{question:e.question,solution:i[0],validation:i.length>1?"// ignoreCaseMatch "+JSON.stringify(["^(?:"+o.join("|")+")$"]):"// ignoreCaseEqual"}})],instructions:n.format(k.prototype.messages.createTextBoxInstructions,e.question),explanations:n.format(k.prototype.messages.createTextBoxExplanations,i[0])})},k.createQuizPage=function(t){return r.isPlainObject(t,r.format(r.messages.isPlainObject.default,"options")),r.type(l,t.question,r.format(r.messages.type.default,t.question,l)),r.isArray(t.data,r.format(r.messages.isArray.default,t.data)),r.type(l,t.solution,r.format(r.messages.type.default,t.solution,l)),new k({components:[new v({tool:"label",top:40,left:40,width:940,height:160,attributes:{text:t.question}}),new v({tool:"image",top:250,left:580,width:360,height:360,attributes:{alt:t.question}}),new v({tool:"quiz",top:250,left:80,width:440,height:360,attributes:{mode:"radio",data:t.data},properties:{question:t.question,solution:t.solution,validation:"// equal"}})],instructions:n.format(k.prototype.messages.createQuizInstructions,t.question),explanations:n.format(k.prototype.messages.createQuizExplanations,t.solution)})},k.createMultiQuizPage=function(t){return r.isPlainObject(t,r.format(r.messages.isPlainObject.default,"options")),r.type(l,t.question,r.format(r.messages.type.default,t.question,l)),r.isArray(t.data,r.format(r.messages.isArray.default,t.data)),r.isArray(t.solution,r.format(r.messages.isArray.default,t.solution)),new k({components:[new v({tool:"label",top:40,left:40,width:940,height:160,attributes:{text:t.question}}),new v({tool:"image",top:250,left:580,width:360,height:360,attributes:{alt:t.question}}),new v({tool:"multiquiz",top:250,left:80,width:440,height:360,attributes:{mode:"checkbox",data:t.data},properties:{question:t.question,solution:t.solution,validation:"// equal"}})],instructions:n.format(k.prototype.messages.createQuizInstructions,t.question),explanations:n.format(k.prototype.messages.createMultiQuizExplanations,t.solution.join("**,\n- **"))})};var y=o.WorkerPool=function(t,i){var n=new Array(t),o=[],r=[],s=!1;function l(t){if(a.debug({message:"Run next workerpool task on thread "+t,method:"WorkerPool.runNextTask"}),o.length>0){var s=o.shift();n[t]=new Worker(s.script),n[t].onmessage=function(e){r[s.id].resolve({name:s.name,value:e.data}),window.URL.revokeObjectURL(s.script),l(t)},n[t].onerror=function(t){var e=new Error(t.message||"Unknown error");e.taskname=s.name,e.filename=t.filename,e.colno=t.colno,e.lineno=t.lineno,r[s.id].reject(e),window.URL.revokeObjectURL(s.script),a.crit(e)},n[t].postMessage(JSON.stringify(s.message)),"number"===e.type(i)&&setTimeout(function(){if("pending"===r[s.id].state()){var e=new Error("The execution of a web worker has timed out");e.taskname=s.name,e.filename=s.script,e.timeout=!0,r[s.id].reject(e),n[t].terminate(),window.URL.revokeObjectURL(s.script),a.crit(e)}},i)}}this.add=function(t,i,n){if(s)throw new Error("Cannot add to running pool");o.push({name:t,script:i,message:n,id:o.length}),r.push(e.Deferred())},this.run=function(){if(s)throw new Error("A worker pool cannot be executed twice");s=!0;for(var t=0;t<n.length;t++)l(t);return e.when.apply(e,r)}},w=o.PageCollectionDataSource=g.extend({init:function(t){var i=t&&t.schema&&e.type(t.schema.model)===s?k.define({model:t.schema.model}):k;g.fn.init.call(this,e.extend(!0,{},t,{schema:{modelBase:i,model:i}})),this.reader=new m(this.reader)},remove:function(t){return g.fn.remove.call(this,t)},insert:function(t,e){if(e){if(!(e instanceof k)){var i=e;(e=this._createNewModel()).accept(i)}return g.fn.insert.call(this,t,e)}},getTestFromProperties:function(){r.instanceof(n.Observable,t.tools,n.format(r.messages.instanceof.default,"kidoju.tools","kendo.Observable")),t.tools;var i={interactions:[]};return e.each(this.data(),function(o,a){e.each(a.components.data(),function(o,a){var c=a.properties;if(c instanceof n.data.Model&&e.type(c.fields)===s&&!e.isEmptyObject(c.fields)&&e.type(c.name)===l&&e.type(c.validation)===l){var u=t.tools[a.tool];r.instanceof(t.Tool,u,n.format(r.messages.instanceof.default,"tool","kidoju.Tool")),i[c.name]={value:u.getTestDefaultValue(a)}}})}),i},validateTestFromProperties:function(i){r.instanceof(n.data.ObservableObject,i,n.format(r.messages.instanceof.default,"test","kendo.data.ObservableObject"));var o=this,d=e.Deferred(),p=new y((window.navigator.hardwareConcurrency||2)-1,function(){for(var t=Date.now(),e=0;e<1e6;e++)Math.floor(100*Math.random());var i=Date.now(),o=((window.app||{}).DEBUG?4:1)*Math.max(n.support.mobileOS.cordova?400:250,10*(i-t));return a.info({method:"workerTimeout",message:"Worker timeout set to "+o+" ms"}),o}()),m={interactions:i.interactions,score:function(){var t=0;for(var e in r.instanceof(n.data.ObservableObject,this,n.format(r.messages.instanceof.default,"this","kendo.data.ObservableObject")),this)this.hasOwnProperty(e)&&u.test(e)&&!this.get(e+".disabled")&&(t+=this.get(e+".score"));return t},max:function(){var t=0;for(var e in r.instanceof(n.data.ObservableObject,this,n.format(r.messages.instanceof.default,"this","kendo.data.ObservableObject")),this)this.hasOwnProperty(e)&&u.test(e)&&!this.get(e+".disabled")&&(t+=this.get(e+".success"));return t},percent:function(){r.instanceof(n.data.ObservableObject,this,n.format(r.messages.instanceof.default,"this","kendo.data.ObservableObject"));var t=this.max(),e=this.score();return 0===e||0===t?0:100*e/t},getScoreArray:function(){r.instanceof(n.data.ObservableObject,this,n.format(r.messages.instanceof.default,"this","kendo.data.ObservableObject"));var t=[];for(var e in this)if(this.hasOwnProperty(e)&&u.test(e)&&!this.get(e+".disabled")){var i=this.get(e),o=i.toJSON();o.value=i.value$(),o.solution=i.solution$(),t.push(o)}return t},toJSON:function(){var t={};for(var e in r.instanceof(n.data.ObservableObject,this,n.format(r.messages.instanceof.default,"this","kendo.data.ObservableObject")),this)this.hasOwnProperty(e)&&(u.test(e)?t[e]={result:this.get(e+".result"),score:this.get(e+".score"),value:this.get(e+".value")}:"interactions"===e&&(t[e]=this.get(e).toJSON()));return t}},g=i.toJSON();for(var b in delete g.interactions,g)g.hasOwnProperty(b)&&e.type(g[b])===s&&(null===g[b].value?g[b]=void 0:g[b]=g[b].value);var k=window.app;return e.ajax({url:k&&k.uris&&k.uris.webapp&&k.uris.webapp.workerlib||f,cache:!0,dataType:"text"}).done(function(u){a.debug({message:"workerLib downloaded",method:"PageCollectionDataSource.validateTestFromProperties",data:{path:k&&k.uris&&k.uris.webapp&&k.uris.webapp.workerlib||f}}),e.each(o.data(),function(o,c){e.each(c.components.data(),function(c,d){var f=d.properties;if(r.instanceof(n.data.Model,f,n.format(r.messages.instanceof.default,"properties","kendo.data.Model")),r.type(s,f.fields,n.format(r.messages.type.default,"properties.fields",s)),e.type(f.name)===l&&e.type(f.validation)===l){var b,k=f.validation.match(h);if(e.isArray(k)&&4===k.length){var y=f._library.filter(function(t){return t.name===k[1]});r.isArray(y,n.format(r.messages.isArray.default,"found")),r.hasLength(y,n.format(r.messages.hasLength.default,"found")),y=y[0],r.isPlainObject(y,n.format(r.messages.isPlainObject.default,"found")),r.type(l,y.formula,n.format(r.messages.type.default,"found.formula",l));var w=k[3];e.type(y.param)===l&&e.type(w)===l&&w.length>"[]".length&&(w=JSON.parse(w)[0]),b=n.format(y.formula,w)}else b=f.validation;var _=new Blob([u+";\nself.onmessage = function (e) {\n"+b+'\nvar data=JSON.parse(e.data);\nif (typeof data.value === "undefined") { self.postMessage(undefined); } else { self.postMessage(validate(data.value, data.solution, data.all)); } self.close(); };'],{type:"application/javascript"}),x=window.URL.createObjectURL(_);a.debug({message:"blob created for "+f.name,method:"PageCollectionDataSource.validateTestFromProperties",data:{blobURL:x,property:f.name}}),f.disabled||(p.add(f.name,x,{value:g[f.name],solution:f.solution,all:g}),m[f.name]={page:o,name:f.name,question:f.question,tool:d.tool,value:i[f.name].value,solution:f.solution,result:void 0,omit:f.omit,failure:f.failure,success:f.success,value$:function(){r.instanceof(v,d,n.format(r.messages.instanceof.default,"component","PageComponent")),r.instanceof(n.Observable,t.tools,n.format(r.messages.instanceof.default,"kidoju.tools","kendo.Observable"));var e=t.tools[d.tool];return r.instanceof(t.Tool,e,n.format(r.messages.instanceof.default,"tool","kidoju.Tool")),e.value$(this)},solution$:function(){r.instanceof(v,d,n.format(r.messages.instanceof.default,"component","PageComponent")),r.instanceof(n.Observable,t.tools,n.format(r.messages.instanceof.default,"kidoju.tools","kendo.Observable"));var e=t.tools[d.tool];return r.instanceof(t.Tool,e,n.format(r.messages.instanceof.default,"tool","kidoju.Tool")),e.solution$(this)}},a.debug({message:f.name+" added to the worker pool",method:"PageCollectionDataSource.validateTestFromProperties",data:{blobURL:x,property:f.name}}))}})}),a.debug({message:"Run the worker pool",method:"PageCollectionDataSource.validateTestFromProperties"}),p.run().done(function(){e.each(arguments,function(t,i){switch(m[i.name].result=i.value,i.value){case!0:m[i.name]&&e.type(m[i.name].success)===c&&(m[i.name].score=m[i.name].success);break;case!1:m[i.name]&&e.type(m[i.name].failure)===c&&(m[i.name].score=m[i.name].failure);break;default:m[i.name]&&e.type(m[i.name].omit)===c&&(m[i.name].score=m[i.name].omit)}}),d.resolve(m)}).fail(d.reject)}).fail(d.reject),d.promise()}});w.create=function(t){var e=(t=t&&t.push?{data:t}:t)||{},i=e.data;if(e.data=i,!(e instanceof w)&&e instanceof n.data.DataSource)throw new Error("Incorrect DataSource type. Only PageCollectionDataSource instances are supported");return e instanceof w?e:new w(e)};var _=o.Stream=p.define({fields:{pages:{defaultValue:[],parse:function(t){return t instanceof w?t:t&&t.push?new w({data:t}):new w(t)}}},init:function(t){var e=this;p.fn.init.call(e,t),e.model&&e.model.pages&&(e.pages=new w(e.model.pages)),e.pages instanceof w&&(e.pages.parent=function(){return e}),e._loaded=!(!t||!t.pages&&!t._loaded)},append:function(t){this.loaded(!0),this.pages.add(t)},load:function(){var t={},i="_query",n=this.pages;return t[this.idField||"id"]=this.id,this._loaded||(n._data=void 0,i="read"),n.one("change",e.proxy(function(){this.loaded(!0)},this)),n[i](t)},loaded:function(t){if(void 0===t)return this._loaded;this._loaded=t},messages:{duplicateNames:"Delete components using the same name `{0}` on pages {1}",minPages:"At least {0} pages are required to be allowed to publish.",minQuestions:"At least {0} questions are required to be allowed to publish.",typeVariety:"The use of at least {0} types of questions (Multiple Choice, TextBox, Connector or else) is recommended.",qtyVariety:"More variety is recommended because {0:p0} of questions are of type {1}."},validate:function(){r.instanceof(_,this,n.format(r.messages.instanceof.default,"this","kidoju.data.Stream"));for(var i=[],o={},a={_total:0,_weight:0},s=0,c=this.pages.total();s<c;s++){for(var u=this.pages.at(s),h=!1,d=0,f=u.components.total();d<f;d++){var p=u.components.at(d),m=p.properties;if(m&&(e.type(m.name)===l&&(o[m.name]=o[m.name]||[],o[m.name].push(s)),e.type(m.validation)===l)){r.type(l,p.tool,n.format(r.messages.type.default,"component.tool",l));var g=p.tool;"connector"===g&&h||(h="connector"===g,a._total+=1,a[g]=(a[g]||0)+1),a._weight+=t.tools[g].weight}}i=i.concat(u.validate(s))}for(var v in o)if(o.hasOwnProperty(v)){var b=o[v];if(e.isArray(b)&&b.length>1){var k=b[0];b=b.map(function(t){return t+1}),i.push({type:"error",index:k,message:n.format(this.messages.duplicateNames,v,b)})}}for(var y in a._weight<8&&i.push({type:"error",index:-1,message:n.format(this.messages.minQuestions,8)}),a)if(a.hasOwnProperty(y)&&"_total"!==y&&"_weight"!==y){var w=a[y]/a._total;w>=.5&&(r.instanceof(n.Observable,t.tools,n.format(r.messages.instanceof.default,"kidoju.tools","kendo.Observable")),i.push({type:"warning",index:-1,message:n.format(this.messages.qtyVariety,w,t.tools[y].description)}))}return i}})}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(17),i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=i._outerHeight,r=n.Widget,a=i.keys,s=i.support,l=i.htmlEncode,c=i._activeElement,u=i._outerWidth,h=i.data.ObservableArray,d="change",f="k-state-hover",p=t.extend,m=t.proxy,g=t.isArray,v=s.browser,b=v.msie,k=b&&v.version<9,y=/"/g,w={ComboBox:"DropDownList",DropDownList:"ComboBox"},_=i.ui.DataBoundWidget.extend({init:function(e,i){var n,o=this.ns;r.fn.init.call(this,e,i),e=this.element,i=this.options,this._isSelect=e.is("select"),this._isSelect&&this.element[0].length&&(i.dataSource||(i.dataTextField=i.dataTextField||"text",i.dataValueField=i.dataValueField||"value")),this.ul=t('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),this.list=t("<div class='k-list-container'/>").append(this.ul).on("mousedown"+o,m(this._listMousedown,this)),(n=e.attr("id"))&&(this.list.attr("id",n+"-list"),this.ul.attr("id",n+"_listbox")),this._header(),this._noData(),this._footer(),this._accessors(),this._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:"No data found."},setOptions:function(t){r.fn.setOptions.call(this,t),t&&t.enable!==e&&(t.enabled=t.enable),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(t){this._editable({readonly:t===e||t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e||t)})},_header:function(){var e=t(this.header),n=this.options.headerTemplate;if(this._angularElement(e,"cleanup"),i.destroy(e),e.remove(),n){var o="function"!=typeof n?i.template(n):n;e=t(o({})),this.header=e[0]?e:null,this.list.prepend(e),this._angularElement(this.header,"compile")}else this.header=null},_noData:function(){var e=t(this.noData),n=this.options.noDataTemplate;this.angular("cleanup",function(){return{elements:e}}),i.destroy(e),e.remove(),n?(this.noData=t('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof n?i.template(n):n):this.noData=null},_footer:function(){var e=t(this.footer),n=this.options.footerTemplate;this._angularElement(e,"cleanup"),i.destroy(e),e.remove(),n?(this.footer=t('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof n?i.template(n):n):this.footer=null},_listOptions:function(e){var n=this,o=n.options,r=o.virtual,a={change:m(n._listChange,n)},s=m(n._listBound,n);return r="object"==typeof r?r:{},(e=t.extend({autoBind:!1,selectable:!0,dataSource:n.dataSource,click:m(n._click,n),activate:m(n._activateItem,n),deactivate:m(n._deactivateItem,n),dataBinding:function(){n.trigger("dataBinding")},dataBound:s,height:o.height,dataValueField:o.dataValueField,dataTextField:o.dataTextField,groupTemplate:o.groupTemplate,fixedGroupTemplate:o.fixedGroupTemplate,template:o.template},e,r,a)).template||(e.template="#:"+i.expr(e.dataTextField,"data")+"#"),o.$angular&&(e.$angular=o.$angular),e},_initList:function(){var t=this._listOptions({selectedItemChange:m(this._listChange,this)});this.options.virtual?this.listView=new i.ui.VirtualList(this.ul,t):this.listView=new i.ui.StaticList(this.ul,t),this.listView.bind("listBound",m(this._listBound,this)),this._setListValue()},_setListValue:function(t){(t=t||this.options.value)!==e&&this.listView.value(t).done(m(this._updateSelectionState,this))},_updateSelectionState:t.noop,_listMousedown:function(t){this.filterInput&&this.filterInput[0]===t.target||t.preventDefault()},_isFilterEnabled:function(){var t=this.options.filter;return t&&"none"!==t},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._isSelect&&(this._customOption=e),this._filter({word:"",open:!1})),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(e,i){var n=this.options,o=this.dataSource,r=p({},o.filter()||{}),a=e||r.filters&&r.filters.length&&!e,s=j(r,n.dataTextField);if(!e&&!s||!this.trigger("filtering",{filter:e})){var l={filters:[],logic:"and"};T(e)&&t.trim(e.value).length&&l.filters.push(e),T(r)&&(l.logic===r.logic?l.filters=l.filters.concat(r.filters):l.filters.push(r)),this._cascading&&this.listView.setDSFilter(l);var c=p({},{page:a?1:o.page(),pageSize:a?o.options.pageSize:o.pageSize(),sort:o.sort(),filter:o.filter(),group:o.group(),aggregate:o.aggregate()},{filter:l});return o[i?"read":"query"](o._mergeState(c))}},_angularElement:function(t,e){t&&this.angular(e,function(){return{elements:t}})},_renderNoData:function(){var t=this.noData;t&&(this._angularElement(t,"cleanup"),t.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(t,"compile"))},_toggleNoData:function(e){t(this.noData).toggle(e)},_toggleHeader:function(t){this.listView.content.prev(".k-group-header").toggle(t)},_renderFooter:function(){var t=this.footer;t&&(this._angularElement(t,"cleanup"),t.html(this.footerTemplate({instance:this})),this._angularElement(t,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var t=this.options.value;null!==t?this.element.val(t):(t=this._accessor(),this.options.value=t),this._old=t},_ignoreCase:function(){var t,e=this.dataSource.reader.model;e&&e.fields&&(t=e.fields[this.options.dataTextField])&&t.type&&"string"!==t.type&&(this.options.ignoreCase=!1)},_focus:function(t){return this.listView.focus(t)},_filter:function(t){var e=this.options,i=e.ignoreCase,n=e.dataTextField,o={value:i?t.word.toLowerCase():t.word,field:n,operator:e.filter,ignoreCase:i};this._open=t.open,this._filterSource(o)},_clearButton:function(){var e=this.options.messages&&this.options.messages.clear?this.options.messages.clear:"clear";this._clear||(this._clear=t('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+e+'"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton||this._clear.remove(),this._hideClear()},search:function(e){var i=this.options;e="string"==typeof e?e:this._inputValue(),clearTimeout(this._typingTimeout),(!i.enforceMinLength&&!e.length||e.length>=i.minLength)&&(this._state="filter",this._isFilterEnabled()?(t.trim(e).length&&this.listView?this.listView._emptySearch=!1:this.listView._emptySearch=!0,this._filter({word:e,open:!0})):this._searchByWord(e))},current:function(t){return this._focus(t)},items:function(){return this.ul[0].children},destroy:function(){var t=this.ns;r.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(t),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(i){if(i===e)return this.listView.selectedDataItems()[0];if("number"!=typeof i){if(this.options.virtual)return this.dataSource.getByUid(t(i).data("uid"));i=t(this.items()).index(i)}return this.dataSource.flatView()[i]},_activateItem:function(){var t=this.listView.focus();t&&this._focused.add(this.filterInput).attr("aria-activedescendant",t.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var t=this.element,e=this.options,n=i.getter,o=t.attr(i.attr("text-field")),r=t.attr(i.attr("value-field"));!e.dataTextField&&o&&(e.dataTextField=o),!e.dataValueField&&r&&(e.dataValueField=r),this._text=n(e.dataTextField),this._value=n(e.dataValueField)},_aria:function(t){var i=this.options,n=this._focused.add(this.filterInput);i.suggest!==e&&n.attr("aria-autocomplete",i.suggest?"both":"list"),t=t?t+" "+this.ul[0].id:this.ul[0].id,n.attr("aria-owns",t),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var e=this._focused,i=this.element,n=i.attr("id"),o=t('label[for="'+n+'"]'),r=i.attr("aria-label"),a=i.attr("aria-labelledby");if(e!==i)if(r)e.attr("aria-label",r);else if(a)e.attr("aria-labelledby",a);else if(o.length){var s=o.attr("id")||this._generateLabelId(o,n);e.attr("aria-labelledby",s)}},_generateLabelId:function(t,e){var i=e+"_label";return t.attr("id",i),i},_blur:function(){this._change(),this.close()},_change:function(){var t,i=this.selectedIndex,n=this.options.value,o=this.value();this._isSelect&&!this.listView.bound()&&n&&(o=n),o!==x(this._old,typeof o)?t=!0:this._valueBeforeCascade!==e&&this._valueBeforeCascade!==x(this._old,typeof this._valueBeforeCascade)&&this._userTriggered?t=!0:i===e||i===this._oldIndex||this.listView.isFiltered()||(t=!0),t&&(null===this._old||""===o?this._valueBeforeCascade=this._old=o:this._valueBeforeCascade=this._old=this.dataItem()?this.dataItem()[this.options.dataValueField]||this.dataItem():null,this._oldIndex=i,this._typing||this.element.trigger(d),this.trigger(d)),this.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var t=this.options,i=this.element.is("[disabled]");t.enable!==e&&(t.enabled=t.enable),!t.enabled||i?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(t){var i=this._value(t);return i===e&&(i=this._text(t)),i},_offsetHeight:function(){var e=0;return this.listView.content.prevAll(":visible").each(function(){var i=t(this);e+=o(i,!0)}),e},_height:function(e){var i,n=this.list,r=this.options.height,a=this.popup.visible();if(e||this.options.noDataTemplate){if(i=n.add(n.parent(".k-animation-container")).show(),!n.is(":visible"))return void i.hide();r=this.listView.content[0].scrollHeight>r?r:"auto",i.height(r),"auto"!==r&&(r=r-this._offsetHeight()-(o(t(this.footer))||0)),this.listView.content.height(r),a||i.hide()}return r},_openHandler:function(t){this._adjustListWidth(),this.trigger("open")?t.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var t,e,i=this.list,n=i[0].style.width,o=this.wrapper;if(i.data("width")||!n)return t=window.getComputedStyle?window.getComputedStyle(o[0],null):0,e=parseFloat(t&&t.width)||u(o),t&&v.msie&&(e+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth)),n="border-box"!==i.css("box-sizing")?e-(u(i)-i.width()):e,i.css({fontFamily:o.css("font-family"),width:this.options.autoWidth?"auto":n,minWidth:n,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",n),!0},_closeHandler:function(t){this.trigger("close")?t.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var t=this.listView,i=!t.focus(),n=C(t.select());n===e&&this.options.highlightFirst&&i&&(n=0),n!==e?t.focus(n):i&&t.scrollToIndex(0)},_calculateGroupPadding:function(t){var e=this.ul.children(".k-first:first"),n=this.listView.content.prev(".k-group-header"),o=0;n[0]&&"none"!==n[0].style.display&&("auto"!==t&&(o=i.support.scrollbar()),o+=parseFloat(e.css("border-right-width"),10)+parseFloat(e.children(".k-group").css("padding-right"),10),n.css("padding-right",o))},_calculatePopupHeight:function(t){var e=this._height(this.dataSource.flatView().length||t);this._calculateGroupPadding(e)},_resizePopup:function(t){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(t):this.popup.one("open",function(t){return m(function(){this._calculatePopupHeight(t)},this)}.call(this,t)))},_popup:function(){this.popup=new n.Popup(this.list,p({},this.options.popup,{anchor:this.wrapper,open:m(this._openHandler,this),close:m(this._closeHandler,this),animation:this.options.animation,isRtl:s.isRtl(this.wrapper),autosize:this.options.autoWidth}))},_makeUnselectable:function(){k&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(e){t(e.currentTarget).toggleClass(f,"mouseenter"===e.type)},_toggle:function(t,i){var n=s.mobileOS&&(s.touch||s.MSPointers||s.pointers);t=t!==e?t:!this.popup.visible(),i||n||this._focused[0]===c()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[t?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this.value()===x(this._cascadedValue,typeof this.value())||(this._cascadedValue=this.value(),this._cascadeTriggered=!0,this.trigger("cascade",{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(d)},_unbindDataSource:function(){this.dataSource.unbind("requestStart",this._requestStartHandler).unbind("requestEnd",this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(t,e){if(((t.value instanceof Array?t.value.length:t.value)||(e instanceof Array?e.length:e))&&t.virtual&&"function"!=typeof t.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function x(t,i){return t!==e&&""!==t&&null!==t&&("boolean"===i?t=Boolean(t):"number"===i?t=Number(t):"string"===i&&(t=t.toString())),t}p(_,{inArray:function(t,e){var i,n,o=e.children;if(!t||t.parentNode!==e)return-1;for(i=0,n=o.length;i<n;i++)if(t===o[i])return i;return-1},unifyType:x}),i.ui.List=_,n.Select=_.extend({init:function(t,e){_.fn.init.call(this,t,e),this._initial=this.element.val()},setDataSource:function(t){var e;this.options.dataSource=t,this._dataSource(),this.listView.bound()&&(this._initialIndex=null,this.listView._current=null),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch(),(e=this._parentWidget())&&this._cascadeSelect(e)},close:function(){this.popup.close()},select:function(t){var i=this;return t===e?i.selectedIndex:i._select(t).done(function(){i._cascadeValue=i._old=i._accessor(),i._oldIndex=i.selectedIndex})},_accessor:function(t,e){return this[this._isSelect?"_accessorSelect":"_accessorInput"](t,e)},_accessorInput:function(t){var i=this.element[0];if(t===e)return i.value;null===t&&(t=""),i.value=t},_accessorSelect:function(t,i){var n=this.element[0];if(t===e)return A(n).value||"";A(n).selected=!1,i===e&&(i=-1),null!==t&&""!==t&&-1==i?this._custom(t):t?n.value=t:n.selectedIndex=i},_syncValueAndText:function(){return!0},_custom:function(e){var i=this.element,n=this._customOption;n||(n=t("<option/>"),this._customOption=n,i.append(n)),n.text(e),n[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(t){var e=this;t.isDefaultPrevented()||(e._request=!0,e._busy||(e._busy=setTimeout(function(){e._arrowIcon&&(e._focused.attr("aria-busy",!0),e._arrowIcon.addClass("k-i-loading"),e._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var e,n=this.element,o=this.options,r=o.dataSource||{};r=t.isArray(r)?{data:r}:r,this._isSelect&&((e=n[0].selectedIndex)>-1&&(o.index=e),r.select=n,r.fields=[{field:o.dataTextField},{field:o.dataValueField}]),this.dataSource?this._unbindDataSource():(this._requestStartHandler=m(this._showBusy,this),this._requestEndHandler=m(this._requestEnd,this),this._errorHandler=m(this._hideBusy,this)),this.dataSource=i.data.DataSource.create(r).bind("requestStart",this._requestStartHandler).bind("requestEnd",this._requestEndHandler).bind("error",this._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(t){var e,i,n,o=this,r=o.listView,s=t.keyCode,l=s===a.DOWN;if(s===a.UP||l){if(t.altKey)o.toggle(l);else{if(!r.bound()&&!o.ul[0].firstChild)return o._fetch||(o.dataSource.one(d,function(){o._fetch=!1,o._move(t)}),o._fetch=!0,o._filterSource()),t.preventDefault(),!0;if(n=o._focus(),o._fetch||n&&!n.hasClass("k-state-selected")||(l?(o._nextItem(),o._focus()||o._lastItem()):(o._prevItem(),o._focus()||o._firstItem())),e=r.dataItemByIndex(r.getElementIndex(o._focus())),o.trigger("select",{dataItem:e,item:o._focus()}))return void o._focus(n);o._select(o._focus(),!0).done(function(){o.popup.visible()||o._blur(),null===o._cascadedValue?o._cascadedValue=o.value():o._cascadedValue=o.dataItem()?o.dataItem()[o.options.dataValueField]||o.dataItem():null})}t.preventDefault(),i=!0}else if(s===a.ENTER||s===a.TAB){o.popup.visible()&&t.preventDefault(),n=o._focus(),e=o.dataItem(),o.popup.visible()||e&&o.text()===o._text(e)||(n=null);var u=o.filterInput&&o.filterInput[0]===c();if(n){var h=!0;if((e=r.dataItemByIndex(r.getElementIndex(n)))&&(h=o._value(e)!==_.unifyType(o.value(),typeof o._value(e))),h&&o.trigger("select",{dataItem:e,item:n}))return;o._select(n)}else o.input&&((o._syncValueAndText()||o._isSelect)&&o._accessor(o.input.val()),o.listView.value(o.input.val()));o._focusElement&&o._focusElement(o.wrapper),u&&s===a.TAB?o.wrapper.focusout():o._blur(),o.close(),i=!0}else if(s===a.ESC)o.popup.visible()&&t.preventDefault(),o.close(),i=!0;else if(o.popup.visible()&&(s===a.PAGEDOWN||s===a.PAGEUP)){t.preventDefault();var f=s===a.PAGEDOWN?1:-1;r.scrollWith(f*r.screenHeight()),i=!0}return i},_fetchData:function(){var t=this,e=!!t.dataSource.view().length;t._request||t.options.cascadeFrom||t.listView.bound()||t._fetch||e||(t._fetch=!0,t.dataSource.fetch().done(function(){t._fetch=!1}))},_options:function(t,i,n){var o,r,a,s,c=this.element,u=c[0],h=t.length,d="",f=0;for(i&&(d=i);f<h;f++)o="<option",r=t[f],a=this._text(r),(s=this._value(r))!==e&&(-1!==(s+="").indexOf('"')&&(s=s.replace(y,"&quot;")),o+=' value="'+s+'"'),o+=">",a!==e&&(o+=l(a)),d+=o+="</option>";c.html(d),n!==e&&(u.value=n,u.value&&!n&&(u.selectedIndex=-1)),-1!==u.selectedIndex&&(o=A(u))&&o.setAttribute("selected","selected")},_reset:function(){var e=this,i=e.element,n=i.attr("form"),o=n?t("#"+n):i.closest("form");o[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})},e._form=o.on("reset",e._resetHandler))},_parentWidget:function(){var e=this.options.name;if(this.options.cascadeFrom){var i=t("#"+this.options.cascadeFrom),n=i.data("kendo"+e);return n||(n=i.data("kendo"+w[e])),n}},_cascade:function(){var t,e=this,i=e.options;if(i.cascadeFrom){if(!(t=e._parentWidget()))return;e._cascadeHandlerProxy=m(e._cascadeHandler,e),e._cascadeFilterRequests=[],i.autoBind=!1,t.bind("set",function(){e.one("set",function(t){e._selectedValue=t.value||e._accessor()})}),t.first("cascade",e._cascadeHandlerProxy),t.listView.bound()?(e._toggleCascadeOnFocus(),e._cascadeSelect(t)):(t.one("dataBound",function(){e._toggleCascadeOnFocus(),t.popup.visible()&&t._focused.focus()}),t.value()||e.enable(!1))}},_toggleCascadeOnFocus:function(){var t=this,e=t._parentWidget(),i=b?"blur":"focusout";e._focused.add(e.filterInput).bind("focus",function(){e.unbind("cascade",t._cascadeHandlerProxy),e.first(d,t._cascadeHandlerProxy)}),e._focused.add(e.filterInput).bind(i,function(){e.unbind(d,t._cascadeHandlerProxy),e.first("cascade",t._cascadeHandlerProxy)})},_cascadeHandler:function(t){var e=this._parentWidget(),i=this.value();this._userTriggered=t.userTriggered,this.listView.bound()&&this._clearSelection(e,!0),this._cascadeSelect(e,i)},_cascadeChange:function(t){var e=this._accessor()||this._selectedValue;this._cascadeFilterRequests.length||(this._selectedValue=null),this._userTriggered?this._clearSelection(t,!0):e?(e!==this.listView.value()[0]&&this.value(e),this.dataSource.view()[0]&&-1!==this.selectedIndex||this._clearSelection(t,!0)):this.dataSource.flatView().length&&this.select(this.options.index),this.enable(),this._triggerCascade(),this._triggerChange(),this._userTriggered=!1},_cascadeSelect:function(t,i){var n=this,o=t.dataItem(),r=o?t._value(o):null,a=n.options.cascadeFromField||t.options.dataValueField;if(n._valueBeforeCascade=i!==e?i:n.value(),r||0===r){j(n.dataSource.filter()||{},a);var s=function(){var e=n._cascadeFilterRequests.shift();e&&n.unbind("dataBound",e),(e=n._cascadeFilterRequests[0])&&n.first("dataBound",e),n._cascadeChange(t)};n._cascadeFilterRequests.push(s),1===n._cascadeFilterRequests.length&&n.first("dataBound",s),n._cascading=!0,n._filterSource({field:a,operator:"eq",value:r}),n._cascading=!1}else n.enable(!1),n._clearSelection(t),n._triggerCascade(),n._triggerChange(),n._userTriggered=!1}});var S=i.ui.DataBoundWidget.extend({init:function(e,n){r.fn.init.call(this,e,n),this.element.attr("role","listbox").on("click.StaticList","li",m(this._click,this)).on("mouseenter.StaticList","li",function(){t(this).addClass(f)}).on("mouseleave.StaticList","li",function(){t(this).removeClass(f)}),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=i.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var o=this.options.value;o&&(this._values=t.isArray(o)?o.slice(0):[o]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=m(function(){var t=this;clearTimeout(t._scrollId),t._scrollId=setTimeout(function(){t._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",d,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(e){var n,o=e||{};o=t.isArray(o)?{data:o}:o,o=i.data.DataSource.create(o),this.dataSource?(this.dataSource.unbind(d,this._refreshHandler),n=this.value(),this.value([]),this.bound(!1),this.value(n)):this._refreshHandler=m(this.refresh,this),this.setDSFilter(o.filter()),this.dataSource=o.bind(d,this._refreshHandler),this._fixedHeader()},skip:function(){return this.dataSource.skip()},setOptions:function(t){r.fn.setOptions.call(this,t),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(".StaticList"),this._refreshHandler&&this.dataSource.unbind(d,this._refreshHandler),clearTimeout(this._scrollId),r.fn.destroy.call(this)},dataItemByIndex:function(t){return this.dataSource.flatView()[t]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(t){var e=this.element[0].children[t];e&&this.scroll(e)},scrollWith:function(t){this.content.scrollTop(this.content.scrollTop()+t)},scroll:function(t){if(t){t[0]&&(t=t[0]);var e=this.content[0],i=t.offsetTop,n=t.offsetHeight,o=e.scrollTop,r=e.clientHeight,a=i+n;o>i?o=i:a>o+r&&(o=a-r),e.scrollTop=o}},selectedDataItems:function(t){if(t===e)return this._dataItems.slice();this._dataItems=t,this._values=this._getValues(t)},_getValues:function(e){var i=this._valueGetter;return t.map(e,function(t){return i(t)})},focusNext:function(){var t=this.focus();t=t?t.next():0,this.focus(t)},focusPrev:function(){var t=this.focus();t=t?t.prev():this.element[0].children.length-1,this.focus(t)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(C(this.element[0].children))},focus:function(i){var n,o=this._optionID;if(i===e)return this._current;i=C(this._get(i)),i=t(this.element[0].children[i]),this._current&&(this._current.removeClass("k-state-focused").removeAttr("id"),this.trigger("deactivate")),(n=!!i[0])&&(i.addClass("k-state-focused"),this.scroll(i),i.attr("id",o)),this._current=n?i:null,this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():e},skipUpdate:function(t){this._skipUpdate=t},select:function(i){var n,o,r=this.options.selectable,a="multiple"!==r&&!1!==r,s=this._selectedIndices,l=[];if(i===e)return s.slice();1===(i=this._get(i)).length&&-1===i[0]&&(i=[]);var c=t.Deferred().resolve(),u=this.isFiltered();return u&&!a&&this._deselectFiltered(i)?c:a&&!u&&-1!==t.inArray(C(i),s)?(this._dataItems.length&&this._view.length&&(this._dataItems=[this._view[s[0]].item]),c):(n=(o=this._deselect(i)).removed,(i=o.indices).length&&(a&&(i=[C(i)]),l=this._select(i)),(l.length||n.length)&&(this._valueComparer=null,this.trigger(d,{added:l,removed:n})),c)},removeAt:function(t){return this._selectedIndices.splice(t,1),this._values.splice(t,1),this._valueComparer=null,{position:t,dataItem:this._dataItems.splice(t,1)[0]}},setValue:function(e){e=t.isArray(e)||e instanceof h?e.slice(0):[e],this._values=e,this._valueComparer=null},value:function(i){var n,o=this._valueDeferred;return i===e?this._values.slice():(this.setValue(i),o&&"resolved"!==o.state()||(this._valueDeferred=o=t.Deferred()),this.bound()&&(n=this._valueIndices(this._values),"multiple"===this.options.selectable&&this.select(-1),this.select(n),o.resolve()),this._skipUpdate=!1,o)},items:function(){return this.element.children(".k-item")},_click:function(e){e.isDefaultPrevented()||this.trigger("click",{item:t(e.currentTarget)})||this.select(e.currentTarget)},_valueExpr:function(t,e){var i,n,o=0,r=[];if(!this._valueComparer||this._valueType!==t){for(this._valueType=t;o<e.length;o++)r.push(x(e[o],t));i="for (var idx = 0; idx < "+r.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",n=new Function("current","values",i),this._valueComparer=function(t){return n(t,r)}}return this._valueComparer},_dataItemPosition:function(t,e){var i=this._valueGetter(t);return this._valueExpr(typeof i,e)(i)},_getter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_deselect:function(e){var i,n,o,r=this.element[0].children,a=this.options.selectable,s=this._selectedIndices,l=this._dataItems,c=this._values,u=[],h=0,d=0;if(e=e.slice(),!0!==a&&e.length){if("multiple"===a)for(;h<e.length;h++)if(n=e[h],t(r[n]).hasClass("k-state-selected"))for(i=0;i<s.length;i++)if((o=s[i])===n){t(r[o]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:i+d,dataItem:l.splice(i,1)[0]}),s.splice(i,1),e.splice(h,1),c.splice(i,1),d+=1,h-=1,i-=1;break}}else{for(;h<s.length;h++)t(r[s[h]]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:h,dataItem:l[h]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:e,removed:u}},_deselectFiltered:function(e){for(var i,n,o,r=this.element[0].children,a=[],s=0;s<e.length;s++)n=e[s],i=this._view[n].item,(o=this._dataItemPosition(i,this._values))>-1&&(a.push(this.removeAt(o)),t(r[n]).removeClass("k-state-selected"));return!!a.length&&(this.trigger(d,{added:[],removed:a}),!0)},_select:function(e){var i,n,o=this.element[0].children,r=this._view,a=[],s=0;for(-1!==C(e)&&this.focus(e);s<e.length;s++)i=r[n=e[s]],-1!==n&&i&&(i=i.item,this._selectedIndices.push(n),this._dataItems.push(i),this._values.push(this._valueGetter(i)),t(o[n]).addClass("k-state-selected").attr("aria-selected",!0),a.push({dataItem:i}));return a},getElementIndex:function(e){return t(e).data("offset-index")},_get:function(t){return"number"==typeof t?t=[t]:g(t)||(t=[(t=this.getElementIndex(t))!==e?t:-1]),t},_template:function(){var t=this.options,e=t.template;return e?(e=i.template(e),e=function(t){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+e(t)+"</li>"}):e=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1}),e},_templates:function(){var t,e=this.options,n={template:e.template,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate};for(var o in n)(t=n[o])&&"function"!=typeof t&&(n[o]=i.template(t));this.templates=n},_normalizeIndices:function(t){for(var i=[],n=0;n<t.length;n++)t[n]!==e&&i.push(t[n]);return i},_valueIndices:function(t,e){var i,n=this._view,o=0;if(e=e?e.slice():[],!t.length)return[];for(;o<n.length;o++)-1!==(i=this._dataItemPosition(n[o].item,t))&&(e[i]=o);return this._normalizeIndices(e)},_firstVisibleItem:function(){for(var e=this.element[0],i=this.content[0].scrollTop,n=t(e.children[0]).height(),o=Math.floor(i/n)||0,r=e.children[o]||e.lastChild,a=r.offsetTop<i;r;)if(a){if(r.offsetTop+n>i||!r.nextSibling)break;r=r.nextSibling}else{if(r.offsetTop<=i||!r.previousSibling)break;r=r.previousSibling}return this._view[t(r).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var t=this.templates.fixedGroupTemplate;if(t){var e=this._firstVisibleItem();e&&e.group&&this.header.html(t(e.group))}},_renderItem:function(t){var e='<li tabindex="-1" role="option" unselectable="on" class="k-item',i=t.item,n=0!==t.index,o=t.selected;return n&&t.newGroup&&(e+=" k-first"),o&&(e+=" k-state-selected"),e+='" aria-selected="'+(o?"true":"false")+'" data-offset-index="'+t.index+'">',e+=this.templates.template(i),n&&t.newGroup&&(e+='<div class="k-group">'+this.templates.groupTemplate(t.group)+"</div>"),e+"</li>"},_render:function(){var t,e,i,n,o="",r=0,a=0,s=[],l=this.dataSource.view(),c=this.value(),u=this.isGrouped();if(u)for(r=0;r<l.length;r++)for(e=l[r],i=!0,n=0;n<e.items.length;n++)t={selected:this._selected(e.items[n],c),item:e.items[n],group:e.value,newGroup:i,index:a},s[a]=t,a+=1,o+=this._renderItem(t),i=!1;else for(r=0;r<l.length;r++)t={selected:this._selected(l[r],c),item:l[r],index:r},s[r]=t,o+=this._renderItem(t);this._view=s,this.element[0].innerHTML=o,u&&s.length&&this._renderHeader()},_selected:function(t,e){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(t,e)},setDSFilter:function(t){this._lastDSFilter=p({},t)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!i.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(t){var e,i=t&&t.action,n=this.options.skipUpdateOnBind,o="itemchange"===i;this.trigger("dataBinding"),this._angularItems("cleanup"),this._fixedHeader(),this._render(),this.bound(!0),o||"remove"===i?(e=function(t,e){var i,n,o,r,a=e.length,s=t.length,l=[],c=[];if(s)for(o=0;o<s;o++){for(i=t[o],n=!1,r=0;r<a;r++)if(i===e[r]){n=!0,l.push({index:o,item:i});break}n||c.push(i)}return{changed:l,unchanged:c}}(this._dataItems,t.items)).changed.length&&(o?this.trigger("selectedItemChange",{items:e.changed}):this.value(this._getValues(e.unchanged))):this.isFiltered()||this._skipUpdate||this._emptySearch?(this.focus(0),this._skipUpdate&&(this._skipUpdate=!1,this._selectedIndices=this._valueIndices(this._values,this._selectedIndices))):n||i&&"add"!==i||this.value(this._values),this._valueDeferred&&this._valueDeferred.resolve(),this._angularItems("compile"),this.trigger("dataBound")},bound:function(t){if(t===e)return this._bound;this._bound=t},isGrouped:function(){return(this.dataSource.group()||[]).length}});function C(t){return t[t.length-1]}function A(t){var e=t.selectedIndex;return e>-1?t.options[e]:{}}function T(e){return!(!e||t.isEmptyObject(e)||e.filters&&!e.filters.length)}function j(e,i){var n,o=!1;return e.filters&&(n=t.grep(e.filters,function(t){return o=j(t,i),t.filters?t.filters.length:t.field!=i}),o||e.filters.length===n.length||(o=!0),e.filters=n),o}n.plugin(S)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n=i(27),o=i(16),r=i(50);t.exports=function(t){return function(e,i,a){var s,l=n(e),c=o(l.length),u=r(a,c);if(t&&i!=i){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(36),o=i(12)("toStringTag"),r="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?i:r?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n=i(2),o=i(37),r=i(7),a=i(94),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,i){var o={},s=r(function(){return!!a[t]()||"​"!="​"[t]()}),l=o[t]=s?e(h):a[t];i&&(o[i]=l),n(n.P+n.F*s,"String",o)},h=u.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e,i){var n=i(12)("iterator"),o=!1;try{var r=[7][n]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:i=!0}},r[n]=function(){return a},t(r)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(26),o=i(22),r=i(7),a=i(37),s=i(12);t.exports=function(t,e,i){var l=s(t),c=i(a,l,""[t]),u=c[0],h=c[1];r(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(o(String.prototype,t,u),n(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,i){var n=i(34),o=i(138),r=i(103),a=i(10),s=i(16),l=i(105),c={},u={};(e=t.exports=function(t,e,i,h,d){var f,p,m,g,v=d?function(){return t}:l(t),b=n(i,h,e?2:1),k=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(r(v)){for(f=s(t.length);f>k;k++)if((g=e?b(a(p=t[k])[0],p[1]):b(t[k]))===c||g===u)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=o(m,b,p.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,i){var n=i(10),o=i(35),r=i(12)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[r])?e:o(i)}},function(t,e,i){var n=i(8).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){"use strict";var n=i(8),o=i(2),r=i(22),a=i(59),s=i(42),l=i(76),c=i(58),u=i(9),h=i(7),d=i(74),f=i(54),p=i(95);t.exports=function(t,e,i,m,g,v){var b=n[t],k=b,y=g?"set":"add",w=k&&k.prototype,_={},x=function(t){var e=w[t];r(w,t,"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof k&&(v||w.forEach&&!h(function(){(new k).entries().next()}))){var S=new k,C=S[y](v?{}:-0,1)!=S,A=h(function(){S.has(1)}),T=d(function(t){new k(t)}),j=!v&&h(function(){for(var t=new k,e=5;e--;)t[y](e,e);return!t.has(-0)});T||((k=e(function(e,i){c(e,k,t);var n=p(new b,e,k);return void 0!=i&&l(i,g,n[y],n),n})).prototype=w,w.constructor=k),(A||j)&&(x("delete"),x("has"),g&&x("get")),(j||C)&&x(y),v&&w.clear&&delete w.clear}else k=m.getConstructor(e,t,g,y),a(k.prototype,i),s.NEED=!0;return f(k,t),_[t]=k,o(o.G+o.W+o.F*(k!=b),_),v||m.setStrong(k,t,g),k}},function(t,e,i){for(var n,o=i(8),r=i(26),a=i(47),s=a("typed_array"),l=a("view"),c=!(!o.ArrayBuffer||!o.DataView),u=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(n=o[d[h++]])?(r(n.prototype,s,!0),r(n.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(449),i(1),i(6),i(43)],void 0===(r="function"==typeof(n=function(){var t=window.app=window.app||{};return function(e,i){var n=window.assert,o=new window.Logger("app.rapi"),r=window.chrome,a=window.Fingerprint,s=window.history,l=window.localStorage,c=window.location,u=window.navigator,h=window.sessionStorage,d=t.rapi={},f=t.uris=t.uris||{},p="string",m=["facebook","google","live","twitter"],g="GET",v="POST",b="PUT",k=["publish","draft"],y=/Android/,w=/;\s(MSIE\s|Trident\/)/,_=/^[a-f0-9]{24}$/,x=/^[a-z]{2}$/,S=/^https?\:\/\//;e.ajaxPrefilter("arraybuffer",function(t){t.xhrFields={responseType:"arraybuffer"},t.responseFields.arraybuffer="response",t.converters["binary arraybuffer"]=!0}),f.rapi=f.rapi||{},S.test(f.rapi.root)||(t.DEBUG?f.rapi.root="http://localhost:3001":f.rapi.root="https://www.kidoju.com"),f.rapi.ping="/api/ping",f.rapi.oauth={application:"/api/auth/application/{0}",refresh:"/api/auth/refresh",revoke:"/api/auth/revoke",signIn:"/api/auth/{0}/signin",signOut:"/api/auth/signout"},f.rapi.v1={user:"/api/v1/users/{0}",me:"/api/v1/users/me",mySummaries:"/api/v1/users/me/{0}/summaries",myActivities:"/api/v1/users/me/{0}/activities",myFavourites:"/api/v1/users/me/{0}/favourites",myFavourite:"/api/v1/users/me/{0}/favourites/{1}",languages:"/api/v1/languages",language:"/api/v1/languages/{0}",categories:"/api/v1/languages/{0}/categories",summaries:"/api/v1/{0}/summaries",summary:"/api/v1/{0}/summaries/{1}",versions:"/api/v1/{0}/summaries/{1}/versions",version:"/api/v1/{0}/summaries/{1}/versions/{2}",activities:"/api/v1/{0}/summaries/{1}/activities",activity:"/api/v1/{0}/summaries/{1}/activities/{2}",upload:"/api/v1/{0}/summaries/{1}/upload",files:"/api/v1/{0}/summaries/{1}/files",file:"/api/v1/{0}/summaries/{1}/file/{2}"},f.rapi.web={search:"/api/web/search/{0}"},d.util={format:function(t){for(var e=t,i=1;i<arguments.length;i++){var n=new RegExp("\\{"+(i-1).toString()+"\\}","g");e=e.replace(n,arguments[i]&&"function"==typeof arguments[i].toString?arguments[i].toString():"")}return e},getFingerPrint:function(){var t=0;if("function"===e.type(a))t=new a({canvas:!0,ie_activex:!1,screen_resolution:!0}).get();else if(u&&u.userAgent)for(var i=u.userAgent,n=0;n<i.length;n++)t=(t<<5)-t+i.charCodeAt(n),t|=0;return Math.abs(t)},uuid:function(){var t="",i=window.crypto||window.msCrypto;if(i&&e.isFunction(i.getRandomValues)&&e.isFunction(Uint8Array)&&u.userAgent.indexOf("PhantomJS")<0)for(var n=function(){var t=[];return Array.apply([],i.getRandomValues(new Uint8Array(32))).forEach(function(e){t=t.concat(e.toString(16).split(""))}),function(e){var i="";switch(e){case 8:i+="-"+t.pop();break;case 12:i+="-4";break;case 16:i+="-"+(3&parseInt(t.pop(),16)|8).toString(16);break;case 20:i+="-"+t.pop();break;default:i+=t.pop()}return i}}(),o=0;o<32;o++)t+=n(o);else t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});return t},setState:function(t){n.type(p,t,n.format(n.messages.type.default,"state",p));var e=w.test(u.userAgent)||y.test(u.userAgent)?l:h;e&&(e.setItem("state",t),o.debug({message:"state added to sessionStorage",method:"util.setState",data:{state:t}}))},getState:function(){var t,e=w.test(u.userAgent)||y.test(u.userAgent)?l:h;return e&&(t=e.getItem("state"),e.removeItem("state"),o.debug({message:"state read and cleared from sessionStorage",method:"util.getState",data:{state:t}})),t},getAccessTokenHashPos:function(t){return n.type(p,t,n.format(n.messages.type.default,"location",p)),Math.max(t.indexOf("#access_token"),t.indexOf("#token_type"),t.indexOf("#expires_in"),t.indexOf("#state"))},parseToken:function(t){var i=d.util.getAccessTokenHashPos(t),n={},r={};if(i>=0){o.debug({message:"token found in url",method:"parseToken",data:{url:t,pos:i}});var a=t.substr(i+1).split("#")[0].split("&");e.each(a,function(t,e){var i=e.indexOf("=");if(i>0&&i<e.length-"=".length){var o=decodeURIComponent(e.substr(i+"=".length)),r=parseInt(o,10);n[e.substr(0,i)]=isNaN(r)||r.toString()!==o?o:r}});var s=!1,l=!1,c=!1;if(e.type(n.error)!==p){(s=e.type(n.access_token)===p&&n.access_token.length>10)||(n.error="Invalid token"),(l=d.util.getState()===n.state&&0===n.state.indexOf(d.util.getFingerPrint()))||(n.error="Invalid state");var u=Date.now();(c=u-n.ts>-3e4&&u-n.ts<3e5)||(n.error="Invalid timestamp")}o.debug({message:"token verified",method:"parseToken",data:{qs:n}}),s&&l&&c?(r={access_token:n.access_token,expires:n.expires,ts:n.ts},d.util.setToken(r),setTimeout(function(){e(document).trigger("auth.success")},500)):(r={error:n.error},d.util.clearToken(),setTimeout(function(){e(document).trigger("auth.failure",{error:n.error})},500))}return r},setToken:function(t){n.isPlainObject(t,n.format(n.messages.isPlainObject.default,"token")),n.type(p,t.access_token,n.format(n.messages.type.default,"token.access_token",p)),n.type("number",t.expires,n.format(n.messages.type.default,"token.expires",p)),n.type("number",t.ts,n.format(n.messages.type.default,"token.ts",p)),l&&(l.setItem("token",JSON.stringify(t)),o.debug({message:"token added to localStorage",method:"util.setToken",data:{token:t}}))},getAccessToken:function(){if(l){var t=JSON.parse(l.getItem("token"));return!t||t.ts&&t.expires&&t.ts+1e3*t.expires<Date.now()?(t&&(l.removeItem("token"),o.debug({message:"access token read from localStorage has expired",method:"util.getAccessToken",data:{token:t}})),null):(o.debug({message:"access token read from localStorage is still valid",method:"util.getAccessToken",data:{token:t}}),t.access_token)}return o.error({message:"without localStorage support, signing in cannot work",method:"util.getAccessToken"}),null},ensureToken:function(){if(l){var i=JSON.parse(l.getItem("token"));e.isPlainObject(i)&&i.expires<=86400&&setInterval(function(){i=JSON.parse(l.getItem("token")),e.isPlainObject(i)&&Date.now()>i.ts+1e3*(i.expires-600)&&t.rapi.oauth.refresh()},6e4)}else o.error({message:"without localStorage support, signing in cannot work",method:"util.ensureToken"})},clearToken:function(){l&&(l.removeItem("token"),o.debug({message:"token removed from localStorage",method:"util.clearToken"}))},cleanUrl:function(t){var e=t,i=d.util.getAccessTokenHashPos(t);return i>=0&&(e=e.substring(0,i)),"#"===e.slice(-1)&&(e=e.substring(0,e.length-1)),e},cleanHistory:function(){var t=d.util.getAccessTokenHashPos(c.hash);t>=0&&(s?s.replaceState({},document.title,c.pathname+c.hash.substr(0,t)):c.hash=c.hash.substr(0,t))},getHeaders:function(i){n.isPlainObject(i,n.format(n.messages.isPlainObject.default,"options"));var o={};if(!0===i.security){var r=d.util.getAccessToken();typeof r===p&&(o.Authorization="Bearer "+r)}if(t&&t.constants&&t.constants.appScheme&&(o["X-App-Scheme"]=t.constants.appScheme),!0===i.trace){var a=e("#trace").val();typeof a===p&&(o["X-Trace-ID"]=a.substr(0,36))}return o},extendQueryWithPartition:function(t,i){if(!e.isPlainObject(i))return t;for(var o in t&&Array.isArray(t.filter)?t.filter={logic:"and",filters:t.filter}:t&&e.isPlainObject(t.filter)&&e.type(t.filter.field)===p&&e.type(t.filter.operator)===p?t.filter={logic:"and",filters:[t.filter]}:t&&e.isPlainObject(t.filter)&&"or"===t.filter.logic&&Array.isArray(t.filter.filters)?t.filter={logic:"and",filters:[t.filter]}:t&&e.isPlainObject(t.filter)&&"and"===t.filter.logic&&Array.isArray(t.filter.filters)?e.noop():t.filter={logic:"and",filters:[]},n.equal("and",t.filter.logic,n.format(n.messages.equal.default,"query.filter.logic","and")),n.isArray(t.filter.filters,n.format(n.messages.isArray.default,"query.filter.filters")),i)if(i.hasOwnProperty(o)&&"undefined"!==e.type(i[o])){for(var r,a=0,s=t.filter.filters.length;a<s;a++){var l=t.filter.filters[a];if(l.field===o&&"eq"===l.operator&&l.value===i[o]){r=l;break}}r||t.filter.filters.push({field:o,operator:"eq",value:i[o]})}return delete t.partition,t}},d.test={ping:function(){return o.debug({message:"$.ajax",method:"test.ping"}),e.ajax({cache:!1,headers:d.util.getHeaders({trace:!0}),type:g,url:f.rapi.root+f.rapi.ping})},dummyResolvedDeferred:function(){o.debug({message:"dummy request",method:"test.dummyResolvedDeferred"});var t=e.Deferred();return setTimeout(function(){t.resolve({total:0,data:[]})},50),t.promise()},dummyRejectedDeferred:function(){o.debug({message:"dummy request",method:"test.dummyRejectedDeferred"});var t=e.Deferred();return setTimeout(function(){t.reject(null,0,"Failed")},50),t.promise()}},d.oauth={getSignInUrl:function(t,i){n.enum(m,t,n.format(n.messages.enum.default,"provider",m)),n.match(S,i,n.format(n.messages.match.default,"returnUrl",S)),o.info({message:"$.ajax",method:"auth.getSignInUrl",data:{provider:t,returnUrl:i}});var r=e.Deferred(),a=e.Deferred();if("live"===t&&"undefined"===e.type(window.cordova)){var s=e("#live-logout");s.length?s.attr("src","https://login.live.com/oauth20_logout.srf"):e('<iframe id="live-logout" src="https://login.live.com/oauth20_logout.srf" style="position: absolute; left: -1000px; visibility: hidden;"></iframe>').appendTo("body"),e("#live-logout").on("load",function(){a.resolve()})}else a.resolve();return a.promise().always(function(){var n=d.util.getFingerPrint()+"-"+d.util.uuid();d.util.setState(n),e.ajax({cache:!1,data:{returnUrl:d.util.cleanUrl(i),state:n},headers:d.util.getHeaders({trace:!0}),type:g,url:d.util.format(f.rapi.root+f.rapi.oauth.signIn,t)}).done(r.resolve).fail(r.reject)}),r},signOut:function(){return o.info({message:"$.ajax",method:"auth.signout"}),e.ajax({contentType:"application/x-www-form-urlencoded",headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:f.rapi.root+f.rapi.oauth.signOut}).always(function(){d.util.clearToken()})},refresh:function(){return o.info({message:"$.ajax",method:"auth.refresh"}),e.ajax({cache:!1,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:f.rapi.root+f.rapi.oauth.refresh}).done(function(t){d.util.setToken(t)}).fail(function(){d.util.clearToken()})},revoke:function(){return o.info({message:"$.ajax",method:"auth.revoke"}),e.ajax({contentType:"application/x-www-form-urlencoded",headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:f.rapi.root+f.rapi.oauth.revoke}).always(function(){d.util.clearToken()})}},d.v1={user:{getUser:function(t){return n.match(_,t,n.format(n.messages.match.default,"userId",_)),o.info({message:"$.ajax",method:"v1.user.getUser",data:{userId:t}}),e.ajax({cache:!1,headers:d.util.getHeaders({trace:!0}),type:g,url:f.rapi.root+d.util.format(f.rapi.v1.user,t)})},getMe:function(t){return n.isOptionalObject(t,n.format(n.messages.isOptionalObject.default,"querystring")),o.info({message:"$.ajax",method:"v1.user.getMe",data:{qs:t}}),e.ajax({cache:!1,data:t,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:f.rapi.root+f.rapi.v1.me})},updateMe:function(t){return n.isPlainObject(t,n.format(n.messages.isPlainObject.default,"user")),o.info({message:"$.ajax",method:"v1.user.updateMe",data:{user:t}}),e.ajax({contentType:"application/json",data:JSON.stringify(t),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:f.rapi.root+f.rapi.v1.me})},getAllMyFavourites:function(t){return n.match(x,t,n.format(n.messages.match.default,"language",x)),o.info({message:"$.ajax",method:"v1.user.getAllMyFavourites",data:{language:t}}),e.ajax({cache:!1,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:f.rapi.root+d.util.format(f.rapi.v1.myFavourites,t)})},createMyFavourite:function(t,i){return n.match(x,t,n.format(n.messages.match.default,"language",x)),n.isPlainObject(i,n.format(n.messages.isPlainObject.default,"favourite")),n.type(p,i.name,n.format(n.messages.type.default,"favourite.name",p)),n.type(p,i.path,n.format(n.messages.type.default,"favourite.path",p)),o.info({message:"$.ajax",method:"v1.user.createMyFavourite",data:{language:t,favourite:i}}),e.ajax({contentType:"application/json",data:JSON.stringify(i),headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:f.rapi.root+d.util.format(f.rapi.v1.myFavourites,t)})},deleteMyFavourite:function(t,i){return n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"favouriteId",_)),o.info({message:"$.ajax",method:"v1.user.deleteMyFavourite",data:{language:t,favouriteId:i}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:f.rapi.root+d.util.format(f.rapi.v1.myFavourite,t,i)})},findMySummaries:function(t,i){return n.match(x,t,n.format(n.messages.match.default,"language",x)),n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"querystring")),o.info({message:"$.ajax",method:"v1.user.findMySummaries",data:{language:t,qs:i}}),e.ajax({cache:!1,data:i,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:f.rapi.root+d.util.format(f.rapi.v1.mySummaries,t)})},findMyActivities:function(t,i){return n.match(x,t,n.format(n.messages.match.default,"language",x)),n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"querystring")),o.info({message:"$.ajax",method:"v1.user.findMyActivities",data:{language:t,qs:i}}),e.ajax({cache:!1,data:i,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:f.rapi.root+d.util.format(f.rapi.v1.myActivities,t)})}},taxonomy:{getAllLanguages:function(){var t=f.rapi.root+f.rapi.v1.languages;return o.info({message:"$.ajax",method:"v1.taxonomy.getAllLanguages",data:{url:t}}),e.ajax({cache:!0,headers:d.util.getHeaders({trace:!0}),type:g,url:t})},getLanguage:function(t){n.match(x,t,n.format(n.messages.match.default,"language",x));var i=f.rapi.root+d.util.format(f.rapi.v1.language,t);return o.info({message:"$.ajax",method:"v1.taxonomy.getLanguage",data:{url:i}}),e.ajax({cache:!0,headers:d.util.getHeaders({trace:!0}),type:g,url:i})},getAllCategories:function(t){n.match(x,t,n.format(n.messages.match.default,"language",x));var i=f.rapi.root+d.util.format(f.rapi.v1.categories,t);return o.info({message:"$.ajax",method:"v1.taxonomy.getAllCategories",data:{url:i}}),e.ajax({cache:!0,headers:d.util.getHeaders({trace:!0}),type:g,url:i})}},content:{createSummary:function(t,i){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.isPlainObject(i,n.format(n.messages.isPlainObject.default,"summary"));var r=f.rapi.root+d.util.format(f.rapi.v1.summaries,t);return o.info({message:"$.ajax",method:"v1.content.createSummary",data:{url:r,summary:i}}),e.ajax({contentType:"application/json",data:JSON.stringify(i),headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:r})},findSummaries:function(t,i){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"querystring"));var r=f.rapi.root+d.util.format(f.rapi.v1.summaries,t);return o.info({message:"$.ajax",method:"v1.content.findSummaries",data:{url:r,qs:i}}),e.ajax({cache:!1,data:i,headers:d.util.getHeaders({trace:!0}),type:g,url:r})},getSummary:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.isOptionalObject(r,n.format(n.messages.isOptionalObject.default,"querystring"));var a=f.rapi.root+d.util.format(f.rapi.v1.summary,t,i);return o.info({message:"$.ajax",method:"v1.content.getSummary",data:{url:a,qs:r}}),e.ajax({cache:!1,data:r,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:a})},updateSummary:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.isPlainObject(r,n.format(n.messages.isPlainObject.default,"summary"));var a=f.rapi.root+d.util.format(f.rapi.v1.summary,t,i);return o.info({message:"$.ajax",method:"v1.content.updateSummary",data:{url:a,summary:r}}),e.ajax({contentType:"application/json",data:JSON.stringify(r),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:a})},deleteSummary:function(t,i){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_));var r=f.rapi.root+d.util.format(f.rapi.v1.summary,t,i);return o.info({message:"$.ajax",method:"v1.content.deleteSummary",data:{url:r,summaryId:i}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:r})},executeCommand:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.isPlainObject(r,n.format(n.messages.isPlainObject.default,"exec")),n.enum(k,r.command,n.format(n.messages.enum.default,"exec.command",k));var a=f.rapi.root+d.util.format(f.rapi.v1.versions,t,i);return o.info({message:"$.ajax",method:"v1.content.executeCommand",data:{url:a,exec:r}}),e.ajax({contentType:"application/json",data:JSON.stringify(r),headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:a})},findSummaryVersions:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.isOptionalObject(r,n.format(n.messages.isOptionalObject.default,"querystring"));var a=f.rapi.root+d.util.format(f.rapi.v1.versions,t,i);return o.info({message:"$.ajax",method:"v1.content.findSummaryVersions",data:{url:a,qs:r}}),e.ajax({cache:!1,data:r,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:a})},getSummaryVersion:function(t,i,r,a){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(_,r,n.format(n.messages.match.default,"versionId",_)),n.isOptionalObject(a,n.format(n.messages.isOptionalObject.default,"querystring"));var s=f.rapi.root+d.util.format(f.rapi.v1.version,t,i,r);return o.info({message:"$.ajax",method:"v1.content.getSummaryVersion",data:{url:s,qs:a}}),e.ajax({cache:!1,data:a,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:s})},getCurrentSummaryVersion:function(t,i){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_));var r=f.rapi.root+d.util.format(f.rapi.v1.version,t,i);return o.info({message:"$.ajax",method:"v1.content.getCurrentSummaryVersion",data:{url:r}}),e.ajax({cache:!1,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:r})},updateSummaryVersion:function(t,i,r,a){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(_,r,n.format(n.messages.match.default,"versionId",_)),n.isPlainObject(a,n.format(n.messages.isPlainObject.default,"version"));var s=f.rapi.root+d.util.format(f.rapi.v1.version,t,i,r);return o.info({message:"$.ajax",method:"v1.content.updateSummaryVersion",data:{url:s,version:a}}),e.ajax({contentType:"application/json",data:JSON.stringify(a),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:s})},deleteSummaryVersion:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(_,r,n.format(n.messages.match.default,"versionId",_));var a=f.rapi.root+d.util.format(f.rapi.v1.version,t,i,r);return o.info({message:"$.ajax",method:"v1.content.deleteSummaryVersion",data:{url:a}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:a})},createSummaryActivity:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.isPlainObject(r,n.format(n.messages.isPlainObject.default,"activity"));var a=f.rapi.root+d.util.format(f.rapi.v1.activities,t,i);return o.info({message:"$.ajax",method:"v1.content.createSummaryActivity",data:{url:a,activity:r}}),e.ajax({contentType:"application/json",data:JSON.stringify(r),headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:a})},findSummaryActivities:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.isOptionalObject(r,n.format(n.messages.isOptionalObject.default,"querystring"));var a=f.rapi.root+d.util.format(f.rapi.v1.activities,t,i);return o.info({message:"$.ajax",method:"v1.content.findSummaryActivities",data:{url:a,qs:r}}),e.ajax({cache:!1,data:r,headers:d.util.getHeaders({trace:!0}),type:g,url:a})},getSummaryActivity:function(t,i,r,a){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(_,r,n.format(n.messages.match.default,"activityId",_)),n.isOptionalObject(a,n.format(n.messages.isOptionalObject.default,"querystring"));var s=f.rapi.root+d.util.format(f.rapi.v1.activity,t,i,r);return o.info({message:"$.ajax",method:"v1.content.getSummaryActivity",data:{url:s,qs:a}}),e.ajax({cache:!1,data:a,headers:d.util.getHeaders({trace:!0}),type:g,url:s})},updateSummaryActivity:function(t,i,r,a){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(_,r,n.format(n.messages.match.default,"activityId",_)),n.isPlainObject(a,n.format(n.messages.isPlainObject.default,"activity"));var s=f.rapi.root+d.util.format(f.rapi.v1.activity,t,i,r);return o.info({message:"$.ajax",method:"v1.content.updateSummaryActivity",data:{url:s,activity:a}}),e.ajax({contentType:"application/json",data:JSON.stringify(a),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:s})},deleteSummaryActivity:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(_,r,n.format(n.messages.match.default,"activityId",_));var a=f.rapi.root+d.util.format(f.rapi.v1.activity,t,i,r);return o.info({message:"$.ajax",method:"v1.content.deleteSummaryActivity",data:{url:a}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:a})},getUploadUrl:function(i,r,a){n.match(x,i,n.format(n.messages.match.default,"language",x)),n.match(_,r,n.format(n.messages.match.default,"summaryId",_)),t.DEBUG||n.instanceof(window.Blob,a,n.format(n.messages.instanceof.default,"file","Blob"));var s=f.rapi.root+d.util.format(f.rapi.v1.upload,i,r);return o.info({message:"$.ajax",method:"v1.content.getUploadUrl",data:{url:s,fileName:a.name,type:a.type,size:a.size}}),e.ajax({data:{name:a.name,type:a.type,size:a.size},headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:s})},uploadFile:function(t,i){n.match(S,t,n.format(n.messages.match.default,"signedUrl",S)),n.instanceof(window.Blob,i,n.format(n.messages.instanceof.default,"file","window.Blob")),n.type(p,i.name,n.format(n.messages.type.default,"file.name",p));var r=e.Deferred();return o.info({message:"$.ajax",method:"v1.content.uploadFile",data:{url:t,fileName:i.name,type:i.type,size:i.size}}),e.ajax({contentType:i.type,data:i,headers:{"x-amz-acl":"public-read","cache-control":"public, max-age=7776000, s-maxage=604800","content-type":i.type},processData:!1,type:"PUT",url:t,xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(t){t.file=i,r.notify(t)},t}}).done(function(){var e=t.replace(/^(https:\/\/[\w\.]+\/[\w\.]+)(\/s\/[a-z]{2}\/[0-9a-f]{24}\/[^\?]+)([\s\S]+)$/,"data:/$2");r.resolve({name:e.split("/").pop(),size:i.size,type:i.type,url:e})}).fail(r.reject),r.promise()},importFile:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_)),n.match(S,r,n.format(n.messages.match.default,"fileUrl",S)),o.info({message:"$.ajax",method:"v1.content.importFile",data:{fileUrl:r}});var a=f.rapi.root+d.util.format(f.rapi.v1.files,t,i);return e.ajax({contentType:"application/json",data:JSON.stringify({url:r}),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:a})},downloadFile:function(t){n.match(S,t,n.format(n.messages.match.default,"url",S));var i=e.Deferred();return o.info({message:"$.ajax",method:"v1.content.downloadFile",data:{url:t}}),e.ajax({cache:!0,dataType:"arraybuffer",type:g,url:t}).done(function(e,n,o){if(200===o.status){var r=new window.Blob([e],{type:o.getResponseHeader("content-type")});r.name=t.split("/").pop(),i.resolve(r)}else i.reject(o,n,"error")}).fail(i.reject),i.promise()},getAllSummaryFiles:function(t,i){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_));var r=f.rapi.root+d.util.format(f.rapi.v1.files,t,i);return o.info({message:"$.ajax",method:"v1.content.getAllSummaryFiles",data:{url:r}}),e.ajax({headers:d.util.getHeaders({trace:!0}),type:g,url:r})},deleteFile:function(t,i,r){n.match(x,t,n.format(n.messages.match.default,"language",x)),n.match(_,i,n.format(n.messages.match.default,"summaryId",_));var a=f.rapi.root+d.util.format(f.rapi.v1.file,t,i,r);return o.info({message:"$.ajax",method:"v1.content.deleteFile",data:{url:a}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:a})}}},d.v2={activities:function(t){return n.isOptionalObject(t,n.format(n.messages.isOptionalObject.default,"partition")),{create:function(i){var r;return n.isPlainObject(i,n.format(n.messages.isPlainObject.default,"doc")),n.match(x,t["version.language"],n.format(n.messages.match.default,'partition["version.language"]',x)),_.test(t["version.summaryId"])?(n.equal(i.version.summaryId,t["version.summaryId"],n.format(n.messages.equal.default,'partition["version.summaryId"]',i.version.summaryId)),r=f.rapi.root+d.util.format(f.rapi.v1.activities,t["version.language"],t["version.summaryId"])):(n.match(_,t["actor.userId"],n.format(n.messages.match.default,'partition["actor.userId"]',_)),n.equal(i.actor.userId,t["actor.userId"],n.format(n.messages.equal.default,'partition["actor.userId"]',i.actor.userId)),n.match(_,i.version.summaryId,n.format(n.messages.match.default,"doc.version.summaryId",_)),r=f.rapi.root+d.util.format(f.rapi.v1.activities,t["version.language"],i.version.summaryId)),o.info({message:"$.ajax",method:"v2.activities.create",data:{url:r,doc:i}}),e.ajax({contentType:"application/json",data:JSON.stringify(i),headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:r})},destroy:function(i){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.match(x,t["version.language"],n.format(n.messages.match.default,'partition["version.language"]',x)),n.match(_,t["version.summaryId"],n.format(n.messages.match.default,'partition["version.summaryId"]',_));var r=f.rapi.root+d.util.format(f.rapi.v1.activity,t["version.language"],t["version.summaryId"],i);return o.info({message:"$.ajax",method:"v2.activities.destroy",data:{url:r}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:r})},get:function(i,r){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.isOptionalObject(r,n.format(n.messages.isOptionalObject.default,"query")),n.match(x,t["version.language"],n.format(n.messages.match.default,'partition["version.language"]',x)),n.match(_,t["version.summaryId"],n.format(n.messages.match.default,'partition["version.summaryId"]',_));var a=f.rapi.root+d.util.format(f.rapi.v1.activity,t["version.language"],t["version.summaryId"],i);return o.info({message:"$.ajax",method:"v2.activities.get",data:{url:a,q:r}}),e.ajax({cache:!1,data:r,headers:d.util.getHeaders({trace:!0}),type:g,url:a})},read:function(i){var r,a;return n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"query")),n.match(x,t["version.language"],n.format(n.messages.match.default,'partition["version.language"]',x)),d.util.extendQueryWithPartition(i,t),_.test(t["version.summaryId"])?(r=d.util.getHeaders({trace:!0}),a=f.rapi.root+d.util.format(f.rapi.v1.activities,t["version.language"],t["version.summaryId"])):(n.match(_,t["actor.userId"],n.format(n.messages.match.default,'partition["actor.userId"]',_)),r=d.util.getHeaders({security:!0,trace:!0}),a=f.rapi.root+d.util.format(f.rapi.v1.myActivities,t["version.language"])),o.info({message:"$.ajax",method:"v2.activities.read",data:{url:a,q:i}}),e.ajax({cache:!1,data:i,headers:r,type:g,url:a})},update:function(i,r){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.isPlainObject(r,n.format(n.messages.isPlainObject.default,"doc")),n.match(x,t["version.language"],n.format(n.messages.match.default,'partition["version.language"]',x)),n.match(_,t["version.summaryId"],n.format(n.messages.match.default,'partition["version.summaryId"]',_));var a=f.rapi.root+d.util.format(f.rapi.v1.activity,t["version.language"],t["version.summaryId"],i);return o.info({message:"$.ajax",method:"v2.activities.update",data:{url:a,doc:r}}),e.ajax({contentType:"application/json",data:JSON.stringify(r),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:a})}}},favourites:function(t){return n.isOptionalObject(t,n.format(n.messages.isOptionalObject.default,"partition")),{create:e.noop,destroy:e.noop,get:e.noop,read:e.noop,update:e.noop}},files:function(t){return n.isOptionalObject(t,n.format(n.messages.isOptionalObject.default,"partition")),{create:e.noop,destroy:e.noop,get:e.noop,read:e.noop,update:e.noop}},summaries:function(t){return n.isOptionalObject(t,n.format(n.messages.isOptionalObject.default,"partition")),{create:function(i){n.isPlainObject(i,n.format(n.messages.isPlainObject.default,"doc")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x));var r=f.rapi.root+d.util.format(f.rapi.v1.summaries,t.language);return o.info({message:"$.ajax",method:"v2.summaries.create",data:{url:r,doc:i}}),e.ajax({contentType:"application/json",data:JSON.stringify(i),headers:d.util.getHeaders({security:!0,trace:!0}),type:v,url:r})},destroy:function(i){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x));var r=f.rapi.root+d.util.format(f.rapi.v1.summary,t.language,i);return o.info({message:"$.ajax",method:"v2.summaries.destroy",data:{url:r}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:r})},get:function(i,r){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.isOptionalObject(r,n.format(n.messages.isOptionalObject.default,"query")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x));var a=f.rapi.root+d.util.format(f.rapi.v1.summary,t.language,i);return o.info({message:"$.ajax",method:"v2.summaries.get",data:{url:a,q:r}}),e.ajax({cache:!1,data:r,headers:d.util.getHeaders({trace:!0}),type:g,url:a})},read:function(i){n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"query")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x));var r=f.rapi.root+d.util.format(f.rapi.v1.summaries,t.language);return o.info({message:"$.ajax",method:"v2.summaries.read",data:{url:r,q:i}}),e.ajax({cache:!1,data:i,headers:d.util.getHeaders({trace:!0}),type:g,url:r})},update:function(i,r){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.isPlainObject(r,n.format(n.messages.isPlainObject.default,"doc")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x));var a=f.rapi.root+d.util.format(f.rapi.v1.summary,t.language,i);return o.info({message:"$.ajax",method:"v2.summaries.update",data:{url:a,doc:r}}),e.ajax({contentType:"application/json",data:JSON.stringify(r),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:a})}}},versions:function(t){return n.isOptionalObject(t,n.format(n.messages.isOptionalObject.default,"partition")),{create:function(t){throw new Error("Not implemented: rapi.v1.content.executeCommand")},destroy:function(i){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x)),n.match(_,t.summaryId,n.format(n.messages.match.default,"partition.summaryId",_));var r=f.rapi.root+d.util.format(f.rapi.v1.version,t.language,t.summaryId,i);return o.info({message:"$.ajax",method:"v2.versions.destroy",data:{url:r}}),e.ajax({headers:d.util.getHeaders({security:!0,trace:!0}),type:"DELETE",url:r})},get:function(i,r){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.isOptionalObject(r,n.format(n.messages.isOptionalObject.default,"query")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x)),n.match(_,t.summaryId,n.format(n.messages.match.default,"partition.summaryId",_));var a=f.rapi.root+d.util.format(f.rapi.v1.version,t.language,t.summaryId,i);return o.info({message:"$.ajax",method:"v2.versions.get",data:{url:a,q:r}}),e.ajax({cache:!1,data:r,headers:d.util.getHeaders({trace:!0}),type:g,url:a})},read:function(i){n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"query")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x)),n.match(_,t.summaryId,n.format(n.messages.match.default,"partition.summaryId",_));var r=f.rapi.root+d.util.format(f.rapi.v1.versions,t.language,t.summaryId);return o.info({message:"$.ajax",method:"v2.versions.read",data:{url:r,q:i}}),e.ajax({cache:!1,data:i,headers:d.util.getHeaders({trace:!0}),type:g,url:r})},update:function(i,r){n.match(_,i,n.format(n.messages.match.default,"id",_)),n.isPlainObject(r,n.format(n.messages.isPlainObject.default,"summary")),n.match(x,t.language,n.format(n.messages.match.default,"partition.language",x)),n.match(_,t.summaryId,n.format(n.messages.match.default,"partition.summaryId",_));var a=f.rapi.root+d.util.format(f.rapi.v1.version,t.language,t.summaryId,i);return o.info({message:"$.ajax",method:"v2.versions.update",data:{url:a,doc:r}}),e.ajax({contentType:"application/json",data:JSON.stringify(r),headers:d.util.getHeaders({security:!0,trace:!0}),type:b,url:a})}}}},d.web={search:function(t,i){n.type(p,t,n.format(n.messages.type.default,"provider")),n.isOptionalObject(i,n.format(n.messages.isOptionalObject.default,"querystring"));var r=d.util.format(f.rapi.root+f.rapi.web.search,t);return o.info({message:"$.ajax",method:"web.search",data:{provider:t,qs:i}}),e.ajax({cache:!0,data:i,headers:d.util.getHeaders({security:!0,trace:!0}),type:g,url:r})}},e(function(){"undefined"!==e.type(window.cordova)||r&&e.isEmptyObject(r.app)||(d.util.parseToken(c.href),d.util.cleanHistory()),d.util.ensureToken()})}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(4),i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=t.proxy,r=Math.abs,a="k-state-selected",s="k-state-selecting",l="k-state-unselecting",c=i.support.browser.msie,u=!1;!function(t){t('<div class="parent"><span /></div>').on("click",">*",function(){u=!0}).find("span").click().end().off()}(t);var h=n.extend({init:function(e,r){var a;n.fn.init.call(this,e,r),this._marquee=t("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),this._lastActive=null,this.element.addClass("k-selectable"),this.relatedTarget=this.options.relatedTarget,a=this.options.multiple,this.options.aria&&a&&this.element.attr("aria-multiselectable",!0),this.userEvents=new i.UserEvents(this.element,{global:!0,allowSelection:!0,filter:(u?"":".k-selectable ")+this.options.filter,tap:o(this._tap,this),touchAction:a?"none":"pan-x pan-y"}),a&&this.userEvents.bind("start",o(this._start,this)).bind("move",o(this._move,this)).bind("end",o(this._end,this)).bind("select",o(this._select,this))},events:["change"],options:{name:"Selectable",filter:">*",inputSelectors:"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:!1,relatedTarget:t.noop},_isElement:function(t){var e,i=this.element,n=i.length,o=!1;for(t=t[0],e=0;e<n;e++)if(i[e]===t){o=!0;break}return o},_tap:function(e){var i,n=t(e.target),o=e.event.ctrlKey||e.event.metaKey,r=this.options.multiple,s=r&&e.event.shiftKey,l=e.event.which,c=e.event.button;!this._isElement(n.closest(".k-selectable"))||l&&3==l||c&&2==c||this._allowSelection(e.event.target)&&(i=n.hasClass(a),r&&o||this.clear(),n=n.add(this.relatedTarget(n)),s?this.selectRange(this._firstSelectee(),n,e):(i&&o?(this._unselect(n),this._notify("change",e)):this.value(n,e),this._lastActive=this._downTarget=n))},_start:function(e){var i,n=t(e.target),o=n.hasClass(a),r=e.event.ctrlKey||e.event.metaKey;this._allowSelection(e.event.target)&&(this._downTarget=n,this._isElement(n.closest(".k-selectable"))?(this.options.useAllItems?this._items=this.element.find(this.options.filter):(i=n.closest(this.element),this._items=i.find(this.options.filter)),e.sender.capture(),this._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0}),r||this.clear(),n=n.add(this.relatedTarget(n)),o&&(this._selectElement(n,!0),r&&n.addClass(l))):this.userEvents.cancel())},_move:function(t){var e={left:t.x.startLocation>t.x.location?t.x.location:t.x.startLocation,top:t.y.startLocation>t.y.location?t.y.location:t.y.startLocation,width:r(t.x.initialDelta),height:r(t.y.initialDelta)};this._marquee.css(e),this._invalidateSelectables(e,t.event.ctrlKey||t.event.metaKey),t.preventDefault()},_end:function(t){this._marquee.remove(),this._unselect(this.element.find(this.options.filter+"."+l)).removeClass(l);var e=this.element.find(this.options.filter+"."+s);e=e.add(this.relatedTarget(e)),this.value(e,t),this._lastActive=this._downTarget,this._items=null},_invalidateSelectables:function(t,e){var i,n,o,r,c=this._downTarget[0],u=this._items;for(i=0,n=u.length;i<n;i++)o=(r=u.eq(i)).add(this.relatedTarget(r)),d(r,t)?r.hasClass(a)?e&&c!==r[0]&&o.removeClass(a).addClass(l):r.hasClass(s)||r.hasClass(l)||o.addClass(s):r.hasClass(s)?o.removeClass(s):e&&r.hasClass(l)&&o.removeClass(l).addClass(a)},value:function(t,e){var i=o(this._selectElement,this);return t?(t.each(function(){i(this)}),void this._notify("change",e)):this.element.find(this.options.filter+"."+a)},_firstSelectee:function(){var t;return null!==this._lastActive?this._lastActive:(t=this.value()).length>0?t[0]:this.element.find(this.options.filter)[0]},_selectElement:function(e,i){var n=t(e),o=!i&&this._notify("select",{element:e});n.removeClass(s),o||(n.addClass(a),this.options.aria&&n.attr("aria-selected",!0))},_notify:function(t,e){return e=e||{},this.trigger(t,e)},_unselect:function(t){return t.removeClass(a),this.options.aria&&t.attr("aria-selected",!1),t},_select:function(e){this._allowSelection(e.event.target)&&(!c||c&&!t(i._activeElement()).is(this.options.inputSelectors))&&e.preventDefault()},_allowSelection:function(e){return!t(e).is(this.options.inputSelectors)||(this.userEvents.cancel(),this._downTarget=null,!1)},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var t=this.element.find(this.options.filter+"."+a);this._unselect(t)},selectRange:function(e,i,n){var o,r,a;for(this.clear(),this.element.length>1&&(a=this.options.continuousItems()),a&&a.length||(a=this.element.find(this.options.filter)),(e=t.inArray(t(e)[0],a))>(i=t.inArray(t(i)[0],a))&&(r=e,e=i,i=r),this.options.useAllItems||(i+=this.element.length-1),o=e;o<=i;o++)this._selectElement(a[o]);this._notify("change",n)},destroy:function(){n.fn.destroy.call(this),this.element.off(".kendoSelectable"),this.userEvents.destroy(),this._marquee=this._lastActive=this.element=this.userEvents=null}});function d(t,e){if(!t.is(":visible"))return!1;var n=i.getOffset(t),o=e.left+e.width,r=e.top+e.height;return n.right=n.left+i._outerWidth(t),n.bottom=n.top+i._outerHeight(t),!(n.left>o||n.right<e.left||n.top>r||n.bottom<e.top)}h.parseOptions=function(t){var e="string"==typeof t&&t.toLowerCase();return{multiple:e&&e.indexOf("multiple")>-1,cell:e&&e.indexOf("cell")>-1}},i.ui.plugin(h)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(117),i(160)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile,o=i.roleSelector,r=n.ui,a=r.Widget,s=n.ViewEngine,l=r.View,c=n.ui.Loader,u=i.support.mobileOS,h=u.ios&&!u.appMode&&u.flatVersion>=700,d=/popover|actionsheet|modalview|drawer/,f=i.attrValue,p=a.extend({init:function(t,e){var n=this;a.fn.init.call(n,t,e),e=n.options,(t=n.element).addClass("km-pane"),n.options.collapsible&&t.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(t,e,i){var o=n.transition;return n.transition=null,h&&i&&(o="none"),n.viewEngine.showView(t,o,e)},this._historyNavigate=function(t){if("#:back"===t){if(1===n.history.length)return;n.history.pop(),t=n.history[n.history.length-1]}else n.history.push(t);n.historyCallback(t,i.parseQueryStringParams(t))},this._historyReplace=function(t){var e=i.parseQueryStringParams(t);n.history[n.history.length-1]=t,n.historyCallback(t,e)},n.loader=new c(t,{loading:n.options.loading}),n.viewEngine=new s({container:t,transition:e.transition,modelScope:e.modelScope,rootNeeded:!e.initial,serverNavigation:e.serverNavigation,remoteViewURLPrefix:e.root||"",layout:e.layout,$angular:e.$angular,loader:n.loader,showStart:function(){n.loader.transition(),n.closeActiveDialogs()},after:function(){n.loader.transitionDone()},viewShow:function(t){n.trigger("viewShow",t)},loadStart:function(){n.loader.show()},loadComplete:function(){n.loader.hide()},sameViewRequested:function(){n.trigger("sameViewRequested")},viewTypeDetermined:function(t){t.remote&&n.options.serverNavigation||n.trigger("navigate",{url:t.url})}}),this._setPortraitWidth(),i.onResize(function(){n._setPortraitWidth()}),n._setupAppLinks()},closeActiveDialogs:function(){this.element.find(o("actionsheet popover modalview")).filter(":visible").each(function(){i.widgetInstance(t(this),r).close()})},navigateToInitial:function(){var t=this.options.initial;return t&&this.navigate(t),t},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:["navigate","viewShow","sameViewRequested"],append:function(t){return this.viewEngine.append(t)},destroy:function(){a.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(t,e){t instanceof l&&(t=t.id),this.transition=e,this._historyNavigate(t)},replace:function(t,e){t instanceof l&&(t=t.id),this.transition=e,this._historyReplace(t)},bindToRouter:function(t){var e=this,n=this.history,o=this.viewEngine;t.bind("init",function(e){var r=e.url,a=t.pushState?r:"/";o.rootView.attr(i.attr("url"),a);var s=n.length;"/"===r&&s&&(t.navigate(n[s-1],!0),e.preventDefault())}),t.bind("routeMissing",function(t){e.historyCallback(t.url,t.params,t.backButtonPressed)||t.preventDefault()}),t.bind("same",function(){e.trigger("sameViewRequested")}),e._historyNavigate=function(e){t.navigate(e)},e._historyReplace=function(e){t.replace(e)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(t){this.loader.changeMessage(t)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var t,e=this.options.portraitWidth;e&&(t=i.mobile.application.element.is(".km-vertical")?e:"auto",this.element.css("width",t))},_setupAppLinks:function(){var e=this,n="[data-"+i.ns+"navigate-on-press]",r=t.map(["button","backbutton","detailbutton","listview-link"],function(t){return o(t)+":not("+n+")"}).join(",");this.element.handler(this).on("down",o("tab")+","+n,"_mouseup").on("click",o("tab")+","+r+","+n,"_appLinkClick"),this.userEvents=new i.UserEvents(this.element,{fastTap:!0,filter:r,tap:function(t){t.event.currentTarget=t.touch.currentTarget,e._mouseup(t.event)}}),this.element.css("-ms-touch-action","")},_appLinkClick:function(e){var i=t(e.currentTarget).attr("href");i&&"#"!==i[0]&&this.options.serverNavigation||"external"==f(t(e.currentTarget),"rel")||e.preventDefault()},_mouseup:function(e){if(!(e.which>1||e.isDefaultPrevented())){var o=this,a=t(e.currentTarget),s=f(a,"transition"),l=f(a,"rel")||"",c=f(a,"target"),u=a.attr("href"),p=h&&0===a[0].offsetHeight,m=u&&"#"!==u[0]&&this.options.serverNavigation;p||m||"external"===l||void 0===u||"#!"===u||(a.attr("href","#!"),setTimeout(function(){a.attr("href",u)}),l.match(d)?(i.widgetInstance(t(u),r).openFor(a),"actionsheet"!==l&&"drawer"!==l||e.stopPropagation()):("_top"===c?o=n.application.pane:c&&(o=t("#"+c).data("kendoMobilePane")),o.navigate(u,s)),e.preventDefault())}}});p.wrap=function(t){t.is(o("view"))||(t=t.wrap("<div data-"+i.ns+'role="view" data-stretch="true"></div>').parent());var e=t.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),n=new p(e);return n.navigate(""),n},r.plugin(p)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(21),i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.Class,o=i.ui.Widget,r=t.proxy,a=i.isFunction,s=i.keys,l=i._outerWidth,c="k-button",u="k-button-group",h="k-split-button",d="k-state-active",f="k-state-disabled",p="k-state-hidden",m="k-icon",g="k-i-",v="click",b=i.attr("uid");i.toolbar={};var k={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};i.toolbar.registerComponent=function(t,e,i){k[t]={toolbar:e,overflow:i}};var y=i.Class.extend({addOverflowAttr:function(){this.element.attr(i.attr("overflow"),this.options.overflow||"auto")},addUidAttr:function(){this.element.attr(b,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(p).show(),this.options.hidden=!1},hide:function(){this.element.addClass(p).hide(),this.overflow&&this.overflowHidden&&this.overflowHidden(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(t){void 0===t&&(t=!0),this.element.toggleClass(f,!t),this.options.enable=t},twin:function(){var e=this.element.attr(b);return this.overflow&&this.options.splitContainerId?t("#"+this.options.splitContainerId).find("["+b+"='"+e+"']").data(this.options.type):this.overflow?this.toolbar.element.find("["+b+"='"+e+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+b+"='"+e+"']").data(this.options.type):void 0}});i.toolbar.Item=y;var w=y.extend({init:function(e,n){var o=e.useButtonTag?t('<button tabindex="0"></button>'):t('<a href tabindex="0"></a>');this.element=o,this.options=e,this.toolbar=n,this.attributes(),e.primary&&o.addClass("k-primary"),e.togglable&&(o.addClass("k-toggle-button"),this.toggle(e.selected)),void 0===e.url||e.useButtonTag||(o.attr("href",e.url),e.mobile&&o.attr(i.attr("role"),"button")),e.group&&(o.attr(i.attr("group"),e.group),this.group=this.toolbar.addToGroup(this,e.group)),!e.togglable&&e.click&&a(e.click)&&(this.clickHandler=e.click),e.togglable&&e.toggle&&a(e.toggle)&&(this.toggleHandler=e.toggle)},toggle:function(t,e){t=!!t,this.group&&t?this.group.select(this):this.group||this.select(t),e&&this.twin()&&this.twin().toggle(t)},getParentGroup:function(){if(this.options.isChild)return this.element.closest("."+u).data("buttonGroup")},_addGraphics:function(){var e,i,n,o=this.element,r=this.options.icon,a=this.options.spriteCssClass,s=this.options.imageUrl;(a||s||r)&&(e=!0,o.contents().filter(function(){return!t(this).hasClass("k-sprite")&&!t(this).hasClass(m)&&!t(this).hasClass("k-image")}).each(function(i,n){(1==n.nodeType||3==n.nodeType&&t.trim(n.nodeValue).length>0)&&(e=!1)}),e?o.addClass("k-button-icon"):o.addClass("k-button-icontext")),r?((i=o.children("span."+m).first())[0]||(i=t('<span class="'+m+'"></span>').prependTo(o)),i.addClass(g+r)):a?((i=o.children("span.k-sprite").first())[0]||(i=t('<span class="k-sprite '+m+'"></span>').prependTo(o)),i.addClass(a)):s&&((n=o.children("img.k-image").first())[0]||(n=t('<img alt="icon" class="k-image" />').prependTo(o)),n.attr("src",s))}});i.toolbar.Button=w;var _=w.extend({init:function(t,e){w.fn.init.call(this,t,e);var i=this.element;i.addClass(c),this.addIdAttr(),t.align&&i.addClass("k-align-"+t.align),"overflow"!=t.showText&&t.text&&(t.mobile?i.html('<span class="km-text">'+t.text+"</span>"):i.html(t.text)),t.hasIcon="overflow"!=t.showIcon&&(t.icon||t.spriteCssClass||t.imageUrl),t.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(t.enable),t.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(t){void 0===t&&(t=!1),this.element.toggleClass(d,t),this.options.selected=t}});i.toolbar.ToolBarButton=_;var x=w.extend({init:function(e,i){this.overflow=!0,w.fn.init.call(this,t.extend({},e),i);var n=this.element;"toolbar"!=e.showText&&e.text&&(e.mobile?n.html('<span class="km-text">'+e.text+"</span>"):n.html('<span class="k-text">'+e.text+"</span>")),e.hasIcon="toolbar"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),e.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),n.addClass("k-overflow-button "+c),e.hidden&&this.hide(),e.togglable&&this.toggle(e.selected),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass("k-overflow-hidden")},select:function(t){void 0===t&&(t=!1),this.options.isChild?this.element.toggleClass(d,t):this.element.find(".k-button").toggleClass(d,t),this.options.selected=t}});i.toolbar.OverflowButton=x,i.toolbar.registerComponent("button",_,x);var S=y.extend({createButtons:function(e){for(var n=this.options,o=n.buttons||[],r=0;r<o.length;r++)o[r].uid||(o[r].uid=i.guid()),new e(t.extend({mobile:n.mobile,isChild:!0,type:"button"},o[r]),this.toolbar).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('.k-state-hidden'):first").addClass("k-group-start"),this.element.children().filter(":not('.k-state-hidden'):last").addClass("k-group-end")}});i.toolbar.ButtonGroup=S;var C=S.extend({init:function(e,i){var n=this.element=t("<div></div>");this.options=e,this.toolbar=i,this.addIdAttr(),e.align&&n.addClass("k-align-"+e.align),this.createButtons(_),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),n.addClass(u),this.element.data({type:"buttonGroup",buttonGroup:this})}});i.toolbar.ToolBarButtonGroup=C;var A=S.extend({init:function(e,i){var n=this.element=t("<li></li>");this.options=e,this.toolbar=i,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(x),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),n.addClass((e.mobile?"":u)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});i.toolbar.OverflowButtonGroup=A,i.toolbar.registerComponent("buttonGroup",C,A);var T=y.extend({init:function(e,i){var n=this.element=t('<div class="k-split-button" tabindex="0"></div>');this.options=e,this.toolbar=i,this.mainButton=new _(t.extend({},e,{hidden:!1}),i),this.arrowButton=t('<a class="'+c+' k-split-button-arrow"><span class="'+(e.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>'),this.popupElement=t('<ul class="k-list-container k-split-container"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(n),this.arrowButton.appendTo(n),this.popupElement.appendTo(n),e.align&&n.addClass("k-align-"+e.align),e.id||(e.id=e.uid),n.attr("id",e.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(e.enable),e.hidden&&this.hide(),n.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var e=this;e.popupElement.on("keydown","."+c,function(i){var n=t(i.target).parent();i.preventDefault(),i.keyCode===s.ESC||i.keyCode===s.TAB||i.altKey&&i.keyCode===s.UP?(e.toggle(),e.focus()):i.keyCode===s.DOWN?R(n,"next").focus():i.keyCode===s.UP?R(n,"prev").focus():i.keyCode===s.SPACEBAR||i.keyCode===s.ENTER?e.toolbar.userEvents.trigger("tap",{target:t(i.target)}):i.keyCode===s.HOME?n.parent().find(":kendoFocusable").first().focus():i.keyCode===s.END&&n.parent().find(":kendoFocusable").last().focus()})},createMenuButtons:function(){for(var e=this.options,i=e.menuButtons,n=0;n<i.length;n++)new _(t.extend({mobile:e.mobile,type:"button",click:e.click},i[n]),this.toolbar).element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var e=this,i=this.options,n=this.element;this.popupElement.attr("id",i.id+"_optionlist").attr(b,i.rootUid),i.mobile&&(this.popupElement=O(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:i.mobile?t(i.mobile).children(".km-pane"):null,anchor:n,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:i.animation,open:function(t){e.toolbar.trigger("open",{target:n})?t.preventDefault():e.adjustPopupWidth(t.sender)},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(t){e.toolbar.trigger("close",{target:n})&&t.preventDefault(),n.focus()}}).data("kendoPopup"),this.popup.element.on(v,"a.k-button",P)},adjustPopupWidth:function(t){var e,n=t.options.anchor,o=l(n);i.wrap(t.element).addClass("k-split-wrapper"),e="border-box"!==t.element.css("box-sizing")?o-(l(t.element)-t.element.width()):o,t.element.css({fontFamily:n.css("font-family"),"min-width":e})},remove:function(){this.popup.element.off(v,"a.k-button"),this.popup.destroy(),this.element.remove()},toggle:function(){(this.options.enable||this.popup.visible())&&this.popup.toggle()},enable:function(t){void 0===t&&(t=!0),this.mainButton.enable(t),this.element.toggleClass(f,!t),this.options.enable=t},focus:function(){this.element.focus()},hide:function(){this.popup&&this.popup.close(),this.element.addClass(p).hide(),this.options.hidden=!0},show:function(){this.element.removeClass(p).hide(),this.options.hidden=!1}});i.toolbar.ToolBarSplitButton=T;var j=y.extend({init:function(e,i){var n,o=this.element=t('<li class="k-split-button"></li>'),r=e.menuButtons;this.options=e,this.toolbar=i,this.overflow=!0,n=(e.id||e.uid)+"_optionlist",this.mainButton=new x(t.extend({},e)),this.mainButton.element.appendTo(o);for(var a=0;a<r.length;a++)new x(t.extend({mobile:e.mobile,type:"button",splitContainerId:n},r[a]),this.toolbar).element.appendTo(o);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,o.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});i.toolbar.OverflowSplitButton=j,i.toolbar.registerComponent("splitButton",T,j);var M=y.extend({init:function(e,i){var n=this.element=t("<div>&nbsp;</div>");this.element=n,this.options=e,this.toolbar=i,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),n.addClass("k-separator"),n.data({type:"separator",separator:this})}}),z=y.extend({init:function(e,i){var n=this.element=t("<li>&nbsp;</li>");this.element=n,this.options=e,this.toolbar=i,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),n.addClass("k-separator"),n.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});i.toolbar.registerComponent("separator",M,z);var E=y.extend({init:function(e,i,n){var o=a(e)?e(i):e;o=o instanceof jQuery?o.wrap("<div></div>").parent():t("<div></div>").html(o),this.element=o,this.options=i,this.options.type="template",this.toolbar=n,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),o.data({type:"template",template:this})}});i.toolbar.TemplateItem=E;var I=y.extend({init:function(e,i,n){var o=a(e)?t(e(i)):t(e);o=o instanceof jQuery?o.wrap("<li></li>").parent():t("<li></li>").html(o),this.element=o,this.options=i,this.options.type="template",this.toolbar=n,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),o.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass("k-overflow-hidden")}});function D(t){t.target.is(".k-toggle-button")||t.target.toggleClass(d,"press"==t.type)}function O(e){return(e=t(e)).hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function P(e){t(e.target).closest("a.k-button").length&&e.preventDefault()}function R(e,i){var n="next"===i?t.fn.next:t.fn.prev,o="next"===i?t.fn.first:t.fn.last,r=n.call(e);return r.is(":kendoFocusable")||!r.length?r:r.find(":kendoFocusable").length?o.call(r.find(":kendoFocusable")):R(r,i)}i.toolbar.OverflowTemplateItem=I;var L=n.extend({init:function(t){this.name=t,this.buttons=[]},add:function(t){this.buttons[this.buttons.length]=t},remove:function(e){var i=t.inArray(e,this.buttons);this.buttons.splice(i,1)},select:function(t){for(var e=0;e<this.buttons.length;e++)this.buttons[e].select(!1);t.select(!0),t.twin()&&t.twin().select(!0)}}),F=o.extend({init:function(e,n){var a=this;if(o.fn.init.call(a,e,n),n=a.options,(e=a.wrapper=a.element).addClass("k-toolbar k-widget"),this.uid=i.guid(),this._isRtl=i.support.isRtl(e),this._groups={},e.attr(b,this.uid),a.isMobile="boolean"==typeof n.mobile?n.mobile:a.element.closest(".km-root")[0],a.animation=a.isMobile?{open:{effects:"fade"}}:{},a.isMobile&&(e.addClass("km-widget"),m="km-icon",g="km-",c="km-button",u="km-buttongroup km-widget",d="km-state-active",f="km-state-disabled"),n.resizable?(a._renderOverflow(),e.addClass("k-toolbar-resizable"),a.overflowUserEvents=new i.UserEvents(a.element,{threshold:5,allowSelection:!0,filter:".k-overflow-anchor",tap:r(a._toggleOverflow,a)}),a._resizeHandler=i.onResize(function(){a.resize()})):a.popup={element:t([])},n.items&&n.items.length){for(var s=0;s<n.items.length;s++)a.add(n.items[s]);n.resizable&&a._shrink(a.element.innerWidth())}a.userEvents=new i.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+b+"="+this.uid+"] a."+c+", ["+b+"="+this.uid+"] .k-overflow-button",tap:r(a._buttonClick,a),press:D,release:D}),a.element.on(v,"a.k-button",P),a._navigatable(),n.resizable&&a.popup.element.on(v,NaN,P),n.resizable&&this._toggleOverflowAnchor(),i.notify(a)},events:[v,"toggle","open","close","overflowOpen","overflowClose"],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(t,e){var i;return(i=this._groups[e]?this._groups[e]:this._groups[e]=new L).add(t),i},destroy:function(){this.element.find("."+h).each(function(e,i){t(i).data("kendoPopup").destroy()}),this.element.off(v,"a.k-button"),this.userEvents.destroy(),this.options.resizable&&(i.unbindResize(this._resizeHandler),this.overflowUserEvents.destroy(),this.popup.element.off(v,"a.k-button"),this.popup.destroy()),o.fn.destroy.call(this)},add:function(e){var n,o,r=k[e.type],a=e.template,s=this.isMobile?"":"k-item k-state-default",l=e.overflowTemplate;if(t.extend(e,{uid:i.guid(),animation:this.animation,mobile:this.isMobile,rootUid:this.uid}),e.menuButtons)for(var c=0;c<e.menuButtons.length;c++)t.extend(e.menuButtons[c],{uid:i.guid()});a&&!l?e.overflow="never":e.overflow||(e.overflow="auto"),"never"!==e.overflow&&this.options.resizable&&(l?o=new I(l,e,this):r&&(o=new r.overflow(e,this)).element.addClass(s),o&&("auto"===e.overflow&&o.overflowHidden(),o.element.appendTo(this.popup.container),this.angular("compile",function(){return{elements:o.element.get()}}))),"always"!==e.overflow&&(a?n=new E(a,e,this):r&&(n=new r.toolbar(e,this)),n&&(n.element.appendTo(this.element),this.angular("compile",function(){return{elements:n.element.get()}})))},_getItem:function(e){var i,n,o,r,a=this.options.resizable;return(i=this.element.find(e)).length||(i=t(".k-split-container[data-uid="+this.uid+"]").find(e)),r=i.length?i.data("type"):"",(n=i.data(r))?(n.main&&(r="splitButton",n=(i=i.parent("."+h)).data(r)),a&&(o=n.twin())):a&&(r=(i=this.popup.element.find(e)).length?i.data("type"):"",(o=i.data(r))&&o.main&&(r="splitButton",o=(i=i.parent("."+h)).data(r))),{type:r,toolbar:n,overflow:o}},remove:function(t){var e=this._getItem(t);e.toolbar&&e.toolbar.remove(),e.overflow&&e.overflow.remove(),this.resize(!0)},hide:function(t){var e=this._getItem(t);e.toolbar&&("button"===e.toolbar.options.type&&e.toolbar.options.isChild?(e.toolbar.hide(),e.toolbar.getParentGroup().refresh()):e.toolbar.options.hidden||e.toolbar.hide()),e.overflow&&("button"===e.overflow.options.type&&e.overflow.options.isChild?(e.overflow.hide(),e.overflow.getParentGroup().refresh()):e.overflow.options.hidden||e.overflow.hide()),this.resize(!0)},show:function(t){var e=this._getItem(t);e.toolbar&&("button"===e.toolbar.options.type&&e.toolbar.options.isChild?(e.toolbar.show(),e.toolbar.getParentGroup().refresh()):e.toolbar.options.hidden&&e.toolbar.show()),e.overflow&&("button"===e.overflow.options.type&&e.overflow.options.isChild?(e.toolbar.show(),e.overflow.getParentGroup().refresh()):e.overflow.options.hidden&&e.overflow.show()),this.resize(!0)},enable:function(t,e){var i=this._getItem(t);void 0===e&&(e=!0),i.toolbar&&i.toolbar.enable(e),i.overflow&&i.overflow.enable(e)},getSelectedFromGroup:function(t){return this.element.find(".k-toggle-button[data-group='"+t+"']").filter("."+d)},toggle:function(e,i){var n=t(e).data("button");n.options.togglable&&(void 0===i&&(i=!0),n.toggle(i,!0))},_renderOverflow:function(){var e=this,n=k.overflowContainer,o=e._isRtl,r=o?"left":"right";e.overflowAnchor=t(k.overflowAnchor).addClass(c),e.element.append(e.overflowAnchor),e.isMobile?(e.overflowAnchor.append('<span class="km-icon km-more"></span>'),n=O(n)):e.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'),e.popup=new i.ui.Popup(n,{origin:"bottom "+r,position:"top "+r,anchor:e.overflowAnchor,isRtl:o,animation:e.animation,appendTo:e.isMobile?t(e.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(n){var r=i.wrap(e.popup.element).addClass("k-overflow-wrapper");e.isMobile?e.popup.container.css("max-height",parseFloat(t(".km-content:visible").innerHeight())-15+"px"):r.css("margin-left",(o?-1:1)*((l(r)-r.width())/2+1)),e.trigger("overflowOpen")&&n.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(t){e.trigger("overflowClose")&&t.preventDefault(),this.element.focus()}}),e.popup.element.on("keydown","."+c,function(i){var n=t(i.target),o=n.parent(),r=o.is("."+u)||o.is("."+h);i.preventDefault(),i.keyCode===s.ESC||i.keyCode===s.TAB||i.altKey&&i.keyCode===s.UP?(e._toggleOverflow(),e.overflowAnchor.focus()):i.keyCode===s.DOWN?R(!r||r&&n.is(":last-child")?o:n,"next").focus():i.keyCode===s.UP?R(!r||r&&n.is(":first-child")?o:n,"prev").focus():i.keyCode===s.SPACEBAR||i.keyCode===s.ENTER?(e.userEvents.trigger("tap",{target:t(i.target)}),e.overflowAnchor.focus()):i.keyCode===s.HOME?o.parent().find(":kendoFocusable").first().focus():i.keyCode===s.END&&o.parent().find(":kendoFocusable").last().focus()}),e.isMobile?e.popup.container=e.popup.element.find(".k-overflow-container"):e.popup.container=e.popup.element,e.popup.container.attr(b,this.uid)},_toggleOverflowAnchor:function(){(this.options.mobile?this.popup.element.find(".k-overflow-container").children(":not(.k-overflow-hidden, .k-popup)").length>0:this.popup.element.children(":not(.k-overflow-hidden, .k-popup)").length>0)?this.overflowAnchor.css({visibility:"visible",width:""}):this.overflowAnchor.css({visibility:"hidden",width:"1px"})},_buttonClick:function(e){var i,n,o,r,s,l,u=e.target.closest(".k-split-button-arrow").length;e.preventDefault(),u?this._toggle(e):(i=t(e.target).closest("."+c,this.element)).hasClass("k-overflow-anchor")||(!(n=i.data("button"))&&this.popup&&(n=(i=t(e.target).closest(".k-overflow-button",this.popup.container)).parent("li").data("button")),n&&n.options.enable&&(n.options.togglable?(r=a(n.toggleHandler)?n.toggleHandler:null,n.toggle(!n.options.selected,!0),s={target:i,group:n.options.group,checked:n.options.selected,id:n.options.id},r&&r.call(this,s),this.trigger("toggle",s)):(r=a(n.clickHandler)?n.clickHandler:null,s={sender:this,target:i,id:n.options.id},r&&r.call(this,s),this.trigger(v,s)),n.options.url&&(n.options.attributes&&n.options.attributes.target&&(l=n.options.attributes.target),window.open(n.options.url,l||"_self")),i.hasClass("k-overflow-button")&&this.popup.close(),(o=i.closest(".k-split-container"))[0]&&(o.data("kendoPopup")||o.parents(".km-popup-wrapper").data("kendoPopup")).close()))},_navigatable:function(){this.element.attr("tabindex",0).on("focusin",function(e){var i=t(e.target),n=t(this).find(":kendoFocusable:first");i.is(".k-toolbar")&&0!==n.length&&(n.is(".k-overflow-anchor")&&(n=R(n,"next")),n[0].focus())}).on("keydown",r(this._keydown,this))},_keydown:function(e){var i=t(e.target),n=e.keyCode,o=this.element.children(":not(.k-separator):visible"),r=this._isRtl?-1:1;if(n===s.TAB){var a=i.parentsUntil(this.element).last(),l=!1,c=!1;a.length||(a=i),a.is(".k-overflow-anchor")&&(e.shiftKey&&e.preventDefault(),o.last().is(":kendoFocusable")?o.last().focus():o.last().find(":kendoFocusable").last().focus()),e.shiftKey||o.index(a)!==o.length-1||(l=!a.is("."+u)||i.is(":last-child"));var d=o.index(a)===o.not(".k-overflow-anchor").first().index();if(e.shiftKey&&d&&(c=!a.is("."+u)||i.is(":first-child")),l&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&(e.preventDefault(),this.overflowAnchor.focus()),c){e.preventDefault();var f=this._getPrevFocusable(this.wrapper);f&&f.focus()}this._preventNextFocus=!1}if(e.altKey&&n===s.DOWN){var p=t(document.activeElement).data("splitButton"),m=t(document.activeElement).is(".k-overflow-anchor");p?p.toggle():m&&this._toggleOverflow()}else{if((n===s.SPACEBAR||n===s.ENTER)&&!i.is("input, checkbox"))return n===s.SPACEBAR&&e.preventDefault(),void(i.is("."+h)?(i=i.children().first(),this.userEvents.trigger("tap",{target:i})):n===s.SPACEBAR&&this.userEvents.trigger("tap",{target:i}));if(n===s.HOME){if(i.is(".k-dropdown")||i.is("input"))return;this.overflowAnchor?o.eq(1).focus():o.first().focus(),e.preventDefault()}else if(n===s.END){if(i.is(".k-dropdown")||i.is("input"))return;this.overflowAnchor&&"hidden"!=t(this.overflowAnchor).css("visibility")?this.overflowAnchor.focus():o.last().focus(),e.preventDefault()}else n!==s.RIGHT||this._preventNextFocus||i.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(e.target,1*r)?n!==s.LEFT||this._preventNextFocus||i.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(e.target,-1*r)||(this._getNextElement(e.target,-1*r).focus(),e.preventDefault()):(this._getNextElement(e.target,1*r).focus(),e.preventDefault())}},_getNextElement:function(e,i){var n=this.element.children(":not(.k-separator):visible"),o=-1===n.index(e)?n.index(e.parentElement):n.index(e),r=this.overflowAnchor?1:0,a=i,s=1===i?n.length-1:r,l=1===i?r:n.length-1,c=n[o+i];if(this._preventNextFocus=!1,t(e).closest("."+u).length&&!t(e).is(1===i?":last-child":":first-child"))return t(e).closest("."+u).children()[t(e).closest("."+u).children().index(e)+i];for(this.overflowAnchor&&e===this.overflowAnchor[0]&&-1===i&&(c=n[n.length-1]),o===s&&(c=!this.overflowAnchor||this.overflowAnchor&&"hidden"===t(this.overflowAnchor).css("visibility")?n[l]:this.overflowAnchor);!t(c).is(":kendoFocusable");){if(!(c=-1===i&&t(c).closest("."+u).length?t(c).children(":not(label, div)").last():t(c).children(":not(label, div)").first()).length&&!(c=n[o+(a+=i)]))return this.overflowAnchor;this._preventNextFocus=!t(c).closest("."+u).length}return c},_getPrevFocusable:function(e){return e.is("html")?e:(e.prevAll().each(function(){return(n=t(this)).is(":kendoFocusable")?(i=n,!1):n.find(":kendoFocusable").length>0?(i=n.find(":kendoFocusable").last(),!1):void 0}),i||this._getPrevFocusable(e.parent()));var i,n},_toggle:function(e){var i=t(e.target).closest("."+h).data("splitButton");e.preventDefault(),i.options.enable&&i.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;this.options.resizable&&(this.popup.close(),this._shrink(e),this._stretch(e),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var e=0;return this.element.children(":visible:not('.k-state-hidden')").each(function(){e+=l(t(this),!0)}),Math.ceil(e)},_shrink:function(t){var e,i;if(t<this._childrenWidth())for(var n=(i=this.element.children(":visible:not([data-overflow='never'], .k-overflow-anchor)")).length-1;n>=0&&(e=i.eq(n),!(t>this._childrenWidth()));n--)this._hideItem(e)},_stretch:function(t){var e,i;if(t>this._childrenWidth()){i=this.element.children(":hidden:not('.k-state-hidden')");for(var n=0;n<i.length&&(e=i.eq(n),!(t<this._childrenWidth())&&this._showItem(e,t));n++);}},_hideItem:function(t){t.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").removeClass("k-overflow-hidden")},_showItem:function(t,e){return!!(t.length&&e>this._childrenWidth()+l(t,!0))&&(t.show(),this.popup&&this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").addClass("k-overflow-hidden"),!0)},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not(.k-overflow-anchor)"),i=t.filter(":not(.k-overflow-hidden)"),n=e.filter(":visible");t.add(e).removeClass("k-toolbar-first-visible k-toolbar-last-visible"),i.first().add(n.first()).addClass("k-toolbar-first-visible"),i.last().add(n.last()).addClass("k-toolbar-last-visible")}});i.ui.plugin(F)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,i){var n=i(9),o=i(8).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,i){var n=i(15),o=i(8),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(48)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){e.f=i(12)},function(t,e,i){var n=i(87)("keys"),o=i(47);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(36);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(8).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(9),o=i(10),r=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(34)(Function.call,i(31).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:r}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var n=i(9),o=i(93).set;t.exports=function(t,e,i){var r,a=e.constructor;return a!==i&&"function"==typeof a&&(r=a.prototype)!==i.prototype&&n(r)&&o&&o(t,r),t}},function(t,e,i){"use strict";var n=i(38),o=i(37);t.exports=function(t){var e=String(o(this)),i="",r=n(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){"use strict";var n=i(48),o=i(2),r=i(22),a=i(26),s=i(55),l=i(137),c=i(54),u=i(53),h=i(12)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,p,m,g,v){l(i,e,p);var b,k,y,w=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},_=e+" Iterator",x="values"==m,S=!1,C=t.prototype,A=C[h]||C["@@iterator"]||m&&C[m],T=A||w(m),j=m?x?w("entries"):T:void 0,M="Array"==e&&C.entries||A;if(M&&(y=u(M.call(new t)))!==Object.prototype&&y.next&&(c(y,_,!0),n||"function"==typeof y[h]||a(y,h,f)),x&&A&&"values"!==A.name&&(S=!0,T=function(){return A.call(this)}),n&&!v||!d&&!S&&C[h]||a(C,h,T),s[e]=T,s[_]=f,m)if(b={values:x?T:w("values"),keys:g?T:w("keys"),entries:j},v)for(k in b)k in C||r(C,k,b[k]);else o(o.P+o.F*(d||S),e,b);return b}},function(t,e,i){var n=i(101),o=i(37);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(t))}},function(t,e,i){var n=i(9),o=i(36),r=i(12)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,i){var n=i(12)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var n=i(55),o=i(12)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[o]===t)}},function(t,e,i){"use strict";var n=i(13),o=i(46);t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},function(t,e,i){var n=i(72),o=i(12)("iterator"),r=i(55);t.exports=i(15).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){"use strict";var n=i(28),o=i(50),r=i(16);t.exports=function(t){for(var e=n(this),i=r(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,i),l=a>2?arguments[2]:void 0,c=void 0===l?i:o(l,i);c>s;)e[s++]=t;return e}},function(t,e,i){"use strict";var n=i(56),o=i(141),r=i(55),a=i(27);t.exports=i(99)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";var n=i(10);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n,o,r,a=i(34),s=i(130),l=i(92),c=i(86),u=i(8),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},k=function(t){b.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},f=function(t){delete v[t]},"process"==i(36)(h)?n=function(t){h.nextTick(a(b,t,1))}:m&&m.now?n=function(t){m.now(a(b,t,1))}:p?(r=(o=new p).port2,o.port1.onmessage=k,n=a(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",k,!1)):n="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,i){"use strict";var n=i(8),o=i(14),r=i(48),a=i(80),s=i(26),l=i(59),c=i(7),u=i(58),h=i(38),d=i(16),f=i(148),p=i(52).f,m=i(13).f,g=i(106),v=i(54),b="prototype",k="Wrong index!",y=n.ArrayBuffer,w=n.DataView,_=n.Math,x=n.RangeError,S=n.Infinity,C=y,A=_.abs,T=_.pow,j=_.floor,M=_.log,z=_.LN2,E=o?"_b":"buffer",I=o?"_l":"byteLength",D=o?"_o":"byteOffset";function O(t,e,i){var n,o,r,a=new Array(i),s=8*i-e-1,l=(1<<s)-1,c=l>>1,u=23===e?T(2,-24)-T(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===S?(o=t!=t?1:0,n=l):(n=j(M(t)/z),t*(r=T(2,-n))<1&&(n--,r*=2),(t+=n+c>=1?u/r:u*T(2,1-c))*r>=2&&(n++,r/=2),n+c>=l?(o=0,n=l):n+c>=1?(o=(t*r-1)*T(2,e),n+=c):(o=t*T(2,c-1)*T(2,e),n=0));e>=8;a[h++]=255&o,o/=256,e-=8);for(n=n<<e|o,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*d,a}function P(t,e,i){var n,o=8*i-e-1,r=(1<<o)-1,a=r>>1,s=o-7,l=i-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===r)return n?NaN:c?-S:S;n+=T(2,e),u-=a}return(c?-1:1)*n*T(2,u-e)}function R(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function L(t){return[255&t]}function F(t){return[255&t,t>>8&255]}function N(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function B(t){return O(t,52,8)}function q(t){return O(t,23,4)}function V(t,e,i){m(t[b],e,{get:function(){return this[i]}})}function H(t,e,i,n){var o=f(+i);if(o+e>t[I])throw x(k);var r=t[E]._b,a=o+t[D],s=r.slice(a,a+e);return n?s:s.reverse()}function U(t,e,i,n,o,r){var a=f(+i);if(a+e>t[I])throw x(k);for(var s=t[E]._b,l=a+t[D],c=n(+o),u=0;u<e;u++)s[l+u]=c[r?u:e-u-1]}if(a.ABV){if(!c(function(){y(1)})||!c(function(){new y(-1)})||c(function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name})){for(var W,G=(y=function(t){return u(this,y),new C(f(t))})[b]=C[b],Q=p(C),Y=0;Q.length>Y;)(W=Q[Y++])in y||s(y,W,C[W]);r||(G.constructor=y)}var K=new w(new y(2)),Z=w[b].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||l(w[b],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else y=function(t){u(this,y,"ArrayBuffer");var e=f(t);this._b=g.call(new Array(e),0),this[I]=e},w=function(t,e,i){u(this,w,"DataView"),u(t,y,"DataView");var n=t[I],o=h(e);if(o<0||o>n)throw x("Wrong offset!");if(o+(i=void 0===i?n-o:d(i))>n)throw x("Wrong length!");this[E]=t,this[D]=o,this[I]=i},o&&(V(y,"byteLength","_l"),V(w,"buffer","_b"),V(w,"byteLength","_l"),V(w,"byteOffset","_o")),l(w[b],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return R(H(this,4,t,arguments[1]))},getUint32:function(t){return R(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return P(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return P(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){U(this,1,t,L,e)},setUint8:function(t,e){U(this,1,t,L,e)},setInt16:function(t,e){U(this,2,t,F,e,arguments[2])},setUint16:function(t,e){U(this,2,t,F,e,arguments[2])},setInt32:function(t,e){U(this,4,t,N,e,arguments[2])},setUint32:function(t,e){U(this,4,t,N,e,arguments[2])},setFloat32:function(t,e){U(this,4,t,q,e,arguments[2])},setFloat64:function(t,e){U(this,8,t,B,e,arguments[2])}});v(y,"ArrayBuffer"),v(w,"DataView"),s(w[b],a.VIEW,!0),e.ArrayBuffer=y,e.DataView=w},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1)],void 0===(r="function"==typeof(n=function(){var t=window.app=window.app||{};return function(){var e,i=window.assert,n=new RegExp("^[a-z0-9]{8}0{16}$"),o=/^[a-z]{2}$/,r=/^[a-f0-9]{24}$/;try{e=window.localStorage}catch(t){}if(t.constants={appId:"5aa7b81cb706873118ffb5b6",appName:"Kidoju",appScheme:"com.kidoju.en01",appStoreUrl:{ios:"itms-apps://itunes.apple.com/app/id1361727514?action=write-review",android:"market://details?id=com.kidoju.en01","amazon-fireos":"amzn://apps/android?p=com.kidoju.en01"},gaTrackingId:"UA-63281999-4",feedbackUrl:"https://www.kidoju.com/support/{0}/contact?about={1}",helpUrl:"https://help.kidoju.com",appleKidSafety:/iphone|ipod|ipad/i.test(window.navigator.userAgent),authorId:"56d6ee31bc039c1a00062950",language:"en",rootCategoryId:{en:"000100030000000000000000",fr:void 0},theme:void 0},"undefined"!==$.type(t.constants.authorId)&&i.match(r,t.constants.authorId,i.format(i.messages.match.default,"app.constants.authorId",r)),"undefined"!==$.type(t.constants.language)&&i.match(o,t.constants.language,i.format(i.messages.match.default,"app.constants.language",o)),"undefined"!==$.type(t.constants.rootCategoryId.en)&&i.match(n,t.constants.rootCategoryId.en,i.format(i.messages.match.default,"app.constants.rootCategoryId.en",n)),"undefined"!==$.type(t.constants.rootCategoryId.fr)&&i.match(n,t.constants.rootCategoryId.fr,i.format(i.messages.match.default,"app.constants.rootCategoryId.fr",n)),void 0!==(t&&t.i18n))throw new Error("Load app.constants before app.i18n.");if(e&&t.constants.language&&e.setItem("language",t.constants.language),void 0!==(t&&t.theme))throw new Error("Load app.constants before app.theme.");e&&t.constants.theme&&e.setItem("theme",t.constants.theme)}(),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(43)],void 0===(r="function"==typeof(n=function(){return function(t,e){var n,o=window.app=window.app||{},r=window.assert,a=new window.Logger("app.i18n"),s=o.cultures=o.cultures||{},l="i18n.loaded",c="language";try{n=window.localStorage}catch(t){}var u=o.i18n={load:function(e){r.type("array",o.locales,"`app.locales` is expected to be an array"),r.enum(o.locales,e,"`locale` is expected to be one of "+o.locales.toString());var l=t.Deferred();function h(){try{n.setItem(c,e)}catch(t){if(!(window.DOMException&&t instanceof window.DOMException&&t.code===window.DOMException.QUOTA_EXCEEDED_ERR))throw t}u.culture=s[e],a.debug({message:e+" locale loaded",method:"setLocale"}),l.resolve()}return s[e]?h():i(446)("./app.culture."+e+".js")(h),l.promise()},locale:function(e){if("string"!==t.type(e)){if("undefined"===t.type(e)&&"undefined"===t.type(window.cordova))return document.getElementsByTagName("html")[0].getAttribute("lang")||"en";if("undefined"===t.type(e))return n&&n.getItem(c)||"en";throw new TypeError("Bad locale")}r.type("array",o.locales,"`app.locales` is expected to be an array"),r.enum(o.locales,e,"`locale` is expected to be one of "+o.locales.toString()),r.isUndefined(window.cordova,"This is not the way to change locale in phonegap/cordova");var i=o.uris.webapp.locale.replace("{0}",e);window.top===window.self?window.location.assign(i):window.top.location.assign(i)}};"undefined"===t.type(window.cordova)?t(function(){var e=u.locale();t(document).one(l,function(){t("body>div.k-loading-image").delay(400).fadeOut()}),u.load(e).done(function(){t(document).trigger(l)})}):document.addEventListener("deviceready",function(){if(window.navigator&&window.navigator.language){var e=u.locale()||window.navigator.language.substr(0,2);-1===o.locales.indexOf(e)&&(e="en"),u.load(e).done(function(){t(document).trigger(l)})}else u.load(u.locale()||"en").done(function(){t(document).trigger(l)})},!1)}(window.jQuery),window.app})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(17)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=n.DataBoundWidget,a=t.proxy,s="k-group",l="k-state-selected",c="k-state-focused",u="itemChange";function h(t){return t[t.length-1]}function d(t){return t instanceof Array?t:[t]}function f(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function p(t,e,i){var n=document.createElement(i||"div");return e&&(n.className=e),t.appendChild(n),n}function m(n,o,r){var a=r.template;n=t(n),o.item||(a=r.placeholderTemplate),0===o.index&&this.header&&o.group&&this.header.html(r.fixedGroupTemplate(o.group)),this.angular("cleanup",function(){return{elements:[n]}}),n.attr("data-uid",o.item?o.item.uid:"").attr("data-offset-index",o.index).html(a(o.item||{})),n.toggleClass(c,o.current),n.toggleClass(l,o.selected),n.toggleClass("k-first",o.newGroup),n.toggleClass("k-loading-item",!o.item),0!==o.index&&o.newGroup&&t("<div class="+s+"></div>").appendTo(n).html(r.groupTemplate(o.group)),o.top!==e&&function(t,e){i.support.browser.msie&&i.support.browser.version<10?t.style.top=e+"px":(t.style.webkitTransform="translateY("+e+"px)",t.style.transform="translateY("+e+"px)")}(n[0],o.top),this.angular("compile",function(){return{elements:[n],data:[{dataItem:o.item,group:o.group,newGroup:o.newGroup}]}})}function g(t){return t&&"resolved"!==t.state()}var v=r.extend({init:function(e,n){var r=this;r.bound(!1),r._fetching=!1,o.fn.init.call(r,e,n),r.options.itemHeight||(r.options.itemHeight=function(){var e,n=t('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>');return n.css({position:"absolute",left:"-200000px",visibility:"hidden"}),n.appendTo(document.body),e=parseFloat(i.getComputedStyles(n.find(".k-item")[0],["line-height"])["line-height"]),n.remove(),e}()),n=r.options,r.element.addClass("k-list k-virtual-list").attr("role","listbox"),r.content=r.element.wrap("<div unselectable='on' class='k-virtual-content'></div>").parent(),r.wrapper=r.content.wrap("<div class='k-virtual-wrap'></div>").parent(),r.header=r.content.before("<div class='k-group-header'></div>").prev(),r.element.on("mouseenter.VirtualList","li:not(.k-loading-item)",function(){t(this).addClass("k-state-hover")}).on("mouseleave.VirtualList","li",function(){t(this).removeClass("k-state-hover")}),r._values=d(r.options.value),r._selectedDataItems=[],r._selectedIndexes=[],r._rangesList={},r._promisesList=[],r._optionID=i.guid(),r._templates(),r.setDataSource(n.dataSource),r.content.on("scroll.VirtualList",i.throttle(function(){r._renderItems(),r._triggerListBound()},n.delay)),r._selectable()},options:{name:"VirtualList",autoBind:!0,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:!1,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null},events:["change","click","listBound",u,"activate","deactivate"],setOptions:function(t){o.fn.setOptions.call(this,t),this._selectProxy&&!1===this.options.selectable?this.element.off("click",".k-virtual-item",this._selectProxy):!this._selectProxy&&this.options.selectable&&this._selectable(),this._templates(),this.refresh()},items:function(){return t(this._items)},destroy:function(){this.wrapper.off(".VirtualList"),this.dataSource.unbind("change",this._refreshHandler),o.fn.destroy.call(this)},setDataSource:function(e){var n,o=this,r=e||{};r=t.isArray(r)?{data:r}:r,r=i.data.DataSource.create(r),o.dataSource?(o.dataSource.unbind("change",o._refreshHandler),o._clean(),o.bound(!1),o._deferValueSet=!0,n=o.value(),o.value([]),o.mute(function(){o.value(n)})):o._refreshHandler=t.proxy(o.refresh,o),o.dataSource=r.bind("change",o._refreshHandler),o.setDSFilter(r.filter()),0!==r.view().length?o.refresh():o.options.autoBind&&r.fetch()},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var t=this.skip();this.bound()&&!this._selectingValue&&this._skip!==t&&(this._skip=t,this.trigger("listBound"))},_getValues:function(e){var i=this._valueGetter;return t.map(e,function(t){return i(t)})},_highlightSelectedItems:function(){for(var t=0;t<this._selectedDataItems.length;t++){var e=this._getElementByDataItem(this._selectedDataItems[t]);e.length&&e.addClass(l)}},refresh:function(t){var e,i=this,n=t&&t.action,o="itemchange"===n,r=this.isFiltered();i._mute||(i._deferValueSet=!1,i._fetching?(i._renderItems&&i._renderItems(!0),i._triggerListBound()):(r&&i.focus(0),i._createList(),n||!i._values.length||r||i.options.skipUpdateOnBind?(i.bound(!0),i._highlightSelectedItems(),i._triggerListBound()):(i._selectingValue=!0,i.bound(!0),i.value(i._values,!0).done(function(){i._selectingValue=!1,i._triggerListBound()}))),(o||"remove"===n)&&(e=function(t,e){var i,n,o,r,a=e.length,s=t.length,l=[],c=[];if(s)for(o=0;o<s;o++){for(i=t[o],n=!1,r=0;r<a;r++)if(i===e[r]){n=!0,l.push({index:o,item:i});break}n||c.push(i)}return{changed:l,unchanged:c}}(i._selectedDataItems,t.items)).changed.length&&(o?i.trigger("selectedItemChange",{items:e.changed}):i.value(i._getValues(e.unchanged))),i._fetching=!1)},removeAt:function(t){return this._selectedIndexes.splice(t,1),this._values.splice(t,1),{position:t,dataItem:this._selectedDataItems.splice(t,1)[0]}},setValue:function(t){this._values=d(t)},value:function(i,n){return i===e?this._values.slice():(null===i&&(i=[]),i=d(i),this._valueDeferred&&"resolved"!==this._valueDeferred.state()||(this._valueDeferred=t.Deferred()),!("multiple"===this.options.selectable&&this.select().length&&i.length)&&i.length||this.select(-1),this._values=i,(this.bound()&&!this._mute&&!this._deferValueSet||n)&&this._prefetchByValue(i),this._valueDeferred)},_prefetchByValue:function(t){for(var e,i=this,n=i._dataView,o=i._valueGetter,r=i.options.mapValueTo,a=[],s=0;s<t.length;s++)for(var l=0;l<n.length;l++)(e=n[l].item)&&(f(e)?t[s]===e:t[s]===o(e))&&a.push(n[l].index);if(a.length===t.length)return i._values=[],void i.select(a);"function"==typeof i.options.valueMapper?i.options.valueMapper({value:"multiple"===this.options.selectable?t:t[0],success:function(t){"index"===r?i.mapValueToIndex(t):"dataItem"===r&&i.mapValueToDataItem(t)}}):i.select([-1])},mapValueToIndex:function(t){if((t=t===e||-1===t||null===t?[]:d(t)).length){var i=this._deselect([]).removed;i.length&&this._triggerChange(i,[])}else t=[-1];this.select(t)},mapValueToDataItem:function(i){var n,o;if((i=i===e||null===i?[]:d(i)).length){n=t.map(this._selectedDataItems,function(t,e){return{index:e,dataItem:t}}),o=t.map(i,function(t,e){return{index:e,dataItem:t}}),this._selectedDataItems=i,this._selectedIndexes=[];for(var r=0;r<this._selectedDataItems.length;r++){var a=this._getElementByDataItem(this._selectedDataItems[r]);this._selectedIndexes.push(this._getIndecies(a)[0]),a.addClass(l)}this._triggerChange(n,o),this._valueDeferred&&this._valueDeferred.resolve()}else this.select([-1])},deferredRange:function(e){var i=this.dataSource,n=this.itemCount,o=this._rangesList,r=t.Deferred(),a=[],s=Math.floor(e/n)*n,l=Math.ceil(e/n)*n,c=l===s?[l]:[s,l];return t.each(c,function(e,r){var s,l=r+n,c=o[r];c&&c.end===l?s=c.deferred:(s=t.Deferred(),o[r]={end:l,deferred:s},i._multiplePrefetch(r,n,function(){s.resolve()})),a.push(s)}),t.when.apply(t,a).then(function(){r.resolve()}),r},prefetch:function(e){var i=this,n=this.itemCount,o=!i._promisesList.length;return g(i._activeDeferred)||(i._activeDeferred=t.Deferred(),i._promisesList=[]),t.each(e,function(t,e){i._promisesList.push(i.deferredRange(i._getSkip(e,n)))}),o&&t.when.apply(t,i._promisesList).done(function(){i._promisesList=[],i._activeDeferred.resolve()}),i._activeDeferred},_findDataItem:function(t,e){var i;if("group"===this.options.type)for(var n=0;n<t.length;n++){if(!((i=t[n].items).length<=e))return i[e];e-=i.length}return t[e]},_getRange:function(t,e){return this.dataSource._findRange(t,Math.min(t+e,this.dataSource.total()))},dataItemByIndex:function(e){var n=this,o=n.itemCount,r=n._getSkip(e,o),a=this._getRange(r,o);return n._getRange(r,o).length?("group"===n.options.type&&(i.ui.progress(t(n.wrapper),!0),n.mute(function(){n.dataSource.range(r,o,function(){i.ui.progress(t(n.wrapper),!1)}),a=n.dataSource.view()})),n._findDataItem(a,[e-r])):null},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(t){this.content.scrollTop(this.content.scrollTop()+t)},scrollTo:function(t){this.content.scrollTop(t)},scrollToIndex:function(t){this.scrollTo(t*this.options.itemHeight)},focus:function(i){var n,o,r,a,s=this.options.itemHeight,l=this._optionID,u=!0;if(i===e)return(a=this.element.find("."+c)).length?a:null;if("function"==typeof i){r=this.dataSource.flatView();for(var d=0;d<r.length;d++)if(i(r[d])){i=d;break}}if(i instanceof Array&&(i=h(i)),isNaN(i)?(n=t(i),o=parseInt(t(n).attr("data-offset-index"),10)):(o=i,n=this._getElementByIndex(o)),-1===o)return this.element.find("."+c).removeClass(c),void(this._focusedIndex=e);if(n.length){n.hasClass(c)&&(u=!1),this._focusedIndex!==e&&((a=this._getElementByIndex(this._focusedIndex)).removeClass(c).removeAttr("id"),u&&this.trigger("deactivate")),this._focusedIndex=o,n.addClass(c).attr("id",l);var f=this._getElementLocation(o);"top"===f?this.scrollTo(o*s):"bottom"===f?this.scrollTo(o*s+s-this._screenHeight):"outScreen"===f&&this.scrollTo(o*s),u&&this.trigger("activate")}else this._focusedIndex=o,this.items().removeClass(c),this.scrollToIndex(o)},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0),this.focus(0)},focusLast:function(){var t=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight),this.focus(t)},focusPrev:function(){var t,e=this._focusedIndex;return!isNaN(e)&&e>0?(e-=1,this.focus(e),(t=this.focus())&&t.hasClass("k-loading-item")&&(e+=1,this.focus(e)),e):(e=this.dataSource.total()-1,this.focus(e),e)},focusNext:function(){var t,e=this._focusedIndex,i=this.dataSource.total()-1;return!isNaN(e)&&e<i?(e+=1,this.focus(e),(t=this.focus())&&t.hasClass("k-loading-item")&&(e-=1,this.focus(e)),e):(e=0,this.focus(e),e)},_triggerChange:function(t,e){t=t||[],e=e||[],(t.length||e.length)&&this.trigger("change",{removed:t,added:e})},select:function(i){var n,o,r,a,s,l=this,c="multiple"!==l.options.selectable,u=g(l._activeDeferred),d=this.isFiltered(),f=[];if(i===e)return l._selectedIndexes.slice();if(l._selectDeferred&&"resolved"!==l._selectDeferred.state()||(l._selectDeferred=t.Deferred()),n=l._getIndecies(i),r=c&&!d&&h(n)===h(this._selectedIndexes),(f=l._deselectCurrentValues(n)).length||!n.length||r)return l._triggerChange(f),l._valueDeferred&&l._valueDeferred.resolve().promise(),l._selectDeferred.resolve().promise();1===n.length&&-1===n[0]&&(n=[]),o=n,s=l._deselect(n),f=s.removed,n=s.indices,c&&(u=!1,n.length&&(n=[h(n)]));var p=function(){var t=l._select(n);(o.length===n.length||c)&&l.focus(n),l._triggerChange(f,t),l._valueDeferred&&l._valueDeferred.resolve(),l._selectDeferred.resolve()};return a=l.prefetch(n),u||(a?a.done(p):p()),l._selectDeferred.promise()},bound:function(t){if(t===e)return this._listCreated;this._listCreated=t},mute:function(t){this._mute=!0,a(t(),this),this._mute=!1},setDSFilter:function(e){this._lastDSFilter=t.extend({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!i.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:t.noop,_getElementByIndex:function(e){return this.items().filter(function(i,n){return e===parseInt(t(n).attr("data-offset-index"),10)})},_getElementByDataItem:function(e){for(var i,n=this._dataView,o=this._valueGetter,r=0;r<n.length;r++)if(n[r].item&&f(n[r].item)?n[r].item===e:n[r].item&&e&&o(n[r].item)==o(e)){i=n[r];break}return i?this._getElementByIndex(i.index):t()},_clean:function(){this.result=e,this._lastScrollTop=e,this._skip=e,t(this.heightContainer).remove(),this.heightContainer=e,this.element.empty()},_height:function(){var t=!!this.dataSource.view().length,e=this.options.height,i=this.options.itemHeight,n=this.dataSource.total();return t?e/i>n&&(e=n*i):e=0,e},setScreenHeight:function(){var t=this._height();this.content.height(t),this._screenHeight=t},screenHeight:function(){return this._screenHeight},_getElementLocation:function(t){var e=this.content.scrollTop(),i=this._screenHeight,n=this.options.itemHeight,o=t*n,r=o+n,a=e+i;return o===e-n||r>e&&o<e?"top":o===a||o<a&&a<r?"bottom":o>=e&&o<=e+(i-n)?"inScreen":"outScreen"},_templates:function(){var t=this.options,e={template:t.template,placeholderTemplate:t.placeholderTemplate,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};for(var n in e)"function"!=typeof e[n]&&(e[n]=i.template(e[n]||""));this.templates=e},_generateItems:function(t,e){for(var i,n=[],o=this.options.itemHeight+"px";e-- >0;)(i=document.createElement("li")).tabIndex=-1,i.className="k-virtual-item k-item",i.setAttribute("role","option"),i.style.height=o,i.style.minHeight=o,t.appendChild(i),n.push(i);return n},_saveInitialRanges:function(){var e=this.dataSource._ranges,i=t.Deferred();i.resolve(),this._rangesList={};for(var n=0;n<e.length;n++)this._rangesList[e[n].start]={end:e[n].end,deferred:i}},_createList:function(){var e=this,i=e.content.get(0),n=e.options,o=e.dataSource;e.bound()&&e._clean(),e._saveInitialRanges(),e._buildValueGetter(),e.setScreenHeight(),e.itemCount=function(t,e,i){return Math.ceil(t*e/i)}(e._screenHeight,n.listScreens,n.itemHeight),e.itemCount>o.total()&&(e.itemCount=o.total()),e._items=e._generateItems(e.element[0],e.itemCount),e._setHeight(n.itemHeight*o.total()),e.options.type=(o.group()||[]).length?"group":"flat","flat"===e.options.type?e.header.hide():e.header.show(),e.getter=e._getter(function(){e._renderItems(!0)}),e._onScroll=function(t,i){var n=e._listItems(e.getter);return e._fixedHeader(t,n(t,i))},e._renderItems=e._whenChanged(function(t,e){return function(i){return e(t.scrollTop,i)}}(i,e._onScroll),function(t){return function(e,i){return t(e.items,e.index,i),e}}(e._reorderList(e._items,t.proxy(m,e)))),e._renderItems(),e._calculateGroupPadding(e._screenHeight)},_setHeight:function(t){var e,i=this.heightContainer;if(i?e=i.offsetHeight:i=this.heightContainer=p(this.content[0],"k-height-container"),t!==e)for(i.innerHTML="";t>0;){var n=Math.min(t,25e4);p(i).style.height=n+"px",t-=n}},_getter:function(){var t=null,e=this.dataSource,i=e.skip(),n=this.options.type,o=this.itemCount,r={};return e.pageSize()<o&&this.mute(function(){e.pageSize(o)}),function(a,s){var l=this;if(e.inRange(s,o)){var c;if(i!==s&&this.mute(function(){e.range(s,o),i=s}),"group"===n){if(!r[s])for(var u=r[s]=[],h=e.view(),d=0,f=h.length;d<f;d++)for(var p=h[d],m=0,g=p.items.length;m<g;m++)u.push({item:p.items[m],group:p.value});c=r[s][a-s]}else c=e.view()[a-s];return c}return t!==s&&(t=s,i=s,l._getterDeferred&&l._getterDeferred.reject(),l._getterDeferred=l.deferredRange(s),l._getterDeferred.then(function(){var t=l._indexConstraint(l.content[0].scrollTop);l._getterDeferred=null,s<=t&&t<=s+o&&(l._fetching=!0,e.range(s,o))})),null}},_fixedHeader:function(t,e){var i=this.currentVisibleGroup,n=this.options.itemHeight,o=Math.floor((t-e.top)/n),r=e.items[o];if(r&&r.item){var a=r.group;if(a!==i){var s=a||"";this.header.html(this.templates.fixedGroupTemplate(s)),this.currentVisibleGroup=a}}return e},_itemMapper:function(t,e,i){var n=this.options.type,o=this.options.itemHeight,r=this._focusedIndex,a=!1,s=!1,l=!1,c=null,u=this._valueGetter;if("group"===n&&(t&&(l=0===e||this._currentGroup&&this._currentGroup!==t.group,this._currentGroup=t.group),c=t?t.group:null,t=t?t.item:null),!this.isFiltered()&&i.length&&t)for(var h=0;h<i.length;h++)if(f(t)?i[h]===t:i[h]===u(t)){i.splice(h,1),a=!0;break}return r===e&&(s=!0),{item:t||null,group:c,newGroup:l,selected:a,current:s,index:e,top:e*o}},_range:function(t){var e,i=this.itemCount,n=this._values.slice(),o=[];this._view={},this._currentGroup=null;for(var r=t,a=t+i;r<a;r++)e=this._itemMapper(this.getter(r,t),r,n),o.push(e),this._view[e.index]=e;return this._dataView=o,o},_getDataItemsCollection:function(t,e){var i=this._range(this._listIndex(t,e));return{index:i.length?i[0].index:0,top:i.length?i[0].top:0,items:i}},_listItems:function(){var e=this._screenHeight,i=function(t,e){var i=(t.listScreens-1-t.threshold)*e,n=t.threshold*e;return function(t,e,o){return e>o?e-t.top<i:0===t.top||e-t.top>n}}(this.options,e);return t.proxy(function(t,e){var n=this.result,o=this._lastScrollTop;return!e&&n&&i(n,t,o)||(n=this._getDataItemsCollection(t,o)),this._lastScrollTop=t,this.result=n,n},this)},_whenChanged:function(t,e){var i;return function(n){var o=t(n);o!==i&&(i=o,e(o,n))}},_reorderList:function(e,n){var o=this,r=e.length,a=-1/0;return n=t.proxy(function(e,n){return function(o,r){for(var a=0,s=o.length;a<s;a++)e(o[a],r[a],n),r[a].item&&this.trigger(u,{item:t(o[a]),data:r[a].item,ns:i.ui})}}(n,this.templates),this),function(t,i,s){var l,c,u=i-a;s||Math.abs(u)>=r?(l=e,c=t):(l=function(t,e){var i;return e>0?(i=t.splice(0,e),t.push.apply(t,i)):(i=t.splice(e,-e),t.unshift.apply(t,i)),i}(e,u),c=u>0?t.slice(-u):t.slice(0,-u)),n(l,c,o.bound()),a=i}},_bufferSizes:function(){var t=this.options;return function(t,e,i){return{down:t*i,up:t*(e-1-i)}}(this._screenHeight,t.listScreens,t.oppositeBuffer)},_indexConstraint:function(t){var e=this.itemCount,i=this.options.itemHeight,n=this.dataSource.total();return Math.min(Math.max(n-e,0),Math.max(0,Math.floor(t/i)))},_listIndex:function(t,e){var i,n=this._bufferSizes();return i=t-(t>e?n.down:n.up),this._indexConstraint(i)},_selectable:function(){this.options.selectable&&(this._selectProxy=t.proxy(this,"_clickHandler"),this.element.on("click.VirtualList",".k-virtual-item",this._selectProxy))},getElementIndex:function(t){return t instanceof jQuery?parseInt(t.attr("data-offset-index"),10):e},_getIndecies:function(t){var e,i=[];if("function"==typeof t){e=this.dataSource.flatView();for(var n=0;n<e.length;n++)if(t(e[n])){i.push(n);break}}"number"==typeof t&&i.push(t);var o=this.getElementIndex(t);return isNaN(o)||i.push(o),t instanceof Array&&(i=t),i},_deselect:function(i){var n,o,r,a=[],s=this._selectedIndexes,c=this._selectedDataItems,u=0,h=this.options.selectable,d=0,p=this._valueGetter,m=null;if(i=i.slice(),!0!==h&&i.length){if("multiple"===h)for(var g=0;g<i.length;g++){if(m=null,u=t.inArray(i[g],s),o=this.dataItemByIndex(i[g]),-1===u&&o)for(var v=0;v<c.length;v++)(f(o)?c[v]===o:p(c[v])===p(o))&&(r=this._getElementByIndex(i[g]),m=this._deselectSingleItem(r,v,i[g],d));else(n=s[u])!==e&&(r=this._getElementByIndex(n),m=this._deselectSingleItem(r,u,n,d));m&&(i.splice(g,1),a.push(m),d++,g--)}}else{for(var b=0;b<s.length;b++)s[b]!==e?this._getElementByIndex(s[b]).removeClass(l):c[b]&&this._getElementByDataItem(c[b]).removeClass(l),a.push({index:s[b],position:b,dataItem:c[b]});this._values=[],this._selectedDataItems=[],this._selectedIndexes=[]}return{indices:i,removed:a}},_deselectSingleItem:function(t,e,i,n){if(t.hasClass("k-state-selected"))return t.removeClass(l),this._values.splice(e,1),this._selectedIndexes.splice(e,1),{index:i,position:e+n,dataItem:this._selectedDataItems.splice(e,1)[0]}},_deselectCurrentValues:function(e){var i,n,o,r,a=this.element[0].children,s=this._values,l=[],c=0;if("multiple"!==this.options.selectable||!this.isFiltered())return[];if(-1===e[0])return t(a).removeClass("k-state-selected"),l=t.map(this._selectedDataItems.slice(0),function(t,e){return{dataItem:t,position:e}}),this._selectedIndexes=[],this._selectedDataItems=[],this._values=[],l;for(;c<e.length;c++){for(o=-1,n=e[c],this.dataItemByIndex(n)&&(i=this._valueGetter(this.dataItemByIndex(n))),r=0;r<s.length;r++)if(i==s[r]){o=r;break}o>-1&&(l.push(this.removeAt(o)),t(a[n]).removeClass("k-state-selected"))}return l},_getSkip:function(t,e){return((t<e?1:Math.floor(t/e)+1)-1)*e},_select:function(e){var i,n,o=this,r="multiple"!==this.options.selectable,a=this.dataSource,s=this.itemCount,c=this._valueGetter,u=[];return r&&(o._selectedIndexes=[],o._selectedDataItems=[],o._values=[]),n=a.skip(),t.each(e,function(t,e){var r=o._getSkip(e,s);o.mute(function(){a.range(r,s),i=o._findDataItem(a.view(),[e-r]),o._selectedIndexes.push(e),o._selectedDataItems.push(i),o._values.push(f(i)?i:c(i)),u.push({index:e,dataItem:i}),o._getElementByIndex(e).addClass(l),a.range(n,s)})}),u},_clickHandler:function(e){var i=t(e.currentTarget);!e.isDefaultPrevented()&&i.attr("data-uid")&&this.trigger("click",{item:i})},_buildValueGetter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_calculateGroupPadding:function(t){var e=this.items().first(),n=this.header,o=0;n[0]&&"none"!==n[0].style.display&&("auto"!==t&&(o=i.support.scrollbar()),o+=parseFloat(e.css("border-right-width"),10)+parseFloat(e.children(".k-group").css("right"),10),n.css("padding-right",o))}});i.ui.VirtualList=v,i.ui.plugin(v)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(158),i(20),i(451)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=i.parseDate,a=i.keys,s=i.support,l=i.template,c=i._activeElement,u=".kendoDatePicker",h="click"+u,d=s.mouseAndTouchPresent?i.applyEventMap("up",u.slice(1)):h,f="k-state-default",p=i.calendar,m=p.isInRange,g=p.restrictValue,v=p.isEqualDatePart,b=t.extend,k=t.proxy,y=Date;function w(e){var i=e.parseFormats,n=e.format;p.normalize(e),(i=t.isArray(i)?i:[i]).length||i.push("yyyy-MM-dd"),-1===t.inArray(n,i)&&i.splice(0,0,e.format),e.parseFormats=i}function _(t){t.preventDefault()}var x=function(e){var o,r=document.body,a=t("<div />").attr("aria-hidden","true").addClass("k-calendar-container").appendTo(r);this.options=e=e||{},(o=e.id)&&(o+="_dateview",a.attr("id",o),this._dateViewID=o),this.popup=new n.Popup(a,b(e.popup,e,{name:"Popup",isRtl:i.support.isRtl(e.anchor)})),this.div=a,this.value(e.value)};x.prototype={_calendar:function(){var e,o=this.calendar,r=this.options;o||(e=t("<div />").attr("id",i.guid()).appendTo(this.popup.element).on("mousedown.kendoDatePicker",_).on(h,"td:has(.k-link)",k(this._click,this)),this.calendar=o=new n.Calendar(e),this._setOptions(r),i.calendar.makeUnselectable(o.element),o.navigate(this._value||this._current,r.start),this.value(this._value))},_setOptions:function(t){this.calendar.setOptions({focusOnNav:!1,change:t.change,culture:t.culture,dates:t.dates,depth:t.depth,footer:t.footer,format:t.format,max:t.max,min:t.min,month:t.month,weekNumber:t.weekNumber,start:t.start,disableDates:t.disableDates})},setOptions:function(t){var e=this.options,i=t.disableDates;i&&(t.disableDates=p.disabled(i)),this.options=b(e,t,{change:e.change,close:e.close,open:e.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var t,e=this;e._calendar(),t=e.popup._hovered,e.popup._hovered=!0,e.popup.open(),setTimeout(function(){e.popup._hovered=t},1)},close:function(){this.popup.close()},min:function(t){this._option("min",t)},max:function(t){this._option("max",t)},toggle:function(){this[this.popup.visible()?"close":"open"]()},move:function(t){var e=t.keyCode,i=this.calendar,n=t.ctrlKey&&e==a.DOWN||e==a.ENTER,o=!1;if(t.altKey)e==a.DOWN?(this.open(),t.preventDefault(),o=!0):e==a.UP&&(this.close(),t.preventDefault(),o=!0);else if(this.popup.visible()){if(e==a.ESC||n&&i._cell.hasClass("k-state-selected"))return this.close(),t.preventDefault(),!0;e!=a.SPACEBAR&&(this._current=i._move(t)),o=!0}return o},current:function(t){this._current=t,this.calendar._focus(t)},value:function(t){var e=this.calendar,i=this.options,n=i.disableDates;n&&n(t)&&(t=null),this._value=t,this._current=new y(+g(t,i.min,i.max)),e&&e.value(t)},_click:function(t){-1!==t.currentTarget.className.indexOf("k-state-selected")&&this.close()},_option:function(t,e){var i=this.calendar;this.options[t]=e,i&&i[t](e)}},x.normalize=w,i.DateView=x;var S=o.extend({init:function(e,n){var a,s=this;o.fn.init.call(s,e,n),e=s.element,(n=s.options).disableDates=i.calendar.disabled(n.disableDates),n.min=r(e.attr("min"))||r(n.min),n.max=r(e.attr("max"))||r(n.max),w(n),s._initialOptions=b({},n),s._wrapper(),s.dateView=new x(b({},n,{id:e.attr("id"),anchor:s.wrapper,change:function(){s._change(this.value()),s.close()},close:function(t){s.trigger("close")?t.preventDefault():(e.attr("aria-expanded",!1),a.attr("aria-hidden",!0))},open:function(t){var i,n=s.options;s.trigger("open")?t.preventDefault():(s.element.val()!==s._oldText&&(i=r(e.val(),n.parseFormats,n.culture),s.dateView[i?"current":"value"](i)),e.attr("aria-expanded",!0),a.attr("aria-hidden",!1),s._updateARIA(i))}})),a=s.dateView.div,s._icon();try{e[0].setAttribute("type","text")}catch(t){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":s.dateView._dateViewID}),s._reset(),s._template(),e.is("[disabled]")||t(s.element).parents("fieldset").is(":disabled")?s.enable(!1):s.readonly(e.is("[readonly]")),s._createDateInput(n),s._old=s._update(n.value||s.element.val()),s._oldText=e.val(),i.notify(s)},events:["open","close","change"],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(t){var e=this._value;o.fn.setOptions.call(this,t),(t=this.options).min=r(t.min),t.max=r(t.max),w(t),this.dateView.setOptions(t),this._createDateInput(t),this._dateInput||this.element.val(i.toString(e,t.format,t.culture)),e&&this._updateARIA(e)},_editable:function(t){var e=this,i=e._dateIcon.off(u),n=e.element.off(u),o=e._inputWrapper.off(u),r=t.readonly,a=t.disable;r||a?(o.addClass(a?"k-state-disabled":f).removeClass(a?f:"k-state-disabled"),n.attr("disabled",a).attr("readonly",r).attr("aria-disabled",a)):(o.addClass(f).removeClass("k-state-disabled").on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",e._toggleHover),n.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).on("keydown"+u,k(e._keydown,e)).on("focusout"+u,k(e._blur,e)).on("focus"+u,function(){e._inputWrapper.addClass("k-state-focused")}),i.on(d,k(e._click,e)).on("mousedown.kendoDatePicker",_))},readonly:function(t){this._editable({readonly:void 0===t||t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=void 0===t||t)})},destroy:function(){o.fn.destroy.call(this),this.dateView.destroy(),this.element.off(u),this._dateIcon.off(u),this._inputWrapper.off(u),this._form&&this._form.off("reset",this._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(t){return this._option("min",t)},max:function(t){return this._option("max",t)},value:function(t){if(void 0===t)return this._value;this._old=this._update(t),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_toggleHover:function(e){t(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_blur:function(){var t=this.element.val();this.close(),t!==this._oldText&&this._change(t),this._inputWrapper.removeClass("k-state-focused")},_click:function(t){this.dateView.toggle(),this._focusElement(t.type)},_focusElement:function(t){var e=this.element;s.touch&&(!s.mouseAndTouchPresent||(t||"").match(/touch/i))||e[0]===c()||e.focus()},_change:function(t){var e,n=this.element.val();t=this._update(t);var o=(e=!i.calendar.isEqualDate(this._old,t))&&!this._typing,r=n!==this.element.val();(o||r)&&this.element.trigger("change"),e&&(this._old=t,this._oldText=this.element.val(),this.trigger("change")),this._typing=!1},_keydown:function(t){var e=this.dateView,i=this.element.val(),n=!1;e.popup.visible()||t.keyCode!=a.ENTER||i===this._oldText?(n=e.move(t),this._updateARIA(e._current),n?this._dateInput&&t.stopImmediatePropagation&&t.stopImmediatePropagation():this._typing=!0):this._change(i)},_icon:function(){var e,i=this.element;(e=i.next("span.k-select"))[0]||(e=t('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(i)),this._dateIcon=e.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(t,e){var i=this.options;if(void 0===e)return i[t];(e=r(e,i.parseFormats,i.culture))&&(i[t]=new y(+e),this.dateView[t](e))},_update:function(t){var e,n=this.options,o=n.min,a=n.max,s=this._value,l=r(t,n.parseFormats,n.culture),c=null===l&&null===s||l instanceof Date&&s instanceof Date;return n.disableDates(l)&&(l=null,this._old||this.element.val()||(t=null)),+l==+s&&c?((e=i.toString(l,n.format,n.culture))!==t&&this.element.val(null===l?t:e),l):(null!==l&&v(l,o)?l=g(l,o,a):m(l,o,a)||(l=null),this._value=l,this.dateView.value(l),this._dateInput&&l?this._dateInput.value(l||t):this.element.val(i.toString(l||t,n.format,n.culture)),this._updateARIA(l),l)},_wrapper:function(){var e,i=this.element;(e=i.parents(".k-datepicker"))[0]||(e=(e=i.wrap("<span />").parent().addClass("k-picker-wrap k-state-default")).wrap("<span />").parent()),e[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),this.wrapper=e.addClass("k-widget k-datepicker k-header").addClass(i[0].className),this._inputWrapper=t(e[0].firstChild)},_reset:function(){var e=this,i=e.element,n=i.attr("form"),o=n?t("#"+n):i.closest("form");o[0]&&(e._resetHandler=function(){e.value(i[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=o.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=l(this.options.ARIATemplate)},_createDateInput:function(t){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),t.dateInput&&(this._dateInput=new n.DateInput(this.element,{culture:t.culture,format:t.format,min:t.min,max:t.max}))},_updateARIA:function(t){var e,i=this.dateView.calendar;this.element.removeAttr("aria-activedescendant"),i&&((e=i._cell).attr("aria-label",this._ariaTemplate({current:t||i.current()})),this.element.attr("aria-activedescendant",e.attr("id")))}});n.plugin(S)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.caret,o=i.keys,r=i.ui,a=r.Widget,s=i._activeElement,l=i._extractFormat,c=i.parseFloat,u=i.support.placeholder,h=i.getCulture,d=".kendoNumericTextBox",f="mouseenter"+d+" mouseleave.kendoNumericTextBox",p="k-state-default",m=".",g="k-icon",v="k-state-selected",b=/^(-)?(\d*)$/,k=t.proxy,y=t.extend,w=a.extend({init:function(e,n){var o,r,s,c,u=this,h=n&&void 0!==n.step;a.fn.init.call(u,e,n),n=u.options,e=u.element.on("focusout"+d,k(u._focusout,u)).attr("role","spinbutton"),n.placeholder=n.placeholder||e.attr("placeholder"),o=u.min(e.attr("min")),r=u.max(e.attr("max")),s=u._parse(e.attr("step")),null===n.min&&null!==o&&(n.min=o),null===n.max&&null!==r&&(n.max=r),h||null===s||(n.step=s),u._initialOptions=y({},n),u._reset(),u._wrapper(),u._arrows(),u._validation(),u._input(),i.support.mobileOS?u._text.on("touchend"+d+" focus"+d,function(){i.support.browser.edge?u._text.one("focus"+d,function(){u._toggleText(!1),e.focus()}):(u._toggleText(!1),e.focus())}):u._text.on("focus"+d,k(u._click,u)),e.attr("aria-valuemin",null!==n.min?n.min*n.factor:n.min).attr("aria-valuemax",null!==n.max?n.max*n.factor:n.max),n.format=l(n.format),c=n.value,u.value(null!==c?c:e.val()),e.is("[disabled]")||t(u.element).parents("fieldset").is(":disabled")?u.enable(!1):u.readonly(e.is("[readonly]")),i.notify(u)},options:{name:"NumericTextBox",decimals:null,restrictDecimals:!1,min:null,max:null,value:null,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:["change","spin"],_editable:function(t){var e=this,i=e.element,n=t.disable,o=t.readonly,r=e._text.add(i),a=e._inputWrapper.off(f);e._toggleText(!0),e._upArrowEventHandler.unbind("press"),e._downArrowEventHandler.unbind("press"),i.off("keydown"+d).off("keypress"+d).off("keyup"+d).off("paste"+d),o||n?(a.addClass(n?"k-state-disabled":p).removeClass(n?p:"k-state-disabled"),r.attr("disabled",n).attr("readonly",o).attr("aria-disabled",n)):(a.addClass(p).removeClass("k-state-disabled").on(f,e._toggleHover),r.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1),e._upArrowEventHandler.bind("press",function(t){t.preventDefault(),e._spin(1),e._upArrow.addClass(v)}),e._downArrowEventHandler.bind("press",function(t){t.preventDefault(),e._spin(-1),e._downArrow.addClass(v)}),e.element.on("keydown"+d,k(e._keydown,e)).on("keypress"+d,k(e._keypress,e)).on("keyup"+d,k(e._keyup,e)).on("paste"+d,k(e._paste,e)))},readonly:function(t){this._editable({readonly:void 0===t||t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=void 0===t||t)})},setOptions:function(t){a.fn.setOptions.call(this,t),this._arrowsWrap.toggle(this.options.spinners),this._inputWrapper.toggleClass("k-expand-padding",!this.options.spinners),this._text.prop("placeholder",this.options.placeholder),this._placeholder(this.options.placeholder),this.element.attr({"aria-valuemin":null!==this.options.min?this.options.min*this.options.factor:this.options.min,"aria-valuemax":null!==this.options.max?this.options.max*this.options.factor:this.options.max}),this.options.format=l(this.options.format),void 0!==t.value&&this.value(t.value)},destroy:function(){this.element.add(this._text).add(this._upArrow).add(this._downArrow).add(this._inputWrapper).off(d),this._upArrowEventHandler.destroy(),this._downArrowEventHandler.destroy(),this._form&&this._form.off("reset",this._resetHandler),a.fn.destroy.call(this)},min:function(t){return this._option("min",t)},max:function(t){return this._option("max",t)},step:function(t){return this._option("step",t)},value:function(t){if(void 0===t)return this._value;(t=this._parse(t))===this._adjust(t)&&(this._update(t),this._old=this._value)},focus:function(){this._focusin()},_adjust:function(t){var e=this.options,i=e.min,n=e.max;return null===t?t:(null!==i&&t<i?t=i:null!==n&&t>n&&(t=n),t)},_arrows:function(){var e,n=this,o=function(){clearTimeout(n._spinning),e.removeClass(v)},r=n.options,a=r.spinners,s=n.element;(e=s.siblings("."+g))[0]||(e=t(_("increase",r.upArrowText)+_("decrease",r.downArrowText)).insertAfter(s),n._arrowsWrap=e.wrapAll('<span class="k-select"/>').parent()),a||(e.parent().toggle(a),n._inputWrapper.addClass("k-expand-padding")),n._upArrow=e.eq(0),n._upArrowEventHandler=new i.UserEvents(n._upArrow,{release:o}),n._downArrow=e.eq(1),n._downArrowEventHandler=new i.UserEvents(n._downArrow,{release:o})},_validation:function(){var e=this.element;this._validationIcon=t("<span class='"+g+" k-i-warning'></span>").hide().insertAfter(e)},_blur:function(){this._toggleText(!0),this._change(this.element.val())},_click:function(t){var e=this;clearTimeout(e._focusing),e._focusing=setTimeout(function(){var i,o,r,a=t.target,s=n(a)[0],l=a.value.substring(0,s),c=e._format(e.options.format),u=c[","],h=0;u&&(o=new RegExp("\\"+u,"g"),r=new RegExp("([\\d\\"+u+"]+)(\\"+c[m]+")?(\\d+)?")),r&&(i=r.exec(l)),i&&(h=i[0].replace(o,"").length,-1!=l.indexOf("(")&&e._value<0&&h++),e._focusin(),n(e.element[0],h)})},_change:function(t){var e=this.options.factor;e&&1!==e&&null!==(t=i.parseFloat(t))&&(t/=e),this._update(t),t=this._value,this._old!=t&&(this._old=t,this._typing||this.element.trigger("change"),this.trigger("change")),this._typing=!1},_culture:function(t){return t||h(this.options.culture)},_focusin:function(){this._inputWrapper.addClass("k-state-focused"),this._toggleText(!1),this.element[0].focus()},_focusout:function(){clearTimeout(this._focusing),this._inputWrapper.removeClass("k-state-focused").removeClass("k-state-hover"),this._blur(),this._removeInvalidState()},_format:function(t,e){var i=this._culture(e).numberFormat;return(t=t.toLowerCase()).indexOf("c")>-1?i=i.currency:t.indexOf("p")>-1&&(i=i.percent),i},_input:function(){var e,i=this.options,n=this.element.addClass("k-input").show()[0],o=n.accessKey;(e=this.wrapper.find(m+"k-formatted-value"))[0]||(e=t('<input type="text"/>').insertBefore(n).addClass("k-formatted-value"));try{n.setAttribute("type","text")}catch(t){n.type="text"}this._initialTitle=n.title,e[0].title=n.title,e[0].tabIndex=n.tabIndex,e[0].style.cssText=n.style.cssText,e.prop("placeholder",i.placeholder),o&&(e.attr("accesskey",o),n.accessKey=""),this._text=e.addClass(n.className).attr({role:"spinbutton","aria-valuemin":null!==i.min?i.min*i.factor:i.min,"aria-valuemax":null!==i.max?i.max*i.factor:i.max})},_keydown:function(t){var e=t.keyCode;this._key=e,e==o.DOWN?this._step(-1):e==o.UP?this._step(1):e==o.ENTER?this._change(this.element.val()):e!=o.TAB&&(this._typing=!0)},_keypress:function(t){if(0!==t.which&&!t.metaKey&&!t.ctrlKey&&t.keyCode!==o.BACKSPACE&&t.keyCode!==o.ENTER){var e,i=this.options.min,r=this.element,a=n(r),s=a[0],l=a[1],c=String.fromCharCode(t.which),u=this._format(this.options.format),h=this._key===o.NUMPAD_DOT,d=r.val();h&&(c=u[m]),d=d.substring(0,s)+c+d.substring(l),(e=this._numericRegex(u).test(d))&&h?(r.val(d),n(r,s+c.length),t.preventDefault()):(null!==i&&i>=0&&"-"===d.charAt(0)||!e)&&(this._addInvalidState(),t.preventDefault()),this._key=0}},_keyup:function(){this._removeInvalidState()},_addInvalidState:function(){this._inputWrapper.addClass("k-state-invalid"),this._validationIcon.show()},_removeInvalidState:function(){this._inputWrapper.removeClass("k-state-invalid"),this._validationIcon.hide()},_numericRegex:function(t){var e=t[m],i=this.options.decimals,n="*";return e===m&&(e="\\"+e),null===i&&(i=t.decimals),0===i&&this.options.restrictDecimals?b:(this.options.restrictDecimals&&(n="{0,"+i+"}"),this._separator!==e&&(this._separator=e,this._floatRegExp=new RegExp("^(-)?(((\\d+("+e+"\\d"+n+")?)|("+e+"\\d"+n+")))?$")),this._floatRegExp)},_paste:function(t){var e=this,i=t.target,n=i.value,o=e._format(e.options.format);setTimeout(function(){var t=e._parse(i.value);null===t?e._update(n):(i.value=t.toString().replace(m,o[m]),e._adjust(t)===t&&e._numericRegex(o).test(i.value)||e._update(n))})},_option:function(t,e){var i=this.element,n=this.options;if(void 0===e)return n[t];((e=this._parse(e))||"step"!==t)&&(n[t]=e,i.add(this._text).attr("aria-value"+t,e),i.attr(t,e))},_spin:function(t,e){var i=this;e=e||500,clearTimeout(i._spinning),i._spinning=setTimeout(function(){i._spin(t,50)},e),i._step(t)},_step:function(t){var e=this.element,i=this._value,n=this._parse(e.val())||0,o=this.options.decimals||2;s()!=e[0]&&this._focusin(),this.options.factor&&n&&(n/=this.options.factor),n=+(n+this.options.step*t).toFixed(o),n=this._adjust(n),this._update(n),this._typing=!1,i!==n&&this.trigger("spin")},_toggleHover:function(e){t(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_toggleText:function(t){this._text.toggle(t),this.element.toggle(!t)},_parse:function(t,e){return c(t,this._culture(e),this.options.format)},_round:function(t,e){return(this.options.round?i._round:x)(t,e)},_update:function(t){var e,n=this.options,o=n.factor,r=n.format,a=n.decimals,s=this._culture(),l=this._format(r,s);null===a&&(a=l.decimals),(e=null!==(t=this._parse(t,s)))&&(t=parseFloat(this._round(t,a),10)),this._value=t=this._adjust(t),this._placeholder(i.toString(t,r,s)),e?(o&&(t=parseFloat(this._round(t*o,a),10)),-1!==(t=t.toString()).indexOf("e")&&(t=this._round(+t,a)),t=t.replace(m,l[m])):t=null,this.element.val(t),this.element.add(this._text).attr("aria-valuenow",t)},_placeholder:function(t){var e=this._text;e.val(t),u||t||e.val(this.options.placeholder),e.attr("title",this._initialTitle||e.val())},_wrapper:function(){var e,i=this.element,n=i[0];(e=i.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(e=(e=i.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent()).wrap("<span/>").parent()),e[0].style.cssText=n.style.cssText,n.style.width="",this.wrapper=e.addClass("k-widget k-numerictextbox").addClass(n.className).css("display",""),this._inputWrapper=t(e[0].firstChild)},_reset:function(){var e=this,i=e.element,n=i.attr("form"),o=n?t("#"+n):i.closest("form");o[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(i[0].value),e.max(e._initialOptions.max),e.min(e._initialOptions.min)})},e._form=o.on("reset",e._resetHandler))}});function _(t,e){return'<span unselectable="on" class="k-link k-link-'+t+'" aria-label="'+e+'" title="'+e+'"><span unselectable="on" class="'+g+" k-i-arrow-"+("increase"===t?"60-up":"60-down")+'"></span></span>'}function x(t,e){var i=parseFloat(t,10).toString().split(m);return i[1]&&(i[1]=i[1].substring(0,e)),i.join(m)}r.plugin(w)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(114),i(115),i(61),i(11)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=t.proxy,r="kendoPopup",a=".kendoFilterMenu",s="Is equal to",l="Is not equal to",c={number:"numerictextbox",date:"datepicker"},u={string:"text",number:"number",date:"date"},h=i.isFunction,d=n.Widget;function f(t){var e,i,n,o,r,a;if(t&&t.length)for(a=[],e=0,i=t.length;e<i;e++)r=""!==(n=t[e]).text?n.text||n.value||n:n.text,o=null==n.value?n.text||n:n.value,a[e]={text:r,value:o};return a}var p=d.extend({init:function(e,n){var r,s,l,c,u=this,h="string";for(s in d.fn.init.call(u,e,n),r=u.operators=n.operators||{},e=u.element,(n=u.options).appendToElement||((l=e.addClass("k-with-icon k-filterable").find(".k-grid-filter"))[0]||(l=e.prepend('<a class="k-grid-filter" href="#" title="'+n.messages.filter+'" aria-label="'+n.messages.filter+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")),l.attr("tabindex",-1).on("click"+a,o(u._click,u))),u.link=l||t(),u.dataSource=v.create(n.dataSource),u.field=n.field||e.attr(i.attr("field")),u.model=u.dataSource.reader.model,u._parse=function(t){return null!=t?t+"":t},u.model&&u.model.fields&&(c=u.model.fields[u.field])&&(h=c.type||"string",c.parse&&(u._parse=o(c.parse,c))),n.values&&(h="enums"),u.type=h,r=r[h]||n.operators[h])break;u._defaultFilter=function(){return{field:u.field,operator:s||"eq",value:""}},u._refreshHandler=o(u.refresh,u),u.dataSource.bind("change",u._refreshHandler),n.appendToElement?u._init():u.refresh()},_init:function(){var e,n=this.options.ui,r=h(n);this.pane=this.options.pane,this.pane&&(this._isMobile=!0),r||(e=n||c[this.type]),this._isMobile?this._createMobileForm(e):this._createForm(e),this.form.on("submit"+a,o(this._submit,this)).on("reset"+a,o(this._reset,this)),r&&this.form.find(".k-textbox").removeClass("k-textbox").each(function(){n(t(this))}),this.form.find("["+i.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+i.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+i.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+i.attr("role")+"=datepicker]").removeClass("k-textbox"),this.refresh(),this.trigger("init",{field:this.field,container:this.form}),i.cycleForm(this.form)},_createForm:function(e){var n=this,s=n.options,l=n.operators||{},c=n.type;l=l[c]||s.operators[c],n.form=t('<form title="'+n.options.messages.title+'" class="k-filter-menu"/>').html(i.template("boolean"===c?'<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>':'<div><div class="k-filter-help-text">#=messages.info#</div><select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>')({field:n.field,format:s.format,ns:i.ns,messages:s.messages,extra:s.extra,operators:l,type:c,role:e,values:f(s.values)})),s.appendToElement?(n.element.append(n.form),n.popup=n.element.closest(".k-popup").data(r)):n.popup=n.form[r]({anchor:n.link,open:o(n._open,n),activate:o(n._activate,n),close:function(){n.options.closeCallback&&n.options.closeCallback(n.element)}}).data(r),n.form.on("keydown"+a,o(n._keydown,n))},_createMobileForm:function(e){var n=this,o=n.options,r=n.operators||{},a=n.type;r=r[a]||o.operators[a],n.form=t("<div />").html(i.template("boolean"===a?'<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>':'<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.additionalOperator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.additionalValue##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>')({field:n.field,title:o.title||n.field,format:o.format,ns:i.ns,messages:o.messages,extra:o.extra,operators:r,type:a,role:e,useRole:!i.support.input.date&&"date"===a||"number"===a,inputType:u[a],values:f(o.values)})),n.view=n.pane.append(n.form.html()),n.form=n.view.element.find("form"),n.view.element.on("click",".k-submit",function(t){n.form.submit(),t.preventDefault()}).on("click",".k-i-cancel",function(t){n._closeForm(),t.preventDefault()})},refresh:function(){var t=this.dataSource.filter()||{filters:[],logic:"and"},e=[this._defaultFilter()],n=this._defaultFilter().operator;(this.options.extra||"isnull"!==n&&"isnullorempty"!==n&&"isnotnullorempty"!==n&&"isnotnull"!==n)&&e.push(this._defaultFilter()),this.filterModel=i.observable({logic:"and",filters:e}),this.form&&i.bind(this.form.children().first(),this.filterModel),this._bind(t)?this.link.addClass("k-state-active"):this.link.removeClass("k-state-active")},destroy:function(){d.fn.destroy.call(this),this.form&&(i.unbind(this.form),i.destroy(this.form),this.form.unbind(a),this.popup&&(this.popup.destroy(),this.popup=null),this.form=null),this.view&&(this.view.purge(),this.view=null),this.link.unbind(a),this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource=null),this.element=this.link=this._refreshHandler=this.filterModel=null},_bind:function(t){var e,i,n,o,r=t.filters,a=!1,s=0,l=this.filterModel;for(e=0,i=r.length;e<i;e++)(o=r[e]).field==this.field?(l.set("logic",t.logic),(n=l.filters[s])||(l.filters.push({field:this.field}),n=l.filters[s]),n.set("value",this._parse(o.value)),n.set("operator",o.operator),s++,a=!0):o.filters&&(a=a||this._bind(o));return a},_stripFilters:function(e){return t.grep(e,function(t){return""!==t.value&&null!=t.value||"isnull"===t.operator||"isnotnull"===t.operator||"isempty"===t.operator||"isnotempty"===t.operator||"isnullorempty"==t.operator||"isnotnullorempty"==t.operator})},_merge:function(e){var i,n,o,r=e.logic||"and",a=this._stripFilters(e.filters),s=this.dataSource.filter()||{filters:[],logic:"and"};for(function e(i,n){i.filters&&(i.filters=t.grep(i.filters,function(t){return e(t,n),t.filters?t.filters.length:t.field!=n}))}(s,this.field),n=0,o=a.length;n<o;n++)(i=a[n]).value=this._parse(i.value);return a.length&&(s.filters.length?(e.filters=a,"and"!==s.logic&&(s.filters=[{logic:s.logic,filters:s.filters}],s.logic="and"),a.length>1?s.filters.push(e):s.filters.push(a[0])):(s.filters=a,s.logic=r)),s},filter:function(t){var e=this._stripFilters(t.filters);e.length&&this.trigger("change",{filter:{logic:t.logic,filters:e},field:this.field})||(t=this._merge(t)).filters.length&&this.dataSource.filter(t)},clear:function(){var t=this.dataSource.filter()||{filters:[]};this.trigger("change",{filter:null,field:this.field})||this._removeFilter(t)},_removeFilter:function(e){var i=this;e.filters=t.grep(e.filters,function(e){return e.filters?(e.filters=function(e,i){return t.grep(e,function(e){return e.filters?(e.filters=t.grep(e.filters,function(t){return t.field!=i}),e.filters.length):e.field!=i})}(e.filters,i.field),e.filters.length):e.field!=i.field}),e.filters.length||(e=null),i.dataSource.filter(e)},_submit:function(e){e.preventDefault(),e.stopPropagation();var i=this.filterModel.toJSON(),n=t.grep(i.filters,function(t){return""!==t.value});this._checkForNullOrEmptyFilter(i)||n&&n.length?this.filter(i):this._removeFilter(i),this._closeForm()},_checkForNullOrEmptyFilter:function(t){if(!t||!t.filters||!t.filters.length)return!1;var e,i=!1,n=!1;return t.filters[0]&&(i="isnull"==(e=t.filters[0].operator)||"isnotnull"==e||"isnotempty"==e||"isempty"==e||"isnullorempty"==e||"isnotnullorempty"==e),t.filters[1]&&(n="isnull"==(e=t.filters[1].operator)||"isnotnull"==e||"isnotempty"==e||"isempty"==e||"isnullorempty"==e||"isnotnullorempty"==e),!this.options.extra&&i||this.options.extra&&(i||n)},_reset:function(){this.clear(),this.options.search&&this.container&&this.container.find("label").parent().show(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(t){t.preventDefault(),t.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var e;t(".k-filter-menu").not(this.form).each(function(){(e=t(this).data(r))&&e.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger("open",{field:this.field,container:this.form})},_keydown:function(t){t.keyCode==i.keys.ESC&&this.popup.close()},events:["init","change","open"],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:s,neq:l,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:s,neq:l,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:s,neq:l,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:s,neq:l,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",title:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",additionalValue:"Additional value",additionalOperator:"Additional operator",logic:"Filters logic",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),m=".kendoFilterMultiCheck";function g(t,n){for(var o=i.getter(n,!0),r=[],a=0,s={};a<t.length;){var l=t[a++],c=o(l);c===e||s.hasOwnProperty(c)||(r.push(l),s[c]=!0)}return r}var v=i.data.DataSource,b=d.extend({init:function(e,n){d.fn.init.call(this,e,n),n=this.options,this.element=t(e);var r=this.field=this.options.field||this.element.attr(i.attr("field")),a=n.checkSource;this._foreignKeyValues()?(this.checkSource=v.create(n.values),this.checkSource.fetch()):n.forceUnique?(delete(a=t.extend(!0,{},n.dataSource.options)).pageSize,this.checkSource=v.create(a),this.checkSource.reader.data=function(t,e){return function(i){return g(t(i),e)}}(this.checkSource.reader.data,this.field)):this.checkSource=v.create(a),this.dataSource=n.dataSource,this.model=this.dataSource.reader.model,this._parse=function(t){return t+""},this.model&&this.model.fields&&(r=this.model.fields[this.field])&&("number"==r.type?this._parse=function(t){return"string"==typeof t&&"null"===t.toLowerCase()?null:parseFloat(t)}:r.parse&&(this._parse=o(r.parse,r)),this.type=r.type||"string"),n.appendToElement?this._init():this._createLink(),this._refreshHandler=o(this.refresh,this),this.dataSource.bind("change",this._refreshHandler)},_createLink:function(){var t=this.element,e=t.addClass("k-with-icon k-filterable").find(".k-grid-filter");e[0]||(e=t.prepend('<a class="k-grid-filter" href="#" aria-label="'+this.options.messages.filter+'"><span class="k-icon k-i-filter"/></a>').find(".k-grid-filter")),this._link=e.attr("tabindex",-1).on("click"+a,o(this._click,this))},_init:function(){var t=this,e=this.options.forceUnique,i=this.options;this.pane=i.pane,this.pane&&(this._isMobile=!0),this._createForm(),this._foreignKeyValues()?this.refresh():e&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(g(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){t.refresh.call(t)})),this.options.forceUnique||(this.checkChangeHandler=function(){t.container.empty(),t.refresh()},this.checkSource.bind("change",this.checkChangeHandler)),this.form.on("keydown"+m,o(this._keydown,this)).on("submit"+m,o(this._filter,this)).on("reset"+m,o(this._reset,this)),this.trigger("init",{field:this.field,container:this.form})},_attachProgress:function(){var t=this;this._progressHandler=function(){n.progress(t.container,!0)},this._progressHideHandler=function(){n.progress(t.container,!1)},this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var t=this;t._clearTypingTimeout(),t._typingTimeout=setTimeout(function(){t.search()},100)},_clearTypingTimeout:function(){this._typingTimeout&&(clearTimeout(this._typingTimeout),this._typingTimeout=null)},search:function(){var t=this.options.ignoreCase,e=this.searchTextBox[0].value,i=this.container.find("label");t&&(e=e.toLowerCase());var n=0;for(this.options.checkAll&&i.length&&(i[0].parentNode.style.display=e?"none":"",n++);n<i.length;){var o=i[n],r=o.textContent||o.innerText;t&&(r=r.toLowerCase()),o.parentNode.style.display=r.indexOf(e)>=0?"":"none",n++}},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger("open",{field:this.field,container:this.form})},_createForm:function(){var e=this.options,n="",a=this;if(this._isMobile||(e.search&&(n+="<div class='k-textbox k-space-right'><input placeholder='"+e.messages.search+"'/><span class='k-icon k-i-zoom' /></div>"),n+="<ul class='k-reset k-multicheck-wrap'></ul>",e.messages.selectedItemsFormat&&(n+="<div class='k-filter-selected-items'>"+i.format(e.messages.selectedItemsFormat,0)+"</div>"),n+="<button type='submit' class='k-button k-primary'>"+e.messages.filter+"</button>",n+="<button type='reset' class='k-button'>"+e.messages.clear+"</button>",this.form=t('<form class="k-filter-menu"/>').html(n),this.container=this.form.find(".k-multicheck-wrap")),this._isMobile){a.form=t("<div />").html(i.template('<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list">#if(search){#<div class=\'k-textbox k-space-right\'><input placeholder=\'#=messages.search#\'/><span class=\'k-icon k-i-zoom\' /></div>#}#<ul class="k-multicheck-wrap"></ul></li><li class="k-button-container">#if(messages.selectedItemsFormat){#<div class=\'k-filter-selected-items\'></div>#}#<button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>')({field:a.field,title:e.title||a.field,ns:i.ns,messages:e.messages,search:e.search})),a.view=a.pane.append(a.form.html()),a.form=a.view.element.find("form");var s=this.view.element;this.container=s.find(".k-multicheck-wrap"),s.on("click",".k-submit",function(t){a.form.submit(),t.preventDefault()}).on("click",".k-i-cancel",function(t){a._closeForm(),t.preventDefault()})}else e.appendToElement?(this.popup=this.element.closest(".k-popup").data(r),this.element.append(this.form)):a.popup=a.form.kendoPopup({anchor:a._link,open:o(a._open,a),activate:o(a._activate,a),close:function(){a.options.closeCallback&&a.options.closeCallback(a.element)}}).data(r);e.search&&(this.searchTextBox=this.form.find(".k-textbox > input"),this.searchTextBox.on("input",o(this._input,this)))},createCheckAllItem:function(){var e=this.options,n=i.template(e.itemTemplate({field:"all",mobile:this._isMobile})),r=t(n({all:e.messages.checkAll}));this.container.prepend(r),this.checkBoxAll=r.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=o(this.checkAll,this),this.checkBoxAll.on("change"+m,this.checkAllHandler)},updateCheckAllState:function(){if(this.options.messages.selectedItemsFormat&&this.form.find(".k-filter-selected-items").text(i.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length)),this.checkBoxAll){var t=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",t)}},refresh:function(t){var e=this.options.forceUnique,i=this.dataSource,n=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==n.length),this.form&&(t&&e&&t.sender===i&&!i.options.serverPaging&&("itemchange"==t.action||"add"==t.action||"remove"==t.action||i.options.autoSync&&"sync"===t.action)&&!this._foreignKeyValues()&&(this.checkSource.data(g(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(n),this.trigger("refresh"))},getFilterArray:function(){var i=t.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return function e(i,n){i.filters&&(i.filters=t.grep(i.filters,function(t){return e(t,n),t.filters?t.filters.length:t.field==n&&"eq"==t.operator}))}(i,this.field),function i(n){return"and"==n.logic&&n.filters.length>1?[]:n.filters?t.map(n.filters,function(t){return i(t)}):n.value!==e?[n.value]:[]}(i)},createCheckBoxes:function(){var t,e=this.options,n={field:this.field,format:e.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?this._foreignKeyValues()?(t=this.checkSource.data(),n.valueField="value",n.field="text"):t=this.checkSource.data():t=this.checkSource.view();var r=i.template(e.itemTemplate(n)),a=i.render(r,t);e.checkAll&&this.createCheckAllItem(),this.container.on("change"+m,":checkbox",o(this.updateCheckAllState,this)),this.container.append(a)},checkAll:function(){var t=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",t)},checkValues:function(e){var i=this;t(t.grep(this.container.find(":checkbox").prop("checked",!1),function(n){var o=!1;if(!t(n).is(".k-check-all"))for(var r=i._parse(t(n).val()),a=0;a<e.length;a++)if(o="date"==i.type?e[a]&&r?e[a].getTime()==r.getTime():null===e[a]&&null===r:e[a]==r)return o})).prop("checked",!0),this.updateCheckAllState()},_filter:function(e){e.preventDefault(),e.stopPropagation();var i={logic:"or"},n=this;i.filters=t.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(e){return{value:t(e).val(),operator:"eq",field:n.field}}),i.filters.length&&this.trigger("change",{filter:i,field:n.field})||((i=this._merge(i)).filters.length?this.dataSource.filter(i):this.clear(),this._closeForm())},_stripFilters:function(e){return t.grep(e,function(t){return null!=t.value})},_foreignKeyValues:function(){var t=this.options;return t.values&&!t.checkSource},destroy:function(){d.fn.destroy.call(this),this.form&&(i.unbind(this.form),i.destroy(this.form),this.form.unbind(m),this.popup&&(this.popup.destroy(),this.popup=null),this.form=null,this.container&&(this.container.unbind(m),this.container=null),this.checkBoxAll&&this.checkBoxAll.unbind(m)),this.view&&(this.view.purge(),this.view=null),this._link&&this._link.unbind(a),this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource=null),this.checkChangeHandler&&this.checkSource.unbind("change",this.checkChangeHandler),this._progressHandler&&this.checkSource.unbind("progress",this._progressHandler),this._progressHideHandler&&this.checkSource.unbind("change",this._progressHideHandler),this._clearTypingTimeout(),this.searchTextBox=null,this.element=this.checkSource=this.container=this.checkBoxAll=this._link=this._refreshHandler=this.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(t){var i=t.field,n=t.format,o=t.valueField,r=t.mobile,a="";return o===e&&(o=i),"date"==t.type&&(a=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(r?"k-check":"")+"'  value='#:kendo.format('{0"+a+"}',"+o+")#'/>#:kendo.format('"+(n||"{0}")+"', "+i+")#</label></li>"},checkAll:!0,search:!1,ignoreCase:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:["init","refresh","change","open"]});t.extend(b.fn,{_click:p.fn._click,_keydown:p.fn._keydown,_reset:p.fn._reset,_closeForm:p.fn._closeForm,_removeFilter:p.fn._removeFilter,clear:p.fn.clear,_merge:p.fn._merge}),n.plugin(p),n.plugin(b)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(63),i(62),i(159)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile,o=n.ui,r=i.attr,a=o.Widget,s=i.ViewClone,l=i.attrValue,c=i.roleSelector,u=i.directiveSelector,h=i.compileMobileDirective;function d(t){var e,n,r=t.find(c("popover")),a=o.roles;for(e=0,n=r.length;e<n;e++)i.initWidget(r[e],{},a)}function f(t){i.triggeredByInput(t)||t.preventDefault()}var p=a.extend({init:function(e,i){a.fn.init.call(this,e,i),this.params={},t.extend(this,i),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:["init","beforeShow","show","afterShow","beforeHide","hide","destroy","transitionStart","transitionEnd"],options:{name:"View",title:"",layout:null,getLayout:t.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(t){void 0===t&&(t=!0),t?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger("destroy"),a.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),i.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return!this.trigger("beforeShow",{view:this})},triggerBeforeHide:function(){return!this.trigger("beforeHide",{view:this})},showStart:function(){var t=this.element;t.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger("init",{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger("show",{view:this}),i.resize(t)},showEnd:function(){this.trigger("afterShow",{view:this}),this._padIfNativeScrolling()},hideEnd:function(){this.element.hide(),this.trigger("hide",{view:this}),this.layout&&this.layout.trigger("hide",{view:this,layout:this.layout})},beforeTransition:function(t){this.trigger("transitionStart",{type:t})},afterTransition:function(t){this.trigger("transitionEnd",{type:t})},_padIfNativeScrolling:function(){if(n.appLevelNativeScrolling()){var t=i.support.mobileOS&&i.support.mobileOS.android,e=n.application.skin()||"",o=n.application.os.android||e.indexOf("android")>-1,r="flat"===e||e.indexOf("material")>-1,a=!t&&!o||r?"header":"footer",s=!t&&!o||r?"footer":"header";this.content.css({paddingTop:this[a].height(),paddingBottom:this[s].height()})}},contentElement:function(){return this.options.stretch?this.content:this.scrollerContent},clone:function(){return new s(this)},_scroller:function(){n.appLevelNativeScrolling()||(this.options.stretch?this.content.addClass("km-stretched-view"):(this.content.kendoMobileScroller(t.extend(this.options.scroller,{zoom:this.options.zoom,useNative:this.options.useNativeScrolling})),this.scroller=this.content.data("kendoMobileScroller"),this.scrollerContent=this.scroller.scrollElement),i.support.kineticScrollNeeded&&(t(this.element).on("touchmove",".km-header",f),this.options.useNativeScrolling||this.options.stretch||t(this.element).on("touchmove",".km-content",f)))},_model:function(){var t=this.element,e=this.options.model;"string"==typeof e&&(e=i.getter(e)(this.options.modelScope)),this.model=e,d(t),this.element.css("display",""),this.options.initWidgets&&(e?i.bind(t,e,o,i.ui,i.dataviz.ui):n.init(t.children())),this.element.css("display","none")},_id:function(){var t=this.element,e=t.attr("id")||"";this.id=l(t,"url")||"#"+e,"#"==this.id&&(this.id=i.guid(),t.attr("id",this.id))},_layout:function(){var t=c("content"),e=this.element;e.addClass("km-view"),this.header=e.children(c("header")).addClass("km-header"),this.footer=e.children(c("footer")).addClass("km-footer"),e.children(t)[0]||e.wrapInner("<div "+r("role")+'="content"></div>'),this.content=e.children(c("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)},_overlay:function(){this.overlay=t('<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />').appendTo(this.element)},_invokeNgController:function(){var e,i;if(this.options.$angular&&(e=this.element.controller(),i=this.options.$angular[0],e)){var n=t.proxy(this,"_callController",e,i);/^\$(digest|apply)$/.test(i.$$phase)?n():i.$apply(n)}},_callController:function(t,e){this.element.injector().invoke(t.constructor,t,{$scope:e})}});function m(e){e.each(function(){i.initWidget(t(this),{},o.roles)})}var g=a.extend({init:function(t,e){a.fn.init.call(this,t,e),t=this.element,this.header=t.children(this._locate("header")).addClass("km-header"),this.footer=t.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),d(t),this.options.$angular||i.mobile.init(this.element.children()),this.element.detach(),this.trigger("init",{layout:this})},_locate:function(t){return this.options.$angular?u(t):c(t)},options:{name:"Layout",id:null,platform:null},events:["init","show","hide"],setup:function(t){t.header[0]||(t.header=this.header),t.footer[0]||(t.footer=this.footer)},detach:function(t){t.header===this.header&&this.header[0]&&t.element.prepend(this.header.detach()[0].cloneNode(!0)),t.footer===this.footer&&this.footer.length&&t.element.append(this.footer.detach()[0].cloneNode(!0))},attach:function(t){var e=this.currentView;e&&this.detach(e),t.header===this.header&&(this.header.detach(),t.element.children(c("header")).remove(),t.element.prepend(this.header)),t.footer===this.footer&&(this.footer.detach(),t.element.children(c("footer")).remove(),t.element.append(this.footer)),this.trigger("show",{layout:this,view:t}),this.currentView=t}}),v=i.Observable,b=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,k=v.extend({init:function(e){var n,o,r,a,s=this;if(v.fn.init.call(s),t.extend(s,e),s.sandbox=t("<div />"),r=s.container,n=s._hideViews(r),s.rootView=n.first(),!s.rootView[0]&&e.rootNeeded)throw o=r[0]==i.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',new Error(o);s.layouts={},s.viewContainer=new i.ViewContainer(s.container),s.viewContainer.bind("accepted",function(t){t.view.params=s.params}),s.viewContainer.bind("complete",function(t){s.trigger("viewShow",{view:t.view})}),s.viewContainer.bind("after",function(){s.trigger("after")}),this.getLayoutProxy=t.proxy(this,"_getLayout"),s._setupLayouts(r),a=r.children(s._locate("modalview drawer")),s.$angular?(s.$angular[0].viewOptions={defaultTransition:s.transition,loader:s.loader,container:s.container,getLayout:s.getLayoutProxy},a.each(function(i,n){h(t(n),e.$angular[0])})):m(a),this.bind(this.events,e)},events:["showStart","after","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined"],destroy:function(){for(var t in i.destroy(this.container),this.layouts)this.layouts[t].destroy()},view:function(){return this.viewContainer.view},showView:function(t,e,n){if(""===(t=t.replace(new RegExp("^"+this.remoteViewURLPrefix),""))&&this.remoteViewURLPrefix&&(t="/"),t.replace(/^#/,"")===this.url)return this.trigger("sameViewRequested"),!1;this.trigger("showStart");var o=this,r=function(i){return o.viewContainer.show(i,e,t)},a=o._findViewElement(t),s=i.widgetInstance(a);return o.url=t.replace(/^#/,""),o.params=n,s&&s.reload&&(s.purge(),a=[]),this.trigger("viewTypeDetermined",{remote:0===a.length,url:t}),a[0]?(s||(s=o._createView(a)),r(s)):(this.serverNavigation?location.href=t:o._loadView(t,r),!0)},append:function(t,e){var i,n,o,a=this.sandbox,s=(e||"").split("?")[0],l=this.container;return b.test(t)&&(t=RegExp.$1),a[0].innerHTML=t,l.append(a.children("script, style")),(o=(i=this._hideViews(a)).first()).length||(i=o=a.wrapInner("<div data-role=view />").children()),s&&o.hide().attr(r("url"),s),this._setupLayouts(a),n=a.children(this._locate("modalview drawer")),l.append(a.children(this._locate("layout modalview drawer")).add(i)),m(n),this._createView(o)},_locate:function(t){return this.$angular?u(t):c(t)},_findViewElement:function(t){var e,i=t.split("?")[0];return i?((e=this.container.children("["+r("url")+"='"+i+"']"))[0]||-1!==i.indexOf("/")||(e=this.container.children("#"===i.charAt(0)?i:"#"+i)),e):this.rootView},_createView:function(t){return this.$angular?h(t,this.$angular[0]):i.initWidget(t,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:l(t,"reload")},o.roles)},_getLayout:function(t){return""===t?null:t?this.layouts[t]:this.layouts[this.layout]},_loadView:function(e,n){this._xhr&&this._xhr.abort(),this.trigger("loadStart"),this._xhr=t.get(i.absoluteURL(e,this.remoteViewURLPrefix),"html").always(t.proxy(this,"_xhrComplete",n,e))},_xhrComplete:function(t,e,i){var n=!0;if("object"==typeof i&&0===i.status){if(!(i.responseText&&i.responseText.length>0))return;n=!0,i=i.responseText}this.trigger("loadComplete"),n&&t(this.append(i,e))},_hideViews:function(t){return t.children(this._locate("view splitview")).hide()},_setupLayouts:function(e){var r,a=this;e.children(a._locate("layout")).each(function(){var e=(r=a.$angular?h(t(this),a.$angular[0]):i.initWidget(t(this),{},o.roles)).options.platform;e&&e!==n.application.os.name?r.destroy():a.layouts[r.options.id]=r})}});i.mobile.ViewEngine=k,o.plugin(p),o.plugin(g)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(114),i(115),i(454),i(11)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=t.extend,a=i.support.browser.msie&&i.support.browser.version<9,s=i.isFunction,l=t.isPlainObject,c=t.inArray,u=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,h=["url","email","number","date","boolean"];function d(e){return(e=null!=e?e:"").type||t.type(e)||"string"}function f(t){var e,n,o=(t.model.fields||t.model)[t.field],r=d(o),a=o?o.validation:{},u=i.attr("type"),f=i.attr("bind"),p={name:t.field,title:t.title};for(e in a)n=a[e],c(e,h)>=0?p[u]=e:s(n)||(p[e]=l(n)?n.value||e:n),p[i.attr(e+"-msg")]=n.message;return c(r,h)>=0&&(p[u]=r),p[f]=("boolean"===r?"checked:":"value:")+t.field,p}var p={number:function(e,n){var o=f(n);t('<input type="text"/>').attr(o).appendTo(e).kendoNumericTextBox({format:n.format}),t("<span "+i.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},date:function(e,n){var o=f(n),r=n.format;r&&(r=i._extractFormat(r)),o[i.attr("format")]=r,t('<input type="text"/>').attr(o).appendTo(e).kendoDatePicker({format:n.format}),t("<span "+i.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},string:function(e,i){var n=f(i);t('<input type="text" class="k-input k-textbox"/>').attr(n).appendTo(e)},boolean:function(e,i){var n=f(i);t('<input type="checkbox" />').attr(n).appendTo(e)},values:function(e,n){var o=f(n),r=i.stringify(function(t){var e,i,n,o,r,a;if(t&&t.length)for(a=[],e=0,i=t.length;e<i;e++)r=(n=t[e]).text||n.value||n,o=null==n.value?n.text||n:n.value,a[e]={text:r,value:o};return a}(n.values));t("<select "+i.attr("text-field")+'="text"'+i.attr("value-field")+'="value"'+i.attr("source")+"='"+(r?r.replace(/\'/g,"&apos;"):r)+"'"+i.attr("role")+'="dropdownlist"/>').attr(o).appendTo(e),t("<span "+i.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(e)}};function m(t,e){var i,n,o=t&&t.validation||{};for(i in o)n=o[i],l(n)&&n.value&&(n=n.value),s(n)&&(e[i]=n)}var g=o.extend({init:function(e,i){i.target&&(i.$angular=i.target.options.$angular),o.fn.init.call(this,e,i),this._validateProxy=t.proxy(this._validate,this),this.refresh()},events:["change"],options:{name:"Editable",editors:p,clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',skipFocus:!1},editor:function(t,e){var n=this.options.editors,o=l(t),a=o?t.field:t,s=this.options.model||{},c=o&&t.values?"values":d(e),h=o&&t.editor,f=h?t.editor:n[c],p=this.element.find("["+i.attr("container-for")+"="+a.replace(u,"\\$1")+"]");f=f||n.string,h&&"string"==typeof t.editor&&(f=function(e){e.append(t.editor)}),f(p=p.length?p:this.element,r(!0,{},o?t:{field:a},{model:s}))},_validate:function(e){var n,o=e.value,r=this._validationEventInProgress,a={},s=i.attr("bind"),l=e.field.replace(u,"\\$1"),c=new RegExp("(value|checked)\\s*:\\s*"+l+"\\s*(,|$)");a[e.field]=e.value,(n=t(":input["+s+'*="'+l+'"]',this.element).filter("["+i.attr("validate")+"!='false']").filter(function(){return c.test(t(this).attr(s))})).length>1&&(n=n.filter(function(){var e=t(this);return!e.is(":radio")||e.val()==o}));try{this._validationEventInProgress=!0,(!this.validatable.validateInput(n)||!r&&this.trigger("change",{values:a}))&&e.preventDefault()}finally{this._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var t=this;t.angular("cleanup",function(){return{elements:t.element}}),o.fn.destroy.call(t),t.options.model.unbind("set",t._validateProxy),t.options.model.unbind("equalSet",t._validateProxy),i.unbind(t.element),t.validatable&&t.validatable.destroy(),i.destroy(t.element),t.element.removeData("kendoValidator"),t.element.is("["+i.attr("role")+"=editable]")&&t.element.removeAttr(i.attr("role"))},refresh:function(){var e,n,o,r,s,c,u=this.options.fields||[],h=this.options.clearContainer?this.element.empty():this.element,d=this.options.model||{},f={};for(t.isArray(u)||(u=[u]),e=0,n=u.length;e<n;e++)o=u[e],r=l(o)?o.field:o,m(s=(d.fields||d)[r],f),this.editor(o,s);if(this.options.target&&this.angular("compile",function(){return{elements:h,data:h.map(function(){return{dataItem:d}})}}),!n)for(r in c=d.fields||d)m(c[r],f);if(function(e){e.find(":input:not(:button, .k-combobox .k-input, ["+i.attr("role")+"=listbox], ["+i.attr("role")+"=upload], ["+i.attr("skip")+"], [type=file])").each(function(){var e=i.attr("bind"),n=this.getAttribute(e)||"",o="checkbox"===this.type||"radio"===this.type?"checked:":"value:",r=this.name;-1===n.indexOf(o)&&r&&(n+=(n.length?",":"")+o+r,t(this).attr(e,n))})}(h),this.validatable&&this.validatable.destroy(),i.bind(h,this.options.model),this.options.model.unbind("set",this._validateProxy),this.options.model.bind("set",this._validateProxy),this.options.model.unbind("equalSet",this._validateProxy),this.options.model.bind("equalSet",this._validateProxy),this.validatable=new i.ui.Validator(h,{validateOnBlur:!1,errorTemplate:this.options.errorTemplate||void 0,rules:f}),!this.options.skipFocus){var p=h.find(":kendoFocusable").eq(0).focus();a&&p.focus()}}});n.plugin(g)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s,l;i(0),s=[i(4)],void 0===(l="function"==typeof(a=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?a.apply(e,s):a)||(t.exports=l),i(0),s=[i(45)],n="function"==typeof(a=function(){!function(){window.kendo.dataviz=window.kendo.dataviz||{};var t="Arial, Helvetica, sans-serif",e="12px "+t,i="16px "+t,n=function(){return{icon:{border:{width:1}},label:{font:e,padding:3},line:{length:10,width:2},visible:!0}},o=function(t){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:t.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:"transparent"},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:n(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}};kendo.deepExtend(kendo.dataviz,{chartBaseTheme:function(t){return void 0===t&&(t={}),{axisDefaults:{labels:{font:e},notes:n(),title:{font:i,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:o(t),title:{font:i},legend:{labels:{font:e}}}}})}()})?a.apply(e,s):a,i(0),s=[i(45)],o="function"==typeof(a=function(){var t;kendo.dataviz.autoTheme=function(e){if(!e&&t)return t;var i={chart:kendo.dataviz.chartBaseTheme()},n=$('<div style="display: none">  <div class="k-var--accent"></div>  <div class="k-var--accent-contrast"></div>  <div class="k-var--base"></div>  <div class="k-var--background"></div>  <div class="k-var--normal-background"></div>  <div class="k-var--normal-text-color"></div>  <div class="k-var--hover-background"></div>  <div class="k-var--hover-text-color"></div>  <div class="k-var--selected-background"></div>  <div class="k-var--selected-text-color"></div>  <div class="k-var--chart-error-bars-background"></div>  <div class="k-var--chart-notes-background"></div>  <div class="k-var--chart-notes-border"></div>  <div class="k-var--chart-notes-lines"></div>  <div class="k-var--chart-crosshair-background"></div>  <div class="k-var--chart-inactive"></div>  <div class="k-var--chart-major-lines"></div>  <div class="k-var--chart-minor-lines"></div>  <div class="k-var--chart-area-opacity"></div>  <div class="k-widget">      <div class="k-var--chart-font"></div>      <div class="k-var--chart-title-font"></div>      <div class="k-var--chart-label-font"></div>  </div>  <div class="k-var--series">    <div class="k-var--series-a"></div>    <div class="k-var--series-b"></div>    <div class="k-var--series-c"></div>    <div class="k-var--series-d"></div>    <div class="k-var--series-e"></div>    <div class="k-var--series-f"></div>  </div></div>').appendTo(document.body);function o(t,e){a(t,r(e,"backgroundColor"))}function r(t,e){return n.find(".k-var--"+t).css(e)}function a(t,e){for(var n=i,o=t.split("."),r=o.shift();o.length>0;)n=n[r]=n[r]||{},r=o.shift();n[r]=e}return o("chart.axisDefaults.crosshair.color","chart-crosshair-background"),o("chart.axisDefaults.labels.color","normal-text-color"),o("chart.axisDefaults.line.color","chart-major-lines"),o("chart.axisDefaults.majorGridLines.color","chart-major-lines"),o("chart.axisDefaults.minorGridLines.color","chart-minor-lines"),o("chart.axisDefaults.notes.icon.background","chart-notes-background"),o("chart.axisDefaults.notes.icon.border.color","chart-notes-border"),o("chart.axisDefaults.notes.line.color","chart-notes-lines"),o("chart.axisDefaults.title.color","normal-text-color"),o("chart.chartArea.background","background"),o("chart.legend.inactiveItems.labels.color","chart-inactive"),o("chart.legend.inactiveItems.markers.color","chart-inactive"),o("chart.legend.labels.color","normal-text-color"),o("chart.seriesDefaults.boxPlot.downColor","chart-major-lines"),o("chart.seriesDefaults.boxPlot.mean.color","base"),o("chart.seriesDefaults.boxPlot.median.color","base"),o("chart.seriesDefaults.boxPlot.whiskers.color","accent"),o("chart.seriesDefaults.bullet.target.color","accent"),o("chart.seriesDefaults.candlestick.downColor","normal-text-color"),o("chart.seriesDefaults.candlestick.line.color","normal-text-color"),o("chart.seriesDefaults.errorBars.color","chart-error-bars-background"),o("chart.seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),o("chart.seriesDefaults.icon.border.color","chart-major-lines"),o("chart.seriesDefaults.labels.background","background"),o("chart.seriesDefaults.labels.color","normal-text-color"),o("chart.seriesDefaults.notes.icon.background","chart-notes-background"),o("chart.seriesDefaults.notes.icon.border.color","chart-notes-border"),o("chart.seriesDefaults.notes.line.color","chart-notes-lines"),o("chart.seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),o("chart.seriesDefaults.verticalBoxPlot.mean.color","base"),o("chart.seriesDefaults.verticalBoxPlot.median.color","base"),o("chart.seriesDefaults.verticalBoxPlot.whiskers.color","accent"),o("chart.seriesDefaults.verticalBullet.target.color","accent"),o("chart.seriesDefaults.waterfall.line.color","chart-major-lines"),o("chart.title.color","normal-text-color"),a("chart.seriesDefaults.labels.opacity",r("chart-area-opacity","opacity")),o("diagram.shapeDefaults.fill.color","accent"),o("diagram.shapeDefaults.content.color","accent-contrast"),o("diagram.shapeDefaults.connectorDefaults.fill.color","normal-text-color"),o("diagram.shapeDefaults.connectorDefaults.stroke.color","accent-contrast"),o("diagram.shapeDefaults.connectorDefaults.hover.fill.color","accent-contrast"),o("diagram.shapeDefaults.connectorDefaults.hover.stroke.color","normal-text-color"),o("diagram.editable.resize.handles.stroke.color","normal-text-color"),o("diagram.editable.resize.handles.fill.color","normal-background"),o("diagram.editable.resize.handles.hover.stroke.color","normal-text-color"),o("diagram.editable.resize.handles.hover.fill.color","normal-text-color"),o("diagram.selectable.stroke.color","normal-text-color"),o("diagram.connectionDefaults.stroke.color","normal-text-color"),o("diagram.connectionDefaults.content.color","normal-text-color"),o("diagram.connectionDefaults.selection.handles.fill.color","accent-contrast"),o("diagram.connectionDefaults.selection.handles.stroke.color","normal-text-color"),o("diagram.connectionDefaults.selection.stroke.color","normal-text-color"),function(){function t(t){return r(t,"fontSize")+" "+r(t,"fontFamily")}var e=t("chart-font"),i=t("chart-title-font"),n=t("chart-label-font");a("chart.axisDefaults.labels.font",n),a("chart.axisDefaults.notes.label.font",e),a("chart.axisDefaults.title.font",e),a("chart.legend.labels.font",e),a("chart.seriesDefaults.labels.font",n),a("chart.seriesDefaults.notes.label.font",e),a("chart.title.font",i)}(),a("chart.seriesColors",$(".k-var--series div").toArray().reduce(function(t,e){return t[function(t){return function(t){return t.toLowerCase().charCodeAt(0)-"a".charCodeAt(0)}(t.match(/series-([a-z])$/)[1])}(e.className)]=$(e).css("backgroundColor"),t},[])),n.remove(),t=i,i}})?a.apply(e,s):a,i(0),s=[n],r="function"==typeof(a=function(){return function(t){var e=window.kendo,i=e.dataviz.ui,n=e.deepExtend,o="#fff",r=e.dataviz.chartBaseTheme({gradients:!0}),a={scale:{labels:{font:"12px Arial,Helvetica,sans-serif"}}},s={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},l=i.themes,c=i.registerTheme=function(t,e){var i={};i.chart=n({},r,e.chart),i.gauge=n({},a,e.gauge),i.diagram=n({},s,e.diagram),i.treeMap=n({},e.treeMap);var o=i.chart.seriesDefaults;o.verticalLine=n({},o.line),o.verticalArea=n({},o.area),o.rangeArea=n({},o.area),o.verticalRangeArea=n({},o.rangeArea),o.verticalBoxPlot=n({},o.boxPlot),o.polarArea=n({},o.radarArea),o.polarLine=n({},o.radarLine),l[t]=i};function u(e,i){return t.map(e,function(t,e){return[[t,i[e]]]})}c("black",{chart:{title:{color:o},legend:{labels:{color:o},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:o},errorBars:{color:o},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:o},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:o},border:{_brightness:1.5,opacity:1},highlight:{border:{color:o,opacity:.2}}},ohlc:{line:{color:o}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:o},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:o},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:o},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:o},minorTicks:{color:o},majorTicks:{color:o},line:{color:o}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:o},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:o}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:o}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:o}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}}),c("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:"#000",background:o,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}}),c("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:o},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:o}}},content:{color:o}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:o}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:o}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:o}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}}),c("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:"#000",background:o,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:o},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}}),c("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:o},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}}),c("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#000"},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:"#000"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#000"}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:o},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}}),c("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:o},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:o}}},content:{color:o}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:o}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}}),c("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:o,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:o},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:o},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:o}}},content:{color:o}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:o}}}},rotate:{thumb:{stroke:{color:o},fill:{color:o}}}},selectable:{stroke:{color:o}},connectionDefaults:{stroke:{color:o},content:{color:o},selection:{handles:{fill:{color:"#414550"},stroke:{color:o}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}}),c("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:o},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}}),c("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:o},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}}),c("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:o},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}}),c("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:o},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),c("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:o},hover:{fill:{color:o},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:o},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:o},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),function(){var t="#333333",e="#c8c8c8",i=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"],n=i[0];function o(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:e}}}c("fiori",{chart:{title:{color:t},legend:{labels:{color:t},inactiveItems:{labels:{color:"#7f7f7f"},markers:{color:"#7f7f7f"}}},seriesDefaults:{labels:{color:t},errorBars:{color:t},notes:o(),candlestick:{downColor:e,line:{color:"#bdbdbd"}},area:{opacity:.8},waterfall:{line:{color:e}},horizontalWaterfall:{line:{color:e}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:i,axisDefaults:{line:{color:e},labels:{color:t},minorGridLines:{color:"#dddddd"},majorGridLines:{color:e},title:{color:t},crosshair:{color:"#7f7f7f"},notes:o()}},gauge:{pointer:{color:n},scale:{rangePlaceholderColor:e,labels:{color:t},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}},diagram:{shapeDefaults:{fill:{color:n},connectorDefaults:{fill:{color:t},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:t}}},content:{color:t}},editable:{resize:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"},hover:{fill:{color:"#bdbdbd"},stroke:{color:"#bdbdbd"}}}},rotate:{thumb:{stroke:{color:"#bdbdbd"},fill:{color:"#bdbdbd"}}}},selectable:{stroke:{color:"#bdbdbd"}},connectionDefaults:{stroke:{color:"#bdbdbd"},content:{color:"#bdbdbd"},selection:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"}},stroke:{color:"#bdbdbd"}}}},treeMap:{colors:u(i,["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"])}})}(),function(){var t="#4e4e4e",e="#c8c8c8",i=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"],n=i[0];function o(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:e}}}c("office365",{chart:{title:{color:t},legend:{labels:{color:t},inactiveItems:{labels:{color:"#7f7f7f"},markers:{color:"#7f7f7f"}}},seriesDefaults:{labels:{color:t},errorBars:{color:t},notes:o(),candlestick:{downColor:e,line:{color:"#bdbdbd"}},area:{opacity:.8},waterfall:{line:{color:e}},horizontalWaterfall:{line:{color:e}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:i,axisDefaults:{line:{color:e},labels:{color:t},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:e},title:{color:t},crosshair:{color:"#7f7f7f"},notes:o()}},gauge:{pointer:{color:n},scale:{rangePlaceholderColor:e,labels:{color:t},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}},diagram:{shapeDefaults:{fill:{color:n},connectorDefaults:{fill:{color:t},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:t}}},content:{color:t}},editable:{resize:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"},hover:{fill:{color:"#bdbdbd"},stroke:{color:"#bdbdbd"}}}},rotate:{thumb:{stroke:{color:"#bdbdbd"},fill:{color:"#bdbdbd"}}}},selectable:{stroke:{color:"#bdbdbd"}},connectionDefaults:{stroke:{color:"#bdbdbd"},content:{color:"#bdbdbd"},selection:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"}},stroke:{color:"#bdbdbd"}}}},treeMap:{colors:u(i,["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"])}})}(),function(){var t="#32364c",e="#dfe0e1",i=["#ff4350","#ff9ea5","#00acc1","#80deea","#ffbf46","#ffd78c"],n=i[0];function o(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:e}}}c("nova",{chart:{title:{color:t},legend:{labels:{color:t},inactiveItems:{labels:{color:"#7f7f7f"},markers:{color:"#7f7f7f"}}},seriesDefaults:{labels:{color:t},errorBars:{color:t},notes:o(),candlestick:{downColor:e,line:{color:"#bdbdbd"}},area:{opacity:.8},waterfall:{line:{color:e}},horizontalWaterfall:{line:{color:e}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:i,axisDefaults:{line:{color:e},labels:{color:t},minorGridLines:{color:"#dfe0e1"},majorGridLines:{color:e},title:{color:t},crosshair:{color:t},notes:o()}},gauge:{pointer:{color:n},scale:{rangePlaceholderColor:e,labels:{color:t},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}},diagram:{shapeDefaults:{fill:{color:n},connectorDefaults:{fill:{color:t},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:t}}},content:{color:t}},editable:{resize:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"},hover:{fill:{color:"#bdbdbd"},stroke:{color:"#bdbdbd"}}}},rotate:{thumb:{stroke:{color:"#bdbdbd"},fill:{color:"#bdbdbd"}}}},selectable:{stroke:{color:"#bdbdbd"}},connectionDefaults:{stroke:{color:"#bdbdbd"},content:{color:"#bdbdbd"},selection:{handles:{fill:{color:"#fff"},stroke:{color:"#bdbdbd"}},stroke:{color:"#bdbdbd"}}}},treeMap:{colors:u(i,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}})}(),function(){var t="#656565",e=["#ff6358","#ffd246","#78d237","#28b4c8","#2d73f5","#aa46be"];c("default-v2",{chart:{},gauge:{pointer:{color:e[0]},scale:{rangePlaceholderColor:"rgba(0, 0, 0, .04)",labels:{color:t},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}},diagram:{},treeMap:{colors:u(e,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}}),l.sass=l["default-v2"]}(),function(){var t="#292b2c",e=["#0275d8","#5bc0de","#5cb85c","#f0ad4e","#e67d4a","#d9534f"];c("bootstrap-v4",{chart:{},gauge:{pointer:{color:e[0]},scale:{rangePlaceholderColor:"rgba(0, 0, 0, .04)",labels:{color:t},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}},diagram:{},treeMap:{colors:u(e,["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"])}})}()}(window.kendo.jQuery),window.kendo})?a.apply(e,s):a,i(0),s=[i(45),n,o,r],void 0===(l="function"==typeof(a=function(){})?a.apply(e,s):a)||(t.exports=l)},function(t,e,i){var n,o,r;i(0),o=[i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=i.ui.Draggable,r=i._outerWidth,a=i._outerHeight,s=t.extend,l=i.format,c=i.parseFloat,u=t.proxy,h=t.isArray,d=Math,f=i.support,p=f.pointers,m=f.msPointers,g=".slider",v="touchstart"+g+" mousedown"+g,b=p?"pointerdown"+g:m?"MSPointerDown"+g:v,k="touchend"+g+" mouseup"+g,y=p?"pointerup":m?"MSPointerUp"+g:k,w="keydown"+g,_="click"+g,x="mouseover"+g,S="focus"+g,C="blur"+g,A=".k-draghandle",T="k-state-focused",j="undefined",M=i.getTouches,z=n.extend({init:function(t,e){if(n.fn.init.call(this,t,e),e=this.options,this._isHorizontal="horizontal"==e.orientation,this._isRtl=this._isHorizontal&&i.support.isRtl(t),this._position=this._isHorizontal?"left":"bottom",this._sizeFn=this._isHorizontal?"width":"height",this._outerSize=this._isHorizontal?r:a,e.tooltip.format=e.tooltip.enabled&&e.tooltip.format||"{0}",e.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");this._createHtml(),this.wrapper=this.element.closest(".k-slider"),this._trackDiv=this.wrapper.find(".k-slider-track"),this._setTrackDivWidth(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._reset(),this._tabindex(this.wrapper.find(A)),this[e.enabled?"enable":"disable"]();var o=i.support.isRtl(this.wrapper)?-1:1;this._keyMap={37:I(-1*o*e.smallStep),40:I(-e.smallStep),39:I(1*o*e.smallStep),38:I(+e.smallStep),35:D(e.max),36:D(e.min),33:I(+e.largeStep),34:I(-e.largeStep)},i.notify(this)},events:["change","slide"],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_distance:function(){return P(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var e=this.options,i=this._maxSelection/((e.max-e.min)/e.smallStep),n=this._calculateItemsWidth(d.floor(this._distance()/e.smallStep));"none"!=e.tickPlacement&&i>=2&&(t(this.element).parent().find(".k-slider-items").remove(),this._trackDiv.before(function(t,e){var i,n="<ul class='k-reset k-slider-items'>",o=d.floor(P(e/t.smallStep))+1;for(i=0;i<o;i++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>"}(e,this._distance())),this._setItemsWidth(n),this._setItemsTitle()),this._calculateSteps(n),"none"!=e.tickPlacement&&i>=2&&e.largeStep>=e.smallStep&&this._setItemsLargeTick()},getSize:function(){return i.dimensions(this.wrapper)},_setTrackDivWidth:function(){var t=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-t)},_setItemsWidth:function(e){var i,n=this.options,o=e.length-1,r=this.wrapper.find(".k-tick"),a=0,s=r.length,l=0;for(i=0;i<s-2;i++)t(r[i+1])[this._sizeFn](e[i]);if(this._isHorizontal?(t(r[0]).addClass("k-first")[this._sizeFn](e[o-1]),t(r[o]).addClass("k-last")[this._sizeFn](e[o])):(t(r[o]).addClass("k-first")[this._sizeFn](e[o]),t(r[0]).addClass("k-last")[this._sizeFn](e[o-1])),this._distance()%n.smallStep!=0&&!this._isHorizontal){for(i=0;i<e.length;i++)l+=e[i];a=this._maxSelection-l,a+=parseFloat(this._trackDiv.css(this._position),10)+2,this.wrapper.find(".k-slider-items").css("padding-top",a)}},_setItemsTitle:function(){for(var e=this.options,i=this.wrapper.find(".k-tick"),n=e.min,o=i.length,r=this._isHorizontal&&!this._isRtl?0:o-1,a=this._isHorizontal&&!this._isRtl?o:-1,s=this._isHorizontal&&!this._isRtl?1:-1;r-a!=0;r+=s)t(i[r]).attr("title",l(e.tooltip.format,P(n))),n+=e.smallStep},_setItemsLargeTick:function(){var e,i=this.options,n=this.wrapper.find(".k-tick"),o=0;if(F(i.largeStep)%F(i.smallStep)==0||this._distance()/i.largeStep>=3)for(this._isHorizontal||this._isRtl||(n=t.makeArray(n).reverse()),o=0;o<n.length;o++){e=t(n[o]);var r=P(F(this._values[o]-this.options.min));r%F(i.smallStep)==0&&r%F(i.largeStep)==0&&(e.addClass("k-tick-large").html("<span class='k-label'>"+e.attr("title")+"</span>"),0!==o&&o!==n.length-1&&e.css("line-height",e[this._sizeFn]()+"px"))}},_calculateItemsWidth:function(t){var e,i,n,o=this.options,r=parseFloat(this._trackDiv.css(this._sizeFn))+1,a=this._distance(),s=r/a;for(a/o.smallStep-d.floor(a/o.smallStep)>0&&(r-=a%o.smallStep*s),e=r/t,i=[],n=0;n<t-1;n++)i[n]=e;return i[t-1]=i[t]=e/2,this._roundWidths(i)},_roundWidths:function(t){var e,i=0,n=t.length;for(e=0;e<n;e++)i+=t[e]-d.floor(t[e]),t[e]=d.floor(t[e]);return i=d.round(i),this._addAdditionalSize(i,t)},_addAdditionalSize:function(t,e){if(0===t)return e;var i,n=parseFloat(e.length-1)/parseFloat(1==t?t:t-1);for(i=0;i<t;i++)e[parseInt(d.round(n*i),10)]+=1;return e},_calculateSteps:function(t){var e,i=this.options,n=i.min,o=0,r=this._distance(),a=d.ceil(r/i.smallStep),s=1;if(a+=r/i.smallStep%1==0?1:0,t.splice(0,0,2*t[a-2]),t.splice(a-1,1,2*t.pop()),this._pixelSteps=[o],this._values=[n],0!==a){for(;s<a;)o+=(t[s-1]+t[s])/2,this._pixelSteps[s]=o,n+=i.smallStep,this._values[s]=P(n),s++;e=r%i.smallStep==0?a-1:a,this._pixelSteps[e]=this._maxSelection,this._values[e]=i.max,this._isRtl&&(this._pixelSteps.reverse(),this._values.reverse())}},_getValueFromPosition:function(t,e){var i,n=this.options,o=d.max(n.smallStep*(this._maxSelection/this._distance()),0),r=0,a=o/2;if(this._isHorizontal?(r=t-e.startPoint,this._isRtl&&(r=this._maxSelection-r)):r=e.startPoint-t,this._maxSelection-(parseInt(this._maxSelection%o,10)-3)/2<r)return n.max;for(i=0;i<this._pixelSteps.length;i++)if(d.abs(this._pixelSteps[i]-r)-1<=a)return P(this._values[i])},_getFormattedValue:function(t,e){var n,o,r,a="",s=this.options.tooltip;return h(t)?(o=t[0],r=t[1]):e&&e.type&&(o=e.selectionStart,r=e.selectionEnd),e&&(n=e.tooltipTemplate),!n&&s.template&&(n=i.template(s.template)),h(t)||e&&e.type?a=n?n({selectionStart:o,selectionEnd:r}):(o=l(s.format,o))+" - "+(r=l(s.format,r)):(e&&(e.val=t),a=n?n({value:t}):l(s.format,t)),a},_getDraggableArea:function(){var t=i.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?t.left:t.top+this._maxSelection,endPoint:this._isHorizontal?t.left+this._maxSelection:t.top}},_createHtml:function(){var t=this.element,e=this.options,i=t.find("input");2==i.length?(i.eq(0).prop("value",O(e.selectionStart)),i.eq(1).prop("value",O(e.selectionEnd))):t.prop("value",O(e.value)),t.wrap(function(t,e,i){var n=i?" k-slider-horizontal":" k-slider-vertical",o=t.style?t.style:e.attr("style"),r=e.attr("class")?" "+e.attr("class"):"",a="";return"bottomRight"==t.tickPlacement?a=" k-slider-bottomright":"topLeft"==t.tickPlacement&&(a=" k-slider-topleft"),"<div class='k-widget k-slider"+n+r+"'"+(o=o?" style='"+o+"'":"")+"><div class='k-slider-wrap"+(t.showButtons?" k-slider-buttons":"")+a+"'></div></div>"}(e,t,this._isHorizontal)).hide(),e.showButtons&&t.before(E(e,"increase",this._isHorizontal,this._isRtl)).before(E(e,"decrease",this._isHorizontal,this._isRtl)),t.before(function(t,e){var i=e.is("input")?1:2;return"<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div><a href='#' class='k-draghandle' title='"+(2==i?t.leftDragHandleTitle:t.dragHandleTitle)+"' role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(i>1?t.selectionStart||t.min:t.value||t.min)+"'>Drag</a>"+(i>1?"<a href='#' class='k-draghandle' title='"+t.rightDragHandleTitle+"'role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(t.selectionEnd||t.max)+"'>Drag</a>":"")+"</div>"}(e,t))},_focus:function(e){var i=e.target,n=this.value(),o=this._drag;o||(i==this.wrapper.find(A).eq(0)[0]?(o=this._firstHandleDrag,this._activeHandle=0):(o=this._lastHandleDrag,this._activeHandle=1),n=n[this._activeHandle]),t(i).addClass(T+" k-state-selected"),o&&(this._activeHandleDrag=o,o.selectionStart=this.options.selectionStart,o.selectionEnd=this.options.selectionEnd,o._updateTooltip(n))},_focusWithMouse:function(e){var i=this,n=(e=t(e)).is(A)?e.index():0;window.setTimeout(function(){i.wrapper.find(A)[2==n?1:0].focus()},1),i._setTooltipTimeout()},_blur:function(e){var i=this._activeHandleDrag;t(e.target).removeClass(T+" k-state-selected"),i&&(i._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var t=this._drag||this._activeHandleDrag;t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var e=this.element,i=e.attr("form"),n=i?t("#"+i):e.closest("form");n[0]&&(this._form=n.on("reset",u(this._formResetHandler,this)))},min:function(t){if(!t)return this.options.min;this.setOptions({min:t})},max:function(t){if(!t)return this.options.max;this.setOptions({max:t})},setOptions:function(t){n.fn.setOptions.call(this,t),this._sliderItemsInit(),this._refresh()},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),n.fn.destroy.call(this)}});function E(t,e,i,n){var o="";return o=i?!n&&"increase"==e||n&&"increase"!=e?"k-i-arrow-60-right":"k-i-arrow-60-left":"increase"==e?"k-i-arrow-60-up":"k-i-arrow-60-down","<a class='k-button k-button-"+e+"' title='"+t[e+"ButtonTitle"]+"' aria-label='"+t[e+"ButtonTitle"]+"'><span class='k-icon "+o+"'></span></a>"}function I(t){return function(e){return e+t}}function D(t){return function(){return t}}function O(t){return(t+"").replace(".",i.cultures.current.numberFormat["."])}function P(t){var e,i;return e=function(t){var e=t.toString(),i=0;return(e=e.split("."))[1]&&(i=e[1].length),i=i>10?10:i}(t=parseFloat(t,10)),i=d.pow(10,e||0),d.round(t*i)/i}function R(t,i){var n=c(t.getAttribute(i));return null===n&&(n=e),n}function L(t){return typeof t!==j}function F(t){return 1e4*t}var N=z.extend({init:function(i,n){var o;i.type="text",n=s({},{value:R(i,"value"),min:R(i,"min"),max:R(i,"max"),smallStep:R(i,"step")},n),i=t(i),n&&n.enabled===e&&(n.enabled=!i.is("[disabled]")),z.fn.init.call(this,i,n),L((n=this.options).value)&&null!==n.value||(n.value=n.min,i.prop("value",O(n.min))),n.value=d.max(d.min(n.value,n.max),n.min),o=this.wrapper.find(A),this._selection=new N.Selection(o,this,n),this._drag=new N.Drag(o,"",this,n)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(e){var n,o,r=this,a=r.options;if(r.disable(),!1!==e){if(r.wrapper.removeClass("k-state-disabled").addClass("k-state-default"),r.wrapper.find("input").removeAttr("disabled"),n=function(e){var i=M(e)[0];if(i){var n=r._isHorizontal?i.location.pageX:i.location.pageY,o=r._getDraggableArea(),a=t(e.target);a.hasClass("k-draghandle")?a.addClass(T+" k-state-selected"):(r._update(r._getValueFromPosition(n,o)),r._focusWithMouse(e.target),r._drag.dragstart(e),e.preventDefault())}},r.wrapper.find(".k-tick, .k-slider-track").on(b,n).end().on(b,function(){t(document.documentElement).one("selectstart",i.preventDefault)}).on(y,function(){r._drag._end()}),r.wrapper.find(A).attr("tabindex",0).on(k,function(){r._setTooltipTimeout()}).on(_,function(t){r._focusWithMouse(t.target),t.preventDefault()}).on(S,u(r._focus,r)).on(C,u(r._blur,r)),o=u(function(t){var e=r._nextValueByIndex(r._valueIndex+1*t);r._setValueInRange(e),r._drag._updateTooltip(e)},r),a.showButtons){var s=u(function(t,e){this._clearTooltipTimeout(),(1===t.which||f.touch&&0===t.which)&&(o(e),this.timeout=setTimeout(u(function(){this.timer=setInterval(function(){o(e)},60)},this),200))},r);r.wrapper.find(".k-button").on(k,u(function(t){this._clearTimer(),r._focusWithMouse(t.target)},r)).on(x,function(e){t(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+g,u(function(e){t(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},r)).eq(0).on(v,u(function(t){s(t,1)},r)).click(!1).end().eq(1).on(v,u(function(t){s(t,-1)},r)).click(i.preventDefault)}r.wrapper.find(A).off(w,!1).on(w,u(this._keydown,r)),a.enabled=!0}},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled"),t(this.element).prop("disabled","disabled"),this.wrapper.find(".k-button").off(v).on(v,function(e){e.preventDefault(),t(this).addClass("k-state-active")}).off(k).on(k,function(e){e.preventDefault(),t(this).removeClass("k-state-active")}).off("mouseleave"+g).on("mouseleave"+g,i.preventDefault).off(x).on(x,i.preventDefault),this.wrapper.find(".k-tick, .k-slider-track").off(b).off(y),this.wrapper.find(A).attr("tabindex",-1).off(k).off(w).off(_).off(S).off(C),this.options.enabled=!1},_update:function(t){var e=this.value()!=t;this.value(t),e&&this.trigger("change",{value:this.options.value})},value:function(t){var e=this.options;if(t=P(t),isNaN(t))return e.value;t>=e.min&&t<=e.max&&e.value!=t&&(this.element.prop("value",O(t)),e.value=t,this._refreshAriaAttr(t),this._refresh())},_refresh:function(){this.trigger("moveSelection",{value:this.options.value})},_refreshAriaAttr:function(t){var e,i=this._drag;e=i&&i._tooltipDiv?i._tooltipDiv.text():this._getFormattedValue(t,null),this.wrapper.find(A).attr("aria-valuenow",t).attr("aria-valuetext",e)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(t){t.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[t.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),t.preventDefault())},_setValueInRange:function(t){var e=this.options;t=P(t),isNaN(t)?this._update(e.min):(t=d.max(d.min(t,e.max),e.min),this._update(t))},_nextValueByIndex:function(t){var e=this._values.length;return this._isRtl&&(t=e-1-t),this._values[d.max(0,d.min(t,e-1))]},_formResetHandler:function(){var t=this,e=t.options.min;setTimeout(function(){var i=t.element[0].value;t.value(""===i||isNaN(i)?e:i)})},destroy:function(){z.fn.destroy.call(this),this.wrapper.off(g).find(".k-button").off(g).end().find(A).off(g).end().find(".k-tick, .k-slider-track").off(g).end(),this._drag.draggable.destroy(),this._drag._removeTooltip(!0)}});N.Selection=function(t,e,i){function n(n){var o=n-i.min,r=e._valueIndex=d.ceil(P(o/i.smallStep)),a=parseInt(e._pixelSteps[r],10),s=e._trackDiv.find(".k-slider-selection"),l=parseInt(e._outerSize(t)/2,10),c=e._isRtl?2:0;s[e._sizeFn](e._isRtl?e._maxSelection-a:a),t.css(e._position,a-l-c)}n(i.value),e.bind(["slide","moveSelection"],function(t){n(parseFloat(t.value,10))}),e.bind("change",function(t){n(parseFloat(t.sender.value(),10))})},N.Drag=function(t,e,i,n){this.owner=i,this.options=n,this.element=t,this.type=e,this.draggable=new o(t,{distance:0,dragstart:u(this._dragstart,this),drag:u(this.drag,this),dragend:u(this.dragend,this),dragcancel:u(this.dragcancel,this)}),t.click(!1),t.on("dragstart",function(t){t.preventDefault()})},N.Drag.prototype={dragstart:function(t){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this._dragstart(t),this.dragend()},_dragstart:function(e){var i=this.owner,n=this.options;n.enabled?(this.owner._activeDragHandle=this,i.element.off(x),i.wrapper.find("."+T).removeClass(T+" k-state-selected"),this.element.addClass(T+" k-state-selected"),t(document.documentElement).css("cursor","pointer"),this.dragableArea=i._getDraggableArea(),this.step=d.max(n.smallStep*(i._maxSelection/i._distance()),0),this.type?(this.selectionStart=n.selectionStart,this.selectionEnd=n.selectionEnd,i._setZIndex(this.type)):this.oldVal=this.val=n.value,this._removeTooltip(!0),this._createTooltip()):e.preventDefault()},_createTooltip:function(){var e,n=this.owner,o=this.options.tooltip,r="",a=t(window);o.enabled&&(o.template&&(this.tooltipTemplate=i.template(o.template)),t(".k-slider-tooltip").remove(),this.tooltipDiv=t("<div class='k-widget k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body),r=n._getFormattedValue(this.val||n.value(),this),this.type||(e="k-callout-"+(n._isHorizontal?"s":"e"),this.tooltipInnerDiv="<div class='k-callout "+e+"'>\x3c!-- --\x3e</div>",r+=this.tooltipInnerDiv),this.tooltipDiv.html(r),this._scrollOffset={top:a.scrollTop(),left:a.scrollLeft()},this.moveTooltip())},drag:function(t){var e,i=this.owner,n=t.x.location,o=t.y.location,r=this.dragableArea.startPoint,a=this.dragableArea.endPoint;t.preventDefault(),i._isHorizontal?i._isRtl?this.val=this.constrainValue(n,r,a,n<a):this.val=this.constrainValue(n,r,a,n>=a):this.val=this.constrainValue(o,a,r,o<=a),this.oldVal!=this.val&&(this.oldVal=this.val,this.type?("firstHandle"==this.type?this.val<this.selectionEnd?this.selectionStart=this.val:this.selectionStart=this.selectionEnd=this.val:this.val>this.selectionStart?this.selectionEnd=this.val:this.selectionStart=this.selectionEnd=this.val,e={values:[this.selectionStart,this.selectionEnd],value:[this.selectionStart,this.selectionEnd]}):e={value:this.val},i.trigger("slide",e)),this._updateTooltip(this.val)},_updateTooltip:function(t){var e="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),e=this.owner._getFormattedValue(P(t),this),this.type||(e+=this.tooltipInnerDiv),this.tooltipDiv.html(e),this.moveTooltip())},dragcancel:function(){return this.owner._refresh(),t(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this.owner;return t(document.documentElement).css("cursor",""),this.type?e._update(this.selectionStart,this.selectionEnd):(e._update(this.val),this.draggable.userEvents._disposeAll()),this.draggable.userEvents.cancel(),this._end()},_end:function(){var t=this.owner;return t._focusWithMouse(this.element),t.element.on(x),!1},_removeTooltip:function(e){var i=this,n=i.owner;i.tooltipDiv&&n.options.tooltip.enabled&&n.options.enabled&&(e?(i.tooltipDiv.remove(),i.tooltipDiv=null):i.tooltipDiv.fadeOut("slow",function(){t(this).remove(),i.tooltipDiv=null}))},moveTooltip:function(){var e,n,o,s,l=this.owner,c=0,u=0,h=this.element,d=i.getOffset(h),f=t(window),p=this.tooltipDiv.find(".k-callout"),m=r(this.tooltipDiv),g=a(this.tooltipDiv);this.type?(e=l.wrapper.find(A),d=i.getOffset(e.eq(0)),n=i.getOffset(e.eq(1)),l._isHorizontal?(c=n.top,u=d.left+(n.left-d.left)/2):(c=d.top+(n.top-d.top)/2,u=n.left),s=r(e.eq(0))+16):(c=d.top,u=d.left,s=r(h)+16),l._isHorizontal?(u-=parseInt((m-l._outerSize(h))/2,10),c-=g+8+(p.length?p.height():0)):(c-=parseInt((g-l._outerSize(h))/2,10),u-=m+8+(p.length?p.width():0)),l._isHorizontal?(c+=o=this._flip(c,g,s,a(f)+this._scrollOffset.top),u+=this._fit(u,m,r(f)+this._scrollOffset.left)):(o=this._flip(u,m,s,r(f)+this._scrollOffset.left),c+=this._fit(c,g,a(f)+this._scrollOffset.top),u+=o),o>0&&p&&(p.removeClass(),p.addClass("k-callout k-callout-"+(l._isHorizontal?"n":"w"))),this.tooltipDiv.css({top:c,left:u})},_fit:function(t,e,i){var n=0;return t+e>i&&(n=i-(t+e)),t<0&&(n=-t),n},_flip:function(t,e,i,n){var o=0;return t+e>n&&(o+=-(i+e)),t+o<0&&(o+=i+e),o},constrainValue:function(t,e,i,n){return e<t&&t<i?this.owner._getValueFromPosition(t,this.dragableArea):n?this.options.max:this.options.min}},i.ui.plugin(N);var B=z.extend({init:function(i,n){var o=t(i).find("input"),r=o.eq(0)[0],a=o.eq(1)[0];r.type="text",a.type="text",n&&n.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),n.showButtons=!1),(n=s({},{selectionStart:R(r,"value"),min:R(r,"min"),max:R(r,"max"),smallStep:R(r,"step")},{selectionEnd:R(a,"value"),min:R(a,"min"),max:R(a,"max"),smallStep:R(a,"step")},n))&&n.enabled===e&&(n.enabled=!o.is("[disabled]")),z.fn.init.call(this,i,n),L((n=this.options).selectionStart)&&null!==n.selectionStart||(n.selectionStart=n.min,o.eq(0).prop("value",O(n.min))),L(n.selectionEnd)&&null!==n.selectionEnd||(n.selectionEnd=n.max,o.eq(1).prop("value",O(n.max)));var l=this.wrapper.find(A);this._selection=new B.Selection(l,this,n),this._firstHandleDrag=new N.Drag(l.eq(0),"firstHandle",this,n),this._lastHandleDrag=new N.Drag(l.eq(1),"lastHandle",this,n)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(e){var n,o=this,r=o.options;o.disable(),!1!==e&&(o.wrapper.removeClass("k-state-disabled").addClass("k-state-default"),o.wrapper.find("input").removeAttr("disabled"),n=function(e){var i=M(e)[0];if(i){var n,a,s,l=o._isHorizontal?i.location.pageX:i.location.pageY,c=o._getDraggableArea(),u=o._getValueFromPosition(l,c),h=t(e.target);if(h.hasClass("k-draghandle"))return o.wrapper.find("."+T).removeClass(T+" k-state-selected"),void h.addClass(T+" k-state-selected");u<r.selectionStart?(n=u,a=r.selectionEnd,s=o._firstHandleDrag):u>o.selectionEnd?(n=r.selectionStart,a=u,s=o._lastHandleDrag):u-r.selectionStart<=r.selectionEnd-u?(n=u,a=r.selectionEnd,s=o._firstHandleDrag):(n=r.selectionStart,a=u,s=o._lastHandleDrag),s.dragstart(e),o._setValueInRange(n,a),o._focusWithMouse(s.element)}},o.wrapper.find(".k-tick, .k-slider-track").on(b,n).end().on(b,function(){t(document.documentElement).one("selectstart",i.preventDefault)}).on(y,function(){o._activeDragHandle&&o._activeDragHandle._end()}),o.wrapper.find(A).attr("tabindex",0).on(k,function(){o._setTooltipTimeout()}).on(_,function(t){o._focusWithMouse(t.target),t.preventDefault()}).on(S,u(o._focus,o)).on(C,u(o._blur,o)),o.wrapper.find(A).off(w,i.preventDefault).eq(0).on(w,u(function(t){this._keydown(t,"firstHandle")},o)).end().eq(1).on(w,u(function(t){this._keydown(t,"lastHandle")},o)),o.options.enabled=!0)},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled"),this.wrapper.find("input").prop("disabled","disabled"),this.wrapper.find(".k-tick, .k-slider-track").off(b).off(y),this.wrapper.find(A).attr("tabindex",-1).off(k).off(w).off(_).off(S).off(C),this.options.enabled=!1},_keydown:function(t,e){var i,n,o,r=this.options.selectionStart,a=this.options.selectionEnd;t.keyCode in this._keyMap&&(this._clearTooltipTimeout(),"firstHandle"==e?(o=this._activeHandleDrag=this._firstHandleDrag,(r=this._keyMap[t.keyCode](r))>a&&(a=r)):(o=this._activeHandleDrag=this._lastHandleDrag,r>(a=this._keyMap[t.keyCode](a))&&(r=a)),this._setValueInRange(P(r),P(a)),i=Math.max(r,this.options.selectionStart),n=Math.min(a,this.options.selectionEnd),o.selectionEnd=Math.max(n,this.options.selectionStart),o.selectionStart=Math.min(i,this.options.selectionEnd),o._updateTooltip(this.value()[this._activeHandle]),t.preventDefault())},_update:function(t,e){var i=this.value(),n=i[0]!=t||i[1]!=e;this.value([t,e]),n&&this.trigger("change",{values:[t,e],value:[t,e]})},value:function(t){return t&&t.length?this._value(t[0],t[1]):this._value()},_value:function(t,e){var i=this.options,n=i.selectionStart,o=i.selectionEnd;if(isNaN(t)&&isNaN(e))return[n,o];t=P(t),e=P(e),t>=i.min&&t<=i.max&&e>=i.min&&e<=i.max&&t<=e&&(n==t&&o==e||(this.element.find("input").eq(0).prop("value",O(t)).end().eq(1).prop("value",O(e)),i.selectionStart=t,i.selectionEnd=e,this._refresh(),this._refreshAriaAttr(t,e)))},values:function(t,e){return h(t)?this._value(t[0],t[1]):this._value(t,e)},_refresh:function(){var t=this.options;this.trigger("moveSelection",{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(t,e){var i,n=this.wrapper.find(A),o=this._activeHandleDrag;i=this._getFormattedValue([t,e],o),n.eq(0).attr("aria-valuenow",t),n.eq(1).attr("aria-valuenow",e),n.attr("aria-valuetext",i)},_setValueInRange:function(t,e){var i=this.options;t=d.max(d.min(t,i.max),i.min),e=d.max(d.min(e,i.max),i.min),t==i.max&&e==i.max&&this._setZIndex("firstHandle"),this._update(d.min(t,e),d.max(t,e))},_setZIndex:function(e){this.wrapper.find(A).each(function(i){t(this).css("z-index","firstHandle"==e?1-i:i)})},_formResetHandler:function(){var t=this,e=t.options;setTimeout(function(){var i=t.element.find("input"),n=i[0].value,o=i[1].value;t.values(""===n||isNaN(n)?e.min:n,""===o||isNaN(o)?e.max:o)})},destroy:function(){z.fn.destroy.call(this),this.wrapper.off(g).find(".k-tick, .k-slider-track").off(g).end().find(A).off(g),this._firstHandleDrag.draggable.destroy(),this._lastHandleDrag.draggable.destroy()}});B.Selection=function(t,e,i){function n(n){var o=(n=n||[])[0]-i.min,r=n[1]-i.min,a=d.ceil(P(o/i.smallStep)),s=d.ceil(P(r/i.smallStep)),l=e._pixelSteps[a],c=e._pixelSteps[s],u=parseInt(e._outerSize(t.eq(0))/2,10),h=e._isRtl?2:0;t.eq(0).css(e._position,l-u-h).end().eq(1).css(e._position,c-u-h),function(t,i){var n,o,r=e._trackDiv.find(".k-slider-selection");n=d.abs(t-i),r[e._sizeFn](n),e._isRtl?(o=d.max(t,i),r.css("right",e._maxSelection-o-1)):(o=d.min(t,i),r.css(e._position,o-1))}(l,c)}n(e.value()),e.bind(["change","slide","moveSelection"],function(t){n(t.values)})},i.ui.plugin(B)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(517),i(1),i(6)],void 0===(r="function"==typeof(n=function(t){return t=t||window.pako,function(e){var i=window.assert,n=new window.Logger("kidoju.image"),o=window.kidoju=window.kidoju||{};function r(t){var i,n,o,r,a,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),d=new Array(65535),f=new Array(65535),p=new Array(64),m=new Array(64),g=[],v=0,b=7,k=new Array(64),y=new Array(64),w=new Array(64),_=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D(t,e){for(var i=0,n=0,o=[],r=1;r<=16;r++){for(var a=1;a<=t[r];a++)o[e[n]]=[],o[e[n]][0]=i,o[e[n]][1]=r,n++,i++;i*=2}return o}function O(t){for(var e=t[0],i=t[1]-1;i>=0;)e&1<<i&&(v|=1<<b),i--,--b<0&&(255===v?(P(255),P(0)):P(v),b=7,v=0)}function P(t){g.push(t)}function R(t){P(t>>8&255),P(255&t)}function L(t,e,i,n,o){for(var r,a=o[0],s=o[240],l=function(t,e){var i,n,o,r,a,s,l,c,u,h,d=0;for(u=0;u<8;++u){i=t[d],n=t[d+1],o=t[d+2],r=t[d+3],a=t[d+4],s=t[d+5],l=t[d+6];var f=i+(c=t[d+7]),m=i-c,g=n+l,v=n-l,b=o+s,k=o-s,y=r+a,w=r-a,_=f+y,x=f-y,S=g+b,C=g-b;t[d]=_+S,t[d+4]=_-S;var A=.707106781*(C+x);t[d+2]=x+A,t[d+6]=x-A;var T=.382683433*((_=w+k)-(C=v+m)),j=.5411961*_+T,M=1.306562965*C+T,z=.707106781*(S=k+v),E=m+z,I=m-z;t[d+5]=I+j,t[d+3]=I-j,t[d+1]=E+M,t[d+7]=E-M,d+=8}for(d=0,u=0;u<8;++u){i=t[d],n=t[d+8],o=t[d+16],r=t[d+24],a=t[d+32],s=t[d+40],l=t[d+48];var D=i+(c=t[d+56]),O=i-c,P=n+l,R=n-l,L=o+s,F=o-s,N=r+a,B=r-a,q=D+N,V=D-N,H=P+L,U=P-L;t[d]=q+H,t[d+32]=q-H;var W=.707106781*(U+V);t[d+16]=V+W,t[d+48]=V-W;var G=.382683433*((q=B+F)-(U=R+O)),Q=.5411961*q+G,Y=1.306562965*U+G,K=.707106781*(H=F+R),Z=O+K,X=O-K;t[d+40]=X+Q,t[d+24]=X-Q,t[d+8]=Z+Y,t[d+56]=Z-Y,d++}for(u=0;u<64;++u)h=t[u]*e[u],p[u]=h>0?h+.5|0:h-.5|0;return p}(t,e),c=0;c<64;++c)m[S[c]]=l[c];var u=m[0]-i;i=m[0],0===u?O(n[0]):(O(n[f[r=32767+u]]),O(d[r]));for(var h=63;h>0&&0===m[h];h--);if(0===h)return O(a),i;for(var g,v=1;v<=h;){for(var b=v;0===m[v]&&v<=h;++v);var k=v-b;if(k>=16){g=k>>4;for(var y=1;y<=g;++y)O(s);k&=15}r=32767+m[v],O(o[(k<<4)+f[r]]),O(d[r]),v++}return 63!==h&&O(a),i}function F(t){t<=0&&(t=1),t>100&&(t=100),a!==t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=s((e[i]*t+50)/100);n<1?n=1:n>255&&(n=255),l[S[i]]=n}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;r<64;r++){var a=s((o[r]*t+50)/100);a<1?a=1:a>255&&(a=255),c[S[r]]=a}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)u[f]=1/(l[S[f]]*d[p]*d[m]*8),h[f]=1/(c[S[f]]*d[p]*d[m]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),a=t)}this.encode=function(t,a){(new Date).getTime(),a&&F(a),g=[],v=0,b=7,R(65496),R(65504),R(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),R(1),R(1),P(0),P(0),function(){R(65499),R(132),P(0);for(var t=0;t<64;t++)P(l[t]);P(1);for(var e=0;e<64;e++)P(c[e])}(),function(t,e){R(65472),R(17),P(8),R(e),R(t),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1)}(t.width,t.height),function(){R(65476),R(418),P(0);for(var t=0;t<16;t++)P(C[t+1]);for(var e=0;e<=11;e++)P(A[e]);P(16);for(var i=0;i<16;i++)P(T[i+1]);for(var n=0;n<=161;n++)P(j[n]);P(1);for(var o=0;o<16;o++)P(M[o+1]);for(var r=0;r<=11;r++)P(z[r]);P(17);for(var a=0;a<16;a++)P(E[a+1]);for(var s=0;s<=161;s++)P(I[s])}(),R(65498),R(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var s=0,d=0,f=0;v=0,b=7,this.encode.displayName="_encode_";for(var p,m,_,S,D,N,B,q,V,H=t.data,U=t.width,W=t.height,G=4*U,Q=0;Q<W;){for(p=0;p<G;){for(N=D=G*Q+p,B=-1,q=0,V=0;V<64;V++)N=D+(q=V>>3)*G+(B=4*(7&V)),Q+q>=W&&(N-=G*(Q+1+q-W)),p+B>=G&&(N-=p+B-G+4),m=H[N++],_=H[N++],S=H[N++],k[V]=(x[m]+x[_+256>>0]+x[S+512>>0]>>16)-128,y[V]=(x[m+768>>0]+x[_+1024>>0]+x[S+1280>>0]>>16)-128,w[V]=(x[m+1280>>0]+x[_+1536>>0]+x[S+1792>>0]>>16)-128;s=L(k,u,s,i,o),d=L(y,h,d,n,r),f=L(w,h,f,n,r),p+=32}Q+=8}if(b>=0){var Y=[];Y[1]=b+1,Y[0]=(1<<b+1)-1,O(Y)}R(65497);var K="",Z=new Uint8Array(g);g=e;for(var X=0,J=Z.byteLength;X<J;X++)K+=String.fromCharCode(Z[X]);return Z=e,"data:image/jpeg;base64,"+window.btoa(K)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}(),i=D(C,A),n=D(M,z),o=D(T,j),r=D(E,I),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)f[32767+n]=i,d[32767+n]=[],d[32767+n][1]=i,d[32767+n][0]=n;for(var o=-(e-1);o<=-t;o++)f[32767+o]=i,d[32767+o]=[],d[32767+o][1]=i,d[32767+o][0]=e-1+o;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),F(t),(new Date).getTime()}function a(i){var n=[137,80,78,71,13,10,26,10],o=1229472850,r=1229278788,a=1229209940;function s(t,e,i){t[i]=e>>>24,t[i+1]=e>>>16,t[i+2]=e>>>8,t[i+3]=e>>>0}function l(t,e,i,n,o){n=void 0===n||null===n?t.length:n,o=void 0===o||null===o?0:o,e.set(t.subarray(o,o+n),i)}function c(t,e){var i=e&&e.length||0,n=new Uint8Array(i+12);s(n,i,0),s(n,t,4),null!==e&&l(e,n,8);var o=n.slice(4,n.length-4);return s(n,function(t,e,i,n){var o=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}(),r=n+i;t^=-1;for(var a=n;a<r;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0,o,o.length,0),n.length-4),n}this.encode=function(i,u){var h=(u=u||{})&&u.colorType||6,d=[];d.push(new Uint8Array(n)),d.push(function(t,e,i){var n=new Uint8Array(13);return s(n,t,0),s(n,e,4),n[8]=8,n[9]=i,n[10]=0,n[11]=0,n[12]=0,c(o,n)}(i.width,i.height,h));var f=function(t){for(var e=t.data,i=t.height,n=4*t.width,o=new Uint8Array((n+1)*i),r=0,a=0,s=0;s<i;s++)o[r]=0,l(e,o,r+1,n,a),r+=n+1,a+=n;return o}(i),p=t.deflate(f,Object.assign({level:6,windowBits:15,chunkSize:32768,strategy:3},u));d.push(function(t){return c(a,t)}(p)),d.push(c(r,null));for(var m=d.reduce(function(t,e){return e.length+t},0),g=0,v=d.reduce(function(t,e){return t.set(e,g),g+=e.length,t},new Uint8Array(m)),b="",k=0,y=v.byteLength;k<y;k++)b+=String.fromCharCode(v[k]);return v=e,"data:image/png;base64,"+window.btoa(b)}}o.image=o.image||{},$.ajaxPrefilter("arraybuffer",function(t){t.xhrFields={responseType:"arraybuffer"},t.responseFields.arraybuffer="response",t.converters["binary arraybuffer"]=!0}),o.image.inflate=function(t){return n.debug({method:"kidoju.image.inflate",message:"Inflating with pako",data:t}),window.pako.inflate(t)},o.image.response2DataUri=function(t,e){for(var i="",n=new window.Uint8Array(t),o=0,r=n.byteLength;o<r;o++)i+=String.fromCharCode(n[o]);return"data:"+e+";base64,"+window.btoa(i)},o.image.dataUri2Blob=function(t){i.type("string",t,i.format(i.messages.type.default,"dataUri","string"));for(var e=t.split(";base64,"),n=e[0].substr(5),o=window.atob(e[1]),r=new window.Uint8Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);return new Blob([r.buffer],{type:n})},o.image.getDataUriAndSize=function(t){i.type("string",t,i.format(i.messages.type.default,"source","string"));var e=$.Deferred(),n=$("<img />").attr("crossOrigin","Anonymous").css({position:"absolute",top:0,left:-1e4}).appendTo("body").on("load",function(){var t=document.createElement("canvas");t.height=n.height(),t.width=n.width(),t.getContext("2d").drawImage(n.get(0),0,0);var i=t.toDataURL("image/png");n.off().remove(),e.resolve({dataUri:i,height:t.height,width:t.width})}).on("error",function(t){n.off().remove(),e.reject(t)}).attr("src",t);return e.promise()},o.image.getImageData=function(t){i.type("string",t,i.format(i.messages.type.default,"source","string"));var e=$.Deferred(),n=$("<img />").attr("crossOrigin","Anonymous").css({position:"absolute",top:0,left:-1e4}).appendTo("body").on("load",function(){var t=document.createElement("canvas");t.height=n.height(),t.width=n.width();var i=t.getContext("2d");i.drawImage(n.get(0),0,0);var o=i.getImageData(0,0,t.width,t.height);n.off().remove(),e.resolve(o)}).on("error",function(t){n.off().remove(),e.reject(t)}).attr("src",t);return e.promise()},o.image.jpegEncode=function(t,e){return n.debug({method:"kidoju.image.jpegEncode",message:"Encoding as jpeg",data:{quality:e}}),new r(e).encode(t)},o.image.pngEncode=function(t,e){return n.debug({method:"kidoju.image.pngEncode",message:"Encoding as png",data:{options:e}}),new a(e).encode(t)}}(),window.kidoju})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){t.exports=!i(14)&&!i(7)(function(){return 7!=Object.defineProperty(i(86)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(8),o=i(15),r=i(48),a=i(88),s=i(13).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,i){var n=i(25),o=i(27),r=i(70)(!1),a=i(89)("IE_PROTO");t.exports=function(t,e){var i,s=o(t),l=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~r(c,i)||c.push(i));return c}},function(t,e,i){var n=i(13),o=i(10),r=i(49);t.exports=i(14)?Object.defineProperties:function(t,e){o(t);for(var i,a=r(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(27),o=i(52).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(n(t))}},function(t,e,i){"use strict";var n=i(49),o=i(71),r=i(66),a=i(28),s=i(65),l=Object.assign;t.exports=!l||i(7)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=a(t),l=arguments.length,c=1,u=o.f,h=r.f;l>c;)for(var d,f=s(arguments[c++]),p=u?n(f).concat(u(f)):n(f),m=p.length,g=0;m>g;)h.call(f,d=p[g++])&&(i[d]=f[d]);return i}:l},function(t,e,i){"use strict";var n=i(35),o=i(9),r=i(130),a=[].slice,s={};t.exports=Function.bind||function(t){var e=n(this),i=a.call(arguments,1),l=function(){var n=i.concat(a.call(arguments));return this instanceof l?function(t,e,i){if(!(e in s)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,i)}(e,n.length,n):r(e,n,t)};return o(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(8).parseInt,o=i(73).trim,r=i(94),a=/^[-+]?0[xX]/;t.exports=8!==n(r+"08")||22!==n(r+"0x16")?function(t,e){var i=o(String(t),3);return n(i,e>>>0||(a.test(i)?16:10))}:n},function(t,e,i){var n=i(8).parseFloat,o=i(73).trim;t.exports=1/n(i(94)+"-0")!=-1/0?function(t){var e=o(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(36);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(9),o=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var n=i(38),o=i(37);t.exports=function(t){return function(e,i){var r,a,s=String(o(e)),l=n(i),c=s.length;return l<0||l>=c?t?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):r:t?s.slice(l,l+2):a-56320+(r-55296<<10)+65536}}},function(t,e,i){"use strict";var n=i(51),o=i(46),r=i(54),a={};i(26)(a,i(12)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var n=i(10);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&n(r.call(t)),e}}},function(t,e,i){var n=i(35),o=i(28),r=i(65),a=i(16);t.exports=function(t,e,i,s,l){n(e);var c=o(t),u=r(c),h=a(c.length),d=l?h-1:0,f=l?-1:1;if(i<2)for(;;){if(d in u){s=u[d],d+=f;break}if(d+=f,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=f)d in u&&(s=e(s,u[d],d,c));return s}},function(t,e,i){"use strict";var n=i(28),o=i(50),r=i(16);t.exports=[].copyWithin||function(t,e){var i=n(this),a=r(i.length),s=o(t,a),l=o(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:o(c,a))-l,a-s),h=1;for(l<s&&s<l+u&&(h=-1,l+=u-1,s+=u-1);u-- >0;)l in i?i[s]=i[l]:delete i[s],s+=h,l+=h;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){i(14)&&"g"!=/./g.flags&&i(13).f(RegExp.prototype,"flags",{configurable:!0,get:i(108)})},function(t,e,i){"use strict";var n,o,r,a,s=i(48),l=i(8),c=i(34),u=i(72),h=i(2),d=i(9),f=i(35),p=i(58),m=i(76),g=i(77),v=i(109).set,b=i(293)(),k=i(144),y=i(294),w=i(78),_=i(145),x=l.TypeError,S=l.process,C=S&&S.versions,A=C&&C.v8||"",T=l.Promise,j="process"==u(S),M=function(){},z=o=k.f,E=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[i(12)("species")]=function(t){t(M,M)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==A.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var i=t._c;b(function(){for(var n=t._v,o=1==t._s,r=0,a=function(e){var i,r,a,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(o||(2==t._h&&R(t),t._h=1),!0===s?i=n:(u&&u.enter(),i=s(n),u&&(u.exit(),a=!0)),i===e.promise?c(x("Promise-chain cycle")):(r=I(i))?r.call(i,l,c):l(i)):c(n)}catch(t){u&&!a&&u.exit(),c(t)}};i.length>r;)a(i[r++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){v.call(l,function(){var e,i,n,o=t._v,r=P(t);if(r&&(e=y(function(){j?S.emit("unhandledRejection",o,t):(i=l.onunhandledrejection)?i({promise:t,reason:o}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=j||P(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,function(){var e;j?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},F=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw x("Promise can't be resolved itself");(e=I(t))?b(function(){var n={_w:i,_d:!1};try{e.call(t,c(F,n,1),c(L,n,1))}catch(t){L.call(n,t)}}):(i._v=t,i._s=1,D(i,!1))}catch(t){L.call({_w:i,_d:!1},t)}}};E||(T=function(t){p(this,T,"Promise","_h"),f(t),n.call(this);try{t(c(F,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(59)(T.prototype,{then:function(t,e){var i=z(g(this,T));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=j?S.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&D(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n;this.promise=t,this.resolve=c(F,t,1),this.reject=c(L,t,1)},k.f=z=function(t){return t===T||t===a?new r(t):o(t)}),h(h.G+h.W+h.F*!E,{Promise:T}),i(54)(T,"Promise"),i(57)("Promise"),a=i(15).Promise,h(h.S+h.F*!E,"Promise",{reject:function(t){var e=z(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!E),"Promise",{resolve:function(t){return _(s&&this===a?T:this,t)}}),h(h.S+h.F*!(E&&i(74)(function(t){T.all(t).catch(M)})),"Promise",{all:function(t){var e=this,i=z(e),n=i.resolve,o=i.reject,r=y(function(){var i=[],r=0,a=1;m(t,!1,function(t){var s=r++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--a||n(i))},o)}),--a||n(i)});return r.e&&o(r.v),i.promise},race:function(t){var e=this,i=z(e),n=i.reject,o=y(function(){m(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return o.e&&n(o.v),i.promise}})},function(t,e,i){"use strict";var n=i(35);t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=n(e),this.reject=n(i)}(t)}},function(t,e,i){var n=i(10),o=i(9),r=i(144);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var i=r.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var n=i(13).f,o=i(51),r=i(59),a=i(34),s=i(58),l=i(76),c=i(99),u=i(141),h=i(57),d=i(14),f=i(42).fastKey,p=i(60),m=d?"_s":"size",g=function(t,e){var i,n=f(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t(function(t,n){s(t,u,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=n&&l(n,i,t[c],t)});return r(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=p(this,e),n=g(i,t);if(n){var o=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),i._f==n&&(i._f=o),i._l==n&&(i._l=r),i[m]--}return!!n},forEach:function(t){p(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!g(p(this,e),t)}}),d&&n(u.prototype,"size",{get:function(){return p(this,e)[m]}}),u},def:function(t,e,i){var n,o,r=g(t,e);return r?r.v=i:(t._l=r={i:o=f(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[m]++,"F"!==o&&(t._i[o]=r)),t},getEntry:g,setStrong:function(t,e,i){c(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},i?"entries":"values",!i,!0),h(e)}}},function(t,e,i){"use strict";var n=i(59),o=i(42).getWeak,r=i(10),a=i(9),s=i(58),l=i(76),c=i(33),u=i(25),h=i(60),d=c(5),f=c(6),p=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return d(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,r){var c=t(function(t,n){s(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=n&&l(n,i,t[r],t)});return n(c.prototype,{delete:function(t){if(!a(t))return!1;var i=o(t);return!0===i?m(h(this,e)).delete(t):i&&u(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=o(t);return!0===i?m(h(this,e)).has(t):i&&u(i,this._i)}}),c},def:function(t,e,i){var n=o(r(e),!0);return!0===n?m(t).set(e,i):n[t._i]=i,t},ufstore:m}},function(t,e,i){var n=i(38),o=i(16);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=o(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(52),o=i(71),r=i(10),a=i(8).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(r(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(16),o=i(96),r=i(37);t.exports=function(t,e,i,a){var s=String(r(t)),l=s.length,c=void 0===i?" ":String(i),u=n(e);if(u<=l||""==c)return s;var h=u-l,d=o.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),a?d+s:s+d}},function(t,e,i){var n=i(49),o=i(27),r=i(66).f;t.exports=function(t){return function(e){for(var i,a=o(e),s=n(a),l=s.length,c=0,u=[];l>c;)r.call(a,i=s[c++])&&u.push(t?[i,a[i]]:a[i]);return u}}},function(t,e,i){t.exports=i.p+"06c0e4eee47149717c20a979ffb49b61.eot"},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(445),i(1),i(6)],void 0===(r="function"==typeof(n=function(t){var e=t||window.localforage,i=window.pongodb=window.pongodb||{};return function(t,n){var o=window.assert,r=new window.Logger("app.db"),a="object",s="string",l="000000",c=/^[0-9a-f]{24}$/,u={INSERT:"insert",UPDATE:"update",REMOVE:"remove"};i.util={escapeRegExp:function(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")},compareVersions:function(e,i){var n=t.type(e)===a?e._version:e,o=t.type(i)===a?i._version:i;n="v"===n.charAt(0)?n.substr(1):n,o="v"===o.charAt(0)?o.substr(1):o;for(var r=n.split("."),s=o.split("."),l=0;l<3;l++){var c=parseInt(r[l],10),u=parseInt(s[l],10);if(c>u)return 1;if(u>c)return-1;if(!isNaN(c)&&isNaN(u))return 1;if(isNaN(c)&&!isNaN(u))return-1}return 0},match:function(e,n,r){o.typeOrUndef(a,e,o.format(o.messages.typeOrUndef.default,"query",a)),o.type(a,n,o.format(o.messages.type.default,"doc",a));var s=!0;if(t.type(e)===a)for(var l in e){if(l&&e.hasOwnProperty(l)){for(var c=l.split("."),u=n;c.length>0;)u=u&&u[c[0]],c.shift();var h=e[l];if(h instanceof RegExp)s=s&&h.test(u);else if(t.type(h)===a)for(var d in h){if(h.hasOwnProperty(d))switch(d){case"$eq":s=s&&u===h[d];break;case"$gt":s=s&&u>h[d];break;case"$gte":s=s&&u>=h[d];break;case"$lt":s=s&&u<h[d];break;case"$lte":s=s&&u<=h[d];break;case"$ne":s=s&&u!==h[d];break;case"$regex":s=s&&h[d].test(u);break;case"$search":s=s&&i.util.search(h[d],n,r)}if(!s)break}else s=s&&u===h}if(!s)break}return s},search:function(e,n,r){if(o.type(s,e,o.format(o.messages.type.default,"str",s)),o.isPlainObject(n,o.format(o.messages.isPlainObject.default,"doc")),o.isArray(r,o.format(o.messages.isArray.default,"textFields")),e.length<1)return!0;for(var a=!1,l=0,c=r.length;l<c;l++){for(var u=r[l].split("."),h=n;u.length>0;)h=h&&h[u[0]],u.shift();if(Array.isArray(h))for(var d=0,f=h.length;d<f&&!(a=a||new RegExp(i.util.escapeRegExp(e),"i").test(h[d]));d++);else t.type(h)===s&&(a=a||new RegExp(i.util.escapeRegExp(e),"i").test(h));if(a)break}return a},convertFilter:function(e){o.equal("and",e.logic,o.format(o.messages.equal.default,"filter.logic","and")),o.isArray(e.filters,o.format(o.messages.isArray.default,"assert.messages.equal.default","filter.filters"));for(var i={},n=0,r=e.filters.length;n<r;n++){var a=e.filters[n],l={};if("$text"===a.field&&"eq"===a.operator&&"undefined"!==t.type(a.value))l.$text={$search:a.value};else if(t.type(a.field)===s&&"undefined"!==t.type(a.value))switch(a.operator){case"eq":l[a.field]={$eq:a.value};break;case"neq":l[a.field]={$ne:a.value};break;case"lt":l[a.field]={$lt:a.value};break;case"lte":l[a.field]={$lte:a.value};break;case"gt":l[a.field]={$gt:a.value};break;case"gte":l[a.field]={$gte:a.value};break;case"flags":l[a.field]={$bitsAnySet:a.value};break;case"startswith":l[a.field]={$regex:"^"+a.value,$options:"i"};break;case"endswith":l[a.field]={$regex:a.value+"$",$options:"i"};break;case"contains":l[a.field]={$regex:a.value,$options:"i"};break;case"doesnotcontain":l[a.field]={$regex:"^((?!"+a.value+").)*$",$options:"i"}}t.extend(i,l)}return i},convertSort:function(e){var i;if("undefined"===t.type(e)||t.isEmptyObject(e)||Array.isArray(e)&&0===e.length)return i;t.isPlainObject(e)&&t.type(e.field)===s&&t.type(e.dir)===s&&(e=[e]),o.isArray(e,o.format(o.messages.isArray.default,e));for(var n=0,r=e.length;n<r;n++)t.type(e.field)===s&&t.type(e.dir)===s&&((i=i||{})[field]="asc"===e.dir?1:-1);return i}};var h=i.ObjectId=function(e){o.ok("undefined"===t.type(e)||c.test(e),"`id` is expected to be an hexadecimal string with a length of 24 characters or undefined"),this._id=e||((new Date).getTime()/1e3|0).toString(16)+l+"xxxxxxxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)}).toLowerCase()};h.prototype.toMobileId=function(){return this._id.substr(0,8)+l+this._id.substr(8+l.length)},h.prototype.isMobileId=function(){return this._id.substr(8,l.length)===l},h.prototype.getTimestamp=function(){return new Date(1e3*parseInt(this._id.substr(0,8),16))},h.prototype.toString=function(){return this._id};var d=i.Collection=function(t){o.isPlainObject(t,o.format(o.messages.isPlainObject.default,"options")),o.instanceof(p,t.db,o.format(o.messages.instanceof.default,"options.db","pongodb.Database")),o.type(s,t.name,o.format(o.messages.isPlainObject.default,"options.name",s)),this._db=t.db,this._name=t.name,this._localForage=e.createInstance({name:this._db._name,storeName:t.name}),this._textFields=[],this._triggers={insert:[],remove:[],update:[]}};d.prototype.name=function(){return this._name},d.prototype.find=function(e,n,r){o.typeOrUndef(a,e,o.format(o.messages.typeOrUndef.default,"query",a));var l=this,c=l._db._idField,u=t.Deferred();return t.type(e)===a&&t.type(e[c])===s?l._localForage.getItem(e[c],function(t,n){t?u.reject(t):n?(i.util.match(e,n,l._textFields)||(n=null),u.resolve(n?[n]:[])):u.resolve([])}):l._localForage.length(function(t,n){if(t)u.reject(t);else if(n){var o=[];l._localForage.iterate(function(t,a,s){if(i.util.match(e,t,l._textFields)&&o.push(t),r)return t;u.notify({index:s-1,total:n})},function(t){t?u.reject(t):u.resolve(o)})}else u.resolve([])}),u.promise()},d.prototype.findOne=function(e,i){var n=t.Deferred();return this.find(e,i,!0).done(function(t){o.isArray(t,o.format(o.messages.isArray.default,"results")),t.length?n.resolve(t[0]):n.reject(new Error("Not found"))}).fail(n.reject),n.promise()},d.prototype.count=function(e){o.typeOrUndef(a,e,o.format(o.messages.typeOrUndef.default,"query",a));var n=this,r=n._db._idField,l=0,c=t.Deferred();return t.type(e)===a&&t.type(e[r])===s?n._localForage.getItem(e[r],function(t,o){t?c.reject(t):o?(i.util.match(e,o,n._textFields)&&l++,c.resolve(l)):c.resolve(l)}):n._localForage.length(function(t,o){t?c.reject(t):o?n._localForage.iterate(function(t,r,a){i.util.match(e,t,n._textFields)&&l++,c.notify({index:a-1,total:o})},function(t){t?c.reject(t):c.resolve(l)}):c.resolve(l)}),c.promise()},d.prototype.insert=function(e){o.type(a,e,o.format(o.messages.type.default,"doc",a));var i=this,n=i._db._idField,r=t.Deferred();return e[n]?i._localForage.getItem(e[n],function(o,a){o?r.reject(o):a?r.reject(new Error("Duplicate "+n+" `"+e[n]+"`")):i._localForage.setItem(e[n],e,function(e,n){e?r.reject(e):t.when.apply(i,i.triggers(u.INSERT,n)).done(function(){r.resolve(n)}).fail(r.reject)})}):(e[n]=(new h).toString(),i._localForage.setItem(e[n],e,function(e,n){e?r.reject(e):t.when.apply(i,i.triggers(u.INSERT,n)).done(function(){r.resolve(n)}).fail(r.reject)})),r.promise()},d.prototype.update=function(e,n,r){o.typeOrUndef(a,e,o.format(o.messages.typeOrUndef.default,"query",a)),o.type(a,n,o.format(o.messages.type.default,"doc",a));var l=this,h=l._db._idField,d=!(!r||!r.upsert),f=t.Deferred();return"undefined"!==t.type(n[h])&&n[h]!==e[h]?f.reject(new Error("Cannot update "+h)):t.type(e)===a&&c.test(e[h])?l._localForage.getItem(e[h],function(o,r){o?f.reject(o):r?i.util.match(e,r,l._textFields)?l._localForage.setItem(r[h],t.extend(!0,r,n),function(e,i){e?f.reject(e):t.when.apply(l,l.triggers(u.UPDATE,i)).done(function(){f.resolve({nMatched:1,nUpserted:0,nModified:1})}).fail(f.reject)}):f.resolve({nMatched:0,nUpserted:0,nModified:0}):d&&t.type(e[h])===s?l._localForage.setItem(e[h],t.extend(!0,n,e),function(e,i){e?f.reject(e):t.when.apply(l,l.triggers(u.UPDATE,i)).done(function(){f.resolve({nMatched:1,nUpserted:1,nModified:0})}).fail(f.reject)}):f.resolve({nMatched:0,nUpserted:0,nModified:0})}):l._localForage.length(function(o,r){if(o)f.reject(o);else if(r){var a=[];l._localForage.iterate(function(o,s,c){i.util.match(e,o,l._textFields)&&a.push(function(e){var i=t.Deferred();return l._localForage.setItem(e[h],t.extend(!0,e,n),function(e){e?i.reject(e):t.when.apply(l,l.triggers(u.UPDATE,n)).done(i.resolve).fail(i.reject)}),i.promise()}(o)),f.notify({index:c-1,total:r})},function(e){e?f.reject(e):t.when.apply(l,a).done(function(){f.notify({index:r-1,total:r}),f.resolve({nMatched:r,nUpserted:0,nModified:a.length})}).fail(f.reject)})}else f.resolve({nMatched:0,nUpserted:0,nModified:0})}),f.promise()},d.prototype.remove=function(e){o.type(a,e,o.format(o.messages.type.default,"query",a));var n=this,r=n._db._idField,l=t.Deferred();return t.type(e)===a&&t.type(e[r])===s?n._localForage.getItem(e[r],function(i,o){i?l.reject(i):o?n._localForage.removeItem(e[r],function(e,i){e?l.reject(e):t.when.apply(n,n.triggers(u.REMOVE,i)).done(function(){l.resolve({nRemoved:1})}).fail(l.reject)}):l.resolve({nRemoved:0})}):n._localForage.length(function(o,a){if(o)l.reject(o);else if(a){var s={};n._localForage.iterate(function(o,c,h){i.util.match(e,o,n._textFields)&&(s[c]=t.Deferred(),n._localForage.removeItem(o[r],function(e){if(e)return s[c].reject(e);t.when.apply(n,n.triggers(u.REMOVE,o)).done(function(){s[c].resolve()}).fail(s[c].reject)})),l.notify({index:h-1,total:a})},function(e){e&&l.reject(e);var i=Object.keys(s).length,o=[];for(var r in s)s.hasOwnProperty(r)&&o.push(s[r].promise());t.when.apply(n,o).done(function(){l.resolve({nRemoved:i})}).fail(l.reject)})}else l.resolve({nRemoved:0})}),l.promise()},d.prototype.triggers=function(t,e){for(var i=[],n=this._triggers[t],o=0,r=n.length;o<r;o++)i.push(n[o](e));return i},d.prototype.clear=function(){var e=t.Deferred();return this._localForage.clear(function(t){t?e.reject(t):e.resolve()}),e.promise()},d.prototype.drop=function(){throw new Error("Not yet implemented")};var f=i.Upgrade=function(t){this._db=t.db,this._migrations=[]};f.prototype.push=function(t){t._db=this._db,this._migrations.push(t)},f.prototype.execute=function(){var e=this,n=t.Deferred();return e._db.version().done(function(t){for(var o=e._migrations.sort(i.util.compareVersions),a=!1,s=0,l=o.length;s<l;s++){var c=o[s];if(i.util.compareVersions(t,c._version)<0){a=!0,r.info({method:"pongodb.Upgrade.execute",message:"Starting migration",data:{version:c._version}}),c.execute().progress(n.notify).done(function(){e._db.version(c._version).done(function(){r.info({method:"pongodb.Upgrade.execute",message:"Completed migration",data:{version:c._version}}),e.execute().progress(n.notify).done(n.resolve).fail(n.reject)}).fail(n.reject)}).fail(n.reject);break}}a||n.resolve()}).fail(n.reject),n.promise()},(i.Migration=function(t){this._db=null,this._scripts=t.scripts||[],this._version=t.version||"0.0.1"}).prototype.execute=function(){var e=t.Deferred(),i=this._scripts,n=[];if(this._db instanceof p)for(var o=0;o<i.length;o++)n.push(i[o](this._db).progress(e.notify));return t.when.apply(this,n).done(e.resolve).fail(e.reject),e.promise()};var p=i.Database=function(t){o.isPlainObject(t,o.format(o.messages.isPlainObject.default,"options")),o.type(s,t.name,o.format(o.messages.isPlainObject.default,"options.name",s)),o.hasLength(t.name,o.format(o.messages.hasLength.default,"options.name")),t.collections=t.collections||[],o.isArray(t.collections,o.format(o.messages.isArray.default,"db","options.collections")),this._idField=t.idField||"id",this._name=t.name||"pongodb",t.storeName="__meta__",e.config(t);for(var i=t.collections,n=0,r=i.length;n<r;n++)this[i[n]]=new d({db:this,name:i[n]});this.upgrade=new f({db:this})};p.prototype.name=function(){return this._name},p.prototype.version=function(i){var n=t.Deferred();return"undefined"===t.type(i)?e.getItem("version",function(e,i){e?n.reject(e):t.type(i)===s?n.resolve(i):n.resolve("0.0.0")}):e.setItem("version",i,function(t,e){t?n.reject(t):n.resolve(e)}),n.promise()},p.prototype.createCollection=function(t,e){throw new Error("Instantiate a new Database object and pass an array of collection names to the constructor.")},p.prototype.addFullTextIndex=function(t,e){o.type(s,t,o.format(o.messages.type.default,"collection",s)),o.instanceof(d,this[t],o.format(o.messages.instanceof.default,"this[collection]","Collection")),o.isArray(e,o.format(o.messages.isArray.default,"textFields")),this[t]._textFields=e},p.prototype.createTrigger=function(e,i,n){t.type(i)===s&&(i=[i]),o.type(s,e,o.format(o.messages.type.default,"collection",s)),o.instanceof(d,this[e],o.format(o.messages.instanceof.default,"this[collection]","Collection")),o.isArray(i,o.format(o.messages.isArray.default,"events")),o.isFunction(n,o.format(o.messages.isFunction.default,"callback"));for(var r=0,a=i.length;r<a;r++){var l=i[r].toLowerCase();[u.INSERT,u.UPDATE,u.REMOVE].indexOf(l)>-1&&this[e]._triggers[l].push(n)}},p.prototype.dropDatabase=function(){throw new Error("Not yet implemented")}}(window.jQuery),i})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n;!function(o){"use strict";function r(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function a(t,e,i,n,o,a){return r(function(t,e){return t<<e|t>>>32-e}(r(r(e,t),r(n,a)),o),i)}function s(t,e,i,n,o,r,s){return a(e&i|~e&n,t,e,o,r,s)}function l(t,e,i,n,o,r,s){return a(e&n|i&~n,t,e,o,r,s)}function c(t,e,i,n,o,r,s){return a(e^i^n,t,e,o,r,s)}function u(t,e,i,n,o,r,s){return a(i^(e|~n),t,e,o,r,s)}function h(t,e){var i,n,o,a,h;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var d=1732584193,f=-271733879,p=-1732584194,m=271733878;for(i=0;i<t.length;i+=16)n=d,o=f,a=p,h=m,f=u(f=u(f=u(f=u(f=c(f=c(f=c(f=c(f=l(f=l(f=l(f=l(f=s(f=s(f=s(f=s(f,p=s(p,m=s(m,d=s(d,f,p,m,t[i],7,-680876936),f,p,t[i+1],12,-389564586),d,f,t[i+2],17,606105819),m,d,t[i+3],22,-1044525330),p=s(p,m=s(m,d=s(d,f,p,m,t[i+4],7,-176418897),f,p,t[i+5],12,1200080426),d,f,t[i+6],17,-1473231341),m,d,t[i+7],22,-45705983),p=s(p,m=s(m,d=s(d,f,p,m,t[i+8],7,1770035416),f,p,t[i+9],12,-1958414417),d,f,t[i+10],17,-42063),m,d,t[i+11],22,-1990404162),p=s(p,m=s(m,d=s(d,f,p,m,t[i+12],7,1804603682),f,p,t[i+13],12,-40341101),d,f,t[i+14],17,-1502002290),m,d,t[i+15],22,1236535329),p=l(p,m=l(m,d=l(d,f,p,m,t[i+1],5,-165796510),f,p,t[i+6],9,-1069501632),d,f,t[i+11],14,643717713),m,d,t[i],20,-373897302),p=l(p,m=l(m,d=l(d,f,p,m,t[i+5],5,-701558691),f,p,t[i+10],9,38016083),d,f,t[i+15],14,-660478335),m,d,t[i+4],20,-405537848),p=l(p,m=l(m,d=l(d,f,p,m,t[i+9],5,568446438),f,p,t[i+14],9,-1019803690),d,f,t[i+3],14,-187363961),m,d,t[i+8],20,1163531501),p=l(p,m=l(m,d=l(d,f,p,m,t[i+13],5,-1444681467),f,p,t[i+2],9,-51403784),d,f,t[i+7],14,1735328473),m,d,t[i+12],20,-1926607734),p=c(p,m=c(m,d=c(d,f,p,m,t[i+5],4,-378558),f,p,t[i+8],11,-2022574463),d,f,t[i+11],16,1839030562),m,d,t[i+14],23,-35309556),p=c(p,m=c(m,d=c(d,f,p,m,t[i+1],4,-1530992060),f,p,t[i+4],11,1272893353),d,f,t[i+7],16,-155497632),m,d,t[i+10],23,-1094730640),p=c(p,m=c(m,d=c(d,f,p,m,t[i+13],4,681279174),f,p,t[i],11,-358537222),d,f,t[i+3],16,-722521979),m,d,t[i+6],23,76029189),p=c(p,m=c(m,d=c(d,f,p,m,t[i+9],4,-640364487),f,p,t[i+12],11,-421815835),d,f,t[i+15],16,530742520),m,d,t[i+2],23,-995338651),p=u(p,m=u(m,d=u(d,f,p,m,t[i],6,-198630844),f,p,t[i+7],10,1126891415),d,f,t[i+14],15,-1416354905),m,d,t[i+5],21,-57434055),p=u(p,m=u(m,d=u(d,f,p,m,t[i+12],6,1700485571),f,p,t[i+3],10,-1894986606),d,f,t[i+10],15,-1051523),m,d,t[i+1],21,-2054922799),p=u(p,m=u(m,d=u(d,f,p,m,t[i+8],6,1873313359),f,p,t[i+15],10,-30611744),d,f,t[i+6],15,-1560198380),m,d,t[i+13],21,1309151649),p=u(p,m=u(m,d=u(d,f,p,m,t[i+4],6,-145523070),f,p,t[i+11],10,-1120210379),d,f,t[i+2],15,718787259),m,d,t[i+9],21,-343485551),d=r(d,n),f=r(f,o),p=r(p,a),m=r(m,h);return[d,f,p,m]}function d(t){var e,i="",n=32*t.length;for(e=0;e<n;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function f(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function p(t){var e,i,n="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),n+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return n}function m(t){return unescape(encodeURIComponent(t))}function g(t){return function(t){return d(h(f(t),8*t.length))}(m(t))}function v(t,e){return function(t,e){var i,n,o=f(t),r=[],a=[];for(r[15]=a[15]=void 0,o.length>16&&(o=h(o,8*t.length)),i=0;i<16;i+=1)r[i]=909522486^o[i],a[i]=1549556828^o[i];return n=h(r.concat(f(e)),512+8*e.length),d(h(a.concat(n),640))}(m(t),m(e))}function b(t,e,i){return e?i?v(e,t):function(t,e){return p(v(t,e))}(e,t):i?g(t):function(t){return p(g(t))}(t)}void 0===(n=function(){return b}.call(e,i,e,t))||(t.exports=n)}()},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(43),i(81)],void 0===(r="function"==typeof(n=function(){var t=window.app=window.app||{};return function(e,i){var n=window.localStorage,o=window.sessionStorage,r=window.assert,a=new window.Logger("app.cache"),s=t.rapi,l=t.cache=t.cache||{},c=t.NOCACHE||!1,u=l.ME="me",h=new RegExp("(0{4})+$","g");l._setLocalItem=function(t,e,i){!c&&n?(n.setItem(t,JSON.stringify({ts:Date.now(),expires:i||86400,value:e})),a.debug({message:"value set in localStorage",method:"app.cache._setLocalItem",data:{name:t,value:e,expires:i}})):a.debug({message:"localStorage not supported or NOCACHE option set",method:"app.cache._setLocalItem"})},l._getLocalItem=function(t,e){if(!c&&n){var i=JSON.parse(n.getItem(t));return!i||!e&&i.ts&&i.expires&&i.ts+1e3*i.expires<Date.now()?(i&&a.debug({message:"value read from localStorage has expired",method:"app.cache._getLocalItem",data:{name:t}}),null):(a.debug({message:"value read from localStorage is still valid",method:"app.cache._getLocalItem",data:{name:t}}),i.value)}return a.debug({message:"localStorage not supported or NOCACHE option set",method:"app.cache._getLocalItem"}),null},l._removeLocalItem=function(t){if(n){t instanceof RegExp||(t=new RegExp(t));for(var e=0;e<n.length;e++){var i=n.key(e);t.test(i)&&(n.removeItem(i),a.debug({message:"value removed from localStorage",method:"app.cache._removeLocalItem",data:{rx:t,key:i}}))}}},l._setSessionItem=function(t,e,i){!c&&o?(o.setItem(t,JSON.stringify({ts:Date.now(),expires:i||300,value:e})),a.debug({message:"value set in sessionStorage",method:"app.cache._setSessionItem",data:{name:t,value:e,expires:i}})):a.debug({message:"sessionStorage not supported or NOCACHE option set",method:"app.cache._setSessionItem"})},l._getSessionItem=function(t,e){if(!c&&o){var i=JSON.parse(o.getItem(t));return!i||!e&&i.ts&&i.expires&&i.ts+1e3*i.expires<Date.now()?(i&&a.debug({message:"value read from sessionStorage has expired",method:"app.cache._getSessionItem",data:{name:t}}),null):(a.debug({message:"value read from sessionStorage is still valid",method:"app.cache._getSessionItem",data:{name:t}}),i.value)}return a.debug({message:"sessionStorage not supported or NOCACHE option set",method:"app.cache._getLocalItem"}),null},l._removeSessionItem=function(t){if(o){t instanceof RegExp||(t=new RegExp(t));for(var e=0;e<o.length;e++){var i=o.key(e);t.test(i)&&(o.removeItem(i),a.debug({message:"value removed from sessionStorage",method:"app.cache._removeSessionItem",data:{rx:t,key:i}}))}}},l.getMe=function(){var t=e.Deferred(),i=l._getSessionItem(u),n=s.util.getAccessToken();return(n&&i&&null===i.id||!n&&i&&"string"===e.type(i.id))&&(l.removeMe(),i=null),i?(a.debug({message:"me found in cache",method:"app.cache.getMe",data:{me:i}}),t.resolve(i)):s.v1.user.getMe({fields:"firstName lastName picture"}).done(function(e){l.removeMyFavourites(),l._setSessionItem(u,e),t.resolve(e)}).fail(function(e,i,n){if(401===e.status){var o={id:null};l.removeMyFavourites(),s.util.clearToken(),l._setSessionItem(u,o),t.resolve(o)}else t.reject(e,i,n)}),t.promise()},l.removeMe=function(){l._removeSessionItem("^"+u),l._removeSessionItem("^favourites.")},l._processCategories=function(t){r.isArray(t,r.format(r.messages.isArray.default,"categories")),t.length&&(t[0].path=t[0].path||[]);for(var e=0,i=t.length;e<i;e++)for(var n=t[e],o=n.id.replace(/0000/g,"ffff"),a=e+1;a<i;a++){var s=t[a];if(s.path=s.path||[],!(n.id<s.id&&s.id<=o))break;s.path.push({id:n.id,name:n.name}),n.count+=s.count}return t},l.getAllCategories=function(t){var i=e.Deferred(),n=l._getLocalItem("categories."+t);return e.isArray(n)?(a.debug({message:"categories found in cache",method:"app.cache.getAllCategories",data:{locale:t}}),i.resolve({total:n.length,data:n})):s.v1.taxonomy.getAllCategories(t).done(function(e){l._setLocalItem("categories."+t,l._processCategories(e.data)),i.resolve(e)}).fail(function(n,o,r){var a=l._getLocalItem("categories."+t,!0);e.isArray(a)?i.resolve({total:a.length,data:a}):i.reject(n,o,r)}),i.promise()},l.getCategoryHierarchy=function(t){var i=e.Deferred();return l.getAllCategories(t).done(function(t){var n={};e.each(t.data,function(t,e){var i={id:e.id,name:e.name,icon:e.icon,type:2,count:e.count||0},o=e.id,r=o.replace(h,""),a="root";r.length>=12&&(a=(r.substr(0,r.length-4)+"0000000000000000").substr(0,24)),n[o]=n[o]||[],n[a]=n[a]||[],i.items=n[o],n[a].push(i)}),i.resolve(n.root||[])}).fail(i.reject),i.promise()},l.getAllMyFavourites=function(t){var i,n=l._getSessionItem(u),o=l._getSessionItem("favourites."+t);return e.isArray(o)?(a.debug({message:"favourites found in cache",method:"app.cache.getAllMyFavourites",data:{locale:t}}),i=e.Deferred(),setTimeout(function(){i.resolve({total:o.length,data:o})},0),i.promise()):n&&null===n.id?(i=e.Deferred(),setTimeout(function(){i.resolve({total:0,data:[]})},0),i.promise()):s.v1.user.getAllMyFavourites(t).done(function(e){l._setSessionItem("favourites."+t,e.data)})},l.getFavouriteHierarchy=function(t){var i=e.Deferred();return l.getAllMyFavourites(t).done(function(t){var n=t.data;e.each(n,function(t,e){delete e.language,e.icon="star",e.type=3}),i.resolve(n)}).fail(function(t,e,n){t&&401===t.status?i.resolve([]):i.reject(t,e,n)}),i.promise()},l.removeMyFavourites=function(t){l._removeSessionItem("^favourites."+t)}}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(154),i(4),i(17),i(1),i(6),i(43),i(81),i(155),i(68),i(67)],void 0===(r="function"==typeof(n=function(t){var e=window.app=window.app||{};return t=t||window.md5,function(i,n){var o=window.kendo,r=window.kidoju,a=o.Class,s=r.data.Model,l=r.data.DataSource,c=r.data.Stream,u=o.data.Node,h=o.data.ObservableArray,d=o.data.HierarchicalDataSource,f=window.assert,p=new window.Logger("app.models"),m=e.rapi,g=e.models=e.models||{},v=e.i18n=e.i18n||{locale:function(){return"en"},culture:{dateFormat:"dd MMM yyyy",languages:[{value:"en",name:"English",icon:""},{value:"fr",name:"French",icon:""}],finder:{treeview:{rootNodes:{home:{text:"Home",icon:"home"},favourites:{text:"Favourites",icon:"star"},categories:{text:"Categories",icon:"folders2"}}}},versions:{draft:{name:"Draft"},published:{name:"Version {0}"}}}},b=e.uris=e.uris||{};b.cdn=b.cdn||{},b.cdn.icons=b.cdn.icons||"https://cdn.kidoju.com/images/o_collection/svg/office/{0}.svg",b.mobile=b.mobile||{},b.mobile.icons=b.mobile.icons||"./img/icons/{0}.svg",b.webapp=b.webapp||{},b.webapp.editor=b.webapp.editor||window.location.protocol+"//"+window.location.host+"/{0}/e/{1}/{2}",b.webapp.finder=b.webapp.finder||window.location.protocol+"//"+window.location.host+"/{0}",b.webapp.player=b.webapp.player||window.location.protocol+"//"+window.location.host+"/{0}/x/{1}/{2}",b.webapp.user=b.webapp.user||window.location.protocol+"//"+window.location.host+"/{0}/u/{1}",b.webapp.summary=b.webapp.summary||window.location.protocol+"//"+window.location.host+"/{0}/s/{1}";var k="string",y="number",w="date",_=/^[a-f0-9]{24}$/,x=0,S="0cc175b9c0f1b6a831c399e269772661",C=function(t,e){this.readyState=4,this.responseText=o.format('{"error":{"name":"ApplicationError","code":0,"status":{0},"message":"{1}"}}',t,e),this.status=t,this.statusText={400:"Bad Request",401:"Unauthorized",404:"Bad Request"}[t.toString()]};function A(t,e){if(i.isPlainObject(t)&&(i.isArray(e)||i.type(e)===k)){for(var n={},o=i.isArray(e)?e:e.split(/[\s,;]+/),r=0;r<o.length;r++)t.hasOwnProperty(o[r])&&(n[o[r]]=t[o[r]]);return n}return t}var T=g.BaseTransport=a.extend({init:function(t){t=t||{},this.idField=t.idField||"id",this.partition(t.partition),this.projection(t.projection),i.isFunction(t.parameterMap)&&(this.parameterMap=t.parameterMap.bind(this))},partition:function(t){if("undefined"===i.type(t))return this._partition;i.isPlainObject(t)?this._partition=t:this._partition=void 0},projection:function(t){if("undefined"===i.type(t))return this._projection;this._projection=t},_validate:function(t){var e,n=[],o=this.partition();for(var r in o)if(o.hasOwnProperty(r)){for(var a=t,s=r.split("."),l=0,c=s.length;l<c;l++)a=a[s[l]];if("undefined"!==i.type(o[r])&&o[r]!==a){var u=new Error("Invalid "+r);u.prop=r,n.push(u)}}return n.length&&((e=new Error("Bad request")).code=400,e.errors=n),e},parameterMap:function(t){return t}});g.LazyCategory=s.define({id:"id",fields:{id:{type:k,editable:!1},ageGroup:{type:y,editable:!1,parse:function(t){return window.parseInt(t,10)||255}},count:{type:y,editable:!1,parse:function(t){return window.parseInt(t,10)||0}},icon:{type:k,editable:!1},language:{type:k,editable:!1},name:{type:k,editable:!1},path:{defaultValue:[],editable:!1}},depth$:function(){return(this.get("path")||[]).length},icon$:function(){return o.format(window.cordova?b.mobile.icons:b.cdn.icons,this.get("icon"))},parentId$:function(){var t=this.get("path")||[];if(t.length)return t[t.length-1].id},filter$:function(){return i.param({filter:{logic:"and",filters:[{field:"categoryId",operator:"gte",value:this.get("id")},{field:"categoryId",operator:"lte",value:this.get("id").replace(/0000/g,"ffff")}]}})}}),g.LazyCategoryDataSource=l.extend({init:function(t){l.fn.init.call(this,i.extend(!0,{},{transport:{read:i.proxy(this._transport._read,this)},schema:{data:"data",total:"total",errors:"error",modelBase:g.LazyCategory,model:g.LazyCategory}},t))},_transport:{_read:function(t){p.debug({message:"dataSource.read",method:"app.models.LazyCategoryDataSource.transport.read"}),e.cache.getAllCategories(v.locale()).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}}),g.LazyCategoryHierarchicalDataSource=d.extend({init:function(t){d.fn.init.call(this,i.extend(!0,{},{transport:{read:i.proxy(this._transport._read,this)},schema:{modelBase:g.Rummage,model:g.Rummage}},t))},_transport:{_read:function(t){p.debug({message:"dataSource.read",method:"app.models.LazyCategoryHierarchicalDataSource.transport.read"}),e.cache.getCategoryHierarchy(v.locale()).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}}),g.Search=s.define({id:"userId",fields:{userId:{type:k,editable:!1,nullable:!0},ageGroup:{type:y,defaultValue:255},author:{type:k},categoryId:{type:k},favourite:{type:k},navbar:{type:k},saveChecked:{type:"boolean",defaultValue:!1},sort:{type:k,defaultValue:"d"},text:{type:k}},init:function(t){s.fn.init.call(this,t),this.bind("change",i.proxy(this._onChange,this))},isSavable$:function(){return _.test(this.get("userId"))&&(this.get("age")!==this.defaults.age||this.get("author")!==this.defaults.author||this.get("category")!==this.defaults.category||this.get("text")!==this.defaults.text)},_onChange:function(t){"saveChecked"!==t.field||this.get("saveChecked")?!this.isSavable$()&&this.get("saveChecked")&&this.set("saveChecked",this.defaults.saveChecked):this.set("favourite",this.defaults.favourite)},getHash:function(t){if(t){var e={filter:{logic:"and",filters:[]},sort:[]},n=this.get("ageGroup");i.type(n)===y&&n>0&&n<255&&e.filter.filters.push({field:"ageGroup",operator:"flags",value:n});var o=this.get("author");i.type(o)===k&&o.trim().length&&e.filter.filters.push({field:"author.lastName",operator:"startswith",value:o.trim()});var r=this.get("categoryId");_.test(r)&&e.filter.filters.push({field:"categoryId",operator:"eq",value:r});var a=this.get("text");i.type(a)===k&&a.trim().length&&e.filter.filters.push({field:"$text",operator:"eq",value:a.trim()});var s=e.filter.filters.length;if(0===s)return"#!";switch(1===s&&(e.filter=e.filter.filters[0]),this.get("sort")){case"d":e.sort=[{field:"updated",dir:"desc"}];break;case"r":e.sort=[{field:"metrics.ratings.average",dir:"desc"}];break;case"v":e.sort=[{field:"metrics.views.count",dir:"desc"}]}return"#!"+i.param(e)}var l=this.get("navbar").trim();return"#!"+(l?"q="+encodeURIComponent(l):"")},load:function(){var t=this;return e.cache.getMe().done(function(e){i.isPlainObject(e)&&_.test(e.id)?t.accept({userId:e.id}):t.accept({userId:null})})},reset:function(){this.set("ageGroup",this.defaults.ageGroup),this.set("author",this.defaults.author),this.set("categoryId",this.defaults.categoryId),this.set("favourite",this.defaults.favourite),this.set("navbar",this.defaults.navbar),this.set("saveChecked",this.defaults.saveChecked),this.set("sort",this.defaults.sort),this.set("text",this.defaults.text)},save:function(){f.match(_,this.userId,o.format(f.messages.match.default,"this.userId",_));var t=window.location.protocol+"//"+window.location.host,i=o.format(b.webapp.finder,v.locale());i=0===i.indexOf(t)?i.substr(t.length):i;var n={name:this.get("favourite").trim(),path:i+this.getHash(!0)};return e.cache.removeMyFavourites(v.locale()),m.v1.user.createMyFavourite(v.locale(),n)}}),g.Rummage=u.define({id:"id",hasChildren:!0,children:{schema:{data:"items"}},fields:{id:{type:k,editable:!1,nullable:!0},ageGroup:{type:y,editable:!1,parse:function(t){return window.parseInt(t,10)||255}},count:{type:y,editable:!1,parse:function(t){return window.parseInt(t,10)||0}},icon:{type:k,editable:!1},name:{type:k,editable:!1},path:{type:k,editable:!1},type:{type:y,editable:!1,defaultValue:2}},href$:function(){var t=window.location.protocol+"//"+window.location.host,e=o.format(b.webapp.finder,v.locale());switch(e=0===e.indexOf(t)?e.substr(t.length):e,this.get("type")){case 1:return e+"#!";case 2:return e+"#!"+i.param({filter:{logic:"and",filters:[{field:"categoryId",operator:"gte",value:this.get("id")},{field:"categoryId",operator:"lte",value:this.get("id").replace(/0000/g,"ffff")}]}});case 3:return this.get("path");default:return null}},icon$:function(){return o.format(window.cordova?b.mobile.icons:b.cdn.icons,this.get("icon"))},path$:function(){for(var t=[],e=this;i.isFunction(e.parent)&&e.parent()instanceof h&&i.isFunction(e.parent().parent)&&e.parent().parent()instanceof g.Rummage;)e=e.parent().parent(),t.push(e);return t.reverse()}}),g.Rummage.prototype.children.schema.model=g.Rummage,g.RummageHierarchicalDataSource=d.extend({init:function(t){d.fn.init.call(this,i.extend(!0,{},{transport:{read:i.proxy(this._transport._read,this),update:i.proxy(this._transport._update,this),destroy:i.proxy(this._transport._destroy,this)},schema:{model:g.Rummage,modelBase:g.Rummage}},t))},_transport:{_read:function(t){p.debug({message:"dataSource.read",method:"app.models.RummageHierarchicalDataSource.transport.read"}),i.when(e.cache.getFavouriteHierarchy(v.locale()),e.cache.getCategoryHierarchy(v.locale())).done(function(e,i){var n=v.culture.finder.treeview.rootNodes,o=[{id:"home",icon:n.home.icon,name:n.home.name,type:1},{id:"favourites",icon:n.favourites.icon,name:n.favourites.name,items:e,type:0},{id:"categories",icon:n.categories.icon,name:n.categories.name,items:i,type:0}];t.success(o)}).fail(function(e,i,n){t.error(e,i,n)})},_update:function(t){return t.success(t.data)},_destroy:function(t){return p.debug({message:"dataSource.destroy",method:"app.models.RummageHierarchicalDataSource.transport.destroy",data:t.data}),f.isPlainObject(t.data,o.format(f.messages.isPlainObject.default,"options.data")),f.match(_,t.data.id,o.format(f.messages.match.default,"options.data.id",_)),e.rapi.v1.user.deleteMyFavourite(v.locale(),t.data.id).done(function(){e.cache.removeMyFavourites(v.locale()).always(function(){t.success(t.data)})}).fail(t.error)}}}),g.CountReference=s.define({fields:{count:{type:y,defaultValue:0,editable:!1,serializable:!1}}}),g.AverageReference=s.define({fields:{average:{type:y,editable:!1,nullable:!0,parse:function(t){return isNaN(t)?null:t},serializable:!1}}}),g.RatingCountReference=s.define({fields:{average:{type:y,editable:!1,nullable:!0,parse:function(t){return isNaN(t)?null:t},serializable:!1},count_1:{type:y,defaultValue:0,editable:!1,serializable:!1},count_2:{type:y,defaultValue:0,editable:!1,serializable:!1},count_3:{type:y,defaultValue:0,editable:!1,serializable:!1},count_4:{type:y,defaultValue:0,editable:!1,serializable:!1},count_5:{type:y,defaultValue:0,editable:!1,serializable:!1}}}),g.ScoreCountReference=s.define({fields:{average:{type:y,editable:!1,nullable:!0,parse:function(t){return isNaN(t)?null:t},serializable:!1},count_00:{type:y,defaultValue:0,editable:!1,serializable:!1},count_05:{type:y,defaultValue:0,editable:!1,serializable:!1},count_10:{type:y,defaultValue:0,editable:!1,serializable:!1},count_15:{type:y,defaultValue:0,editable:!1,serializable:!1},count_20:{type:y,defaultValue:0,editable:!1,serializable:!1},count_25:{type:y,defaultValue:0,editable:!1,serializable:!1},count_30:{type:y,defaultValue:0,editable:!1,serializable:!1},count_35:{type:y,defaultValue:0,editable:!1,serializable:!1},count_40:{type:y,defaultValue:0,editable:!1,serializable:!1},count_45:{type:y,defaultValue:0,editable:!1,serializable:!1},count_50:{type:y,defaultValue:0,editable:!1,serializable:!1},count_55:{type:y,defaultValue:0,editable:!1,serializable:!1},count_60:{type:y,defaultValue:0,editable:!1,serializable:!1},count_65:{type:y,defaultValue:0,editable:!1,serializable:!1},count_70:{type:y,defaultValue:0,editable:!1,serializable:!1},count_75:{type:y,defaultValue:0,editable:!1,serializable:!1},count_80:{type:y,defaultValue:0,editable:!1,serializable:!1},count_85:{type:y,defaultValue:0,editable:!1,serializable:!1},count_90:{type:y,defaultValue:0,editable:!1,serializable:!1},count_95:{type:y,defaultValue:0,editable:!1,serializable:!1}},series:function(){return[{score:"0+",count:this.get("count_00")},{score:"5+",count:this.get("count_05")},{score:"10+",count:this.get("count_10")},{score:"15+",count:this.get("count_15")},{score:"20+",count:this.get("count_20")},{score:"25+",count:this.get("count_25")},{score:"30+",count:this.get("count_30")},{score:"35+",count:this.get("count_35")},{score:"40+",count:this.get("count_40")},{score:"45+",count:this.get("count_45")},{score:"50+",count:this.get("count_50")},{score:"55+",count:this.get("count_55")},{score:"60+",count:this.get("count_60")},{score:"65+",count:this.get("count_65")},{score:"70+",count:this.get("count_70")},{score:"75+",count:this.get("count_75")},{score:"80+",count:this.get("count_80")},{score:"85+",count:this.get("count_85")},{score:"90+",count:this.get("count_90")},{score:"95+",count:this.get("count_95")}]}}),g.UserMetricsReference=s.define({fields:{comments:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.CountReference?t:new g.CountReference(t)},serializable:!1},ratings:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.RatingCountReference?t:new g.RatingCountReference(t)},serializable:!1},scores:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.ScoreCountReference?t:new g.ScoreCountReference(t)},serializable:!1},summaries:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.CountReference?t:new g.CountReference(t)},serializable:!1}},actorPoints$:function(){var t=(this.get("ratings.count_1")||0)+(this.get("ratings.count_2")||0)+(this.get("ratings.count_3")||0)+(this.get("ratings.count_4")||0)+(this.get("ratings.count_5")||0),e=this.get("scores.average"),i=(this.get("scores.count_25")||0)+(this.get("scores.count_30")||0)+(this.get("scores.count_35")||0)+(this.get("scores.count_40")||0)+(this.get("scores.count_45")||0)+(this.get("scores.count_50")||0)+(this.get("scores.count_55")||0)+(this.get("scores.count_60")||0)+(this.get("scores.count_65")||0)+(this.get("scores.count_70")||0)+(this.get("scores.count_75")||0)+(this.get("scores.count_80")||0)+(this.get("scores.count_85")||0)+(this.get("scores.count_90")||0)+(this.get("scores.count_95")||0);return Math.round(i*e/100+.1*t)},authorPoints$:function(){return this.get("summaries.count")||0}}),g.SummaryMetricsReference=s.define({fields:{comments:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.CountReference?t:new g.CountReference(t)},serializable:!1},ratings:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.RatingCountReference?t:new g.RatingCountReference(t)},serializable:!1},scores:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.ScoreCountReference?t:new g.ScoreCountReference(t)},serializable:!1},views:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.CountReference?t:new g.CountReference(t)},serializable:!1}}}),g.UserReference=s.define({id:"userId",fields:{userId:{type:k,editable:!1,nullable:!0},firstName:{type:k,editable:!1,serializable:!1},lastName:{type:k,editable:!1,serializable:!1}},fullName$:function(){return((this.get("firstName")||"").trim()+" "+(this.get("lastName")||"").trim()).trim()},userUri$:function(){return o.format(b.webapp.user,v.locale(),this.get("userId"))}}),g.CurrentUser=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0},firstName:{type:k,editable:!1},lastName:{type:k,editable:!1},picture:{type:k,editable:!1,nullable:!0}},fullName$:function(){return((this.get("firstName")||"").trim()+" "+(this.get("lastName")||"").trim()).trim()},picture$:function(){return this.get("picture")||o.format(b.cdn.icons,"user")},isAuthenticated$:function(){return _.test(this.get("id"))},userUri$:function(){return o.format(b.webapp.user,v.locale(),this.get("id"))},reset:function(){this.accept({id:this.defaults.id,firstName:this.defaults.firstName,lastName:this.defaults.lastName,picture:this.defaults.picture})},load:function(){var t=this;return e.cache.getMe().done(function(e){i.isPlainObject(e)&&_.test(e.id)?t.accept({id:e.id,firstName:e.firstName,lastName:e.lastName,picture:e.picture}):t.reset()})}}),g.Account=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0,serializable:!1},email:{type:k,editable:!1,serializable:!1},firstName:{type:k,editable:!1,serializable:!1},gender:{type:k,editable:!1,serializable:!1},lastName:{type:k,editable:!1,serializable:!1},link:{type:k,editable:!1,serializable:!1},locale:{type:k,editable:!1,serializable:!1},timezone:{type:k,editable:!1,serializable:!1},picture:{type:k,editable:!1,serializable:!1},updated:{type:w,editable:!1,serializable:!1},verified:{type:"boolean",editable:!1,serializable:!1}}}),g.User=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0,serializable:!1},born:{type:w,nullable:!0},created:{type:w,editable:!1,serializable:!1},description:{type:k},email:{type:k},firstName:{type:k},lastName:{type:k},language:{type:k},metrics:{defaultValue:{},editable:!1,parse:function(t){return t instanceof g.UserMetricsReference?t:new g.UserMetricsReference(t)},serializable:!1},picture:{type:k},updated:{type:w,editable:!1,serializable:!1},facebook:{defaultValue:null,editable:!1,serializable:!1,parse:function(t){return t instanceof g.Account||null===t?t:new g.Account(t)}},google:{defaultValue:null,editable:!1,serializable:!1,parse:function(t){return t instanceof g.Account||null===t?t:new g.Account(t)}},live:{defaultValue:null,editable:!1,serializable:!1,parse:function(t){return t instanceof g.Account||null===t?t:new g.Account(t)}},twitter:{defaultValue:null,editable:!1,serializable:!1,parse:function(t){return t instanceof g.Account||null===t?t:new g.Account(t)}}},emails$:function(){var t=[],e=(this.get("facebook.email")||"").trim().toLowerCase(),i=(this.get("google.email")||"").trim().toLowerCase(),n=(this.get("live.email")||"").trim().toLowerCase(),o=(this.get("twitter.email")||"").trim().toLowerCase();return e.length&&-1===t.indexOf(e)&&t.push(e),i.length&&-1===t.indexOf(i)&&t.push(i),n.length&&-1===t.indexOf(n)&&t.push(n),o.length&&-1===t.indexOf(o)&&t.push(o),t},firstNames$:function(){var t=[],e=(this.get("facebook.firstName")||"").trim(),i=(this.get("google.firstName")||"").trim(),n=(this.get("live.firstName")||"").trim(),o=(this.get("twitter.firstName")||"").trim();return e.length&&-1===t.indexOf(e)&&t.push(e),i.length&&-1===t.indexOf(i)&&t.push(i),n.length&&-1===t.indexOf(n)&&t.push(n),o.length&&-1===t.indexOf(o)&&t.push(o),t},lastNames$:function(){var t=[],e=(this.get("facebook.lastName")||"").trim().toUpperCase(),i=(this.get("google.lastName")||"").trim().toUpperCase(),n=(this.get("live.lastName")||"").trim().toUpperCase(),o=(this.get("twitter.lastName")||"").trim().toUpperCase();return e.length&&-1===t.indexOf(e)&&t.push(e),i.length&&-1===t.indexOf(i)&&t.push(i),n.length&&-1===t.indexOf(n)&&t.push(n),o.length&&-1===t.indexOf(o)&&t.push(o),t},fullName$:function(){return((this.get("firstName")||"").trim()+" "+(this.get("lastName")||"").trim()).trim()},picture$:function(){return this.get("picture")||o.format(b.cdn.icons,"user")},userUri$:function(){return o.format(b.webapp.user,v.locale(),this.get("id"))},actorMedalUri$:function(){var t=this.metrics.actorPoints$(),e=Math.min(Math.floor(t/10),7);return o.format(b.cdn.icons,"medal_"+["grey","yellow","orange","pink","red","blue","green","black"][e])},authorMedalUri$:function(){var t=this.metrics.authorPoints$(),e=Math.min(Math.floor(t/10),7);return o.format(b.cdn.icons,"medal2_"+["grey","yellow","orange","pink","red","blue","green","black"][e])},load:function(t){var n=this,o=i.Deferred();if(_.test(t))e.cache.getMe().done(function(e){i.isPlainObject(e)&&t===e.id?m.v1.user.getMe().done(function(t){n.accept(t),o.resolve(t)}).fail(o.reject):m.v1.user.getUser(t).done(function(t){n.accept(t),o.resolve(t)}).fail(o.reject)}).fail(o.reject);else if(i.isPlainObject(t)&&_.test(t.id))e.cache.getMe().done(function(e){i.isPlainObject(e)&&t.id===e.id?m.v1.user.getMe().done(function(t){n.accept(t),o.resolve(t)}).fail(o.reject):(n.accept(t),o.resolve(t))}).fail(o.reject);else{var r=new C(400,"Neither data nor data.id is a MongoDB ObjectId");o.reject(r,"error",r.statusText)}return o.promise()},save:function(t){var e=this,n=i.Deferred();if(e.dirty){var r=A(e.toJSON(),t);f.isPlainObject(r,o.format(f.messages.isPlainObject.default,"data")),f.isUndefined(r.created,o.format(f.messages.isUndefined.default,"data.created")),f.isUndefined(r.facebook,o.format(f.messages.isUndefined.default,"data.facebook")),f.isUndefined(r.google,o.format(f.messages.isUndefined.default,"data.google")),f.isUndefined(r.id,o.format(f.messages.isUndefined.default,"data.id")),f.isUndefined(r.live,o.format(f.messages.isUndefined.default,"data.live")),f.isUndefined(r.twitter,o.format(f.messages.isUndefined.default,"data.twitter")),f.isUndefined(r.updated,o.format(f.messages.isUndefined.default,"data.updated")),m.v1.user.updateMe(r).done(function(t){e.accept(t),n.resolve(t)}).fail(function(t,e,i){n.reject(t,e,i)})}else setTimeout(function(){n.resolve()},0);return n.promise()}}),g.NewSummary=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0},author:{defaultValue:{},parse:function(t){return t instanceof g.UserReference?t:new g.UserReference(t)}},categoryId:{type:k,nullable:!0},language:{type:k,defaultValue:v.locale(),editable:!1,validation:{required:!0}},title:{type:k,validation:{required:!0,pattern:"^\\S[^<>]{4,48}\\S$"}}},language$:function(){for(var t=this.get("language"),e=v.culture.languages,i=0;i<e.length;i++)if(e[i].value===t)return e[i].name;return null},load:function(){var t=this;return e.cache.getMe().done(function(e){i.isPlainObject(e)&&_.test(e.id)&&(e.userId=e.id,t.set("author",new g.UserReference(e)))})},reset:function(){this.set("categoryId",this.defaults.category),this.set("title",this.defaults.title)},save:function(){var t={author:{userId:this.get("author.userId")},categoryId:this.get("categoryId"),language:this.get("language"),title:this.get("title"),type:this.get("type.value")};return m.v1.content.createSummary(v.locale(),t)}}),g.LazySummary=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0},comments:{type:y,editable:!1},created:{type:w,editable:!1},firstName:{type:k,editable:!1},language:{type:k,editable:!1},lastName:{type:k,editable:!1},icon:{type:k,editable:!1},offline:{type:"boolean",editable:!1},published:{type:w,nullable:!0,editable:!1},ratings:{type:y,nullable:!0,editable:!1},scores:{type:y,nullable:!0,editable:!1},tags:{defaultValue:[],editable:!1},title:{type:k,editable:!1},type:{type:k,editable:!1},updated:{type:w,editable:!1},userId:{type:k,editable:!1,nullable:!0},userScore:{type:y,nullable:!0,editable:!1},views:{type:y,defaultValue:0,editable:!1}},authorName$:function(){return((this.get("firstName")||"").trim()+" "+(this.get("lastName")||"").trim()).trim()},authorUri$:function(){return o.format(b.webapp.user,this.get("language"),this.get("userId"))},hasUserScore$:function(){return i.type(this.get("userScore"))===y},icon$:function(){return o.format(window.cordova?b.mobile.icons:b.cdn.icons,this.get("icon"))},isError$:function(){var t=this.get("userScore");return i.type(t)===y&&t<50},isSuccess$:function(){var t=this.get("userScore");return i.type(t)===y&&t>=75},isWarning$:function(){var t=this.get("userScore");return i.type(t)===y&&t>=50&&t<75},summaryUri$:function(){return o.format(b.webapp.summary,this.get("language"),this.get("id"))},tags$:function(){var t=[],e=this.get("tags");return(Array.isArray(e)||e instanceof o.data.ObservableArray)&&(t=e.map(function(t){return{name:t,hash:"#!"+i.param({filter:{field:"tags",operator:"eq",value:t}})}})),t},userScore$:function(){return o.toString(this.get("userScore")/100,"p0")},createDraft:function(){return m.v1.content.executeCommand(this.get("language"),this.get("id"),{command:"draft"})},publish:function(){return m.v1.content.executeCommand(this.get("language"),this.get("id"),{command:"publish"})}}),g.LazySummaryTransport=T.extend({read:function(t){var n=this.partition();p.debug({message:"dataSource.read",method:"app.models.LazySummaryDataSource.transport.read",data:{partition:n}}),t.data.fields="author,icon,metrics.comments.count,language,metrics.ratings.average,metrics.scores.average,metrics.views.count,published,tags,title,type,updated",t.data.sort=t.data.sort||[{field:"updated",dir:"desc"}],"undefined"===i.type(n)?t.success({total:0,data:[]}):_.test(n["author.userId"])?e.cache.getMe().done(function(e){if(i.isPlainObject(e)&&n["author.userId"]===e.id)m.v1.user.findMySummaries(n.language,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)});else{var o={logic:"and",filters:[{field:"author.userId",operator:"eq",value:n["author.userId"]}]};i.isPlainObject(t.data.filter)&&("and"===t.data.filter.logic&&Array.isArray(t.data.filter.filters)?Array.prototype.push.apply(o.filters,t.data.filter.filters):"or"===t.data.filter.logic&&Array.isArray(t.data.filter.filters)?o.filters.push(t.data.filter):i.type(t.data.filter.field)===k&&i.type(t.data.filter.operator)===k&&Array.prototype.push.apply(o.filters,t.data.filter)),t.data.filter=o,m.v1.content.findSummaries(n.language,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}).fail(function(e,i,n){t.error(e,i,n)}):m.v1.content.findSummaries(n.language,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}),g.LazySummaryDataSource=l.extend({init:function(t){l.fn.init.call(this,i.extend(!0,{pageSize:5},t,{transport:new g.LazySummaryTransport({partition:t&&t.partition}),serverFiltering:!0,serverSorting:!0,serverPaging:!0,schema:{data:"data",total:"total",errors:"error",modelBase:g.LazySummary,model:g.LazySummary,parse:function(t){return t&&i.type(t.total)===y&&i.isArray(t.data)&&i.each(t.data,function(t,e){f.isPlainObject(e.author,o.format(f.messages.isPlainObject.default,"summary.author")),e.userId=e.author.userId,e.firstName=e.author.firstName,e.lastName=e.author.lastName,e.author=void 0,e.comments=e.metrics&&e.metrics.comments&&e.metrics.comments.count||0,e.ratings=e.metrics&&e.metrics.ratings&&e.metrics.ratings.average||null,e.scores=e.metrics&&e.metrics.scores&&e.metrics.scores.average||null,e.views=e.metrics&&e.metrics.views&&e.metrics.views.count||0,i.isPlainObject(e.metrics)&&(e.metrics=void 0)}),t}}}))},load:function(t){return t&&i.isPlainObject(t.partition)&&this.transport.partition(t.partition),this.query(t)}}),g.Summary=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0,serializable:!1},ageGroup:{type:y,defaultValue:255},author:{defaultValue:null,editable:!1,serializable:!1,parse:function(t){return t instanceof g.UserReference||null===t?t:new g.UserReference(t)}},categoryId:{type:k},created:{type:w,editable:!1,serializable:!1},description:{type:k},icon:{type:k,defaultValue:"spacer"},language:{type:k,editable:!1,serializable:!1},metrics:{defaultValue:{},editable:!1,serializable:!1,parse:function(t){return t instanceof g.SummaryMetricsReference?t:new g.SummaryMetricsReference(t)}},published:{type:w,editable:!1,nullable:!0,serializable:!1},tags:{defaultValue:[]},title:{type:k},type:{type:k,editable:!1,serializable:!1},updated:{type:w,editable:!1,serializable:!1},userScore:{from:"activities",type:y,editable:!1,nullable:!0,serializable:!1,parse:function(t){if(Array.isArray(t)&&_.test(e._userId))for(var i=0,n=t.length;i<n;i++)if(t[i].actorId===e._userId)return t[i].score}}},hasUserScore$:function(){return i.type(this.get("userScore"))===y},icon$:function(){return o.format(window.cordova?b.mobile.icons:b.cdn.icons,this.get("icon"))},isError$:function(){var t=this.get("userScore");return i.type(t)===y&&t<50},isSuccess$:function(){var t=this.get("userScore");return i.type(t)===y&&t>=75},isWarning$:function(){var t=this.get("userScore");return i.type(t)===y&&t>=50&&t<75},summaryUri$:function(){return o.format(b.webapp.summary,this.get("language"),this.get("id"))},tags$:function(){return this.get("tags").join(", ")},userScore$:function(){return o.toString(this.get("userScore")/100,"p0")},init:function(t){s.fn.init.call(this,t),this.bind("change",i.proxy(this._onChange,this))},_onChange:function(t){s.fn._notifyChange.call(this,t),"itemchange"===t.action&&(this.dirty=!0)},load:function(t){var e=this,n=i.Deferred();if(_.test(t))m.v1.content.getSummary(v.locale(),t).done(function(t){e.accept(t),n.resolve(t)}).fail(n.reject);else if(i.isPlainObject(t)&&_.test(t.id))t.published instanceof Date?(e.accept(t),n.resolve(t)):m.v1.content.getSummary(v.locale(),t.id).done(function(t){e.accept(t),n.resolve(t)}).fail(n.reject);else{var o=new C(400,"Neither data nor data.id is a MongoDB ObjectId");n.reject(o,"error",o.statusText)}return n.promise()},save:function(t){var e=this,n=i.Deferred();if(e.dirty){var r=A(e.toJSON(),t);f.isPlainObject(r,o.format(f.messages.isPlainObject.default,"data")),f.isUndefined(r.author,o.format(f.messages.isUndefined.default,"data.author")),f.isUndefined(r.created,o.format(f.messages.isUndefined.default,"data.created")),f.isUndefined(r.id,o.format(f.messages.isUndefined.default,"data.id")),f.isUndefined(r.language,o.format(f.messages.isUndefined.default,"data.language")),f.isUndefined(r.metrics,o.format(f.messages.isUndefined.default,"data.metrics")),f.isUndefined(r.type,o.format(f.messages.isUndefined.default,"data.type")),f.isUndefined(r.updated,o.format(f.messages.isUndefined.default,"data.updated"));var a=e.get("language"),s=e.get("id");m.v1.content.updateSummary(a,s,r).done(function(t){e.accept(t),n.resolve(t)}).fail(function(t,e,i){n.reject(t,e,i)})}else setTimeout(function(){n.resolve()},0);return n.promise()},createDraft:function(){return m.v1.content.executeCommand(this.get("language"),this.get("id"),{command:"draft"})},publish:function(){return m.v1.content.executeCommand(this.get("language"),this.get("id"),{command:"publish"})},rate:function(t){return m.v1.content.createSummaryActivity(this.get("language"),this.get("id"),{type:"rating",value:t})}}),g.LazyVersion=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0},name:{type:k,editable:!1},state:{type:y,editable:!1},summaryId:{type:k,editable:!1,nullable:!0}},versionPlayUri$:function(){return o.format(b.webapp.player,v.locale(),this.get("summaryId"),this.get("id"),"").slice(0,-1)},versionEditUri$:function(){return o.format(b.webapp.editor,v.locale(),this.get("summaryId"),this.get("id"))},iframe$:function(){return o.format('<iframe src="{0}?embed=true{1}" style="height:500px;width:100%;border:solid 1px #d5d5d5;"></iframe>',this.versionPlayUri$(),e&&e.theme&&i.isFunction(e.theme.name)?"&theme="+encodeURIComponent(e.theme.name()):"")}}),g.LazyVersionTransport=T.extend({read:function(t){f.isPlainObject(t,o.format(f.messages.isPlainObject.default,"options")),f.isPlainObject(t.data,o.format(f.messages.isPlainObject.default,"options.data"));var e=this.partition();p.debug({message:"dataSource.read",method:"app.models.LazyVersionDataSource.transport.read",data:{partition:e}}),"undefined"===i.type(e)?t.success({total:0,data:[]}):(t.data.fields="state,summaryId",t.data.sort=[{field:"id",dir:"desc"}],m.v1.content.findSummaryVersions(e.language,e.summaryId,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)}))},destroy:function(t){f.isPlainObject(t,o.format(f.messages.isPlainObject.default,"options")),f.isPlainObject(t.data,o.format(f.messages.isPlainObject.default,"options.data")),f.type(k,t.data.id,o.format(f.messages.type.default,"options.data.id",k)),f.type(k,t.data.summaryId,o.format(f.messages.type.default,"options.data.summaryId",k));var e=this.partition();p.debug({message:"dataSource.destroy",method:"app.models.LazyVersionDataSource.transport.destroy",data:{partition:e,versionId:t.data.id}}),m.v1.content.deleteSummaryVersion(e.language,e.summaryId,t.data.id).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}),g.LazyVersionDataSource=l.extend({init:function(t){l.fn.init.call(this,i.extend(!0,{pageSize:100},t,{transport:new g.LazyVersionTransport({partition:t&&t.partition}),serverFiltering:!0,serverSorting:!0,serverPaging:!0,schema:{data:"data",total:"total",errors:"error",modelBase:g.LazyVersion,model:g.LazyVersion,parse:function(t){return t&&i.type(t.total===y&&i.isArray(t.data))&&i.each(t.data,function(e,i){i.state===x?i.name=v.culture.versions.draft.name:i.name=o.format(v.culture.versions.published.name,t.data.length-e)}),t}}}))},load:function(t){return t&&i.isPlainObject(t.partition)&&this.transport.partition(t.partition),this.query(t)}}),g.Version=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0,serializable:!1},categoryId:{type:k,editable:!1,serializable:!1},created:{type:w,editable:!1,serializable:!1},language:{type:k,editable:!1,serializable:!1},state:{type:y,editable:!1,serializable:!1},stream:{defaultValue:new c,nullable:!1,parse:function(t){return t instanceof c?t:new c(t)}},summaryId:{type:k,editable:!1,nullable:!0,serializable:!1},type:{type:k,editable:!1,serializable:!1},updated:{type:w,editable:!1,serializable:!1},userId:{type:k,editable:!1,nullable:!0,serializable:!1}},versionPlayUri$:function(){return o.format(b.webapp.player,v.locale(),this.get("summaryId"),this.get("id"),"").slice(0,-1)},versionEditUri$:function(){return o.format(b.webapp.editor,v.locale(),this.get("summaryId"),this.get("id"))},load:function(e,i){var n=this;return m.v1.content.getSummaryVersion(v.locale(),e,i).done(function(e){n.accept(e),f.equal(S,t("a"),o.format(f.messages.equal.default,'md5("a")',S)),n._md5=t(JSON.stringify(n.toJSON()))})},save:function(){var e=this,n=e._md5,r=e.toJSON(!0);if(f.isPlainObject(r,o.format(f.messages.isPlainObject.default,"data")),f.isUndefined(r.created,o.format(f.messages.isUndefined.default,"data.created")),f.isUndefined(r.id,o.format(f.messages.isUndefined.default,"data.id")),f.isUndefined(r.language,o.format(f.messages.isUndefined.default,"data.language")),f.isUndefined(r.state,o.format(f.messages.isUndefined.default,"data.state")),f.isUndefined(r.summaryId,o.format(f.messages.isUndefined.default,"data.summaryId")),f.isUndefined(r.type,o.format(f.messages.isUndefined.default,"data.type")),f.isUndefined(r.updated,o.format(f.messages.isUndefined.default,"data.updated")),f.isUndefined(r.userId,o.format(f.messages.isUndefined.default,"data.userId")),f.equal(S,t("a"),o.format(f.messages.equal.default,'md5("a")',S)),e._md5=t(JSON.stringify(r)),e._md5!==n){var a=e.get("language"),s=e.get("summaryId"),l=e.get("id");return m.v1.content.updateSummaryVersion(a,s,l,r).done(function(t){e.accept(t)})}return i.Deferred().resolve().promise()}}),g.VersionReference=s.define({id:"versionId",fields:{language:{type:k,editable:!1},summaryId:{type:k,editable:!1,nullable:!0},title:{type:k,editable:!1},versionId:{type:k,editable:!1,nullable:!0}}}),g.LazyActivity=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0},date:{type:w,editable:!1,defaultValue:function(){return new Date}},firstName:{type:k,editable:!1},language:{type:k,editable:!1},lastName:{type:k,editable:!1},type:{type:k,editable:!1},score:{type:y,nullable:!0,editable:!1},summaryId:{type:k,editable:!1,nullable:!0},title:{type:k,editable:!1},userId:{type:k,editable:!1,nullable:!0},versionId:{type:k,editable:!1,nullable:!0}},actorName$:function(){return((this.get("firstName")||"").trim()+" "+(this.get("lastName")||"").trim()).trim()},actorUri$:function(){return o.format(b.webapp.user,this.get("language"),this.get("userId"))},scoreUri$:function(){return o.format(b.webapp.player,this.get("language"),this.get("summaryId"),this.get("versionId"))+o.format("#/report/{0}",this.get("id"))},summaryUri$:function(){return o.format(b.webapp.summary,this.get("language"),this.get("summaryId"))}}),g.LazyActivityTransport=T.extend({read:function(t){var e=this.partition();p.debug({message:"dataSource.read",method:"app.models.LazyActivityDataSource.transport.read",data:{partition:e}}),"undefined"===i.type(e)?t.success({total:0,data:[]}):_.test(e.summaryId)?(t.data.fields="actor,date,score,type,version",t.data.sort=t.data.sort||[{field:"date",dir:"desc"}],m.v1.content.findSummaryActivities(e["version.language"],e["version.summaryId"],t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})):(t.data.fields="date,score,type,version",t.data.sort=t.data.sort||[{field:"date",dir:"desc"}],m.v1.user.findMyActivities(e.language,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)}))}}),g.LazyActivityDataSource=l.extend({init:function(t){l.fn.init.call(this,i.extend(!0,{pageSize:5},t,{transport:new g.LazyActivityTransport({partition:t&&t.partition}),serverFiltering:!0,serverSorting:!0,serverPaging:!0,schema:{data:"data",total:"total",errors:"error",modelBase:g.LazyActivity,model:g.LazyActivity,parse:function(t){return t&&i.type(t.total===y&&i.isArray(t.data))&&i.each(t.data,function(t,e){e.userId=e.actor&&e.actor.userId||null,e.firstName=e.actor&&e.actor.firstName||"",e.lastName=e.actor&&e.actor.lastName||"",e.actor&&(e.actor=void 0),e.language=e.version&&e.version.language||v.locale(),e.summaryId=e.version&&e.version.summaryId||null,e.title=e.version&&e.version.title||"",e.versionId=e.version&&e.version.versionId||null,e.version&&(e.version=void 0)}),t}}}))},load:function(t){return t&&i.isPlainObject(t.partition)&&this.transport.partition(t.partition),this.query(t)}}),g.Activity=s.define({id:"id",fields:{id:{type:k,editable:!1,nullable:!0},actor:{defaultValue:null,parse:function(t){return t instanceof g.UserReference||null===t?t:new g.UserReference(t)}},categoryId:{type:k,editable:!1,serializable:!1},created:{type:w,editable:!1},type:{type:k,editable:!1},updated:{type:w,editable:!1},version:{defaultValue:null,parse:function(t){return t instanceof g.VersionReference||null===t?t:new g.VersionReference(t)}}},load:function(t,e){var i=this;return m.v1.content.getSummaryActivity(v.locale(),t,e).done(function(t){i.accept(t)})},save:function(){var t=this,e=t.get("version.language")||v.locale(),i=t.get("version.summaryId"),n=t.toJSON(!0);if(t.isNew())return m.v1.content.createSummaryActivity(e,i,n).done(function(e){t.accept(e)});var o=t.get("id");return m.v1.content.updateSummaryActivity(e,i,o,n).done(function(e){t.accept(e)})}}),g.Comment=g.Activity.define({fields:{text:{type:k},userId:{type:k,editable:!1,nullable:!0}},init:function(t){s.fn.init.call(this,t),this.type="comment"},actor$:function(){return((this.get("actor.firstName")||"").trim()+" "+(this.get("actor.lastName")||"").trim()).trim()},isEditable$:function(){return this.get("actor.userId")===this.get("userId")},color$:function(){for(var t="000000",e=this.get("actor.lastName"),i=0;i<Math.min(3,e.length);i++)t+=(43*e.charCodeAt(i)%256).toString(16);return"#"+t.slice(-6)}}),g.CommentDataSource=l.extend({init:function(t){var e=this;e.userId=t&&t.userId,e.summaryId=t&&t.summaryId,l.fn.init.call(e,i.extend(!0,{},{transport:{create:i.proxy(e._transport._create,e),destroy:i.proxy(e._transport._destroy,e),read:i.proxy(e._transport._read,e),update:i.proxy(e._transport._update,e)},serverFiltering:!0,serverSorting:!0,pageSize:5,serverPaging:!0,schema:{data:function(t){return t&&i.type(t.total)===y&&i.isArray(t.data)?t.data:t},total:"total",errors:"error",modelBase:g.Comment,model:g.Comment,parse:function(t){return t&&(i.type(t.total)===y&&i.isArray(t.data)?i.each(t.data,function(t,i){i.userId=e.userId}):t.userId=e.userId),t}}},t))},load:function(t){return this.summaryId=t&&t.summaryId,this.userId=t&&t.userId,this.query(t)},_transport:{_create:function(t){m.v1.content.createSummaryActivity(t.data.version&&t.data.version.language||v.locale(),t.data.version&&t.data.version.summaryId||this.summaryId,{type:"comment",text:t.data.text}).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})},_destroy:function(t){m.v1.content.deleteSummaryActivity(t.data.version.language,t.data.version.summaryId,t.data.id).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})},_read:function(t){f.match(_,this.summaryId,o.format(f.messages.match.default,"this.summaryId",_)),t.data.fields="actor,date,text,version",t.data.filter={field:"type",operator:"eq",value:"Comment"},t.data.sort=[{field:"id",dir:"desc"}],m.v1.content.findSummaryActivities(v.locale(),this.summaryId,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})},_update:function(t){m.v1.content.updateSummaryActivity(t.data.version.language,t.data.version.summaryId,t.data.id,{text:t.data.text}).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}}),g.Score=g.Activity.define({fields:{test:{defaultValue:null},score:{type:y,editable:!1}},init:function(t){s.fn.init.call(this,t),this.type="Score"},scoreName$:function(){var t=this.get("id");if(_.test(t))return o.format("{0:"+v.culture.dateFormat+"} ({1:p0})",this.get("created"),this.get("score")/100)}}),g.ScoreDataSource=l.extend({init:function(t){var e=this;e.summaryId=t&&t.summaryId,e.userId=t&&t.userId,e.versionId=t&&t.versionId,l.fn.init.call(e,i.extend(!0,{pageSize:100},t,{transport:{read:i.proxy(e._transport._read,e)},serverFiltering:!0,serverSorting:!0,serverPaging:!0,schema:{data:function(t){return t&&i.type(t.total)===y&&i.isArray(t.data)?t.data:t},total:"total",errors:"error",modelBase:g.Score,model:g.Score,parse:function(t){return t&&(i.type(t.total)===y&&i.isArray(t.data)?i.each(t.data,function(t,i){i.userId=e.userId}):t.userId=e.userId),t}}}))},load:function(t){return this.summaryId=t&&t.summaryId,this.userId=t&&t.userId,this.versionId=t&&t.versionId,this.query(t)},_transport:{_read:function(t){f.match(_,this.summaryId,o.format(f.messages.match.default,"this.summaryId",_)),f.match(_,this.versionId,o.format(f.messages.match.default,"this.versionId",_)),t.data.fields="date,score,test",t.data.filter=[{field:"type",operator:"eq",value:"Score"},{field:"version.versionId",operator:"eq",value:this.versionId}],_.test(this.userId)&&t.data.filter.push({field:"actor.userId",operator:"eq",value:this.userId}),t.data.sort=[{field:"id",dir:"desc"}],m.v1.content.findSummaryActivities(v.locale(),this.summaryId,t.data).done(function(e){t.success(e)}).fail(function(e,i,n){t.error(e,i,n)})}}})}(window.jQuery),e})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(4),i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i,n=window.kendo,o=n.ui.Widget,r=n.ui.Popup.TabKeyTrap,a=t.proxy,s=n.template,l=n.keys,c=t.isFunction,u="kendoWindow",h=".k-dialog-buttongroup",d=Math.ceil;function f(t){return void 0!==t}function p(t,e,i){return Math.max(Math.min(parseInt(t,10),i===1/0?i:parseInt(i,10)),parseInt(e,10))}function m(t){return t.keyCode==l.ENTER||t.keyCode==l.SPACEBAR}var g=o.extend({init:function(t,e){o.fn.init.call(this,t,e),this._init(this.element,this.options),n.notify(this)},_init:function(e,n){var o;this._centerCallback=a(this._center,this),this.appendTo=t("body"),f(n.visible)&&null!==n.visible||(n.visible=e.is(":visible")),void 0===this.wrapperTemplate&&(this.wrapperTemplate=i.wrapper),this._createDialog(),o=this.wrapper=e.closest(".k-dialog"),void 0===n._defaultFocus&&(this._defaultFocus=e[0]),this._tabindex(e),this._dimensions(),this._tabKeyTrap=new r(o),this.options.visible?this._triggerOpen():this.wrapper.hide()},setOptions:function(e){e=t.extend(this.options,e),o.fn.setOptions.call(this,e),void 0!==e.title&&this.title(e.title),e.content&&(n.destroy(this.element.children()),this.element.html(e.content)),e.actions&&(this.wrapper.children(h).remove(),this._createActionbar(this.wrapper)),this.wrapper.show(),this._closable(this.wrapper),this._dimensions(),e.visible?this._triggerOpen():this.wrapper.hide()},_dimensions:function(){for(var t=this.wrapper,e=this.options,i=e.width,n=e.height,o=["minWidth","minHeight","maxWidth","maxHeight"],r=0;r<o.length;r++){var a=e[o[r]];a&&a!=1/0&&t.css(o[r],a)}this._setElementMaxHeight(),i&&(i.toString().indexOf("%")>0?t.width(i):t.outerWidth(p(i,e.minWidth,e.maxWidth))),n&&(n.toString().indexOf("%")>0?t.height(n):t.outerHeight(p(n,e.minHeight,e.maxHeight)),this._setElementHeight())},_setElementMaxHeight:function(){var t,e,i=this.element,n=this.options.maxHeight;n!=1/0&&(t=this._paddingBox(i),(e=parseFloat(n,10)-this._uiHeight()-t.vertical)>0&&i.css({maxHeight:d(e)+"px"}))},_paddingBox:function(t){var e=parseFloat(t.css("padding-top"),10),i=parseFloat(t.css("padding-left"),10);return{vertical:e+parseFloat(t.css("padding-bottom"),10),horizontal:i+parseFloat(t.css("padding-right"),10)}},_setElementHeight:function(){var t=this.element,e=this.options.height,i=this._paddingBox(t),n=parseFloat(e,10)-this._uiHeight()-i.vertical;n<0&&(n=0),t.css({height:d(n)+"px"}),this._applyScrollClassName(t)},_applyScrollClassName:function(t){t.get(0).scrollHeight>t.outerHeight()?t.addClass("k-scroll"):t.removeClass("k-scroll")},_uiHeight:function(){var t=this.wrapper,e=t.children(h),i=e[0]&&e[0].offsetHeight||0,n=t.children(".k-dialog-titlebar");return i+(n[0]&&n[0].offsetHeight||0)},_overlay:function(e){var n=this.appendTo.children(".k-overlay"),o=this.wrapper;return n.length||(n=t(i.overlay)),n.insertBefore(o[0]).toggle(e).css("zIndex",parseInt(o.css("zIndex"),10)-1),e?this._waiAriaOverlay():this._removeWaiAriaOverlay(),n},_waiAriaOverlay:function(){var e=this.wrapper;this._overlayedNodes=e.prevAll(":not(link,meta,script,style)").add(e.nextAll(":not(link,meta,script,style)")).each(function(){var e=t(this);e.data("ariaHidden",e.attr("aria-hidden")),e.attr("aria-hidden","true")})},_removeWaiAriaOverlay:function(){return this._overlayedNodes&&this._overlayedNodes.each(function(){var e=t(this),i=e.data("ariaHidden");i?e.attr("aria-hidden",i):e.removeAttr("aria-hidden")})},_closeClick:function(t){t.preventDefault(),this.close()},_closeKeyHandler:function(t){(m(t)||t.keyCode==l.ESC)&&this.close()},_keydown:function(t){var e=this.options;t.keyCode==l.ESC&&!this._closing&&e.closable&&this.close()},_createDialog:function(){var e=this.element,o=this.options,r=n.support.isRtl(e),a=t(i.titlebar(o)),s=(e.id||n.guid())+"_title",l=t(this.wrapperTemplate(o));l.toggleClass("k-rtl",r),e.addClass("k-content k-window-content k-dialog-content"),this.appendTo.append(l),!1!==o.title?(l.append(a),a.attr("id",s),l.attr("aria-labelledby",s)):l.addClass("k-dialog-titleless"),this._closable(l),l.append(e),o.content&&(n.destroy(e.children()),e.html(o.content)),o.actions.length&&this._createActionbar(l)},_closable:function(t){var e=this.options,n=t.children(".k-dialog-titlebar").find(".k-window-actions");(n.length?n.find(".k-dialog-close"):t.find(".k-dialog-close")).remove(),!1!==e.closable&&(!1!==e.title&&n.length?n.append(i.close(e)):t.prepend(i.close(e)),t.autoApplyNS(u),this.element.autoApplyNS(u),t.find(".k-dialog-close").on("click",a(this._closeClick,this)).on("keydown",a(this._closeKeyHandler,this)),this.element.on("keydown",a(this._keydown,this)))},_createActionbar:function(e){var n="stretched"===this.options.buttonLayout,o=n?"stretched":"normal",r=t(i.actionbar({buttonLayout:o}));this._addButtons(r),n&&this._normalizeButtonSize(r),e.append(r)},_addButtons:function(e){for(var n,o,r=this.options,s=a(this._actionClick,this),l=a(this._actionKeyHandler,this),c=this.options.actions,h=c.length,d=Math.round(100/h),f=0;f<h;f++){n=c[f],o=this._mergeTextWithOptions(n);var p=t(i.action(n)).autoApplyNS(u).html(o).appendTo(e).data("action",n.action).on("click",s).on("keydown",l);"stretched"===r.buttonLayout&&(f==h-1&&(d=100-f*d),p.css("width",d+"%"))}},_mergeTextWithOptions:function(t){var e=t.text;return e?s(e)(this.options):""},_normalizeButtonSize:function(t){var e=this.options,i=t.children(".k-button:last"),n=parseFloat(i[0]?i[0].style.width:0),o=100-e.actions.length*n;o>0&&i.css("width",n+o+"%")},_tabindex:function(t){var e=this.wrapper,i=e.find(".k-dialog-close"),n=e.find(h+" .k-button");o.fn._tabindex.call(this,t);var r=t.attr("tabindex");i.attr("tabIndex",r),n.attr("tabIndex",r)},_actionClick:function(t){this.wrapper.is(":visible")&&this._runActionBtn(t.currentTarget)},_actionKeyHandler:function(t){m(t)?this._runActionBtn(t.currentTarget):t.keyCode==l.ESC&&this.close()},_runActionBtn:function(e){if(!this._closing){var i=t(e).data("action");c(i)&&!1===i({sender:this})||this.close()}},_triggerOpen:function(){var t=this.options,e=this.wrapper;this.toFront(),this._triggerInitOpen(),this.trigger("open"),t.modal&&(this._overlay(e.is(":visible")).css({opacity:.5}),this._focusDialog())},open:function(){var t,e,i=this.wrapper,o=this._animationOptions("open"),r=this.options;if(this._triggerInitOpen(),!this.trigger("open")){if(this._closing&&i.kendoStop(!0,!0),this._closing=!1,this.toFront(),r.visible=!0,r.modal){if(e=!!this._modals().length,(t=this._overlay(e)).kendoStop(!0,!0),o.duration&&n.effects.Fade&&!e){var s=n.fx(t).fadeIn();s.duration(o.duration||0),s.endValue(.5),s.play()}else t.css("opacity",.5);t.show()}i.show().kendoStop().kendoAnimate({effects:o.effects,duration:o.duration,complete:a(this._openAnimationEnd,this)}),i.show()}return this},_animationOptions:function(t){var e=this.options.animation;return e&&e[t]||{open:{effects:{}},close:{hide:!0,effects:{}}}[t]},_openAnimationEnd:function(){this.options.modal&&this._focusDialog(),this.trigger("show")},_triggerInitOpen:function(){f(this._initOpenTriggered)||(this._initOpenTriggered=!0,this.trigger("initOpen"))},toFront:function(){var e=this.wrapper,i=+e.css("zIndex"),n=i;return this.center(),t(".k-window").each(function(e,n){var o=t(n).css("zIndex");isNaN(o)||(i=Math.max(+o,i))}),(!e[0].style.zIndex||n<i)&&e.css("zIndex",i+2),this.element.find("> .k-overlay").remove(),e=null,this},close:function(){return this._close(!0),this._stopCenterOnResize(),this},_close:function(t){var e=this.wrapper,i=this.options,n=this._animationOptions("open"),o=this._animationOptions("close");if(e.is(":visible")&&!this.trigger("close",{userTriggered:!t})){if(this._closing)return;this._closing=!0,i.visible=!1,this._removeOverlay(),e.kendoStop().kendoAnimate({effects:o.effects||n.effects,reverse:!0===o.reverse,duration:o.duration,complete:a(this._closeAnimationEnd,this)})}return this},center:function(){this._center(),this._centerOnResize()},_center:function(){var e=this.wrapper,i=t(window),n=0+Math.max(0,(i.width()-e.width())/2),o=0+Math.max(0,(i.height()-e.height()-parseInt(e.css("paddingTop"),10))/2);return e.css({left:n,top:o}),this},_centerOnResize:function(){this._trackResize||(n.onResize(this._centerCallback),this._trackResize=!0)},_stopCenterOnResize:function(){n.unbindResize(this._centerCallback),this._trackResize=!1},_removeOverlay:function(){var t=this._modals();this.options.modal&&!t.length?this._overlay(!1).remove():t.length&&this._object(t.last())._overlay(!0)},_closeAnimationEnd:function(){if(this._closing=!1,this.wrapper.hide().css("opacity",""),this.trigger("hide"),this.options.modal){var t=this._object(this._modals().last());t&&t.toFront()}},_modals:function(){var e=this,i=t(".k-window").filter(function(){var i=t(this),n=e._object(i),o=n&&n.options;return o&&o.modal&&e.options.appendTo==o.appendTo&&o.visible&&i.is(":visible")}).sort(function(e,i){return+t(e).css("zIndex")-+t(i).css("zIndex")});return e=null,i},_object:function(t){var e=t.children(".k-content"),i=n.widgetInstance(e);if(i)return i},destroy:function(){this._destroy(),o.fn.destroy.call(this),this.wrapper.remove(),this.wrapper=this.element=t()},_destroy:function(){var t="."+u;this.wrapper.off(t),this.element.off(t),this.wrapper.find(".k-dialog-close,"+h+" > .k-button").off(t),this._stopCenterOnResize()},title:function(e){var o=this.wrapper,r=this.options,a=o.children(".k-dialog-titlebar"),s=a.children(".k-dialog-title"),l=n.htmlEncode(e);return arguments.length?(!1===e?(a.remove(),o.addClass("k-dialog-titleless")):(a.length||(s=(a=t(i.titlebar(r)).prependTo(o)).children(".k-dialog-title"),o.removeClass("k-dialog-titleless")),s.html(l)),this.options.title=l,this):s.html()},content:function(t,e){var i=this.wrapper.children(".k-content");return f(t)?(this.angular("cleanup",function(){return{elements:i.children()}}),n.destroy(i.children()),i.html(t),this.angular("compile",function(){for(var t=[],n=i.length;--n>=0;)t.push({dataItem:e});return{elements:i.children(),data:t}}),this.options.content=t,this):i.html()},_focusDialog:function(){this._defaultFocus&&this._focus(this._defaultFocus),this._tabKeyTrap.trap()},_focus:function(t){t&&t.focus()},events:["initOpen","open","close","show","hide"],options:{title:"",buttonLayout:"stretched",actions:[],modal:!0,width:null,height:null,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,content:null,visible:null,appendTo:"body",closable:!0}}),v=g.extend({options:{name:"Dialog",messages:{close:"Close"}}});n.ui.plugin(v);var b=g.extend({_init:function(t,e){this.wrapperTemplate=i.alertWrapper,e._defaultFocus=null,this._ensureContentId(t),g.fn._init.call(this,t,e),this.bind("hide",a(this.destroy,this)),this._ariaDescribedBy(),this._initFocus()},_ensureContentId:function(e){var i=t(e);i.attr("id")||i.attr("id",n.guid()+"_k-popup")},_ariaDescribedBy:function(){this.wrapper.attr("aria-describedby",this.element.attr("id"))},_initFocus:function(){var t=this.options;this._defaultFocus=this._chooseEntryFocus(),this._defaultFocus&&t.visible&&t.modal&&this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(h+" > .k-button")[0]},options:{title:window.location.host,closable:!1,messages:{okText:"OK",cancel:"Cancel",promptInput:"Input"}}}),k=b.extend({_init:function(t,e){b.fn._init.call(this,t,e),this.wrapper.addClass("k-alert")},options:{name:"Alert",modal:!0,actions:[{text:"#: messages.okText #"}]}});n.ui.plugin(k);var y=b.extend({_init:function(e,i){b.fn._init.call(this,e,i),this.wrapper.addClass("k-confirm"),this.result=t.Deferred()},options:{name:"Confirm",modal:!0,actions:[{text:"#: messages.okText #",primary:!0,action:function(t){t.sender.result.resolve()}},{text:"#: messages.cancel #",action:function(t){t.sender.result.reject()}}]}});n.ui.plugin(y);var w=b.extend({_init:function(e,i){b.fn._init.call(this,e,i),this.wrapper.addClass("k-prompt"),this._createPrompt(),this.result=t.Deferred()},_createPrompt:function(){var e=this.options.value,n=t(i.promptInputContainer(this.options)).insertAfter(this.element);e&&n.children(".k-textbox").val(e),this._defaultFocus=this._chooseEntryFocus(),this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(".k-textbox")[0]},options:{name:"Prompt",modal:!0,value:"",actions:[{text:"#: messages.okText #",primary:!0,action:function(t){var e=t.sender,i=e.wrapper.find(".k-textbox").val();e.result.resolve(i)}},{text:"#: messages.cancel #",action:function(t){var e=t.sender.wrapper.find(".k-textbox").val();t.sender.result.reject(e)}}]}});n.ui.plugin(w),i={wrapper:s("<div class='k-widget k-window k-dialog' role='dialog' />"),action:s("<button type='button' class='k-button# if (data.primary) { # k-primary# } role='button' #'></button>"),titlebar:s("<div class='k-window-titlebar k-dialog-titlebar k-header'><span class='k-window-title k-dialog-title'>#: title #</span><div class='k-window-actions k-dialog-actions' /></div>"),close:s("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'><span class='k-icon k-i-close'></span></a>"),actionbar:s("<div class='k-button-group k-dialog-buttongroup k-dialog-button-layout-#: buttonLayout #' role='toolbar' />"),overlay:"<div class='k-overlay' />",alertWrapper:s("<div class='k-widget k-window k-dialog' role='alertdialog' />"),alert:"<div />",confirm:"<div />",prompt:"<div />",promptInputContainer:s("<div class='k-prompt-container'><input type='text' class='k-textbox' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>")},n.alert=function(e){return t(i.alert).kendoAlert({content:e}).data("kendoAlert").open()},n.confirm=function(e){return t(i.confirm).kendoConfirm({content:e}).data("kendoConfirm").open().result},n.prompt=function(e,n){return t(i.prompt).kendoPrompt({content:e,value:n}).data("kendoPrompt").open().result}}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(82)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.support,o=i.ui,r=o.Widget,a=i.keys,s=i.parseDate,l=i.date.adjustDST,c=i.date.weekInYear,u=i.ui.Selectable,h=i._extractFormat,d=i.template,f=i.getCulture,p=i.support.transitions,m=p?p.css+"transform-origin":"",g=d('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),v=d('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),b=d('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),k=i.support.browser,y=k.msie&&k.version<9,w=i._outerHeight,_=i._outerWidth,x=".kendoCalendar",S="click"+x,C="month",A="k-state-hover",T="k-state-disabled",j="k-state-focused",M="td:has(.k-link)",z="td:has(.k-link):not(."+T+")",E="blur"+x,I="focus",D=I+x,O=n.touch?"touchstart":"mouseenter",P=n.touch?"touchstart"+x:"mouseenter"+x,R=n.touch?"touchend"+x+" touchmove"+x:"mouseleave"+x,L=t.proxy,F=t.extend,N=Date,B={month:0,year:1,decade:2,century:3},q=r.extend({init:function(e,n){var o,a,l=this;r.fn.init.call(l,e,n),e=l.wrapper=l.element,(n=l.options).url=window.unescape(n.url),l.options.disableDates=at(l.options.disableDates),l._templates(),l._selectable(),l._header(),l._footer(l.footer),(a=e.addClass("k-widget k-calendar "+(n.weekNumber?" k-week-number":"")).on(P+" "+R,M,$).on("keydown.kendoCalendar","table.k-content",L(l._move,l)).on(S,M,function(e){var i=e.currentTarget.firstChild,o=l._toDateObject(i);-1!=i.href.indexOf("#")&&e.preventDefault(),"month"==l._view.name&&l.options.disableDates(o)||"month"==l._view.name&&"single"!=n.selectable||l._click(t(i))}).on("mouseup"+x,"table.k-content, .k-footer",function(){l._focusView(!1!==l.options.focusOnNav)}).attr("id"))&&(l._cellID=a+"_cell_selected"),l._isMultipleSelection()&&l.options.weekNumber&&e.on(S,"td:not(:has(.k-link))",function(e){var i=t(e.currentTarget).closest("tr").find(z).first(),n=l.selectable._lastActive=t(e.currentTarget).closest("tr").find(z).last();l.selectable.selectRange(i,n,{event:e}),l._current=l._value=l._toDateObject(n.find("a")),l._class(j,l._current)}),nt(n),o=s(n.value,n.format,n.culture),l._selectDates=[],l._index=B[n.start],l._current=new N(+Q(o,n.min,n.max)),l._addClassProxy=function(){if(l._active=!0,l._cell.hasClass(T)){var t=l._view.toDateString(G());l._cell=l._cellByDate(t)}l._cell.addClass(j)},l._removeClassProxy=function(){l._active=!1,l._cell.removeClass(j)},l.value(o),l._isMultipleSelection()&&n.selectDates.length>0&&l.selectDates(n.selectDates),i.notify(l)},options:{name:"Calendar",value:null,min:new N(1900,0,1),max:new N(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:C,depth:C,animation:{horizontal:{effects:"slideIn",reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:["change","navigate"],setOptions:function(t){nt(t),t.disableDates=at(t.disableDates),r.fn.setOptions.call(this,t),this._templates(),this._selectable(),this._footer(this.footer),this._index=B[this.options.start],this.navigate()},destroy:function(){var t=this._today;this.element.off(x),this._title.off(x),this._prevArrow.off(x),this._nextArrow.off(x),this._destroySelectable(),i.destroy(this._table),t&&i.destroy(t.off(x)),r.fn.destroy.call(this)},current:function(){return this._current},view:function(){return this._view},focus:function(t){t=t||this._table,this._bindTable(t),t.focus()},min:function(t){return this._option("min",t)},max:function(t){return this._option("max",t)},navigateToPast:function(){this._navigate("_prevArrow",-1)},navigateToFuture:function(){this._navigate("_nextArrow",1)},navigateUp:function(){var t=this._index;this._title.hasClass(T)||this.navigate(this._current,++t)},navigateDown:function(t){var e=this._index,i=this.options.depth;t&&(e!==B[i]?this.navigate(t,--e):st(this._value,this._current)&&st(this._value,t)||(this.value(t),this.trigger("change")))},navigate:function(i,n){n=isNaN(n)?B[n]:n;var o,r,a,s,l=this.options,c=l.culture,u=l.min,h=l.max,d=this._title,f=this._table,p=this._oldTable,m=this._current,g=i&&+i>+m,v=n!==e&&n!==this._index;if(i||(i=m),this._current=i=new N(+Q(i,u,h)),n===e?n=this._index:this._index=n,this._view=r=V.views[n],a=r.compare,s=n===B.century,d.toggleClass(T,s).attr("aria-disabled",s),s=a(i,u)<1,this._prevArrow.toggleClass(T,s).attr("aria-disabled",s),this._prevArrow.hasClass(T)&&this._prevArrow.removeClass(A),s=a(i,h)>-1,this._nextArrow.toggleClass(T,s).attr("aria-disabled",s),this._nextArrow.hasClass(T)&&this._nextArrow.removeClass(A),f&&p&&p.data("animating")&&(p.kendoStop(!0,!0),f.kendoStop(!0,!0)),this._oldTable=f,!f||this._changeView){d.html(r.title(i,u,h,c)),this._table=o=t(r.content(F({min:u,max:h,date:i,url:l.url,dates:l.dates,format:l.format,culture:c,disableDates:l.disableDates,isWeekColumnVisible:l.weekNumber,messages:l.messages},this[r.name]))),rt(o,r.name),ot(o);var b=f&&f.data("start")===o.data("start");this._animate({from:f,to:o,vertical:v,future:g,replace:b}),this.trigger("navigate"),this._focus(i)}n===B[l.depth]&&this._selectDates.length>0&&this._visualizeSelectedDatesInView(),"single"===this.options.selectable&&n===B[l.depth]&&this._value&&!this.options.disableDates(this._value)&&this._class("k-state-selected",this._value),this._class(j,i),!f&&this._cell&&this._cell.removeClass(j),this._changeView=!0},selectDates:function(i){var n,o,r=this;if(i===e)return r._selectDates;o=i.map(function(t){return t.getTime()}).filter(function(t,e,i){return i.indexOf(t)===e}).map(function(t){return new Date(t)}),n=t.grep(o,function(t){if(t)return+r._validateValue(new Date(t.setHours(0,0,0,0)))==+t}),r._selectDates=n.length>0?n:0===o.length?o:r._selectDates,r._visualizeSelectedDatesInView()},value:function(t){var i=this._view,n=this._view;if(t===e)return this._value;if((t=this._validateValue(t))&&this._isMultipleSelection()){var o=new Date(+t);o.setHours(0,0,0,0),this._selectDates=[o],this.selectable._lastActive=null}i&&null===t&&this._cell?this._cell.removeClass("k-state-selected"):(this._changeView=!t||n&&0!==n.compare(t,this._current),this.navigate(t))},_validateValue:function(t){var i=this.options,n=i.min,o=i.max;return null===t&&(this._current=et(this._current.getFullYear(),this._current.getMonth(),this._current.getDate())),null!==(t=s(t,i.format,i.culture))&&(Y(t=new N(+t),n,o)||(t=null)),null!==t&&this.options.disableDates(new Date(+t))?this._value===e&&(this._value=null):this._value=t,this._value},_visualizeSelectedDatesInView:function(){var e={};t.each(this._selectDates,function(t,n){e[i.calendar.views[0].toDateString(n)]=n}),this.selectable.clear();var n=this._table.find(M).filter(function(n,o){return e[t(o.firstChild).attr(i.attr("value"))]});n.length>0&&this.selectable._selectElement(n,!0)},_isMultipleSelection:function(){return"multiple"===this.options.selectable},_selectable:function(){if(this._isMultipleSelection()){var t=this.options.selectable,e=u.parseOptions(t);e.multiple&&this.element.attr("aria-multiselectable","true"),this.selectable=new u(this.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:e.multiple,filter:"table.k-month:eq(0) "+z,change:L(this._onSelect,this),relatedTarget:L(this._onRelatedTarget,this)})}},_onRelatedTarget:function(t){this.selectable.options.multiple&&t.is(z)&&(this._current=this._toDateObject(t.find("a")),this._class(j,this._toDateObject(t.find("a"))))},_onSelect:function(e){var i=this,n=e;u.parseOptions(i.options.selectable).multiple?(n.event.ctrlKey||n.event.metaKey?t(n.event.currentTarget).is(z)?i._toggleSelection(t(n.event.currentTarget)):(i._cellsBySelector(z).each(function(e,n){var o=i._toDateObject(t(n).find("a"));i._deselect(o)}),i._addSelectedCellsToArray()):n.event.shiftKey?i._rangeSelection(i._cell):t(n.event.currentTarget).is(M)?i.value(i._toDateObject(t(n.event.currentTarget).find("a"))):(i._selectDates=[],i._addSelectedCellsToArray()),i.trigger("change")):t(n.event.currentTarget).is("td")&&!t(n.event.currentTarget).hasClass("k-state-selected")?t(n.event.currentTarget).addClass("k-state-selected"):i._click(t(n.event.currentTarget).find("a"))},_destroySelectable:function(){this.selectable&&(this.selectable.destroy(),this.selectable=null)},_toggleSelection:function(t){var e=this._toDateObject(t.find("a"));t.hasClass("k-state-selected")?this._selectDates.push(e):this._deselect(e)},_rangeSelection:function(t,e){var i,n=e||this._toDateObject(this.selectable.value().first().find("a")),o=this._toDateObject(t.find("a"));this.selectable._lastActive||this._value?n=this.selectable._lastActive?this._toDateObject(this.selectable._lastActive.find("a")):new Date(+this._value):this.selectable._lastActive=e?this._cellByDate(this._view.toDateString(e),z):this.selectable.value().first(),this._selectDates=[],i=X(n,o),J(this._selectDates,i,n,this.options.disableDates),this._visualizeSelectedDatesInView()},_cellsBySelector:function(t){return this._table.find(t)},_addSelectedCellsToArray:function(){var e=this;e.selectable.value().each(function(i,n){var o=e._toDateObject(t(n.firstChild));e.options.disableDates(o)||e._selectDates.push(o)})},_deselect:function(t){var e=this._selectDates.map(Number).indexOf(+t);-1!=e&&this._selectDates.splice(e,1)},_dateInView:function(t){var e=this._toDateObject(this._cellsBySelector(M+":first").find("a"));return+t<=+this._toDateObject(this._cellsBySelector(M+":last").find("a"))&&+t>=+e},_move:function(n){var o,r,s,l,c=this.options,u=n.keyCode,h=this._view,d=this._index,f=this.options.min,p=this.options.max,m=new N(+this._current),g=i.support.isRtl(this.wrapper),v=this.options.disableDates;if(n.target===this._table[0]&&(this._active=!0),u==a.RIGHT&&!g||u==a.LEFT&&g?(o=1,r=!0):u==a.LEFT&&!g||u==a.RIGHT&&g?(o=-1,r=!0):u==a.UP?(o=0===d?-7:-4,r=!0):u==a.DOWN?(o=0===d?7:4,r=!0):u==a.SPACEBAR?(o=0,r=!0):u!=a.HOME&&u!=a.END||(l=h[s=u==a.HOME?"first":"last"](m),(m=new N(l.getFullYear(),l.getMonth(),l.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds())).setFullYear(l.getFullYear()),r=!0),n.ctrlKey||n.metaKey){if(u==a.RIGHT&&!g||u==a.LEFT&&g)this.navigateToFuture(),r=!0;else if(u==a.LEFT&&!g||u==a.RIGHT&&g)this.navigateToPast(),r=!0;else if(u==a.UP)this.navigateUp(),r=!0;else if(u==a.DOWN)this._click(t(this._cell[0].firstChild)),r=!0;else if((u==a.ENTER||u==a.SPACEBAR)&&this._isMultipleSelection()){this._keyboardToggleSelection(n);var b=this._toDateObject(t(this._cell[0]).find("a"));this._class(j,b)}}else n.shiftKey?(o!==e||s)&&(s||h.setDate(m,o),v(m)&&(m=this._nextNavigatable(m,o)),Y(m,f=et(f.getFullYear(),f.getMonth(),f.getDate()),p)&&(this._isMultipleSelection()?this._keyboardRangeSelection(n,m):this._focus(Q(m,c.min,c.max)))):(u==a.ENTER||u==a.SPACEBAR?("month"==h.name&&this._isMultipleSelection()?(this.value(this._toDateObject(t(this._cell.find("a")))),this.selectable._lastActive=t(this._cell[0]),this.trigger("change")):this._click(t(this._cell[0].firstChild)),r=!0):u==a.PAGEUP?(r=!0,this.navigateToPast()):u==a.PAGEDOWN&&(r=!0,this.navigateToFuture()),(o||s)&&(s||h.setDate(m,o),v(m)&&(m=this._nextNavigatable(m,o)),Y(m,f=et(f.getFullYear(),f.getMonth(),f.getDate()),p)&&(this._isMultipleSelection()?this._dateInView(m)?(this._current=m,this._class(j,m)):this.navigate(m):this._focus(Q(m,c.min,c.max)))));return r&&n.preventDefault(),this._current},_keyboardRangeSelection:function(t,e){var i,n;if(!this._dateInView(e))return this._selectDates=[],n=X(i=this.selectable._lastActive?this._toDateObject(this.selectable._lastActive.find("a")):e,new Date(+e)),J(this._selectDates,n,i,this.options.disableDates),this.navigate(e),this._current=e,this.selectable._lastActive=this.selectable._lastActive||this._cellByDate(this._view.toDateString(e),z),void this.trigger("change");this.selectable.options.filter=this.wrapper.find("table").length>1&&+e>+this._current?"table.k-month:eq(1) "+z:"table.k-month:eq(0) "+z,this._class(j,e),this._current=e,this._rangeSelection(this._cellByDate(this._view.toDateString(e),z),e),this.trigger("change"),this.selectable.options.filter="table.k-month:eq(0) "+z},_keyboardToggleSelection:function(e){e.currentTarget=this._cell[0],this.selectable._lastActive=t(this._cell[0]),t(this._cell[0]).hasClass("k-state-selected")?(this.selectable._unselect(t(this._cell[0])),this.selectable.trigger("change",{event:e})):this.selectable.value(t(this._cell[0]),{event:e})},_nextNavigatable:function(t,e){var i=!0,n=this._view,o=this.options.min,r=this.options.max,a=this.options.disableDates,s=new Date(t.getTime());for(n.setDate(s,-e);i;){if(n.setDate(t,e),!Y(t,o,r)){t=s;break}i=a(t)}return t},_animate:function(t){var e=t.from,i=t.to,n=this._active;e?e.parent().data("animating")?(e.off(x),e.parent().kendoStop(!0,!0).remove(),e.remove(),i.insertAfter(this.element[0].firstChild),this._focusView(n)):!e.is(":visible")||!1===this.options.animation||t.replace?(i.insertAfter(e),e.off(x).remove(),this._focusView(n)):this[t.vertical?"_vertical":"_horizontal"](e,i,t.future):(i.insertAfter(this.element[0].firstChild),this._bindTable(i))},_horizontal:function(t,e,i){var n=this,o=n._active,r=n.options.animation.horizontal,a=r.effects,s=_(t);a&&-1!=a.indexOf("slideIn")&&(t.add(e).css({width:s}),t.wrap("<div/>"),n._focusView(o,t),t.parent().css({position:"relative",width:2*s,float:"left","margin-left":i?0:-s}),e[i?"insertAfter":"insertBefore"](t),F(r,{effects:"slideIn:"+(i?"right":"left"),complete:function(){t.off(x).remove(),n._oldTable=null,e.unwrap(),n._focusView(o)}}),t.parent().kendoStop(!0,!0).kendoAnimate(r))},_vertical:function(t,e){var i,n,o=this,r=o.options.animation.vertical,a=r.effects,s=o._active;a&&-1!=a.indexOf("zoom")&&(e.css({position:"absolute",top:w(t.prev()),left:0}).insertBefore(t),m&&(n=(n=(i=o._cellByDate(o._view.toDateString(o._current))).position()).left+parseInt(i.width()/2,10)+"px "+(n.top+parseInt(i.height()/2,10))+"px",e.css(m,n)),t.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){t.off(x).remove(),o._oldTable=null,e.css({position:"static",top:0,left:0}),o._focusView(s)}}),e.kendoStop(!0,!0).kendoAnimate(r))},_cellByDate:function(e,n){return this._table.find(n||"td:not(.k-other-month)").filter(function(){return t(this.firstChild).attr(i.attr("value"))===e})},_class:function(t,e){var i,n=this._cellID,o=this._cell,r=this._view.toDateString(e);o&&o.removeAttr("aria-selected").removeAttr("aria-label").removeAttr("id"),e&&"month"==this._view.name&&(i=this.options.disableDates(e)),this._cellsBySelector(this._isMultipleSelection()?M:"td:not(.k-other-month)").removeClass(t),o=this._cellByDate(r,"multiple"==this.options.selectable?M:"td:not(.k-other-month)").attr("aria-selected",!0),(t===j&&!this._active&&!1!==this.options.focusOnNav||i)&&(t=""),o.addClass(t),o[0]&&(this._cell=o),n&&(o.attr("id",n),this._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",n))},_bindTable:function(t){t.on(D,this._addClassProxy).on(E,this._removeClassProxy)},_click:function(t){var e=this.options,i=new Date(+this._current),n=this._toDateObject(t);l(n,0),"month"==this._view.name&&this.options.disableDates(n)&&(n=this._value),this._view.setDate(i,n),this.navigateDown(Q(i,e.min,e.max))},_focus:function(t){0!==this._view.compare(t,this._current)?this.navigate(t):(this._current=t,this._class(j,t))},_focusView:function(t,e){t&&this.focus(e)},_footer:function(e){var n=G(),o=this.element,r=o.find(".k-footer");if(!e)return this._toggle(!1),void r.hide();r[0]||(r=t('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(o)),this._today=r.show().find(".k-link").html(e(n)).attr("title",i.toString(n,"D",this.options.culture)),this._toggle()},_header:function(){var t,e=this,i=e.element;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" aria-label="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" aria-label="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),t=i.find(".k-link").on(P+" "+R+" "+D+" "+E,$).click(!1),e._title=t.eq(1).on(S,function(){e._active=!1!==e.options.focusOnNav,e.navigateUp()}),e._prevArrow=t.eq(0).on(S,function(){e._active=!1!==e.options.focusOnNav,e.navigateToPast()}),e._nextArrow=t.eq(2).on(S,function(){e._active=!1!==e.options.focusOnNav,e.navigateToFuture()})},_navigate:function(t,e){var i=this._index+1,n=new N(+this._current);if(this._isMultipleSelection()){var o=this._table.find("td:not(.k-other-month)").has(".k-link").first();n=this._toDateObject(o.find("a")),this._current=new Date(+n)}(t=this[t]).hasClass(T)||(i>3?n.setFullYear(n.getFullYear()+100*e):V.views[i].setDate(n,e),this.navigate(n))},_option:function(t,i){var n,o=this.options,r=this._value||this._current;if(i===e)return o[t];(i=s(i,o.format,o.culture))&&(o[t]=new N(+i),((n="min"===t?i>r:r>i)||function(t,e){return!!t&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}(r,i))&&(n&&(this._value=null),this._changeView=!0),this._changeView||(this._changeView=!(!o.month.content&&!o.month.empty)),this.navigate(this._value),this._toggle())},_toggle:function(t){var i=this.options,n=this.options.disableDates(G()),o=this._today;t===e&&(t=Y(G(),i.min,i.max)),o&&(o.off(S),t&&!n?o.addClass("k-nav-today").removeClass(T).on(S,L(this._todayClick,this)):o.removeClass("k-nav-today").addClass(T).on(S,tt))},_todayClick:function(t){var e=B[this.options.depth],i=this.options.disableDates,n=G();t.preventDefault(),i(n)||(0===this._view.compare(this._current,n)&&this._index==e&&(this._changeView=!1),this._isMultipleSelection()&&(this._selectDates=[n],this.selectable._lastActive=null),this._value=n,this.navigate(n,e),this.trigger("change"))},_toDateObject:function(e){var n=t(e).attr(i.attr("value")).split("/");return n=et(n[0],n[1],n[2])},_templates:function(){var t=this.options,e=t.footer,n=t.month,o=n.content,r=n.weekNumber,a=n.empty;this.month={content:d('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+i.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(o||"#=data.value#")+"</a></td>",{useWithBlock:!!o}),empty:d('<td role="gridcell">'+(a||"&nbsp;")+"</td>",{useWithBlock:!!a}),weekNumber:d('<td class="k-alt">'+(r||"#= data.weekNumber #")+"</td>",{useWithBlock:!!r})},this.footer=!1!==e?d(e||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});o.plugin(q);var V={firstDayOfMonth:function(t){return et(t.getFullYear(),t.getMonth(),1)},firstVisibleDay:function(t,e){var n=(e=e||i.culture().calendar).firstDay,o=new N(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());for(o.setFullYear(t.getFullYear());o.getDay()!=n;)V.setTime(o,-864e5);return o},setTime:function(t,e){var i=t.getTimezoneOffset(),n=new N(t.getTime()+e),o=n.getTimezoneOffset()-i;t.setTime(n.getTime()+6e4*o)},views:[{name:C,title:function(t,e,i,n){return it(n).months.names[t.getMonth()]+" "+t.getFullYear()},content:function(t){var e=0,n=t.min,o=t.max,r=t.date,a=t.dates,s=t.format,u=t.culture,h=t.url,d=t.isWeekColumnVisible,f=h&&a[0],p=it(u),m=p.firstDay,g=p.days,v=K(g.names,m),b=K(g.namesShort,m),k=V.firstVisibleDay(r,p),y=this.first(r),w=this.last(r),_=this.toDateString,x=G(),S='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+_(k)+'"><thead><tr role="row">';for(d&&(S+='<th scope="col" class="k-alt">'+t.messages.weekColumnHeader+"</th>");e<7;e++)S+='<th scope="col" title="'+v[e]+'">'+b[e]+"</th>";return l(x,0),x=+x,U({cells:42,perRow:7,html:S+='</tr></thead><tbody><tr role="row">',start:k,isWeekColumnVisible:d,weekNumber:t.weekNumber,min:et(n.getFullYear(),n.getMonth(),n.getDate()),max:et(o.getFullYear(),o.getMonth(),o.getDate()),content:t.content,empty:t.empty,setter:this.setDate,disableDates:t.disableDates,build:function(t,e,n){var o=[],r=t.getDay(),l="",c="#";return(t<y||t>w)&&o.push("k-other-month"),n(t)&&o.push(T),+t===x&&o.push("k-today"),0!==r&&6!==r||o.push("k-weekend"),f&&function(t,e){for(var i=0,n=e.length;i<n;i++)if(t===+e[i])return!0;return!1}(+t,a)&&(c=h.replace("{0}",i.toString(t,s,u)),l=" k-action-link"),{date:t,dates:a,ns:i.ns,title:i.toString(t,"D",u),value:t.getDate(),dateString:_(t),cssClass:o[0]?' class="'+o.join(" ")+'"':"",linkClass:l,url:c}},weekNumberBuild:function(t){return{weekNumber:c(t,i.culture().calendar.firstDay),currentDate:t}}})},first:function(t){return V.firstDayOfMonth(t)},last:function(t){var e=et(t.getFullYear(),t.getMonth()+1,0),i=V.firstDayOfMonth(t),n=Math.abs(e.getTimezoneOffset()-i.getTimezoneOffset());return n&&e.setHours(i.getHours()+n/60),e},compare:function(t,e){var i=t.getMonth(),n=t.getFullYear(),o=e.getMonth(),r=e.getFullYear();return n>r?1:n<r?-1:i==o?0:i>o?1:-1},setDate:function(t,e){var i=t.getHours();e instanceof N?t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):V.setTime(t,864e5*e),l(t,i)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/"+t.getDate()}},{name:"year",title:function(t){return t.getFullYear()},content:function(t){var e=it(t.culture).months.namesAbbr,n=this.toDateString,o=t.min,r=t.max;return U({min:et(o.getFullYear(),o.getMonth(),1),max:et(r.getFullYear(),r.getMonth(),1),start:et(t.date.getFullYear(),0,1),setter:this.setDate,build:function(t){return{value:e[t.getMonth()],ns:i.ns,dateString:n(t),cssClass:""}}})},first:function(t){return et(t.getFullYear(),0,t.getDate())},last:function(t){return et(t.getFullYear(),11,t.getDate())},compare:function(t,e){return W(t,e)},setDate:function(t,e){var i,n=t.getHours();e instanceof N?(i=e.getMonth(),t.setFullYear(e.getFullYear(),i,t.getDate()),i!==t.getMonth()&&t.setDate(0)):(i=t.getMonth()+e,t.setMonth(i),i>11&&(i-=12),i>0&&t.getMonth()!=i&&t.setDate(0)),l(t,n)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/1"}},{name:"decade",title:function(t,e,i){return H(t,e,i,10)},content:function(t){var e=t.date.getFullYear(),n=this.toDateString;return U({start:et(e-e%10-1,0,1),min:et(t.min.getFullYear(),0,1),max:et(t.max.getFullYear(),0,1),setter:this.setDate,build:function(t,e){return{value:t.getFullYear(),ns:i.ns,dateString:n(t),cssClass:0===e||11==e?' class="k-other-month"':""}}})},first:function(t){var e=t.getFullYear();return et(e-e%10,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return et(e-e%10+9,t.getMonth(),t.getDate())},compare:function(t,e){return W(t,e,10)},setDate:function(t,e){Z(t,e,1)},toDateString:function(t){return t.getFullYear()+"/0/1"}},{name:"century",title:function(t,e,i){return H(t,e,i,100)},content:function(t){var e=t.date.getFullYear(),n=t.min.getFullYear(),o=t.max.getFullYear(),r=this.toDateString,a=n,s=o;return(s-=s%10)-(a-=a%10)<10&&(s=a+9),U({start:et(e-e%100-10,0,1),min:et(a,0,1),max:et(s,0,1),setter:this.setDate,build:function(t,e){var a=t.getFullYear(),s=a+9;return a<n&&(a=n),s>o&&(s=o),{ns:i.ns,value:a+" - "+s,dateString:r(t),cssClass:0===e||11==e?' class="k-other-month"':""}}})},first:function(t){var e=t.getFullYear();return et(e-e%100,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return et(e-e%100+99,t.getMonth(),t.getDate())},compare:function(t,e){return W(t,e,100)},setDate:function(t,e){Z(t,e,10)},toDateString:function(t){var e=t.getFullYear();return e-e%10+"/0/1"}}]};function H(t,e,i,n){var o,r=t.getFullYear(),a=e.getFullYear(),s=i.getFullYear();return o=(r-=r%n)+(n-1),r<a&&(r=a),o>s&&(o=s),r+"-"+o}function U(t){var e,i=0,n=t.min,o=t.max,r=t.start,a=t.setter,s=t.build,c=t.weekNumberBuild,u=t.cells||12,h=t.isWeekColumnVisible,d=t.perRow||4,f=t.weekNumber||b,p=t.content||g,m=t.empty||v,k=t.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(h&&(k+=f(c(r)));i<u;i++)i>0&&i%d==0&&(k+='</tr><tr role="row">',h&&(k+=f(c(r)))),r=et(r.getFullYear(),r.getMonth(),r.getDate()),l(r,0),e=s(r,i,t.disableDates),k+=Y(r,n,o)?p(e):m(e),a(r,1);return k+"</tr></tbody></table>"}function W(t,e,i){var n=t.getFullYear(),o=e.getFullYear(),r=o,a=0;return i&&(r=(o-=o%i)-o%i+i-1),n>r?a=1:n<o&&(a=-1),a}function G(){var t=new N;return new N(t.getFullYear(),t.getMonth(),t.getDate())}function Q(t,e,i){var n=G();return t&&(n=new N(+t)),e>n?n=new N(+e):i<n&&(n=new N(+i)),n}function Y(t,e,i){return+t>=+e&&+t<=+i}function K(t,e){return t.slice(e).concat(t.slice(0,e))}function Z(t,e,i){e=e instanceof N?e.getFullYear():t.getFullYear()+i*e,t.setFullYear(e)}function X(t,e){if(+e<+t){var n=+t;V.views[0].setDate(t,e),V.views[0].setDate(e,new Date(n))}var o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.ceil((+r-+o)/i.date.MS_PER_DAY)}function J(t,e,i,n){for(var o=0;o<=e;o++){var r=new Date(i.getTime());n(r=new Date(r.setDate(r.getDate()+o)))||t.push(r)}}function $(e){t(this).hasClass("k-state-disabled")||t(this).toggleClass(A,O.indexOf(e.type)>-1||e.type==I)}function tt(t){t.preventDefault()}function et(t,e,i){var n=new N(t,e,i);return n.setFullYear(t,e,i),n}function it(t){return f(t).calendars.standard}function nt(t){var i=B[t.start],n=B[t.depth],o=f(t.culture);t.format=h(t.format||o.calendars.standard.patterns.d),isNaN(i)&&(i=0,t.start=C),(n===e||n>i)&&(t.depth=C),null===t.dates&&(t.dates=[])}function ot(t){y&&t.find("*").attr("unselectable","on")}function rt(t,e){t.addClass("k-"+e)}function at(e){return i.isFunction(e)?e:t.isArray(e)?function(e){var i,n=[],o=["su","mo","tu","we","th","fr","sa"];if(e[0]instanceof N)n=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].setHours(0,0,0,0));return e}(e),i="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+n+"]) > -1;if (found) { return true } else {return false}";else{for(var r=0;r<e.length;r++){var a=e[r].slice(0,2).toLowerCase(),s=t.inArray(a,o);s>-1&&n.push(s)}i="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+n+"]) > -1;if (found) { return true } else {return false}"}return new Function("date",i)}(e):t.noop}function st(t,e){return t instanceof Date&&e instanceof Date&&(t=t.getTime(),e=e.getTime()),t===e}V.isEqualDatePart=function(t,e){return!!t&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},V.isEqualDate=st,V.makeUnselectable=ot,V.restrictValue=Q,V.isInRange=Y,V.addClassToViewContainer=rt,V.normalize=nt,V.viewsEnum=B,V.disabled=at,i.calendar=V}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(11),i(63)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.Observable,o=/unrecognized expression/,r=n.extend({init:function(t,e){e=e||{},n.fn.init.call(this),this.content=t,this.id=i.guid(),this.tagName=e.tagName||"div",this.model=e.model,this._wrap=!1!==e.wrap,this._evalTemplate=e.evalTemplate||!1,this._fragments={},this.bind(["init","show","hide","transitionStart","transitionEnd"],e)},render:function(e){var n=!this.element;return n&&(this.element=this._createElement()),e&&t(e).append(this.element),n&&(i.bind(this.element,this.model),this.trigger("init")),e&&(this._eachFragment("attach"),this.trigger("show")),this.element},clone:function(){return new a(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(t){this.trigger("transitionStart",{type:t})},afterTransition:function(t){this.trigger("transitionEnd",{type:t})},hide:function(){this._eachFragment("detach"),this.element.detach(),this.trigger("hide")},destroy:function(){var t=this.element;t&&(i.unbind(t),i.destroy(t),t.remove())},fragments:function(e){t.extend(this._fragments,e)},_eachFragment:function(t){for(var e in this._fragments)this._fragments[e][t](this,e)},_createElement:function(){var e,n,r="<"+this.tagName+" />";try{"SCRIPT"===(n=t(document.getElementById(this.content)||this.content))[0].tagName&&(n=n.html())}catch(t){o.test(t.message)&&(n=this.content)}if("string"==typeof n)n=n.replace(/^\s+|\s+$/g,""),this._evalTemplate&&(n=i.template(n)(this.model||{})),e=t(r).append(n),this._wrap||(e=e.contents());else{if(e=n,this._evalTemplate){var a=t(i.template(t("<div />").append(e.clone(!0)).html())(this.model||{}));t.contains(document,e[0])&&e.replaceWith(a),e=a}this._wrap&&(e=e.wrapAll(r).parent())}return e}}),a=i.Class.extend({init:function(e){t.extend(this,{element:e.element.clone(!0),transition:e.transition,id:e.id}),e.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:t.noop,afterTransition:t.noop}),s=r.extend({init:function(t,e){r.fn.init.call(this,t,e),this.containers={}},container:function(t){var e=this.containers[t];return e||(e=this._createContainer(t),this.containers[t]=e),e},showIn:function(t,e,i){this.container(t).show(e,i)},_createContainer:function(t){var e,i=this.render(),n=i.find(t);if(!n.length&&i.is(t)){if(!i.is(t))throw new Error("can't find a container with the specified "+t+" selector");n=i}return(e=new u(n)).bind("accepted",function(t){t.view.render(n)}),e}}),l=r.extend({attach:function(t,e){t.element.find(e).replaceWith(this.render())},detach:function(){}}),c=/^(\w+)(:(\w+))?( (\w+))?$/,u=n.extend({init:function(t){n.fn.init.call(this),this.container=t,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(t,e,n){if(!t.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;n=n||t.id;var o=this,r=t===o.view?t.clone():o.view,a=o.history,s=(a[a.length-2]||{}).id===n,l=e||(s?a[a.length-1].transition:t.transition),u=function(t){if(!t)return{};var e=t.match(c)||[];return{type:e[1],direction:e[3],reverse:"reverse"===e[5]}}(l);return o.running&&o.effect.stop(),"none"===l&&(l=null),o.trigger("accepted",{view:t}),o.view=t,o.previous=r,o.running=!0,s?a.pop():a.push({id:n,transition:l}),r?(l&&i.effects.enabled?(t.element.addClass("k-fx-hidden"),t.showStart(),s&&!e&&(u.reverse=!u.reverse),o.effect=i.fx(t.element).replace(r.element,u.type).beforeTransition(function(){t.beforeTransition("show"),r.beforeTransition("hide")}).afterTransition(function(){t.afterTransition("show"),r.afterTransition("hide")}).direction(u.direction).setReverse(u.reverse),o.effect.run().then(function(){o.end()})):(t.showStart(),o.end()),!0):(t.showStart(),t.showEnd(),o.after(),!0)}});i.ViewContainer=u,i.Fragment=l,i.Layout=s,i.View=r,i.ViewClone=a}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=n.Widget,r=t.map(i.eventMap,function(t){return t}).join(" ").split(" "),a=o.extend({init:function(e,i){var n=t('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');o.fn.init.call(this,n,i),this.container=e,this.captureEvents=!1,this._attachCapture(),n.append(this.options.loading).hide().appendTo(e)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var t=this;clearTimeout(t._loading),!1!==t.options.loading&&(t.captureEvents=!0,t._loading=setTimeout(function(){t.element.show()},t.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(t){this.options.loading=t,this.element.find(">h1").html(t)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){var t=this;function e(e){t.captureEvents&&e.preventDefault()}t.captureEvents=!1;for(var i=0;i<r.length;i++)t.container[0].addEventListener(r[i],e,!0)}});n.plugin(a)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(20),i(83)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=n.Widget,r={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},a={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},s={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},l={up:"down",down:"up",left:"right",right:"left"},c=o.extend({init:function(e,n){var l,c,u=this,h=e.closest(".km-modalview-wrapper"),d=e.closest(".km-root").children(".km-pane").first(),f=h[0]?h:d;n.viewport?d=n.viewport:d[0]||(d=window),n.container?f=n.container:f[0]||(f=document.body),l={viewport:d,copyAnchorStyles:!1,autosize:!0,open:function(){u.overlay.show()},activate:t.proxy(u._activate,u),deactivate:function(){u.overlay.hide(),u._apiCall||u.trigger("hide"),u._apiCall=!1}},o.fn.init.call(u,e,n),e=u.element,n=u.options,e.wrap('<div class="km-popup-wrapper" />').addClass("km-popup").show(),c=u.options.direction.match(/left|right/)?"horizontal":"vertical",u.dimensions=s[c],u.wrapper=e.parent().css({width:n.width,height:n.height}).addClass("km-popup-wrapper km-"+n.direction).hide(),u.arrow=t('<div class="km-popup-arrow" />').prependTo(u.wrapper).hide(),u.overlay=t('<div class="km-popup-overlay" />').appendTo(f).hide(),l.appendTo=u.overlay,n.className&&u.overlay.addClass(n.className),u.popup=new i.ui.Popup(u.wrapper,t.extend(!0,l,a,r[n.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:["hide"],show:function(e){this.popup.options.anchor=t(e),this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){o.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var e=this.options.direction,i=this.dimensions,n=i.offset,o=this.popup,r=o.options.anchor,a=t(r).offset(),s=t(o.element).offset(),c=o.flipped?l[e]:e,u=2*this.arrow[i.size](),h=this.element[i.size]()-this.arrow[i.size](),d=t(r)[i.size](),f=a[n]-s[n]+d/2;f<u&&(f=u),f>h&&(f=h),this.wrapper.removeClass("km-up km-down km-left km-right").addClass("km-"+c),this.arrow.css(n,f).show()}}),u=o.extend({init:function(e,r){var a,s=this;s.initialOpen=!1,o.fn.init.call(s,e,r),a=t.extend({className:"km-popover-root",hide:function(){s.trigger("close")}},this.options.popup),s.popup=new c(s.element,a),s.popup.overlay.on("move",function(t){t.target==s.popup.overlay[0]&&t.preventDefault()}),s.pane=new n.Pane(s.element,t.extend(this.options.pane,{$angular:this.options.$angular})),i.notify(s,n)},options:{name:"PopOver",popup:{},pane:{}},events:["open","close"],open:function(t){this.popup.show(t),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigateToInitial()||this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(t){this.open(t),this.trigger("open",{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){o.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),i.destroy(this.element)}});n.plugin(c),n.plugin(u)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=i.ui.Popup,r=n.Widget,a=r.extend({init:function(e,n){var a=this,s=i.mobile.application,l=i.support.mobileOS,c=s?s.os.name:l?l.name:"ios",u="ios"===c||"wp"===c||!!s&&s.os.skin,h="blackberry"===c,d=n.align||(u?"bottom center":h?"center right":"center center"),f=n.position||(u?"bottom center":h?"center right":"center center"),p=n.effect||(u?"slideIn:up":h?"slideIn:left":"fade:in"),m=t('<div class="km-shim"/>').handler(a).hide();r.fn.init.call(a,e,n),a.shim=m,e=a.element,(n=a.options).className&&a.shim.addClass(n.className),n.modal||a.shim.on("down","_hide"),(s?s.element:t(document.body)).append(m),a.popup=new o(a.element,{anchor:m,modal:!0,appendTo:m,origin:d,position:f,animation:{open:{effects:p,duration:n.duration},close:{duration:n.duration}},close:function(t){var e=!1;a._apiCall||(e=a.trigger("hide")),e&&t.preventDefault(),a._apiCall=!1},deactivate:function(){m.hide()},open:function(){m.show()}}),i.notify(a)},events:["hide"],options:{name:"Shim",modal:!1,align:void 0,position:void 0,effect:void 0,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){r.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hide:function(e){e&&t.contains(this.shim.children().children(".k-popup")[0],e.target)||this.popup.close()}});n.plugin(a)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(161),i(162)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.support,o=i.mobile.ui,r=o.Shim,a=o.Popup,s=o.Widget,l=i.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),c=s.extend({init:function(e,c){var u,h,d,f=this,p=n.mobileOS;s.fn.init.call(f,e,c),d=(c=f.options).type,e=f.element,u=(h="auto"===d?p&&p.tablet:"tablet"===d)?a:r,c.cancelTemplate&&(l=i.template(c.cancelTemplate)),e.addClass("km-actionsheet").append(l({cancel:f.options.cancel})).wrap('<div class="km-actionsheet-wrapper" />').on("up","li>a","_click").on("click","li>a",i.preventDefault),f.view().bind("destroy",function(){f.destroy()}),f.wrapper=e.parent().addClass(d?" km-actionsheet-"+d:""),f.shim=new u(f.wrapper,t.extend({modal:p.ios&&p.majorVersion<7,className:"km-actionsheet-root"},f.options.popup)),f._closeProxy=t.proxy(f,"_close"),f._shimHideProxy=t.proxy(f,"_shimHide"),f.shim.bind("hide",f._shimHideProxy),h&&i.onResize(f._closeProxy),i.notify(f,o)},events:["open","close","command"],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(e,i){this.target=t(e),this.context=i,this.shim.show(e)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(t){var e=t.data("actionsheetContext");this.open(t,e),this.trigger("open",{target:t,context:e})},destroy:function(){s.fn.destroy.call(this),i.unbindResize(this._closeProxy),this.shim.destroy()},_click:function(e){if(!e.isDefaultPrevented()){var n=t(e.currentTarget),o=n.data("action");if(o){var r={target:this.target,context:this.context},a=this.options.$angular;a?this.element.injector().get("$parse")(o)(a[0])(r):i.getter(o)(window)(r)}this.trigger("command",{target:this.target,context:this.context,currentTarget:n}),e.preventDefault(),this._close()}},_shimHide:function(t){this.trigger("close")?t.preventDefault():this.context=this.target=null},_close:function(t){this.trigger("close")?t.preventDefault():this.close()}});o.plugin(c)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=t.proxy,a=o.extend({init:function(t,e){var i;o.fn.init.call(this,t,e),this._refreshHandler=r(this.refresh,this),this.dataSource=this.options.dataSource.bind("change",this._refreshHandler),this.directions="asc"===this.options.initialDirection?["asc","desc"]:["desc","asc"],(i=this.element.find(".k-link"))[0]||(i=this.element.wrapInner('<a class="k-link" href="#"/>').find(".k-link")),this.link=i,this.element.on("click.kendoColumnSorter",r(this._click,this))},options:{name:"ColumnSorter",mode:"single",allowUnsort:!0,compare:null,filter:"",initialDirection:"asc",showIndexes:!1},events:["change"],destroy:function(){o.fn.destroy.call(this),this.element.off(".kendoColumnSorter"),this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=this.element=this.link=this.dataSource=null},refresh:function(){var e,n,o,r,a,s,l=this.dataSource.sort()||[],c=this.element,u=c.attr(i.attr("field"));for(c.removeAttr(i.attr("dir")),c.removeAttr("aria-sort"),e=0,n=l.length;e<n;e++)u==(o=l[e]).field&&(c.attr(i.attr("dir"),o.dir),s=e+1);if(r=c.attr(i.attr("dir")),c.is("th")){var h=c.closest("table");h.parent().hasClass("k-grid-header-wrap")?h=h.closest(".k-grid").find(".k-grid-content > table"):h.parent().hasClass("k-grid")||(h=null),h&&(a=c.parent().children(":visible").index(c),c.toggleClass("k-sorted",void 0!==r),h.children("colgroup").children().eq(a).toggleClass("k-sorted",void 0!==r))}c.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove(),"asc"===r?(t('<span class="k-icon k-i-sort-asc-sm" />').appendTo(this.link),c.attr("aria-sort","ascending")):"desc"===r&&(t('<span class="k-icon k-i-sort-desc-sm" />').appendTo(this.link),c.attr("aria-sort","descending")),this.options.showIndexes&&l.length>1&&s&&t('<span class="k-sort-order" />').html(s).appendTo(this.link)},_toggleSortDirection:function(t){var e=this.directions;if(t!==e[e.length-1]||!this.options.allowUnsort)return e[0]===t?e[1]:e[0]},_click:function(t){var e,n,o=this.element,r=o.attr(i.attr("field")),a=o.attr(i.attr("dir")),s=this.options,l=null===this.options.compare?void 0:this.options.compare,c=this.dataSource.sort()||[];if(t.preventDefault(),(!s.filter||o.is(s.filter))&&(a=this._toggleSortDirection(a),!this.trigger("change",{sort:{field:r,dir:a,compare:l}}))){if("single"===s.mode)c=[{field:r,dir:a,compare:l}];else if("multiple"===s.mode){for(e=0,n=c.length;e<n;e++)if(c[e].field===r){c.splice(e,1);break}c.push({field:r,dir:a,compare:l})}this.dataSource.options.endless&&(this.dataSource.options.endless=null,o.closest(".k-grid").getKendoGrid()._endlessPageSize=this.dataSource.options.pageSize,this.dataSource.pageSize(this.dataSource.options.pageSize)),this.dataSource.sort(c)}}});n.plugin(a)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s,l;i(0),s=[i(4)],n="function"==typeof(a=function(){kendo.ooxml=kendo.ooxml||{},kendo.ooxml.createZip=function(){if("undefined"==typeof JSZip)throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");return new JSZip}})?a.apply(e,s):a,i(0),s=[i(4),n],o="function"==typeof(a=function(){!function(t){window.kendo.ooxml=window.kendo.ooxml||{};var e=kendo.ooxml,i=t.map,n=e.createZip,o={toString:function(t){return t}},r=kendo.Class.extend({});r.register=function(t){o=t},r.toString=function(t,e){return o.toString(t,e)};var a="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,",s={compression:"DEFLATE",type:"base64"};function l(t){return a+t}function c(t,e){return e.indexOf(t)}var u=JSON.parse.bind(JSON);function h(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function d(t,e){for(var i="",n=0;n<t;++n)i+=e(n);return i}function f(t,e){for(var i="",n=0;n<t.length;++n)i+=e(t[n],n);return i}var p='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',m=function(t){var e=t.frozenColumns,i=t.frozenRows,n=t.columns,o=t.defaults,r=t.data,a=t.index,s=t.mergeCells,l=t.autoFilter,c=t.filter,u=t.showGridLines,d=t.hyperlinks,m=t.validations,g=t.defaultCellStyleId,v=t.rtl;return p+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   <dimension ref="A1" />\n\n   <sheetViews>\n     <sheetView '+(v?'rightToLeft="1"':"")+" "+(0===a?'tabSelected="1"':"")+' workbookViewId="0" '+(!1===u?'showGridLines="0"':"")+">\n     "+(i||e?'\n       <pane state="frozen"\n         '+(e?'xSplit="'+e+'"':"")+"\n         "+(i?'ySplit="'+i+'"':"")+'\n         topLeftCell="'+(String.fromCharCode(65+(e||0))+((i||0)+1))+'"\n       />':"")+'\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" defaultRowHeight="'+(o.rowHeight?.75*o.rowHeight:15)+'"\n     '+(o.columnWidth?'defaultColWidth="'+y(o.columnWidth)+'"':"")+" />\n\n   "+(null!=g||n&&n.length>0?"\n     <cols>\n       "+(n&&n.length?"":'\n         <col min="1" max="16384" style="'+g+'"\n              '+(o.columnWidth?'width="'+y(o.columnWidth)+'"':"")+" /> ")+"\n       "+f(n,function(t,e){var i="number"==typeof t.index?t.index+1:e+1;return 0===t.width?"<col "+(null!=g?'style="'+g+'"':"")+'\n                        min="'+i+'" max="'+i+'" hidden="1" customWidth="1" />':"<col "+(null!=g?'style="'+g+'"':"")+'\n                      min="'+i+'" max="'+i+'" customWidth="1"\n                      '+(t.autoWidth?'width="'+(7*t.width+5)/7*256/256+'" bestFit="1"':'width="'+y(t.width)+'"')+" />"})+"\n     </cols>":"")+"\n\n   <sheetData>\n     "+f(r,function(t,e){var i="number"==typeof t.index?t.index+1:e+1;return'\n         <row r="'+i+'" x14ac:dyDescent="0.25"\n              '+(0===t.height?'hidden="1"':t.height?'ht="'+function(t){return.75*t}(t.height)+'" customHeight="1"':"")+">\n           "+f(t.data,function(t){return'\n             <c r="'+t.ref+'" '+(t.style?'s="'+t.style+'"':"")+" "+(t.type?'t="'+t.type+'"':"")+">\n               "+(null!=t.formula?function(t){return"string"==typeof t?"<f>"+h(t)+"</f>":'<f t="array" ref="'+t.ref+'">'+h(t.src)+"</f>"}(t.formula):"")+"\n               "+(null!=t.value?"<v>"+h(t.value)+"</v>":"")+"\n             </c>"})+"\n         </row>\n       "})+"\n   </sheetData>\n\n   "+(l?'<autoFilter ref="'+l.from+":"+l.to+'"/>':c?U(c):"")+"\n\n   "+(s.length?'\n     <mergeCells count="'+s.length+'">\n       '+f(s,function(t){return'<mergeCell ref="'+t+'"/>'})+"\n     </mergeCells>":"")+"\n\n   "+(m.length?"\n     <dataValidations>\n       "+f(m,function(t){return'\n         <dataValidation sqref="'+t.sqref.join(" ")+'"\n                         showErrorMessage="'+t.showErrorMessage+'"\n                         type="'+h(t.type)+'"\n                         '+("list"!==t.type?'operator="'+h(t.operator)+'"':"")+'\n                         allowBlank="'+t.allowBlank+'"\n                         showDropDown="'+t.showDropDown+'"\n                         '+(t.error?'error="'+h(t.error)+'"':"")+"\n                         "+(t.errorTitle?'errorTitle="'+h(t.errorTitle)+'"':"")+">\n           "+(t.formula1?"<formula1>"+h(t.formula1)+"</formula1>":"")+"\n           "+(t.formula2?"<formula2>"+h(t.formula2)+"</formula2>":"")+"\n         </dataValidation>"})+"\n     </dataValidations>":"")+"\n\n   "+(d.length?"\n     <hyperlinks>\n       "+f(d,function(t,e){return'\n         <hyperlink ref="'+t.ref+'" r:id="rId'+e+'"/>'})+"\n     </hyperlinks>":"")+'\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n</worksheet>'};function g(t){var e=Math.floor(t/26)-1;return(e>=0?g(e):"")+String.fromCharCode(65+t%26)}function v(t,e){return g(e)+(t+1)}function b(t,e){return"$"+g(e)+"$"+(t+1)}function k(t){var e=t.frozenRows||(t.freezePane||{}).rowSplit||1;return e-1}function y(t){return(t/7*100+.5)/100}var w=new Date(1900,0,0),_=kendo.Class.extend({init:function(t,e,i,n){this.options=t,this._strings=e,this._styles=i,this._borders=n,this._validations={}},relsToXML:function(){var t=this.options.hyperlinks||[];return t.length?function(t){var e=t.hyperlinks;return p+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+f(e,function(t,e){return'\n    <Relationship Id="rId'+e+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+h(t.target)+'" TargetMode="External" />'})+"\n</Relationships>"}({hyperlinks:t}):""},toXML:function(t){var e=this.options.mergedCells||[],i=this.options.rows||[],n=function(t,e){var i=[],n=[];!function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n){var o=n.index;"number"!=typeof o&&(o=i),e(n,o)}}}(t,function(t,e){var o={_source:t,index:e,height:t.height,cells:[]};i.push(o),n[e]=o});for(var o=E(i).slice(0),r={rowData:i,rowsByIndex:n,mergedCells:e},a=0;a<o.length;a++)P(o[a],r),delete o[a]._source;return E(i)}(i,e);this._readCells(n);var o,r=this.options.filter;r&&"number"==typeof r.from&&"number"==typeof r.to?r={from:v(k(this.options),r.from),to:v(k(this.options),r.to)}:r&&r.ref&&r.columns&&(o=r,r=null);var a=[];for(var s in this._validations)Object.prototype.hasOwnProperty.call(this._validations,s)&&a.push(this._validations[s]);var l=null;this.options.defaultCellStyle&&(l=this._lookupStyle(this.options.defaultCellStyle));var c=this.options.freezePane||{},u=this.options.defaults||{};return m({frozenColumns:this.options.frozenColumns||c.colSplit,frozenRows:this.options.frozenRows||c.rowSplit,columns:this.options.columns,defaults:u,data:n,index:t,mergeCells:e,autoFilter:r,filter:o,showGridLines:this.options.showGridLines,hyperlinks:this.options.hyperlinks||[],validations:a,defaultCellStyleId:l,rtl:void 0!==this.options.rtl?this.options.rtl:u.rtl})},_lookupString:function(t){var e,i="$"+t,n=this._strings.indexes[i];return void 0!==n?e=n:(e=this._strings.indexes[i]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,e},_lookupStyle:function(t){var e=JSON.stringify(t);if("{}"===e)return 0;var i=c(e,this._styles);return i<0&&(i=this._styles.push(e)-1),i+1},_lookupBorder:function(t){var e=JSON.stringify(t);if("{}"!==e){var i=c(e,this._borders);return i<0&&(i=this._borders.push(e)-1),i+1}},_readCells:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.cells;i.data=[];for(var o=0;o<n.length;o++){var r=this._cell(n[o],i.index,o);r&&i.data.push(r)}}},_cell:function(t,e,i){if(!t||t===z)return null;var n=t.value,o={};t.borderLeft&&(o.left=t.borderLeft),t.borderRight&&(o.right=t.borderRight),t.borderTop&&(o.top=t.borderTop),t.borderBottom&&(o.bottom=t.borderBottom),o=this._lookupBorder(o);var a=this.options.defaultCellStyle||{},s={borderId:o};!function(t){t("color"),t("background"),t("bold"),t("italic"),t("underline"),t("fontFamily")||t("fontName","fontFamily"),t("fontSize"),t("format"),t("textAlign")||t("hAlign","textAlign"),t("verticalAlign")||t("vAlign","verticalAlign"),t("wrap")}(function(e,i){var n=t[e];if(void 0===n&&(n=a[e]),void 0!==n)return s[i||e]=n,!0});var l=this.options.columns||[],c=l[i],u=typeof n;if(c&&c.autoWidth){var h=n;"number"===u&&(h=r.toString(n,t.format)),c.width=Math.max(c.width||0,String(h).length)}if("string"===u)n=function(t){return String(t).replace(/[\x00-\x1F]/g,"").replace(/\n/g,"\r\n")}(n),n=this._lookupString(n),u="s";else if("number"===u)u="n";else if("boolean"===u)u="b",n=Number(n);else if(n&&n.getTime){u=null;var d=6e4*(n.getTimezoneOffset()-w.getTimezoneOffset());n=(n-w-d)/864e5+1,s.format||(s.format="mm-dd-yy")}else u=null,n=null;s=this._lookupStyle(s);var f=v(e,i);return t.validation&&this._addValidation(t.validation,f),{value:n,formula:t.formula,type:u,style:s,ref:f}},_addValidation:function(t,e){var i={showErrorMessage:"reject"===t.type?1:0,formula1:t.from,formula2:t.to,type:S[t.dataType]||t.dataType,operator:x[t.comparerType]||t.comparerType,allowBlank:t.allowNulls?1:0,showDropDown:t.showButton?0:1,error:t.messageTemplate,errorTitle:t.titleTemplate},n=JSON.stringify(i);this._validations[n]||(this._validations[n]=i,i.sqref=[]),this._validations[n].sqref.push(e)}}),x={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},S={number:"decimal"},C={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function A(t){var e=t;return e.length<6&&(e=e.replace(/(\w)/g,function(t,e){return e+e})),(e=e.substring(1).toUpperCase()).length<8&&(e="FF"+e),e}var T=kendo.Class.extend({init:function(t){var e=this;this.options=t||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._sheets=i(this.options.sheets||[],function(t){return t.defaults=e.options,new _(t,e._strings,e._styles,e._borders)})},toZIP:function(){var t=n(),e=t.folder("docProps");e.file("core.xml",function(t){var e=t.creator,i=t.lastModifiedBy,n=t.created,o=t.modified;return p+'\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>'+h(e)+"</dc:creator>\n   <cp:lastModifiedBy>"+h(i)+'</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">'+h(n)+'</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">'+h(o)+"</dcterms:modified>\n</cp:coreProperties>"}({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var o=this._sheets.length;e.file("app.xml",function(t){var e=t.sheets;return p+'\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>'+e.length+'</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="'+e.length+'" baseType="lpstr">'+f(e,function(t,e){return t.options.title?"<vt:lpstr>"+h(t.options.title)+"</vt:lpstr>":"<vt:lpstr>Sheet"+(e+1)+"</vt:lpstr>"})+"</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>"}({sheets:this._sheets}));var r=t.folder("_rels");r.file(".rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>');var a=t.folder("xl"),s=a.folder("_rels");s.file("workbook.xml.rels",function(t){var e=t.count;return p+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+d(e,function(t){return'\n    <Relationship Id="rId'+(t+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(t+1)+'.xml" />'})+'\n  <Relationship Id="rId'+(e+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId'+(e+2)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>'}({count:o}));var l={};a.file("workbook.xml",function(t){var e=t.sheets,i=t.filterNames,n=t.userNames;return p+'\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  '+f(e,function(t,e){var i=t.options,n=i.name||i.title||"Sheet"+(e+1);return'<sheet name="'+h(n)+'" sheetId="'+(e+1)+'" r:id="rId'+(e+1)+'" />'})+"\n  </sheets>\n  "+(i.length||n.length?"\n    <definedNames>\n      "+f(i,function(t){return'\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="'+t.localSheetId+'">'+h(t.name)+"!"+h(t.from)+":"+h(t.to)+"</definedName>"})+"\n      "+f(n,function(t){return'\n         <definedName name="'+t.name+'" hidden="'+(t.hidden?1:0)+'" '+(null!=t.localSheetId?'localSheetId="'+t.localSheetId+'"':"")+">"+h(t.value)+"</definedName>"})+"\n    </definedNames>":"")+'\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>'}({sheets:this._sheets,filterNames:i(this._sheets,function(t,e){var i=t.options,n=i.name||i.title||"Sheet"+(e+1);l[n.toLowerCase()]=e;var o=i.filter;if(o){if(o.ref){var r=o.ref.split(":"),a=O(r[0]),s=O(r[1]);return{localSheetId:e,name:n,from:b(a.row,a.col),to:b(s.row,s.col)}}if(void 0!==o.from&&void 0!==o.to)return{localSheetId:e,name:n,from:b(k(i),o.from),to:b(k(i),o.to)}}}),userNames:i(this.options.names||[],function(t){return{name:t.localName,localSheetId:t.sheet?l[t.sheet.toLowerCase()]:null,value:t.value,hidden:t.hidden}})}));for(var m=a.folder("worksheets"),g=m.folder("_rels"),v=0;v<o;v++){var y=this._sheets[v],w="sheet"+(v+1)+".xml",_=y.relsToXML();_&&g.file(w+".rels",_),m.file(w,y.toXML(v))}var x=i(this._borders,u),S=i(this._styles,u),T=function(t){return t.underline||t.bold||t.italic||t.color||t.fontFamily||t.fontSize},j=i(S,function(t){if(t.color&&(t.color=A(t.color)),T(t))return t}),z=i(S,function(t){if(t.format&&void 0===C[t.format])return t}),E=i(S,function(t){if(t.background)return t.background=A(t.background),t});return a.file("styles.xml",function(t){var e=t.formats,i=t.fonts,n=t.fills,o=t.borders,r=t.styles;return p+'\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="'+e.length+'">\n  '+f(e,function(t,e){return'\n    <numFmt formatCode="'+h(t.format)+'" numFmtId="'+(165+e)+'" />'})+'\n  </numFmts>\n  <fonts count="'+(i.length+1)+'" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    '+f(i,function(t){return'\n    <font>\n      <sz val="'+(t.fontSize||11)+'" />\n      '+(t.bold?"<b/>":"")+"\n      "+(t.italic?"<i/>":"")+"\n      "+(t.underline?"<u/>":"")+"\n      "+(t.color?'<color rgb="'+h(t.color)+'" />':'<color theme="1" />')+"\n      "+(t.fontFamily?'\n        <name val="'+h(t.fontFamily)+'" />\n        <family val="2" />\n      ':'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ')+"\n    </font>"})+'\n  </fonts>\n  <fills count="'+(n.length+2)+'">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    '+f(n,function(t){return"\n      "+(t.background?'\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="'+h(t.background)+'"/>\n          </patternFill>\n        </fill>\n      ':"")})+'\n  </fills>\n  <borders count="'+(o.length+1)+'">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    '+f(o,M)+'\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="'+(r.length+1)+'">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    '+f(r,function(t){return'\n      <xf xfId="0"\n          '+(t.fontId?'fontId="'+t.fontId+'" applyFont="1"':"")+"\n          "+(t.fillId?'fillId="'+t.fillId+'" applyFill="1"':"")+"\n          "+(t.numFmtId?'numFmtId="'+t.numFmtId+'" applyNumberFormat="1"':"")+"\n          "+(t.textAlign||t.verticalAlign||t.wrap?'applyAlignment="1"':"")+"\n          "+(t.borderId?'borderId="'+t.borderId+'" applyBorder="1"':"")+">\n        "+(t.textAlign||t.verticalAlign||t.wrap?"\n        <alignment\n          "+(t.textAlign?'horizontal="'+h(t.textAlign)+'"':"")+"\n          "+(t.verticalAlign?'vertical="'+h(t.verticalAlign)+'"':"")+"\n          "+(t.wrap?'wrapText="1"':"")+" />\n        ":"")+"\n      </xf>\n    "})+'\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>'}({fonts:j,fills:E,formats:z,borders:x,styles:i(S,function(t){var e={};return T(t)&&(e.fontId=c(t,j)+1),t.background&&(e.fillId=c(t,E)+2),e.textAlign=t.textAlign,e.verticalAlign=t.verticalAlign,e.wrap=t.wrap,e.borderId=t.borderId,t.format&&(void 0!==C[t.format]?e.numFmtId=C[t.format]:e.numFmtId=165+c(t,z)),e})})),a.file("sharedStrings.xml",function(t){var e=t.count,i=t.uniqueCount,n=t.indexes;return p+'\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+e+'" uniqueCount="'+i+'">\n  '+f(Object.keys(n),function(t){return'\n    <si><t xml:space="preserve">'+h(t.substring(1))+"</t></si>"})+"\n</sst>"}(this._strings)),t.file("[Content_Types].xml",function(t){var e=t.count;return p+'\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  '+d(e,function(t){return'<Override PartName="/xl/worksheets/sheet'+(t+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />'})+'\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>'}({count:o})),t},toDataURL:function(){var t=this.toZIP();return t.generateAsync?t.generateAsync(s).then(l):l(t.generate(s))}});function j(t,e){var i="";return e&&(i+="<"+t+' style="'+function(t){var e="thin";return 2===t?e="medium":3===t&&(e="thick"),e}(e.size)+'">',e.color&&(i+='<color rgb="'+A(e.color)+'"/>'),i+="</"+t+">"),i}function M(t){return"<border>"+j("left",t.left)+j("right",t.right)+j("top",t.top)+j("bottom",t.bottom)+"</border>"}var z={};function E(t){return t.sort(function(t,e){return t.index-e.index})}function I(t,e){t.indexOf(e)<0&&t.push(e)}function D(t,e){for(var i=0;i<t.length;++i){var n=t[i],o=n.split(":"),r=o[0];if(r===e){var a=o[1];return r=O(r),{rowSpan:(a=O(a)).row-r.row+1,colSpan:a.col-r.col+1}}}}function O(t){var e=/^([a-z]+)(\d+)$/i.exec(t);return{row:function(t){return parseInt(t,10)-1}(e[2]),col:function(t){for(var e=t.toUpperCase(),i=0,n=0;n<e.length;++n)i=26*i+e.charCodeAt(n)-64;return i-1}(e[1])}}function P(t,e){var i=t._source,n=t.index,o=i.cells,r=t.cells;if(o)for(var a=0;a<o.length;a++){var s=o[a]||z,l=s.rowSpan||1,c=s.colSpan||1,u=R(r,s),h=v(n,u);if(1===l&&1===c){var d=D(e.mergedCells,h);d&&(c=d.colSpan,l=d.rowSpan)}if(F(s,r,u,c),(l>1||c>1)&&I(e.mergedCells,h+":"+v(n+l-1,u+c-1)),l>1)for(var f=n+1;f<n+l;f++){var p=e.rowsByIndex[f];p||(p=e.rowsByIndex[f]={index:f,cells:[]},e.rowData.push(p)),F(s,p.cells,u-1,c+1)}}}function R(t,e){var i;return"number"==typeof e.index?(i=e.index,L(t,e,e.index)):i=function(t,e){for(var i=t.length,n=0;n<t.length+1;n++)if(!t[n]){t[n]=e,i=n;break}return i}(t,e),i}function L(t,e,i){t[i]=e}function F(t,e,i,n){for(var o=1;o<n;o++){var r={borderTop:t.borderTop,borderRight:t.borderRight,borderBottom:t.borderBottom,borderLeft:t.borderLeft};L(e,r,i+o)}}var N=function(t){var e=t.ref,i=t.columns,n=t.generators;return'\n<autoFilter ref="'+e+'">\n  '+f(i,function(t){return'\n    <filterColumn colId="'+t.index+'">\n      '+n[t.filter](t)+"\n    </filterColumn>\n  "})+"\n</autoFilter>"},B=function(t){var e=t.logic,i=t.criteria;return"\n<customFilters "+("and"===e?'and="1"':"")+">\n"+f(i,function(t){var e=U.customOperator(t),i=U.customValue(t);return"<customFilter "+(e?'operator="'+e+'"':"")+' val="'+i+'"/>'})+"\n</customFilters>"},q=function(t){var e=t.type;return'<dynamicFilter type="'+U.dynamicFilterType(e)+'" />'},V=function(t){var e=t.type,i=t.value;return'<top10 percent="'+(/percent$/i.test(e)?1:0)+'"\n       top="'+(/^top/i.test(e)?1:0)+'"\n       val="'+i+'" />'},H=function(t){var e=t.blanks,i=t.values;return"<filters "+(e?'blank="1"':"")+">\n    "+f(i,function(t){return'\n      <filter val="'+t+'" />'})+"\n  </filters>"};function U(t){return N({ref:t.ref,columns:t.columns,generators:{custom:B,dynamic:q,top:V,value:H}})}U.customOperator=function(t){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[t.operator.toLowerCase()]},U.customValue=function(t){function e(t){return t.replace(/([*?])/g,"~$1")}switch(t.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return e(t.value)+"*";case"endswith":case"doesnotendwith":return"*"+e(t.value);case"contains":case"doesnotcontain":return"*"+e(t.value)+"*";default:return t.value}},U.dynamicFilterType=function(t){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[t.toLowerCase()]||t},kendo.deepExtend(kendo.ooxml,{IntlService:r,Workbook:T,Worksheet:_})}(window.kendo.jQuery)})?a.apply(e,s):a,i(0),s=[i(4),o],r="function"==typeof(a=function(){!function(t){var e=kendo.ooxml.Workbook;kendo.ooxml.IntlService.register({toString:kendo.toString}),kendo.ooxml.Workbook=e.extend({toDataURL:function(){var t=e.fn.toDataURL.call(this);if("string"!=typeof t)throw new Error("The toDataURL method can be used only with jsZip 2. Either include jsZip 2 or use the toDataURLAsync method.");return t},toDataURLAsync:function(){var i=t.Deferred(),n=e.fn.toDataURL.call(this);return"string"==typeof n?n=i.resolve(n):n&&n.then&&n.then(function(t){i.resolve(t)},function(){i.reject()}),i.promise()}})}(window.kendo.jQuery)})?a.apply(e,s):a,i(0),s=[r],void 0===(l="function"==typeof(a=function(){})?a.apply(e,s):a)||(t.exports=l)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},r=Math,a=t.extend,s=t.proxy,l="<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>",c=n.extend({init:function(t,e){n.fn.init.call(this,t,e),e=this.options,this._progressProperty="horizontal"===e.orientation?"width":"height",this._fields(),e.value=this._validateValue(e.value),this._validateType(e.type),this._wrapper(),this._progressAnimation(),e.value!==e.min&&!1!==e.value&&this._updateProgress()},setOptions:function(t){n.fn.setOptions.call(this,t),t.hasOwnProperty("reverse")&&this.wrapper.toggleClass("k-progressbar-reverse",t.reverse),t.hasOwnProperty("enable")&&this.enable(t.enable),this._progressAnimation(),this._validateValue(),this._updateProgress()},events:["change","complete"],options:{name:"ProgressBar",orientation:"horizontal",reverse:!1,min:0,max:100,value:0,enable:!0,type:o.VALUE,chunkCount:5,showStatus:!0,animation:{}},_fields:function(){this._isStarted=!1,this.progressWrapper=this.progressStatus=t()},_validateType:function(e){var n=!1;if(t.each(o,function(t,i){if(i===e)return n=!0,!1}),!n)throw new Error(i.format("Invalid ProgressBar type '{0}'",e))},_wrapper:function(){var t,e=this.wrapper=this.element,i=this.options,n=i.orientation;e.addClass("k-widget k-progressbar"),e.addClass("k-progressbar-"+("horizontal"===n?"horizontal":"vertical")),!1===i.enable&&e.addClass("k-state-disabled"),i.reverse&&e.addClass("k-progressbar-reverse"),!1===i.value&&e.addClass("k-progressbar-indeterminate"),i.type===o.CHUNK?this._addChunkProgressWrapper():i.showStatus&&(this.progressStatus=this.wrapper.prepend(l).find(".k-progress-status"),t=!1!==i.value?i.value:i.min,i.type===o.VALUE?this.progressStatus.text(t):this.progressStatus.text(this._calculatePercentage(t).toFixed()+"%"))},value:function(t){return this._value(t)},_value:function(t){var e,i=this.options;if(void 0===t)return i.value;"boolean"!=typeof t?(t=this._roundValue(t),isNaN(t)||(e=this._validateValue(t))!==i.value&&(this.wrapper.removeClass("k-progressbar-indeterminate"),i.value=e,this._isStarted=!0,this._updateProgress())):t||(this.wrapper.addClass("k-progressbar-indeterminate"),i.value=!1)},_roundValue:function(t){t=parseFloat(t);var e=r.pow(10,3);return r.floor(t*e)/e},_validateValue:function(t){var e=this.options;if(!1!==t){if(t<=e.min||!0===t)return e.min;if(t>=e.max)return e.max}else if(!1===t)return!1;return isNaN(this._roundValue(t))?e.min:t},_updateProgress:function(){var t=this.options,e=this._calculatePercentage();t.type===o.CHUNK?(this._updateChunks(e),this._onProgressUpdateAlways(t.value)):this._updateProgressWrapper(e)},_updateChunks:function(t){var e,i=this.options,n=i.chunkCount,o=parseInt(100/n*100,10)/100,a=parseInt(100*t,10)/100,s=r.floor(a/o);e="horizontal"===i.orientation&&!i.reverse||"vertical"===i.orientation&&i.reverse?this.wrapper.find("li.k-item:lt("+s+")"):this.wrapper.find("li.k-item:gt(-"+(s+1)+")"),this.wrapper.find(".k-state-selected").removeClass("k-state-selected").addClass("k-state-default"),e.removeClass("k-state-default").addClass("k-state-selected")},_updateProgressWrapper:function(t){var e=this.options,i=this.wrapper.find(".k-state-selected"),n=this._isStarted?this._animation.duration:0,o={};0===i.length&&this._addRegularProgressWrapper(),o[this._progressProperty]=t+"%",this.progressWrapper.animate(o,{duration:n,start:s(this._onProgressAnimateStart,this),progress:s(this._onProgressAnimate,this),complete:s(this._onProgressAnimateComplete,this,e.value),always:s(this._onProgressUpdateAlways,this,e.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(t){var e,i=this.options,n=parseFloat(t.elem.style[this._progressProperty],10);i.showStatus&&(e=1e4/parseFloat(this.progressWrapper[0].style[this._progressProperty]),this.progressWrapper.find(".k-progress-status-wrap").css(this._progressProperty,e+"%")),i.type!==o.CHUNK&&n<=98&&this.progressWrapper.removeClass("k-complete")},_onProgressAnimateComplete:function(t){var e,i=this.options,n=parseFloat(this.progressWrapper[0].style[this._progressProperty]);i.type!==o.CHUNK&&n>98&&this.progressWrapper.addClass("k-complete"),i.showStatus&&(e=i.type===o.VALUE?t:i.type==o.PERCENT?this._calculatePercentage(t).toFixed()+"%":r.floor(this._calculatePercentage(t))+"%",this.progressStatus.text(e)),t===i.min&&this.progressWrapper.hide()},_onProgressUpdateAlways:function(t){var e=this.options;this._isStarted&&this.trigger("change",{value:t}),t===e.max&&this._isStarted&&this.trigger("complete",{value:e.max})},enable:function(t){var e=this.options;e.enable=void 0===t||t,this.wrapper.toggleClass("k-state-disabled",!e.enable)},destroy:function(){n.fn.destroy.call(this)},_addChunkProgressWrapper:function(){var t=this.options,e=this.wrapper,i=100/t.chunkCount,n="";t.chunkCount<=1&&(t.chunkCount=1),n+="<ul class='k-reset'>";for(var o=t.chunkCount-1;o>=0;o--)n+="<li class='k-item k-state-default'></li>";n+="</ul>",e.append(n).find(".k-item").css(this._progressProperty,i+"%").first().addClass("k-first").end().last().addClass("k-last"),this._normalizeChunkSize()},_normalizeChunkSize:function(){var t=this.options,e=this.wrapper.find(".k-item:last"),i=parseFloat(e[0].style[this._progressProperty]),n=100-t.chunkCount*i;n>0&&e.css(this._progressProperty,i+n+"%")},_addRegularProgressWrapper:function(){this.progressWrapper=t("<div class='k-state-selected'></div>").appendTo(this.wrapper),this.options.showStatus&&(this.progressWrapper.append(l),this.progressStatus=this.wrapper.find(".k-progress-status"))},_calculateChunkSize:function(){var t=this.options.chunkCount,e=this.wrapper.find("ul.k-reset");return(parseInt(e.css(this._progressProperty),10)-(t-1))/t},_calculatePercentage:function(t){var e=this.options,i=void 0!==t?t:e.value,n=e.min,o=e.max;return this._onePercent=r.abs((o-n)/100),r.abs((i-n)/this._onePercent)},_progressAnimation:function(){var t=this.options,e=t.animation;this._animation=!1===e?{duration:0}:a({duration:400},t.animation)}});i.ui.plugin(c)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(17)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=t.proxy,a=".k-i-arrow-end-left",s=".k-i-arrow-end-right",l=".k-i-arrow-60-left",c=".k-i-arrow-60-right",u=".kendoPager",h=t(document.documentElement),d=Number.MAX_VALUE,f=i.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>');function p(t,e,n,o,r){return t({idx:e,text:n,ns:i.ns,numeric:o,title:r||""})}function m(t,e,i){return f({className:t.substring(1),text:e,wrapClassName:i||""})}function g(t,e,n,o){t.find(e).parent().attr(i.attr("page"),n).attr("tabindex",-1).toggleClass("k-state-disabled",o)}function v(t,e){g(t,a,1,e<=1)}function b(t,e){g(t,l,Math.max(1,e-1),e<=1)}function k(t,e,i){g(t,c,Math.min(i,e+1),e>=i)}function y(t,e,i){g(t,s,i,e>=i)}var w=o.extend({init:function(e,n){var h,d;if(o.fn.init.call(this,e,n),n=this.options,this.dataSource=i.data.DataSource.create(n.dataSource),this.linkTemplate=i.template(this.options.linkTemplate),this.selectTemplate=i.template(this.options.selectTemplate),this.currentPageTemplate=i.template(this.options.currentPageTemplate),h=this.page(),d=this.totalPages(),this._refreshHandler=r(this.refresh,this),this.dataSource.bind("change",this._refreshHandler),this.downEvent=i.applyEventMap("down",i.guid()),n.previousNext&&(this.element.find(a).length||(this.element.append(m(a,n.messages.first,"k-pager-first")),v(this.element,h)),this.element.find(l).length||(this.element.append(m(l,n.messages.previous)),b(this.element,h))),n.numeric&&(this.list=this.element.find(".k-pager-numbers"),this.list.length||(this.list=t('<ul class="k-pager-numbers k-reset" />').appendTo(this.element))),n.input&&(this.element.find(".k-pager-input").length||this.element.append('<span class="k-pager-input k-label">'+n.messages.page+'<input class="k-textbox">'+i.format(n.messages.of,d)+"</span>"),this.element.on("keydown"+u,".k-pager-input input",r(this._keydown,this))),n.previousNext&&(this.element.find(c).length||(this.element.append(m(c,n.messages.next)),k(this.element,h,d)),this.element.find(s).length||(this.element.append(m(s,n.messages.last,"k-pager-last")),y(this.element,h,d))),n.pageSizes){if(!this.element.find(".k-pager-sizes").length){var f=n.pageSizes.length?n.pageSizes:["all",5,10,20],p=t.map(f,function(t){return t.toLowerCase&&"all"===t.toLowerCase()?"<option value='all'>"+n.messages.allPages+"</option>":"<option>"+t+"</option>"});t('<span class="k-pager-sizes k-label"><select/>'+n.messages.itemsPerPage+"</span>").appendTo(this.element).find("select").html(p.join("")).end().appendTo(this.element)}this.element.find(".k-pager-sizes select").val(this.pageSize()),i.ui.DropDownList&&this.element.find(".k-pager-sizes select").show().kendoDropDownList(),this.element.on("change"+u,".k-pager-sizes select",r(this._change,this))}n.refresh&&(this.element.find(".k-pager-refresh").length||this.element.append('<a href="#" class="k-pager-refresh k-link" title="'+n.messages.refresh+'" aria-label="'+n.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>'),this.element.on("click"+u,".k-pager-refresh",r(this._refreshClick,this))),n.info&&(this.element.find(".k-pager-info").length||this.element.append('<span class="k-pager-info k-label" />')),this.element.on("click"+u,"a",r(this._click,this)).addClass("k-pager-wrap k-widget k-floatwrap"),this.element.on("click"+u,".k-current-page",r(this._toggleActive,this)),n.autoBind&&this.refresh(),i.notify(this)},destroy:function(){o.fn.destroy.call(this),this.element.off(u),this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=null,i.destroy(this.element),this.element=this.list=null},events:["change"],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(t){this.dataSource.unbind("change",this._refreshHandler),this.dataSource=this.options.dataSource=t,t.bind("change",this._refreshHandler),this.options.autoBind&&t.fetch()},refresh:function(e){var n,o,r,a=1,s=this.page(),l="",c=this.options,u=this.pageSize(),f=this.dataSource.total(),m=this.totalPages(),g=this.linkTemplate,w=c.buttonCount;if(h.unbind(this.downEvent,t.proxy(this._hideList,this)),!e||"itemchange"!=e.action){if(c.numeric){for(s>w&&(a=0==(r=s%w)?s-w+1:s-r+1),o=Math.min(a+w-1,m),a>1&&(l+=p(g,a-1,"...",!1,c.messages.morePages)),n=a;n<=o;n++)l+=p(n==s?this.selectTemplate:g,n,n,!0);o<m&&(l+=p(g,n,"...",!1,c.messages.morePages)),""===l&&(l=this.selectTemplate({text:0})),l=this.currentPageTemplate({text:s})+l,this.list.removeClass("k-state-expanded").html(l)}if(c.info&&(l=f>0?i.format(c.messages.display,this.dataSource.options.endless?1:Math.min((s-1)*u+1,f),Math.min(s*u,f),f):c.messages.empty,this.element.find(".k-pager-info").html(l)),c.input&&this.element.find(".k-pager-input").html(this.options.messages.page+'<input class="k-textbox" aria-label="'+s+'">'+i.format(c.messages.of,m)).find("input").val(s).attr("disabled",f<1).toggleClass("k-state-disabled",f<1),c.previousNext&&(v(this.element,s),b(this.element,s),k(this.element,s,m),y(this.element,s,m)),c.pageSizes){var _=u;this.element.find(".k-pager-sizes option[value='all']").length>0&&(u===this.dataSource.total()||u==d)&&(u="all",_=c.messages.allPages),this.element.find(".k-pager-sizes select").val(u).attr("aria-label",u).filter("["+i.attr("role")+"=dropdownlist]").kendoDropDownList("value",u).kendoDropDownList("text",_)}}},_keydown:function(t){if(t.keyCode===i.keys.ENTER){var e=this.element.find(".k-pager-input").find("input"),n=parseInt(e.val(),10);(isNaN(n)||n<1||n>this.totalPages())&&(n=this.page()),e.val(n),this.page(n)}},_refreshClick:function(t){t.preventDefault(),this.dataSource.read()},_change:function(t){var e=t.currentTarget.value,i=parseInt(e,10),n=this.dataSource;isNaN(i)?"all"==(e+"").toLowerCase()&&(n._pageSize=void 0,n._take=void 0,n.fetch()):n.pageSize(i)},_toggleActive:function(){this.list.hasClass("k-state-expanded")?h.unbind(this.downEvent,t.proxy(this._hideList,this)):h.bind(this.downEvent,t.proxy(this._hideList,this)),this.list.toggleClass("k-state-expanded")},_hideList:function(e){var n=i.eventTarget(e);t.contains(this.list[0],n)||(h.unbind(this.downEvent,t.proxy(this._hideList,this)),this.list.removeClass("k-state-expanded"))},_click:function(e){var n=t(e.currentTarget);e.preventDefault(),n.is(".k-state-disabled")||this.page(n.attr(i.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(t){if(void 0===t)return this.dataSource.total()>0?this.dataSource.page():0;this.trigger("pageChange",{index:t})||(this.dataSource.page(t),this.trigger("change",{index:t}))}});n.plugin(w)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.support,o=window.location,r=window.history,a=i.support.browser.msie,s=/^#*/,l=window.document;function c(t,e){return e?(t+"/"===e&&(t=e),new RegExp("^"+e,"i").test(t)||(t=e+"/"+t),o.protocol+"//"+(o.host+"/"+t).replace(/\/\/+/g,"/")):t}function u(t){return t?"#!":"#"}function h(t){var e=o.href;return"#!"===t&&e.indexOf("#")>-1&&e.indexOf("#!")<0?null:e.split(t)[1]||""}function d(t,e){return 0===e.indexOf(t)?e.substr(t.length).replace(/\/\//g,"/"):e}var f=i.Class.extend({back:function(){a?setTimeout(function(){r.back()}):r.back()},forward:function(){a?setTimeout(function(){r.forward()}):r.forward()},length:function(){return r.length},replaceLocation:function(t){o.replace(t)}}),p=f.extend({init:function(t){this.root=t},navigate:function(t){r.pushState({},l.title,c(t,this.root))},replace:function(t){r.replaceState({},l.title,c(t,this.root))},normalize:function(t){return d(this.root,t)},current:function(){var t=o.pathname;return o.search&&(t+=o.search),d(this.root,t)},change:function(e){t(window).bind("popstate.kendo",e)},stop:function(){t(window).unbind("popstate.kendo")},normalizeCurrent:function(t){var e,i=t.root,n=o.pathname,a=h(u(t.hashBang));i===n+"/"&&(e=i),i===n&&a&&(e=c(a.replace(s,""),i)),e&&r.pushState({},l.title,e)}});function m(t){return t.replace(/^(#)?/,"#")}function g(t){return t.replace(/^(#(!)?)?/,"#!")}var v=f.extend({init:function(t){this._id=i.guid(),this.prefix=u(t),this.fix=t?g:m},navigate:function(t){o.hash=this.fix(t)},replace:function(t){this.replaceLocation(this.fix(t))},normalize:function(t){return t.indexOf(this.prefix)<0?t:t.split(this.prefix)[1]},change:function(e){n.hashChange?t(window).on("hashchange."+this._id,e):this._interval=setInterval(e,50)},stop:function(){t(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return h(this.prefix)},normalizeCurrent:function(t){var e=o.pathname,i=t.root;return!(!t.pushState||i===e||(this.replaceLocation(i+this.prefix+d(i,e)),0))}}),b=i.Observable.extend({start:function(e){if(e=e||{},this.bind(["change","back","same"],e),!this._started){this._started=!0,e.root=e.root||"/";var i,n=this.createAdapter(e);n.normalizeCurrent(e)||(i=n.current(),t.extend(this,{adapter:n,root:e.root,historyLength:n.length(),current:i,locations:[i]}),n.change(t.proxy(this,"_checkUrl")))}},createAdapter:function(t){return n.pushState&&t.pushState?new p(t.root):new v(t.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind("change"),this._started=!1)},change:function(t){this.bind("change",t)},replace:function(t,e){this._navigate(t,e,function(e){e.replace(t),this.locations[this.locations.length-1]=this.current})},navigate:function(t,e){if("#:back"===t)return this.backCalled=!0,void this.adapter.back();this._navigate(t,e,function(e){e.navigate(t),this.locations.push(this.current)})},_navigate:function(t,e,i){var n=this.adapter;t=n.normalize(t),this.current!==t&&this.current!==decodeURIComponent(t)?!e&&this.trigger("change",{url:t,decode:!1})||(this.current=t,i.call(this,n),this.historyLength=n.length()):this.trigger("same")},_checkUrl:function(){var t=this.adapter,e=t.current(),i=t.length(),n=this.historyLength===i,o=e===this.locations[this.locations.length-2]&&n,r=this.backCalled,a=this.current;return null===e||this.current===e||this.current===decodeURIComponent(e)||(this.historyLength=i,this.backCalled=!1,this.current=e,o&&this.trigger("back",{url:a,to:e})?(t.forward(),void(this.current=a)):this.trigger("change",{url:e,backButtonPressed:!r})?(o?t.forward():(t.back(),this.historyLength--),void(this.current=a)):void(o?this.locations.pop():this.locations.push(e)))}});i.History=b,i.History.HistoryAdapter=f,i.History.HashAdapter=v,i.History.PushStateAdapter=p,i.absoluteURL=c,i.history=new b}(window.kendo.jQuery),function(){var t=window.kendo,e=t.history,i=t.Observable,n=/\((.*?)\)/g,o=/(\(\?)?:\w+/g,r=/\*\w+/g,a=/[\-{}\[\]+?.,\\\^$|#\s]/g;function s(t,e){return e?t:"([^/]+)"}function l(t){return t.replace(/(\?.*)|(#.*)/g,"")}var c=t.Class.extend({init:function(t,e,i){t instanceof RegExp||(t=function(t,e){return new RegExp("^"+t.replace(a,"\\$&").replace(n,"(?:$1)?").replace(o,s).replace(r,"(.*?)")+"$",e?"i":"")}(t,i)),this.route=t,this._callback=e},callback:function(e,i,n){var o,r,a=0,s=t.parseQueryStringParams(e);if(s._back=i,e=l(e),r=(o=this.route.exec(e).slice(1)).length,n)for(;a<r;a++)void 0!==o[a]&&(o[a]=decodeURIComponent(o[a]));o.push(s),this._callback.apply(null,o)},worksWith:function(t,e,i){return!!this.route.test(l(t))&&(this.callback(t,e,i),!0)}}),u=i.extend({init:function(t){t||(t={}),i.fn.init.call(this),this.routes=[],this.pushState=t.pushState,this.hashBang=t.hashBang,this.root=t.root,this.ignoreCase=!1!==t.ignoreCase,this.bind(["init","routeMissing","change","same"],t)},destroy:function(){e.unbind("change",this._urlChangedProxy),e.unbind("same",this._sameProxy),e.unbind("back",this._backProxy),this.unbind()},start:function(){var t=this,i=function(e){t._back(e)},n=function(e){t._urlChanged(e)};e.start({same:function(){t._same()},change:n,back:i,pushState:t.pushState,hashBang:t.hashBang,root:t.root});var o={url:e.current||"/",preventDefault:$.noop};t.trigger("init",o)||t._urlChanged(o),this._urlChangedProxy=n,this._backProxy=i},route:function(t,e){this.routes.push(new c(t,e,this.ignoreCase))},navigate:function(e,i){t.history.navigate(e,i)},replace:function(e,i){t.history.replace(e,i)},_back:function(t){this.trigger("back",{url:t.url,to:t.to})&&t.preventDefault()},_same:function(){this.trigger("same")},_urlChanged:function(e){var i=e.url,n=!!e.decode,o=e.backButtonPressed;if(i||(i="/"),this.trigger("change",{url:e.url,params:t.parseQueryStringParams(e.url),backButtonPressed:o}))e.preventDefault();else{for(var r=0,a=this.routes,s=a.length;r<s;r++)if(a[r].worksWith(i,o,n))return;this.trigger("routeMissing",{url:i,params:t.parseQueryStringParams(i),backButtonPressed:o})&&e.preventDefault()}}});t.Router=u}(),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=n.Widget,r=i.support.mobileOS,a=r.android&&r.flatVersion>=300;function s(e,i,n){t(i.target).closest(".km-button,.km-detail").toggleClass("km-state-active",n),a&&e.deactivateTimeoutID&&(clearTimeout(e.deactivateTimeoutID),e.deactivateTimeoutID=0)}function l(e){return t('<span class="km-badge">'+e+"</span>")}var c=o.extend({init:function(t,e){var n=this;o.fn.init.call(n,t,e);var r="up"===n.options.clickOn;n._wrap(),n._style(),r||n.element.attr("data-navigate-on-press",!0),n.options.enable=n.options.enable&&!n.element.attr("disabled"),n.enable(n.options.enable),n._userEvents=new i.UserEvents(n.element,{allowSelection:!r,fastTap:!0,press:function(t){n._activate(t)},release:function(t){s(n,t,!1),r||t.event.stopPropagation()}}),n._userEvents.bind(r?"tap":"press",function(t){n._release(t)}),a&&n.element.on("move",function(t){n._timeoutDeactivate(t)})},destroy:function(){o.fn.destroy.call(this),this._userEvents.destroy()},events:["click"],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:!0},badge:function(t){var e=this.badgeElement=this.badgeElement||l(t).appendTo(this.element);return t||0===t?(e.html(t),this):!1===t?(e.empty().remove(),this.badgeElement=!1,this):e.html()},enable:function(t){var e=this.element;void 0===t&&(t=!0),this.options.enable=t,t?e.removeAttr("disabled"):e.attr("disabled","disabled"),e.toggleClass("km-state-disabled",!t)},_timeoutDeactivate:function(t){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(s,500,this,t,!1))},_activate:function(t){var e=document.activeElement,i=e?e.nodeName:"";this.options.enable&&(s(this,t,!0),"INPUT"!=i&&"TEXTAREA"!=i||e.blur())},_release:function(e){e.which>1||(this.options.enable?this.trigger("click",{target:t(e.target),button:this.element})&&e.preventDefault():e.preventDefault())},_style:function(){var e,i=this.options.style,n=this.element;i&&(e=i.split(" "),t.each(e,function(){n.addClass("km-"+this)}))},_wrap:function(){var e=this.options.icon,i=this.options.badge,n='<span class="km-icon km-'+e,o=this.element.addClass("km-button"),r=o.children("span:not(.km-icon)").addClass("km-text"),a=o.find("img").addClass("km-image");!r[0]&&o.html()&&(r=o.wrapInner('<span class="km-text" />').children("span.km-text")),!a[0]&&e&&(r[0]||(n+=" km-notext"),this.iconElement=o.prepend(t(n+'" />'))),(i||0===i)&&(this.badgeElement=l(i).appendTo(o))}}),u=c.extend({options:{name:"BackButton",style:"back"},init:function(t,e){c.fn.init.call(this,t,e),void 0===this.element.attr("href")&&this.element.attr("href","#:back")}}),h=c.extend({options:{name:"DetailButton",style:""},init:function(t,e){c.fn.init.call(this,t,e)},_style:function(){var e=this.options.style+" detail",i=this.element;if(e){var n=e.split(" ");t.each(n,function(){i.addClass("km-"+this)})}},_wrap:function(){var e=this.options.icon,i='<span class="km-icon km-'+e,n=this.element,o=n.children("span");!n.find("img").addClass("km-image")[0]&&e&&(o[0]||(i+=" km-notext"),n.prepend(t(i+'" />')))}});n.plugin(c),n.plugin(u),n.plugin(h)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=63)}([function(t,e,i){"use strict";var n=i(57),o=i.n(n),r=i(18),a=i.n(r),s=i(12),l=i(30),c=i(28),u=i(5),h=i(13),d=i(19),f=["\\imath","ı","\\jmath","ȷ","\\pounds","\\mathsterling","\\textsterling","£"],p=function(t,e,i){return c.a[i][t]&&c.a[i][t].replace&&(t=c.a[i][t].replace),{value:t,metrics:l.a.getCharacterMetrics(t,e,i)}},m=function(t,e,i,n,o){var r=p(t,e,i),a=r.metrics;t=r.value;var l=void 0;if(a){var c=a.italic;"text"===i&&(c=0),l=new s.a.symbolNode(t,a.height,a.depth,c,a.skew,a.width,o)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+t+"' in style '"+e+"'"),l=new s.a.symbolNode(t,0,0,0,0,0,o);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var u=n.getColor();u&&(l.style.color=u)}return l},g=function(t,e,i,n,o){if("mathord"===o){var r=v(t,e,i,n);return m(t,r.fontName,e,i,n.concat([r.fontClass]))}if("textord"===o){if("ams"===(c.a[e][t]&&c.a[e][t].font)){var a=y("amsrm",i.fontWeight,i.fontShape);return m(t,a,e,i,n.concat("amsrm",i.fontWeight,i.fontShape))}var s=y("textrm",i.fontWeight,i.fontShape);return m(t,s,e,i,n.concat(i.fontWeight,i.fontShape))}throw new Error("unexpected type: "+o+" in mathDefault")},v=function(t,e,i,n){return/[0-9]/.test(t.charAt(0))||u.a.contains(f,t)?{fontName:"Main-Italic",fontClass:"mainit"}:{fontName:"Math-Italic",fontClass:"mathit"}},b=function(t){var e=0,i=0,n=0,o=!0,r=!1,s=void 0;try{for(var l,c=a()(t.children);!(o=(l=c.next()).done);o=!0){var u=l.value;u.height>e&&(e=u.height),u.depth>i&&(i=u.depth),u.maxFontSize>n&&(n=u.maxFontSize)}}catch(t){r=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(r)throw s}}t.height=e,t.depth=i,t.maxFontSize=n},k=function(t,e,i,n){var o=new s.a.span(t,e,i,n);return b(o),o},y=function(t,e,i){return w(t)+"-"+_(e,i)},w=function(t){var e="";switch(t){case"amsrm":e="AMS";break;case"textrm":e="Main";break;case"textsf":e="SansSerif";break;case"texttt":e="Typewriter";break;default:throw new Error("Invalid font provided: "+t)}return e},_=function(t,e){var i="";return"textbf"===t&&(i+="Bold"),"textit"===e&&(i+="Italic"),i||"Regular"},x={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},S={vec:["vec",.471,.714]};e.a={fontMap:x,makeSymbol:m,mathsym:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return i&&i.fontFamily&&"boldsymbol"===i.fontFamily&&p(t,"Main-Bold",e).metrics?m(t,"Main-Bold",e,i,n.concat(["mathbf"])):"\\"===t||"main"===c.a[e][t].font?m(t,"Main-Regular",e,i,n):m(t,"AMS-Regular",e,i,n.concat(["amsrm"]))},makeSpan:k,makeLineSpan:function(t,e){var i=e.fontMetrics().defaultRuleThickness,n=h.a.ruleSpan(t,i,e);return n.height=i,n.style.height=5*n.height+"em",n.maxFontSize=1,n},makeAnchor:function(t,e,i,n){var o=new s.a.anchor(t,e,i,n);return b(o),o},makeFragment:function(t){var e=new s.a.documentFragment(t);return b(e),e},makeVList:function(t,e){var i=function(t){if("individualShift"===t.positionType){for(var e=t.children,i=[e[0]],n=-e[0].shift-e[0].elem.depth,o=n,r=1;r<e.length;r++){var s=-e[r].shift-o-e[r].elem.depth,l=s-(e[r-1].elem.height+e[r-1].elem.depth);o+=s,i.push({type:"kern",size:l}),i.push(e[r])}return{children:i,depth:n}}var c=void 0;if("top"===t.positionType){var u=t.positionData,h=!0,d=!1,f=void 0;try{for(var p,m=a()(t.children);!(h=(p=m.next()).done);h=!0){var g=p.value;u-="kern"===g.type?g.size:g.elem.height+g.elem.depth}}catch(t){d=!0,f=t}finally{try{!h&&m.return&&m.return()}finally{if(d)throw f}}c=u}else if("bottom"===t.positionType)c=-t.positionData;else{var v=t.children[0];if("elem"!==v.type)throw new Error('First child must have type "elem".');if("shift"===t.positionType)c=-v.elem.depth-t.positionData;else{if("firstBaseline"!==t.positionType)throw new Error("Invalid positionType "+t.positionType+".");c=-v.elem.depth}}return{children:t.children,depth:c}}(t),n=i.children,o=i.depth,r=0,l=!0,c=!1,u=void 0;try{for(var h,d=a()(n);!(l=(h=d.next()).done);l=!0){var f=h.value;if("elem"===f.type){var p=f.elem;r=Math.max(r,p.maxFontSize,p.height)}}}catch(t){c=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}r+=2;var m=k(["pstrut"],[]);m.style.height=r+"em";var g=[],v=o,b=o,y=o,w=!0,_=!1,x=void 0;try{for(var S,C=a()(n);!(w=(S=C.next()).done);w=!0){var A=S.value;if("kern"===A.type)y+=A.size;else{var T=A.elem,j=A.wrapperClasses||[],M=A.wrapperStyle||{},z=k(j,[m,T],void 0,M);z.style.top=-r-y-T.depth+"em",A.marginLeft&&(z.style.marginLeft=A.marginLeft),A.marginRight&&(z.style.marginRight=A.marginRight),g.push(z),y+=T.height+T.depth}v=Math.min(v,y),b=Math.max(b,y)}}catch(t){_=!0,x=t}finally{try{!w&&C.return&&C.return()}finally{if(_)throw x}}var E=k(["vlist"],g);E.style.height=b+"em";var I=void 0;if(v<0){var D=k(["vlist"],[]);D.style.height=-v+"em";var O=k(["vlist-s"],[new s.a.symbolNode("​")]);I=[k(["vlist-r"],[E,O]),k(["vlist-r"],[D])]}else I=[k(["vlist-r"],[E])];var P=k(["vlist-t"],I);return 2===I.length&&P.classes.push("vlist-t2"),P.height=b,P.depth=-v,P},makeOrd:function(t,e,i){var n=t.mode,o=t.value,r=["mord"],a=e.fontFamily;if(a){var s=void 0,l=void 0;if("boldsymbol"===a){var c=function(t,e,i,n){return p(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,n);s=c.fontName,l=[c.fontClass]}else if("mathit"===a||u.a.contains(f,o)){var h=v(o,n,e,r);s=h.fontName,l=[h.fontClass]}else-1!==a.indexOf("math")||"math"===n?(s=x[a].fontName,l=[a]):(s=y(a,e.fontWeight,e.fontShape),l=[a,e.fontWeight,e.fontShape]);return p(o,s,n).metrics?m(o,s,n,e,r.concat(l)):g(o,n,e,r,i)}return g(o,n,e,r,i)},makeVerb:function(t,e){var i=t.value.body;return i=t.value.star?i.replace(/ /g,"␣"):i.replace(/ /g," ")},makeGlue:function(t,e){var i=k(["mord","rule"],[],e),n=Object(d.a)(t,e);return i.style.marginRight=n+"em",i},staticSvg:function(t,e){var i=o()(S[t],3),n=i[0],r=i[1],a=i[2],l=new s.a.pathNode(n),c=new s.a.svgNode([l],{width:r+"em",height:a+"em",style:"width:"+r+"em",viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),u=k(["overlay"],[c],e);return u.height=a,u.style.height=a+"em",u.style.width=r+"em",u},svgData:S,tryCombineChars:function(t){for(var e=0;e<t.length-1;e++)t[e].tryCombine(t[e+1])&&(t.splice(e+1,1),e--);return t},spacingFunctions:{"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}}}},function(t,e,i){"use strict";var n=i(18),o=i.n(n),r=i(7),a=i.n(r),s=i(10),l=i.n(s),c=i(5),u=function(){function t(e,i){a()(this,t),this.type=e,this.attributes={},this.children=i||[]}return l()(t,[{key:"setAttribute",value:function(t,e){this.attributes[t]=e}},{key:"toNode",value:function(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);var i=!0,n=!1,r=void 0;try{for(var a,s=o()(this.children);!(i=(a=s.next()).done);i=!0){var l=a.value;t.appendChild(l.toNode())}}catch(t){n=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}return t}},{key:"toMarkup",value:function(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=c.a.escape(this.attributes[e]),t+='"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">"}},{key:"toText",value:function(){return"mspace"===this.type?"0.16667em"===this.attributes.width?" ":" ":this.children.map(function(t){return t.toText()}).join("")}}]),t}(),h=function(){function t(e){a()(this,t),this.text=e}return l()(t,[{key:"toNode",value:function(){return document.createTextNode(this.text)}},{key:"toMarkup",value:function(){return c.a.escape(this.text)}},{key:"toText",value:function(){return this.text}}]),t}();e.a={MathNode:u,TextNode:h}},function(t,e,i){"use strict";i.d(e,"e",function(){return h}),i.d(e,"d",function(){return f}),i.d(e,"a",function(){return m}),i.d(e,"b",function(){return g}),e.c=function(t,e,i){var o=m(t,i),a=new r.a.MathNode("mrow",o),s=new r.a.MathNode("annotation",[new r.a.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new r.a.MathNode("semantics",[a,s]),c=new r.a.MathNode("math",[l]);return n.a.makeSpan(["katex-mathml"],[c])};var n=i(0),o=i(30),r=i(1),a=i(6),s=i(9),l=i(28),c=i(5),u=i(13),h=function(t,e){return l.a[e][t]&&l.a[e][t].replace&&(t=l.a[e][t].replace),new r.a.TextNode(t)},d=function(t,e){var i=e.fontFamily;if(!i)return null;var r=t.mode;if("mathit"===i)return"italic";if("boldsymbol"===i)return"bold-italic";var a=t.value;if(c.a.contains(["\\imath","\\jmath"],a))return null;l.a[r][a]&&l.a[r][a].replace&&(a=l.a[r][a].replace);var s=n.a.fontMap[i].fontName;return o.a.getCharacterMetrics(a,s,r)?n.a.fontMap[i].variant:null},f={},p={mi:"italic",mn:"normal",mtext:"normal"};f.mathord=function(t,e){var i=new r.a.MathNode("mi",[h(t.value,t.mode)]),n=d(t,e)||"italic";return n!==p[i.type]&&i.setAttribute("mathvariant",n),i},f.textord=function(t,e){var i=h(t.value,t.mode),n=d(t,e)||"normal",o=void 0;return o="text"===t.mode?new r.a.MathNode("mtext",[i]):/[0-9]/.test(t.value)?new r.a.MathNode("mn",[i]):"\\prime"===t.value?new r.a.MathNode("mo",[i]):new r.a.MathNode("mi",[i]),n!==p[o.type]&&o.setAttribute("mathvariant",n),o},f.bin=function(t,e){var i=new r.a.MathNode("mo",[h(t.value,t.mode)]),n=d(t,e);return"bold-italic"===n&&i.setAttribute("mathvariant",n),i},f.rel=function(t){return new r.a.MathNode("mo",[h(t.value,t.mode)])},f.open=function(t){return new r.a.MathNode("mo",[h(t.value,t.mode)])},f.close=function(t){return new r.a.MathNode("mo",[h(t.value,t.mode)])},f.inner=function(t){return new r.a.MathNode("mo",[h(t.value,t.mode)])},f.punct=function(t){var e=new r.a.MathNode("mo",[h(t.value,t.mode)]);return e.setAttribute("separator","true"),e},f.ordgroup=function(t,e){var i=m(t.value,e);return new r.a.MathNode("mrow",i)},f.supsub=function(t,e){var i=!1,n=void 0;t.value.base&&"horizBrace"===t.value.base.value.type&&!!t.value.sup===t.value.base.value.isOver&&(i=!0,n=t.value.base.value.isOver);var o=[g(t.value.base,e,!0)];t.value.sub&&o.push(g(t.value.sub,e,!0)),t.value.sup&&o.push(g(t.value.sup,e,!0));var a=void 0;if(i)a=n?"mover":"munder";else if(t.value.sub)if(t.value.sup){var l=t.value.base;a=l&&l.value.limits&&e.style===s.a.DISPLAY?"munderover":"msubsup"}else{var c=t.value.base;a=c&&c.value.limits&&e.style===s.a.DISPLAY?"munder":"msub"}else{var u=t.value.base;a=u&&u.value.limits&&e.style===s.a.DISPLAY?"mover":"msup"}return new r.a.MathNode(a,o)},f.spacing=function(t){var e=void 0;return"\\ "===t.value||"\\space"===t.value||" "===t.value||"~"===t.value?e=new r.a.MathNode("mtext",[new r.a.TextNode(" ")]):(e=new r.a.MathNode("mspace")).setAttribute("width",n.a.spacingFunctions[t.value].size),e},f.horizBrace=function(t,e){var i=u.a.mathMLnode(t.value.label);return new r.a.MathNode(t.value.isOver?"mover":"munder",[g(t.value.base,e),i])},f.xArrow=function(t,e){var i=u.a.mathMLnode(t.value.label),n=void 0,o=void 0;if(t.value.body){var a=g(t.value.body,e);t.value.below?(o=g(t.value.below,e),n=new r.a.MathNode("munderover",[i,o,a])):n=new r.a.MathNode("mover",[i,a])}else t.value.below?(o=g(t.value.below,e),n=new r.a.MathNode("munder",[i,o])):n=new r.a.MathNode("mover",[i]);return n},f.mclass=function(t,e){var i=m(t.value.value,e);return new r.a.MathNode("mstyle",i)},f.raisebox=function(t,e){var i=new r.a.MathNode("mpadded",[g(t.value.body,e)]),n=t.value.dy.value.number+t.value.dy.value.unit;return i.setAttribute("voffset",n),i};var m=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n];i.push(g(o,e))}return i},g=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return new r.a.MathNode("mrow");if(f[t.type]){var n=f[t.type](t,e);return i&&"mrow"===n.type&&1===n.children.length?n.children[0]:n}throw new a.a("Got group of unknown type: '"+t.type+"'")}},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),e.b=function(t){for(var e=t.type,i=t.names,a=t.props,s=t.handler,l=t.htmlBuilder,c=t.mathmlBuilder,u={numArgs:a.numArgs,argTypes:a.argTypes,greediness:void 0===a.greediness?1:a.greediness,allowedInText:!!a.allowedInText,allowedInMath:void 0===a.allowedInMath||a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,handler:s},h=0;h<i.length;++h)r[i[h]]=u;e&&(l&&(n.d[e]=l),c&&(o.d[e]=c))},i.d(e,"c",function(){return a});var n=i(4),o=i(2),r={};var a=function(t){return"ordgroup"===t.type?t.value:[t]}},function(t,e,i){"use strict";i.d(e,"a",function(){return k}),i.d(e,"e",function(){return x}),i.d(e,"d",function(){return S}),i.d(e,"b",function(){return C}),e.c=function(t,e){t=JSON.parse(o()(t));var i=k(t,e,!0),n=m(["base"],i,e),r=m(["strut"]),a=m(["strut","bottom"]);r.style.height=n.height+"em",a.style.height=n.height+n.depth+"em",a.style.verticalAlign=-n.depth+"em";var s=m(["katex-html"],[r,a,n]);return s.setAttribute("aria-hidden","true"),s};var n=i(77),o=i.n(n),r=i(35),a=i.n(r),s=i(6),l=i(9),c=i(0),u=i(12),h=i(19),d=i(5),f=i(13),p=i(112),m=c.a.makeSpan,g=function(t,e){return t?d.a.contains(["mbin","mopen","mrel","mop","mpunct"],w(t,"right")):e},v=function(t,e){return t?d.a.contains(["mrel","mclose","mpunct"],w(t,"left")):e},b={display:l.a.DISPLAY,text:l.a.TEXT,script:l.a.SCRIPT,scriptscript:l.a.SCRIPTSCRIPT},k=function(t,e,i){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[null,null],o=[],r=0;r<t.length;r++){var s=t[r],l=C(s,e);l instanceof u.a.documentFragment?o.push.apply(o,a()(l.children)):o.push(l)}for(var h=[n[0]&&m([n[0]],[],e)].concat(a()(o.filter(function(t){return t&&"mspace"!==t.classes[0]})),[n[1]&&m([n[1]],[],e)]),d=1;d<h.length-1;d++){var f=y(h[d],"left");"mbin"===f.classes[0]&&g(h[d-1],i)&&(f.classes[0]="mord");var k=y(h[d],"right");"mbin"===k.classes[0]&&v(h[d+1],i)&&(k.classes[0]="mord")}for(var x=[],S=0,A=0;A<o.length;A++)if(x.push(o[A]),"mspace"!==o[A].classes[0]&&S<h.length-1){0===S&&(x.pop(),A--);var T=w(h[S],"right"),j=w(h[S+1],"left");if(T&&j&&i){var M=_(h[S+1])?p.b[T][j]:p.a[T][j];if(M){var z=e;1===t.length&&("sizing"===t[0].type?z=e.havingSize(t[0].value.size):"styling"===t[0].type&&(z=e.havingStyle(b[t[0].value.style]))),x.push(c.a.makeGlue(M,z))}}S++}for(var E=0;E<x.length;E++)"̸"===x[E].value&&(x[E].style.position="absolute",x[E].style.paddingLeft="0.8em");return x},y=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right";if((e instanceof u.a.documentFragment||e instanceof u.a.anchor)&&e.children.length){if("right"===i)return t(e.children[e.children.length-1]);if("left"===i)return t(e.children[0])}return e},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right";return t?(t=y(t,e),d.a.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],t.classes[0])?t.classes[0]:null):null},_=function(t){return t=y(t,"left"),d.a.contains(t.classes,"mtight")},x=function(t,e){var i=["nulldelimiter"].concat(t.baseSizingClasses());return m(e.concat(i))},S={mathord:function(t,e){return c.a.makeOrd(t,e,"mathord")},textord:function(t,e){return c.a.makeOrd(t,e,"textord")},bin:function(t,e){return c.a.mathsym(t.value,t.mode,e,["mbin"])},rel:function(t,e){return c.a.mathsym(t.value,t.mode,e,["mrel"])},open:function(t,e){return c.a.mathsym(t.value,t.mode,e,["mopen"])},close:function(t,e){return c.a.mathsym(t.value,t.mode,e,["mclose"])},inner:function(t,e){return c.a.mathsym(t.value,t.mode,e,["minner"])},punct:function(t,e){return c.a.mathsym(t.value,t.mode,e,["mpunct"])},ordgroup:function(t,e){return m(["mord"],k(t.value,e,!0),e)}};S.supsub=function(t,e){if(function(t,e){if(t.value.base){var i=t.value.base;return"op"===i.type?i.value.limits&&(e.style.size===l.a.DISPLAY.size||i.value.alwaysHandleSupSub):"accent"===i.type?d.a.isCharacterBox(i.value.base):"horizBrace"===i.type?!t.value.sub===i.value.isOver:null}return!1}(t,e))return S[t.value.base.type](t,e);var i=C(t.value.base,e),n=void 0,o=void 0,r=e.fontMetrics(),a=void 0,s=0,h=0;t.value.sup&&(a=e.havingStyle(e.style.sup()),n=C(t.value.sup,a,e),d.a.isCharacterBox(t.value.base)||(s=i.height-a.fontMetrics().supDrop*a.sizeMultiplier/e.sizeMultiplier)),t.value.sub&&(a=e.havingStyle(e.style.sub()),o=C(t.value.sub,a,e),d.a.isCharacterBox(t.value.base)||(h=i.depth+a.fontMetrics().subDrop*a.sizeMultiplier/e.sizeMultiplier));var f=void 0;f=e.style===l.a.DISPLAY?r.sup1:e.style.cramped?r.sup3:r.sup2;var p=e.sizeMultiplier,g=.5/r.ptPerEm/p+"em",v=void 0;if(t.value.sup)if(t.value.sub){s=Math.max(s,f,n.depth+.25*r.xHeight),h=Math.max(h,r.sub2);var b=r.defaultRuleThickness;if(s-n.depth-(o.height-h)<4*b){h=4*b-(s-n.depth)+o.height;var k=.8*r.xHeight-(s-n.depth);k>0&&(s+=k,h-=k)}var y=[{type:"elem",elem:o,shift:h,marginRight:g},{type:"elem",elem:n,shift:-s,marginRight:g}];i instanceof u.a.symbolNode&&(y[0].marginLeft=-i.italic+"em"),v=c.a.makeVList({positionType:"individualShift",children:y},e)}else s=Math.max(s,f,n.depth+.25*r.xHeight),v=c.a.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n,marginRight:g}]},e);else{h=Math.max(h,r.sub1,o.height-.8*r.xHeight);var _=[{type:"elem",elem:o,marginRight:g}];i instanceof u.a.symbolNode&&(_[0].marginLeft=-i.italic+"em"),v=c.a.makeVList({positionType:"shift",positionData:h,children:_},e)}var x=w(i)||"mord";return m([x],[i,m(["msupsub"],[v])],e)},S.spacing=function(t,e){return"\\ "===t.value||"\\space"===t.value||" "===t.value||"~"===t.value?"text"===t.mode?c.a.makeOrd(t,e,"textord"):m(["mspace"],[c.a.mathsym(t.value,t.mode,e)],e):m(["mspace",c.a.spacingFunctions[t.value].className],[],e)},S.horizBrace=function(t,e){var i=e.style,n="supsub"===t.type,o=void 0,r=void 0;n&&(t.value.sup?(r=e.havingStyle(i.sup()),o=C(t.value.sup,r,e)):(r=e.havingStyle(i.sub()),o=C(t.value.sub,r,e)),t=t.value.base);var a=C(t.value.base,e.havingBaseStyle(l.a.DISPLAY)),s=f.a.svgSpan(t,e),u=void 0;if(t.value.isOver?(u=c.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e)).children[0].children[0].children[1].classes.push("svg-align"):(u=c.a.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e)).children[0].children[0].children[0].classes.push("svg-align"),n){var h=m(["mord",t.value.isOver?"mover":"munder"],[u],e);u=t.value.isOver?c.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:o}]},e):c.a.makeVList({positionType:"bottom",positionData:h.depth+.2+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return m(["mord",t.value.isOver?"mover":"munder"],[u],e)},S.xArrow=function(t,e){var i=e.style,n=e.havingStyle(i.sup()),o=C(t.value.body,n,e);o.classes.push("x-arrow-pad");var r=void 0;t.value.below&&(n=e.havingStyle(i.sub()),(r=C(t.value.below,n,e)).classes.push("x-arrow-pad"));var a=f.a.svgSpan(t,e),s=-e.fontMetrics().axisHeight+.5*a.height,l=-e.fontMetrics().axisHeight-.5*a.height-.111;"\\xleftequilibrium"===t.value.label&&(l-=o.depth);var u=void 0;if(t.value.below){var h=-e.fontMetrics().axisHeight+r.height+.5*a.height+.111;u=c.a.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:h}]},e)}else u=c.a.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:s}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),m(["mrel","x-arrow"],[u],e)},S.mclass=function(t,e){var i=k(t.value.value,e,!0);return m([t.value.mclass],i,e)},S.raisebox=function(t,e){var i=S.sizing({value:{value:[{type:"text",value:{body:t.value.value,font:"mathrm"}}],size:6}},e),n=Object(h.a)(t.value.dy.value,e);return c.a.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:i}]},e)};var C=function(t,e,i){if(!t)return m();if(S[t.type]){var n=S[t.type](t,e);if(i&&e.size!==i.size){n=m(e.sizingClasses(i),[n],e);var o=e.sizeMultiplier/i.sizeMultiplier;n.height*=o,n.depth*=o}return n}throw new s.a("Got group of unknown type: '"+t.type+"'")}},function(t,e,i){"use strict";var n=Array.prototype.indexOf,o=function(t,e){if(null==t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=t.length,o=0;o<i;o++)if(t[o]===e)return o;return-1},r=/([A-Z])/g,a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g;var l=void 0;if("undefined"!=typeof document){var c=document.createElement("span");l="textContent"in c?function(t,e){t.textContent=e}:function(t,e){t.innerText=e}}var u=function t(e){return!!e&&("ordgroup"===e.type?1===e.value.length?t(e.value[0]):e:"color"===e.type?1===e.value.value.length?t(e.value.value[0]):e:"font"===e.type?t(e.value.body):e)};e.a={contains:function(t,e){return-1!==o(t,e)},deflt:function(t,e){return void 0===t?e:t},escape:function(t){return String(t).replace(s,function(t){return a[t]})},hyphenate:function(t){return t.replace(r,"-$1").toLowerCase()},indexOf:o,setTextContent:l,clearNode:function(t){l(t,"")},getBaseElem:u,isCharacterBox:function(t){var e=u(t);return"mathord"===e.type||"textord"===e.type||"bin"===e.type||"rel"===e.type||"inner"===e.type||"open"===e.type||"close"===e.type||"punct"===e.type}}},function(t,e,i){"use strict";var n=i(7),o=i.n(n),r=(i(14),i(27),function t(e,i){o()(this,t);var n="KaTeX parse error: "+e,r=void 0,a=i&&i.loc;if(a&&a.start<=a.end){var s=a.lexer.input;r=a.start;var l=a.end;r===s.length?n+=" at end of input: ":n+=" at position "+(r+1)+": ";var c=s.slice(r,l).replace(/[^]/g,"$&̲");n+=(r>15?"…"+s.slice(r-15,r):s.slice(0,r))+c+(l+15<s.length?s.slice(l,l+15)+"…":s.slice(l))}var u=new Error(n);return u.name="ParseError",u.__proto__=t.prototype,u.position=r,u});r.prototype.__proto__=Error.prototype,e.a=r},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){"use strict";var n=i(7),o=i.n(n),r=i(10),a=i.n(r),s=function(){function t(e,i,n){o()(this,t),this.id=e,this.size=i,this.cramped=n}return a()(t,[{key:"sup",value:function(){return l[c[this.id]]}},{key:"sub",value:function(){return l[u[this.id]]}},{key:"fracNum",value:function(){return l[h[this.id]]}},{key:"fracDen",value:function(){return l[d[this.id]]}},{key:"cramp",value:function(){return l[f[this.id]]}},{key:"text",value:function(){return l[p[this.id]]}},{key:"isTight",value:function(){return this.size>=2}}]),t}(),l=[new s(0,0,!1),new s(1,0,!0),new s(2,1,!1),new s(3,1,!0),new s(4,2,!1),new s(5,2,!0),new s(6,3,!1),new s(7,3,!0)],c=[4,5,4,5,6,7,6,7],u=[5,5,5,5,7,7,7,7],h=[2,3,4,5,6,7,6,7],d=[3,3,5,5,7,7,7,7],f=[1,1,3,3,5,5,7,7],p=[0,1,2,3,2,3,2,3];e.a={DISPLAY:l[0],TEXT:l[2],SCRIPT:l[4],SCRIPTSCRIPT:l[6]}},function(t,e,i){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(73));e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(t,o.key,o)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){var n=i(52)("wks"),o=i(32),r=i(16).Symbol,a="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=n},function(t,e,i){"use strict";var n=i(18),o=i.n(n),r=i(105),a=i.n(r),s=i(7),l=i.n(s),c=i(10),u=i.n(c),h=i(42),d=i(5),f=i(111),p=function(t){for(var e=(t=t.slice()).length-1;e>=0;e--)t[e]||t.splice(e,1);return t.join(" ")},m=function(){function t(e,i,n,o){if(l()(this,t),this.classes=e||[],this.children=i||[],this.height=0,this.depth=0,this.maxFontSize=0,this.style=a()({},o),this.attributes={},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}}return u()(t,[{key:"setAttribute",value:function(t,e){this.attributes[t]=e}},{key:"tryCombine",value:function(t){return!1}},{key:"toNode",value:function(){var t=document.createElement("span");for(var e in t.className=p(this.classes),this.style)Object.prototype.hasOwnProperty.call(this.style,e)&&(t.style[e]=this.style[e]);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}},{key:"toMarkup",value:function(){var t="<span";this.classes.length&&(t+=' class="',t+=d.a.escape(p(this.classes)),t+='"');var e="";for(var i in this.style)this.style.hasOwnProperty(i)&&(e+=d.a.hyphenate(i)+":"+this.style[i]+";");for(var n in e&&(t+=' style="'+d.a.escape(e)+'"'),this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=d.a.escape(this.attributes[n]),t+='"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</span>"}}]),t}(),g=function(){function t(e,i,n,o){l()(this,t),this.href=e,this.classes=i,this.children=n,this.height=0,this.depth=0,this.maxFontSize=0,this.style={},this.attributes={},o.style.isTight()&&this.classes.push("mtight");var r=o.getColor();r&&(this.style.color=r)}return u()(t,[{key:"setAttribute",value:function(t,e){this.attributes[t]=e}},{key:"tryCombine",value:function(t){return!1}},{key:"toNode",value:function(){var t=document.createElement("a");for(var e in t.setAttribute("href",this.href),this.classes.length&&(t.className=p(this.classes)),this.style)Object.prototype.hasOwnProperty.call(this.style,e)&&(t.style[e]=this.style[e]);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}},{key:"toMarkup",value:function(){var t="<a";t+='href="'+(t+=d.a.escape(this.href))+'"',this.classes.length&&(t+=' class="'+d.a.escape(p(this.classes))+'"');var e="";for(var i in this.style)this.style.hasOwnProperty(i)&&(e+=d.a.hyphenate(i)+":"+this.style[i]+";");for(var n in e&&(t+=' style="'+d.a.escape(e)+'"'),this.attributes)"href"!==n&&Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+d.a.escape(this.attributes[n])+'"');t+=">";var r=!0,a=!1,s=void 0;try{for(var l,c=o()(this.children);!(r=(l=c.next()).done);r=!0){t+=l.value.toMarkup()}}catch(t){a=!0,s=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw s}}return t+="</a>"}}]),t}(),v=function(){function t(e){l()(this,t),this.children=e||[],this.height=0,this.depth=0,this.maxFontSize=0}return u()(t,[{key:"toNode",value:function(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}},{key:"toMarkup",value:function(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}}]),t}(),b={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},k=function(){function t(e,i,n,o,r,s,c,u){l()(this,t),this.value=e,this.height=i||0,this.depth=n||0,this.italic=o||0,this.skew=r||0,this.width=s||0,this.classes=c||[],this.style=a()({},u),this.maxFontSize=0;var d=Object(h.a)(this.value.charCodeAt(0));d&&this.classes.push(d+"_fallback"),/[îïíì]/.test(this.value)&&(this.value=b[this.value])}return u()(t,[{key:"tryCombine",value:function(e){if(!e||!(e instanceof t)||this.italic>0||p(this.classes)!==p(e.classes)||this.skew!==e.skew||this.maxFontSize!==e.maxFontSize)return!1;for(var i in this.style)if(this.style.hasOwnProperty(i)&&this.style[i]!==e.style[i])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&this.style[n]!==e.style[n])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.italic=e.italic,!0}},{key:"toNode",value:function(){var t=document.createTextNode(this.value),e=null;for(var i in this.italic>0&&((e=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((e=e||document.createElement("span")).className=p(this.classes)),this.style)this.style.hasOwnProperty(i)&&((e=e||document.createElement("span")).style[i]=this.style[i]);return e?(e.appendChild(t),e):t}},{key:"toMarkup",value:function(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=d.a.escape(p(this.classes)),e+='"');var i="";for(var n in this.italic>0&&(i+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(i+=d.a.hyphenate(n)+":"+this.style[n]+";");i&&(t=!0,e+=' style="'+d.a.escape(i)+'"');var o=d.a.escape(this.value);return t?(e+=">",e+=o,e+="</span>"):o}}]),t}(),y=function(){function t(e,i){l()(this,t),this.children=e||[],this.attributes=i||{},this.height=0,this.depth=0,this.maxFontSize=0}return u()(t,[{key:"toNode",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}},{key:"toMarkup",value:function(){var t="<svg";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>"}}]),t}(),w=function(){function t(e,i){l()(this,t),this.pathName=e,this.alternate=i}return u()(t,[{key:"toNode",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",f.a.path[this.pathName]),t}},{key:"toMarkup",value:function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+f.a.path[this.pathName]+"'/>"}}]),t}(),_=function(){function t(e){l()(this,t),this.attributes=e||{}}return u()(t,[{key:"toNode",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);return t}},{key:"toMarkup",value:function(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");return t+="/>"}}]),t}();e.a={span:m,anchor:g,documentFragment:v,symbolNode:k,svgNode:y,pathNode:w,lineNode:_}},function(t,e,i){"use strict";var n=i(57),o=i.n(n),r=i(12),a=i(0),s=i(1),l=i(5),c={widehat:"^",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⎵",overbrace:"⏞",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},u={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,667],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},h=function(t){return"ordgroup"===t.type?t.value.length:1};e.a={encloseSpan:function(t,e,i,n){var o=void 0,s=t.height+t.depth+2*i;if(/fbox|color/.test(e)){if(o=a.a.makeSpan(["stretchy",e],[],n),"fbox"===e){var l=n.color&&n.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(e)&&c.push(new r.a.lineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&c.push(new r.a.lineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new r.a.svgNode(c,{width:"100%",height:s+"em"});o=a.a.makeSpan([],[u],n)}return o.height=s,o.style.height=s+"em",o},mathMLnode:function(t){var e=new s.a.MathNode("mo",[new s.a.TextNode(c[t.substr(1)])]);return e.setAttribute("stretchy","true"),e},ruleSpan:function(t,e,i){var n=void 0,o=void 0,s="stretchy";return"vertical-separator"===t?(n=new r.a.pathNode("vertSeparator"),o=new r.a.svgNode([n],{width:"0.25em",height:"400em",viewBox:"0 0 250 400000",preserveAspectRatio:"xMinYMin slice"}),s="vertical-separator"):(n=new r.a.pathNode("stdHorizRule"),o=new r.a.svgNode([n],{width:"400em",height:5*e+"em",viewBox:"0 0 400000 200",preserveAspectRatio:"xMinYMin slice"})),a.a.makeSpan([s],[o],i)},svgSpan:function(t,e){var i=function(){var i=4e5,n=t.value.label.substr(1);if(l.a.contains(["widehat","widetilde","utilde"],n)){var s=h(t.value.base),c=void 0,d=void 0,f=void 0;if(s>5)c="widehat"===n?420:312,i="widehat"===n?2364:2340,f="widehat"===n?.42:.34,d=("widehat"===n?"widehat":"tilde")+"4";else{var p=[1,1,2,2,3,3][s];"widehat"===n?(i=[0,1062,2364,2364,2364][p],c=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],d="widehat"+p):(i=[0,600,1033,2339,2340][p],c=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],d="tilde"+p)}var m=new r.a.pathNode(d),g=new r.a.svgNode([m],{width:"100%",height:f+"em",viewBox:"0 0 "+i+" "+c,preserveAspectRatio:"none"});return{span:a.a.makeSpan([],[g],e),minWidth:0,height:f}}var v=[],b=o()(u[n],4),k=b[0],y=b[1],w=b[2],_=b[3],x=w/1e3,S=k.length,C=void 0,A=void 0;if(1===S)C=["hide-tail"],A=[_];else if(2===S)C=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else{if(3!==S)throw new Error("Correct katexImagesData or update code here to support\n                    "+S+" children.");C=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"]}for(var T=0;T<S;T++){var j=new r.a.pathNode(k[T]),M=new r.a.svgNode([j],{width:"400em",height:x+"em",viewBox:"0 0 "+i+" "+w,preserveAspectRatio:A[T]+" slice"}),z=a.a.makeSpan([C[T]],[M],e);if(1===S)return{span:z,minWidth:y,height:x};z.style.height=x+"em",v.push(z)}return{span:a.a.makeSpan(["stretchy"],v,e),minWidth:y,height:x}}(),n=i.span,s=i.minWidth,c=i.height;return n.height=c,n.style.height=c+"em",s>0&&(n.style.minWidth=s+"em"),n}}},function(t,e,i){"use strict";var n=i(7),o=i.n(n),r=i(31);e.a=function t(e,i,n,a,s){o()(this,t),this.type=e,this.value=i,this.mode=n,this.loc=r.a.range(a,s)}},function(t,e,i){var n=i(22),o=i(70),r=i(71),a=Object.defineProperty;e.f=i(23)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports={}},function(t,e,i){t.exports={default:i(103),__esModule:!0}},function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return s});var n=i(6),o=(i(43),{pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375}),r={ex:!0,em:!0,mu:!0},a=function(t){return"string"!=typeof t&&(t=t.unit),t in o||t in r||"ex"===t},s=function(t,e){var i=void 0;if(t.unit in o)i=o[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if("mu"===t.unit)i=e.fontMetrics().cssEmPerMu;else{var r=void 0;if(r=e.style.isTight()?e.havingStyle(e.style.text()):e,"ex"===t.unit)i=r.fontMetrics().xHeight;else{if("em"!==t.unit)throw new n.a("Invalid unit: '"+t.unit+"'");i=r.fontMetrics().quad}r!==e&&(i*=r.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*i,e.maxSize)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(20);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){t.exports=!i(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(16),o=i(8),r=i(47),a=i(26),s=function(t,e,i){var l,c,u,h=t&s.F,d=t&s.G,f=t&s.S,p=t&s.P,m=t&s.B,g=t&s.W,v=d?o:o[e]||(o[e]={}),b=v.prototype,k=d?n:f?n[e]:(n[e]||{}).prototype;for(l in d&&(i=e),i)(c=!h&&k&&void 0!==k[l])&&l in v||(u=c?k[l]:i[l],v[l]=d&&"function"!=typeof k[l]?i[l]:m&&c?r(u,n):g&&k[l]==u?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):p&&"function"==typeof u?r(Function.call,u):u,p&&((v.virtual||(v.virtual={}))[l]=u,t&s.R&&b&&!b[l]&&a(b,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,i){var n=i(15),o=i(33);t.exports=i(23)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(7),o=i.n(n),r=i(10),a=i.n(r),s=i(31),l=function(){function t(e,i){o()(this,t),this.text=e,this.loc=i}return a()(t,[{key:"range",value:function(e,i){return new t(i,s.a.range(this,e))}}]),t}()},function(t,e,i){"use strict";var n={math:{},text:{}};function o(t,e,i,o,r,a){n[t][r]={font:e,group:i,replace:o},a&&o&&(n[t][o]=n[t][r])}e.a=n;var r="math",a="text",s="main",l="ams",c="accent",u="bin",h="close",d="mathord",f="op",p="open",m="rel",g="spacing",v="textord";o(r,s,m,"≡","\\equiv",!0),o(r,s,m,"≺","\\prec",!0),o(r,s,m,"≻","\\succ",!0),o(r,s,m,"∼","\\sim",!0),o(r,s,m,"⊥","\\perp"),o(r,s,m,"⪯","\\preceq",!0),o(r,s,m,"⪰","\\succeq",!0),o(r,s,m,"≃","\\simeq",!0),o(r,s,m,"∣","\\mid",!0),o(r,s,m,"≪","\\ll"),o(r,s,m,"≫","\\gg",!0),o(r,s,m,"≍","\\asymp",!0),o(r,s,m,"∥","\\parallel"),o(r,s,m,"⋈","\\bowtie",!0),o(r,s,m,"⌣","\\smile",!0),o(r,s,m,"⊑","\\sqsubseteq",!0),o(r,s,m,"⊒","\\sqsupseteq",!0),o(r,s,m,"≐","\\doteq",!0),o(r,s,m,"⌢","\\frown",!0),o(r,s,m,"∋","\\ni",!0),o(r,s,m,"∝","\\propto",!0),o(r,s,m,"⊢","\\vdash",!0),o(r,s,m,"⊣","\\dashv",!0),o(r,s,m,"∋","\\owns"),o(r,s,"punct",".","\\ldotp"),o(r,s,"punct","⋅","\\cdotp"),o(r,s,v,"#","\\#"),o(a,s,v,"#","\\#"),o(r,s,v,"&","\\&"),o(a,s,v,"&","\\&"),o(r,s,v,"ℵ","\\aleph",!0),o(r,s,v,"∀","\\forall",!0),o(r,s,v,"ℏ","\\hbar"),o(r,s,v,"∃","\\exists",!0),o(r,s,v,"∇","\\nabla",!0),o(r,s,v,"♭","\\flat",!0),o(r,s,v,"ℓ","\\ell",!0),o(r,s,v,"♮","\\natural",!0),o(r,s,v,"♣","\\clubsuit",!0),o(r,s,v,"℘","\\wp",!0),o(r,s,v,"♯","\\sharp",!0),o(r,s,v,"♢","\\diamondsuit",!0),o(r,s,v,"ℜ","\\Re",!0),o(r,s,v,"♡","\\heartsuit",!0),o(r,s,v,"ℑ","\\Im",!0),o(r,s,v,"♠","\\spadesuit",!0),o(a,s,v,"§","\\S",!0),o(a,s,v,"¶","\\P",!0),o(r,s,v,"†","\\dag"),o(a,s,v,"†","\\dag"),o(a,s,v,"†","\\textdagger"),o(r,s,v,"‡","\\ddag"),o(a,s,v,"‡","\\ddag"),o(a,s,v,"†","\\textdaggerdbl"),o(r,s,h,"⎱","\\rmoustache"),o(r,s,p,"⎰","\\lmoustache"),o(r,s,h,"⟯","\\rgroup"),o(r,s,p,"⟮","\\lgroup"),o(r,s,u,"∓","\\mp",!0),o(r,s,u,"⊖","\\ominus",!0),o(r,s,u,"⊎","\\uplus",!0),o(r,s,u,"⊓","\\sqcap",!0),o(r,s,u,"∗","\\ast"),o(r,s,u,"⊔","\\sqcup",!0),o(r,s,u,"◯","\\bigcirc"),o(r,s,u,"∙","\\bullet"),o(r,s,u,"‡","\\ddagger"),o(r,s,u,"≀","\\wr",!0),o(r,s,u,"⨿","\\amalg"),o(r,s,u,"&","\\And"),o(r,s,m,"⟵","\\longleftarrow",!0),o(r,s,m,"⇐","\\Leftarrow",!0),o(r,s,m,"⟸","\\Longleftarrow",!0),o(r,s,m,"⟶","\\longrightarrow",!0),o(r,s,m,"⇒","\\Rightarrow",!0),o(r,s,m,"⟹","\\Longrightarrow",!0),o(r,s,m,"↔","\\leftrightarrow",!0),o(r,s,m,"⟷","\\longleftrightarrow",!0),o(r,s,m,"⇔","\\Leftrightarrow",!0),o(r,s,m,"⟺","\\Longleftrightarrow",!0),o(r,s,m,"↦","\\mapsto",!0),o(r,s,m,"⟼","\\longmapsto",!0),o(r,s,m,"↗","\\nearrow",!0),o(r,s,m,"↩","\\hookleftarrow",!0),o(r,s,m,"↪","\\hookrightarrow",!0),o(r,s,m,"↘","\\searrow",!0),o(r,s,m,"↼","\\leftharpoonup",!0),o(r,s,m,"⇀","\\rightharpoonup",!0),o(r,s,m,"↙","\\swarrow",!0),o(r,s,m,"↽","\\leftharpoondown",!0),o(r,s,m,"⇁","\\rightharpoondown",!0),o(r,s,m,"↖","\\nwarrow",!0),o(r,s,m,"⇌","\\rightleftharpoons",!0),o(r,l,m,"≮","\\nless",!0),o(r,l,m,"","\\nleqslant"),o(r,l,m,"","\\nleqq"),o(r,l,m,"⪇","\\lneq",!0),o(r,l,m,"≨","\\lneqq",!0),o(r,l,m,"","\\lvertneqq"),o(r,l,m,"⋦","\\lnsim",!0),o(r,l,m,"⪉","\\lnapprox",!0),o(r,l,m,"⊀","\\nprec",!0),o(r,l,m,"⋠","\\npreceq",!0),o(r,l,m,"⋨","\\precnsim",!0),o(r,l,m,"⪹","\\precnapprox",!0),o(r,l,m,"≁","\\nsim",!0),o(r,l,m,"","\\nshortmid"),o(r,l,m,"∤","\\nmid",!0),o(r,l,m,"⊬","\\nvdash",!0),o(r,l,m,"⊭","\\nvDash",!0),o(r,l,m,"⋪","\\ntriangleleft"),o(r,l,m,"⋬","\\ntrianglelefteq",!0),o(r,l,m,"⊊","\\subsetneq",!0),o(r,l,m,"","\\varsubsetneq"),o(r,l,m,"⫋","\\subsetneqq",!0),o(r,l,m,"","\\varsubsetneqq"),o(r,l,m,"≯","\\ngtr",!0),o(r,l,m,"","\\ngeqslant"),o(r,l,m,"","\\ngeqq"),o(r,l,m,"⪈","\\gneq",!0),o(r,l,m,"≩","\\gneqq",!0),o(r,l,m,"","\\gvertneqq"),o(r,l,m,"⋧","\\gnsim",!0),o(r,l,m,"⪊","\\gnapprox",!0),o(r,l,m,"⊁","\\nsucc",!0),o(r,l,m,"⋡","\\nsucceq",!0),o(r,l,m,"⋩","\\succnsim",!0),o(r,l,m,"⪺","\\succnapprox",!0),o(r,l,m,"≆","\\ncong",!0),o(r,l,m,"","\\nshortparallel"),o(r,l,m,"∦","\\nparallel",!0),o(r,l,m,"⊯","\\nVDash",!0),o(r,l,m,"⋫","\\ntriangleright"),o(r,l,m,"⋭","\\ntrianglerighteq",!0),o(r,l,m,"","\\nsupseteqq"),o(r,l,m,"⊋","\\supsetneq",!0),o(r,l,m,"","\\varsupsetneq"),o(r,l,m,"⫌","\\supsetneqq",!0),o(r,l,m,"","\\varsupsetneqq"),o(r,l,m,"⊮","\\nVdash",!0),o(r,l,m,"⪵","\\precneqq",!0),o(r,l,m,"⪶","\\succneqq",!0),o(r,l,m,"","\\nsubseteqq"),o(r,l,u,"⊴","\\unlhd"),o(r,l,u,"⊵","\\unrhd"),o(r,l,m,"↚","\\nleftarrow",!0),o(r,l,m,"↛","\\nrightarrow",!0),o(r,l,m,"⇍","\\nLeftarrow",!0),o(r,l,m,"⇏","\\nRightarrow",!0),o(r,l,m,"↮","\\nleftrightarrow",!0),o(r,l,m,"⇎","\\nLeftrightarrow",!0),o(r,l,m,"△","\\vartriangle"),o(r,l,v,"ℏ","\\hslash"),o(r,l,v,"▽","\\triangledown"),o(r,l,v,"◊","\\lozenge"),o(r,l,v,"Ⓢ","\\circledS"),o(r,l,v,"®","\\circledR"),o(a,l,v,"®","\\circledR"),o(r,l,v,"∡","\\measuredangle",!0),o(r,l,v,"∄","\\nexists"),o(r,l,v,"℧","\\mho"),o(r,l,v,"Ⅎ","\\Finv",!0),o(r,l,v,"⅁","\\Game",!0),o(r,l,v,"k","\\Bbbk"),o(r,l,v,"‵","\\backprime"),o(r,l,v,"▲","\\blacktriangle"),o(r,l,v,"▼","\\blacktriangledown"),o(r,l,v,"■","\\blacksquare"),o(r,l,v,"⧫","\\blacklozenge"),o(r,l,v,"★","\\bigstar"),o(r,l,v,"∢","\\sphericalangle",!0),o(r,l,v,"∁","\\complement",!0),o(r,l,v,"ð","\\eth",!0),o(r,l,v,"╱","\\diagup"),o(r,l,v,"╲","\\diagdown"),o(r,l,v,"□","\\square"),o(r,l,v,"□","\\Box"),o(r,l,v,"◊","\\Diamond"),o(r,l,v,"¥","\\yen",!0),o(r,l,v,"✓","\\checkmark",!0),o(a,l,v,"✓","\\checkmark"),o(r,l,v,"ℶ","\\beth",!0),o(r,l,v,"ℸ","\\daleth",!0),o(r,l,v,"ℷ","\\gimel",!0),o(r,l,v,"ϝ","\\digamma"),o(r,l,v,"ϰ","\\varkappa"),o(r,l,p,"┌","\\ulcorner"),o(r,l,h,"┐","\\urcorner"),o(r,l,p,"└","\\llcorner"),o(r,l,h,"┘","\\lrcorner"),o(r,l,m,"≦","\\leqq",!0),o(r,l,m,"⩽","\\leqslant"),o(r,l,m,"⪕","\\eqslantless",!0),o(r,l,m,"≲","\\lesssim"),o(r,l,m,"⪅","\\lessapprox"),o(r,l,m,"≊","\\approxeq",!0),o(r,l,u,"⋖","\\lessdot"),o(r,l,m,"⋘","\\lll"),o(r,l,m,"≶","\\lessgtr"),o(r,l,m,"⋚","\\lesseqgtr"),o(r,l,m,"⪋","\\lesseqqgtr"),o(r,l,m,"≑","\\doteqdot"),o(r,l,m,"≓","\\risingdotseq",!0),o(r,l,m,"≒","\\fallingdotseq",!0),o(r,l,m,"∽","\\backsim",!0),o(r,l,m,"⋍","\\backsimeq",!0),o(r,l,m,"⫅","\\subseteqq",!0),o(r,l,m,"⋐","\\Subset",!0),o(r,l,m,"⊏","\\sqsubset",!0),o(r,l,m,"≼","\\preccurlyeq",!0),o(r,l,m,"⋞","\\curlyeqprec",!0),o(r,l,m,"≾","\\precsim",!0),o(r,l,m,"⪷","\\precapprox",!0),o(r,l,m,"⊲","\\vartriangleleft"),o(r,l,m,"⊴","\\trianglelefteq"),o(r,l,m,"⊨","\\vDash"),o(r,l,m,"⊪","\\Vvdash",!0),o(r,l,m,"⌣","\\smallsmile"),o(r,l,m,"⌢","\\smallfrown"),o(r,l,m,"≏","\\bumpeq",!0),o(r,l,m,"≎","\\Bumpeq",!0),o(r,l,m,"≧","\\geqq",!0),o(r,l,m,"⩾","\\geqslant",!0),o(r,l,m,"⪖","\\eqslantgtr",!0),o(r,l,m,"≳","\\gtrsim",!0),o(r,l,m,"⪆","\\gtrapprox",!0),o(r,l,u,"⋗","\\gtrdot"),o(r,l,m,"⋙","\\ggg",!0),o(r,l,m,"≷","\\gtrless",!0),o(r,l,m,"⋛","\\gtreqless",!0),o(r,l,m,"⪌","\\gtreqqless",!0),o(r,l,m,"≖","\\eqcirc",!0),o(r,l,m,"≗","\\circeq",!0),o(r,l,m,"≜","\\triangleq",!0),o(r,l,m,"∼","\\thicksim"),o(r,l,m,"≈","\\thickapprox"),o(r,l,m,"⫆","\\supseteqq",!0),o(r,l,m,"⋑","\\Supset",!0),o(r,l,m,"⊐","\\sqsupset",!0),o(r,l,m,"≽","\\succcurlyeq",!0),o(r,l,m,"⋟","\\curlyeqsucc",!0),o(r,l,m,"≿","\\succsim",!0),o(r,l,m,"⪸","\\succapprox",!0),o(r,l,m,"⊳","\\vartriangleright"),o(r,l,m,"⊵","\\trianglerighteq"),o(r,l,m,"⊩","\\Vdash",!0),o(r,l,m,"∣","\\shortmid"),o(r,l,m,"∥","\\shortparallel"),o(r,l,m,"≬","\\between",!0),o(r,l,m,"⋔","\\pitchfork",!0),o(r,l,m,"∝","\\varpropto"),o(r,l,m,"◀","\\blacktriangleleft"),o(r,l,m,"∴","\\therefore",!0),o(r,l,m,"∍","\\backepsilon"),o(r,l,m,"▶","\\blacktriangleright"),o(r,l,m,"∵","\\because",!0),o(r,l,m,"⋘","\\llless"),o(r,l,m,"⋙","\\gggtr"),o(r,l,u,"⊲","\\lhd"),o(r,l,u,"⊳","\\rhd"),o(r,l,m,"≂","\\eqsim",!0),o(r,s,m,"⋈","\\Join"),o(r,l,m,"≑","\\Doteq",!0),o(r,l,u,"∔","\\dotplus",!0),o(r,l,u,"∖","\\smallsetminus"),o(r,l,u,"⋒","\\Cap",!0),o(r,l,u,"⋓","\\Cup",!0),o(r,l,u,"⩞","\\doublebarwedge",!0),o(r,l,u,"⊟","\\boxminus",!0),o(r,l,u,"⊞","\\boxplus",!0),o(r,l,u,"⋇","\\divideontimes",!0),o(r,l,u,"⋉","\\ltimes",!0),o(r,l,u,"⋊","\\rtimes",!0),o(r,l,u,"⋋","\\leftthreetimes",!0),o(r,l,u,"⋌","\\rightthreetimes",!0),o(r,l,u,"⋏","\\curlywedge",!0),o(r,l,u,"⋎","\\curlyvee",!0),o(r,l,u,"⊝","\\circleddash",!0),o(r,l,u,"⊛","\\circledast",!0),o(r,l,u,"⋅","\\centerdot"),o(r,l,u,"⊺","\\intercal",!0),o(r,l,u,"⋒","\\doublecap"),o(r,l,u,"⋓","\\doublecup"),o(r,l,u,"⊠","\\boxtimes",!0),o(r,l,m,"⇢","\\dashrightarrow",!0),o(r,l,m,"⇠","\\dashleftarrow",!0),o(r,l,m,"⇇","\\leftleftarrows",!0),o(r,l,m,"⇆","\\leftrightarrows",!0),o(r,l,m,"⇚","\\Lleftarrow",!0),o(r,l,m,"↞","\\twoheadleftarrow",!0),o(r,l,m,"↢","\\leftarrowtail",!0),o(r,l,m,"↫","\\looparrowleft",!0),o(r,l,m,"⇋","\\leftrightharpoons",!0),o(r,l,m,"↶","\\curvearrowleft",!0),o(r,l,m,"↺","\\circlearrowleft",!0),o(r,l,m,"↰","\\Lsh",!0),o(r,l,m,"⇈","\\upuparrows",!0),o(r,l,m,"↿","\\upharpoonleft",!0),o(r,l,m,"⇃","\\downharpoonleft",!0),o(r,l,m,"⊸","\\multimap",!0),o(r,l,m,"↭","\\leftrightsquigarrow",!0),o(r,l,m,"⇉","\\rightrightarrows",!0),o(r,l,m,"⇄","\\rightleftarrows",!0),o(r,l,m,"↠","\\twoheadrightarrow",!0),o(r,l,m,"↣","\\rightarrowtail",!0),o(r,l,m,"↬","\\looparrowright",!0),o(r,l,m,"↷","\\curvearrowright",!0),o(r,l,m,"↻","\\circlearrowright",!0),o(r,l,m,"↱","\\Rsh",!0),o(r,l,m,"⇊","\\downdownarrows",!0),o(r,l,m,"↾","\\upharpoonright",!0),o(r,l,m,"⇂","\\downharpoonright",!0),o(r,l,m,"⇝","\\rightsquigarrow",!0),o(r,l,m,"⇝","\\leadsto"),o(r,l,m,"⇛","\\Rrightarrow",!0),o(r,l,m,"↾","\\restriction"),o(r,s,v,"‘","`"),o(r,s,v,"$","\\$"),o(a,s,v,"$","\\$"),o(a,s,v,"$","\\textdollar"),o(r,s,v,"%","\\%"),o(a,s,v,"%","\\%"),o(r,s,v,"_","\\_"),o(a,s,v,"_","\\_"),o(a,s,v,"_","\\textunderscore"),o(r,s,v,"∠","\\angle",!0),o(r,s,v,"∞","\\infty",!0),o(r,s,v,"′","\\prime"),o(r,s,v,"△","\\triangle"),o(r,s,v,"Γ","\\Gamma",!0),o(r,s,v,"Δ","\\Delta",!0),o(r,s,v,"Θ","\\Theta",!0),o(r,s,v,"Λ","\\Lambda",!0),o(r,s,v,"Ξ","\\Xi",!0),o(r,s,v,"Π","\\Pi",!0),o(r,s,v,"Σ","\\Sigma",!0),o(r,s,v,"Υ","\\Upsilon",!0),o(r,s,v,"Φ","\\Phi",!0),o(r,s,v,"Ψ","\\Psi",!0),o(r,s,v,"Ω","\\Omega",!0),o(r,s,v,"¬","\\neg"),o(r,s,v,"¬","\\lnot"),o(r,s,v,"⊤","\\top"),o(r,s,v,"⊥","\\bot"),o(r,s,v,"∅","\\emptyset"),o(r,l,v,"∅","\\varnothing"),o(r,s,d,"α","\\alpha",!0),o(r,s,d,"β","\\beta",!0),o(r,s,d,"γ","\\gamma",!0),o(r,s,d,"δ","\\delta",!0),o(r,s,d,"ϵ","\\epsilon",!0),o(r,s,d,"ζ","\\zeta",!0),o(r,s,d,"η","\\eta",!0),o(r,s,d,"θ","\\theta",!0),o(r,s,d,"ι","\\iota",!0),o(r,s,d,"κ","\\kappa",!0),o(r,s,d,"λ","\\lambda",!0),o(r,s,d,"μ","\\mu",!0),o(r,s,d,"ν","\\nu",!0),o(r,s,d,"ξ","\\xi",!0),o(r,s,d,"ο","\\omicron",!0),o(r,s,d,"π","\\pi",!0),o(r,s,d,"ρ","\\rho",!0),o(r,s,d,"σ","\\sigma",!0),o(r,s,d,"τ","\\tau",!0),o(r,s,d,"υ","\\upsilon",!0),o(r,s,d,"ϕ","\\phi",!0),o(r,s,d,"χ","\\chi",!0),o(r,s,d,"ψ","\\psi",!0),o(r,s,d,"ω","\\omega",!0),o(r,s,d,"ε","\\varepsilon",!0),o(r,s,d,"ϑ","\\vartheta",!0),o(r,s,d,"ϖ","\\varpi",!0),o(r,s,d,"ϱ","\\varrho",!0),o(r,s,d,"ς","\\varsigma",!0),o(r,s,d,"φ","\\varphi",!0),o(r,s,u,"∗","*"),o(r,s,u,"+","+"),o(r,s,u,"−","-"),o(r,s,u,"⋅","\\cdot",!0),o(r,s,u,"∘","\\circ"),o(r,s,u,"÷","\\div",!0),o(r,s,u,"±","\\pm",!0),o(r,s,u,"×","\\times",!0),o(r,s,u,"∩","\\cap",!0),o(r,s,u,"∪","\\cup",!0),o(r,s,u,"∖","\\setminus"),o(r,s,u,"∧","\\land"),o(r,s,u,"∨","\\lor"),o(r,s,u,"∧","\\wedge",!0),o(r,s,u,"∨","\\vee",!0),o(r,s,v,"√","\\surd"),o(r,s,p,"(","("),o(r,s,p,"[","["),o(r,s,p,"⟨","\\langle",!0),o(r,s,p,"∣","\\lvert"),o(r,s,p,"∥","\\lVert"),o(r,s,h,")",")"),o(r,s,h,"]","]"),o(r,s,h,"?","?"),o(r,s,h,"!","!"),o(r,s,h,"⟩","\\rangle",!0),o(r,s,h,"∣","\\rvert"),o(r,s,h,"∥","\\rVert"),o(r,s,m,"=","="),o(r,s,m,"<","<"),o(r,s,m,">",">"),o(r,s,m,":",":"),o(r,s,m,"≈","\\approx",!0),o(r,s,m,"≅","\\cong",!0),o(r,s,m,"≥","\\ge"),o(r,s,m,"≥","\\geq",!0),o(r,s,m,"←","\\gets"),o(r,s,m,">","\\gt"),o(r,s,m,"∈","\\in",!0),o(r,s,m,"∉","\\notin",!0),o(r,s,m,"̸","\\not"),o(r,s,m,"⊂","\\subset",!0),o(r,s,m,"⊃","\\supset",!0),o(r,s,m,"⊆","\\subseteq",!0),o(r,s,m,"⊇","\\supseteq",!0),o(r,l,m,"⊈","\\nsubseteq",!0),o(r,l,m,"⊉","\\nsupseteq",!0),o(r,s,m,"⊨","\\models"),o(r,s,m,"←","\\leftarrow",!0),o(r,s,m,"≤","\\le"),o(r,s,m,"≤","\\leq",!0),o(r,s,m,"<","\\lt"),o(r,s,m,"≠","\\ne",!0),o(r,s,m,"≠","\\neq"),o(r,s,m,"→","\\rightarrow",!0),o(r,s,m,"→","\\to"),o(r,l,m,"≱","\\ngeq",!0),o(r,l,m,"≰","\\nleq",!0),o(r,s,g,null,"\\!"),o(r,s,g," ","\\ "),o(r,s,g," ","~"),o(r,s,g,null,"\\,"),o(r,s,g,null,"\\:"),o(r,s,g,null,"\\;"),o(r,s,g,null,"\\enspace"),o(r,s,g,null,"\\qquad"),o(r,s,g,null,"\\quad"),o(r,s,g," ","\\space"),o(r,s,g," ","\\nobreakspace"),o(a,s,g,null,"\\!"),o(a,s,g," ","\\ "),o(a,s,g," ","~"),o(a,s,g,null,"\\,"),o(a,s,g,null,"\\:"),o(a,s,g,null,"\\;"),o(a,s,g,null,"\\enspace"),o(a,s,g,null,"\\qquad"),o(a,s,g,null,"\\quad"),o(a,s,g," ","\\space"),o(a,s,g," ","\\nobreakspace"),o(r,s,"punct",",",","),o(r,s,"punct",";",";"),o(r,s,"punct",":","\\colon"),o(r,l,u,"⊼","\\barwedge",!0),o(r,l,u,"⊻","\\veebar",!0),o(r,s,u,"⊙","\\odot",!0),o(r,s,u,"⊕","\\oplus",!0),o(r,s,u,"⊗","\\otimes",!0),o(r,s,v,"∂","\\partial",!0),o(r,s,u,"⊘","\\oslash",!0),o(r,l,u,"⊚","\\circledcirc",!0),o(r,l,u,"⊡","\\boxdot",!0),o(r,s,u,"△","\\bigtriangleup"),o(r,s,u,"▽","\\bigtriangledown"),o(r,s,u,"†","\\dagger"),o(r,s,u,"⋄","\\diamond"),o(r,s,u,"⋆","\\star"),o(r,s,u,"◃","\\triangleleft"),o(r,s,u,"▹","\\triangleright"),o(r,s,p,"{","\\{"),o(a,s,v,"{","\\{"),o(a,s,v,"{","\\textbraceleft"),o(r,s,h,"}","\\}"),o(a,s,v,"}","\\}"),o(a,s,v,"}","\\textbraceright"),o(r,s,p,"{","\\lbrace"),o(r,s,h,"}","\\rbrace"),o(r,s,p,"[","\\lbrack"),o(r,s,h,"]","\\rbrack"),o(a,s,v,"<","\\textless"),o(a,s,v,">","\\textgreater"),o(r,s,p,"⌊","\\lfloor"),o(r,s,h,"⌋","\\rfloor"),o(r,s,p,"⌈","\\lceil"),o(r,s,h,"⌉","\\rceil"),o(r,s,v,"\\","\\backslash"),o(r,s,v,"∣","|"),o(r,s,v,"∣","\\vert"),o(a,s,v,"|","\\textbar"),o(r,s,v,"∥","\\|"),o(r,s,v,"∥","\\Vert"),o(a,s,v,"∥","\\textbardbl"),o(r,s,m,"↑","\\uparrow",!0),o(r,s,m,"⇑","\\Uparrow",!0),o(r,s,m,"↓","\\downarrow",!0),o(r,s,m,"⇓","\\Downarrow",!0),o(r,s,m,"↕","\\updownarrow",!0),o(r,s,m,"⇕","\\Updownarrow",!0),o(r,s,f,"∐","\\coprod"),o(r,s,f,"⋁","\\bigvee"),o(r,s,f,"⋀","\\bigwedge"),o(r,s,f,"⨄","\\biguplus"),o(r,s,f,"⋂","\\bigcap"),o(r,s,f,"⋃","\\bigcup"),o(r,s,f,"∫","\\int"),o(r,s,f,"∫","\\intop"),o(r,s,f,"∬","\\iint"),o(r,s,f,"∭","\\iiint"),o(r,s,f,"∏","\\prod"),o(r,s,f,"∑","\\sum"),o(r,s,f,"⨂","\\bigotimes"),o(r,s,f,"⨁","\\bigoplus"),o(r,s,f,"⨀","\\bigodot"),o(r,s,f,"∮","\\oint"),o(r,s,f,"⨆","\\bigsqcup"),o(r,s,f,"∫","\\smallint"),o(a,s,"inner","…","\\textellipsis"),o(r,s,"inner","…","\\mathellipsis"),o(a,s,"inner","…","\\ldots",!0),o(r,s,"inner","…","\\ldots",!0),o(r,s,"inner","⋯","\\@cdots",!0),o(r,s,"inner","⋱","\\ddots",!0),o(r,s,v,"⋮","\\vdots",!0),o(r,s,c,"ˊ","\\acute"),o(r,s,c,"ˋ","\\grave"),o(r,s,c,"¨","\\ddot"),o(r,s,c,"~","\\tilde"),o(r,s,c,"ˉ","\\bar"),o(r,s,c,"˘","\\breve"),o(r,s,c,"ˇ","\\check"),o(r,s,c,"^","\\hat"),o(r,s,c,"⃗","\\vec"),o(r,s,c,"˙","\\dot"),o(r,s,c,"˚","\\mathring"),o(r,s,d,"ı","\\imath",!0),o(r,s,d,"ȷ","\\jmath",!0),o(a,s,v,"ı","\\i",!0),o(a,s,v,"ȷ","\\j",!0),o(a,s,v,"ß","\\ss",!0),o(a,s,v,"æ","\\ae",!0),o(a,s,v,"æ","\\ae",!0),o(a,s,v,"œ","\\oe",!0),o(a,s,v,"ø","\\o",!0),o(a,s,v,"Æ","\\AE",!0),o(a,s,v,"Œ","\\OE",!0),o(a,s,v,"Ø","\\O",!0),o(a,s,c,"ˊ","\\'"),o(a,s,c,"ˋ","\\`"),o(a,s,c,"ˆ","\\^"),o(a,s,c,"˜","\\~"),o(a,s,c,"ˉ","\\="),o(a,s,c,"˘","\\u"),o(a,s,c,"˙","\\."),o(a,s,c,"˚","\\r"),o(a,s,c,"ˇ","\\v"),o(a,s,c,"¨",'\\"'),o(a,s,c,"˝","\\H"),o(a,s,v,"–","--"),o(a,s,v,"–","\\textendash"),o(a,s,v,"—","---"),o(a,s,v,"—","\\textemdash"),o(a,s,v,"‘","`"),o(a,s,v,"‘","\\textquoteleft"),o(a,s,v,"’","'"),o(a,s,v,"’","\\textquoteright"),o(a,s,v,"“","``"),o(a,s,v,"“","\\textquotedblleft"),o(a,s,v,"”","''"),o(a,s,v,"”","\\textquotedblright"),o(r,s,v,"°","\\degree"),o(a,s,v,"°","\\degree"),o(r,s,d,"£","\\pounds"),o(r,s,d,"£","\\mathsterling",!0),o(a,s,d,"£","\\pounds"),o(a,s,d,"£","\\textsterling",!0),o(r,l,v,"✠","\\maltese"),o(a,l,v,"✠","\\maltese"),o(a,s,g," ","\\ "),o(a,s,g," "," "),o(a,s,g," ","~");for(var b=0;b<'0123456789/@."'.length;b++){var k='0123456789/@."'.charAt(b);o(r,s,v,k,k)}for(var y=0;y<'0123456789!@*()-=+[]<>|";:?/.,'.length;y++){var w='0123456789!@*()-=+[]<>|";:?/.,'.charAt(y);o(a,s,v,w,w)}for(var _="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",x=0;x<_.length;x++){var S=_.charAt(x);o(r,s,d,S,S),o(a,s,v,S,S)}for(var C=0;C<"ÇÐÞçþ".length;C++){var A="ÇÐÞçþ".charAt(C);o(r,s,d,A,A),o(a,s,v,A,A)}o(a,s,v,"ð","ð"),o(a,s,v,"–","–"),o(a,s,v,"—","—"),o(a,s,v,"‘","‘"),o(a,s,v,"’","’"),o(a,s,v,"“","“"),o(a,s,v,"”","”")},function(t,e,i){var n=i(38);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";var n=i(42),o=i(59),r={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},a={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"},s={};e.a={getFontMetrics:function(t){var e=void 0;if(!s[e=t>=5?0:t>=3?1:2]){var i=s[e]={cssEmPerMu:r.quad[e]/18};for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n][e])}return s[e]},getCharacterMetrics:function(t,e,i){if(!o.a[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0);t[0]in a&&(r=a[t[0]].charCodeAt(0));var s=o.a[e][r];if(s||"text"!==i||Object(n.b)(r)&&(s=o.a[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}}},function(t,e,i){"use strict";var n=i(66),o=i.n(n),r=i(7),a=i.n(r),s=i(10),l=i.n(s),c=function(){function t(e,i,n){a()(this,t),this.lexer=e,this.start=i,this.end=n,o()(this)}return l()(t,null,[{key:"range",value:function(e,i){return i?e&&e.loc&&i.loc&&e.loc.lexer===i.loc.lexer?new t(e.loc.lexer,e.loc.start,i.loc.end):null:e&&e.loc}}]),t}();e.a=c},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){"use strict";var n=i(7),o=i.n(n),r=i(5);e.a=function t(e){o()(this,t),e=e||{},this.displayMode=r.a.deflt(e.displayMode,!1),this.throwOnError=r.a.deflt(e.throwOnError,!0),this.errorColor=r.a.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.colorIsTextColor=r.a.deflt(e.colorIsTextColor,!1),this.maxSize=Math.max(0,r.a.deflt(e.maxSize,1/0))}},function(t,e,i){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(79));e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,n.default)(t)}},function(t,e,i){"use strict";var n=i(81)(!0);i(48)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(87),o=i(53);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(49),o=i(38);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(52)("keys"),o=i(32);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,i){"use strict";e.a=function(t){var e=!0,i=!1,n=void 0;try{for(var o,r=a()(s);!(e=(o=r.next()).done);e=!0){var l=o.value,c=!0,u=!1,h=void 0;try{for(var d,f=a()(l.blocks);!(c=(d=f.next()).done);c=!0){var p=d.value;if(t>=p[0]&&t<=p[1])return l.name}}catch(t){u=!0,h=t}finally{try{!c&&f.return&&f.return()}finally{if(u)throw h}}}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}return null},e.b=function(t){for(var e=0;e<l.length;e+=2)if(t>=l[e]&&t<=l[e+1])return!0;return!1};var n=i(35),o=i.n(n),r=i(18),a=i.n(r),s=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var l=[];s.forEach(function(t){return t.blocks.forEach(function(t){return l.push.apply(l,o()(t))})})},function(t,e,i){"use strict";var n=i(7),o=i.n(n),r=i(10),a=i.n(r),s=i(30),l=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],c=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],u=function(t,e){return e.size<2?t:l[t-1][e.size-1]},h=function(){function t(e){o()(this,t),this.style=e.style,this.color=e.color,this.size=e.size||t.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=c[this.size-1],this.maxSize=e.maxSize,this._fontMetrics=void 0}return a()(t,[{key:"extend",value:function(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return new t(i)}},{key:"havingStyle",value:function(t){return this.style===t?this:this.extend({style:t,size:u(this.textSize,t)})}},{key:"havingCrampedStyle",value:function(){return this.havingStyle(this.style.cramp())}},{key:"havingSize",value:function(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:c[t-1]})}},{key:"havingBaseStyle",value:function(e){e=e||this.style.text();var i=u(t.BASESIZE,e);return this.size===i&&this.textSize===t.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}},{key:"withColor",value:function(t){return this.extend({color:t})}},{key:"withPhantom",value:function(){return this.extend({phantom:!0})}},{key:"withFontFamily",value:function(t){return this.extend({fontFamily:t||this.fontFamily})}},{key:"withFontWeight",value:function(t){return this.extend({fontWeight:t})}},{key:"withFontShape",value:function(t){return this.extend({fontShape:t})}},{key:"sizingClasses",value:function(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}},{key:"baseSizingClasses",value:function(){return this.size!==t.BASESIZE?["sizing","reset-size"+this.size,"size"+t.BASESIZE]:[]}},{key:"fontMetrics",value:function(){return this._fontMetrics||(this._fontMetrics=s.a.getFontMetrics(this.size)),this._fontMetrics}},{key:"getColor",value:function(){return this.phantom?"transparent":null!=this.color&&t.colorMap.hasOwnProperty(this.color)?t.colorMap[this.color]:this.color}}]),t}();h.BASESIZE=6,h.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"},e.a=h},function(t,e,i){"use strict";var n=i(6),o=i(9),r=i(12),a=i(0),s=i(30),l=i(28),c=i(5),u=function(t,e,i){return l.a.math[t]&&l.a.math[t].replace?s.a.getCharacterMetrics(l.a.math[t].replace,e,i):s.a.getCharacterMetrics(t,e,i)},h=function(t,e,i,n){var o=i.havingBaseStyle(e),r=a.a.makeSpan((n||[]).concat(o.sizingClasses(i)),[t],i);return r.delimSizeMultiplier=o.sizeMultiplier/i.sizeMultiplier,r.height*=r.delimSizeMultiplier,r.depth*=r.delimSizeMultiplier,r.maxFontSize=o.sizeMultiplier,r},d=function(t,e,i){var n=e.havingBaseStyle(i),o=(1-e.sizeMultiplier/n.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=o+"em",t.height-=o,t.depth+=o},f=function(t,e,i,n,r,s){var l=function(t,e,i,n){return a.a.makeSymbol(t,"Size"+e+"-Regular",i,n)}(t,e,r,n),c=h(a.a.makeSpan(["delimsizing","size"+e],[l],n),o.a.TEXT,n,s);return i&&d(c,n,o.a.TEXT),c},p=function(t,e,i){var n=void 0;return"Size1-Regular"===e?n="delim-size1":"Size4-Regular"===e&&(n="delim-size4"),{type:"elem",elem:a.a.makeSpan(["delimsizinginner",n],[a.a.makeSpan([],[a.a.makeSymbol(t,e,i)])])}},m=function(t,e,i,n,r,s){var l=void 0,c=void 0,d=void 0,f=void 0;l=d=f=t,c=null;var m="Size1-Regular";"\\uparrow"===t?d=f="⏐":"\\Uparrow"===t?d=f="‖":"\\downarrow"===t?l=d="⏐":"\\Downarrow"===t?l=d="‖":"\\updownarrow"===t?(l="\\uparrow",d="⏐",f="\\downarrow"):"\\Updownarrow"===t?(l="\\Uparrow",d="‖",f="\\Downarrow"):"["===t||"\\lbrack"===t?(l="⎡",d="⎢",f="⎣",m="Size4-Regular"):"]"===t||"\\rbrack"===t?(l="⎤",d="⎥",f="⎦",m="Size4-Regular"):"\\lfloor"===t?(d=l="⎢",f="⎣",m="Size4-Regular"):"\\lceil"===t?(l="⎡",d=f="⎢",m="Size4-Regular"):"\\rfloor"===t?(d=l="⎥",f="⎦",m="Size4-Regular"):"\\rceil"===t?(l="⎤",d=f="⎥",m="Size4-Regular"):"("===t?(l="⎛",d="⎜",f="⎝",m="Size4-Regular"):")"===t?(l="⎞",d="⎟",f="⎠",m="Size4-Regular"):"\\{"===t||"\\lbrace"===t?(l="⎧",c="⎨",f="⎩",d="⎪",m="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(l="⎫",c="⎬",f="⎭",d="⎪",m="Size4-Regular"):"\\lgroup"===t?(l="⎧",f="⎩",d="⎪",m="Size4-Regular"):"\\rgroup"===t?(l="⎫",f="⎭",d="⎪",m="Size4-Regular"):"\\lmoustache"===t?(l="⎧",f="⎭",d="⎪",m="Size4-Regular"):"\\rmoustache"===t&&(l="⎫",f="⎩",d="⎪",m="Size4-Regular");var g=u(l,m,r),v=g.height+g.depth,b=u(d,m,r),k=b.height+b.depth,y=u(f,m,r),w=y.height+y.depth,_=0,x=1;if(null!==c){var S=u(c,m,r);_=S.height+S.depth,x=2}var C=v+w+_,A=Math.ceil((e-C)/(x*k)),T=C+A*x*k,j=n.fontMetrics().axisHeight;i&&(j*=n.sizeMultiplier);var M=T/2-j,z=[];if(z.push(p(f,m,r)),null===c)for(var E=0;E<A;E++)z.push(p(d,m,r));else{for(var I=0;I<A;I++)z.push(p(d,m,r));z.push(p(c,m,r));for(var D=0;D<A;D++)z.push(p(d,m,r))}z.push(p(l,m,r));var O=n.havingBaseStyle(o.a.TEXT),P=a.a.makeVList({positionType:"bottom",positionData:M,children:z},O);return h(a.a.makeSpan(["delimsizing","mult"],[P],O),o.a.TEXT,n,s)},g=function(t,e,i,n){var o=void 0;"sqrtTall"===t&&(o="M702 80H400000v40H742v"+(i-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var s=new r.a.pathNode(t,o),l=new r.a.svgNode([s],{width:"400em",height:e+"em",viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return a.a.makeSpan(["hide-tail"],[l],n)},v=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],b=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],k=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],y=[0,1.2,1.8,2.4,3],w=[{type:"small",style:o.a.SCRIPTSCRIPT},{type:"small",style:o.a.SCRIPT},{type:"small",style:o.a.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],_=[{type:"small",style:o.a.SCRIPTSCRIPT},{type:"small",style:o.a.SCRIPT},{type:"small",style:o.a.TEXT},{type:"stack"}],x=[{type:"small",style:o.a.SCRIPTSCRIPT},{type:"small",style:o.a.SCRIPT},{type:"small",style:o.a.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],S=function(t){return"small"===t.type?"Main-Regular":"large"===t.type?"Size"+t.size+"-Regular":"stack"===t.type?"Size4-Regular":void 0},C=function(t,e,i,n){for(var o=Math.min(2,3-n.style.size);o<i.length&&"stack"!==i[o].type;o++){var r=u(t,S(i[o]),"math"),a=r.height+r.depth;if("small"===i[o].type&&(a*=n.havingBaseStyle(i[o].style).sizeMultiplier),a>e)return i[o]}return i[i.length-1]},A=function(t,e,i,n,o,r){"<"===t||"\\lt"===t||"⟨"===t?t="\\langle":">"!==t&&"\\gt"!==t&&"⟩"!==t||(t="\\rangle");var s=void 0;s=c.a.contains(k,t)?w:c.a.contains(v,t)?x:_;var l=C(t,e,s,n);return"small"===l.type?function(t,e,i,n,o,r){var s=a.a.makeSymbol(t,"Main-Regular",o,n),l=h(s,e,n,r);return i&&d(l,n,e),l}(t,l.style,i,n,o,r):"large"===l.type?f(t,l.size,i,n,o,r):m(t,e,i,n,o,r)};e.a={sqrtImage:function(t,e){var i=C("\\surd",t,x,e),n=void 0,o=e.sizeMultiplier,r=0,a=0,s=0;"small"===i.type?(s=1080,a=1*(o=e.havingBaseStyle(i.style).sizeMultiplier/e.sizeMultiplier),(n=g("sqrtMain",r=1.08*o,s,e)).style.minWidth="0.853em",n.advanceWidth=.833*o):"large"===i.type?(s=1080*y[i.size],a=y[i.size]/o,r=(y[i.size]+.08)/o,(n=g("sqrtSize"+i.size,r,s,e)).style.minWidth="1.02em",n.advanceWidth=1/o):(r=t/o+.08,a=t/o,s=Math.floor(1e3*t)+80,(n=g("sqrtTall",r,s,e)).style.minWidth="0.742em",n.advanceWidth=1.056/o);return n.height=a,n.style.height=r+"em",{span:n,ruleWidth:e.fontMetrics().sqrtRuleThickness*o}},sizedDelim:function(t,e,i,o,r){if("<"===t||"\\lt"===t||"⟨"===t?t="\\langle":">"!==t&&"\\gt"!==t&&"⟩"!==t||(t="\\rangle"),c.a.contains(v,t)||c.a.contains(k,t))return f(t,e,!1,i,o,r);if(c.a.contains(b,t))return m(t,y[e],!1,i,o,r);throw new n.a("Illegal delimiter: '"+t+"'")},customSizedDelim:A,leftRightDelim:function(t,e,i,n,o,r){var a=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(e-a,i+a),c=Math.max(l/500*901,2*l-s);return A(t,c,!0,n,o,r)}}},function(t,e,i){var n=i(20),o=i(16).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,i){var n=i(25),o=i(8),r=i(24);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",a)}},function(t,e,i){var n=i(72);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){"use strict";var n=i(82),o=i(25),r=i(83),a=i(26),s=i(21),l=i(17),c=i(84),u=i(54),h=i(91),d=i(11)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,m,g,v,b){c(i,e,m);var k,y,w,_=function(t){if(!f&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},x=e+" Iterator",S="values"==g,C=!1,A=t.prototype,T=A[d]||A["@@iterator"]||g&&A[g],j=T||_(g),M=g?S?_("entries"):j:void 0,z="Array"==e&&A.entries||T;if(z&&(w=h(z.call(new t)))!==Object.prototype&&(u(w,x,!0),n||s(w,d)||a(w,d,p)),S&&T&&"values"!==T.name&&(C=!0,j=function(){return T.call(this)}),n&&!b||!f&&!C&&A[d]||a(A,d,j),l[e]=j,l[x]=p,g)if(k={values:S?j:_("values"),keys:v?j:_("keys"),entries:M},b)for(y in k)y in A||r(A,y,k[y]);else o(o.P+o.F*(f||C),e,k);return k}},function(t,e,i){var n=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(37),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(16),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(15).f,o=i(21),r=i(11)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(56),o=i(11)("iterator"),r=i(17);t.exports=i(8).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(50),o=i(11)("toStringTag"),r="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?i:r?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){"use strict";e.__esModule=!0;var n=r(i(97)),o=r(i(18));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var s,l=(0,o.default)(t);!(n=(s=l.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,i){i(99);for(var n=i(16),o=i(26),r=i(17),a=i(11)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var c=s[l],u=n[c],h=u&&u.prototype;h&&!h[a]&&o(h,a,c),r[c]=r.Array}},function(t,e,i){"use strict";e.a={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1187],8674:[-.064,.437,0,0,1167],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],824:[.19444,.69444,0,0,0],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,0],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,0],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],824:[.19444,.69444,0,0,0],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1015],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,889],8617:[.011,.511,0,0,1015],8618:[.011,.511,0,0,1015],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,889],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,667],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,666],8800:[.215,.716,0,0,666],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,692],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,847],8942:[.03,.9,0,0,121],8943:[-.19,.31,0,0,1015],8945:[-.1,.82,0,0,1015],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,301],9137:[.244,.744,0,0,301],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,184],10223:[.244,.744,0,0,184],10229:[.011,.511,0,0,1470],10230:[.011,.511,0,0,1469],10231:[.011,.511,0,0,1748],10232:[.024,.525,0,0,1497],10233:[.024,.525,0,0,1526],10234:[.024,.525,0,0,1746],10236:[.011,.511,0,0,1498],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778]},"Math-BoldItalic":{47:[.19444,.69444,0,0,0],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{47:[.19444,.69444,0,0,0],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],176:[0,.69444,0,0,.66667],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],733:[0,.69444,0,0,.5],771:[0,.67659,0,0,.5],776:[0,.67937,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],176:[0,.61111,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}}},function(t,e,i){"use strict";e.a=c;var n=i(0),o=i(3),r=i(1),a=i(5),s=i(4),l=i(2);function c(t,e,i){for(var o=s.a(t,e,!1),r=e.sizeMultiplier/i.sizeMultiplier,l=0;l<o.length;l++){var c=a.a.indexOf(o[l].classes,"sizing");c<0?Array.prototype.push.apply(o[l].classes,e.sizingClasses(i)):o[l].classes[c+1]==="reset-size"+e.size&&(o[l].classes[c+1]="reset-size"+i.size),o[l].height*=r,o[l].depth*=r}return n.a.makeFragment(o)}var u=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Object(o.b)({type:"sizing",names:u,props:{numArgs:0,allowedInText:!0},handler:function(t,e){var i=t.breakOnTokenText,n=t.funcName,o=t.parser;o.consumeSpaces();var r=o.parseExpression(!1,i);return{type:"sizing",size:a.a.indexOf(u,n)+1,value:r}},htmlBuilder:function(t,e){var i=e.havingSize(t.value.size);return c(t.value.value,i,e)},mathmlBuilder:function(t,e){var i=e.havingSize(t.value.size),n=l.a(t.value.value,i),o=new r.a.MathNode("mstyle",n);return o.setAttribute("mathsize",i.sizeMultiplier+"em"),o}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),e.b=function(t){for(var e=t.type,i=t.names,a=t.props,s=t.handler,l=t.htmlBuilder,c=t.mathmlBuilder,u={numArgs:a.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:s},h=0;h<i.length;++h)r[i[h]]=u;l&&(n.d[e]=l);c&&(o.d[e]=c)};var n=i(4),o=i(2),r=(i(43),i(14),{})},function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"b",function(){return p});var n=i(7),o=i.n(n),r=i(10),a=i.n(r),s=i(145),l=i.n(s),c=i(6),u=i(31),h=i(27),d=new RegExp("[̀-ͯ]+$"),f=new RegExp("([ \r\n\t]+)|(%[^\n]*[\n]|[!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+|\\\\[^\ud800-\udfff])"),p=new RegExp("^\\\\[a-zA-Z@]+"),m=new RegExp("^%[^\n]*[\n]"),g=function(){function t(e){o()(this,t),this.input=e,this.pos=0}return a()(t,[{key:"lex",value:function(){var t=this.input,e=this.pos;if(e===t.length)return new h.a("EOF",new u.a(this,e,e));var i=l()(f,t,e);if(null===i)throw new c.a("Unexpected character: '"+t[e]+"'",new h.a(t[e],new u.a(this,e,e+1)));var n=i[2]||" ",o=this.pos;this.pos+=i[0].length;var r=this.pos;return m.test(n)?this.lex():new h.a(n,new u.a(this,o,r))}}]),t}();e.c=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(64),o=(i.n(n),i(65));e.default=o.a},function(t,e){},function(t,e,i){"use strict";var n=i(6),o=i(34),r=i(76),a=i(113),s=i(5),l=function(t,e,i){s.a.clearNode(e);var n=c(t,i).toNode();e.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),l=function(){throw new n.a("KaTeX doesn't work in quirks mode.")});var c=function(t,e){var i=new o.a(e),n=Object(a.a)(t,i);return Object(r.b)(n,t,i)};e.a={render:l,renderToString:function(t,e){return c(t,e).toMarkup()},ParseError:n.a,__parse:function(t,e){var i=new o.a(e);return Object(a.a)(t,i)},__renderToDomTree:c,__renderToHTMLTree:function(t,e){var i=new o.a(e),n=Object(a.a)(t,i);return Object(r.a)(n,t,i)}}},function(t,e,i){t.exports={default:i(67),__esModule:!0}},function(t,e,i){i(68),t.exports=i(8).Object.freeze},function(t,e,i){var n=i(20),o=i(69).onFreeze;i(46)("freeze",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(32)("meta"),o=i(20),r=i(21),a=i(15).f,s=0,l=Object.isExtensible||function(){return!0},c=!i(24)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!r(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return c&&h.NEED&&l(t)&&!r(t,n)&&u(t),t}}},function(t,e,i){t.exports=!i(23)&&!i(24)(function(){return 7!=Object.defineProperty(i(45)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(20);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){t.exports={default:i(74),__esModule:!0}},function(t,e,i){i(75);var n=i(8).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(25);n(n.S+n.F*!i(23),"Object",{defineProperty:i(15).f})},function(t,e,i){"use strict";i.d(e,"b",function(){return c}),i.d(e,"a",function(){return u});var n=i(4),o=i(2),r=i(0),a=i(43),s=(i(34),i(9)),l=function(t){return new a.a({style:t.displayMode?s.a.DISPLAY:s.a.TEXT,maxSize:t.maxSize})},c=function(t,e,i){var a=l(i),s=Object(o.c)(t,e,a),c=Object(n.c)(t,a),u=r.a.makeSpan(["katex"],[s,c]);return i.displayMode?r.a.makeSpan(["katex-display"],[u]):u},u=function(t,e,i){var o=l(i),a=Object(n.c)(t,o),s=r.a.makeSpan(["katex"],[a]);return i.displayMode?r.a.makeSpan(["katex-display"],[s]):s}},function(t,e,i){t.exports={default:i(78),__esModule:!0}},function(t,e,i){var n=i(8),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,i){t.exports={default:i(80),__esModule:!0}},function(t,e,i){i(36),i(92),t.exports=i(8).Array.from},function(t,e,i){var n=i(37),o=i(38);t.exports=function(t){return function(e,i){var r,a,s=String(o(e)),l=n(i),c=s.length;return l<0||l>=c?t?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):r:t?s.slice(l,l+2):a-56320+(r-55296<<10)+65536}}},function(t,e){t.exports=!0},function(t,e,i){t.exports=i(26)},function(t,e,i){"use strict";var n=i(85),o=i(33),r=i(54),a={};i(26)(a,i(11)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var n=i(22),o=i(86),r=i(53),a=i(41)("IE_PROTO"),s=function(){},l=function(){var t,e=i(45)("iframe"),n=r.length;for(e.style.display="none",i(90).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[r[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(15),o=i(22),r=i(39);t.exports=i(23)?Object.defineProperties:function(t,e){o(t);for(var i,a=r(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(21),o=i(40),r=i(88)(!1),a=i(41)("IE_PROTO");t.exports=function(t,e){var i,s=o(t),l=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~r(c,i)||c.push(i));return c}},function(t,e,i){var n=i(40),o=i(51),r=i(89);t.exports=function(t){return function(e,i,a){var s,l=n(e),c=o(l.length),u=r(a,c);if(t&&i!=i){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e,i){var n=i(37),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):r(t,e)}},function(t,e,i){t.exports=i(16).document&&document.documentElement},function(t,e,i){var n=i(21),o=i(29),r=i(41)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){"use strict";var n=i(47),o=i(25),r=i(29),a=i(93),s=i(94),l=i(51),c=i(95),u=i(55);o(o.S+o.F*!i(96)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,h,d=r(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,b=u(d);if(g&&(m=n(m,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(i=new f(e=l(d.length));e>v;v++)c(i,v,g?m(d[v],v):d[v]);else for(h=b.call(d),i=new f;!(o=h.next()).done;v++)c(i,v,g?a(h,m,[o.value,v],!0):o.value);return i.length=v,i}})},function(t,e,i){var n=i(22);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&n(r.call(t)),e}}},function(t,e,i){var n=i(17),o=i(11)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[o]===t)}},function(t,e,i){"use strict";var n=i(15),o=i(33);t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},function(t,e,i){var n=i(11)("iterator"),o=!1;try{var r=[7][n]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:i=!0}},r[n]=function(){return a},t(r)}catch(t){}return i}},function(t,e,i){t.exports={default:i(98),__esModule:!0}},function(t,e,i){i(58),i(36),t.exports=i(102)},function(t,e,i){"use strict";var n=i(100),o=i(101),r=i(17),a=i(40);t.exports=i(48)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var n=i(56),o=i(11)("iterator"),r=i(17);t.exports=i(8).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(n(e))}},function(t,e,i){i(58),i(36),t.exports=i(104)},function(t,e,i){var n=i(22),o=i(55);t.exports=i(8).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){t.exports={default:i(106),__esModule:!0}},function(t,e,i){i(107),t.exports=i(8).Object.assign},function(t,e,i){var n=i(25);n(n.S+n.F,"Object",{assign:i(108)})},function(t,e,i){"use strict";var n=i(39),o=i(109),r=i(110),a=i(29),s=i(49),l=Object.assign;t.exports=!l||i(24)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=a(t),l=arguments.length,c=1,u=o.f,h=r.f;l>c;)for(var d,f=s(arguments[c++]),p=u?n(f).concat(u(f)):n(f),m=p.length,g=0;m>g;)h.call(f,d=p[g++])&&(i[d]=f[d]);return i}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";var n={stdHorizRule:"M0 80H400000 v40H0z M0 80H400000 v40H0z",vertSeparator:"M100 0h50V400000h-50zM100 0h50V400000h-50z",sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",baraboveleftarrow:"M1 500c30.67-18 59-41.833 85-71.5s45-61.17 57-94.5h23\nc15.33 0 23 .33 23 1 0 .67-5.33 12.67-16 36-16.67 34.67-39 67.33-67 98l-10 11\nh39904v40H96l9 10c27.33 30.67 50.67 65 70 103l14 33c0 .67-7.67 1-23 1h-22\nC116.67 596.33 69 540.67 1 500z M96 480 H400000 v40 H96z\nM1 147 H399905 v40  H1z M0 147 H399905 v40  H0z",rightarrowabovebar:"M400000 167c-70.67 42-118 97.67-142 167h-23c-15.33 0\n-23-.33-23-1 0-1.33 5.33-13.67 16-37 18-35.33 41.33-69 70-101l7-8h-39905\nv-40h39905c-389 0 0 0 0 0l-7-8c-28.67-32-52-65.67-70-101-10.67-23.33-16-35.67\n-16-37 0-.67 7.67-1 23-1h23c11.33 33.33 30 64.833 56 94.5s54.67 53.83 86 72.5z\nM0 147 H399905 v40  H0z M96 480 H400000 v40 H0z M96 480 H400000 v40 H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};e.a={path:n}},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s});var n={number:3,unit:"mu"},o={number:4,unit:"mu"},r={number:5,unit:"mu"},a={mord:{mop:n,mbin:o,mrel:r,minner:n},mop:{mord:n,mop:n,mrel:r,minner:n},mbin:{mord:o,mop:o,mopen:o,minner:o},mrel:{mord:r,mop:r,mopen:r,minner:r},mopen:{},mclose:{mop:n,mbin:o,mrel:r,minner:n},mpunct:{mord:n,mop:n,mrel:r,mopen:n,mclose:n,mpunct:n,minner:n},minner:{mord:n,mop:n,mbin:o,mrel:r,mopen:n,mpunct:n,minner:n}},s={mord:{mop:n},mop:{mord:n,mop:n},mbin:{},mrel:{},mopen:{},mclose:{mop:n},mpunct:{},minner:{mop:n}}},function(t,e,i){"use strict";var n=i(114);e.a=function(t,e){if(!("string"==typeof t||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");return new n.a(t,e).parse()}},function(t,e,i){"use strict";var n=i(7),o=i.n(n),r=i(10),a=i.n(r),s=i(115),l=i(142),c=i(144),u=i(28),h=i(19),d=i(42),f=i(148),p=i.n(f),m=i(149),g=i(14),v=i(6),b=i(62);i(34),i(27);function k(t,e){return{type:"arg",result:t,token:e}}function y(t){if("$"===t.type)throw new v.a("Unexpected $",t.token);return t}var w=function(){function t(e,i){o()(this,t),this.mode="math",this.gullet=new c.a(e,i.macros,this.mode),i.colorIsTextColor&&(this.gullet.macros["\\color"]="\\textcolor"),this.settings=i,this.leftrightDepth=0}return a()(t,[{key:"expect",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.nextToken.text!==t)throw new v.a("Expected '"+t+"', got '"+this.nextToken.text+"'",this.nextToken);e&&this.consume()}},{key:"consume",value:function(){this.nextToken=this.gullet.expandNextToken()}},{key:"switchMode",value:function(t){this.mode=t,this.gullet.switchMode(t)}},{key:"parse",value:function(){this.consume();var t=this.parseInput();return t}},{key:"parseInput",value:function(){var t=this.parseExpression(!1);return this.expect("EOF",!1),t}},{key:"parseExpression",value:function(e,i){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var o=this.nextToken;if(-1!==t.endOfExpression.indexOf(o.text))break;if(i&&o.text===i)break;if(e&&s.a[o.text]&&s.a[o.text].infix)break;var r=this.parseAtom(i);if(!r){if(!this.settings.throwOnError&&"\\"===o.text[0]){var a=this.handleUnsupportedCmd();n.push(a);continue}break}n.push(r)}return this.handleInfixNodes(n)}},{key:"handleInfixNodes",value:function(t){for(var e=-1,i=void 0,n=0;n<t.length;n++){var o=t[n];if("infix"===o.type){if(-1!==e)throw new v.a("only one infix operator per group",o.value.token);e=n,i=o.value.replaceWith}}if(-1!==e&&i){var r=void 0,a=void 0,s=t.slice(0,e),l=t.slice(e+1);r=1===s.length&&"ordgroup"===s[0].type?s[0]:new g.a("ordgroup",s,this.mode),a=1===l.length&&"ordgroup"===l[0].type?l[0]:new g.a("ordgroup",l,this.mode);var c=this.callFunction(i,[r,a],[]);return[new g.a(c.type,c,this.mode)]}return t}},{key:"handleSupSubscript",value:function(e){var i=this.nextToken,n=i.text;this.consume(),this.consumeSpaces();var o=this.parseGroup();if(!o){if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new v.a("Expected group after '"+n+"'",i);return this.handleUnsupportedCmd()}var r=y(o);if("fn"===r.type){if(s.a[r.result].greediness>t.SUPSUB_GREEDINESS)return this.parseGivenFunction(o);throw new v.a("Got function '"+r.result+"' with no arguments as "+e,i)}return r.result}},{key:"handleUnsupportedCmd",value:function(){for(var t=this.nextToken.text,e=[],i=0;i<t.length;i++)e.push(new g.a("textord",t[i],"text"));var n=new g.a("text",{body:e,type:"text"},this.mode),o=new g.a("color",{color:this.settings.errorColor,value:[n],type:"color"},this.mode);return this.consume(),o}},{key:"parseAtom",value:function(t){var e=this.parseImplicitGroup(t);if("text"===this.mode)return e;for(var i=void 0,n=void 0;;){this.consumeSpaces();var o=this.nextToken;if("\\limits"===o.text||"\\nolimits"===o.text){if(!e||"op"!==e.type)throw new v.a("Limit controls must follow a math operator",o);var r="\\limits"===o.text;e.value.limits=r,e.value.alwaysHandleSupSub=!0,this.consume()}else if("^"===o.text){if(i)throw new v.a("Double superscript",o);i=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new v.a("Double subscript",o);n=this.handleSupSubscript("subscript")}else{if("'"!==o.text)break;if(i)throw new v.a("Double superscript",o);var a=new g.a("textord","\\prime",this.mode),s=[a];for(this.consume();"'"===this.nextToken.text;)s.push(a),this.consume();"^"===this.nextToken.text&&s.push(this.handleSupSubscript("superscript")),i=new g.a("ordgroup",s,this.mode)}}return i||n?new g.a("supsub",{base:e,sup:i,sub:n},this.mode):e}},{key:"parseImplicitGroup",value:function(t){var e=this.parseSymbol();if(null==e)return this.parseFunction();if("arg"===e.type)return this.parseGivenFunction(e);var i=e.result;if("$"===i){if("math"===this.mode)throw new v.a("$ within math mode");var n=this.mode;this.switchMode("math"),this.consume();var o=this.parseExpression(!1,"$");return this.expect("$",!1),this.switchMode(n),this.consume(),new g.a("styling",{style:"text",value:o},"math")}if("\\begin"===i){var r=this.parseGivenFunction(e),a=r.value.name;if(!l.a.hasOwnProperty(a))throw new v.a("No such environment: "+a,r.value.nameGroup);var s=l.a[a],c=this.parseArguments("\\begin{"+a+"}",s),u=c.args,h=c.optArgs,d={mode:this.mode,envName:a,parser:this},f=s.handler(d,u,h);this.expect("\\end",!1);var p=this.nextToken,m=this.parseFunction();if(!m)throw new v.a("failed to parse function after \\end");if(m.value.name!==a)throw new v.a("Mismatch: \\begin{"+a+"} matched by \\end{"+m.value.name+"}",p);return f}return this.parseGivenFunction(e,t)}},{key:"parseFunction",value:function(){var t=this.parseGroup();return t?this.parseGivenFunction(t):null}},{key:"parseGivenFunction",value:function(t,e){if("fn"===(t=y(t)).type){var i=t.result,n=s.a[i];if("text"===this.mode&&!n.allowedInText)throw new v.a("Can't use function '"+i+"' in text mode",t.token);if("math"===this.mode&&!1===n.allowedInMath)throw new v.a("Can't use function '"+i+"' in math mode",t.token);var o=this.parseArguments(i,n),r=o.args,a=o.optArgs,l=t.token,c=this.callFunction(i,r,a,l,e);return new g.a(c.type,c,this.mode)}return t.result}},{key:"callFunction",value:function(t,e,i,n,o){var r={funcName:t,parser:this,token:n,breakOnTokenText:o},a=s.a[t];if(a&&a.handler)return a.handler(r,e,i);throw new v.a("No function handler for "+t)}},{key:"parseArguments",value:function(t,e){var i=e.numArgs+e.numOptionalArgs;if(0===i)return{args:[],optArgs:[]};for(var n=e.greediness,o=[],r=[],a=0;a<i;a++){var l=e.argTypes&&e.argTypes[a],c=a<e.numOptionalArgs;a>0&&!c&&this.consumeSpaces(),0!==a||c||"math"!==this.mode||this.consumeSpaces();var u=this.nextToken,h=l?this.parseGroupOfType(l,c):this.parseGroup(c);if(!h){if(c){r.push(null);continue}if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new v.a("Expected group after '"+t+"'",u);h=k(this.handleUnsupportedCmd(),u)}var d=void 0;if("fn"===(h=y(h)).type){if(!(s.a[h.result].greediness>n))throw new v.a("Got function '"+h.result+"' as argument to '"+t+"'",u);d=this.parseGivenFunction(h)}else d=h.result;(c?r:o).push(d)}return{args:o,optArgs:r}}},{key:"parseGroupOfType",value:function(t,e){return"original"===t&&(t=this.mode),"color"===t?this.parseColorGroup(e):"size"===t?this.parseSizeGroup(e):"url"===t?this.parseUrlGroup(e):this.parseGroup(e,t)}},{key:"consumeSpaces",value:function(){for(;" "===this.nextToken.text;)this.consume()}},{key:"parseStringGroup",value:function(t,e){if(e&&"["!==this.nextToken.text)return null;var i=this.mode;this.mode="text",this.expect(e?"[":"{");for(var n="",o=this.nextToken,r=o;this.nextToken.text!==(e?"]":"}");){if("EOF"===this.nextToken.text)throw new v.a("Unexpected end of input in "+t,o.range(this.nextToken,n));n+=(r=this.nextToken).text,this.consume()}return this.mode=i,this.expect(e?"]":"}"),o.range(r,n)}},{key:"parseStringGroupWithBalancedBraces",value:function(t,e){if(e&&"["!==this.nextToken.text)return null;var i=this.mode;this.mode="text",this.expect(e?"[":"{");for(var n="",o=0,r=this.nextToken,a=r;o>0||this.nextToken.text!==(e?"]":"}");){if("EOF"===this.nextToken.text)throw new v.a("Unexpected end of input in "+t,r.range(this.nextToken,n));if(n+=(a=this.nextToken).text,"{"===a.text)o+=1;else if("}"===a.text){if(o<=0)throw new v.a("Unbalanced brace of input in "+t,r.range(this.nextToken,n));o-=1}this.consume()}return this.mode=i,this.expect(e?"]":"}"),r.range(a,n)}},{key:"parseRegexGroup",value:function(t,e){var i=this.mode;this.mode="text";for(var n=this.nextToken,o=n,r="";"EOF"!==this.nextToken.text&&t.test(r+this.nextToken.text);)r+=(o=this.nextToken).text,this.consume();if(""===r)throw new v.a("Invalid "+e+": '"+n.text+"'",n);return this.mode=i,n.range(o,r)}},{key:"parseColorGroup",value:function(t){var e=this.parseStringGroup("color",t);if(!e)return null;var i=/^(#[a-f0-9]{3}|#[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!i)throw new v.a("Invalid color: '"+e.text+"'",e);return k(new g.a("color",i[0],this.mode),e)}},{key:"parseUrlGroup",value:function(t){var e=this.parseStringGroupWithBalancedBraces("url",t);if(!e)return null;var i=e.text.replace(/\\([#$%&~_^{}])/g,"$1");return k(new g.a("url",i,this.mode),e)}},{key:"parseSizeGroup",value:function(t){var e=void 0;if(!(e=t||"{"===this.nextToken.text?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!i)throw new v.a("Invalid size: '"+e.text+"'",e);var n={number:+(i[1]+i[2]),unit:i[3]};if(!Object(h.b)(n))throw new v.a("Invalid unit: '"+n.unit+"'",e);return k(new g.a("size",n,this.mode),e)}},{key:"parseGroup",value:function(t,e){var i=this.mode,n=this.nextToken;if(this.nextToken.text===(t?"[":"{")){e&&this.switchMode(e),this.consume();var o=this.parseExpression(!1,t?"]":"}"),r=this.nextToken;return e&&this.switchMode(i),this.expect(t?"]":"}"),"text"===e&&this.formLigatures(o),k(new g.a("ordgroup",o,this.mode,n,r),n.range(r,n.text))}e&&this.switchMode(e);var a=t?null:this.parseSymbol();return e&&this.switchMode(i),a}},{key:"formLigatures",value:function(t){for(var e=t.length-1,i=0;i<e;++i){var n=t[i],o=n.value;"-"===o&&"-"===t[i+1].value&&(i+1<e&&"-"===t[i+2].value?(t.splice(i,3,new g.a("textord","---","text",n,t[i+2])),e-=2):(t.splice(i,2,new g.a("textord","--","text",n,t[i+1])),e-=1)),"'"!==o&&"`"!==o||t[i+1].value!==o||(t.splice(i,2,new g.a("textord",o+o,"text",n,t[i+1])),e-=1)}}},{key:"parseSymbol",value:function(){var t=this.nextToken,e=t.text;if(s.a[e])return this.consume(),function(t){return{type:"fn",result:t.text,token:t}}(t);if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var i=e.slice(5),n="*"===i.charAt(0);if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new v.a("\\verb assertion failed --\n                    please report what input caused this bug");return i=i.slice(1,-1),k(new g.a("verb",{body:i,star:n},"text"),t)}if("$"===e)return function(t){return{type:"$",result:"$",token:t}}(t);m.a.hasOwnProperty(e[0])&&!u.a[this.mode][e[0]]&&(e=m.a[e[0]]+e.substr(1));var o=b.a.exec(e);o&&("i"===(e=e.substring(0,o.index))?e="ı":"j"===e&&(e="ȷ"));var r=null;if(u.a[this.mode][e])r=new g.a(u.a[this.mode][e].group,e,this.mode,t);else{if("text"!==this.mode||!Object(d.b)(e.charCodeAt(0)))return null;r=new g.a("textord",e,this.mode,t)}if(this.consume(),o)for(var a=0;a<o[0].length;a++){var l=o[0][a];if(!p.a[l])throw new v.a("Unknown accent ' "+l+"'",t);var c=p.a[l][this.mode];if(!c)throw new v.a("Accent "+l+" unsupported in "+this.mode+" mode",t);r=new g.a("accent",{type:"accent",label:c,isStretchy:!1,isShifty:!0,base:r},this.mode,t)}return k(r,t)}}]),t}();w.endOfExpression=["}","\\end","\\right","&","\\\\","\\cr"],w.SUPSUB_GREEDINESS=1,e.a=w},function(t,e,i){"use strict";var n=i(6),o=i(14),r=i(3),a=(i(116),i(117),i(118),i(119),i(120),i(121),i(122),i(123),i(124),i(125),i(126),i(127),i(128),i(129),i(130),i(131),i(60),i(132),i(133),i(137),i(138),i(139),i(140),i(141),r.a);e.a=a;var s=function(t,e,i){Object(r.b)({names:t,props:e,handler:i})};s(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(t,e){var i=e[0];return{type:"mclass",mclass:"m"+t.funcName.substr(5),value:Object(r.c)(i)}}),s(["\\stackrel"],{numArgs:2},function(t,e){var i=e[0],n=e[1],a=new o.a("op",{type:"op",limits:!0,alwaysHandleSupSub:!0,symbol:!1,value:Object(r.c)(n)},n.mode);return{type:"mclass",mclass:"mrel",value:[new o.a("supsub",{base:a,sup:i,sub:null},i.mode)]}});var l={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint"};s(["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],{numArgs:0},function(t){return{type:"op",limits:!1,symbol:!1,body:t.funcName}}),s(["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(t){return{type:"op",limits:!0,symbol:!1,body:t.funcName}}),s(["\\int","\\iint","\\iiint","\\oint","∫","∬","∭","∮"],{numArgs:0},function(t){var e=t.funcName;return 1===e.length&&(e=l[e]),{type:"op",limits:!1,symbol:!0,body:e}}),s(["\\overbrace","\\underbrace"],{numArgs:1},function(t,e){var i=e[0];return{type:"horizBrace",label:t.funcName,isOver:/^\\over/.test(t.funcName),base:i}}),s(["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],{numArgs:1,numOptionalArgs:1},function(t,e,i){var n=i[0],o=e[0];return{type:"xArrow",label:t.funcName,body:o,below:n}}),s(["\\over","\\choose","\\atop"],{numArgs:0,infix:!0},function(t){var e=void 0;switch(t.funcName){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:e,token:t.token}}),s(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(t,e,i){return{type:"cr",size:i[0]}}),s(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(t,e){var i=e[0];if("ordgroup"!==i.type)throw new n.a("Invalid environment name",i);for(var o="",r=0;r<i.value.length;++r)o+=i.value[r].value;return{type:"environment",name:o,nameGroup:i}}),s(["\\raisebox"],{numArgs:2,argTypes:["size","text"],allowedInText:!0},function(t,e){var i=e[0],n=e[1];return{type:"raisebox",dy:i,body:n,value:Object(r.c)(n)}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(12),a=i(1),s=i(44),l=i(9),c=i(4),u=i(2);Object(n.b)({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(t,e,i){var n=i[0];return{type:"sqrt",body:e[0],index:n}},htmlBuilder:function(t,e){var i=c.b(t.value.body,e.havingCrampedStyle());0===i.height&&(i.height=e.fontMetrics().xHeight),i instanceof r.a.documentFragment&&(i=o.a.makeSpan([],[i],e));var n=e.fontMetrics().defaultRuleThickness,a=n;e.style.id<l.a.TEXT.id&&(a=e.fontMetrics().xHeight);var u=n+a/4,h=(i.height+i.depth+u+n)*e.sizeMultiplier,d=s.a.sqrtImage(h,e),f=d.span,p=d.ruleWidth,m=f.height-p;m>i.height+i.depth+u&&(u=(u+m-i.height-i.depth)/2);var g=f.height-i.height-u-p;i.style.paddingLeft=f.advanceWidth+"em";var v=o.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+g)},{type:"elem",elem:f},{type:"kern",size:p}]},e);if(t.value.index){var b=e.havingStyle(l.a.SCRIPTSCRIPT),k=c.b(t.value.index,b,e),y=.6*(v.height-v.depth),w=o.a.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:k}]},e),_=o.a.makeSpan(["root"],[w]);return o.a.makeSpan(["mord","sqrt"],[_,v],e)}return o.a.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder:function(t,e){return t.value.index?new a.a.MathNode("mroot",[u.b(t.value.body,e),u.b(t.value.index,e)]):new a.a.MathNode("msqrt",[u.b(t.value.body,e)])}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(6),s=i(4),l=i(2),c=function(t,e){var i=s.a(t.value.value,e.withColor(t.value.color),!1);return new o.a.makeFragment(i)},u=function(t,e){var i=l.a(t.value.value,e),n=new r.a.MathNode("mstyle",i);return n.setAttribute("mathcolor",t.value.color),n};Object(n.b)({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(t,e){var i=e[0],o=e[1];return{type:"color",color:i.value,value:Object(n.c)(o)}},htmlBuilder:c,mathmlBuilder:u}),Object(n.b)({type:"color",names:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],props:{numArgs:1,allowedInText:!0,greediness:3},handler:function(t,e){var i=e[0];return{type:"color",color:"katex-"+t.funcName.slice(1),value:Object(n.c)(i)}},htmlBuilder:c,mathmlBuilder:u}),Object(n.b)({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(t,e){var i=t.parser,n=t.breakOnTokenText,o=e[0];if(!o)throw new a.a("\\color not followed by color");var r=i.parseExpression(!0,n);return{type:"color",color:o.value,value:r}},htmlBuilder:c,mathmlBuilder:u})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2),l={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},c={"\\textbf":"textbf"},u={"\\textit":"textit"};Object(n.b)({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},handler:function(t,e){var i=e[0];return{type:"text",body:Object(n.c)(i),font:t.funcName}},htmlBuilder:function(t,e){var i=t.value.font,n=void 0;n=l[i]?e.withFontFamily(l[i]):c[i]?e.withFontWeight(c[i]):e.withFontShape(u[i]);var r=a.a(t.value.body,n,!0);return o.a.tryCombineChars(r),o.a.makeSpan(["mord","text"],r,n)},mathmlBuilder:function(t,e){for(var i=t.value.body,n=[],o=null,a=0;a<i.length;a++){var l=s.b(i[a],e);"mtext"===l.type&&null!=o?Array.prototype.push.apply(o.children,l.children):(n.push(l),"mtext"===l.type&&(o=l))}return 1===n.length?n[0]:new r.a.MathNode("mrow",n)}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(5),s=i(13),l=i(4),c=i(2),u=function(t,e){var i=l.b(t.value.body,e),n=t.value.label.substr(1),r=e.sizeMultiplier,c=void 0,u=0,h=/color/.test(n);if("sout"===n)(c=o.a.makeSpan(["stretchy","sout"])).height=e.fontMetrics().defaultRuleThickness/r,u=-.5*e.fontMetrics().xHeight;else{i.classes.push(/cancel/.test(n)?"cancel-pad":"boxpad");var d=0;d=/box/.test(n)?"colorbox"===n?.3:.34:a.a.isCharacterBox(t.value.body)?.2:0,c=s.a.encloseSpan(i,n,d,e),u=i.depth+d,h&&(c.style.backgroundColor=t.value.backgroundColor.value,"fcolorbox"===n&&(c.style.borderColor=t.value.borderColor.value))}var f=void 0;return f=h?o.a.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:u},{type:"elem",elem:i,shift:0}]},e):o.a.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:c,shift:u,wrapperClasses:/cancel/.test(n)?["svg-align"]:[]}]},e),/cancel/.test(n)?o.a.makeSpan(["mord","cancel-lap"],[f],e):o.a.makeSpan(["mord"],[f],e)},h=function(t,e){var i=new r.a.MathNode("menclose",[c.b(t.value.body,e)]);switch(t.value.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\colorbox":i.setAttribute("mathbackground",t.value.backgroundColor.value);break;case"\\fcolorbox":i.setAttribute("mathbackground",t.value.backgroundColor.value),i.setAttribute("notation","box");break;default:i.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return i};Object(n.b)({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(t,e,i){var n=e[0],o=e[1];return{type:"enclose",label:t.funcName,backgroundColor:n,body:o}},htmlBuilder:u,mathmlBuilder:h}),Object(n.b)({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(t,e,i){var n=e[0],o=e[1],r=e[2];return{type:"enclose",label:t.funcName,backgroundColor:o,borderColor:n,body:r}},htmlBuilder:u,mathmlBuilder:h}),Object(n.b)({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\fbox"],props:{numArgs:1},handler:function(t,e,i){var n=e[0];return{type:"enclose",label:t.funcName,body:n}},htmlBuilder:u,mathmlBuilder:h})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2);Object(n.b)({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(t,e){return{type:"overline",body:e[0]}},htmlBuilder:function(t,e){var i=a.b(t.value.body,e.havingCrampedStyle()),n=o.a.makeLineSpan("overline-line",e),r=o.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:n.height},{type:"elem",elem:n}]},e);return o.a.makeSpan(["mord","overline"],[r],e)},mathmlBuilder:function(t,e){var i=new r.a.MathNode("mo",[new r.a.TextNode("‾")]);i.setAttribute("stretchy","true");var n=new r.a.MathNode("mover",[s.b(t.value.body,e),i]);return n.setAttribute("accent","true"),n}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2);Object(n.b)({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){return{type:"underline",body:e[0]}},htmlBuilder:function(t,e){var i=a.b(t.value.body,e),n=o.a.makeLineSpan("underline-line",e),r=o.a.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:n},{type:"kern",size:5*n.height},{type:"elem",elem:i}]},e);return o.a.makeSpan(["mord","underline"],[r],e)},mathmlBuilder:function(t,e){var i=new r.a.MathNode("mo",[new r.a.TextNode("‾")]);i.setAttribute("stretchy","true");var n=new r.a.MathNode("munder",[s.b(t.value.body,e),i]);return n.setAttribute("accentunder","true"),n}})},function(t,e,i){"use strict";var n=i(0),o=i(3),r=i(1),a=i(19);Object(o.b)({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(t,e,i){var n=i[0],o=e[0],r=e[1];return{type:"rule",shift:n&&n.value,width:o.value,height:r.value}},htmlBuilder:function(t,e){var i=n.a.makeSpan(["mord","rule"],[],e),o=0;t.value.shift&&(o=Object(a.a)(t.value.shift,e));var r=Object(a.a)(t.value.width,e),s=Object(a.a)(t.value.height,e);return i.style.borderRightWidth=r+"em",i.style.borderTopWidth=s+"em",i.style.bottom=o+"em",i.width=r,i.height=s+o,i.depth=-o,i.maxFontSize=1.125*s*e.sizeMultiplier,i},mathmlBuilder:function(t,e){return new r.a.MathNode("mrow")}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(19),s=i(6);Object(n.b)({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(t,e){var i="m"===t.funcName[1],n="mu"===e[0].value.unit;if(i){if(n||"undefined"!=typeof console&&console.warn("In LaTeX, "+t.funcName+" supports only mu units, not "+e[0].value.unit+" units"),"math"!==t.parser.mode)throw new s.a("Can't use function '"+t.funcName+"' in text mode")}else n&&"undefined"!=typeof console&&console.warn("In LaTeX, "+t.funcName+" does not support mu units");return{type:"kern",dimension:e[0].value}},htmlBuilder:function(t,e){return o.a.makeGlue(t.value.dimension,e)},mathmlBuilder:function(t,e){var i=new r.a.MathNode("mspace"),n=Object(a.a)(t.value.dimension,e);return i.setAttribute("width",n+"em"),i}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2);Object(n.b)({type:"phantom",names:["\\phantom"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"phantom",value:Object(n.c)(i)}},htmlBuilder:function(t,e){var i=a.a(t.value.value,e.withPhantom(),!1);return new o.a.makeFragment(i)},mathmlBuilder:function(t,e){var i=s.a(t.value.value,e);return new r.a.MathNode("mphantom",i)}}),Object(n.b)({type:"hphantom",names:["\\hphantom"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"hphantom",value:Object(n.c)(i),body:i}},htmlBuilder:function(t,e){var i=o.a.makeSpan([],[a.b(t.value.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var n=0;n<i.children.length;n++)i.children[n].height=0,i.children[n].depth=0;return i=o.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e)},mathmlBuilder:function(t,e){var i=s.a(t.value.value,e),n=new r.a.MathNode("mphantom",i);return n.setAttribute("height","0px"),n}}),Object(n.b)({type:"vphantom",names:["\\vphantom"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"vphantom",value:Object(n.c)(i),body:i}},htmlBuilder:function(t,e){var i=o.a.makeSpan(["inner"],[a.b(t.value.body,e.withPhantom())]),n=o.a.makeSpan(["fix"],[]);return o.a.makeSpan(["mord","rlap"],[i,n],e)},mathmlBuilder:function(t,e){var i=s.a(t.value.value,e),n=new r.a.MathNode("mphantom",i);return n.setAttribute("width","0px"),n}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(9),s=i(4),l=i(2),c=function(t,e){var i=[];if("bmod"===t.value.modType?e.style.isTight()?i.push(o.a.makeSpan(["mspace","thickspace"],[],e)):i.push(o.a.makeSpan(["mspace","muspace"],[],e)):e.style.size===a.a.DISPLAY.size?i.push(o.a.makeSpan(["mspace","quad"],[],e)):"mod"===t.value.modType?i.push(o.a.makeSpan(["mspace","twelvemuspace"],[],e)):i.push(o.a.makeSpan(["mspace","eightmuspace"],[],e)),"pod"!==t.value.modType&&"pmod"!==t.value.modType||i.push(o.a.mathsym("(",t.mode)),"pod"!==t.value.modType){var n=[o.a.mathsym("m",t.mode),o.a.mathsym("o",t.mode),o.a.mathsym("d",t.mode)];"bmod"===t.value.modType?(i.push(o.a.makeSpan(["mbin"],n,e)),e.style.isTight()?i.push(o.a.makeSpan(["mspace","thickspace"],[],e)):i.push(o.a.makeSpan(["mspace","muspace"],[],e))):(Array.prototype.push.apply(i,n),i.push(o.a.makeSpan(["mspace","sixmuspace"],[],e)))}return t.value.value&&Array.prototype.push.apply(i,s.a(t.value.value,e,!1)),"pod"!==t.value.modType&&"pmod"!==t.value.modType||i.push(o.a.mathsym(")",t.mode)),o.a.makeFragment(i)},u=function(t,e){var i=[];if("pod"!==t.value.modType&&"pmod"!==t.value.modType||i.push(new r.a.MathNode("mo",[l.e("(",t.mode)])),"pod"!==t.value.modType&&i.push(new r.a.MathNode("mo",[l.e("mod",t.mode)])),t.value.value){var n=new r.a.MathNode("mspace");n.setAttribute("width","0.333333em"),i.push(n),i=i.concat(l.a(t.value.value,e))}return"pod"!==t.value.modType&&"pmod"!==t.value.modType||i.push(new r.a.MathNode("mo",[l.e(")",t.mode)])),new r.a.MathNode("mo",i)};Object(n.b)({type:"mod",names:["\\bmod"],props:{numArgs:0},handler:function(t,e){return{type:"mod",modType:"bmod",value:null}},htmlBuilder:c,mathmlBuilder:u}),Object(n.b)({type:"mod",names:["\\pod","\\pmod","\\mod"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"mod",modType:t.funcName.substr(1),value:Object(n.c)(i)}},htmlBuilder:c,mathmlBuilder:u})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(12),a=i(1),s=i(5),l=i(9),c=i(4),u=i(2),h=function(t,e){var i=void 0,n=void 0,a=!1;"supsub"===t.type&&(i=t.value.sup,n=t.value.sub,t=t.value.base,a=!0);var u=e.style,h=!1;u.size===l.a.DISPLAY.size&&t.value.symbol&&!s.a.contains(["\\smallint"],t.value.body)&&(h=!0);var d=void 0;if(t.value.symbol){var f=h?"Size2-Regular":"Size1-Regular";d=o.a.makeSymbol(t.value.body,f,"math",e,["mop","op-symbol",h?"large-op":"small-op"])}else if(t.value.value){var p=c.a(t.value.value,e,!0);1===p.length&&p[0]instanceof r.a.symbolNode?(d=p[0]).classes[0]="mop":d=o.a.makeSpan(["mop"],p,e)}else{for(var m=[],g=1;g<t.value.body.length;g++)m.push(o.a.mathsym(t.value.body[g],t.mode));d=o.a.makeSpan(["mop"],m,e)}var v=0,b=0;if(d instanceof r.a.symbolNode&&(v=(d.height-d.depth)/2-e.fontMetrics().axisHeight,b=d.italic),a){d=o.a.makeSpan([],[d]);var k=void 0,y=void 0;if(i){var w=c.b(i,e.havingStyle(u.sup()),e);y={elem:w,kern:Math.max(e.fontMetrics().bigOpSpacing1,e.fontMetrics().bigOpSpacing3-w.depth)}}if(n){var _=c.b(n,e.havingStyle(u.sub()),e);k={elem:_,kern:Math.max(e.fontMetrics().bigOpSpacing2,e.fontMetrics().bigOpSpacing4-_.height)}}var x=void 0;if(y&&k){var S=e.fontMetrics().bigOpSpacing5+k.elem.height+k.elem.depth+k.kern+d.depth+v;x=o.a.makeVList({positionType:"bottom",positionData:S,children:[{type:"kern",size:e.fontMetrics().bigOpSpacing5},{type:"elem",elem:k.elem,marginLeft:-b+"em"},{type:"kern",size:k.kern},{type:"elem",elem:d},{type:"kern",size:y.kern},{type:"elem",elem:y.elem,marginLeft:b+"em"},{type:"kern",size:e.fontMetrics().bigOpSpacing5}]},e)}else if(k){var C=d.height-v;x=o.a.makeVList({positionType:"top",positionData:C,children:[{type:"kern",size:e.fontMetrics().bigOpSpacing5},{type:"elem",elem:k.elem,marginLeft:-b+"em"},{type:"kern",size:k.kern},{type:"elem",elem:d}]},e)}else{if(!y)return d;var A=d.depth+v;x=o.a.makeVList({positionType:"bottom",positionData:A,children:[{type:"elem",elem:d},{type:"kern",size:y.kern},{type:"elem",elem:y.elem,marginLeft:b+"em"},{type:"kern",size:e.fontMetrics().bigOpSpacing5}]},e)}return o.a.makeSpan(["mop","op-limits"],[x],e)}return v&&(d.style.position="relative",d.style.top=v+"em"),d},d=function(t,e){var i=void 0;if(t.value.symbol)i=new a.a.MathNode("mo",[u.e(t.value.body,t.mode)]);else{if(!t.value.value){i=new a.a.MathNode("mi",[new a.a.TextNode(t.value.body.slice(1))]);var n=new a.a.MathNode("mo",[u.e("⁡","text")]);return new r.a.documentFragment([i,n])}i=new a.a.MathNode("mo",u.a(t.value.value,e))}return i},f={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcap","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Object(n.b)({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(t,e){var i=t.funcName;return 1===i.length&&(i=f[i]),{type:"op",limits:!0,symbol:!0,body:i}},htmlBuilder:h,mathmlBuilder:d}),Object(n.b)({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"op",limits:!1,symbol:!1,value:Object(n.c)(i)}},htmlBuilder:h,mathmlBuilder:d})},function(t,e,i){"use strict";var n=i(18),o=i.n(n),r=i(3),a=i(0),s=i(1),l=i(12),c=i(4),u=i(2);Object(r.b)({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"operatorname",value:Object(r.c)(i)}},htmlBuilder:function(t,e){var i=[];if(t.value.value.length>0){var n="",r="",s=!0,u=!1,h=void 0;try{for(var d,f=o()(t.value.value);!(s=(d=f.next()).done);s=!0){var p=d.value;-1!=="*-/:".indexOf(p.value)&&(p.type="textord")}}catch(t){u=!0,h=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw h}}var m=c.a(t.value.value,e.withFontFamily("mathrm"),!0),g=!0,v=!1,b=void 0;try{for(var k,y=o()(m);!(g=(k=y.next()).done);g=!0){var w=k.value;w instanceof l.a.symbolNode?(n=(n=(n=w.value).replace(/\u2212/,"-")).replace(/\u2217/,"*"),r=/[\u0391-\u03D7]/.test(n)?"math":"text",i.push(a.a.mathsym(n,r))):i.push(w)}}catch(t){v=!0,b=t}finally{try{!g&&y.return&&y.return()}finally{if(v)throw b}}}return a.a.makeSpan(["mop"],i,e)},mathmlBuilder:function(t,e){var i=[];if(t.value.value.length>0){var n=u.a(t.value.value,e.withFontFamily("mathrm")).map(function(t){return t.toText()}).join("");n=(n=n.replace(/\u2212/g,"-")).replace(/\u2217/g,"*"),i=[new s.a.TextNode(n)]}var o=new s.a.MathNode("mi",i);o.setAttribute("mathvariant","normal");var r=new s.a.MathNode("mo",[u.e("⁡","text")]);return new l.a.documentFragment([o,r])}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(44),a=i(1),s=i(9),l=i(4),c=i(2);Object(n.b)({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],props:{numArgs:2,greediness:2},handler:function(t,e){var i=e[0],n=e[1],o=void 0,r=null,a=null,s="auto";switch(t.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,r="(",a=")";break;default:throw new Error("Unrecognized genfrac command")}switch(t.funcName){case"\\dfrac":case"\\dbinom":s="display";break;case"\\tfrac":case"\\tbinom":s="text"}return{type:"genfrac",numer:i,denom:n,hasBarLine:o,leftDelim:r,rightDelim:a,size:s}},htmlBuilder:function(t,e){var i=e.style;"display"===t.value.size?i=s.a.DISPLAY:"text"===t.value.size&&(i=s.a.TEXT);var n=i.fracNum(),a=i.fracDen(),c=void 0;c=e.havingStyle(n);var u=l.b(t.value.numer,c,e);c=e.havingStyle(a);var h=l.b(t.value.denom,c,e),d=void 0,f=void 0,p=void 0;t.value.hasBarLine?(f=(d=o.a.makeLineSpan("frac-line",e)).height,p=d.height):(d=null,f=0,p=e.fontMetrics().defaultRuleThickness);var m=void 0,g=void 0,v=void 0;i.size===s.a.DISPLAY.size?(m=e.fontMetrics().num1,g=f>0?3*p:7*p,v=e.fontMetrics().denom1):(f>0?(m=e.fontMetrics().num2,g=p):(m=e.fontMetrics().num3,g=3*p),v=e.fontMetrics().denom2);var b=void 0;if(d){var k=e.fontMetrics().axisHeight;m-u.depth-(k+.5*f)<g&&(m+=g-(m-u.depth-(k+.5*f))),k-.5*f-(h.height-v)<g&&(v+=g-(k-.5*f-(h.height-v)));var y=-(k-.5*f);b=o.a.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:v},{type:"elem",elem:d,shift:y+2*f},{type:"elem",elem:u,shift:-m}]},e)}else{var w=m-u.depth-(h.height-v);w<g&&(m+=.5*(g-w),v+=.5*(g-w)),b=o.a.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:v},{type:"elem",elem:u,shift:-m}]},e)}c=e.havingStyle(i),b.height*=c.sizeMultiplier/e.sizeMultiplier,b.depth*=c.sizeMultiplier/e.sizeMultiplier;var _=void 0;_=i.size===s.a.DISPLAY.size?e.fontMetrics().delim1:e.fontMetrics().delim2;var x=void 0,S=void 0;return x=null==t.value.leftDelim?l.e(e,["mopen"]):r.a.customSizedDelim(t.value.leftDelim,_,!0,e.havingStyle(i),t.mode,["mopen"]),S=null==t.value.rightDelim?l.e(e,["mclose"]):r.a.customSizedDelim(t.value.rightDelim,_,!0,e.havingStyle(i),t.mode,["mclose"]),o.a.makeSpan(["mord"].concat(c.sizingClasses(e)),[x,o.a.makeSpan(["mfrac"],[b]),S],e)},mathmlBuilder:function(t,e){var i=new a.a.MathNode("mfrac",[c.b(t.value.numer,e),c.b(t.value.denom,e)]);if(t.value.hasBarLine||i.setAttribute("linethickness","0px"),null!=t.value.leftDelim||null!=t.value.rightDelim){var n=[];if(null!=t.value.leftDelim){var o=new a.a.MathNode("mo",[new a.a.TextNode(t.value.leftDelim)]);o.setAttribute("fence","true"),n.push(o)}if(n.push(i),null!=t.value.rightDelim){var r=new a.a.MathNode("mo",[new a.a.TextNode(t.value.rightDelim)]);r.setAttribute("fence","true"),n.push(r)}return new a.a.MathNode("mrow",n)}return i}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2);Object(n.b)({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){var i=e[0];return{type:"lap",alignment:t.funcName.slice(5),body:i}},htmlBuilder:function(t,e){var i=void 0;"clap"===t.value.alignment?(i=o.a.makeSpan([],[a.b(t.value.body,e)]),i=o.a.makeSpan(["inner"],[i],e)):i=o.a.makeSpan(["inner"],[a.b(t.value.body,e)]);var n=o.a.makeSpan(["fix"],[]);return o.a.makeSpan(["mord",t.value.alignment],[i,n],e)},mathmlBuilder:function(t,e){var i=new r.a.MathNode("mpadded",[s.b(t.value.body,e)]);if("rlap"!==t.value.alignment){var n="llap"===t.value.alignment?"-1":"-0.5";i.setAttribute("lspace",n+"width")}return i.setAttribute("width","0px"),i}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2);Object(n.b)({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(t,e,i){var n=!1,o=!1,r=i[0];if(r)for(var a="",s=0;s<r.value.length;++s)if("t"===(a=r.value[s].value))n=!0;else{if("b"!==a){n=!1,o=!1;break}o=!0}else n=!0,o=!0;return{type:"smash",body:e[0],smashHeight:n,smashDepth:o}},htmlBuilder:function(t,e){var i=o.a.makeSpan(["mord"],[a.b(t.value.body,e)]);if(!t.value.smashHeight&&!t.value.smashDepth)return i;if(t.value.smashHeight&&(i.height=0,i.children))for(var n=0;n<i.children.length;n++)i.children[n].height=0;if(t.value.smashDepth&&(i.depth=0,i.children))for(var r=0;r<i.children.length;r++)i.children[r].depth=0;return o.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e)},mathmlBuilder:function(t,e){var i=new r.a.MathNode("mpadded",[s.b(t.value.body,e)]);return t.value.smashHeight&&i.setAttribute("height","0px"),t.value.smashDepth&&i.setAttribute("depth","0px"),i}})},function(t,e,i){"use strict";var n=i(0),o=i(3),r=i(44),a=i(1),s=i(6),l=i(5),c=i(4),u=i(2),h={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},d=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function f(t,e){if(l.a.contains(d,t.value))return t;throw new s.a("Invalid delimiter: '"+t.value+"' after '"+e.funcName+"'",t)}Object(o.b)({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(t,e){var i=f(e[0],t);return{type:"delimsizing",size:h[t.funcName].size,mclass:h[t.funcName].mclass,value:i.value}},htmlBuilder:function(t,e){var i=t.value.value;return"."===i?n.a.makeSpan([t.value.mclass]):r.a.sizedDelim(i,t.value.size,e,t.mode,[t.value.mclass])},mathmlBuilder:function(t){var e=[];"."!==t.value.value&&e.push(u.e(t.value.value,t.mode));var i=new a.a.MathNode("mo",e);return"mopen"===t.value.mclass||"mclose"===t.value.mclass?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i}}),Object(o.b)({type:"leftright",names:["\\left","\\right"],props:{numArgs:1},handler:function(t,e){var i=f(e[0],t);if("\\left"===t.funcName){var n=t.parser;++n.leftrightDepth;var o=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var r=n.parseFunction();if(!r)throw new s.a("failed to parse function after \\right");return{type:"leftright",body:o,left:i.value,right:r.value.value}}return{type:"leftright",value:i.value}},htmlBuilder:function(t,e){for(var i=c.a(t.value.body,e,!0,[null,"mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));o*=e.sizeMultiplier,a*=e.sizeMultiplier;var u=void 0;if(u="."===t.value.left?c.e(e,["mopen"]):r.a.leftRightDelim(t.value.left,o,a,e,t.mode,["mopen"]),i.unshift(u),s)for(var h=1;h<i.length;h++){var d=i[h];d.isMiddle&&(i[h]=r.a.leftRightDelim(d.isMiddle.value,o,a,d.isMiddle.options,t.mode,[]))}var f=void 0;return f="."===t.value.right?c.e(e,["mclose"]):r.a.leftRightDelim(t.value.right,o,a,e,t.mode,["mclose"]),i.push(f),n.a.makeSpan(["minner"],i,e)},mathmlBuilder:function(t,e){var i=u.a(t.value.body,e);if("."!==t.value.left){var n=new a.a.MathNode("mo",[u.e(t.value.left,t.mode)]);n.setAttribute("fence","true"),i.unshift(n)}if("."!==t.value.right){var o=new a.a.MathNode("mo",[u.e(t.value.right,t.mode)]);o.setAttribute("fence","true"),i.push(o)}return new a.a.MathNode("mrow",i)}}),Object(o.b)({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(t,e){var i=f(e[0],t);if(!t.parser.leftrightDepth)throw new s.a("\\middle without preceding \\left",i);return{type:"middle",value:i.value}},htmlBuilder:function(t,e){var i=void 0;return"."===t.value.value?i=c.e(e,[]):(i=r.a.sizedDelim(t.value.value,1,e,t.mode,[])).isMiddle={value:t.value.value,options:e},i},mathmlBuilder:function(t,e){var i=new a.a.MathNode("mo",[u.e(t.value.middle,t.mode)]);return i.setAttribute("fence","true"),i}})},function(t,e,i){"use strict";var n=i(3),o=i(1),r=i(9),a=i(60),s=i(2),l={display:r.a.DISPLAY,text:r.a.TEXT,script:r.a.SCRIPT,scriptscript:r.a.SCRIPTSCRIPT};Object(n.b)({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(t,e){var i=t.breakOnTokenText,n=t.funcName,o=t.parser;o.consumeSpaces();var r=o.parseExpression(!0,i);return{type:"styling",style:n.slice(1,n.length-5),value:r}},htmlBuilder:function(t,e){var i=l[t.value.style],n=e.havingStyle(i);return Object(a.a)(t.value.value,n,e)},mathmlBuilder:function(t,e){var i={display:r.a.DISPLAY,text:r.a.TEXT,script:r.a.SCRIPT,scriptscript:r.a.SCRIPTSCRIPT}[t.value.style],n=e.havingStyle(i),a=s.a(t.value.value,n),l=new o.a.MathNode("mstyle",a),c={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.value.style];return l.setAttribute("scriptlevel",c[0]),l.setAttribute("displaystyle",c[1]),l}})},function(t,e,i){"use strict";var n=i(134),o=i.n(n),r=i(3),a=i(14),s=i(4),l=i(2),c=function(t,e){var i=t.value.font;return s.b(t.value.body,e.withFontFamily(i))},u=function(t,e){var i=t.value.font;return l.b(t.value.body,e.withFontFamily(i))},h={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Object(r.b)({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\boldsymbol","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak","\\bm"],props:{numArgs:1,greediness:2},handler:function(t,e){var i=e[0],n=t.funcName;return n in h&&(n=h[n]),{type:"font",font:n.slice(1),body:i}},htmlBuilder:c,mathmlBuilder:u});var d={"\\rm":"mathrm","\\sf":"mathsf","\\tt":"mathtt","\\bf":"mathbf","\\it":"mathit"};Object(r.b)({type:"font",names:o()(d),props:{numArgs:0,allowedInText:!0},handler:function(t,e){var i=t.parser,n=t.funcName,o=t.breakOnTokenText;i.consumeSpaces();var r=i.parseExpression(!0,o);return{type:"font",font:d[n],body:new a.a("ordgroup",r,i.mode)}},htmlBuilder:c,mathmlBuilder:u})},function(t,e,i){t.exports={default:i(135),__esModule:!0}},function(t,e,i){i(136),t.exports=i(8).Object.keys},function(t,e,i){var n=i(29),o=i(39);i(46)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(5),s=i(13),l=i(4),c=i(2),u=function(t,e){var i=t.value.base,n=void 0;if("supsub"===t.type){var r=t;i=(t=r.value.base).value.base,r.value.base=i,n=l.b(r,e)}var c=l.b(i,e.havingCrampedStyle()),u=0;if(t.value.isShifty&&a.a.isCharacterBox(i)){var h=a.a.getBaseElem(i);u=l.b(h,e.havingCrampedStyle()).skew}var d=Math.min(c.height,e.fontMetrics().xHeight),f=void 0;if(t.value.isStretchy)f=s.a.svgSpan(t,e),f=o.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:u>0?{width:"calc(100% - "+2*u+"em)",marginLeft:2*u+"em"}:void 0}]},e);else{var p=void 0,m=void 0;"\\vec"===t.value.label?(p=o.a.staticSvg("vec",e),m=o.a.svgData.vec[1]):((p=o.a.makeSymbol(t.value.label,"Main-Regular",t.mode,e)).italic=0,m=p.width);var g=-m/2;g+=u,(f=o.a.makeSpan(["accent-body"],[p])).style.left=g+"em",f=o.a.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:-d},{type:"elem",elem:f}]},e)}var v=o.a.makeSpan(["mord","accent"],[f],e);return n?(n.children[0]=v,n.height=Math.max(v.height,n.height),n.classes[0]="mord",n):v},h=function(t,e){var i=void 0;i=t.value.isStretchy?s.a.mathMLnode(t.value.label):new r.a.MathNode("mo",[c.e(t.value.label,t.mode)]);var n=new r.a.MathNode("mover",[c.b(t.value.base,e),i]);return n.setAttribute("accent","true"),n},d=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(t){return"\\"+t}).join("|"));Object(n.b)({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(t,e){var i=e[0],n=!d.test(t.funcName),o=!n||"\\widehat"===t.funcName||"\\widetilde"===t.funcName;return{type:"accent",label:t.funcName,isStretchy:n,isShifty:o,base:i}},htmlBuilder:u,mathmlBuilder:h}),Object(n.b)({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(t,e){var i=e[0];return{type:"accent",label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:u,mathmlBuilder:h})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(13),s=i(4),l=i(2);Object(n.b)({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(t,e){var i=e[0];return{type:"accentUnder",label:t.funcName,base:i}},htmlBuilder:function(t,e){var i=s.b(t.value.base,e),n=a.a.svgSpan(t,e),r="\\utilde"===t.value.label?.12:0,l=o.a.makeVList({positionType:"bottom",positionData:n.height+r,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:i}]},e);return o.a.makeSpan(["mord","accentunder"],[l],e)},mathmlBuilder:function(t,e){var i=a.a.mathMLnode(t.value.label),n=new r.a.MathNode("munder",[l.b(t.value.body,e),i]);return n.setAttribute("accentunder","true"),n}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(6);Object(n.b)({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(t,e,i){throw new a.a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(t,e){for(var i=o.a.makeVerb(t,e),n=[],r=e.havingStyle(e.style.text()),a=0;a<i.length;a++)if(" "===i[a]){var s=o.a.makeSpan(["mord","rule"],[],r);s.style.marginLeft="0.525em",n.push(s)}else n.push(o.a.makeSymbol(i[a],"Typewriter-Regular",t.mode,r,["mathtt"]));return o.a.tryCombineChars(n),o.a.makeSpan(["mord","text"].concat(r.sizingClasses(e)),n,r)},mathmlBuilder:function(t,e){var i=new r.a.TextNode(o.a.makeVerb(t,e)),n=new r.a.MathNode("mtext",[i]);return n.setAttribute("mathvariant",o.a.fontMap.mathtt.variant),n}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(4),s=i(2);Object(n.b)({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"]},handler:function(t,e){var i=e[1];return{type:"href",href:e[0].value,body:Object(n.c)(i)}},htmlBuilder:function(t,e){var i=a.a(t.value.body,e,!1),n=t.value.href;return new o.a.makeAnchor(n,[],i,e)},mathmlBuilder:function(t,e){var i=s.a(t.value.body,e),n=new r.a.MathNode("mrow",i);return n.setAttribute("href",t.value.href),n}})},function(t,e,i){"use strict";var n=i(3),o=i(0),r=i(1),a=i(9),s=i(4),l=i(2),c=function(t,e){var i=e.style;return i.size===a.a.DISPLAY.size?t.value.display:i.size===a.a.TEXT.size?t.value.text:i.size===a.a.SCRIPT.size?t.value.script:i.size===a.a.SCRIPTSCRIPT.size?t.value.scriptscript:t.value.text};Object(n.b)({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(t,e){return{type:"mathchoice",display:Object(n.c)(e[0]),text:Object(n.c)(e[1]),script:Object(n.c)(e[2]),scriptscript:Object(n.c)(e[3])}},htmlBuilder:function(t,e){var i=c(t,e),n=s.a(i,e,!1);return new o.a.makeFragment(n)},mathmlBuilder:function(t,e){var i=c(t,e),n=l.a(i,e,!1);return new r.a.MathNode("mrow",n)}})},function(t,e,i){"use strict";var n=i(61),o=(i(143),n.a);e.a=o},function(t,e,i){"use strict";var n=i(0),o=i(61),r=i(1),a=i(6),s=i(14),l=i(19),c=i(5),u=i(13),h=i(4),d=i(2);function f(t,e,i){for(var n=[],o=[n],r=[];;){var l=t.parseExpression(!1,void 0);l=new s.a("ordgroup",l,t.mode),i&&(l=new s.a("styling",{style:i,value:[l]},t.mode)),n.push(l);var c=t.nextToken.text;if("&"===c)t.consume();else{if("\\end"===c){var u=o[o.length-1];o.length>1&&1===u.length&&0===u[0].value.value[0].value.length&&o.pop();break}if("\\\\"!==c&&"\\cr"!==c)throw new a.a("Expected & or \\\\ or \\end",t.nextToken);var h=t.parseFunction();if(!h)throw new a.a("Failed to parse function after "+c);r.push(h.value.size),n=[],o.push(n)}}return e.body=o,e.rowGaps=r,new s.a(e.type,e,t.mode)}function p(t){return"d"===t.substr(0,1)?"display":"text"}var m=function(t,e){var i=void 0,o=void 0,r=t.value.body.length,s=0,d=new Array(r),f=1/e.fontMetrics().ptPerEm,p=5*f,m=12*f,g=3*f,v=c.a.deflt(t.value.arraystretch,1)*m,b=.7*v,k=.3*v,y=0;for(i=0;i<t.value.body.length;++i){var w=t.value.body[i],_=b,x=k;s<w.length&&(s=w.length);var S=new Array(w.length);for(o=0;o<w.length;++o){var C=h.b(w[o],e);x<C.depth&&(x=C.depth),_<C.height&&(_=C.height),S[o]=C}var A=0;t.value.rowGaps[i]&&(A=Object(l.a)(t.value.rowGaps[i].value,e))>0&&(x<(A+=k)&&(x=A),A=0),t.value.addJot&&(x+=g),S.height=_,S.depth=x,y+=_,S.pos=y,y+=x+A,d[i]=S}var T=y/2+e.fontMetrics().axisHeight,j=t.value.cols||[],M=[],z=void 0,E=void 0;for(o=0,E=0;o<s||E<j.length;++o,++E){for(var I=j[E]||{},D=!0;"separator"===I.type;){if(D||((z=n.a.makeSpan(["arraycolsep"],[])).style.width=e.fontMetrics().doubleRuleSep+"em",M.push(z)),"|"!==I.separator)throw new a.a("Invalid separator type: "+I.separator);var O=u.a.ruleSpan("vertical-separator",.05,e);O.style.height=y+"em",O.style.verticalAlign=-(y-T)+"em",M.push(O),I=j[++E]||{},D=!1}if(!(o>=s)){var P=void 0;(o>0||t.value.hskipBeforeAndAfter)&&0!==(P=c.a.deflt(I.pregap,p))&&((z=n.a.makeSpan(["arraycolsep"],[])).style.width=P+"em",M.push(z));var R=[];for(i=0;i<r;++i){var L=d[i],F=L[o];if(F){var N=L.pos-T;F.depth=L.depth,F.height=L.height,R.push({type:"elem",elem:F,shift:N})}}R=n.a.makeVList({positionType:"individualShift",children:R},e),R=n.a.makeSpan(["col-align-"+(I.align||"c")],[R]),M.push(R),(o<s-1||t.value.hskipBeforeAndAfter)&&0!==(P=c.a.deflt(I.postgap,p))&&((z=n.a.makeSpan(["arraycolsep"],[])).style.width=P+"em",M.push(z))}}return d=n.a.makeSpan(["mtable"],M),n.a.makeSpan(["mord"],[d],e)},g=function(t,e){return new r.a.MathNode("mtable",t.value.body.map(function(t){return new r.a.MathNode("mtr",t.map(function(t){return new r.a.MathNode("mtd",[d.b(t,e)])}))}))},v=function(t,e){var i={type:"array",cols:[],addJot:!0};i=f(t.parser,i,"display");var n=void 0,o=0,r=new s.a("ordgroup",[],t.mode);if(e[0]&&e[0].value){for(var l="",c=0;c<e[0].value.length;c++)l+=e[0].value[c].value;n=Number(l),o=2*n}var u=!o;i.value.body.forEach(function(t){for(var e=1;e<t.length;e+=2){t[e].value.value[0].value.unshift(r)}if(u)o<t.length&&(o=t.length);else{var i=t.length/2;if(n<i)throw new a.a("Too many math in a row: expected "+n+", but got "+i,t)}});for(var h=0;h<o;++h){var d="r",p=0;h%2==1?d="l":h>0&&u&&(p=1),i.value.cols[h]={type:"align",align:d,pregap:p,postgap:0}}return i};Object(o.b)({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(t,e){var i=e[0],n={type:"array",cols:(i=i.value.map?i.value:[i]).map(function(t){var e=t.value;if(-1!=="lcr".indexOf(e))return{type:"align",align:e};if("|"===e)return{type:"separator",separator:"|"};throw new a.a("Unknown column alignment: "+t.value,t)}),hskipBeforeAndAfter:!0};return n=f(t.parser,n,p(t.envName))},htmlBuilder:m,mathmlBuilder:g}),Object(o.b)({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName],i={type:"array",hskipBeforeAndAfter:!1};return i=f(t.parser,i,p(t.envName)),e&&(i=new s.a("leftright",{body:[i],left:e[0],right:e[1]},t.mode)),i},htmlBuilder:m,mathmlBuilder:g}),Object(o.b)({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(t){var e={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]};return e=f(t.parser,e,p(t.envName)),e=new s.a("leftright",{body:[e],left:"\\{",right:"."},t.mode)},htmlBuilder:m,mathmlBuilder:g}),Object(o.b)({type:"array",names:["aligned"],props:{numArgs:0},handler:v,htmlBuilder:m,mathmlBuilder:g}),Object(o.b)({type:"array",names:["gathered"],props:{numArgs:0},handler:function(t){var e={type:"array",cols:[{type:"align",align:"c"}],addJot:!0};return e=f(t.parser,e,"display")},htmlBuilder:m,mathmlBuilder:g}),Object(o.b)({type:"array",names:["alignedat"],props:{numArgs:1},handler:v,htmlBuilder:m,mathmlBuilder:g})},function(t,e,i){"use strict";var n=i(35),o=i.n(n),r=i(7),a=i.n(r),s=i(10),l=i.n(s),c=i(62),u=i(27),h=i(146),d=i(6),f=i(147),p=i.n(f),m=function(){function t(e,i,n){a()(this,t),this.lexer=new c.c(e),this.macros=p()({},h.a,i),this.mode=n,this.stack=[]}return l()(t,[{key:"switchMode",value:function(t){this.mode=t}},{key:"future",value:function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}},{key:"popToken",value:function(){return this.future(),this.stack.pop()}},{key:"pushToken",value:function(t){this.stack.push(t)}},{key:"pushTokens",value:function(t){var e;(e=this.stack).push.apply(e,o()(t))}},{key:"consumeSpaces",value:function(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}},{key:"consumeArgs",value:function(t){for(var e=[],i=0;i<t;++i){this.consumeSpaces();var n=this.popToken();if("{"===n.text){for(var o=[],r=1;0!==r;){var a=this.popToken();if(o.push(a),"{"===a.text)++r;else if("}"===a.text)--r;else if("EOF"===a.text)throw new d.a("End of input in macro argument",n)}o.pop(),o.reverse(),e[i]=o}else{if("EOF"===n.text)throw new d.a("End of input expecting macro argument");e[i]=[n]}}return e}},{key:"expandOnce",value:function(){var t=this.popToken(),e=t.text;if("\\"===e.charAt(0)&&c.b.test(e)&&this.consumeSpaces(),!this.macros.hasOwnProperty(e))return this.pushToken(t),t;var i=this._getExpansion(e),n=i.tokens,r=i.numArgs,a=n;if(r)for(var s=this.consumeArgs(r),l=(a=a.slice()).length-1;l>=0;--l){var u=a[l];if("#"===u.text){if(0===l)throw new d.a("Incomplete placeholder at end of macro body",u);if("#"===(u=a[--l]).text)a.splice(l+1,1);else{if(!/^[1-9]$/.test(u.text))throw new d.a("Not a valid argument number",u);var h;(h=a).splice.apply(h,[l,2].concat(o()(s[+u.text-1])))}}}return this.pushTokens(a),a}},{key:"expandAfterFuture",value:function(){return this.expandOnce(),this.future()}},{key:"expandNextToken",value:function(){for(;;){var t=this.expandOnce();if(t instanceof u.a){if("\\relax"!==t.text)return this.stack.pop();this.stack.pop()}}throw new Error}},{key:"_getExpansion",value:function(t){var e=this.macros[t],i="function"==typeof e?e(this):e;if("string"==typeof i){var n=0;if(-1!==i.indexOf("#"))for(var o=i.replace(/##/g,"");-1!==o.indexOf("#"+(n+1));)++n;for(var r=new c.c(i),a=[],s=r.lex();"EOF"!==s.text;)a.push(s),s=r.lex();a.reverse();var l={tokens:a,numArgs:n};return"function"!=typeof e&&(this.macros[t]=l),l}return i}}]),t}();e.a=m},function(t,e){t.exports=function(t,e,i){if(t.global||t.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var n=function(t){if(!t.__matchAtRelocatable){var e=t.source+"|()",i="g"+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"");t.__matchAtRelocatable=new RegExp(e,i)}return t.__matchAtRelocatable}(t);n.lastIndex=i;var o=n.exec(e);return null==o[o.length-1]?(o.length=o.length-1,o):null}},function(t,e,i){"use strict";var n=i(59),o=i(28),r=i(5),a=(i(27),{});function s(t,e){a[t]=e}e.a=a,s("\\@firstoftwo",function(t){return{tokens:t.consumeArgs(2)[0],numArgs:0}}),s("\\@secondoftwo",function(t){return{tokens:t.consumeArgs(2)[1],numArgs:0}}),s("\\@ifnextchar",function(t){var e=t.consumeArgs(3),i=t.future();return 1===e[0].length&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}}),s("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),s("\\TextOrMath",function(t){var e=t.consumeArgs(2);return"text"===t.mode?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}}),s("\\bgroup","{"),s("\\egroup","}"),s("\\begingroup","{"),s("\\endgroup","}"),s("\\lq","`"),s("\\rq","'"),s("\\lbrack","["),s("\\rbrack","]"),s("\\aa","\\r a"),s("\\AA","\\r A"),s("ℂ","\\mathbb{C}"),s("ℍ","\\mathbb{H}"),s("ℕ","\\mathbb{N}"),s("ℙ","\\mathbb{P}"),s("ℚ","\\mathbb{Q}"),s("ℝ","\\mathbb{R}"),s("ℤ","\\mathbb{Z}"),s("·","\\cdotp"),s("\\llap","\\mathllap{\\textrm{#1}}"),s("\\rlap","\\mathrlap{\\textrm{#1}}"),s("\\clap","\\mathclap{\\textrm{#1}}"),s("\\varGamma","\\mathit{\\Gamma}"),s("\\varDelta","\\mathit{\\Delta}"),s("\\varTheta","\\mathit{\\Theta}"),s("\\varLambda","\\mathit{\\Lambda}"),s("\\varXi","\\mathit{\\Xi}"),s("\\varPi","\\mathit{\\Pi}"),s("\\varSigma","\\mathit{\\Sigma}"),s("\\varUpsilon","\\mathit{\\Upsilon}"),s("\\varPhi","\\mathit{\\Phi}"),s("\\varPsi","\\mathit{\\Psi}"),s("\\varOmega","\\mathit{\\Omega}"),s("\\overset","\\mathop{#2}\\limits^{#1}"),s("\\underset","\\mathop{#2}\\limits_{#1}"),s("\\boxed","\\fbox{\\displaystyle{#1}}"),s("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),s("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),s("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var l={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\implies":"\\dotsb","\\impliedby":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\iff":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\bmod":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};s("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in l?e=l[i]:"\\not"===i.substr(0,4)?e="\\dotsb":i in o.a.math&&r.a.contains(["bin","rel"],o.a.math[i].group)&&(e="\\dotsb"),e});var c={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};s("\\dotso",function(t){return t.future().text in c?"\\ldots\\,":"\\ldots"}),s("\\dotsc",function(t){var e=t.future().text;return e in c&&","!==e?"\\ldots\\,":"\\ldots"}),s("\\cdots",function(t){return t.future().text in c?"\\@cdots\\,":"\\@cdots"}),s("\\dotsb","\\cdots"),s("\\dotsm","\\cdots"),s("\\dotsi","\\!\\cdots"),s("\\dotsx","\\ldots\\,"),s("\\DOTSI","\\relax"),s("\\DOTSB","\\relax"),s("\\DOTSX","\\relax"),s("\\thinspace","\\,"),s("\\medspace","\\:"),s("\\thickspace","\\;"),s("\\TeX","\\textrm{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}");var u=n.a["Main-Regular"]["T".charCodeAt(0)][1]-.7*n.a["Main-Regular"]["A".charCodeAt(0)][1]+"em";s("\\LaTeX","\\textrm{L\\kern-.36em\\raisebox{"+u+"}{\\scriptsize A}\\kern-.15em\\TeX}"),s("\\KaTeX","\\textrm{K\\kern-.17em\\raisebox{"+u+"}{\\scriptsize A}\\kern-.15em\\TeX}"),s("\\hspace","\\@ifstar\\kern\\kern"),s("\\ordinarycolon",":"),s("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),s("\\dblcolon","\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon"),s("\\coloneqq","\\vcentcolon\\mathrel{\\mkern-1.2mu}="),s("\\Coloneqq","\\dblcolon\\mathrel{\\mkern-1.2mu}="),s("\\coloneq","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}"),s("\\Coloneq","\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}"),s("\\eqqcolon","=\\mathrel{\\mkern-1.2mu}\\vcentcolon"),s("\\Eqqcolon","=\\mathrel{\\mkern-1.2mu}\\dblcolon"),s("\\eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon"),s("\\Eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon"),s("\\colonapprox","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx"),s("\\Colonapprox","\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx"),s("\\colonsim","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim"),s("\\Colonsim","\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim"),s("≔","\\coloneqq"),s("≕","\\eqqcolon"),s("⩴","\\Coloneqq"),s("\\ratio","\\vcentcolon"),s("\\coloncolon","\\dblcolon"),s("\\colonequals","\\coloneqq"),s("\\coloncolonequals","\\Coloneqq"),s("\\equalscolon","\\eqqcolon"),s("\\equalscoloncolon","\\Eqqcolon"),s("\\colonminus","\\coloneq"),s("\\coloncolonminus","\\Coloneq"),s("\\minuscolon","\\eqcolon"),s("\\minuscoloncolon","\\Eqcolon"),s("\\coloncolonapprox","\\Colonapprox"),s("\\coloncolonsim","\\Colonsim"),s("\\simcolon","\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon"),s("\\simcoloncolon","\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon"),s("\\approxcolon","\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon"),s("\\approxcoloncolon","\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon"),s("\\notni","\\not\\ni"),s("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),s("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits")},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))o.call(i,c)&&(s[c]=i[c]);if(n){a=n(i);for(var u=0;u<a.length;u++)r.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},function(t,e){t.exports={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}}},function(t,e,i){"use strict";e.a={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"}}]).default})},function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return c}),i.d(e,"openOKCancelAlert",function(){return u}),i.d(e,"openYesNoAlert",function(){return h});var n=i(5),o=i.n(n),r=(i(4),i(172),i(3)),a=window.kendo,s=a.template,l=a.ui.BaseDialog;function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o.a.Deferred(),i=l.getElement("kj-dialog-alert").kendoBaseDialog(Object.assign({title:l.fn.options.messages.title[t.type||"info"],content:s('<div class="k-widget k-notification k-notification-#: type #"><div class="k-notification-wrap"><span class="k-icon k-i-#: type #"></span>#: message #</div></div>')({type:t.type||"info",message:t.message||""}),actions:[l.fn.options.messages.actions.ok,l.fn.options.messages.actions.cancel]},t)).data("kendoBaseDialog");return i.bind(r.a.CLICK,function(t){e.resolve({action:t.action})}),i.open(),e.promise()}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(Object.assign(t,{actions:[l.fn.options.messages.actions.ok,l.fn.options.messages.actions.cancel]}))}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(Object.assign(t,{actions:[l.fn.options.messages.actions.yes,l.fn.options.messages.actions.no]}))}window.kidoju=window.kidoju||{},window.kidoju.dialogs=window.kidoju.dialogs||{},window.kidoju.dialogs.openAlert=c,window.kidoju.dialogs.openOKCancelAlert=u,window.kidoju.dialogs.openYesNoAlert=h},function(t,e,i){"use strict";var n=i(5),o=i.n(n),r=(i(11),i(157),i(3)),a=window.kendo,s=a.bind,l=a.observable,c=a.template,u=a.ui,h=u.Dialog,d=u.plugin,f={action:c('<button type="button" class="k-button# if (data.primary) { # k-primary# } #" role="button"></button>'),text:c('<img alt="#: data.text #" class="k-image" src="#: data.imageUrl #">#: data.text #')},p=h.extend({init:function(t,e){h.fn.init.call(this,t,e),this.element.addClass("kj-dialog"),this._initViewModel()},events:h.fn.events.concat([r.a.CLICK]),options:{name:"BaseDialog",buttonLayout:"normal",data:null,minWidth:"320px",modal:!0,messages:{title:{error:"Error",info:"Information",success:"Success",warning:"Warning"},actions:{cancel:{action:"cancel",imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/close.svg",text:"Cancel"},close:{action:"close",imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/close.svg",primary:!0,text:"Close"},create:{action:"create",imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/plus.svg",primary:!0,text:"Create"},no:{action:"no",imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/close.svg",text:"No"},ok:{action:"ok",imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/ok.svg",primary:!0,text:"OK"},yes:{action:"yes",imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/ok.svg",primary:!0,text:"Yes"}}},visible:!1},type:{error:"error",info:"info",success:"success",warning:"warning"},_initViewModel:function(){this.options.data&&(this.viewModel=l(this.options.data),this.one("initOpen",function(t){s(t.sender.element.children(),t.sender.viewModel)}),this.one(r.a.CLOSE,function(t){t.sender.element.css({padding:""}),t.sender.content(""),t.sender.viewModel=void 0}))},_addButtons:function(t){for(var e,i,n=this.options,a=n.actions,s=n.buttonLayout,l=this._actionClick.bind(this),c=this._actionKeyHandler.bind(this),u=0,h=a.length;u<h;u++){e=a[u],i=this._mergeTextWithOptions(e);var d=o()(f.action(e)).html(i).appendTo(t).data(r.a.ACTION,e.action).on(r.a.CLICK,l).on(r.a.KEYDOWN,c);"stretched"===s&&d.css(r.a.WIDTH,"".concat(100/h,"%"))}},_mergeTextWithOptions:function(t){return t.imageUrl?f.text(t):c(t.text||"")(this.options)},_runActionBtn:function(t){if(!this._closing){var e=o()(t).data(r.a.ACTION),i=this.options.click;(o.a.type(e)===r.a.FUNCTION?!1===e({sender:this}):o.a.type(e)===r.a.STRING&&o.a.type(i)===r.a.FUNCTION?!1===i({sender:this,action:e}):this.trigger(r.a.CLICK,{action:e}))||this.close()}},destroy:function(){this.viewModel=void 0,h.fn.destroy.call(this)}});p.getElement=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"kj-dialog-tools",e=o()(".".concat("kj-dialog",".").concat(t));if(e.length>0){var i=e.data("kendoBaseDialog");i instanceof p&&i.destroy()}else e=o()('<div class="'.concat(t,'"></div>')).appendTo(document.body);return e},d(p)},function(t,e,i){var n={"./app.theme.android-dark.less":499,"./app.theme.android-light.less":500,"./app.theme.blackberry.less":501,"./app.theme.fiori.less":502,"./app.theme.flat.less":503,"./app.theme.ios.less":504,"./app.theme.ios7.less":505,"./app.theme.material-dark.less":506,"./app.theme.material-light.less":507,"./app.theme.meego.less":508,"./app.theme.nova.less":509,"./app.theme.office365.less":510,"./app.theme.wp-dark.less":511,"./app.theme.wp-light.less":512};function o(t){var e=r(t);return i(e)}function r(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id=173},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(11),i(20),i(120),i(175),i(515),i(516),i(61),i(84),i(64),i(176),i(1),i(6),i(121)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kidoju,n=(window.assert,new window.Logger("kidoju.widgets.vectordrawing.toolbar")),o=window.kendo,r=o.deepExtend,a=o.isFunction,s=i.image.getDataUriAndSize,l=o.data.DataSource,c=o.ui.ToolBar,u=o.ui.StaticList,h=(o.dataviz,o.dataviz.diagram.Connection),d=o.dataviz.diagram.Shape,f="string",p=/^[\w]{3,50}$/;o.vectordrawing={messages:{}};var m={extend:function(t){if(!t.select||!t.redraw)throw new Error("Mixin target is not a kendo.dataviz.diagram.DrawingElement.");t.features=this.features,t.fillColor=this.fillColor,t.opacity=this.opacity,t.strokeColor=this.strokeColor,t.strokeWidth=this.strokeWidth,t.strokeDashType=this.strokeDashType,t.startCapType=this.startCapType,t.endCapType=this.endCapType,t.fontWeight=this.fontWeight,t.fontStyle=this.fontStyle,t.fontSize=this.fontSize,t.fontFamily=this.fontFamily},features:function(){var t=this instanceof h,e=this instanceof d,i=e&&"image"!==this.type.toLowerCase(),n=t||i,o=t,r=e&&"text"===this.type.toLowerCase();return{fillColor:i,opacity:i,strokeColor:n,strokeWidth:n,strokeDashType:n,startCapType:o,endCapType:o,fontWeight:r,fontStyle:r,fontSize:r,fontFamily:r}},fillColor:function(){return this.options.fill&&this.options.fill.color},opacity:function(){return this.options.fill&&this.options.fill.opacity},strokeColor:function(){return this.options.stroke&&this.options.stroke.color},strokeWidth:function(){return this.options.stroke&&this.options.stroke.width},strokeDashType:function(){return this.options.stroke&&this.options.stroke.dashType},startCapType:function(){return this.options.startCap&&this.options.startCap.type},endCapType:function(){return this.options.endCap&&this.options.endCap.type},fontWeight:function(){return this.options.content&&this.options.content.fontWeight},fontStyle:function(){return this.options.content&&this.options.content.fontStyle},fontSize:function(){return this.options.content&&this.options.content.fontSize},fontFamily:function(){return this.options.content&&this.options.content.fontFamily}};m.extend(h.fn),m.extend(d.fn);var g={separator:{type:"separator"},new:{type:"button",command:"ToolbarNewCommand",overflow:"never",iconClass:"file"},open:{type:"button",command:"ToolbarOpenCommand",overflow:"never",iconClass:"folder-open"},save:{type:"vectorDialog",dialogName:"vectorSave",iconClass:"save",overflow:"never",text:!1},select:{type:"button",command:"DrawingToolChangeCommand",property:"tool",value:void 0,iconClass:"select",group:"tool",togglable:!0},pen:{type:"button",command:"DrawingToolChangeCommand",property:"tool",value:"PenTool",iconClass:"pencil",group:"tool",togglable:!0},line:{type:"button",command:"DrawingToolChangeCommand",property:"tool",value:"PolylineTool",iconClass:"shape-line",group:"tool",togglable:!0},shape:{type:"vectorShape",iconClass:"shape"},image:{type:"vectorDialog",dialogName:"vectorImage",iconClass:"image-insert",overflow:"never",text:!1,group:"tool",togglable:!0},text:{type:"vectorDialog",dialogName:"vectorText",iconClass:"edit-tools",overflow:"never",text:!1,group:"tool",togglable:!0},fillColor:{type:"vectorColorPicker",property:"fillColor",iconClass:"apply-format"},opacity:{type:"vectorOpacity",property:"opacity",iconClass:"greyscale"},strokeColor:{type:"vectorColorPicker",property:"strokeColor",iconClass:"brush"},strokeWidth:{type:"vectorStrokeWidth",property:"strokeWidth",iconClass:"stroke-width"},strokeDashType:{type:"vectorStrokeDashType",property:"strokeDashType",iconClass:"stroke-dashes"},startCapType:{type:"vectorStartCapType",property:"startCapType",iconClass:"arrow-left"},endCapType:{type:"vectorEndCapType",property:"endCapType",iconClass:"arrow-right"},fontWeight:{type:"button",command:"PropertyChangeCommand",property:"fontWeight",value:!0,iconClass:"bold",togglable:!0},fontStyle:{type:"button",command:"PropertyChangeCommand",property:"fontStyle",value:!0,iconClass:"italic",togglable:!0},fontSize:{type:"vectorFontSize",property:"fontSize",iconClass:"font-size",value:12},fontFamily:{type:"vectorFontFamily",property:"fontFamily",iconClass:"font-family",value:"Arial"},arrange:{type:"vectorArrange",iconClass:"backward-element"},background:{type:"vectorColorPicker",property:"background",iconClass:"paint"},guides:{type:"vectorGuides",property:"guides",iconClass:"image-absolute-position"},remove:{type:"button",command:"ToolbarRemoveCommand",iconClass:"delete"}},v=o.vectordrawing.messages.toolbar={new:"New",open:"Open",save:"Save",select:"Select",pen:"Pen",line:"Line",shape:"Shape",shapeButtons:{rect:"Rectangle",circle:"Circle",heart:"Heart",star:"Star"},image:"Image",text:"Text",fillColor:"Fill Color",opacity:"Opacity",strokeColor:"Stroke Color",colorPalette:{apply:"Apply",cancel:"Cancel",reset:"Reset color",customColor:"Custom color..."},colorPicker:{reset:"Reset color",customColor:"Custom color..."},strokeWidth:"Stroke Width",strokeDashType:"Dash Type",strokeDashTypeButtons:{dash:"dash",dashDot:"dash-dot",dot:"dot",longDash:"long-dash",longDashDot:"long-dash dot",longDashDotDot:"long-dash dot-dot",solid:"solid"},startCapType:"Start Cap",startCapTypeButtons:{none:"None",arrow:"Arrow",circle:"Circle"},endCapType:"End Cap",endCapTypeButtons:{none:"None",arrow:"Arrow",circle:"Circle"},fontWeight:"Bold",fontStyle:"Italic",fontSize:"Font size",fontFamily:"Font",arrange:"Arrange",arrangeButtons:{bringToFront:"Bring to Front",sendToBack:"Sent to Back",bringForward:"Bring Forward",sendBackward:"Send backward"},background:"Background",guides:"Guides",remove:"Remove"},b=c.extend({init:function(t,e){(e=e||{}).connectionDefaults=this._copyConnectionDefaults(e.connectionDefaults),e.shapeDefaults=this._copyShapeDefaults(e.shapeDefaults),this._resetConfiguration(),e.items=this._expandTools(e.tools||b.prototype.options.tools),c.fn.init.call(this,t,e);var i=this._click.bind(this);this.element.addClass("k-spreadsheet-toolbar kj-vectordrawing-toolbar"),this._addSeparators(this.element),this._resetFileInput(),this.bind({click:i,toggle:i}),n.info({method:"init",message:"widget initialized"})},_copyConnectionDefaults:function(t){var e={};return e.endCap=t.endCap,e.stroke=t.stroke,e.startCap=t.startCap,e},_copyShapeDefaults:function(t){var e={};return e.content=t.content,e.fill=t.fill,e.stroke=t.stroke,e},_addSeparators:function(t){t.children(".k-widget, a.k-button, .k-button-group").before('<span class="k-separator" />')},_expandTools:function(e){function i(e){var n=t.isPlainObject(e)?e:g[e]||{},r="k-icon k-i-"+n.iconClass,a=n.type,s={button:{showText:"overflow"},splitButton:{spriteCssClass:r},colorPicker:{toolIcon:r,spriteCssClass:r}},l=t.extend({name:n.name||e,text:v[n.name||e],icon:n.iconClass,spriteCssClass:r,attributes:{title:v[n.name||e],"aria-label":v[n.name||e]}},s[a],n);return"splitButton"===a&&(l.menuButtons=l.menuButtons.map(i)),l.attributes[o.attr("tool")]=e,n.property&&(l.attributes[o.attr("property")]=n.property),l}return e.reduce(function(e,n){return t.isArray(n)?e.push({type:"buttonGroup",buttons:n.map(i)}):e.push(i.call(this,n)),e},[])},_resetFileInput:function(){var e=this,i=this.element.children('a[data-tool="open"]');if(1===i.length){var n,o=i.position();i.prop("tabindex",-1),this.fileInput instanceof t?(n=this.fileInput.parent(),this.fileInput.off().remove()):n=t("<form></form>").append(this.fileInput).css({position:"absolute",top:o.top,left:o.left,opacity:0,overflow:"hidden"}).outerHeight(i.outerHeight()).outerWidth(i.outerWidth()).insertAfter(i).hover(function(t){i.toggleClass("k-state-hover","mouseenter"===t.type)}).mousedown(function(){i.addClass("k-state-active")}).mouseup(function(){i.removeClass("k-state-active")}),this.fileInput=t('<input type="file" style="font-size:'+i.height()+'px">').appendTo(n).change(function(t){e.trigger("action",{command:"ToolbarOpenCommand",params:{file:t.target.files[0]}})}).focus(function(){i.addClass("k-state-focused")}).blur(function(){i.removeClass("k-state-focused")})}},_destroyFileInput:function(){this.element.children('a[data-tool="open"]').prop("tabindex",0),this.fileInput instanceof t&&(this.fileInput.off(),this.fileInput.parent().off().remove(),this.fileInput=void 0)},_click:function(t){var e=t.target.attr(o.attr("tool")),i=g[e]||{},n=i.command;if(n){var r={command:n,params:{property:i.property||null,value:i.value||null,options:i.options||{}}};"boolean"==typeof r.params.value&&(r.params.value=!!t.checked||null),this.action(r)}},events:["click","toggle","open","close","overflowOpen","overflowClose","action","dialog"],options:{name:"VectorDrawingToolBar",resizable:!0,tools:["new","open","save","select","pen","line","shape","image","text","fillColor","opacity","strokeColor","strokeWidth","strokeDashType","startCapType","endCapType",["fontWeight","fontStyle"],"fontFamily","arrange","remove","background","guides"],connectionDefaults:{},shapeDefaults:{}},action:function(t){this.trigger("action",t)},dialog:function(t){this.trigger("dialog",t)},refresh:function(e){if(!t.isArray(e)||1===e.length){e=e[0];for(var i=this,n=i._tools(),o=0;o<n.length;o++){var r=n[o].property,s=n[o].tool;if("background"!==r){var l=a(e[r])?e[r]():e;"button"===s.type?u(s,l):h(s,l);var c=a(e.features)&&e.features();d(s,c&&c[r])}}}function u(t,e){var n=t.toolbar,o=t.overflow;if(n&&n.options.togglable||o&&o.options.togglable){var r=!1;"boolean"==typeof e?r=e:"string"==typeof e&&(r=n.options.value===e),i._configuration[n.options.name]=r,n.toggle(r),o&&o.toggle(r)}}function h(t,e){var n=t.toolbar,o=t.overflow;n&&n.update&&(i._configuration[n.options.name]=e,n.update(e)),o&&o.update&&o.update(e)}function d(t,e){var i=t.toolbar,n=t.overflow;i&&i.enable&&i.enable(e),n&&n.enable&&n.enable(e)}},_resetConfiguration:function(){var t=this.options.connectionDefaults,e=this.options.shapeDefaults;this._configuration={background:"transparent",fillColor:e.fill&&e.fill.color,opacity:e.fill&&e.fill.opacity,strokeColor:e.stroke&&e.stroke.color,strokeWidth:e.stroke&&e.stroke.opacity,strokeDashType:e.stroke&&e.stroke.opacity,startCapType:t.startCap&&t.startCap.type,endCapType:t.endCap&&t.endCap.type,fontFamily:e.content&&e.content.fontFamily,fontSize:e.content&&e.content.fontSize,fontStyle:e.content&&e.content.fontStyle,fontWeight:e.content&&e.content.fontWeight}},getConfiguration:function(e){var i=e instanceof h?this.options.connectionDefaults:this.options.shapeDefaults,n=this._configuration,o={content:{color:t.type(n.fillColor)===f?n.fillColor:i.content&&i.content.color,fontFamily:t.type(n.fontFamily)===f?n.fontFamily:i.content&&i.content.fontFamily,fontSize:"number"===t.type(n.fontSize)?n.fontSize:i.content&&i.content.fontSize,fontStyle:"boolean"===t.type(n.fontSize)?n.fontStyle?"italic":"normal":i.content&&i.content.fontStyle,fontWeight:"boolean"===t.type(n.fontWeight)?n.fontWeight?"italic":"normal":i.content&&i.content.fontWeight}},r={fill:{color:t.type(n.fillColor)===f?n.fillColor:i.fill&&i.fill.color,opacity:"number"===t.type(n.opacity)?n.opacity:i.fill&&i.fill.opacity}},a={stroke:{color:t.type(n.strokeColor)===f?n.strokeColor:i.stroke&&i.stroke.color,dashType:t.type(n.strokeDashType)===f?n.strokeDashType:i.stroke&&i.stroke.dashType,width:"number"===t.type(n.strokeWidth)?n.strokeWidth:i.stroke&&i.stroke.width}},s={startCap:{stroke:{color:t.type(n.strokeColor)===f?n.strokeColor:i.stroke&&i.stroke.color,width:"number"===t.type(n.strokeWidth)?n.strokeWidth:i.stroke&&i.stroke.width},type:t.type(n.startCapType)===f?n.startCapType:i.startCap&&i.startCap.type}},l={endCap:{stroke:{color:t.type(n.strokeColor)===f?n.strokeColor:i.stroke&&i.stroke.color,width:"number"===t.type(n.strokeWidth)?n.strokeWidth:i.stroke&&i.stroke.width},type:t.type(n.endCapType)===f?n.endCapType:i.endCap&&i.endCap.type}},c={};return e.options.content&&t.extend(c,o),e.options.fill&&t.extend(c,r),e.options.stroke&&t.extend(c,a),e.options.startCap&&t.extend(c,s),e.options.endCap&&t.extend(c,l),c},_tools:function(){return this.element.find("["+o.attr("property")+"]").toArray().map(function(e){return{property:(e=t(e)).attr(o.attr("property")),tool:this._getItem(e)}}.bind(this))},destroy:function(){this._destroyFileInput(),this.element.find("["+o.attr("command")+"],.k-button").each(function(){var e=t(this).data("instance");e&&e.destroy&&e.destroy()}),c.fn.destroy.call(this)}});o.ui.plugin(b);var k=o.toolbar.Item.extend({init:function(e,i){var n=t("<select />").attr("title",e.attributes.title).attr("aria-label",e.attributes.title).kendoDropDownList({height:"auto"}).data("kendoDropDownList");this.dropDownList=n,this.element=n.wrapper,this.options=e,this.toolbar=i,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),n.bind("open",this._open.bind(this)),n.bind("change",this._change.bind(this)),this.element.width(e.width).attr({"data-command":"PropertyChangeCommand","data-property":e.property})},_open:function(t){if(this.element.hasClass("k-state-disabled"))return t.preventDefault(),!1;var e,i=this.dropDownList,n=i.list;n.css({whiteSpace:"nowrap",width:"auto"}),(e=n.width())?e+=20:e=i._listWidth,n.css("width",e+o.support.scrollbar()),i._listWidth=e},_change:function(t){var e=t.sender,i=e.value(),n=e.dataItem(),o=n?n.popup:void 0;o?this.toolbar.dialog({name:o}):this.toolbar.action({command:"PropertyChangeCommand",params:{property:this.options.property,value:"null"===i?null:i}})},value:function(t){if(void 0===t)return this.dropDownList.value();this.dropDownList.value(t)}}),y=o.toolbar.Item.extend({init:function(e,i){this.element=t('<a href="#" class="k-button k-button-icon"><span class="'+e.spriteCssClass+'"></span><span class="k-icon k-i-arrow-60-down"></span></a>'),this.element.on("click touchend",this.open.bind(this)).attr("data-command",e.command),this.options=e,this.toolbar=i,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this._popup()},destroy:function(){this.popup.destroy()},open:function(t){t.preventDefault(),this.element.hasClass("k-state-disabled")||this.popup.toggle()},_popup:function(){var e=this.element;this.popup=t('<div class="k-spreadsheet-popup kj-vectordrawing-popup" />').appendTo(e).kendoPopup({anchor:e}).data("kendoPopup")}}),w=o.toolbar.OverflowButton.extend({init:function(t,e){o.toolbar.OverflowButton.fn.init.call(this,t,e),this.element.on("click touchend",this._click.bind(this)),this.message=this.options.text;var i=this.element.data("button");this.element.data(this.options.type,i)},_click:t.noop}),_=y.extend({init:function(e,i){y.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"vectorShape",vectorShape:this,instance:this})},buttons:[{value:"rectangle",iconClass:"shape-rect",text:v.shapeButtons.rect,path:""},{value:"circle",iconClass:"shape-circle",text:v.shapeButtons.circle,path:""},{value:"path",iconClass:"star-outline",text:v.shapeButtons.star,path:"M 50.000 70.000 L 79.389 90.451 L 69.021 56.180 L 97.553 34.549 L 61.756 33.820 L 50.000 0.000 L 38.244 33.820 L 2.447 34.549 L 30.979 56.180 L 20.611 90.451 Z"},{value:"path",iconClass:"heart-outline",text:v.shapeButtons.heart,path:"M 0,0 L 100,100 L 300,0 Z"}],destroy:function(){this.popup.element.off(),y.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" data-path="'+n.path+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value"),i=t.attr("data-path");this.toolbar.action({command:"DrawingToolChangeCommand",params:{property:"tool",value:"ShapeTool",options:{type:e,path:i}}})}}),x=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorShape"})}});function S(t){return function(e){return e.preventDefault(),t.apply(this,arguments)}}o.toolbar.registerComponent("vectorShape",_,x);var C=o.ui.Widget.extend({init:function(t,e){o.ui.Widget.call(this,t,e),this.element=t,this.color=e.color,this._resetButton(),this._colorPalette(),this._customColorPalette(),this._customColorButton(),this.resetButton.on("click",S(this.resetColor.bind(this))),this.customColorButton.on("click",S(this.customColor.bind(this)))},options:{name:"ColorChooser"},events:["change"],destroy:function(){o.unbind(this.dialog.element.find(".k-action-buttons")),this.dialog.destroy(),this.colorPalette.destroy(),this.resetButton.off("click"),this.customColorButton.off("click")},value:function(t){if(void 0===t)return this.color;this.color=t,this.customColorButton.find(".k-icon").css("background-color",this.color),this.colorPalette.value(null),this.flatColorPicker.value(this.color)},_change:function(t){this.color=t,this.trigger("change",{value:t})},_colorPalette:function(){var e=t("<div />",{class:"k-spreadsheet-color-palette"}),i=this.colorPalette=t("<div />").kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],value:this.color,change:function(t){this.customColorButton.find(".k-icon").css("background-color","transparent"),this.flatColorPicker.value(null),this._change(t.value)}.bind(this)}).data("kendoColorPalette");e.append(i.wrapper).appendTo(this.element)},_customColorPalette:function(){var e=t("<div />",{class:"k-spreadsheet-window",html:'<div></div><div class="k-action-buttons"><button class="k-button k-primary" data-bind="click: apply">'+v.colorPalette.apply+'</button><button class="k-button" data-bind="click: close">'+v.colorPalette.cancel+"</button></div>"}),i=this.dialog=e.appendTo(document.body).kendoWindow({animation:!1,scrollable:!1,resizable:!1,maximizable:!1,modal:!0,visible:!1,width:268,open:function(){this.center()}}).data("kendoWindow");i.one("activate",function(){this.element.find("[data-role=flatcolorpicker]").data("kendoFlatColorPicker")._hueSlider.resize()});var n=this.flatColorPicker=i.element.children().first().kendoFlatColorPicker().data("kendoFlatColorPicker"),r=o.observable({apply:function(){this.customColorButton.find(".k-icon").css("background-color",n.value()),this.colorPalette.value(null),this._change(n.value()),i.close()}.bind(this),close:function(){n.value(null),i.close()}});o.bind(i.element.find(".k-action-buttons"),r)},_resetButton:function(){this.resetButton=t('<a class="k-button k-reset-color" href="#"><span class="k-icon k-i-reset-color"></span>'+v.colorPalette.reset+"</a>").appendTo(this.element)},_customColorButton:function(){this.customColorButton=t('<a class="k-button k-custom-color" href="#"><span class="k-icon"></span>'+v.colorPalette.customColor+"</a>").appendTo(this.element)},resetColor:function(){this.colorPalette.value(null),this.flatColorPicker.value(null),this._change(null)},customColor:function(){this.dialog.open()}});o.vectordrawing.ColorChooser=C;var A=y.extend({init:function(t,e){y.fn.init.call(this,t,e),this.popup.element.addClass("k-spreadsheet-colorpicker"),this.colorChooser=new o.vectordrawing.ColorChooser(this.popup.element,{change:this._colorChange.bind(this)}),this.element.attr({"data-property":t.property}),this.element.data({type:"vectorColorPicker",vectorColorPicker:this,instance:this})},destroy:function(){this.colorChooser.destroy(),y.fn.destroy.call(this)},update:function(t){this.value(t)},value:function(t){this.colorChooser.value(t)},_colorChange:function(t){this.toolbar.action({command:"PropertyChangeCommand",params:{property:this.options.property,value:t.sender.value()}}),this.popup.close()}}),T=w.extend({init:function(t,e){t.iconName="text",w.fn.init.call(this,t,e)},_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorColorPicker",options:{title:this.options.property,property:this.options.property}})}});o.toolbar.registerComponent("vectorColorPicker",A,T);var j={smallStep:.01,largeStep:.1,min:0,max:1,value:1,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0:p0}"}},M=y.extend({init:function(t,e){y.fn.init.call(this,t,e),this._commandPalette(),this.element.data({type:"vectorOpacity",vectorOpacity:this,instance:this})},destroy:function(){this.slider.destroy(),y.fn.destroy.call(this)},update:function(e){this.value("number"!==t.type(e)?1:e)},value:function(t){this.slider.value(t)},_commandPalette:function(){var e=t('<div style="padding:2em 1em 1em 1em" />').appendTo(this.popup.element);this.slider=t("<input>").appendTo(e).kendoSlider(r(j,{change:this._action.bind(this)})).getKendoSlider()},_action:function(t){this.toolbar.action({command:"PropertyChangeCommand",params:{property:this.options.property,value:t.sender.value()}})}}),z=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorOpacity"})}});o.toolbar.registerComponent("vectorOpacity",M,z);var E=y.extend({init:function(t,e){y.fn.init.call(this,t,e),this._commandPalette(),this.element.data({type:"vectorStrokeWidth",vectorStrokeWidth:this,instance:this})},destroy:function(){this.slider.destroy(),y.fn.destroy.call(this)},update:function(t){this.value(t)},value:function(t){this.slider.value(t)},_commandPalette:function(){var e=t('<div style="padding:2em 1em 1em 1em" />').appendTo(this.popup.element);this.slider=t("<input>").appendTo(e).kendoSlider({smallStep:1,largeStep:5,min:0,max:25,value:1,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0} pt"},change:this._action.bind(this)}).getKendoSlider()},_action:function(t){this.toolbar.action({command:"PropertyChangeCommand",params:{property:this.options.property,value:t.sender.value()}})}}),I=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorStrokeWidth"})}});o.toolbar.registerComponent("vectorStrokeWidth",E,I);var D=y.extend({init:function(e,i){y.fn.init.call(this,e,i),this.element.attr({"data-property":"strokeDashType"}),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget))}.bind(this)),this.element.data({type:"vectorStrokeDashType",vectorStrokeDashType:this,instance:this})},buttons:[{property:"strokeDashType",value:"solid",dashArray:"0",text:v.strokeDashTypeButtons.solid},{property:"strokeDashType",value:"longDash",dashArray:"8 3.5",text:v.strokeDashTypeButtons.longDash},{property:"strokeDashType",value:"dash",dashArray:"4 3.5",text:v.strokeDashTypeButtons.dash},{property:"strokeDashType",value:"dot",dashArray:"1.5 3.5",text:v.strokeDashTypeButtons.dot},{property:"strokeDashType",value:"longDashDot",dashArray:"8 3.5 1.5 3.5",text:v.strokeDashTypeButtons.longDashDot},{property:"strokeDashType",value:"longDashDotDot",dashArray:"8 3.5 1.5 3.5 1.5 3.5",text:v.strokeDashTypeButtons.longDashDotDot},{property:"strokeDashType",value:"dashDot",dashArray:"3.5 3.5 1.5 3.5",text:v.strokeDashTypeButtons.dashDot}],destroy:function(){this.popup.element.off(),y.fn.destroy.call(this)},update:function(t){var e=t&&t.options&&t.options.stroke&&t.options.stroke.dashType,i=this.popup.element;i.find(".k-button").removeClass("k-state-active"),e&&i.find("[data-property=strokeDashType][data-value="+e+"]").addClass("k-state-active")},_commandPalette:function(){var e=t("<div />").appendTo(this.popup.element);this.buttons.forEach(function(t){var i='<a title="'+t.text+'" data-property="'+t.property+'" data-value="'+t.value+'" class="k-button k-button-icontext"><span><svg height="16" width="100"><g><path stroke="#808080" stroke-width="2" stroke-dasharray="'+t.dashArray+'" d="M0 10 L100 10" /></g></svg></span></a>';e.append(i)})},_action:function(t){var e=t.attr("data-property"),i=t.attr("data-value");this.toolbar.action({command:"PropertyChangeCommand",params:{property:e,value:i}})}}),O=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorStrokeDashType"})}});o.toolbar.registerComponent("vectorStrokeDashType",D,O);var P=y.extend({init:function(e,i){y.fn.init.call(this,e,i),this.element.attr({"data-property":"startCapType"}),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"vectorStartCapType",vectorStartCapType:this,instance:this})},buttons:[{property:"startCapType",value:"none",iconClass:"window-minimize",text:v.startCapTypeButtons.none},{property:"startCapType",value:"ArrowStart",iconClass:"arrow-60-left",text:v.startCapTypeButtons.arrow},{property:"startCapType",value:"FilledCircle",iconClass:"circle",text:v.startCapTypeButtons.circle}],destroy:function(){this.popup.element.off(),y.fn.destroy.call(this)},update:function(t){var e=t&&t.options&&t.options.startCap&&t.options.startCap.type,i=this.popup.element;i.find(".k-button").removeClass("k-state-active"),e&&i.find("[data-property=startCapType][data-value="+e+"]").addClass("k-state-active")},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-property="'+n.property+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-property"),i=t.attr("data-value");this.toolbar.action({command:"PropertyChangeCommand",params:{property:e,value:i}})}}),R=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorStartCapType"})}});o.toolbar.registerComponent("vectorStartCapType",P,R);var L=y.extend({init:function(e,i){y.fn.init.call(this,e,i),this.element.attr({"data-property":"endCapType"}),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"vectorEndCapType",vectorEndCapType:this,instance:this})},buttons:[{property:"endCapType",value:"none",iconClass:"window-minimize",text:v.endCapTypeButtons.none},{property:"endCapType",value:"ArrowEnd",iconClass:"arrow-60-right",text:v.endCapTypeButtons.arrow},{property:"endCapType",value:"FilledCircle",iconClass:"circle",text:v.endCapTypeButtons.circle}],destroy:function(){this.popup.element.off(),y.fn.destroy.call(this)},update:function(t){var e=t&&t.options&&t.options.endCap&&t.options.endCap.type,i=this.popup.element;i.find(".k-button").removeClass("k-state-active"),e&&i.find("[data-property=endCapType][data-value="+e+"]").addClass("k-state-active")},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-property="'+n.property+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-property"),i=t.attr("data-value");this.toolbar.action({command:"PropertyChangeCommand",params:{property:e,value:i}})}}),F=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorEndCapType"})}});o.toolbar.registerComponent("vectorEndCapType",L,F);var N=[24,26,28,36,48,56,64,72,96,112,128,144,192],B=o.toolbar.Item.extend({init:function(e,i){var n=t("<input />").kendoComboBox({change:this._valueChange.bind(this),clearButton:!1,dataSource:e.fontSizes||N,value:g.fontFamily.value}).data("kendoComboBox");this.comboBox=n,this.element=n.wrapper,this.options=e,this.toolbar=i,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.element.width(e.width).attr({"data-command":"PropertyChangeCommand","data-property":e.property}),this.element.data({type:"vectorFontSize",vectorFontSize:this,instance:this})},_valueChange:function(t){this.toolbar.action({command:"PropertyChangeCommand",params:{property:this.options.property,value:o.parseInt(t.sender.value())}})},update:function(t){this.value(o.parseInt(t)||g.fontSize.value)},value:function(t){if(void 0===t)return this.comboBox.value();this.comboBox.value(t)}}),q=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorFontSize",options:{sizes:N,defaultSize:g.fontSize.value}})},update:function(t){this._value=t||g.fontSize.value,this.element.find(".k-text").text(this.message+" ("+this._value+") ...")}});o.toolbar.registerComponent("vectorFontSize",B,q);var V=["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"],H=k.extend({init:function(t,e){k.fn.init.call(this,t,e);var i=this.dropDownList;i.setDataSource(t.fontFamilies||V),i.value(g.fontFamily.value),this.element.data({type:"vectorFontFamily",vectorFontFamily:this,instance:this})},update:function(t){this.value(t||g.fontFamily.value)}}),U=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorFontFamily",options:{fonts:V,defaultFont:g.fontFamily.value}})},update:function(t){this._value=t||g.fontFamily.value,this.element.find(".k-text").text(this.message+" ("+this._value+") ...")}});o.toolbar.registerComponent("vectorFontFamily",H,U);var W=y.extend({init:function(e,i){y.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"vectorArrange",vectorArrange:this,instance:this})},buttons:[{value:"front",iconClass:"front-element",text:v.arrangeButtons.bringToFront},{value:"back",iconClass:"back-element",text:v.arrangeButtons.sendToBack},{value:"forward",iconClass:"forward-element",text:v.arrangeButtons.bringForward},{value:"backward",iconClass:"backward-element",text:v.arrangeButtons.sendBackward}],destroy:function(){this.popup.element.off(),y.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarArrangeCommand",params:{value:e}})}}),G=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorArrange"})}});o.toolbar.registerComponent("vectorArrange",W,G);var Q=y.extend({init:function(t,e){y.fn.init.call(this,t,e),this._commandPalette(),this.element.data({type:"vectorGuides",vectorGuides:this,instance:this})},destroy:function(){this.slider.destroy(),y.fn.destroy.call(this)},update:function(t){this.value(t)},value:function(t){this.slider.value(t)},_commandPalette:function(){var e=t('<div style="padding:2em 1em 1em 1em" />').appendTo(this.popup.element);this.slider=t("<input>").appendTo(e).kendoSlider({smallStep:5,largeStep:10,min:0,max:50,value:10,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0} pt"},change:this._action.bind(this)}).getKendoSlider()},_action:function(t){this.toolbar.action({command:"GuidesChangeCommand",params:{property:this.options.property,value:t.sender.value()}})}}),Y=w.extend({_click:function(){this.options.enable&&this.toolbar.dialog({name:"vectorGuides"})}});o.toolbar.registerComponent("vectorGuides",Q,Y);var K=o.vectordrawing.messages.dialogs={apply:"Apply",save:"Save",cancel:"Cancel",remove:"Remove",retry:"Retry",revert:"Revert",okText:"OK",saveDialog:{title:"Save As",regex:/(\.jpg|\.png|\.svg)$/i,default:"untitled.png",labels:{name:"File name:",type:"File type:",extensions:'[".JPG", ".PNG", ".SVG", ".SVG+"]'}},shapeDialog:{title:"Shapes",buttons:{rect:"Rect",circle:"Circle",star5:"Star 5",heart:"Heart"}},imageDialog:{title:"Image",labels:{url:"Source"}},textDialog:{title:"Text",labels:{text:"Text"}},opacityDialog:{title:"Opacity"},strokeWidthDialog:{title:"Stroke Width"},strokeDashTypeDialog:{title:"Dash Type",buttons:{dash:"dash",dashDot:"dash-dot",dot:"dot",longDash:"long-dash",longDashDot:"long-dash dot",longDashDotDot:"long-dash dot-dot",solid:"solid"}},startCapTypeDialog:{title:"Start Cap",buttons:{none:"None",arrow:"Arrow",circle:"Circle"}},endCapTypeDialog:{title:"End Cap",buttons:{none:"None",arrow:"Arrow",circle:"Circle"}},fontSizeDialog:{title:"Font size"},fontFamilyDialog:{title:"Font"},arrangeDialog:{title:"Arrange",buttons:{bringToFront:"Bring to Front",sendToBack:"Sent to Back",bringForward:"Bring Forward",sendBackward:"Send backward"}}},Z={};o.vectordrawing.dialogs={register:function(t,e){Z[t]=e},registered:function(t){return!!Z[t]},create:function(t,e){var i=Z[t];if(i)return new i(e)}},o.toolbar.registerComponent("vectorDialog",o.toolbar.ToolBarButton.extend({init:function(t,e){o.toolbar.ToolBarButton.fn.init.call(this,t,e),this._dialogName=t.dialogName,this.element.bind("click touchend",this.open.bind(this)).data("instance",this)},open:function(){this.toolbar.dialog({name:this._dialogName,options:{width:400}})}}));var X=o.vectordrawing.VectorDrawingDialog=o.Observable.extend({init:function(e){o.Observable.fn.init.call(this,e),this.options=t.extend(!0,{},this.options,e),this.bind(this.events,e)},events:["close","activate"],options:{autoFocus:!0},dialog:function(){return this._dialog||(this._dialog=t('<div class="k-spreadsheet-window k-action-window" />').addClass(this.options.className||"").append(o.template(this.options.template)({messages:o.vectordrawing.messages.dialogs||K,errors:this.options.errors})).appendTo(document.body).kendoWindow({autoFocus:this.options.autoFocus,scrollable:!1,resizable:!1,modal:!0,visible:!1,width:this.options.width||320,title:this.options.title,open:function(){this.center()},close:this._onDialogClose.bind(this),activate:this._onDialogActivate.bind(this),deactivate:this._onDialogDeactivate.bind(this)}).data("kendoWindow")),this._dialog},_onDialogClose:function(){this.trigger("close",{action:this._action})},_onDialogActivate:function(){this.trigger("activate")},_onDialogDeactivate:function(){this.trigger("deactivate"),this.destroy()},destroy:function(){this._dialog&&(this._dialog.destroy(),this._dialog=null)},open:function(){this.dialog().open()},apply:function(){this.close()},close:function(){this._action="close",this.dialog().close()}}),J=X.extend({options:{template:'<div class="k-edit-label"><label>#: messages.saveDialog.labels.name #</label></div><div class="k-edit-field"><input type="text" name="name" class="k-textbox" data-bind="value: name" /></div><div class="k-edit-label"><label>#: messages.saveDialog.labels.type #</label></div><div class="k-edit-field"><input data-role="dropdownlist" data-bind="value: type" data-source="#: messages.saveDialog.labels.extensions #" /></div><div class="k-action-buttons"><button class="k-button k-primary" data-bind="click: apply">#= messages.okText #</button><button class="k-button" data-bind="click: cancel">#= messages.cancel #</button></div>',title:K.saveDialog.title,autoFocus:!1},open:function(e){var i=this;X.fn.open.apply(i,arguments);var n=i.dialog().element,r=(e||{}).source||K.saveDialog.default,a=K.saveDialog.default.split(".").pop().toUpperCase(),s=r.split("/").pop(),l=s.lastIndexOf(".");l>0&&(a=s.substr(l+1).toUpperCase(),s=s.substr(0,l));var c=o.observable({name:s,type:"."+a,apply:function(){u.validate()&&(i.trigger("action",{command:"ToolbarSaveCommand",params:{type:"save",value:c.name.replace(K.saveDialog.regex,"")+c.type.toLowerCase()}}),u.destroy(),i.close())},cancel:i.close.bind(i)});o.bind(n,c);var u=n.kendoValidator({messages:{name:"Please enter 3 to 50 alphanumeric characters or underscores"},rules:{name:function(t){return!t.is('[name="name"]')||p.test(t.val())}}}).data("kendoValidator");n.find("input").focus().on("keydown",function(e){13===e.keyCode?(c.name=t(this).val(),e.stopPropagation(),e.preventDefault(),c.apply()):27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),c.cancel())})}});o.vectordrawing.dialogs.register("vectorSave",J);var $=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.shapeDialog||K,n={title:i.title,buttons:[{value:"TODO SVG Path",iconClass:"shape-rect",text:i.buttons.rect},{value:"TODO SVG Path",iconClass:"shape-circle",text:i.buttons.circle},{value:"TODO SVG Path",iconClass:"star-outline",text:i.buttons.star},{value:"TODO SVG Path",iconClass:"heart-outline",text:i.buttons.heart}]};X.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new u(t,{dataSource:new l({data:this.options.buttons}),template:'<a title="#=text#" data-property="#=property#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span>#=text#</a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];X.fn.apply.call(this),this.trigger("action",{command:"ToolbarShapeCommand",params:{value:e.value}})}});o.vectordrawing.dialogs.register("vectorShape",$);var tt=X.extend({options:{template:'<div class="k-edit-label"><label>#: messages.imageDialog.labels.url #:</label></div><div class="k-edit-field"><input class="k-textbox" data-bind="value: url" /></div><div class="k-action-buttons"><button class="k-button k-primary" data-bind="click: apply">#= messages.okText #</button><button class="k-button" data-bind="click: cancel">#= messages.cancel #</button></div>',title:K.imageDialog.title,autoFocus:!1},open:function(e){var i=this;X.fn.open.apply(i,arguments);var n=i.dialog().element,r=o.observable({url:"https://cdn.kidoju.com/s/en/570cc7f46d1dd91900729417/image.png",apply:function(){/\S/.test(r.url)||(r.url=null),s(r.url).done(function(t){i.trigger("action",{command:"DrawingToolChangeCommand",params:{property:"tool",value:"ShapeTool",options:{type:"Image",source:t.dataUri,height:t.height,width:t.width}}}),i.close()}).fail(function(t){})},cancel:i.close.bind(i)});o.bind(n,r),n.find("input").focus().on("keydown",function(e){13===e.keyCode?(r.url=t(this).val(),e.stopPropagation(),e.preventDefault(),r.apply()):27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),r.cancel())})}});o.vectordrawing.dialogs.register("vectorImage",tt);var et=X.extend({options:{template:'<div class="k-edit-label"><label>#: messages.textDialog.labels.text #:</label></div><div class="k-edit-field"><input class="k-textbox" data-bind="value: text" /></div><div class="k-action-buttons"><button class="k-button k-primary" data-bind="click: apply">#= messages.okText #</button><button class="k-button" data-bind="click: cancel">#= messages.cancel #</button></div>',title:K.textDialog.title,autoFocus:!1},open:function(e){var i=this;X.fn.open.apply(i,arguments);var n=i.dialog().element,r=o.observable({text:"Text",apply:function(){/\S/.test(r.text)||(r.text=null),i.trigger("action",{command:"DrawingToolChangeCommand",params:{property:"tool",value:"ShapeTool",options:{type:"Text",text:r.text.trim()}}}),i.close()},cancel:i.close.bind(i)});o.bind(n,r),n.find("input").focus().on("keydown",function(e){13===e.keyCode?(r.text=t(this).val(),e.stopPropagation(),e.preventDefault(),r.apply()):27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),r.cancel())})}});o.vectordrawing.dialogs.register("vectorText",et);var it=X.extend({init:function(t){X.fn.init.call(this,t),this.element=this.dialog().element,this.property=t.property,this.options.title=t.title,this.viewModel=o.observable({apply:this.apply.bind(this),close:this.close.bind(this)}),o.bind(this.element.find(".k-action-buttons"),this.viewModel)},options:{template:'<div></div><div class="k-action-buttons"><button class="k-button k-primary" data-bind="click: apply">#: messages.apply #</button><button class="k-button" data-bind="click: close">#: messages.cancel #</button></div>'},apply:function(){X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:this.property,value:this.value()}})},value:function(t){if(void 0===t)return this._value;this._value=t.value}}),nt=it.extend({init:function(t){t.width=177,it.fn.init.call(this,t),this._colorPalette()},_colorPalette:function(){var t=this.dialog().element.find("div:first");this.colorPalette=t.kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],change:this.value.bind(this)}).data("kendoColorPalette")}});o.vectordrawing.dialogs.register("vectorColorPicker",nt);var ot=X.extend({init:function(e){var i={title:(o.vectordrawing.messages.dialogs.opacityDialog||K).title,property:"opacity"};X.fn.init.call(this,t.extend(i,e)),this._list()},options:{template:'<div><input style="width:100%;"></div>'},_list:function(){var t=this.dialog().element.find("input");this.slider=new o.ui.Slider(t[0],{smallStep:.01,largeStep:.1,min:0,max:1,value:1,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0:p0}"},change:this.apply.bind(this)})},apply:function(t){X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:this.options.property,value:t.sender.value()}})}});o.vectordrawing.dialogs.register("vectorOpacity",ot);var rt=X.extend({init:function(e){var i={title:(o.vectordrawing.messages.dialogs.strokeWidthDialog||K).title,property:"strokeWidth"};X.fn.init.call(this,t.extend(i,e)),this._list()},options:{template:"<div><input></div>"},_list:function(){var t=this.dialog().element.find("input");this.slider=new o.ui.Slider(t[0],{smallStep:1,largeStep:5,min:1,max:20,value:1,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0} pt"},change:this.apply.bind(this)})},apply:function(t){X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:this.options.property,value:t.sender.value()}})}});o.vectordrawing.dialogs.register("vectorStrokeWidth",rt);var at=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.strokeDashTypeDialog||K,n={title:i.title,buttons:[{property:"strokeDashType",value:"solid",dashArray:"0",text:i.buttons.solid},{property:"strokeDashType",value:"longDash",dashArray:"8 3.5",text:i.buttons.longDash},{property:"strokeDashType",value:"dash",dashArray:"4 3.5",text:i.buttons.dash},{property:"strokeDashType",value:"dot",dashArray:"1.5 3.5",text:i.buttons.dot},{property:"strokeDashType",value:"longDashDot",dashArray:"8 3.5 1.5 3.5",text:i.buttons.longDashDot},{property:"strokeDashType",value:"longDashDotDot",dashArray:"8 3.5 1.5 3.5 1.5 3.5",text:i.buttons.longDashDotDot},{property:"strokeDashType",value:"dashDot",dashArray:"3.5 3.5 1.5 3.5",text:i.buttons.dashDot}]};X.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new u(t,{dataSource:new l({data:this.options.buttons}),template:'<a title="#=text#" data-property="#=property#" data-value="#=value#"><svg height="16" width="100"><g><path stroke="grey" stroke-width="2" stroke-dasharray="#=dashArray#" d="M0 10 L100 10" /></g></svg></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var i=e.sender.value()[0];i||t.noop(),X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:i.property,value:i.value}})}});o.vectordrawing.dialogs.register("vectorStrokeDashType",at);var st=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.startCapTypeDialog||K,n={title:i.title,buttons:[{property:"startCapType",value:"none",iconClass:"window-minimize",text:i.buttons.none},{property:"startCapType",value:"ArrowStart",iconClass:"arrow-60-left",text:i.buttons.arrow},{property:"startCapType",value:"FilledCircle",iconClass:"circle",text:i.buttons.circle}]};X.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new u(t,{dataSource:new l({data:this.options.buttons}),template:'<a title="#=text#" data-property="#=property#" data-value="#=value#"><span class="k-icon k-icon k-i-#=iconClass#"></span>#=text#</a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var i=e.sender.value()[0];i||t.noop(),X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:i.property,value:i.value}})}});o.vectordrawing.dialogs.register("vectorStartCapType",st);var lt=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.endCapTypeDialog||K,n={title:i.title,buttons:[{property:"endCapType",value:"none",iconClass:"window-minimize",text:i.buttons.none},{property:"endCapType",value:"ArrowStart",iconClass:"arrow-60-right",text:i.buttons.arrow},{property:"endCapType",value:"FilledCircle",iconClass:"circle",text:i.buttons.circle}]};X.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new u(t,{dataSource:new l({data:this.options.buttons}),template:'<a title="#=text#" data-property="#=property#" data-value="#=value#"><span class="k-icon k-icon k-i-#=iconClass#"></span>#=text#</a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var i=e.sender.value()[0];i||t.noop(),X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:i.property,value:i.value}})}});o.vectordrawing.dialogs.register("vectorEndCapType",lt);var ct=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.fontSizeDialog||K;X.fn.init.call(this,t.extend({title:i.title},e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul"),e=this.options.sizes,i=this.options.defaultSize;this.list=new u(t,{dataSource:new l({data:e}),template:"#: data #",value:i,change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:"fontSize",value:o.parseInt(t.sender.value()[0])}})}});o.vectordrawing.dialogs.register("vectorFontSize",ct);var ut=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.fontFamilyDialog||K;X.fn.init.call(this,t.extend({title:i.title},e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul"),e=this.options.fonts,i=this.options.defaultFont;this.list=new u(t,{dataSource:new l({data:e}),template:"#: data #",value:i,change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){X.fn.apply.call(this),this.trigger("action",{command:"PropertyChangeCommand",params:{property:"fontFamily",value:t.sender.value()[0]}})}});o.vectordrawing.dialogs.register("vectorFontFamily",ut);var ht=X.extend({init:function(e){var i=o.vectordrawing.messages.dialogs.arrangeDialog||K,n={title:i.title,buttons:[{property:"arrange",value:"front",iconClass:"front-element",text:i.buttons.bringToFront},{property:"arrange",value:"back",iconClass:"back-element",text:i.buttons.sendToBack},{property:"arrange",value:"forward",iconClass:"forward-element",text:i.buttons.bringForward},{property:"arrange",value:"backward",iconClass:"backward-element",text:i.buttons.sendBackward}]};X.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new u(t,{dataSource:new l({data:this.options.buttons}),template:'<a title="#=text#" data-property="#=property#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span>#=text#</a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(e){var i=e.sender.value()[0];i||t.noop(),X.fn.apply.call(this),this.trigger("action",{command:"ToolbarArrangeCommand",params:{property:i.property,value:i.value}})}});o.vectordrawing.dialogs.register("vectorArrange",ht);var dt=X.extend({init:function(e){var i={title:(o.vectordrawing.messages.dialogs.guidesDialog||K).title,property:"guides"};X.fn.init.call(this,t.extend(i,e)),this._list()},options:{template:'<div><input style="width:100%;"></div>'},_list:function(){var t=this.dialog().element.find("input");this.slider=new o.ui.Slider(t[0],{smallStep:5,largeStep:10,min:0,max:50,value:10,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0} pt"},change:this.apply.bind(this)})},apply:function(t){X.fn.apply.call(this),this.trigger("action",{command:"GuidesChangeCommand",params:{property:this.options.property,value:t.sender.value()}})}});o.vectordrawing.dialogs.register("vectorGuides",dt)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=t.proxy,r=i.keys,a=".kendoButton",s=n.extend({init:function(t,e){n.fn.init.call(this,t,e),t=this.wrapper=this.element,e=this.options,t.addClass("k-button").attr("role","button"),e.enable=e.enable&&!t.attr("disabled"),this.enable(e.enable),e.enable&&this._tabindex(),this._graphics(),t.on("click"+a,o(this._click,this)).on("focus"+a,o(this._focus,this)).on("blur"+a,o(this._blur,this)).on("keydown"+a,o(this._keydown,this)).on("keyup"+a,o(this._keyup,this)),i.notify(this)},destroy:function(){this.wrapper.off(a),n.fn.destroy.call(this)},events:["click"],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(t){this.options.enable&&this.trigger("click",{event:t})&&t.preventDefault()},_focus:function(){this.options.enable&&this.element.addClass("k-state-focused")},_blur:function(){var t=this;t.element.removeClass("k-state-focused"),setTimeout(function(){t.element.removeClass("k-state-active")})},_keydown:function(t){t.keyCode!=r.ENTER&&t.keyCode!=r.SPACEBAR||(this.options.enable&&this.element.addClass("k-state-active"),this._isNativeButton()||(t.keyCode==r.SPACEBAR&&t.preventDefault(),this._click(t)))},_keyup:function(){this.element.removeClass("k-state-active")},_graphics:function(){var e,i,n,o=this.element,r=this.options,a=r.icon,s=r.spriteCssClass,l=r.imageUrl;(s||l||a)&&(n=!0,o.contents().filter(function(){return!t(this).hasClass("k-sprite")&&!t(this).hasClass("k-icon")&&!t(this).hasClass("k-image")}).each(function(e,i){(1==i.nodeType||3==i.nodeType&&t.trim(i.nodeValue).length>0)&&(n=!1)}),n?o.addClass("k-button-icon"):o.addClass("k-button-icontext")),a?((e=o.children("span.k-icon").first())[0]||(e=t('<span class="k-icon"></span>').prependTo(o)),e.addClass("k-i-"+a)):s?((e=o.children("span.k-sprite").first())[0]||(e=t('<span class="k-sprite"></span>').prependTo(o)),e.addClass(s)):l&&((i=o.children("img.k-image").first())[0]||(i=t('<img alt="icon" class="k-image" />').prependTo(o)),i.attr("src",l))},enable:function(t){var e=this.element;void 0===t&&(t=!0),t=!!t,this.options.enable=t,e.toggleClass("k-state-disabled",!t).attr("aria-disabled",!t).attr("disabled",!t),t&&this._tabindex();try{e.blur()}catch(t){}}});i.ui.plugin(s)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s,l,c,u,h;i(0),u=[i(4)],void 0===(h="function"==typeof(c=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?c.apply(e,u):c)||(t.exports=h),i(0),u=[i(4)],n="function"==typeof(c=function(){!function(t,e){var i=window.kendo,n=i.dataviz.diagram={},o=i.deepExtend,r=t.isArray,a={};o(a,{isNearZero:function(t){return Math.abs(t)<1e-6},isDefined:function(t){return void 0!==t},isUndefined:function(t){return void 0===t||null===t},isObject:function(t){return t===Object(t)},has:function(t,e){return Object.hasOwnProperty.call(t,e)},isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},isBoolean:function(t){return"[object Boolean]"==Object.prototype.toString.call(t)},isType:function(t,e){return Object.prototype.toString.call(t)=="[object "+e+"]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isEmpty:function(t){if(null===t)return!0;if(r(t)||a.isString(t))return 0===t.length;for(var e in t)if(a.has(t,e))return!1;return!0},simpleExtend:function(t,e){if(a.isObject(e))for(var i in e)t[i]=e[i]},initArray:function(t,e){for(var i=[],n=0;n<t;++n)i[n]=e;return i},serializePoints:function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(n.x+";"+n.y)}return e.join(";")},deserializePoints:function(t){var e=t.split(";"),i=[];if(e.length%2!=0)throw"Not an array of points.";for(var o=0;o<e.length;o+=2)i.push(new n.Point(parseInt(e[o],10),parseInt(e[o+1],10)));return i},randomInteger:function(t,e){return parseInt(Math.floor(Math.random()*e)+t,10)},DFT:function(t,e){if(e(t),t.childNodes)for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];this.DFT(n,e)}},getMatrixAngle:function(t){return null===t||0===t.d?0:180*Math.atan2(t.b,t.d)/Math.PI},getMatrixScaling:function(t){var e=Math.sqrt(t.a*t.a+t.c*t.c),i=Math.sqrt(t.b*t.b+t.d*t.d);return[e,i]}}),a.sign=function(t){return t?t<0?-1:1:0},a.findAngle=function(t,e){return 180*function(t,e){if(t==e)return 0;var i=e.x-t.x,n=t.y-e.y,o=Math.atan(i/n);return n>=0?i<0?o+2*Math.PI:o:o+Math.PI}(t,e)/Math.PI},a.forEach=function(t,e,i){for(var n=0;n<t.length;n++)e.call(i,t[n],n,t)},a.any=function(t,e){for(var i=0;i<t.length;++i)if(e(t[i]))return t[i];return null},a.remove=function(t,e){for(var i;-1!==(i=a.indexOf(t,e));)t.splice(i,1);return t},a.contains=function(t,e){return-1!==a.indexOf(t,e)},a.indexOf=function(e,i){return t.inArray(i,e)},a.fold=function(t,e,i,n){for(var o=arguments.length>2,r=0;r<t.length;r++){var a=t[r];o?i=e.call(n,i,a,r,t):(i=a,o=!0)}if(!o)throw"Reduce of empty array with no initial value";return i},a.find=function(t,e,i){var n;return a.any(t,function(t,o,r){return!!e.call(i,t,o,r)&&(n=t,!0)}),n},a.first=function(t,e,i){return 0===t.length?null:a.isUndefined(e)?t[0]:a.find(t,e,i)},a.insert=function(t,e,i){return t.splice(i,0,e),t},a.all=function(t,e,i){for(var n,o=!0,r=0;r<t.length&&(n=t[r],o=o&&e.call(i,n,r,t));r++);return o},a.clear=function(t){t.splice(0,t.length)},a.bisort=function(t,e,i){if(a.isUndefined(t))throw"First array is not specified.";if(a.isUndefined(e))throw"Second array is not specified.";if(t.length!=e.length)throw"The two arrays should have equal length";var n,o=[];for(n=0;n<t.length;n++)o.push({x:t[n],y:e[n]});for(a.isUndefined(i)?o.sort(function(t,e){return t.x-e.x}):o.sort(function(t,e){return i(t.x,e.x)}),a.clear(t),a.clear(e),n=0;n<o.length;n++)t.push(o[n].x),e.push(o[n].y)},a.addRange=function(t,e){t.push.apply(t,e)};var s={easeInOut:function(t){return-Math.cos(t*Math.PI)/2+.5}},l=i.Class.extend({init:function(){this.adapters=[],this.target=0,this.tick=0,this.interval=20,this.duration=800,this.lastTime=null,this.handlers=[];var t=this;this.transition=s.easeInOut,this.timerDelegate=function(){t.onTimerEvent()}},addAdapter:function(t){this.adapters.push(t)},onComplete:function(t){this.handlers.push(t)},removeHandler:function(e){this.handlers=t.grep(this.handlers,function(t){return t!==e})},trigger:function(){var t=this;this.handlers&&a.forEach(this.handlers,function(e){return e.call(null!==t.caller?t.caller:t)})},onStep:function(){},seekTo:function(t){this.seekFromTo(this.tick,t)},seekFromTo:function(t,e){this.target=Math.max(0,Math.min(1,e)),this.tick=Math.max(0,Math.min(1,t)),this.lastTime=(new Date).getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.interval))},stop:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger())},play:function(t){0!==this.adapters.length&&(null!==t&&(this.caller=t),this.initState(),this.seekFromTo(0,1))},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(0!==this.adapters.length)for(var t=0;t<this.adapters.length;t++)this.adapters[t].initState()},propagate:function(){for(var t=this.transition(this.tick),e=0;e<this.adapters.length;e++)this.adapters[e].update(t)},onTimerEvent:function(){var t=(new Date).getTime(),e=t-this.lastTime;this.lastTime=t;var i=e/this.duration*(this.tick<this.target?1:-1);Math.abs(i)>=Math.abs(this.tick-this.target)?this.tick=this.target:this.tick+=i;try{this.propagate()}finally{this.onStep.call(this),this.target==this.tick&&this.stop()}}});i.deepExtend(n,{init:function(t){i.init(t,n.ui)},Utils:a,Range:function(t,e,i){if(void 0===t||void 0===e)return[];if(i&&a.sign(e-t)!=a.sign(i))throw"The sign of the increment should allow to reach the stop-value.";if(i=i||1,t=t||0,((e=e||t)-t)/i==1/0)throw"Infinite range defined.";var n,o=[],r=-1,s=function(t){for(var e=1;t*e%1;)e*=10;return e}(Math.abs(i));if(i*=s,(t*=s)>(e*=s)&&i>0&&(i=-i),i<0)for(;(n=t+i*++r)>=e;)o.push(n/s);else for(;(n=t+i*++r)<=e;)o.push(n/s);return o},Ticker:l})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[n,i(45)],o="function"==typeof(c=function(){!function(t,e){var i=window.kendo,n=i.dataviz.diagram,o=i.Class,r=i.deepExtend,a=i.dataviz,s=n.Utils,l=a.Point2D,c=i.isFunction,u=s.contains,h=t.map,d=1e-6;r(l.fn,{plus:function(t){return new l(this.x+t.x,this.y+t.y)},minus:function(t){return new l(this.x-t.x,this.y-t.y)},offset:function(t){return new l(this.x-t,this.y-t)},times:function(t){return new l(this.x*t,this.y*t)},normalize:function(){return 0===this.length()?new l:this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function(t,e){return new l(e.x-t.x,e.y-t.y).times(.5).plus(t)},toPolar:function(t){var e=1;t&&(e=180/Math.PI);var i=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI/2,o=this.length();if(0===this.x){if(0===this.y)return new k(0,0);if(this.y>0)return new k(o,e*n);if(this.y<0)return new k(o,3*e*n)}else if(this.x>0){if(0===this.y)return new k(o,0);if(this.y>0)return new k(o,e*i);if(this.y<0)return new k(o,e*(4*n-i))}else{if(0===this.y)return new k(o,2*n);if(this.y>0)return new k(o,e*(2*n-i));if(this.y<0)return new k(o,e*(2*n+i))}},isOnLine:function(t,e){if(t.x>e.x){var i=e;e=t,t=i}var n,o,r=new p(t.x,t.y).inflate(3,3),a=new p(e.x,e.y).inflate(3,3);return!!r.union(a).contains(this)&&(t.x===e.x||t.y===e.y||(t.y<e.y?(n=r.x+(a.x-r.x)*(this.y-(r.y+r.height))/(a.y+a.height-(r.y+r.height)),o=r.x+r.width+(a.x+a.width-(r.x+r.width))*(this.y-r.y)/(a.y-r.y)):(n=r.x+(a.x-r.x)*(this.y-r.y)/(a.y-r.y),o=r.x+r.width+(a.x+a.width-(r.x+r.width))*(this.y-(r.y+r.height))/(a.y+a.height-(r.y+r.height))),this.x>n&&this.x<o))}}),r(l,{parse:function(t){var e=t.slice(1,t.length-1),i=e.split(","),n=parseInt(i[0],10),o=parseInt(i[1],10);if(!isNaN(n)&&!isNaN(o))return new l(n,o)}});var f=o.extend({init:function(t,e,i){this.point=t,this.left=e,this.right=i}}),p=o.extend({init:function(t,e,i,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0},contains:function(t){return t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},inflate:function(t,e){return void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t+1,this.height+=2*e+1,this},offset:function(t,e){var i=t,n=e;return t instanceof l&&(i=t.x,n=t.y),this.x+=i,this.y+=n,this},union:function(t){var e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),o=Math.max(this.y+this.height,t.y+t.height);return new p(e,i,n-e,o-i)},center:function(){return new l(this.x+this.width/2,this.y+this.height/2)},top:function(){return new l(this.x+this.width/2,this.y)},right:function(){return new l(this.x+this.width,this.y+this.height/2)},bottom:function(){return new l(this.x+this.width/2,this.y+this.height)},left:function(){return new l(this.x,this.y+this.height/2)},topLeft:function(){return new l(this.x,this.y)},topRight:function(){return new l(this.x+this.width,this.y)},bottomLeft:function(){return new l(this.x,this.y+this.height)},bottomRight:function(){return new l(this.x+this.width,this.y+this.height)},clone:function(){return new p(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},rotatedBounds:function(t){var e=this.clone(),i=this.rotatedPoints(t),n=i[0],o=i[1],r=i[2],a=i[3];return e.x=Math.min(r.x,n.x,o.x,a.x),e.y=Math.min(r.y,n.y,o.y,a.y),e.width=Math.max(r.x,n.x,o.x,a.x)-e.x,e.height=Math.max(r.y,n.y,o.y,a.y)-e.y,e},rotatedPoints:function(t){var e=this.center(),i=this.bottomRight().rotate(e,360-t),n=this.topLeft().rotate(e,360-t),o=this.topRight().rotate(e,360-t),r=this.bottomLeft().rotate(e,360-t);return[n,o,i,r]},toString:function(t){return t=t||" ",this.x+t+this.y+t+this.width+t+this.height},scale:function(t,e,i,n,o){var r=this.topLeft(),a=this.center();r.rotate(a,360-o).rotate(n,o);var s=i.minus(r),c=new l(s.x*t,s.y*e),u=s.minus(c);(r=r.plus(u)).rotate(n,360-o).rotate(a,o),this.x=r.x,this.y=r.y,this.width*=t,this.height*=e},zoom:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this},overlaps:function(t){var e=this.bottomRight(),i=t.bottomRight(),n=!(e.x<t.x||e.y<t.y||i.x<this.x||i.y<this.y);return n}}),m=o.extend({init:function(t,e){this.width=t,this.height=e}});function g(t,e,i,n,o){var r=(e.x-t.x)*(n.y-i.y)-(e.y-t.y)*(n.x-i.x);if(!function(t){return Math.abs(t)<d}(r)){var a=(t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y),s=(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y),c=a/r,u=s/r;if(!o||!(c<0||c>1||u<0||u>1))return new l(t.x+c*(e.x-t.x),t.y+c*(e.y-t.y))}}m.prototype.Empty=new m(0,0),p.toRect=function(t){return t instanceof p||(t=new p(t.x,t.y,t.width,t.height)),t},p.empty=function(){return new p(0,0,0,0)},p.fromPoints=function(t,e){if(isNaN(t.x)||isNaN(t.y)||isNaN(e.x)||isNaN(e.y))throw"Some values are NaN.";return new p(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.abs(t.x-e.x),Math.abs(t.y-e.y))};var v={lines:function(t,e,i,n){return g(t,e,i,n)},segments:function(t,e,i,n){return g(t,e,i,n,!0)},rectWithLine:function(t,e,i){return v.segments(e,i,t.topLeft(),t.topRight())||v.segments(e,i,t.topRight(),t.bottomRight())||v.segments(e,i,t.bottomLeft(),t.bottomRight())||v.segments(e,i,t.topLeft(),t.bottomLeft())},rects:function(t,e,i){var n=e.topLeft(),o=e.topRight(),r=e.bottomLeft(),a=e.bottomRight(),s=e.center();i&&(n=n.rotate(s,i),o=o.rotate(s,i),r=r.rotate(s,i),a=a.rotate(s,i));var l=t.contains(n)||t.contains(o)||t.contains(r)||t.contains(a)||v.rectWithLine(t,n,o)||v.rectWithLine(t,n,r)||v.rectWithLine(t,o,a)||v.rectWithLine(t,r,a);if(!l){if(n=t.topLeft(),o=t.topRight(),r=t.bottomLeft(),a=t.bottomRight(),i){var c=360-i;n=n.rotate(s,c),o=o.rotate(s,c),r=r.rotate(s,c),a=a.rotate(s,c)}l=e.contains(n)||e.contains(o)||e.contains(r)||e.contains(a)}return l}},b=o.extend({init:function(t){this.container=p.toRect(t)},align:function(t,e){for(var i=e.toLowerCase().split(" "),n=0;n<i.length;n++)t=this._singleAlign(t,i[n]);return t},_singleAlign:function(t,e){return c(this[e])?this[e](t):t},left:function(t){return this._align(t,this._left)},center:function(t){return this._align(t,this._center)},right:function(t){return this._align(t,this._right)},stretch:function(t){return this._align(t,this._stretch)},top:function(t){return this._align(t,this._top)},middle:function(t){return this._align(t,this._middle)},bottom:function(t){return this._align(t,this._bottom)},_left:function(t,e){e.x=t.x},_center:function(t,e){e.x=(t.width-e.width)/2||0},_right:function(t,e){e.x=t.width-e.width},_top:function(t,e){e.y=t.y},_middle:function(t,e){e.y=(t.height-e.height)/2||0},_bottom:function(t,e){e.y=t.height-e.height},_stretch:function(t,e){e.x=0,e.y=0,e.height=t.height,e.width=t.width},_align:function(t,e){return t=p.toRect(t),e(this.container,t),t}}),k=o.extend({init:function(t,e){this.r=t,this.angle=e}}),y=o.extend({init:function(t,e,i,n,o,r){this.a=t||0,this.b=e||0,this.c=i||0,this.d=n||0,this.e=o||0,this.f=r||0},plus:function(t){this.a+=t.a,this.b+=t.b,this.c+=t.c,this.d+=t.d,this.e+=t.e,this.f+=t.f},minus:function(t){this.a-=t.a,this.b-=t.b,this.c-=t.c,this.d-=t.d,this.e-=t.e,this.f-=t.f},times:function(t){return new y(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},apply:function(t){return new l(this.a*t.x+this.c*t.y+this.e,this.b*t.x+this.d*t.y+this.f)},applyRect:function(t){return p.fromPoints(this.apply(t.topLeft()),this.apply(t.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});r(y,{fromSVGMatrix:function(t){var e=new y;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},fromMatrixVector:function(t){var e=new y;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},fromList:function(t){if(6!==t.length)throw"The given list should consist of six elements.";var e=new y;return e.a=t[0],e.b=t[1],e.c=t[2],e.d=t[3],e.e=t[4],e.f=t[5],e},translation:function(t,e){var i=new y;return i.a=1,i.b=0,i.c=0,i.d=1,i.e=t,i.f=e,i},unit:function(){return new y(1,0,0,1,0,0)},rotation:function(t,e,i){var n=new y;return n.a=Math.cos(t*Math.PI/180),n.b=Math.sin(t*Math.PI/180),n.c=-n.b,n.d=n.a,n.e=e-e*n.a+i*n.b||0,n.f=i-i*n.a-e*n.b||0,n},scaling:function(t,e){var i=new y;return i.a=t,i.b=0,i.c=0,i.d=e,i.e=0,i.f=0,i},parse:function(t){var e,i;if(t){if("matrix"===(t=t.trim()).slice(0,6).toLowerCase()){if(i=t.slice(7,t.length-1).trim(),6===(e=i.split(",")).length)return y.fromList(h(e,function(t){return parseFloat(t)}));if(6===(e=i.split(" ")).length)return y.fromList(h(e,function(t){return parseFloat(t)}))}if("("===t.slice(0,1)&&")"===t.slice(t.length-1)&&(t=t.substr(1,t.length-1)),t.indexOf(",")>0&&6===(e=t.split(",")).length)return y.fromList(h(e,function(t){return parseFloat(t)}));if(t.indexOf(" ")>0&&6===(e=t.split(" ")).length)return y.fromList(h(e,function(t){return parseFloat(t)}))}return e}});var w=o.extend({init:function(t,e,i,n,o,r){this.a=t||0,this.b=e||0,this.c=i||0,this.d=n||0,this.e=o||0,this.f=r||0},fromMatrix:function(t){var e=new w;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e}});function _(t){s.isUndefined(t)&&(t=10);for(var e="",i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t;n>0;--n)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e}var x={_distanceToLineSquared:function(t,e,i){function n(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)}if(e===i)return n(t,e);var o=i.x-e.x,r=i.y-e.y,a=(t.x-e.x)*o+(t.y-e.y)*r;return a<0?n(e,t):(a=(i.x-t.x)*o+(i.y-t.y)*r)<0?n(i,t):(a=(i.x-t.x)*r-(i.y-t.y)*o)*a/(o*o+r*r)},distanceToLine:function(t,e,i){return Math.sqrt(this._distanceToLineSquared(t,e,i))},distanceToPolyline:function(t,e){var i=Number.MAX_VALUE;if(s.isUndefined(e)||0===e.length)return Number.MAX_VALUE;for(var n=0;n<e.length-1;n++){var o=e[n],r=e[n+1],a=this._distanceToLineSquared(t,o,r);a<i&&(i=a)}return Math.sqrt(i)}},S=i.Class.extend({init:function(){this._buckets=[],this.length=0},add:function(t,e){var i=this._createGetBucket(t);return s.isDefined(e)&&(i.value=e),i},get:function(t){return this._bucketExists(t)?this._createGetBucket(t):null},set:function(t,e){this.add(t,e)},containsKey:function(t){return this._bucketExists(t)},remove:function(t){if(this._bucketExists(t)){var e=this._hash(t);return delete this._buckets[e],this.length--,t}},forEach:function(t){for(var e=this._hashes(),i=0,n=e.length;i<n;i++){var o=e[i],r=this._buckets[o];s.isUndefined(r)||t(r)}},clone:function(){for(var t=new S,e=this._hashes(),i=0,n=e.length;i<n;i++){var o=e[i],r=this._buckets[o];s.isUndefined(r)||t.add(r.key,r.value)}return t},_hashes:function(){var t=[];for(var e in this._buckets)this._buckets.hasOwnProperty(e)&&t.push(e);return t},_bucketExists:function(t){var e=this._hash(t);return s.isDefined(this._buckets[e])},_createGetBucket:function(t){var e=this._hash(t),i=this._buckets[e];return s.isUndefined(i)&&(i={key:t},this._buckets[e]=i,this.length++),i},_hash:function(t){if(s.isNumber(t))return t;if(s.isString(t))return this._hashString(t);if(s.isObject(t))return this._objectHashId(t);throw"Unsupported key type."},_hashString:function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i++){var n=t.charCodeAt(i);e=32*e-e+n}return e},_objectHashId:function(t){var e=t._hashId;return s.isUndefined(e)&&(e=_(),t._hashId=e),e}}),C=i.Observable.extend({init:function(e){if(i.Observable.fn.init.call(this),this._hashTable=new S,this.length=0,s.isDefined(e))if(t.isArray(e))for(var n=0;n<e.length;n++)this.add(e[n]);else e.forEach(function(t,e){this.add(t,e)},this)},add:function(t,e){var i=this._hashTable.get(t);i||(i=this._hashTable.add(t),this.length++,this.trigger("changed")),i.value=e},set:function(t,e){this.add(t,e)},get:function(t){var e=this._hashTable.get(t);if(e)return e.value;throw new Error("Cannot find key "+t)},containsKey:function(t){return this._hashTable.containsKey(t)},remove:function(t){if(this.containsKey(t))return this.trigger("changed"),this.length--,this._hashTable.remove(t)},forEach:function(t,e){this._hashTable.forEach(function(i){t.call(e,i.key,i.value)})},forEachValue:function(t,e){this._hashTable.forEach(function(i){t.call(e,i.value)})},forEachKey:function(t,e){this._hashTable.forEach(function(i){t.call(e,i.key)})},keys:function(){var t=[];return this.forEachKey(function(e){t.push(e)}),t}}),A=i.Class.extend({init:function(){this._tail=null,this._head=null,this.length=0},enqueue:function(t){var e={value:t,next:null};this._head?(this._tail.next=e,this._tail=this._tail.next):(this._head=e,this._tail=this._head),this.length++},dequeue:function(){if(this.length<1)throw new Error("The queue is empty.");var t=this._head.value;return this._head=this._head.next,this.length--,t},contains:function(t){for(var e=this._head;e;){if(e.value===t)return!0;e=e.next}return!1}}),T=i.Observable.extend({init:function(t){i.Observable.fn.init.call(this),this._hashTable=new S,this.length=0,s.isDefined(t)&&(t instanceof S?t.forEach(function(t){this.add(t)}):t instanceof C&&t.forEach(function(t,e){this.add({key:t,value:e})},this))},contains:function(t){return this._hashTable.containsKey(t)},add:function(t){var e=this._hashTable.get(t);e||(this._hashTable.add(t,t),this.length++,this.trigger("changed"))},get:function(t){return this.contains(t)?this._hashTable.get(t).value:null},hash:function(t){return this._hashTable._hash(t)},remove:function(t){this.contains(t)&&(this._hashTable.remove(t),this.length--,this.trigger("changed"))},forEach:function(t,e){this._hashTable.forEach(function(e){t(e.value)},e)},toArray:function(){var t=[];return this.forEach(function(e){t.push(e)}),t}}),j=i.Class.extend({init:function(t,e){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,s.isDefined(t)?this.id=t:this.id=_(),s.isDefined(e)){this.associatedShape=e;var i=e.bounds();this.width=i.width,this.height=i.height,this.x=i.x,this.y=i.y}else this.associatedShape=null;this.data=null,this.type="Node",this.shortForm="Node '"+this.id+"'",this.isVirtual=!1},isIsolated:function(){return s.isEmpty(this.links)},bounds:function(t){if(!s.isDefined(t))return new n.Rect(this.x,this.y,this.width,this.height);this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},isLinkedTo:function(t){var e=this;return s.any(e.links,function(i){return i.getComplement(e)===t})},getChildren:function(){if(0===this.outgoing.length)return[];for(var t=[],e=0,i=this.outgoing.length;e<i;e++){var n=this.outgoing[e];t.push(n.getComplement(this))}return t},getParents:function(){if(0===this.incoming.length)return[];for(var t=[],e=0,i=this.incoming.length;e<i;e++){var n=this.incoming[e];t.push(n.getComplement(this))}return t},clone:function(){var t=new j;return s.isDefined(this.weight)&&(t.weight=this.weight),s.isDefined(this.balance)&&(t.balance=this.balance),s.isDefined(this.owner)&&(t.owner=this.owner),t.associatedShape=this.associatedShape,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},adjacentTo:function(t){return null!==this.isLinkedTo(t)},removeLink:function(t){t.source===this&&(s.remove(this.links,t),s.remove(this.outgoing,t),t.source=null),t.target===this&&(s.remove(this.links,t),s.remove(this.incoming,t),t.target=null)},hasLinkTo:function(t){return s.any(this.outgoing,function(e){return e.target===t})},degree:function(){return this.links.length},incidentWith:function(t){return u(this.links,t)},getLinksWith:function(t){return s.all(this.links,function(e){return e.getComplement(this)===t},this)},getNeighbors:function(){var t=[];return s.forEach(this.incoming,function(e){t.push(e.getComplement(this))},this),s.forEach(this.outgoing,function(e){t.push(e.getComplement(this))},this),t}}),M=i.Class.extend({init:function(t,e,i,n){if(s.isUndefined(t))throw"The source of the new link is not set.";if(s.isUndefined(e))throw"The target of the new link is not set.";var o,r;o=s.isString(t)?new j(t):t,r=s.isString(e)?new j(e):e,this.source=o,this.target=r,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),s.isDefined(i)?this.id=i:this.id=_(),s.isDefined(n)?this.associatedConnection=n:this.associatedConnection=null,this.type="Link",this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(t){if(this.source!==t&&this.target!==t)throw"The given node is not incident with this link.";return this.source===t?this.target:this.source},getCommonNode:function(t){return this.source===t.source||this.source===t.target?this.source:this.target===t.source||this.target===t.target?this.target:null},isBridging:function(t,e){return this.source===t&&this.target===e||this.source===e&&this.target===t},getNodes:function(){return[this.source,this.target]},incidentWith:function(t){return this.source===t||this.target===t},adjacentTo:function(t){return u(this.source.links,t)||u(this.target.links,t)},changeSource:function(t){s.remove(this.source.links,this),s.remove(this.source.outgoing,this),t.links.push(this),t.outgoing.push(this),this.source=t},changeTarget:function(t){s.remove(this.target.links,this),s.remove(this.target.incoming,this),t.links.push(this),t.incoming.push(this),this.target=t},changesNodes:function(t,e){this.source===t?this.changeSource(e):this.target===t&&this.changeTarget(e)},reverse:function(){var t=this.source,e=this.target;return this.source=e,s.remove(t.outgoing,this),this.source.outgoing.push(this),this.target=t,s.remove(e.incoming,this),this.target.incoming.push(this),this},directTo:function(t){if(this.source!==t&&this.target!==t)throw"The given node is not incident with this link.";this.target!==t&&this.reverse()},createReverseEdge:function(){var t=this.clone();return t.reverse(),t.reversed=!0,t},clone:function(){var t=new M(this.source,this.target);return t}}),z=i.Class.extend({init:function(t){this.links=[],this.nodes=[],this._nodeMap=new C,this.diagram=null,this._root=null,s.isDefined(t)?s.isString(t)?this.id=t:(this.diagram=t,this.id=t.id):this.id=_(),this.bounds=new p,this._hasCachedRelationships=!1,this.type="Graph"},cacheRelationships:function(t){if(s.isUndefined(t)&&(t=!1),!this._hasCachedRelationships||t){for(var e=0,i=this.nodes.length;e<i;e++){var n=this.nodes[e];n.children=this.getChildren(n),n.parents=this.getParents(n)}this._hasCachedRelationships=!0}},assignLevels:function(t,e,i){if(!t)throw"Start node not specified.";s.isUndefined(e)&&(e=0),this.cacheRelationships(),s.isUndefined(i)&&(i=new C,s.forEach(this.nodes,function(t){i.add(t,!1)})),i.set(t,!0),t.level=e;for(var n=t.children,o=0,r=n.length;o<r;o++){var a=n[o];a&&!i.get(a)&&this.assignLevels(a,e+1,i)}},root:function(t){if(s.isUndefined(t)){if(this._root)return this._root;var e=s.first(this.nodes,function(t){return 0===t.incoming.length});return e||s.first(this.nodes)}this._root=t},getConnectedComponents:function(){this.componentIndex=0,this.setItemIndices();for(var t=s.initArray(this.nodes.length,-1),e=0;e<this.nodes.length;e++)-1===t[e]&&(this._collectConnectedNodes(t,e),this.componentIndex++);var i,n=[];for(i=0;i<this.componentIndex;++i)n[i]=new z;for(i=0;i<t.length;++i){var o=n[t[i]];o.addNodeAndOutgoings(this.nodes[i])}return n.sort(function(t,e){return e.nodes.length-t.nodes.length}),n},_collectConnectedNodes:function(t,e){t[e]=this.componentIndex;var i=this.nodes[e];s.forEach(i.links,function(e){var n=e.getComplement(i),o=n.index;-1===t[o]&&this._collectConnectedNodes(t,o)},this)},calcBounds:function(){if(this.isEmpty())return this.bounds=new p,this.bounds;for(var t=null,e=0,i=this.nodes.length;e<i;e++){var n=this.nodes[e];t=t?t.union(n.bounds()):n.bounds()}return this.bounds=t,this.bounds},getSpanningTree:function(t){var e,i,n=new z,o=new C;n.root=t.clone(),n.root.level=0,n.root.id=t.id,o.add(t,n.root),t.level=0;var r=[],a=[];n._addNode(n.root),r.push(t),a.push(t);for(var l=1;a.length>0;)for(var c=a.pop(),h=0;h<c.links.length;h++){var d=c.links[h],f=d.getComplement(c);if(!u(r,f)){f.level=c.level+1,l<f.level+1&&(l=f.level+1),u(a,f)||a.push(f),u(r,f)||r.push(f),o.containsKey(c)?e=o.get(c):((e=c.clone()).level=c.level,e.id=c.id,o.add(c,e)),o.containsKey(f)?i=o.get(f):((i=f.clone()).level=f.level,i.id=f.id,o.add(f,i));var p=new M(e,i);n.addLink(p)}}for(var m=[],g=0;g<l;g++)m.push([]);return s.forEach(n.nodes,function(t){m[t.level].push(t)}),n.treeLevels=m,n.cacheRelationships(),n},takeRandomNode:function(e,i){if(s.isUndefined(e)&&(e=[]),s.isUndefined(i)&&(i=4),0===this.nodes.length)return null;if(1===this.nodes.length)return u(e,this.nodes[0])?null:this.nodes[0];var n=t.grep(this.nodes,function(t){return!u(e,t)&&t.degree()<=i});return s.isEmpty(n)?null:n[s.randomInteger(0,n.length)]},isEmpty:function(){return s.isEmpty(this.nodes)},isHealthy:function(){return s.all(this.links,function(t){return u(this.nodes,t.source)&&u(this.nodes,t.target)},this)},getParents:function(t){if(!this.hasNode(t))throw"The given node is not part of this graph.";return t.getParents()},getChildren:function(t){if(!this.hasNode(t))throw"The given node is not part of this graph.";return t.getChildren()},addLink:function(t,e,i){if(s.isUndefined(t))throw"The source of the link is not defined.";if(s.isUndefined(e)){if(s.isDefined(t.type)&&"Link"===t.type)return void this.addExistingLink(t);throw"The target of the link is not defined."}var n=this.getNode(t);s.isUndefined(n)&&(n=this.addNode(t));var o=this.getNode(e);s.isUndefined(o)&&(o=this.addNode(e));var r=new M(n,o);return s.isDefined(i)&&(r.owner=i),this.links.push(r),r},removeAllLinks:function(){for(;this.links.length>0;){var t=this.links[0];this.removeLink(t)}},addExistingLink:function(t){if(!this.hasLink(t)){if(this.links.push(t),this.hasNode(t.source.id)){var e=this.getNode(t.source.id);t.changeSource(e)}else this.addNode(t.source);if(this.hasNode(t.target.id)){var i=this.getNode(t.target.id);t.changeTarget(i)}else this.addNode(t.target)}},hasLink:function(t){if(s.isString(t))return s.any(this.links,function(e){return e.id===t});if("Link"===t.type)return u(this.links,t);throw"The given object is neither an identifier nor a Link."},getNode:function(t){var e=t.id||t;if(this._nodeMap.containsKey(e))return this._nodeMap.get(e)},hasNode:function(t){var e=t.id||t;return this._nodeMap.containsKey(e)},_addNode:function(t){this.nodes.push(t),this._nodeMap.add(t.id,t)},_removeNode:function(t){s.remove(this.nodes,t),this._nodeMap.remove(t.id)},removeNode:function(t){var e=t;if(s.isString(t)&&(e=this.getNode(t)),!s.isDefined(e))throw"The identifier should be a Node or the Id (string) of a node.";var i=e.links;e.links=[];for(var n=0,o=i.length;n<o;n++){var r=i[n];this.removeLink(r)}this._removeNode(e)},areConnected:function(t,e){return s.any(this.links,function(i){return i.source==t&&i.target==e||i.source==e&&i.target==t})},removeLink:function(t){s.remove(this.links,t),s.remove(t.source.outgoing,t),s.remove(t.source.links,t),s.remove(t.target.incoming,t),s.remove(t.target.links,t)},addNode:function(t,e,i){var n=null;if(!s.isDefined(t))throw"No Node or identifier for a new Node is given.";if(s.isString(t)){if(this.hasNode(t))return this.getNode(t);n=new j(t)}else{if(this.hasNode(t))return this.getNode(t);n=t}return s.isDefined(e)&&n.bounds(e),s.isDefined(i)&&(n.owner=i),this._addNode(n),n},addNodeAndOutgoings:function(t){this.hasNode(t)||this._addNode(t);var e=t.outgoing;t.outgoing=[],s.forEach(e,function(t){this.addExistingLink(t)},this)},setItemIndices:function(){var t;for(t=0;t<this.nodes.length;++t)this.nodes[t].index=t;for(t=0;t<this.links.length;++t)this.links[t].index=t},clone:function(t){var e=new z,i=s.isDefined(t)&&!0===t;i&&(e.nodeMap=new C,e.linkMap=new C);var n=new C;return s.forEach(this.nodes,function(t){var o=t.clone();n.set(t,o),e._addNode(o),i&&e.nodeMap.set(o,t)}),s.forEach(this.links,function(t){if(n.containsKey(t.source)&&n.containsKey(t.target)){var o=e.addLink(n.get(t.source),n.get(t.target));i&&e.linkMap.set(o,t)}}),e},linearize:function(t){return z.Utils.linearize(this,t)},depthFirstTraversal:function(t,e){if(s.isUndefined(t))throw"You need to supply a starting node.";if(s.isUndefined(e))throw"You need to supply an action.";if(!this.hasNode(t))throw"The given start-node is not part of this graph";var i=this.getNode(t);this._dftIterator(i,e,[])},_dftIterator:function(t,e,i){e(t),i.push(t);for(var n=t.getChildren(),o=0,r=n.length;o<r;o++){var a=n[o];u(i,a)||this._dftIterator(a,e,i)}},breadthFirstTraversal:function(t,e){if(s.isUndefined(t))throw"You need to supply a starting node.";if(s.isUndefined(e))throw"You need to supply an action.";if(!this.hasNode(t))throw"The given start-node is not part of this graph";var i=this.getNode(t),n=new A,o=[];for(n.enqueue(i);n.length>0;){var r=n.dequeue();e(r),o.push(r);for(var a=r.getChildren(),l=0,c=a.length;l<c;l++){var h=a[l];u(o,h)||u(n,h)||n.enqueue(h)}}},_stronglyConnectedComponents:function(t,e,i,n,o,r,a){i.add(e,a),n.add(e,a),a++,r.push(e);for(var s,l=e.getChildren(),c=0,h=l.length;c<h;c++)s=l[c],i.containsKey(s)?u(r,s)&&n.add(e,Math.min(n.get(e),i.get(s))):(this._stronglyConnectedComponents(t,s,i,n,o,r,a),n.add(e,Math.min(n.get(e),n.get(s))));if(n.get(e)===i.get(e)){var d=[];do{s=r.pop(),d.push(s)}while(s!==e);(!t||d.length>1)&&o.push(d)}},findCycles:function(t){s.isUndefined(t)&&(t=!0);for(var e=new C,i=new C,n=[],o=[],r=0,a=this.nodes.length;r<a;r++){var l=this.nodes[r];e.containsKey(l)||this._stronglyConnectedComponents(t,l,e,i,n,o,0)}return n},isAcyclic:function(){return s.isEmpty(this.findCycles())},isSubGraph:function(t){var e=t.linearize(),i=this.linearize();return s.all(e,function(t){return u(i,t)})},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1)return[];if(2==this.nodes.length){var t=[];if(this.links.length>1)for(var e=this.links[0],i=e.source,n=0,o=this.links.length;n<o;n++){var r=this.links[n];if(r.source!=i){var a=r.reverse();t.push(a)}}return t}var l=this.clone(!0),c=this.nodes.length,u=new C,h=function(t){return 0===t.outgoing.length?2-c:0===t.incoming.length?c-2:t.outgoing.length-t.incoming.length},d=function(t,e){var i=h(t);e.containsKey(i)||e.set(i,[]),e.get(i).push(t)};s.forEach(l.nodes,function(t){d(t,u)});for(var f=[],p=[];l.nodes.length>0;){var m,g,v;if(u.containsKey(2-c))for(var b=u.get(2-c);b.length>0;){g=b.pop();for(var k=0;k<g.links.length;k++){var y=g.links[k];m=y.getComplement(g),v=h(m),s.remove(u.get(v),m),m.removeLink(y),d(m,u)}l._removeNode(g),p.unshift(g)}if(u.containsKey(c-2))for(var w=u.get(c-2);w.length>0;){m=w.pop();for(var _=0;_<m.links.length;_++){var x=m.links[_];g=x.getComplement(m),v=h(g),s.remove(u.get(v),g),g.removeLink(x),d(g,u)}f.push(m),l._removeNode(m)}if(l.nodes.length>0)for(var S=c-3;S>2-c;S--)if(u.containsKey(S)&&u.get(S).length>0){for(var A=u.get(S),T=A.pop(),j=0;j<T.links.length;j++){var M=T.links[j],z=M.getComplement(T);v=h(z),s.remove(u.get(v),z),z.removeLink(M),d(z,u)}f.push(T),l._removeNode(T);break}}f=f.concat(p);for(var E=new C,I=0;I<this.nodes.length;I++)E.set(l.nodeMap.get(f[I]),I);var D=[];return s.forEach(this.links,function(t){E.get(t.source)>E.get(t.target)&&(t.reverse(),D.push(t))}),D}});z.Predefined={EightGraph:function(){return z.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return z.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return z.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(t){return s.isUndefined(t)&&(t=5),z.Utils.createBalancedTree(t,2)},Linear:function(t){return s.isUndefined(t)&&(t=10),z.Utils.createBalancedTree(t,1)},Tree:function(t,e){return z.Utils.createBalancedTree(t,e)},Forest:function(t,e,i){return z.Utils.createBalancedForest(t,e,i)},Workflow:function(){return z.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(t,e){var i=new n.Graph;if(t<=0&&e<=0)return i;for(var o=0;o<t+1;o++)for(var r=null,a=0;a<e+1;a++){var s=new j(o.toString()+"."+a.toString());if(i.addNode(s),r&&i.addLink(r,s),o>0){var l=i.getNode((o-1).toString()+"."+a.toString());i.addLink(l,s)}r=s}return i}},z.Utils={parse:function(t){for(var e,o=new n.Graph,r=t.slice(),a=0,l=r.length;a<l;a++){var c=r[a];if(s.isString(c)){if(c.indexOf("->")<0)throw"The link should be specified as 'a->b'.";var u=c.split("->");if(2!=u.length)throw"The link should be specified as 'a->b'.";e=new M(u[0],u[1]),o.addLink(e)}if(s.isObject(c)){if(!e)throw"Specification found before Link definition.";i.deepExtend(e,c)}}return o},linearize:function(t,e){if(s.isUndefined(t))throw"Expected an instance of a Graph object in slot one.";s.isUndefined(e)&&(e=!1);for(var i=[],n=0,o=t.links.length;n<o;n++){var r=t.links[n];i.push(r.source.id+"->"+r.target.id),e&&i.push({id:r.id})}return i},_addShape:function(t,e,o,r){return s.isUndefined(e)&&(e=new n.Point(0,0)),s.isUndefined(o)&&(o=_()),r=i.deepExtend({width:20,height:20,id:o,radius:10,fill:"#778899",data:"circle",undoable:!1,x:e.x,y:e.y},r),t.addShape(r)},_addConnection:function(t,e,i,n){return t.connect(e,i,n)},createDiagramFromGraph:function(t,e,n,o){if(s.isUndefined(t))throw"The diagram surface is undefined.";if(s.isUndefined(e))throw"No graph specification defined.";s.isUndefined(n)&&(n=!0),s.isUndefined(o)&&(o=!1);for(var r,a,c=t.element.clientWidth||200,u=t.element.clientHeight||200,h=[],d=0,f=e.nodes.length;d<f;d++){var m=(r=e.nodes[d]).position;s.isUndefined(m)&&(m=s.isDefined(r.x)&&s.isDefined(r.y)?new l(r.x,r.y):new l(s.randomInteger(10,c-20),s.randomInteger(10,u-20)));var g={};"0"===r.id||o&&i.deepExtend(g,{width:150*Math.random()+20,height:80*Math.random()+50,data:"rectangle",fill:{color:"#778899"}});var v=(a=this._addShape(t,m,r.id,g)).bounds();s.isDefined(v)&&(r.x=v.x,r.y=v.y,r.width=v.width,r.height=v.height),h[r.id]=a}for(var b=0;b<e.links.length;b++){var k=e.links[b],y=h[k.source.id];if(!s.isUndefined(y)){var w=h[k.target.id];s.isUndefined(w)||this._addConnection(t,y,w,{id:k.id})}}if(n){var _=new t.SpringLayout(t);_.layoutGraph(e,{limitToView:!1});for(var x=0;x<e.nodes.length;x++)r=e.nodes[x],(a=h[r.id]).bounds(new p(r.x,r.y,r.width,r.height))}},createBalancedTree:function(t,e){s.isUndefined(t)&&(t=3),s.isUndefined(e)&&(e=3);var i,o=new n.Graph,r=-1,a=[];if(t<=0||e<=0)return o;var l=new j((++r).toString());o.addNode(l),o.root=l,a.push(l);for(var c=0;c<t;c++){i=[];for(var u=0;u<a.length;u++)for(var h=a[u],d=0;d<e;d++){var f=new j((++r).toString());o.addLink(h,f),i.push(f)}a=i}return o},createBalancedForest:function(t,e,i){s.isUndefined(t)&&(t=3),s.isUndefined(e)&&(e=3),s.isUndefined(i)&&(i=5);var o,r=new n.Graph,a=-1,l=[];if(t<=0||e<=0||i<=0)return r;for(var c=0;c<i;c++){var u=new j((++a).toString());r.addNode(u),l=[u];for(var h=0;h<t;h++){o=[];for(var d=0;d<l.length;d++)for(var f=l[d],p=0;p<e;p++){var m=new j((++a).toString());r.addLink(f,m),o.push(m)}l=o}}return r},createRandomConnectedGraph:function(t,e,i){s.isUndefined(t)&&(t=40),s.isUndefined(e)&&(e=4),s.isUndefined(i)&&(i=!1);var o=new n.Graph,r=-1;if(t<=0)return o;var a=new j((++r).toString());if(o.addNode(a),1===t)return o;if(t>1){for(var l=1;l<t;l++){var c=o.takeRandomNode([],e);if(!c)break;var u=o.addNode(l.toString());o.addLink(c,u)}if(!i&&t>1)for(var h=s.randomInteger(1,t),d=0;d<h;d++){var f=o.takeRandomNode([],e),p=o.takeRandomNode([],e);f&&p&&!o.areConnected(f,p)&&o.addLink(f,p)}return o}},randomDiagram:function(t,e,n,o,r){var a=i.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(e,n,o);z.Utils.createDiagramFromGraph(t,a,!1,r)}},i.deepExtend(n,{init:function(t){i.init(t,n.ui)},Point:l,Intersect:v,Geometry:x,Rect:p,Size:m,RectAlign:b,Matrix:y,MatrixVector:w,normalVariable:function(t,e){var i,n,o;do{i=2*Math.random()-1,n=2*Math.random()-1,o=i*i+n*n}while(!o||o>1);return t+e*i*Math.sqrt(-2*Math.log(o)/o)},randomId:_,Dictionary:C,HashTable:S,Queue:A,Set:T,Node:j,Link:M,Graph:z,PathDefiner:f})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[i(24),o],r="function"==typeof(c=function(){!function(t,e){var i=window.kendo,n=i.dataviz.diagram,o=i.Class,r=i.deepExtend,a=n.Point,s=n.Rect,l=n.Matrix,c=n.Utils,u=c.isNumber,h=c.isString,d=n.MatrixVector,f=i.geometry,p=i.drawing,m=p.util.defined,g=t.inArray,v="transparent",b={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"};function k(t,e){for(var i,n,o=this.options,r=!1,a=0;a<e.length;a++)n=e[a],i=t[n],u(i)&&o[n]!==i&&(o[n]=i,r=!0);return r}n.Markers=b;var y=o.extend({init:function(t,e){this.x=t,this.y=e},toMatrix:function(){return l.scaling(this.x,this.y)},toString:function(){return i.format("scale({0},{1})",this.x,this.y)},invert:function(){return new y(1/this.x,1/this.y)}}),w=o.extend({init:function(t,e){this.x=t,this.y=e},toMatrixVector:function(){return new d(0,0,0,0,this.x,this.y)},toMatrix:function(){return l.translation(this.x,this.y)},toString:function(){return i.format("translate({0},{1})",this.x,this.y)},plus:function(t){this.x+=t.x,this.y+=t.y},times:function(t){this.x*=t,this.y*=t},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){0!==this.Length&&this.times(1/this.length())},invert:function(){return new w(-this.x,-this.y)}}),_=o.extend({init:function(t,e,i){this.x=e||0,this.y=i||0,this.angle=t},toString:function(){return this.x&&this.y?i.format("rotate({0},{1},{2})",this.angle,this.x,this.y):i.format("rotate({0})",this.angle)},toMatrix:function(){return l.rotation(this.angle,this.x,this.y)},center:function(){return new a(this.x,this.y)},invert:function(){return new _(360-this.angle,this.x,this.y)}});_.ZERO=new _(0),_.create=function(t){return new _(t.angle,t.x,t.y)},_.parse=function(t){var e=t.slice(1,t.length-1).split(","),i=e[0],n=e[1],o=e[2],r=new _(i,n,o);return r};var x=o.extend({init:function(t,e,i,n,o,r){this.translate=new w(t,e),void 0!==i&&void 0!==n&&(this.scale=new y(i,n)),void 0!==o&&(this.rotate=r?new _(o,r.x,r.y):new _(o))},toString:function(){var t=function(t){return t?t.toString():""};return t(this.translate)+t(this.rotate)+t(this.scale)},render:function(t){t._transform=this,t._renderTransform()},toMatrix:function(){var t=l.unit();return this.translate&&(t=t.times(this.translate.toMatrix())),this.rotate&&(t=t.times(this.rotate.toMatrix())),this.scale&&(t=t.times(this.scale.toMatrix())),t},invert:function(){var t=this.rotate?this.rotate.invert():void 0,e=t?t.toMatrix():l.unit(),i=this.scale?this.scale.invert():void 0,n=i?i.toMatrix():l.unit(),o=new a(-this.translate.x,-this.translate.y);o=e.times(n).apply(o);var r=new w(o.x,o.y),s=new x;return s.translate=r,s.rotate=t,s.scale=i,s}}),S={_setScale:function(){var t=this.options,e=this._originWidth,i=this._originHeight,n=t.width/e,o=t.height/i;u(n)||(n=1),u(o)||(o=1),this._transform.scale=new y(n,o)},_setTranslate:function(){var t=this.options,e=t.x||0,i=t.y||0;this._transform.translate=new w(e,i)},_initSize:function(){var t=this.options,e=!1;!1!==t.autoSize&&(m(t.width)||m(t.height))&&(this._measure(!0),this._setScale(),e=!0),(m(t.x)||m(t.y))&&(this._setTranslate(),e=!0),e&&this._renderTransform()},_updateSize:function(t){var e=!1;return!1!==this.options.autoSize&&this._diffNumericOptions(t,["width","height"])&&(e=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(t,["x","y"])&&(e=!0,this._setTranslate()),e&&this._renderTransform(),e}},C=o.extend({init:function(t){this.options=r({},this.options,t),this.id=this.options.id,this._originSize=s.empty(),this._transform=new x},visible:function(t){return this.drawingContainer().visible(t)},redraw:function(t){t&&t.id&&(this.id=t.id)},position:function(t,e){var i=this.options;if(!m(t))return new a(i.x,i.y);m(e)?(i.x=t,i.y=e):t instanceof a&&(i.x=t.x,i.y=t.y),this._transform.translate=new w(i.x,i.y),this._renderTransform()},rotate:function(t,e){return m(t)&&(this._transform.rotate=new _(t,e.x,e.y),this._renderTransform()),this._transform.rotate||_.ZERO},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var t=this._transform.toMatrix();this.drawingContainer().transform(new f.Matrix(t.a,t.b,t.c,t.d,t.e,t.f))},_hover:function(){},_diffNumericOptions:k,_measure:function(t){var e;if(!this._measured||t){var i=this._boundingBox()||new f.Rect,n=i.topLeft();e=new s(n.x,n.y,i.width(),i.height()),this._originSize=e,this._originWidth=e.width,this._originHeight=e.height,this._measured=!0}else e=this._originSize;return e},_boundingBox:function(){return this.drawingElement.rawBBox()}}),A=C.extend({init:function(t){C.fn.init.call(this,t),(t=this.options).fill=V(t.fill),t.stroke=V(t.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:v}},fill:function(t,e){this._fill({color:H(t),opacity:e})},stroke:function(t,e,i){this._stroke({color:H(t),width:e,opacity:i})},redraw:function(t){if(t){var e=t.stroke,i=t.fill;e&&this._stroke(V(e)),i&&this._fill(V(i)),C.fn.redraw.call(this,t)}},_hover:function(t){var e=this.drawingElement,i=this.options,n=i.hover;if(n&&n.fill){var o=t?V(n.fill):i.fill;e.fill(o.color,o.opacity)}},_stroke:function(t){var e=this.options;r(e,{stroke:t});var i=null;(t=e.stroke).width>0&&(i={color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}),this.drawingElement.options.set("stroke",i)},_fill:function(t){var e=this.options;r(e,{fill:t||{}});var i=e.fill;if(i.gradient){var n=i.gradient,o="radial"===n.type?p.RadialGradient:p.LinearGradient;this.drawingElement.fill(new o(n))}else this.drawingElement.fill(i.color,i.opacity)}}),T=A.extend({init:function(t){t=this._textColor(t),A.fn.init.call(this,t),this._font(),this._initText(),this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:!0},_initText:function(){var t=this.options;this.drawingElement=new p.Text(m(t.text)?t.text:"",new f.Point,{font:t.font}),this._fill(),this._stroke()},_textColor:function(t){return t&&t.color&&(t=r({},t,{fill:{color:t.color}})),t},_font:function(){var t=this.options;if(t.fontFamily&&m(t.fontSize)){var e=[];t.fontStyle&&e.push(t.fontStyle),t.fontWeight&&e.push(t.fontWeight),e.push(t.fontSize+(u(t.fontSize)?"px":"")),e.push(t.fontFamily),t.font=e.join(" ")}else delete t.font},content:function(t){return this.drawingElement.content(t)},redraw:function(t){if(t){var e=!1,i=this.options;t=this._textColor(t),A.fn.redraw.call(this,t),(t.fontFamily||m(t.fontSize)||t.fontStyle||t.fontWeight)&&(r(i,{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight}),this._font(),this.drawingElement.options.set("font",i.font),e=!0),t.text&&(this.content(t.text),e=!0),!this._updateSize(t)&&e&&this._initSize()}}});r(T.fn,S);var j=A.extend({init:function(t){A.fn.init.call(this,t),this._initPath(),this._setPosition()},_setPosition:function(){var t=this.options,e=t.x,i=t.y;(m(e)||m(i))&&this.position(e||0,i||0)},redraw:function(t){t&&(A.fn.redraw.call(this,t),this._diffNumericOptions(t,["width","height"])&&this._drawPath(),this._diffNumericOptions(t,["x","y"])&&this._setPosition())},_initPath:function(){var t=this.options;this.drawingElement=new p.Path({stroke:t.stroke,closed:!0}),this._fill(),this._drawPath()},_drawPath:function(){var t=this.drawingElement,e=q(this.options),i=e.width,n=e.height;t.segments.elements([U(0,0),U(i,0),U(i,n),U(0,n)])}}),M=A.extend({init:function(t){A.fn.init.call(this,t);var e=this.options.anchor;this.anchor=new f.Point(e.x,e.y),this.createElement()},options:{stroke:{color:v,width:0},fill:{color:"black"}},_transformToPath:function(t,e){var i=e.transform();return t&&i&&(t=t.transformCopy(i)),t},redraw:function(t){t&&(t.position&&(this.options.position=t.position),A.fn.redraw.call(this,t))}}),z=M.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var t=this.options;this.drawingElement=new p.Circle(new f.Circle(this.anchor,t.radius),{fill:t.fill,stroke:t.stroke})},positionMarker:function(t){var e,i,n=this.options,o=n.position,r=t.segments;(e="start"==o?r[0]:r[r.length-1])&&(i=this._transformToPath(e.anchor(),t),this.drawingElement.transform(f.transform().translate(i.x,i.y)))}}),E=M.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var t=this.options;this.drawingElement=p.Path.parse(t.path,{fill:t.fill,stroke:t.stroke})},positionMarker:function(t){var e=this._linePoints(t),i=e.start,n=e.end,o=f.transform();if(i&&o.rotate(function(t,e){var i=e.x-t.x,n=e.y-t.y;return p.util.deg(Math.atan2(n,i))}(i,n),n),n){var r=this.anchor,a=n.clone().translate(-r.x,-r.y);o.translate(a.x,a.y)}this.drawingElement.transform(o)},_linePoints:function(t){var e,i,n,o=this.options,r=t.segments;if("start"==o.position){if(n=r[0]){i=n.anchor(),e=n.controlOut();var a=r[1];!e&&a&&(e=a.anchor())}}else if(n=r[r.length-1]){i=n.anchor(),e=n.controlIn();var s=r[r.length-2];!e&&s&&(e=s.anchor())}if(i)return{start:this._transformToPath(e,t),end:this._transformToPath(i,t)}}}),I={_getPath:function(t){var e=this.drawingElement;if(e instanceof p.MultiPath&&(e="start"==t?e.paths[0]:e.paths[e.paths.length-1]),e&&e.segments.length)return e},_normalizeMarkerOptions:function(t){var e=t.startCap,i=t.endCap;h(e)&&(t.startCap={type:e}),h(i)&&(t.endCap={type:i})},_removeMarker:function(t){var e=this._markers[t];e&&(this.drawingContainer().remove(e.drawingElement),delete this._markers[t])},_createMarkers:function(){var t=this.options;this._normalizeMarkerOptions(t),this._markers={},this._markers.start=this._createMarker(t.startCap,"start"),this._markers.end=this._createMarker(t.endCap,"end")},_createMarker:function(t,e){var i,n,o=(t||{}).type,a=this._getPath(e);if(a)return o==b.filledCircle?i=z:o==b.arrowStart||o==b.arrowEnd?i=E:this._removeMarker(e),i?((n=new i(r({},t,{position:e}))).positionMarker(a),this.drawingContainer().append(n.drawingElement),n):void 0;this._removeMarker(e)},_positionMarker:function(t){var e=this._markers[t];if(e){var i=this._getPath(t);i?e.positionMarker(i):this._removeMarker(t)}},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(t,e,i){this._normalizeMarkerOptions(i);var n=this.options,o=this._capMap[e],a=(n[o]||{}).type,s=i[o],l=!1;return s?(n[o]=r({},n[o],s),s.type&&a!=s.type?(this._removeMarker(e),this._markers[e]=this._createMarker(n[o],e),l=!0):this._markers[e]&&this._markers[e].redraw(s)):t&&!this._markers[e]&&n[o]&&(this._markers[e]=this._createMarker(n[o],e),l=!0),l},_redrawMarkers:function(t,e){!this._redrawMarker(t,"start",e)&&t&&this._positionMarker("start"),!this._redrawMarker(t,"end",e)&&t&&this._positionMarker("end")}},D=A.extend({init:function(t){A.fn.init.call(this,t),this.container=new p.Group,this._createElements(),this._initSize()},options:{autoSize:!0},drawingContainer:function(){return this.container},data:function(t){var e=this.options;if(!t)return e.data;e.data!=t&&(e.data=t,this._setData(t),this._initSize(),this._redrawMarkers(!0,{}))},redraw:function(t){if(t){A.fn.redraw.call(this,t);var e=this.options,i=t.data;m(i)&&e.data!=i?(e.data=i,this._setData(i),this._updateSize(t)||this._initSize(),this._redrawMarkers(!0,t)):(this._updateSize(t),this._redrawMarkers(!1,t))}},_createElements:function(){var t=this.options;this.drawingElement=p.Path.parse(t.data||"",{stroke:t.stroke}),this._fill(),this.container.append(this.drawingElement),this._createMarkers()},_setData:function(t){var e=this.drawingElement,i=p.Path.parse(t||""),n=i.paths.slice(0);i.paths.elements([]),e.paths.elements(n)}});r(D.fn,S),r(D.fn,I);var O=A.extend({init:function(t){A.fn.init.call(this,t),this.container=new p.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(t){if(t){var e=(t=t||{}).from,i=t.to;e&&(this.options.from=e),i&&(this.options.to=i),e||i?(this._drawPath(),this._redrawMarkers(!0,t)):this._redrawMarkers(!1,t),A.fn.redraw.call(this,t)}},_initPath:function(){var t=this.options,e=this.drawingElement=new p.Path({stroke:t.stroke});this._fill(),this._drawPath(),this.container.append(e)},_drawPath:function(){var t=this.options,e=this.drawingElement,i=t.from||new a,n=t.to||new a;e.segments.elements([U(i.x,i.y),U(n.x,n.y)])}});r(O.fn,I);var P=A.extend({init:function(t){A.fn.init.call(this,t),this.container=new p.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},points:function(t){var e=this.options;if(!t)return e.points;e.points=t,this._updatePath()},redraw:function(t){if(t){var e=t.points;A.fn.redraw.call(this,t),e&&this._pointsDiffer(e)?(this.points(e),this._redrawMarkers(!0,t)):this._redrawMarkers(!1,t)}},_initPath:function(){var t=this.options;this.drawingElement=new p.Path({stroke:t.stroke}),this._fill(),this.container.append(this.drawingElement),t.points&&this._updatePath()},_pointsDiffer:function(t){var e=this.options.points,i=e.length!==t.length;if(!i)for(var n=0;n<t.length;n++)if(e[n].x!==t[n].x||e[n].y!==t[n].y){i=!0;break}return i},_updatePath:function(){for(var t,e=this.drawingElement,i=this.options,n=i.points,o=[],r=0;r<n.length;r++)t=n[r],o.push(U(t.x,t.y));e.segments.elements(o)},options:{points:[]}});r(P.fn,I);var R=C.extend({init:function(t){C.fn.init.call(this,t),this._initImage()},redraw:function(t){t&&(t.source&&this.drawingElement.src(t.source),this._diffNumericOptions(t,["width","height","x","y"])&&this.drawingElement.rect(this._rect()),C.fn.redraw.call(this,t))},_initImage:function(){var t=this.options,e=this._rect();this.drawingElement=new p.Image(t.source,e,{})},_rect:function(){var t=q(this.options),e=new f.Point(t.x,t.y),i=new f.Size(t.width,t.height);return new f.Rect(e,i)}}),L=C.extend({init:function(t){this.children=[],C.fn.init.call(this,t),this.drawingElement=new p.Group,this._initSize()},options:{autoSize:!1},append:function(t){this.drawingElement.append(t.drawingContainer()),this.children.push(t),this._childrenChange=!0},remove:function(t){this._remove(t)&&(this._childrenChange=!0)},_remove:function(t){var e=g(t,this.children);if(e>=0)return this.drawingElement.removeAt(e),this.children.splice(e,1),!0},clear:function(){this.drawingElement.clear(),this.children=[],this._childrenChange=!0},toFront:function(t){for(var e,i=0;i<t.length;i++)e=t[i],this._remove(e)&&this.append(e)},toBack:function(t){this._reorderChildren(t,0)},toIndex:function(t,e){this._reorderChildren(t,e)},_reorderChildren:function(t,e){var i,n,o,r,a,s=this.drawingElement,l=s.children.slice(0),c=this.children,h=u(e);for(i=0;i<t.length;i++)a=t[i],r=a.drawingContainer(),(n=g(a,c))>=0&&(l.splice(n,1),c.splice(n,1),o=h?e:e[i],l.splice(o,0,r),c.splice(o,0,a));s.clear(),s.append.apply(s,l)},redraw:function(t){t&&(this._childrenChange?(this._childrenChange=!1,this._updateSize(t)||this._initSize()):this._updateSize(t),C.fn.redraw.call(this,t))},_boundingBox:function(){for(var t,e,i,n=this.children,o=0;o<n.length;o++)(e=n[o]).visible()&&!1!==e._includeInBBox&&(i=e.drawingContainer().clippedBBox(null))&&(t=t?f.Rect.union(t,i):i);return t}});r(L.fn,S);var F=L.extend({init:function(t,e){this.children=[],C.fn.init.call(this,e),this.drawingElement=new p.Layout(W(t),e),this._initSize()},rect:function(t){if(t)this.drawingElement.rect(W(t));else{var e=this.drawingElement.rect();if(e)return new s(e.origin.x,e.origin.y,e.size.width,e.size.height)}},reflow:function(){this.drawingElement.reflow()},redraw:function(t){i.deepExtend(this.drawingElement.options,t),L.fn.redraw.call(this,t)}}),N=A.extend({init:function(t){A.fn.init.call(this,t),this._initCircle(),this._initSize()},redraw:function(t){if(t){var e=this.options;t.center&&(r(e,{center:t.center}),this._center.move(e.center.x,e.center.y)),this._diffNumericOptions(t,["radius"])&&this._circle.setRadius(e.radius),this._updateSize(t),A.fn.redraw.call(this,t)}},_initCircle:function(){var t=this.options,e=t.width,i=t.height,n=t.radius;m(n)||(m(e)||(e=i),m(i)||(i=e),t.radius=n=Math.min(e,i)/2);var o=t.center||{x:n,y:n};this._center=new f.Point(o.x,o.y),this._circle=new f.Circle(this._center,n),this.drawingElement=new p.Circle(this._circle,{stroke:t.stroke}),this._fill()}});r(N.fn,S);var B=o.extend({init:function(t,e){e=e||{},this.element=t,this.surface=p.Surface.create(t,e),i.isFunction(this.surface.translate)&&(this.translate=this._translate),this.drawingElement=new p.Group,this._viewBox=new s(0,0,e.width,e.height),this.size(this._viewBox)},bounds:function(){var t=this.drawingElement.clippedBBox();return new s(0,0,t.width(),t.height())},size:function(t){var e=this._viewBox;return m(t)&&(e.width=t.width,e.height=t.height,this.surface.setSize(t)),{width:e.width,height:e.height}},_translate:function(t,e){var i=this._viewBox;return m(t)&&m(e)&&(i.x=t,i.y=e,this.surface.translate({x:t,y:e})),{x:i.x,y:i.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(t){return this.drawingElement.append(t.drawingContainer()),this},remove:function(t){this.drawingElement.remove(t.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(e){this.surface.destroy(),e&&t(this.element).remove()}});function q(t){return{x:t.x||0,y:t.y||0,width:t.width||0,height:t.height||0}}function V(t){if(t){var e=t;return h(e)&&(e={color:e}),e.color&&(e.color=H(e.color)),e}}function H(t){return t!=v?new p.Color(t).toHex():t}function U(t,e){return new p.Segment(new f.Point(t,e))}function W(t){if(t)return new f.Rect([t.x,t.y],[t.width,t.height])}i.deepExtend(n,{init:function(t){i.init(t,n.ui)},diffNumericOptions:k,Element:C,Scale:y,Translation:w,Rotation:_,Circle:N,Group:L,Rectangle:j,Canvas:B,Path:D,Layout:F,Line:O,MarkerBase:M,ArrowMarker:E,CircleMarker:z,Polyline:P,CompositeTransform:x,TextBlock:T,Image:R,VisualBase:A})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[i(24),r],a="function"==typeof(c=function(){!function(t,e){var i=window.kendo,n=i.dataviz,o=n.diagram,r=i.Class,a=o.Group,s=o.Rect,l=o.Rectangle,c=o.Utils,u=c.isUndefined,h=o.Point,d=o.Circle,f=o.Ticker,p=i.deepExtend,m=i.ui.Movable,g=i.support.browser,v=i.drawing.util,b=v.defined,k=t.inArray,y=t.proxy,w={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},_=10,x={"-1":"source",1:"target"};o.Cursors=w;var S=i.Class.extend({init:function(t){this.layoutState=t,this.diagram=t.diagram},initState:function(){this.froms=[],this.tos=[],this.subjects=[],this.layoutState.nodeMap.forEach(function(t,e){var i=this.diagram.getShapeById(t);i&&(this.subjects.push(i),this.froms.push(i.bounds().topLeft()),this.tos.push(e.topLeft()))},this)},update:function(t){if(!(this.subjects.length<=0))for(var e=0;e<this.subjects.length;e++)this.subjects[e].position(new h(this.froms[e].x+(this.tos[e].x-this.froms[e].x)*t,this.froms[e].y+(this.tos[e].y-this.froms[e].y)*t))}}),C=r.extend({init:function(t,e,i){u(i)?this.animate=!1:this.animate=i,this._initialState=t,this._finalState=e,this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(t){var e=t.diagram;if(this.animate){t.linkMap.forEach(function(t,i){var n=e.getShapeById(t);n.visible(!1),n&&n.points(i)});var i=new f;i.addAdapter(new S(t)),i.onComplete(function(){t.linkMap.forEach(function(t){var i=e.getShapeById(t);i.visible(!0)})}),i.play()}else t.nodeMap.forEach(function(t,i){var n=e.getShapeById(t);n&&n.position(i.topLeft())}),t.linkMap.forEach(function(t,i){var n=e.getShapeById(t);n&&n.points(i)})}}),A=r.extend({init:function(t){this.units=[],this.title="Composite unit",void 0!==t&&this.units.push(t)},add:function(t){this.units.push(t)},undo:function(){for(var t=0;t<this.units.length;t++)this.units[t].undo()},redo:function(){for(var t=0;t<this.units.length;t++)this.units[t].redo()}}),T=r.extend({init:function(t,e,i){this.item=t,this._redoSource=e,this._redoTarget=i,b(e)&&(this._undoSource=t.source()),b(i)&&(this._undoTarget=t.target()),this.title="Connection Editing"},undo:function(){void 0!==this._undoSource&&this.item._updateConnector(this._undoSource,"source"),void 0!==this._undoTarget&&this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel()},redo:function(){void 0!==this._redoSource&&this.item._updateConnector(this._redoSource,"source"),void 0!==this._redoTarget&&this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel()}}),j=r.extend({init:function(t,e,i){this.item=t,this._undoSource=e,this._undoTarget=i,this._redoSource=t.source(),this._redoTarget=t.target(),this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source"),this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source"),this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel()}}),M=r.extend({init:function(t){this.connection=t,this.diagram=t.diagram,this.targetConnector=t.targetConnector,this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,!1)},redo:function(){this.diagram.remove(this.connection,!1)}}),z=r.extend({init:function(t){this.shape=t,this.diagram=t.diagram,this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,!1),this.shape.select(!1)},redo:function(){this.shape.select(!1),this.diagram.remove(this.shape,!1)}}),E=r.extend({init:function(t,e,i){this.shapes=t,this.undoStates=e,this.title="Transformation",this.redoStates=[],this.adorner=i;for(var n=0;n<this.shapes.length;n++){var o=this.shapes[n];this.redoStates.push(o.bounds())}},undo:function(){for(var t=0;t<this.shapes.length;t++){var e=this.shapes[t];e.bounds(this.undoStates[t]),e.hasOwnProperty("layout")&&e.layout(e,this.redoStates[t],this.undoStates[t]),e.updateModel()}this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())},redo:function(){for(var t=0;t<this.shapes.length;t++){var e=this.shapes[t];e.bounds(this.redoStates[t]),e.hasOwnProperty("layout")&&e.layout(e,this.undoStates[t],this.redoStates[t]),e.updateModel()}this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())}}),I=r.extend({init:function(t,e){this.connection=t,this.diagram=e,this.title="New connection"},undo:function(){this.diagram.remove(this.connection,!1)},redo:function(){this.diagram._addConnection(this.connection,!1)}}),D=r.extend({init:function(t,e){this.shape=t,this.diagram=e,this.title="New shape"},undo:function(){this.diagram.deselect(),this.diagram.remove(this.shape,!1)},redo:function(){this.diagram._addShape(this.shape,!1)}}),O=r.extend({init:function(t,e,i){this.initial=t,this.finalPos=e,this.diagram=i,this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}}),P=r.extend({init:function(t,e,i){this.shapes=e,this.undoRotates=i,this.title="Rotation",this.redoRotates=[],this.redoAngle=t._angle,this.adorner=t,this.center=t._innerBounds.center();for(var n=0;n<this.shapes.length;n++){var o=this.shapes[n];this.redoRotates.push(o.rotate().angle)}},undo:function(){var t,e;for(t=0;t<this.shapes.length;t++)(e=this.shapes[t]).rotate(this.undoRotates[t],this.center,!1),e.hasOwnProperty("layout")&&e.layout(e),e.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())},redo:function(){var t,e;for(t=0;t<this.shapes.length;t++)(e=this.shapes[t]).rotate(this.redoRotates[t],this.center,!1),e.hasOwnProperty("layout")&&e.layout(e),e.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())}}),R=r.extend({init:function(t,e,i){this.diagram=t,this.indices=i,this.items=e,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,!1)}}),L=r.extend({init:function(t,e,i){this.diagram=t,this.indices=i,this.items=e,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,!1)}}),F=i.Observable.extend({init:function(t){i.Observable.fn.init.call(this,t),this.bind(this.events,t),this.stack=[],this.index=0,this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new A},cancel:function(){this.composite=void 0},commit:function(t){this.composite.units.length>0&&this._restart(this.composite,t),this.composite=void 0},addCompositeItem:function(t){this.composite?this.composite.add(t):this.add(t)},add:function(t,e){this._restart(t,e)},pop:function(){this.index>0&&(this.stack.pop(),this.index--)},count:function(){return this.stack.length},undo:function(){this.index>0&&(this.index--,this.stack[this.index].undo(),this.trigger("undone"))},redo:function(){this.stack.length>0&&this.index<this.stack.length&&(this.stack[this.index].redo(),this.index++,this.trigger("redone"))},_restart:function(t,e){this.stack.splice(this.index,this.stack.length-this.index),this.stack.push(t),!1!==e?this.redo():this.index++,this.stack.length>this.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity)},clear:function(){this.stack=[],this.index=0}}),N=r.extend({init:function(t){this.toolService=t},start:function(){},move:function(){},end:function(){},tryActivate:function(){return!1},getCursor:function(){return w.arrow}}),B=N.extend({init:function(e){var n=i.support.mobileOS?.93:.9;N.fn.init.call(this,e);var o=this.toolService.diagram,r=o.canvas,a=o.scroller=this.scroller=t(o.scrollable).kendoMobileScroller({friction:n,velocityMultiplier:5,mousewheelScrolling:!1,zoom:!1,scroll:y(this._move,this)}).data("kendoMobileScroller");r.translate&&(this.movableCanvas=new m(r.element));var s=function(t,e,i){t.makeVirtual(),t.virtualSize(e||-2e4,i||2e4)};s(a.dimensions.x),s(a.dimensions.y),a.disable()},tryActivate:function(t,e){var i=this.toolService,n=i.diagram.options.pannable,o=e.ctrlKey;return b(n.key)&&(o=n.key&&"none"!=n.key?e[n.key+"Key"]:ot(e)&&!b(i.hoveredItem)),!1!==n&&o&&!b(i.hoveredAdorner)&&!b(i._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(t){var e=this.toolService.diagram,i=e.canvas,n=new h(t.scrollLeft,t.scrollTop);i.translate?(e._storePan(n.times(-1)),this.movableCanvas.moveTo(n),i.translate(n.x,n.y)):n=n.plus(e._pan.times(-1)),e.trigger("pan",{pan:n})},end:function(){this.scroller.disable()},getCursor:function(){return w.move}}),q=r.extend({init:function(t){this.toolService=t},tryActivate:function(){return!0},start:function(t,e){var i=this.toolService,n=i.diagram,o=i.hoveredItem;o&&(i.selectSingle(o,e),o.adorner&&(this.adorner=o.adorner,this.handle=this.adorner._hitTest(t))),this.handle||(this.handle=n._resizingAdorner._hitTest(t),this.handle&&(this.adorner=n._resizingAdorner)),this.adorner&&(this.adorner.isDragHandle(this.handle)&&n.trigger("dragStart",{shapes:this.adorner.shapes,connections:[]})?(i.startPoint=t,i.end(t)):this.adorner.start(t))},move:function(t){this.adorner&&(this.adorner.move(this.handle,t),this.adorner.isDragHandle(this.handle)&&this.toolService.diagram.trigger("drag",{shapes:this.adorner.shapes,connections:[]}))},end:function(){var t,e=this.toolService.diagram,i=this.adorner;i&&(i.isDragHandle(this.handle)&&e.trigger("dragEnd",{shapes:i.shapes,connections:[]})?i.cancel():(t=i.stop())&&e.undoRedoService.add(t,!1)),this.adorner=void 0,this.handle=void 0},getCursor:function(t){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(t):w.arrow}}),V=r.extend({init:function(t){this.toolService=t},tryActivate:function(t,e){var i=this.toolService,n=i.diagram.options.selectable,o=n&&!1!==n.multiple;return o&&(o=n.key&&"none"!=n.key?e[n.key+"Key"]:ot(e)),o&&!b(i.hoveredItem)&&!b(i.hoveredAdorner)},start:function(t){var e=this.toolService.diagram;e.deselect(),e.selector.start(t)},move:function(t){var e=this.toolService.diagram;e.selector.move(t)},end:function(t,e){var i=this.toolService.diagram,n=this.toolService.hoveredItem,o=i.selector.bounds();n&&n.isSelected||e.ctrlKey||i.deselect(),o.isEmpty()||i.selectArea(o),i.selector.end()},getCursor:function(){return w.arrow}}),H=r.extend({init:function(t){this.toolService=t,this.type="ConnectionTool"},tryActivate:function(){return this.toolService._hoveredConnector},start:function(t,e){var i=this.toolService,n=i.diagram,o=i._hoveredConnector,r=n._createConnection({},o._c,t);nt(r)&&!n.trigger("dragStart",{shapes:[],connections:[r],connectionHandle:"target"})&&n._addConnection(r)?(i._connectionManipulation(r,o._c.shape,!0),i._removeHover(),i.selectSingle(i.activeConnection,e),"touchmove"==e.type&&(n._cachedTouchTarget=o.visual)):(r.source(null),i.end(t))},move:function(t){var e=this.toolService,i=e.activeConnection;return i.target(t),e.diagram.trigger("drag",{shapes:[],connections:[i],connectionHandle:"target"}),!0},end:function(t){var e,i=this.toolService,n=i.diagram,r=i.activeConnection,a=i.hoveredItem,s=i._hoveredConnector,l=n._cachedTouchTarget;r&&(e=s&&s._c!=r.sourceConnector?s._c:a&&a instanceof o.Shape?a.getConnector("Auto")||a.getConnector(t):t,r.target(e),n.trigger("dragEnd",{shapes:[],connections:[r],connectionHandle:"target"})?(n.remove(r,!1),n.undoRedoService.pop()):(r.updateModel(),n._syncConnectionChanges()),i._connectionManipulation(),l&&(n._connectorsAdorner.visual.remove(l),n._cachedTouchTarget=null))},getCursor:function(){return w.arrow}}),U=r.extend({init:function(t){this.toolService=t,this.type="ConnectionTool"},tryActivate:function(t,e){var i=this.toolService,n=i.diagram,o=n.options.selectable,r=i.hoveredItem,a=!1!==o&&r&&r.path&&!(r.isSelected&&e.ctrlKey);return a&&(this._c=r),a},start:function(t,e){var i=this.toolService,n=this._c;i.selectSingle(n,e);var o,r,a=n.adorner;a&&(o=a._hitTest(t),r=x[o]),nt(n)&&a&&!i.diagram.trigger("dragStart",{shapes:[],connections:[n],connectionHandle:r})?(this.handle=o,this.handleName=r,a.start(t)):(i.startPoint=t,i.end(t))},move:function(t){var e=this._c.adorner;if(nt(this._c)&&e)return e.move(this.handle,t),this.toolService.diagram.trigger("drag",{shapes:[],connections:[this._c],connectionHandle:this.handleName}),!0},end:function(t){var e=this._c,i=e.adorner,n=this.toolService,o=n.diagram;if(i&&nt(e)){var r=i.stop(t);o.trigger("dragEnd",{shapes:[],connections:[e],connectionHandle:this.handleName})?r.undo():(o.undoRedoService.add(r,!1),e.updateModel(),o._syncConnectionChanges())}},getCursor:function(){return w.move}});function W(t,e){return e.charCodeAt(0)==t||e.toUpperCase().charCodeAt(0)==t}var G=r.extend({init:function(t){this.diagram=t,this.tools=[new B(this),new U(this),new H(this),new V(this),new q(this)],this.activeTool=void 0},start:function(t,e){return e=p({},e),this.activeTool&&this.activeTool.end(t,e),this._updateHoveredItem(t),this._activateTool(t,e),this.activeTool.start(t,e),this._updateCursor(t),this.diagram.focus(),this.diagram.canvas.surface.suspendTracking(),this.startPoint=t,!0},move:function(t,e){e=p({},e);var i=!0;return this.activeTool&&(i=this.activeTool.move(t,e)),i&&this._updateHoveredItem(t),this._updateCursor(t),!0},end:function(t,e){return e=p({},e),this.activeTool&&this.activeTool.end(t,e),this.diagram.canvas.surface.resumeTracking(),this.activeTool=void 0,this._updateCursor(t),!0},keyDown:function(t,e){var i=this.diagram;if(!(e=p({ctrlKey:!1,metaKey:!1,altKey:!1},e)).ctrlKey&&!e.metaKey||e.altKey){if(46===t||8===t){var n=this.diagram._triggerRemove(i.select());return n.length&&(this.diagram.remove(n,!0),this.diagram._syncChanges(),this.diagram._destroyToolBar()),!0}if(27===t)return this._discardNewConnection(),i.deselect(),i._destroyToolBar(),!0}else{if(W(t,"a"))return i.selectAll(),i._destroyToolBar(),!0;if(W(t,"z"))return i.undo(),i._destroyToolBar(),!0;if(W(t,"y"))return i.redo(),i._destroyToolBar(),!0;W(t,"c")?(i.copy(),i._destroyToolBar()):W(t,"x")?(i.cut(),i._destroyToolBar()):W(t,"v")?(i.paste(),i._destroyToolBar()):W(t,"l")?(i.layout(),i._destroyToolBar()):W(t,"d")&&(i._destroyToolBar(),i.copy(),i.paste())}},wheel:function(t,e){var n=this.diagram,o=e.delta,r=n.zoom(),a=n.options,s=a.zoomRate,l={point:t,meta:e,zoom:r};if(!n.trigger("zoomStart",l))return o<0?r+=s:r-=s,r=i.dataviz.round(Math.max(a.zoomMin,Math.min(a.zoomMax,r)),2),l.zoom=r,n.zoom(r,l),n.trigger("zoomEnd",l),!0},setTool:function(t,e){t.toolService=this,this.tools[e]=t},selectSingle:function(t,e){var i=this.diagram,n=i.options.selectable;if(n&&!t.isSelected&&!1!==t.options.selectable){var o=e.ctrlKey&&!1!==n.multiple;i.select(t,{addToSelection:o})}},_discardNewConnection:function(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=void 0)},_activateTool:function(t,e){for(var i=0;i<this.tools.length;i++){var n=this.tools[i];if(n.tryActivate(t,e)){this.activeTool=n;break}}},_updateCursor:function(t){var e=this.diagram.element,i=this.activeTool?this.activeTool.getCursor(t):this.hoveredAdorner?this.hoveredAdorner._getCursor(t):this.hoveredItem?this.hoveredItem._getCursor(t):w.arrow;e.css({cursor:i}),g.msie&&7==g.version&&(e[0].style.cssText=e[0].style.cssText)},_connectionManipulation:function(t,e,i){this.activeConnection=t,this.disabledShape=e,this.newConnection=i?this.activeConnection:void 0},_updateHoveredItem:function(t){var e=this._hitTest(t),i=this.diagram;e==this.hoveredItem||this.disabledShape&&e==this.disabledShape||(this.hoveredItem&&(i.trigger("mouseLeave",{item:this.hoveredItem}),this.hoveredItem._hover(!1)),e&&e.options.enable?(i.trigger("mouseEnter",{item:e}),this.hoveredItem=e,this.hoveredItem._hover(!0)):this.hoveredItem=void 0)},_removeHover:function(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=void 0)},_hitTest:function(t){var e,i,n,r=this.diagram;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=void 0),r._connectorsAdorner._visible&&(e=r._connectorsAdorner._hitTest(t)))return e;if(e=this.diagram._resizingAdorner._hitTest(t)){if(this.hoveredAdorner=r._resizingAdorner,0!==e.x||0!==e.y)return;e=void 0}else this.hoveredAdorner=void 0;if(!this.activeTool||"ConnectionTool"!==this.activeTool.type){var a=[];for(n=0;n<r._selectedItems.length;n++)(i=r._selectedItems[n])instanceof o.Connection&&a.push(i);e=this._hitTestItems(a,t)}return e||this._hitTestElements(t)},_hitTestElements:function(t){var e,i=this.diagram,n=this._hitTestItems(i.shapes,t),o=this._hitTestItems(i.connections,t);if((!this.activeTool||"ConnectionTool"!=this.activeTool.type)&&n&&o&&!function(t,e){for(var i,n,o,r=0;r<t.connectors.length;r++)if(i=t.connectors[r],n=i.position(),(o=new s(n.x,n.y)).inflate(_,_),o.contains(e))return i}(n,t)){var r=i.mainLayer,a=k(n.visual,r.children),l=k(o.visual,r.children);e=a>l?n:o}return e||n||o},_hitTestItems:function(t,e){var i,n,o;for(i=t.length-1;i>=0;i--)if(n=t[i],o=n._hitTest(e))return o}}),Q=i.Class.extend({init:function(){}}),Y=Q.extend({init:function(t){Q.fn.init.call(this),this.connection=t},hitTest:function(t){var e=this.getBounds().inflate(_);return!!e.contains(t)&&o.Geometry.distanceToPolyline(t,this.connection.allPoints())<_},getBounds:function(){for(var t=this.connection.allPoints(),e=t[0],i=t[t.length-1],n=Math.max(e.x,i.x),o=Math.min(e.x,i.x),r=Math.min(e.y,i.y),a=Math.max(e.y,i.y),l=1;l<t.length-1;++l)n=Math.max(n,t[l].x),o=Math.min(o,t[l].x),r=Math.min(r,t[l].y),a=Math.max(a,t[l].y);return new s(o,r,n-o,a-r)}}),K=Y.extend({init:function(t){Y.fn.init.call(this),this.connection=t},route:function(){}}),Z=Y.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(t){Y.fn.init.call(this),this.connection=t},routePoints:function(t,e,i,n){return i&&n?this._connectorPoints(t,e,i,n):this._floatingPoints(t,e,i)},route:function(){var t=this.connection._resolvedSourceConnector,e=this.connection._resolvedTargetConnector,i=this.connection.sourcePoint(),n=this.connection.targetPoint(),o=this.routePoints(i,n,t,e);this.connection.points(o)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(t,e){for(var i,n,o,r,a=t.position(),s=t.shape.bounds("rotated"),l={topLeft:s.topLeft(),bottomRight:s.bottomRight()},c=this._connectorSides,u=v.MAX_NUM,h=0;h<c.length;h++)r=c[h],o=r.axis,(i=Math.round(Math.abs(a[o]-l[r.boundsPoint][o])))<u?(u=i,n=r):i===u&&(a[o]-e[o])*r.secondarySign>(a[n.axis]-e[n.axis])*n.secondarySign&&(n=r);return n.name},_sameSideDistance:function(t){var e=t.shape.bounds("rotated");return Math.min(e.width,e.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(t,e,i,n){var o,r,a=this._connectorSide(i,e),s=this._connectorSide(n,t),l=e.x-t.x,c=e.y-t.y,u=this._sameSideDistance(i),d=[];return"Top"===a||"Bottom"==a?"Top"==s||"Bottom"==s?a==s?(r="Top"==a?Math.min(t.y,e.y)-u:Math.max(t.y,e.y)+u,d=[new h(t.x,r),new h(e.x,r)]):d=[new h(t.x,t.y+c/2),new h(e.x,t.y+c/2)]:d=[new h(t.x,e.y)]:"Left"==s||"Right"==s?a==s?(o="Left"==a?Math.min(t.x,e.x)-u:Math.max(t.x,e.x)+u,d=[new h(o,t.y),new h(o,e.y)]):d=[new h(t.x+l/2,t.y),new h(t.x+l/2,t.y+c)]:d=[new h(e.x,t.y)],d},_floatingPoints:function(t,e,i){for(var n,o,r=i?this._connectorSide(i,e):null,a=this._startHorizontal(t,e,r),s=[t,t,e,e],l=e.x-t.x,c=e.y-t.y,u=s.length,d=1;d<u-1;++d)a?d%2!=0?(n=l/(u/2),o=0):(n=0,o=c/((u-1)/2)):d%2!=0?(n=0,o=c/(u/2)):(n=l/((u-1)/2),o=0),s[d]=new h(s[d-1].x+n,s[d-1].y+o);return d--,s[u-2]=a&&d%2!=0||!a&&d%2==0?new h(s[u-1].x,s[u-2].y):new h(s[u-2].x,s[u-1].y),[s[1],s[2]]},_startHorizontal:function(t,e,i){return null!==i&&("Right"===i||"Left"===i)||Math.abs(t.x-e.x)>Math.abs(t.y-e.y)}}),X=r.extend({init:function(t,e){this.diagram=t,this.options=p({},this.options,e),this.visual=new a,this.diagram._adorners.push(this)},refresh:function(){}}),J=X.extend({init:function(t,e){var i;this.connection=t,i=this.connection.diagram,this._ts=i.toolService,X.fn.init.call(this,i,e);var n=this.connection.sourcePoint(),o=this.connection.targetPoint();this.spVisual=new d(p(this.options.handles,{center:n})),this.epVisual=new d(p(this.options.handles,{center:o})),this.visual.append(this.spVisual),this.visual.append(this.epVisual)},options:{handles:{}},_getCursor:function(){return w.move},start:function(t){switch(this.handle=this._hitTest(t),this.startPoint=t,this._initialSource=this.connection.source(),this._initialTarget=this.connection.target(),this.handle){case-1:this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}},move:function(t,e){switch(t){case-1:this.connection.source(e);break;case 1:this.connection.target(e);break;default:var i=e.minus(this.startPoint);this.startPoint=e,this.connection.sourceConnector||this.connection.source(this.connection.sourcePoint().plus(i)),this.connection.targetConnector||this.connection.target(this.connection.targetPoint().plus(i))}return this.refresh(),!0},stop:function(t){var e,i=this.diagram.toolService,n=i.hoveredItem;return e=i._hoveredConnector?i._hoveredConnector._c:n&&n instanceof o.Shape?n.getConnector("Auto")||n.getConnector(t):t,-1===this.handle?this.connection.source(e):1===this.handle&&this.connection.target(e),this.handle=void 0,this._ts._connectionManipulation(),new j(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(t){var e=this.connection.sourcePoint(),i=this.connection.targetPoint(),n=this.options.handles.width/2+_,o=this.options.handles.height/2+_,r=e.distanceTo(t),a=i.distanceTo(t),l=new s(e.x,e.y).inflate(n,o).contains(t),c=new s(i.x,i.y).inflate(n,o).contains(t),u=0;return l&&(!c||r<a)?u=-1:c&&(!l||a<r)&&(u=1),u},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())}),this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}}),$=X.extend({init:function(t,e){var i=this;X.fn.init.call(i,t,e),i._refreshHandler=function(t){t.item==i.shape&&i.refresh()}},show:function(t){var e,i,n;for(this._visible=!0,this.shape=t,this.diagram.bind("itemBoundsChange",this._refreshHandler),e=t.connectors.length,this.connectors=[],this._clearVisual(),i=0;i<e;i++)n=new it(t.connectors[i]),this.connectors.push(n),this.visual.append(n.visual);this.visual.visible(!0),this.refresh()},_clearVisual:function(){this.diagram._cachedTouchTarget?this._keepCachedTouchTarget():this.visual.clear()},_keepCachedTouchTarget:function(){for(var t=this.visual.children,e=t.length,i=k(this.diagram._cachedTouchTarget,t),n=e-1;n>=0;n--)n!=i&&this.visual.remove(t[n])},destroy:function(){this.diagram.unbind("itemBoundsChange",this._refreshHandler),this.shape=void 0,this._visible=void 0,this.visual.visible(!1)},_hitTest:function(t){var e,i;for(i=0;i<this.connectors.length;i++)if((e=this.connectors[i])._hitTest(t)){e._hover(!0),this.diagram.toolService._hoveredConnector=e;break}},refresh:function(){if(this.shape){var e=this.shape.bounds();e=this.diagram.modelToLayer(e),this.visual.position(e.topLeft()),t.each(this.connectors,function(){this.refresh()})}}}),tt=X.extend({init:function(t,e){var i=this;X.fn.init.call(i,t,e),i._manipulating=!1,i.map=[],i.shapes=[],i._initSelection(),i._createHandles(),i.redraw(),i.diagram.bind("select",function(t){i._initialize(t.selected)}),i._refreshHandler=function(){i._internalChange||(i.refreshBounds(),i.refresh())},i._rotatedHandler=function(){1==i.shapes.length&&(i._angle=i.shapes[0].rotate().angle),i._refreshHandler()},i.diagram.bind("itemBoundsChange",i._refreshHandler).bind("itemRotate",i._rotatedHandler),i.refreshBounds(),i.refresh()},options:{handles:{fill:{color:"#fff"},stroke:{color:"#282828"},height:7,width:7,hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:"transparent"}},offset:10},_initSelection:function(){var t=this.diagram,e=t.options.selectable,i=p({},this.options.selectable,e);this.rect=new l(i),this.visual.append(this.rect)},_resizable:function(){return this.options.editable&&!1!==this.options.editable.resize},_handleOptions:function(){return(this.options.editable.resize||{}).handles||this.options.handles},_createHandles:function(){var t,e,i,n;if(this._resizable())for(t=this._handleOptions(),n=-1;n<=1;n++)for(i=-1;i<=1;i++)0===n&&0===i||((e=new l(t)).drawingElement._hover=y(this._hover,this),this.map.push({x:n,y:i,visual:e}),this.visual.append(e))},bounds:function(t){if(!t)return this._bounds;this._innerBounds=t.clone(),this._bounds=this.diagram.modelToLayer(t).inflate(this.options.offset,this.options.offset)},_hitTest:function(t){var e,i,n,o,r=this.diagram.modelToLayer(t),a=this.map.length;if(this._angle&&(r=r.clone().rotate(this._bounds.center(),this._angle)),this._resizable())for(e=0;e<a;e++)if(o=this.map[e],i=new h(o.x,o.y),(n=this._getHandleBounds(i)).offset(this._bounds.x,this._bounds.y),n.contains(r))return i;if(this._bounds.contains(r))return new h(0,0)},_getHandleBounds:function(t){if(this._resizable()){var e=this._handleOptions(),i=e.width,n=e.height,o=new s(0,0,i,n);return t.x<0?o.x=-i/2:0===t.x?o.x=Math.floor(this._bounds.width/2)-i/2:t.x>0&&(o.x=this._bounds.width+1-i/2),t.y<0?o.y=-n/2:0===t.y?o.y=Math.floor(this._bounds.height/2)-n/2:t.y>0&&(o.y=this._bounds.height+1-n/2),o}},_getCursor:function(t){var e=this._hitTest(t);if(e&&e.x>=-1&&e.x<=1&&e.y>=-1&&e.y<=1&&this._resizable()){var i=this._angle;if(i&&(i=360-i,e.rotate(new h(0,0),i),e=new h(Math.round(e.x),Math.round(e.y))),-1==e.x&&-1==e.y)return"nw-resize";if(1==e.x&&1==e.y)return"se-resize";if(-1==e.x&&1==e.y)return"sw-resize";if(1==e.x&&-1==e.y)return"ne-resize";if(0===e.x&&-1==e.y)return"n-resize";if(0===e.x&&1==e.y)return"s-resize";if(1==e.x&&0===e.y)return"e-resize";if(-1==e.x&&0===e.y)return"w-resize"}return this._manipulating?w.move:w.select},_initialize:function(){var t,e,i=this.diagram.select();for(this.shapes=[],t=0;t<i.length;t++)(e=i[t])instanceof o.Shape&&(this.shapes.push(e),e._rotationOffset=new h);this._angle=1==this.shapes.length?this.shapes[0].rotate().angle:0,this._startAngle=this._angle,this._rotates(),this._positions(),this.refreshBounds(),this.refresh(),this.redraw()},_rotates:function(){var t,e;for(this.initialRotates=[],t=0;t<this.shapes.length;t++)e=this.shapes[t],this.initialRotates.push(e.rotate().angle)},_positions:function(){var t,e;for(this.initialStates=[],t=0;t<this.shapes.length;t++)e=this.shapes[t],this.initialStates.push(e.bounds())},_hover:function(t,e){if(this._resizable()){var i=this._handleOptions(),n=i.hover,o=i.stroke,r=i.fill;t&&c.isDefined(n.stroke)&&(o=p({},o,n.stroke)),t&&c.isDefined(n.fill)&&(r=n.fill),e.stroke(o.color,o.width,o.opacity),e.fill(r.color,r.opacity)}},start:function(t){this._sp=t,this._cp=t,this._lp=t,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[];for(var e=0;e<this.shapes.length;e++){var i=this.shapes[e];this.shapeStates.push(i.bounds())}},redraw:function(){var t,e=this._resizable();for(t=0;t<this.map.length;t++)this.map[t].visual.visible(e)},angle:function(t){return b(t)&&(this._angle=t),this._angle},rotate:function(){var t=this._innerBounds.center(),e=this.angle();this._internalChange=!0;for(var i=0;i<this.shapes.length;i++){var n=this.shapes[i];e=(e+this.initialRotates[i]-this._startAngle)%360,n.rotate(e,t)}this.refresh()},move:function(t,e){var i,n,o,r,a,l,u,d,f,p,m,g=new h,v=new h,b=0;if(-2===t.y&&-1===t.x){for(r=this._innerBounds.center(),this._angle=this._truncateAngle(c.findAngle(r,e)),l=0;l<this.shapes.length;l++)a=this.shapes[l],u=(this._angle+this.initialRotates[l]-this._startAngle)%360,a.rotate(u,r),a.hasOwnProperty("layout")&&a.layout(a),this._rotating=!0;this.refresh()}else{if(this.shouldSnap()){var k=this._truncateDistance(e.minus(this._lp));if(0===k.x&&0===k.y)return void(this._cp=e);i=k,this._lp=new h(this._lp.x+k.x,this._lp.y+k.y)}else i=e.minus(this._cp);for(this.isDragHandle(t)?(v=g=i,n=!0):(this._angle&&i.rotate(new h(0,0),this._angle),-1==t.x?g.x=i.x:1==t.x&&(v.x=i.x),-1==t.y?g.y=i.y:1==t.y&&(v.y=i.y)),n||(f=function(t,e){var i;return-1==t.x&&-1==t.y?i=e.bottomRight():1==t.x&&1==t.y?i=e.topLeft():-1==t.x&&1==t.y?i=e.topRight():1==t.x&&-1==t.y?i=e.bottomLeft():0===t.x&&-1==t.y?i=e.bottom():0===t.x&&1==t.y?i=e.top():1==t.x&&0===t.y?i=e.left():-1==t.x&&0===t.y&&(i=e.right()),i}(t,this._innerBounds),p=(this._innerBounds.width+i.x*t.x)/this._innerBounds.width,m=(this._innerBounds.height+i.y*t.y)/this._innerBounds.height),l=0;l<this.shapes.length;l++){if(a=this.shapes[l],o=a.bounds(),n){if(!nt(a))continue;d=this._displaceBounds(o,g,v,n)}else{(d=o.clone()).scale(p,m,f,this._innerBounds.center(),a.rotate().angle);var y=d.center();y.rotate(o.center(),-this._angle),d=new s(y.x-d.width/2,y.y-d.height/2,d.width,d.height)}if(d.width>=a.options.minWidth&&d.height>=a.options.minHeight){var w=o;a.bounds(d),a.hasOwnProperty("layout")&&a.layout(a,w,d),w.width===d.width&&w.height===d.height||a.rotate(a.rotate().angle),b+=1}}b&&(b==l?(d=this._displaceBounds(this._innerBounds,g,v,n),this.bounds(d)):this.refreshBounds(),this.refresh()),this._positions()}this._cp=e},isDragHandle:function(t){return 0===t.x&&0===t.y},cancel:function(){for(var t=this.shapes,e=this.shapeStates,i=0;i<t.length;i++)t[i].bounds(e[i]);this.refreshBounds(),this.refresh(),this._manipulating=void 0,this._internalChange=void 0,this._rotating=void 0},_truncatePositionToGuides:function(t){return this.diagram.ruler?this.diagram.ruler.truncatePositionToGuides(t):t},_truncateSizeToGuides:function(t){return this.diagram.ruler?this.diagram.ruler.truncateSizeToGuides(t):t},_truncateAngle:function(t){var e=this.snapOptions(),i=Math.max(e.angle||10,5);return e?Math.floor(t%360/i)*i:t%360},_truncateDistance:function(t){if(t instanceof o.Point)return new o.Point(this._truncateDistance(t.x),this._truncateDistance(t.y));var e=this.snapOptions()||{},i=Math.max(e.size||10,5);return e?Math.floor(t/i)*i:t},snapOptions:function(){var t=this.diagram.options.editable,e=((t||{}).drag||{}).snap||{};return e},shouldSnap:function(){var t=this.diagram.options.editable,e=(t||{}).drag,i=(e||{}).snap;return!1!==t&&!1!==e&&!1!==i},_displaceBounds:function(t,e,i,n){var o,r=t.topLeft().plus(e),a=t.bottomRight().plus(i),l=s.fromPoints(r,a);return n||((o=l.center()).rotate(t.center(),-this._angle),l=new s(o.x-l.width/2,o.y-l.height/2,l.width,l.height)),l},stop:function(){var t,e,i;if(this._cp!=this._sp)if(this._rotating)t=new P(this,this.shapes,this.initialRotates),this._rotating=!1;else if(this._diffStates()){if(this.diagram.ruler)for(e=0;e<this.shapes.length;e++){var n=(i=this.shapes[e]).bounds();n=this._truncateSizeToGuides(this._truncatePositionToGuides(n)),i.bounds(n),this.refreshBounds(),this.refresh()}for(e=0;e<this.shapes.length;e++)(i=this.shapes[e]).updateModel();t=new E(this.shapes,this.shapeStates,this),this.diagram._syncShapeChanges()}return this._manipulating=void 0,this._internalChange=void 0,this._rotating=void 0,t},_diffStates:function(){for(var t=this.shapes,e=this.shapeStates,i=0;i<t.length;i++)if(!t[i].bounds().equals(e[i]))return!0;return!1},refreshBounds:function(){var t=1==this.shapes.length?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,!0);this.bounds(t)},refresh:function(){var e,i,n=this;if(this.shapes.length>0){i=this.bounds(),this.visual.visible(!0),this.visual.position(i.topLeft()),t.each(this.map,function(){e=n._getHandleBounds(new h(this.x,this.y)),this.visual.position(e.topLeft())}),this.visual.position(i.topLeft());var o=new h(i.width/2,i.height/2);if(this.visual.rotate(this._angle,o),this.rect.redraw({width:i.width,height:i.height}),this.rotationThumb){var r=this.options.editable.rotate.thumb;this._rotationThumbBounds=new s(i.center().x,i.y+r.y,0,0).inflate(r.width),this.rotationThumb.redraw({x:i.width/2-r.width/2})}}else this.visual.visible(!1)}}),et=r.extend({init:function(t){var e=t.options.selectable;this.options=p({},this.options,e),this.visual=new l(this.options),this.diagram=t},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:"transparent"}},start:function(t){this._sp=this._ep=t,this.refresh(),this.diagram._adorn(this,!0)},end:function(){this._sp=this._ep=void 0,this.diagram._adorn(this,!1)},bounds:function(t){return t&&(this._bounds=t),this._bounds},move:function(t){this._ep=t,this.refresh()},refresh:function(){if(this._sp){var t=s.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(s.fromPoints(this._sp,this._ep)),this.visual.position(t.topLeft()),this.visual.redraw({height:t.height+1,width:t.width+1})}}}),it=r.extend({init:function(t){this.options=p({},t.options),this._c=t,this.visual=new d(this.options),this.refresh()},_hover:function(t){var e=this.options,i=e.hover,n=e.stroke,o=e.fill;t&&c.isDefined(i.stroke)&&(n=p({},n,i.stroke)),t&&c.isDefined(i.fill)&&(o=i.fill),this.visual.redraw({stroke:n,fill:o})},refresh:function(){var t=this._c.shape.diagram.modelToView(this._c.position()),e=t.minus(this._c.shape.bounds("transformed").topLeft()),i=new s(t.x,t.y,0,0);i.inflate(this.options.width/2,this.options.height/2),this._visualBounds=i,this.visual.redraw({center:new h(e.x,e.y)})},_hitTest:function(t){var e=this._c.shape.diagram.modelToView(t);return this._visualBounds.contains(e)}});function nt(t){var e=t.options.editable;return e&&!1!==e.drag}function ot(t){return!1===t.ctrlKey&&!1===t.altKey&&!1===t.shiftKey}p(o,{CompositeUnit:A,TransformUnit:E,PanUndoUnit:O,AddShapeUnit:D,AddConnectionUnit:I,DeleteShapeUnit:z,DeleteConnectionUnit:M,ConnectionEditAdorner:J,ConnectionTool:H,ConnectorVisual:it,UndoRedoService:F,ResizingAdorner:tt,Selector:et,ToolService:G,ConnectorsAdorner:$,LayoutUndoUnit:C,ConnectionEditUnit:T,ToFrontUnit:R,ToBackUnit:L,ConnectionRouterBase:Q,PolylineRouter:K,CascadingRouter:Z,SelectionTool:V,ScrollerTool:B,PointerTool:q,ConnectionEditTool:U,RotateUnit:P})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[o],s="function"==typeof(c=function(){!function(t,e){var i=window.kendo,n=i.dataviz.diagram,o=n.Graph,r=n.Node,a=n.Link,s=i.deepExtend,l=n.Size,c=n.Rect,u=n.Dictionary,h=n.Set,d=n.Graph,f=n.Utils,p=n.Point,m=Math.PI/180,g=f.contains,v=t.grep,b=i.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:!1,limitToView:!1,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:!1,ignoreContainers:!0,layoutContainerChildren:!1,ignoreInvisible:!0,animateTransitions:!1},init:function(){},gridLayoutComponents:function(t){if(!t)throw"No components supplied.";f.forEach(t,function(t){t.calcBounds()}),t.sort(function(t,e){return e.bounds.width-t.bounds.width});for(var e,i=this.options.grid.width,n=this.options.grid.componentSpacingX,o=this.options.grid.componentSpacingY,r=0,a=this.options.grid.offsetX,s=this.options.grid.offsetY,l=a,c=s,u=[],h=[];t.length>0;){l>=i&&(l=a,c+=r+o,r=0);var d=t.pop();for(this.moveToOffset(d,new p(l,c)),e=0;e<d.nodes.length;e++)h.push(d.nodes[e]);for(e=0;e<d.links.length;e++)u.push(d.links[e]);var m=d.bounds,g=m.height;(g<=0||isNaN(g))&&(g=0);var v=m.width;(v<=0||isNaN(v))&&(v=0),g>=r&&(r=g),l+=v+n}return{nodes:h,links:u}},moveToOffset:function(t,e){var i,n,o=t.bounds,r=e.x-o.x,a=e.y-o.y;for(i=0;i<t.nodes.length;i++){var s=t.nodes[i],l=s.bounds();0===l.width&&0===l.height&&0===l.x&&0===l.y&&(l=new c(0,0,0,0)),l.x+=r,l.y+=a,s.bounds(l)}for(i=0;i<t.links.length;i++){var u=t.links[i];if(u.points){var h=[],d=u.points;for(n=0;n<d.length;n++){var f=d[n];f.x+=r,f.y+=a,h.push(f)}u.points=h}}return this.currentHorizontalOffset+=o.width+this.options.grid.offsetX,new p(r,a)},transferOptions:function(t){this.options=i.deepExtend({},this.defaultOptions),f.isUndefined(t)||(this.options=i.deepExtend(this.options,t||{}))}}),k=i.Class.extend({init:function(t){this.nodeMap=new u,this.shapeMap=new u,this.nodes=[],this.edges=[],this.edgeMap=new u,this.finalNodes=[],this.finalLinks=[],this.ignoredConnections=[],this.ignoredShapes=[],this.hyperMap=new u,this.hyperTree=new o,this.finalGraph=null,this.diagram=t},convert:function(t){if(f.isUndefined(this.diagram))throw"No diagram to convert.";return this.options=i.deepExtend({ignoreInvisible:!0,ignoreContainers:!0,layoutContainerChildren:!1},t||{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new u(this.nodes),this.finalLinks=new u(this.edges),this.finalGraph=new o,this.finalNodes.forEach(function(t){this.finalGraph.addNode(t)},this),this.finalLinks.forEach(function(t){this.finalGraph.addExistingLink(t)},this),this.finalGraph},mapConnection:function(t){return this.edgeMap.get(t.id)},mapShape:function(t){return this.nodeMap.get(t.id)},getEdge:function(t,e){return f.first(t.links,function(i){return i.getComplement(t)===e})},clear:function(){this.finalGraph=null,this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new d:null,this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new u:null,this.nodeMap=new u,this.shapeMap=new u,this.nodes=[],this.edges=[],this.edgeMap=new u,this.ignoredConnections=[],this.ignoredShapes=[],this.finalNodes=[],this.finalLinks=[]},listToRoot:function(t){var e=[],i=t.container;if(!i)return e;for(e.push(i);i.parentContainer;)i=i.parentContainer,e.push(i);return e.reverse(),e},firstNonIgnorableContainer:function(t){return t.isContainer&&!this._isIgnorableItem(t)?t:t.parentContainer?this.firstNonIgnorableContainer(t.parentContainer):null},isContainerConnection:function(t,e){return!(!t.isContainer||!this.isDescendantOf(t,e))||e.isContainer&&this.isDescendantOf(e,t)},isDescendantOf:function(t,e){if(!t.isContainer)throw"Expecting a container.";if(t===e)return!1;if(g(t.children,e))return!0;for(var i=[],n=0,o=t.children.length;n<o;n++){var r=t.children[n];r.isContainer&&this.isDescendantOf(r,e)&&i.push(r)}return i.length>0},isIgnorableItem:function(t){return this.options.ignoreInvisible?!(t.isCollapsed&&this._isVisible(t)||!t.isCollapsed&&this._isVisible(t)):t.isCollapsed&&!this._isTop(t)},isShapeMapped:function(t){return t.isCollapsed&&!this._isVisible(t)&&!this._isTop(t)},leastCommonAncestor:function(t,e){if(!t)throw"Parameter should not be null.";if(!e)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";var i=this.listToRoot(t),n=this.listToRoot(e),o=null;if(f.isEmpty(i)||f.isEmpty(n))return this.hyperTree.root.data;for(var r=i[0],a=n[0],s=0;r===a&&(o=i[s],!(++s>=i.length||s>=n.length));)r=i[s],a=n[s];return o?v(this.hyperTree.nodes,function(t){return t.data.container===o}):this.hyperTree.root.data},_isTop:function(t){return!t.parentContainer},_isVisible:function(t){return!!t.visible()&&(t.parentContainer?this._isVisible(t.parentContainer):t.visible())},_isCollapsed:function(t){return!(!t.isContainer||!t.isCollapsed)||t.parentContainer&&this._isCollapsed(t.parentContainer)},_renormalizeShapes:function(){if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";for(var t=0,e=this.diagram.shapes.length;t<e;t++){var i=this.diagram.shapes[t];if(this.options.ignoreInvisible&&!this._isVisible(i)||i.isContainer)this.ignoredShapes.push(i);else{var n=new r(i.id,i);n.isVirtual=!1,this.nodeMap.add(i.id,n),this.nodes.push(n)}}},_renormalizeConnections:function(){if(0!==this.diagram.connections.length)for(var t=0,e=this.diagram.connections.length;t<e;t++){var i=this.diagram.connections[t];if(this.isIgnorableItem(i))this.ignoredConnections.push(i);else{var n=i.sourceConnector?i.sourceConnector.shape:null,o=i.targetConnector?i.targetConnector.shape:null;if(n&&o)if(!g(this.ignoredShapes,n)||this.shapeMap.containsKey(n))if(!g(this.ignoredShapes,o)||this.shapeMap.containsKey(o)){this.shapeMap.containsKey(n)&&(n=this.shapeMap[n]),this.shapeMap.containsKey(o)&&(o=this.shapeMap[o]);var r=this.mapShape(n),s=this.mapShape(o);if(r===s||this.areConnectedAlready(r,s))this.ignoredConnections.push(i);else{if(null===r||null===s)throw"A shape was not mapped to a node.";if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";if(r.isVirtual||s.isVirtual)this.ignoredConnections.push(i);else{var l=new a(r,s,i.id,i);this.edgeMap.add(i.id,l),this.edges.push(l)}}}else this.ignoredConnections.push(i);else this.ignoredConnections.push(i);else this.ignoredConnections.push(i)}}},areConnectedAlready:function(t,e){return f.any(this.edges,function(i){return i.source===t&&i.target===e||i.source===e&&i.target===t})}}),y=b.extend({init:function(t){if(b.fn.init.call(this),f.isUndefined(t))throw"Diagram is not specified.";this.diagram=t},layout:function(t){this.transferOptions(t);var e=new k(this.diagram),i=e.convert(t);if(!i.isEmpty()){var o=i.getConnectedComponents();if(!f.isEmpty(o)){for(var r=0;r<o.length;r++){var a=o[r];this.layoutGraph(a,t)}var s=this.gridLayoutComponents(o);return new n.LayoutState(this.diagram,s)}}},layoutGraph:function(t,e){f.isDefined(e)&&this.transferOptions(e),this.graph=t;var i=9*this.options.nodeDistance;this.temperature=i;var n=this._expectedBounds();this.width=n.width,this.height=n.height;for(var o=0;o<this.options.iterations;o++)this.refineStage=o>=5*this.options.iterations/6,this.tick(),this.temperature=this.refineStage?i/30:i*(1-o/(2*this.options.iterations))},tick:function(){var t;for(t=0;t<this.graph.nodes.length;t++)this._repulsion(this.graph.nodes[t]);for(t=0;t<this.graph.links.length;t++)this._attraction(this.graph.links[t]);for(t=0;t<this.graph.nodes.length;t++){var e=this.graph.nodes[t],i=Math.sqrt(e.dx*e.dx+e.dy*e.dy);if(0===i)return;e.x+=Math.min(i,this.temperature)*e.dx/i,e.y+=Math.min(i,this.temperature)*e.dy/i,this.options.limitToView&&(e.x=Math.min(this.width,Math.max(e.width/2,e.x)),e.y=Math.min(this.height,Math.max(e.height/2,e.y)))}},_shake:function(t){var e=Math.random()*this.options.nodeDistance/4,i=2*Math.random()*Math.PI;t.x+=e*Math.cos(i),t.y-=e*Math.sin(i)},_InverseSquareForce:function(t,e,i){var n;if(this.refineStage){var o=e.x-i.x,r=e.y-i.y,a=e.width/2,s=e.height/2,l=i.width/2,c=i.height/2;n=Math.pow(o,2)/Math.pow(a+l+this.options.nodeDistance,2)+Math.pow(r,2)/Math.pow(s+c+this.options.nodeDistance,2)}else n=Math.pow(t,2)/Math.pow(this.options.nodeDistance,2);return 4*n/3},_SquareForce:function(t,e,i){return 1/this._InverseSquareForce(t,e,i)},_repulsion:function(t){t.dx=0,t.dy=0,f.forEach(this.graph.nodes,function(e){if(e!==t){for(;t.x===e.x&&t.y===e.y;)this._shake(e);var i=t.x-e.x,n=t.y-e.y,o=Math.sqrt(i*i+n*n),r=2*this._SquareForce(o,t,e);t.dx+=i/o*r,t.dy+=n/o*r}},this)},_attraction:function(t){var e=t.target,i=t.source;if(i!==e){for(;i.x===e.x&&i.y===e.y;)this._shake(e);var n=i.x-e.x,o=i.y-e.y,r=Math.sqrt(n*n+o*o),a=5*this._InverseSquareForce(r,i,e),s=n/r*a,l=o/r*a;e.dx+=s,e.dy+=l,i.dx-=s,i.dy-=l}},_expectedBounds:function(){var t,e=this.graph.nodes.length;if(0===e)return t;var i=(t=f.fold(this.graph.nodes,function(t,e){var i=e.width*e.height;return i>0?t+=Math.sqrt(i):0},0,this))/e,n=i*Math.ceil(Math.sqrt(e)),o=n*Math.sqrt(1.5),r=n/Math.sqrt(1.5);return{width:4*o,height:4*r}}}),w=i.Class.extend({init:function(t){this.center=null,this.options=t},layout:function(t,e){if(this.graph=t,this.graph.nodes&&0!==this.graph.nodes.length){if(!g(this.graph.nodes,e))throw"The given root is not in the graph.";this.center=e,this.graph.cacheRelationships(),this.layoutSwitch()}},layoutLeft:function(t){this.setChildrenDirection(this.center,"Left",!1),this.setChildrenLayout(this.center,"Default",!1);var e,i,n,o=0,r=0;for(i=0;i<t.length;i++){(n=t[i]).TreeDirection="Left";var a=this.measure(n,l.Empty);r=Math.max(r,a.Width),o+=a.height+this.options.verticalSeparation}o-=this.options.verticalSeparation;var s=this.center.x-this.options.horizontalSeparation;for(e=this.center.y+(this.center.height-o)/2,i=0;i<t.length;i++){n=t[i];var c=new p(s-n.Size.width,e);this.arrange(n,c),e+=n.Size.height+this.options.verticalSeparation}},layoutRight:function(t){this.setChildrenDirection(this.center,"Right",!1),this.setChildrenLayout(this.center,"Default",!1);var e,i,n,o=0,r=0;for(i=0;i<t.length;i++){(n=t[i]).TreeDirection="Right";var a=this.measure(n,l.Empty);r=Math.max(r,a.Width),o+=a.height+this.options.verticalSeparation}o-=this.options.verticalSeparation;var s=this.center.x+this.options.horizontalSeparation+this.center.width;for(e=this.center.y+(this.center.height-o)/2,i=0;i<t.length;i++){n=t[i];var c=new p(s,e);this.arrange(n,c),e+=n.Size.height+this.options.verticalSeparation}},layoutUp:function(t){this.setChildrenDirection(this.center,"Up",!1),this.setChildrenLayout(this.center,"Default",!1);var e,i,n,o=0;for(n=0;n<t.length;n++){(i=t[n]).TreeDirection="Up";var r=this.measure(i,l.Empty);o+=r.width+this.options.horizontalSeparation}o-=this.options.horizontalSeparation;var a=this.center.x+this.center.width/2-o/2;for(n=0;n<t.length;n++){i=t[n],e=this.center.y-this.options.verticalSeparation-i.Size.height;var s=new p(a,e);this.arrange(i,s),a+=i.Size.width+this.options.horizontalSeparation}},layoutDown:function(t){var e,i;this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1);var n,o=0;for(i=0;i<t.length;i++){(e=t[i]).treeDirection="Down";var r=this.measure(e,l.Empty);o+=r.width+this.options.horizontalSeparation}o-=this.options.horizontalSeparation;var a=this.center.x+this.center.width/2-o/2;for(n=this.center.y+this.options.verticalSeparation+this.center.height,i=0;i<t.length;i++){e=t[i];var s=new p(a,n);this.arrange(e,s),a+=e.Size.width+this.options.horizontalSeparation}},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",!1),this.setChildrenLayout(this.center,"Default",!1),this.previousRoot=null;var t=this.options.startRadialAngle*m,e=this.options.endRadialAngle*m;if(e<=t)throw"Final angle should not be less than the start angle.";this.maxDepth=0,this.origin=new p(this.center.x,this.center.y),this.calculateAngularWidth(this.center,0),this.maxDepth>0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,t,e),this.center.Angle=e-t},tipOverTree:function(t,e){f.isUndefined(e)&&(e=0),this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),this.setChildrenLayout(this.center,"Underneath",!1,e);var i,n,o,r=0;for(o=0;o<t.length;o++){(n=t[o]).TreeDirection="Down";var a=this.measure(n,l.Empty);r+=a.width+this.options.horizontalSeparation}r-=this.options.horizontalSeparation,r-=t[t.length-1].width,r+=t[t.length-1].associatedShape.bounds().width;var s=this.center.x+this.center.width/2-r/2;for(i=this.center.y+this.options.verticalSeparation+this.center.height,o=0;o<t.length;o++){n=t[o];var c=new p(s,i);this.arrange(n,c),s+=n.Size.width+this.options.horizontalSeparation}},calculateAngularWidth:function(t,e){e>this.maxDepth&&(this.maxDepth=e);var i=0,n=0===e?0:Math.sqrt(2e6)/e;if(t.children.length>0){for(var o=0,r=t.children.length;o<r;o++){var a=t.children[o];i+=this.calculateAngularWidth(a,e+1)}i=Math.max(n,i)}else i=n;return t.sectorAngle=i,i},sortChildren:function(t){var e,i=0;if(t.parents.length>1)throw"Node is not part of a tree.";var n=t.parents[0];if(n){var o=new p(n.x,n.y),r=new p(t.x,t.y);i=this.normalizeAngle(Math.atan2(o.y-r.y,o.x-r.x))}var a=t.children.length;if(0===a)return null;var s=[],l=[];for(e=0;e<a;++e){var c=t.children[e],u=new p(c.x,c.y);l[e]=e,s[e]=this.normalizeAngle(-i+Math.atan2(u.y-u.y,u.x-u.x))}f.bisort(s,l);var h=[],d=t.children;for(e=0;e<a;++e)h.push(d[l[e]]);return h},normalizeAngle:function(t){for(;t>2*Math.PI;)t-=2*Math.PI;for(;t<0;)t+=2*Math.PI;return t},radialLayout:function(t,e,i,n){for(var o=n-i,r=o/2,a=t.sectorAngle,s=0,l=this.sortChildren(t),c=0,u=l.length;c<u;c++){var h=l[c],d=h,f=d.sectorAngle/a;h.children.length>0&&this.radialLayout(h,e+this.options.radialSeparation,i+s*o,i+(s+f)*o),this.setPolarLocation(h,e,i+s*o+f*r),d.angle=f*o,s+=f}},setPolarLocation:function(t,e,i){t.x=this.origin.x+e*Math.cos(i),t.y=this.origin.y+e*Math.sin(i),t.BoundingRectangle=new c(t.x,t.y,t.width,t.height)},setChildrenDirection:function(t,e,i){var n=t.treeDirection;this.graph.depthFirstTraversal(t,function(t){t.treeDirection=e}),i||(t.treeDirection=n)},setChildrenLayout:function(t,e,i,n){f.isUndefined(n)&&(n=0);var o=t.childrenLayout;n>0?(this.graph.assignLevels(t),this.graph.depthFirstTraversal(t,function(t){t.level>=n+1&&(t.childrenLayout=e)})):(this.graph.depthFirstTraversal(t,function(t){t.childrenLayout=e}),i||(t.childrenLayout=o))},measure:function(t,e){var i,n=0,o=0,r=new l(0,0);if(!t)throw"";var a=t.associatedShape.bounds(),s=a.width,c=a.height;if(1!==t.parents.length)throw"Node not in a spanning tree.";var u=t.parents[0];if("Undefined"===t.treeDirection&&(t.treeDirection=u.treeDirection),f.isEmpty(t.children))r=new l(Math.abs(s)<1e-6?50:s,Math.abs(c)<1e-6?25:c);else if(1===t.children.length){switch(t.treeDirection){case"Radial":i=this.measure(t.children[0],e),n=s+this.options.radialSeparation*Math.cos(t.AngleToParent)+i.width,o=c+Math.abs(this.options.radialSeparation*Math.sin(t.AngleToParent))+i.height;break;case"Left":case"Right":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":i=this.measure(t.children[0],e),n=s+i.width+this.options.underneathHorizontalOffset,o=c+this.options.underneathVerticalTopOffset+i.height;break;case"Default":i=this.measure(t.children[0],e),n=s+this.options.horizontalSeparation+i.width,o=Math.max(c,i.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":i=this.measure(t.children[0],e),n=Math.max(s,i.width+this.options.underneathHorizontalOffset),o=c+this.options.underneathVerticalTopOffset+i.height;break;case"Default":i=this.measure(t.children[0],e),o=c+this.options.verticalSeparation+i.height,n=Math.max(s,i.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}r=new l(n,o)}else{var h,d;switch(t.treeDirection){case"Left":case"Right":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(n=s,o=c+this.options.underneathVerticalTopOffset,h=0;h<t.children.length;h++)d=t.children[h],i=this.measure(d,e),n=Math.max(n,i.width+this.options.underneathHorizontalOffset),o+=i.height+this.options.underneathVerticalSeparation;o-=this.options.underneathVerticalSeparation;break;case"Default":for(n=s,o=0,h=0;h<t.children.length;h++)d=t.children[h],i=this.measure(d,e),n=Math.max(n,s+this.options.horizontalSeparation+i.width),o+=i.height+this.options.verticalSeparation;o-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(n=s,o=c+this.options.underneathVerticalTopOffset,h=0;h<t.children.length;h++)d=t.children[h],i=this.measure(d,e),n=Math.max(n,i.width+this.options.underneathHorizontalOffset),o+=i.height+this.options.underneathVerticalSeparation;o-=this.options.underneathVerticalSeparation;break;case"Default":for(n=0,o=0,h=0;h<t.children.length;h++)d=t.children[h],i=this.measure(d,e),n+=i.width+this.options.horizontalSeparation,o=Math.max(o,i.height+this.options.verticalSeparation+c);n-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}r=new l(n,o)}return t.SectorAngle=Math.sqrt(n*n/4+o*o/4),t.Size=r,r},arrange:function(t,e){var i,n,o,r,a,s,l,u,h=t.associatedShape.bounds(),d=h.width,m=h.height;if(f.isEmpty(t.children))t.x=e.x,t.y=e.y,t.BoundingRectangle=new c(e.x,e.y,d,m);else switch(t.treeDirection){case"Left":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(u=e,t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),l=e.y+m+this.options.underneathVerticalTopOffset,i=0;i<r.children.length;i++)r=r.children[i],s=u.x-r.associatedShape.width-this.options.underneathHorizontalOffset,n=new p(s,l),this.arrange(r,n),l+=r.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(u=new p(e.x+t.Size.width-d,e.y+(t.Size.height-m)/2),t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),s=u.x-this.options.horizontalSeparation,l=e.y,i=0;i<t.children.length;i++)r=t.children[i],n=new p(s-r.Size.width,l),this.arrange(r,n),l+=r.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(u=e,t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),s=e.x+d+this.options.underneathHorizontalOffset,l=e.y+m+this.options.underneathVerticalTopOffset,i=0;i<t.children.length;i++)r=t.children[i],n=new p(s,l),this.arrange(r,n),l+=r.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(u=new p(e.x,e.y+(t.Size.height-m)/2),t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),s=e.x+d+this.options.horizontalSeparation,l=e.y,i=0;i<t.children.length;i++)r=t.children[i],n=new p(s,l),this.arrange(r,n),l+=r.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Up":if(u=new p(e.x+(t.Size.width-d)/2,e.y+t.Size.height-m),t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),Math.abs(u.x-e.x)<1e-6){for(a=0,i=0;i<t.children.length;i++)o=t.children[i],a+=o.Size.width+this.options.horizontalSeparation;a-=this.options.horizontalSeparation,s=e.x+(d-a)/2}else s=e.x;for(i=0;i<t.children.length;i++)r=t.children[i],l=u.y-this.options.verticalSeparation-r.Size.height,n=new p(s,l),this.arrange(r,n),s+=r.Size.width+this.options.horizontalSeparation;break;case"Down":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(u=e,t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),s=e.x+this.options.underneathHorizontalOffset,l=e.y+m+this.options.underneathVerticalTopOffset,i=0;i<t.children.length;i++)r=t.children[i],n=new p(s,l),this.arrange(r,n),l+=r.Size.height+this.options.underneathVerticalSeparation;break;case"Default":if(u=new p(e.x+(t.Size.width-d)/2,e.y),t.x=u.x,t.y=u.y,t.BoundingRectangle=new c(t.x,t.y,t.width,t.height),Math.abs(u.x-e.x)<1e-6){for(a=0,i=0;i<t.children.length;i++)o=t.children[i],a+=o.Size.width+this.options.horizontalSeparation;a-=this.options.horizontalSeparation,s=e.x+(d-a)/2}else s=e.x;for(i=0;i<t.children.length;i++)r=t.children[i],l=u.y+this.options.verticalSeparation+m,n=new p(s,l),this.arrange(r,n),s+=r.Size.width+this.options.horizontalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}},layoutSwitch:function(){if(this.center&&!f.isEmpty(this.center.children)){var t,e,i,n,o=this.options.subtype;f.isUndefined(o)&&(o="Down");var r=this.center.children;switch(o.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":t=this.center.children,1===this.center.children.length?this.layoutRight(t):(n=r.length/2,e=v(this.center.children,function(t){return f.indexOf(r,t)<n}),i=v(this.center.children,function(t){return f.indexOf(r,t)>=n}),this.layoutLeft(e),this.layoutRight(i));break;case"mindmapvertical":t=this.center.children,1===this.center.children.length?this.layoutDown(t):(n=r.length/2,e=v(this.center.children,function(t){return f.indexOf(r,t)<n}),i=v(this.center.children,function(t){return f.indexOf(r,t)>=n}),this.layoutUp(e),this.layoutDown(i));break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel)}}}}),_=b.extend({init:function(t){if(b.fn.init.call(this),f.isUndefined(t))throw"No diagram specified.";this.diagram=t},layout:function(t){this.transferOptions(t);var e=new k(this.diagram);this.graph=e.convert();var i=this.layoutComponents();return new n.LayoutState(this.diagram,i)},layoutComponents:function(){if(!this.graph.isEmpty()){var t=this.graph.getConnectedComponents();if(!f.isEmpty(t)){for(var e=new w(this.options),i=[],n=0;n<t.length;n++){var o=t[n],r=this.getTree(o);if(!r)throw"Failed to find a spanning tree for the component.";var a=r.root,s=r.tree;e.layout(s,a),i.push(s)}return this.gridLayoutComponents(i)}}},getTree:function(t){var e=null;if(this.options.roots&&this.options.roots.length>0)for(var i=0,n=t.nodes.length;i<n;i++)for(var o=t.nodes[i],r=0;r<this.options.roots.length;r++){var a=this.options.roots[r];if(a===o.associatedShape){e=o;break}}if(!e&&!(e=t.root()))throw"Unable to find a root for the tree.";return this.getTreeForRoot(t,e)},getTreeForRoot:function(t,e){var i=t.getSpanningTree(e);return f.isUndefined(i)||i.isEmpty()?null:{tree:i,root:i.root}}}),x=b.extend({init:function(t){if(b.fn.init.call(this),f.isUndefined(t))throw"Diagram is not specified.";this.diagram=t},layout:function(t){this.transferOptions(t);var e=new k(this.diagram),i=e.convert(t);if(!i.isEmpty()){var o=i.getConnectedComponents();if(!f.isEmpty(o)){for(var r=0;r<o.length;r++){var a=o[r];this.layoutGraph(a,t)}var s=this.gridLayoutComponents(o);return new n.LayoutState(this.diagram,s)}}},_initRuntimeProperties:function(){for(var t=0;t<this.graph.nodes.length;t++){var e=this.graph.nodes[t];e.layer=-1,e.downstreamLinkCount=0,e.upstreamLinkCount=0,e.isVirtual=!1,e.uBaryCenter=0,e.dBaryCenter=0,e.upstreamPriority=0,e.downstreamPriority=0,e.gridPosition=0}},_prepare:function(t){var e,i,n,o,r,a,s=[],l=new u,c=0;for(f.forEach(t.nodes,function(t){0===t.incoming.length&&(l.set(t,0),s.push(t))});s.length>0;)for(r=s.shift(),e=0;e<r.outgoing.length;e++)n=r.outgoing[e],a=n.target,o=l.containsKey(a)?Math.max(l.get(r)+1,l.get(a)):l.get(r)+1,l.set(a,o),o>c&&(c=o),g(s,a)||s.push(a);var h,d=l.keys();d.sort(function(t,e){var i=l.get(t),n=l.get(e);return f.sign(n-i)});for(var p=0;p<d.length;++p){var m=d[p],v=Number.MAX_VALUE;if(0!==m.outgoing.length){for(i=0;i<m.outgoing.length;++i)n=m.outgoing[i],v=Math.min(v,l.get(n.target));v>1&&l.set(m,v-1)}}for(this.layers=[],e=0;e<c+1;e++)(h=[]).linksTo={},this.layers.push(h);for(l.forEach(function(t,e){t.layer=e,this.layers[e].push(t)},this),i=0;i<this.layers.length;i++)for(h=this.layers[i],e=0;e<h.length;e++)h[e].gridPosition=e},layoutGraph:function(t,e){if(f.isUndefined(t))throw"No graph given or graph analysis of the diagram failed.";f.isDefined(e)&&this.transferOptions(e),this.graph=t,t.setItemIndices();var i=t.makeAcyclic();this._initRuntimeProperties(),this._prepare(t,e),this._dummify(),this._optimizeCrossings(),this._swapPairs(),this.arrangeNodes(),this._moveThingsAround(),this._dedummify(),f.forEach(i,function(t){t.points&&t.points.reverse()})},setMinDist:function(t,e,i){var n=t.layer,o=t.layerIndex;this.minDistances[n][o]=i},getMinDist:function(t,e){for(var i=0,n=t.layerIndex,o=e.layerIndex,r=t.layer,a=Math.min(n,o),s=Math.max(n,o),l=a;l<s;++l)i+=this.minDistances[r][l];return i},placeLeftToRight:function(t){for(var e,i,n=new u,o=0;o<this.layers.length;++o){var r=t[o];if(r){for(e=0;e<r.length;e++)i=r[e],n.containsKey(i)||this.placeLeft(i,n,o);var a=Number.POSITIVE_INFINITY;for(e=0;e<r.length;e++){i=r[e];var s=this.rightSibling(i);s&&this.nodeLeftClass.get(s)!==o&&(a=Math.min(a,n.get(s)-n.get(i)-this.getMinDist(i,s)))}if(a===Number.POSITIVE_INFINITY){var l=[];for(e=0;e<r.length;e++){i=r[e];var c=[];f.addRange(c,this.upNodes.get(i)),f.addRange(c,this.downNodes.get(i));for(var h=0;h<c.length;h++){var d=c[h];this.nodeLeftClass.get(d)<o&&l.push(n.get(d)-n.get(i))}}l.sort(),a=0===l.length?0:l.length%2==1?l[this.intDiv(l.length,2)]:(l[this.intDiv(l.length,2)-1]+l[this.intDiv(l.length,2)])/2}for(e=0;e<r.length;e++)i=r[e],n.set(i,n.get(i)+a)}}return n},placeRightToLeft:function(t){for(var e,i,n=new u,o=0;o<this.layers.length;++o){var r=t[o];if(r){for(e=0;e<r.length;e++)i=r[e],n.containsKey(i)||this.placeRight(i,n,o);var a=Number.NEGATIVE_INFINITY;for(e=0;e<r.length;e++){i=r[e];var s=this.leftSibling(i);s&&this.nodeRightClass.get(s)!==o&&(a=Math.max(a,n.get(s)-n.get(i)+this.getMinDist(s,i)))}if(a===Number.NEGATIVE_INFINITY){var l=[];for(e=0;e<r.length;e++){i=r[e];var c=[];f.addRange(c,this.upNodes.get(i)),f.addRange(c,this.downNodes.get(i));for(var h=0;h<c.length;h++){var d=c[h];this.nodeRightClass.get(d)<o&&l.push(n.get(i)-n.get(d))}}l.sort(),a=0===l.length?0:l.length%2==1?l[this.intDiv(l.length,2)]:(l[this.intDiv(l.length,2)-1]+l[this.intDiv(l.length,2)])/2}for(e=0;e<r.length;e++)i=r[e],n.set(i,n.get(i)+a)}}return n},_getLeftWing:function(){var t={value:null},e=this.computeClasses(t,1);return this.nodeLeftClass=t.value,e},_getRightWing:function(){var t={value:null},e=this.computeClasses(t,-1);return this.nodeRightClass=t.value,e},computeClasses:function(t,e){for(var i=0,n=t.value=new u,o=0;o<this.layers.length;++o){i=o;for(var r=this.layers[o],a=1===e?0:r.length-1;0<=a&&a<r.length;a+=e){var s=r[a];if(n.containsKey(s))i=n.get(s);else if(n.set(s,i),s.isVirtual)for(var l=this._nodesInLink(s),c=0;c<l.length;c++){var h=l[c];n.set(h,i)}}}for(var d=[],f=0;f<this.layers.length;f++)d.push(null);return n.forEach(function(t,e){null===d[e]&&(d[e]=[]),d[e].push(t)}),d},_isVerticalLayout:function(){return"up"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()||"vertical"===this.options.subtype.toLowerCase()},_isHorizontalLayout:function(){return"right"===this.options.subtype.toLowerCase()||"left"===this.options.subtype.toLowerCase()||"horizontal"===this.options.subtype.toLowerCase()},_isIncreasingLayout:function(){return"right"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()},_moveThingsAround:function(){var t,e,i,n,o,r;for(e=0;e<this.layers.length;++e)(n=this.layers[e]).sort(this._gridPositionComparer);for(this.minDistances=[],e=0;e<this.layers.length;++e)for(n=this.layers[e],this.minDistances[e]=[],o=0;o<n.length;++o)(i=n[o]).layerIndex=o,this.minDistances[e][o]=this.options.nodeDistance,o<n.length-1&&(this._isVerticalLayout()?this.minDistances[e][o]+=(i.width+n[o+1].width)/2:this.minDistances[e][o]+=(i.height+n[o+1].height)/2);for(this.downNodes=new u,this.upNodes=new u,f.forEach(this.graph.nodes,function(t){this.downNodes.set(t,[]),this.upNodes.set(t,[])},this),f.forEach(this.graph.links,function(t){var e=t.source,i=t.target,n=null,o=null;e.layer>i.layer?(n=t.source,o=t.target):(o=t.source,n=t.target),this.downNodes.get(o).push(n),this.upNodes.get(n).push(o)},this),this.downNodes.forEachValue(function(t){t.sort(this._gridPositionComparer)},this),this.upNodes.forEachValue(function(t){t.sort(this._gridPositionComparer)},this),e=0;e<this.layers.length-1;++e)for(n=this.layers[e],r=0;r<n.length-1;r++){var a=n[r];if(a.isVirtual){var s=this.downNodes.get(a)[0];if(s.isVirtual)for(o=r+1;o<n.length;++o)if((i=n[o]).isVirtual){var l=this.downNodes.get(i)[0];if(l.isVirtual&&s.gridPosition>l.gridPosition){var c=s.gridPosition;s.gridPosition=l.gridPosition,l.gridPosition=c;var h=s.layerIndex,d=l.layerIndex;this.layers[e+1][h]=l,this.layers[e+1][d]=s,s.layerIndex=d,l.layerIndex=h}}}}var p=this._getLeftWing(),m=this._getRightWing(),g=this.placeLeftToRight(p),v=this.placeRightToLeft(m),b=new u;f.forEach(this.graph.nodes,function(t){b.set(t,(g.get(t)+v.get(t))/2)});var k=new u,y=new u;for(e=0;e<this.layers.length;++e){n=this.layers[e];var w=-1;for(o=0;o<n.length;++o)i=n[o],k.set(i,0),y.set(i,!1),i.isVirtual&&(-1===w?w=o:w===o-1?w=o:(k.set(n[w],0),b.get(i)-b.get(n[w])===this.getMinDist(n[w],i)?y.set(n[w],!0):y.set(n[w],!1),w=o))}f.forEach([1,-1],function(e){for(var i=1===e?0:this.layers.length-1,n=i;0<=n&&n<this.layers.length;n+=e){var o=this.layers[n],r=this._firstVirtualNode(o),a=null,s=null;if(-1!==r)for(a=o[r],s=[],t=0;t<r;t++)s.push(o[t]);else a=null,s=o;if(s.length>0){for(this._sequencer(b,null,a,e,s),t=0;t<s.length-1;++t)this.setMinDist(s[t],s[t+1],b.get(s[t+1])-b.get(s[t]));a&&this.setMinDist(s[s.length-1],a,b.get(a)-b.get(s[s.length-1]))}for(;a;){var l=this.nextVirtualNode(o,a);if(l){if(k.get(a)===e){r=a.layerIndex;var c=l.layerIndex;for(s=[],t=r+1;t<c;t++)s.push(o[t]);s.length>0&&this._sequencer(b,a,l,e,s),y.set(a,!0)}}else{for(r=a.layerIndex,s=[],t=r+1;t<o.length;t++)s.push(o[t]);if(s.length>0){for(this._sequencer(b,a,null,e,s),t=0;t<s.length-1;++t)this.setMinDist(s[t],s[t+1],b.get(s[t+1])-b.get(s[t]));this.setMinDist(a,s[0],b.get(s[0])-b.get(a))}}a=l}this.adjustDirections(n,e,k,y)}},this);var _=this._isIncreasingLayout()?0:this.layers.length-1,x=function(t,e){return e._isIncreasingLayout()?t<e.layers.length:t>=0},S=this._isIncreasingLayout()?1:-1,C=0;function A(t,e){for(var i=Number.MIN_VALUE,n=0;n<t.length;++n){var o=t[n];i=e._isVerticalLayout()?Math.max(i,o.height):Math.max(i,o.width)}return i}for(t=_;x(t,this);t+=S){var T=A(n=this.layers[t],this);for(o=0;o<n.length;++o)i=n[o],this._isVerticalLayout()?(i.x=b.get(i),i.y=C+T/2):(i.x=C+T/2,i.y=b.get(i));C+=this.options.layerSeparation+T}},adjustDirections:function(t,e,i,n){if(!(t+e<0||t+e>=this.layers.length))for(var o=null,r=null,a=this.layers[t+e],s=0;s<a.length;++s){var l=a[s];if(l.isVirtual){var c=this.getNeighborOnLayer(l,t);if(c.isVirtual){if(o){for(var u=n.get(r),h=this.layers[t],d=r.layerIndex,f=c.layerIndex,p=d+1;p<f;++p)h[p].isVirtual&&(u=u&&n.get(h[p]));if(u){i.set(o,e);for(var m=o.layerIndex,g=l.layerIndex,v=m+1;v<g;++v)a[v].isVirtual&&i.set(a[v],e)}}o=l,r=c}}}},getNeighborOnLayer:function(t,e){var i=this.upNodes.get(t)[0];return i.layer===e?i:(i=this.downNodes.get(t)[0]).layer===e?i:null},_sequencer:function(t,e,i,n,o){if(1===o.length&&this._sequenceSingle(t,e,i,n,o[0]),o.length>1){var r=o.length,a=this.intDiv(r,2);this._sequencer(t,e,i,n,o.slice(0,a)),this._sequencer(t,e,i,n,o.slice(a)),this.combineSequences(t,e,i,n,o)}},_sequenceSingle:function(t,e,i,n,o){var r=-1===n?this.downNodes.get(o):this.upNodes.get(o),a=r.length;0!==a&&(a%2==1?t.set(o,t.get(r[this.intDiv(a,2)])):t.set(o,(t.get(r[this.intDiv(a,2)-1])+t.get(r[this.intDiv(a,2)]))/2),e&&t.set(o,Math.max(t.get(o),t.get(e)+this.getMinDist(e,o))),i&&t.set(o,Math.min(t.get(o),t.get(i)-this.getMinDist(o,i))))},combineSequences:function(t,e,i,n,o){var r,a,s,l,c,u,h=o.length,d=this.intDiv(h,2),f=[];for(r=0;r<d;++r){for(a=0,l=-1===n?this.downNodes.get(o[r]):this.upNodes.get(o[r]),s=0;s<l.length;++s)c=l[s],t.get(c)>=t.get(o[r])?a++:(a--,f.push({k:t.get(c)+this.getMinDist(o[r],o[d-1]),v:2}));f.push({k:t.get(o[r])+this.getMinDist(o[r],o[d-1]),v:a})}e&&f.push({k:t.get(e)+this.getMinDist(e,o[d-1]),v:Number.MAX_VALUE}),f.sort(this._positionDescendingComparer);var p=[];for(r=d;r<h;++r){for(a=0,l=-1===n?this.downNodes.get(o[r]):this.upNodes.get(o[r]),s=0;s<l.length;++s)c=l[s],t.get(c)<=t.get(o[r])?a++:(a--,p.push({k:t.get(c)-this.getMinDist(o[r],o[d]),v:2}));p.push({k:t.get(o[r])-this.getMinDist(o[r],o[d]),v:a})}i&&p.push({k:t.get(i)-this.getMinDist(i,o[d]),v:Number.MAX_VALUE}),p.sort(this._positionAscendingComparer);for(var m=0,g=0,v=this.getMinDist(o[d-1],o[d]);t.get(o[d])-t.get(o[d-1])<v;)if(m<g){if(0===f.length){t.set(o[d-1],t.get(o[d])-v);break}u=f.shift(),m+=u.v,t.set(o[d-1],u.k),t.set(o[d-1],Math.max(t.get(o[d-1]),t.get(o[d])-v))}else{if(0===p.length){t.set(o[d],t.get(o[d-1])+v);break}u=p.shift(),g+=u.v,t.set(o[d],u.k),t.set(o[d],Math.min(t.get(o[d]),t.get(o[d-1])+v))}for(r=d-2;r>=0;r--)t.set(o[r],Math.min(t.get(o[r]),t.get(o[d-1])-this.getMinDist(o[r],o[d-1])));for(r=d+1;r<h;r++)t.set(o[r],Math.max(t.get(o[r]),t.get(o[d])+this.getMinDist(o[r],o[d])))},placeLeft:function(t,e,i){var n=Number.NEGATIVE_INFINITY;f.forEach(this._getComposite(t),function(t){var o=this.leftSibling(t);o&&this.nodeLeftClass.get(o)===this.nodeLeftClass.get(t)&&(e.containsKey(o)||this.placeLeft(o,e,i),n=Math.max(n,e.get(o)+this.getMinDist(o,t)))},this),n===Number.NEGATIVE_INFINITY&&(n=0),f.forEach(this._getComposite(t),function(t){e.set(t,n)})},placeRight:function(t,e,i){var n=Number.POSITIVE_INFINITY;f.forEach(this._getComposite(t),function(t){var o=this.rightSibling(t);o&&this.nodeRightClass.get(o)===this.nodeRightClass.get(t)&&(e.containsKey(o)||this.placeRight(o,e,i),n=Math.min(n,e.get(o)-this.getMinDist(t,o)))},this),n===Number.POSITIVE_INFINITY&&(n=0),f.forEach(this._getComposite(t),function(t){e.set(t,n)})},leftSibling:function(t){var e=this.layers[t.layer],i=t.layerIndex;return 0===i?null:e[i-1]},rightSibling:function(t){var e=this.layers[t.layer],i=t.layerIndex;return i===e.length-1?null:e[i+1]},_getComposite:function(t){return t.isVirtual?this._nodesInLink(t):[t]},arrangeNodes:function(){var t,e,i,n,o;for(e=0;e<this.layers.length;e++)for(n=this.layers[e],i=0;i<n.length;i++)(o=n[i]).upstreamPriority=o.upstreamLinkCount,o.downstreamPriority=o.downstreamLinkCount;for(var r=0;r<2;r++){for(t=this.layers.length-1;t>=1;t--)this.layoutLayer(!1,t);for(t=0;t<this.layers.length-1;t++)this.layoutLayer(!0,t)}var a=Number.MAX_VALUE;for(e=0;e<this.layers.length;e++)for(n=this.layers[e],i=0;i<n.length;i++)o=n[i],a=Math.min(a,o.gridPosition);if(a<0)for(e=0;e<this.layers.length;e++)for(n=this.layers[e],i=0;i<n.length;i++)(o=n[i]).gridPosition=o.gridPosition-a},layoutLayer:function(t,e){var i,n;n=t?this.layers[i=e+1]:this.layers[i=e-1];for(var o=[],r=0;r<n.length;r++)o.push(n[r]);o.sort(function(t,e){var i=(t.upstreamPriority+t.downstreamPriority)/2,n=(e.upstreamPriority+e.downstreamPriority)/2;return Math.abs(i-n)<1e-4?0:i<n?1:-1}),f.forEach(o,function(t){var e=t.gridPosition,i=this.calcBaryCenter(t),o=(t.upstreamPriority+t.downstreamPriority)/2;if(!(Math.abs(e-i)<1e-4||Math.abs(e-i)<.2501))if(e<i)for(;e<i&&this.moveRight(t,n,o);)e=t.gridPosition;else for(;e>i&&this.moveLeft(t,n,o);)e=t.gridPosition},this),i>0&&this.calcDownData(i-1),i<this.layers.length-1&&this.calcUpData(i+1)},moveRight:function(t,e,i){var n=f.indexOf(e,t);if(n===e.length-1)return t.gridPosition=t.gridPosition+.5,!0;var o=e[n+1],r=(o.upstreamPriority+o.downstreamPriority)/2;return o.gridPosition>t.gridPosition+1?(t.gridPosition=t.gridPosition+.5,!0):!(r>i||Math.abs(r-i)<1e-4||!this.moveRight(o,e,i)||(t.gridPosition=t.gridPosition+.5,0))},moveLeft:function(t,e,i){var n=f.indexOf(e,t);if(0===n)return t.gridPosition=t.gridPosition-.5,!0;var o=e[n-1],r=(o.upstreamPriority+o.downstreamPriority)/2;return o.gridPosition<t.gridPosition-1?(t.gridPosition=t.gridPosition-.5,!0):!(r>i||Math.abs(r-i)<1e-4||!this.moveLeft(o,e,i)||(t.gridPosition=t.gridPosition-.5,0))},mapVirtualNode:function(t,e){this.nodeToLinkMap.set(t,e),this.linkToNodeMap.containsKey(e)||this.linkToNodeMap.set(e,[]),this.linkToNodeMap.get(e).push(t)},_nodesInLink:function(t){return this.linkToNodeMap.get(this.nodeToLinkMap.get(t))},_dummify:function(){this.linkToNodeMap=new u,this.nodeToLinkMap=new u;var t,e,i,n,o,s,l,c,h=this.graph.links.slice(0),d=this.layers,p=function(t,e,i){d[t].linksTo[e]=d[t].linksTo[e]||[],d[t].linksTo[e].push(i)};for(c=0;c<h.length;c++){var m=h[c],g=m.source,v=m.target,b=g.layer,k=v.layer,y=g.gridPosition,w=v.gridPosition,_=(w-y)/Math.abs(k-b),x=g;if(b-k>1){for(l=b-1;l>k;l--){for((i=new r).x=g.x,i.y=g.y,i.width=g.width/100,i.height=g.height/100,t=d[l],(e=(l-k)*_+y)>t.length&&(e=t.length),y>=d[b].length-1&&w>=d[k].length-1?e=t.length:0===y&&0===w&&(e=0),i.layer=l,i.uBaryCenter=0,i.dBaryCenter=0,i.upstreamLinkCount=0,i.downstreamLinkCount=0,i.gridPosition=e,i.isVirtual=!0,f.insert(t,i,e),o=e+1;o<t.length;o++)(n=t[o]).gridPosition=n.gridPosition+1;(s=new a(x,i)).depthOfDumminess=0,p(l-1,l,s),x=i,this.graph._addNode(i),this.graph.addLink(s),i.index=this.graph.nodes.length-1,this.mapVirtualNode(i,m)}p(k-1,k,s),m.changeSource(x),m.depthOfDumminess=b-k-1}else if(b-k<-1){for(l=b+1;l<k;l++){for((i=new r).x=g.x,i.y=g.y,i.width=g.width/100,i.height=g.height/100,t=d[l],(e=(l-b)*_+y)>t.length&&(e=t.length),y>=d[b].length-1&&w>=d[k].length-1?e=t.length:0===y&&0===w&&(e=0),i.layer=l,i.uBaryCenter=0,i.dBaryCenter=0,i.upstreamLinkCount=0,i.downstreamLinkCount=0,i.gridPosition=e,i.isVirtual=!0,e&=e,f.insert(t,i,e),o=e+1;o<t.length;o++)(n=t[o]).gridPosition=n.gridPosition+1;(s=new a(x,i)).depthOfDumminess=0,p(l-1,l,s),x=i,this.graph._addNode(i),this.graph.addLink(s),i.index=this.graph.nodes.length-1,this.mapVirtualNode(i,m)}p(k-1,k,m),m.changeSource(x),m.depthOfDumminess=k-b-1}else p(b,k,m)}},_dedummify:function(){for(var t=!0;t;){t=!1;for(var e=0;e<this.graph.links.length;e++){var i=this.graph.links[e];if(i.depthOfDumminess){var n=[];n.unshift({x:i.target.x,y:i.target.y}),n.unshift({x:i.source.x,y:i.source.y});for(var o=i,r=i.depthOfDumminess,a=0;a<r;a++){var s=o.source,l=s.incoming[0];n.unshift({x:l.source.x,y:l.source.y}),o=l}i.changeSource(o.source),i.depthOfDumminess=0,n.length>2?(n.splice(0,1),n.splice(n.length-1),i.points=n):i.points=[],t=!0;break}}}},_optimizeCrossings:function(){for(var t,e=-1,i=0;0!==e&&!(i++>3);){for(e=0,t=this.layers.length-1;t>=1;t--)e+=this.optimizeLayerCrossings(!1,t);for(t=0;t<this.layers.length-1;t++)e+=this.optimizeLayerCrossings(!0,t)}},calcUpData:function(t){if(0!==t){var e,i,n,o=this.layers[t],r=new h,a=this.layers[t-1];for(e=0;e<a.length;e++)r.add(a[e]);for(e=0;e<o.length;e++){var s=o[e],l=0,c=0;for(i=0;i<s.incoming.length;i++)n=s.incoming[i],r.contains(n.source)&&(c++,l+=n.source.gridPosition);for(i=0;i<s.outgoing.length;i++)n=s.outgoing[i],r.contains(n.target)&&(c++,l+=n.target.gridPosition);c>0?(s.uBaryCenter=l/c,s.upstreamLinkCount=c):(s.uBaryCenter=e,s.upstreamLinkCount=0)}}},calcDownData:function(t){if(t!==this.layers.length-1){var e,i,n,o=this.layers[t],r=new h,a=this.layers[t+1];for(e=0;e<a.length;e++)r.add(a[e]);for(e=0;e<o.length;e++){var s=o[e],l=0,c=0;for(i=0;i<s.incoming.length;i++)n=s.incoming[i],r.contains(n.source)&&(c++,l+=n.source.gridPosition);for(i=0;i<s.outgoing.length;i++)n=s.outgoing[i],r.contains(n.target)&&(c++,l+=n.target.gridPosition);c>0?(s.dBaryCenter=l/c,s.downstreamLinkCount=c):(s.dBaryCenter=e,s.downstreamLinkCount=0)}}},optimizeLayerCrossings:function(t,e){var i,n,o=(n=t?this.layers[i=e+1]:this.layers[i=e-1]).slice(0);t?this.calcUpData(i):this.calcDownData(i);var r=this;n.sort(function(t,e){var i=r.calcBaryCenter(t),n=r.calcBaryCenter(e);if(Math.abs(i-n)<1e-4)return t.degree()===e.degree()?r.compareByIndex(t,e):t.degree()<e.degree()?1:-1;var o=1e3*(n-i);return o>0?-1:o<0?1:r.compareByIndex(t,e)});var a,s=0;for(a=0;a<n.length;a++)n[a]!==o[a]&&s++;if(s>0){var l=0;for(a=0;a<n.length;a++){var c=n[a];c.gridPosition=l++}}return s},_swapPairs:function(){for(var t=this.options.layeredIterations,e=0;!(e++>t);)for(var i=e%4<=1,n=e%4==1,o=i?0:this.layers.length-1;i?o<=this.layers.length-1:o>=0;o+=i?1:-1){for(var r=this.layers[o],a=!1,s=!0,l=0,c=0;c<r.length-1;c++){var u=0,h=0,d=0;if(s?(0!==o&&(u=this.countLinksCrossingBetweenTwoLayers(o-1,o)),o!==this.layers.length-1&&(h=this.countLinksCrossingBetweenTwoLayers(o,o+1)),i?u*=2:h*=2,d=u+h):d=l,0!==d){var f=r[c],p=r[c+1],m=f.gridPosition,g=p.gridPosition;r[c]=p,r[c+1]=f,f.gridPosition=g,p.gridPosition=m,u=0,0!==o&&(u=this.countLinksCrossingBetweenTwoLayers(o-1,o)),h=0,o!==this.layers.length-1&&(h=this.countLinksCrossingBetweenTwoLayers(o,o+1)),i?u*=2:h*=2;var v=u+h;(n?v>=d:v>d)?(f=r[c],p=r[c+1],m=f.gridPosition,g=p.gridPosition,r[c]=p,r[c+1]=f,f.gridPosition=g,p.gridPosition=m,l=d,s=!1):(a=!0,s=!0)}}a&&(o!==this.layers.length-1&&this.calcUpData(o+1),0!==o&&this.calcDownData(o-1))}},countLinksCrossingBetweenTwoLayers:function(t,e){var i,n,o,r,a,s,l,c,u=this.layers[t].linksTo[e],h=0,d=u.length;for(l=0;l<d;l++)for(i=u[l],c=l+1;c<d;c++){n=u[c],i.target.layer===e?(o=i.source,r=i.target):(o=i.target,r=i.source),n.target.layer===e?(a=n.source,s=n.target):(a=n.target,s=n.source);var f=o.gridPosition,p=r.gridPosition,m=a.gridPosition,g=s.gridPosition;(f-m)*(p-g)<0&&h++}return h},calcBaryCenter:function(t){var e=t.upstreamLinkCount,i=t.downstreamLinkCount,n=t.uBaryCenter,o=t.dBaryCenter;return e>0&&i>0?(n+o)/2:e>0?n:i>0?o:0},_gridPositionComparer:function(t,e){return t.gridPosition<e.gridPosition?-1:t.gridPosition>e.gridPosition?1:0},_positionAscendingComparer:function(t,e){return t.k<e.k?-1:t.k>e.k?1:0},_positionDescendingComparer:function(t,e){return t.k<e.k?1:t.k>e.k?-1:0},_firstVirtualNode:function(t){for(var e=0;e<t.length;e++)if(t[e].isVirtual)return e;return-1},compareByIndex:function(t,e){var i=t.index,n=e.index;return i<n?1:i>n?-1:0},intDiv:function(t,e){return(t-t%e)/e},nextVirtualNode:function(t,e){for(var i=e.layerIndex,n=i+1;n<t.length;++n)if(t[n].isVirtual)return t[n];return null}}),S=i.Class.extend({init:function(t,e){if(f.isUndefined(t))throw"No diagram given";this.diagram=t,this.nodeMap=new u,this.linkMap=new u,this.capture(e||t)},capture:function(t){var e,i,o,r,a,s,l;if(t instanceof n.Graph){for(r=0;r<t.nodes.length;r++)e=t.nodes[r],o=e.associatedShape,this.nodeMap.set(o.visual.id,new c(e.x,e.y,e.width,e.height));for(r=0;r<t.links.length;r++)s=t.links[r],a=s.associatedConnection,this.linkMap.set(a.visual.id,s.points())}else if(t instanceof Array)for(i=t,r=0;r<i.length;r++)e=i[r],(o=e.associatedShape)&&this.nodeMap.set(o.visual.id,new c(e.x,e.y,e.width,e.height));else if(t.hasOwnProperty("links")&&t.hasOwnProperty("nodes")){for(i=t.nodes,l=t.links,r=0;r<i.length;r++)e=i[r],(o=e.associatedShape)&&this.nodeMap.set(o.visual.id,new c(e.x,e.y,e.width,e.height));for(r=0;r<l.length;r++)s=l[r],(a=s.associatedConnection)&&this.linkMap.set(a.visual.id,s.points)}else{var u=this.diagram.shapes,h=this.diagram.connections;for(r=0;r<u.length;r++)o=u[r],this.nodeMap.set(o.visual.id,o.bounds());for(r=0;r<h.length;r++)a=h[r],this.linkMap.set(a.visual.id,a.points())}}});s(n,{init:function(t){i.init(t,n.ui)},SpringLayout:y,TreeLayout:_,GraphAdapter:k,LayeredLayout:x,LayoutBase:b,LayoutState:S})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[i(17),i(29),i(84),i(118),i(64),i(61),i(45),i(119),r,a,s],l="function"==typeof(c=function(){!function(t,e){var i=kendo.dataviz,n=kendo.drawing,o=kendo.geometry,r=i.diagram,a=kendo.ui.Widget,s=kendo.Class,l=t.proxy,c=kendo.deepExtend,u=kendo._outerWidth,h=kendo._outerHeight,d=t.extend,f=kendo.data.HierarchicalDataSource,p=r.Canvas,m=r.Group,g=r.Rectangle,v=r.Circle,b=r.CompositeTransform,k=r.Rect,y=r.Path,w=r.DeleteShapeUnit,_=r.DeleteConnectionUnit,x=r.TextBlock,S=r.Image,C=r.Point,A=r.Intersect,T=r.ConnectionEditAdorner,j=r.UndoRedoService,M=r.ToolService,z=r.Selector,E=r.ResizingAdorner,I=r.ConnectorsAdorner,D=r.Cursors,O=r.Utils,P=kendo.Observable,R=r.ToBackUnit,L=r.ToFrontUnit,F=r.PolylineRouter,N=r.CascadingRouter,B=O.isUndefined,q=O.isDefined,V=n.util.defined,H=t.isArray,U=kendo.isFunction,W=O.isString,G=t.isPlainObject,Q=Math,Y=["sass","default-v2","bootstrap-v4"],K=".kendoDiagram",Z="Auto",X=9007199254740992,J=Number.MAX_VALUE,$=-Number.MAX_VALUE;r.DefaultConnectors=[{name:"Top"},{name:"Bottom"},{name:"Left"},{name:"Right"},{name:Z,position:function(t){return t.getPosition("center")}}];var tt={cancel:{text:"Cancel",imageClass:"k-i-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-i-checkmark",className:"k-diagram-update",iconClass:"k-icon"}};function et(t){return t.options.name.toLowerCase()===Z.toLowerCase()}function it(t,e){for(var i,n,o=X,r=0;r<e.length;r++)if(!et(n=e[r])){var a=t.distanceTo(n.position());a<o&&(o=a,i=n)}return i}function nt(t,e){var i,n,o=[],r=t.drawingContainer().children,a=r.length;for(i=0;i<e.length;i++){n=e[i];for(var s=0;s<a;s++)if(r[s]==n.drawingContainer()){o.push(s);break}}return o}r.shapeDefaults=function(t){var e={type:"rectangle",path:"",autoSize:!0,visual:null,x:0,y:0,minWidth:20,minHeight:20,width:100,height:100,hover:{},editable:{connect:!0,tools:[]},connectors:r.DefaultConnectors,rotation:{angle:0}};return O.simpleExtend(e,t),e};var ot=P.extend({init:function(t){this.dataItem=(t||{}).dataItem,P.fn.init.call(this),this.options=c({id:r.randomId()},this.options,t),this.isSelected=!1,this.visual=new m({id:this.options.id,autoSize:this.options.autoSize}),this.id=this.options.id,this._template()},options:{hover:{},cursor:D.grip,content:{align:"center middle"},selectable:!0,serializable:!0,enable:!0},_getCursor:function(t){return this.adorner?this.adorner._getCursor(t):this.options.cursor},visible:function(t){if(B(t))return this.visual.visible();this.visual.visible(t)},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(t){this.options.x=t.x,this.options.y=t.y,this.visual.position(t)},toString:function(){return this.options.id},serialize:function(){var t=c({},{options:this.options});return this.dataItem&&(t.dataItem=this.dataItem.toString()),t},_content:function(t){if(void 0!==t){var e=this.options;r.Utils.isString(t)?e.content.text=t:c(e.content,t);var i=e.content,n=this._contentVisual;n?this._updateContentVisual(i):this._createContentVisual(i)}return this.options.content.text},_createContentVisual:function(t){t.text&&(this._contentVisual=new x(t),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual))},_updateContentVisual:function(t){this._contentVisual.redraw(t)},_hitTest:function(t){var e=this.bounds();return this.visible()&&e.contains(t)&&this.options.enable},_template:function(){if(this.options.content.template){var t=this.dataItem||{},e=kendo.template(this.options.content.template,{paramName:"dataItem"});this.options.content.text=e(t)}},_canSelect:function(){return!1!==this.options.selectable},toJSON:function(){return{id:this.options.id}}}),rt=s.extend({init:function(t,e){this.options=c({},this.options,e),this.connections=[],this.shape=t},options:{width:7,height:7,fill:{color:"Yellow"},hover:{}},position:function(){return this.options.position?this.options.position(this.shape):this.shape.getPosition(this.options.name)},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}});rt.parse=function(t,e){for(var i=e.split(":"),n=i[0],o=i[1]||Z,r=0;r<t.shapes.length;r++){var a=t.shapes[r];if(a.options.id==n)return a.getConnector(o.trim())}};var at=ot.extend({init:function(t,e){ot.fn.init.call(this,t),this.diagram=e,this.updateOptionsFromModel(),t=this.options,this.connectors=[],this.type=t.type,this.createShapeVisual(),this.updateBounds(),this.content(this.content()),this._createConnectors()},options:r.shapeDefaults(),_setOptionsFromModel:function(t){var e=ct(t||this.dataItem);this.options=c({},this.options,e),this.redrawVisual()},updateOptionsFromModel:function(t,e){if(this.diagram&&this.diagram._isEditable){var n=ct(t||this.dataItem);if(t&&e)if(i.inArray(e,["x","y","width","height"])){var o=this.bounds();o[e]=t[e],this.bounds(o)}else this.options.visual?this._redrawVisual():n.type&&(this.options=c({},this.options,n),this._redrawVisual()),this.options.content&&(this._template(),this.content(this.options.content));else this.options=c({},this.options,n)}},_redrawVisual:function(){this.visual.clear(),this._contentVisual=null,this.options.dataItem=this.dataItem,this.createShapeVisual(),this.updateBounds()},redrawVisual:function(){this._redrawVisual(),this.options.content&&(this._template(),this.content(this.options.content))},updateModel:function(t){var e=this.diagram;if(e&&e._isEditable){var i=this._bounds,n=this.dataItem;n&&(e._suspendModelRefresh(),V(n.x)&&i.x!==n.x&&n.set("x",i.x),V(n.y)&&i.y!==n.y&&n.set("y",i.y),V(n.width)&&i.width!==n.width&&n.set("width",i.width),V(n.height)&&i.height!==n.height&&n.set("height",i.height),this.dataItem=n,e._resumeModelRefresh(),t&&e._syncShapeChanges())}},updateBounds:function(){var t=this.visual._measure(!0),e=this.options;this.bounds(new k(e.x,e.y,t.width,t.height)),this._rotate(),this._alignContent()},content:function(t){var e=this._content(t);return this._alignContent(),e},_alignContent:function(){var t=this.options.content||{},e=this._contentVisual;if(e&&t.align){var i=this.visual._measure(),n=new r.RectAlign(i),o=e.drawingElement.bbox(null),a=new k(0,0,o.width(),o.height()),s=n.align(a,t.align);e.position(s.topLeft())}},_createConnectors:function(){var t,e,i=this.options,n=i.connectors.length,o=i.connectorDefaults;for(e=0;e<n;e++)t=new rt(this,c({},o,i.connectors[e])),this.connectors.push(t)},bounds:function(t){var e;if(t)if(W(t))switch(t){case"transformed":e=this._transformedBounds();break;case"absolute":e=this._transformedBounds();var i=this.diagram._pan;e.x+=i.x,e.y+=i.y;break;case"rotated":e=this._rotatedBounds();break;default:e=this._bounds}else this._setBounds(t),this._triggerBoundsChange(),this.diagram&&this.diagram._layouting||this.refreshConnections();else e=this._bounds;return e},_setBounds:function(t){var e=this.options,i=t.topLeft(),n=e.x=i.x,o=e.y=i.y,r=e.width=Q.max(t.width,e.minWidth),a=e.height=Q.max(t.height,e.minHeight);this._bounds=new k(n,o,r,a),this.visual.redraw({x:n,y:o,width:r,height:a})},position:function(t){if(!t)return this._bounds.topLeft();this.bounds(new k(t.x,t.y,this._bounds.width,this._bounds.height))},clone:function(){var t=this.serialize();return t.options.id=r.randomId(),this.diagram&&this.diagram._isEditable&&V(this.dataItem)&&(t.options.dataItem=kt(this.dataItem)),new at(t.options)},select:function(t){var e,i,n=this.diagram;if(B(t)&&(t=!0),this._canSelect()&&this.isSelected!=t)return e=[],i=[],this.isSelected=t,this.isSelected?(n._selectedItems.push(this),e.push(this)):(O.remove(n._selectedItems,this),i.push(this)),n._internalSelection||n._selectionChanged(e,i),!0},rotate:function(t,e,i){var n=this.visual.rotate();if(void 0!==t){!1!==i&&this.diagram&&this.diagram.undoRedoService&&t!==n.angle&&this.diagram.undoRedoService.add(new r.RotateUnit(this.diagram._resizingAdorner,[this],[n.angle]),!1);var o,a,s=this.bounds(),l=new C(s.width/2,s.height/2);e&&(o=t-n.angle,a=s.center().rotate(e,360-o).minus(l),this._rotationOffset=this._rotationOffset.plus(a.minus(s.topLeft())),this.position(a)),this.visual.rotate(t,l),this.options.rotation.angle=t,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger("itemRotate",{item:this})}return n},connections:function(t){var e,i,n,o,r,a=[];for(e=0;e<this.connectors.length;e++)for(r=this.connectors[e],o=r.connections,i=0;i<o.length;i++)if(n=o[i],"out"==t){var s=n.source();s.shape&&s.shape==this&&a.push(n)}else if("in"==t){var l=n.target();l.shape&&l.shape==this&&a.push(n)}else a.push(n);return a},refreshConnections:function(){t.each(this.connections(),function(){this.refresh()})},getConnector:function(t){var e,i;if(!W(t))return t instanceof C?it(t,this.connectors):this.connectors.length?this.connectors[0]:null;for(t=t.toLocaleLowerCase(),e=0;e<this.connectors.length;e++)if((i=this.connectors[e]).options.name.toLocaleLowerCase()==t)return i},getPosition:function(t){var e=this.bounds(),i=t.charAt(0).toLowerCase()+t.slice(1);return U(e[i])?this._transformPoint(e[i]()):e.center()},redraw:function(t){if(t){var e,i=this.options;this.shapeVisual.redraw(this._visualOptions(t)),this._diffNumericOptions(t,["width","height","x","y"])&&(this.bounds(new k(i.x,i.y,i.width,i.height)),e=!0),t.connectors&&(i.connectors=t.connectors,this._updateConnectors()),i=c(i,t),(t.rotation||e)&&this._rotate(),i.content&&this.content(i.content)}},_updateConnectors:function(){var t,e,i,n=this.connections();this.connectors=[],this._createConnectors();for(var o=0;o<n.length;o++)t=n[o],e=t.source(),i=t.target(),e.shape&&e.shape===this?t.source(this.getConnector(e.options.name)||null):i.shape&&i.shape===this&&t.target(this.getConnector(i.options.name)||null),t.updateModel()},_diffNumericOptions:r.diffNumericOptions,_visualOptions:function(t){return{data:t.path,source:t.source,hover:t.hover,fill:t.fill,stroke:t.stroke}},_triggerBoundsChange:function(){this.diagram&&this.diagram.trigger("itemBoundsChange",{item:this,bounds:this._bounds.clone()})},_transformPoint:function(t){var e=this.rotate(),i=this.bounds(),n=i.topLeft();return e.angle&&t.rotate(e.center().plus(n),360-e.angle),t},_transformedBounds:function(){var t=this.bounds(),e=t.topLeft(),i=t.bottomRight();return k.fromPoints(this.diagram.modelToView(e),this.diagram.modelToView(i))},_rotatedBounds:function(){var t=this.bounds().rotatedBounds(this.rotate().angle),e=t.topLeft(),i=t.bottomRight();return k.fromPoints(e,i)},_rotate:function(){var t=this.options.rotation;t&&t.angle&&this.rotate(t.angle),this._rotationOffset=new C},_hover:function(t){var e=this.options,i=e.hover,n=e.stroke,o=e.fill;t&&q(i.stroke)&&(n=c({},n,i.stroke)),t&&q(i.fill)&&(o=i.fill),this.shapeVisual.redraw({stroke:n,fill:o}),e.editable&&e.editable.connect&&this.diagram._showConnectors(this,t)},_hitTest:function(t){if(this.visible()){var e,i=this.bounds(),n=this.rotate().angle;if(t.isEmpty&&!t.isEmpty())return A.rects(t,i,n||0);if(e=t.clone().rotate(i.center(),n),i.contains(e))return this}},toJSON:function(){return{shapeId:this.options.id}},createShapeVisual:function(){var t,e=this.options,i=this._visualOptions(e),n=e.visual,o=(e.type+"").toLocaleLowerCase();i.width=e.width,i.height=e.height,U(n)?t=n.call(this,e):i.data?function(t){var e=t.drawingContainer().clippedBBox(null);0===e.origin.x&&0===e.origin.y||t.position(-e.origin.x,-e.origin.y)}(t=new y(i)):t="rectangle"==o?new g(i):"circle"==o?new v(i):"text"==o?new x(i):"image"==o?new S(i):new y(i),this.shapeVisual=t,this.visual.append(this.shapeVisual)}}),st=ot.extend({init:function(t,e,i){ot.fn.init.call(this,i),this.updateOptionsFromModel(),this._initRouter(),this.path=new r.Polyline(this.options),this.path.fill("transparent"),this.visual.append(this.path),this._sourcePoint=this._targetPoint=new C,this._setSource(t),this._setTarget(e),this.content(this.options.content),this.definers=[],V(i)&&i.points&&this.points(i.points)},options:{hover:{stroke:{}},startCap:"none",endCap:"none",points:[],selectable:!0,fromConnector:Z,toConnector:Z},_setOptionsFromModel:function(t){this.updateOptionsFromModel(t||this.dataItem)},updateOptionsFromModel:function(t){if(this.diagram&&this.diagram._isEditable){var e=this.diagram._dataMap,i=function(t){var e={};return V((t=t||{}).text)&&null!==t.text&&(e.content=t.text),V(t.type)&&null!==t.type&&(e.type=t.type),V(t.from)&&null!==t.from&&(e.from=t.from),V(t.fromConnector)&&null!==t.fromConnector&&(e.fromConnector=t.fromConnector),V(t.fromX)&&null!==t.fromX&&(e.fromX=t.fromX),V(t.fromY)&&null!==t.fromY&&(e.fromY=t.fromY),V(t.to)&&null!==t.to&&(e.to=t.to),V(t.toConnector)&&null!==t.toConnector&&(e.toConnector=t.toConnector),V(t.toX)&&null!==t.toX&&(e.toX=t.toX),V(t.toY)&&null!==t.toY&&(e.toY=t.toY),e}(t||this.dataItem);if(t){if(V(i.from)){var n=e[i.from];n&&V(i.fromConnector)&&(n=n.getConnector(i.fromConnector)),this.source(n)}else V(i.fromX)&&V(i.fromY)&&this.source(new C(i.fromX,i.fromY));if(V(i.to)){var o=e[i.to];o&&V(i.toConnector)&&(o=o.getConnector(i.toConnector)),this.target(o)}else V(i.toX)&&V(i.toY)&&this.target(new C(i.toX,i.toY));V(i.type)&&this.type()!==i.type&&(this.points([]),this.type(i.type)),this.dataItem=t,this._template(),this.redraw(this.options)}else this.options=c({},i,this.options)}},updateModel:function(t){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var e=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);e&&(this.diagram._suspendModelRefresh(),V(this.options.fromX)&&null!==this.options.fromX?(_t("from",e),_t("fromConnector",e),e.set("fromX",this.options.fromX),e.set("fromY",this.options.fromY)):(e.set("from",this.options.from),V(e.fromConnector)&&e.set("fromConnector",this.sourceConnector?this.sourceConnector.options.name:null),_t("fromX",e),_t("fromY",e)),V(this.options.toX)&&null!==this.options.toX?(_t("to",e),_t("toConnector",e),e.set("toX",this.options.toX),e.set("toY",this.options.toY)):(e.set("to",this.options.to),V(e.toConnector)&&e.set("toConnector",this.targetConnector?this.targetConnector.options.name:null),_t("toX",e),_t("toY",e)),V(this.options.type)&&V(e.type)&&e.set("type",this.options.type),this.dataItem=e,this.diagram._resumeModelRefresh(),t&&this.diagram._syncConnectionChanges())}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},_setSource:function(t){var e,i=t instanceof at,n=this.options.fromConnector||Z;i&&!t.getConnector(n)||(void 0!==t&&(this.from=t),this._removeFromSourceConnector(),null===t?this.sourceConnector&&(this._sourcePoint=(this._resolvedSourceConnector||this.sourceConnector).position(),this._clearSourceConnector(),this._setFromOptions(null,this._sourcePoint)):t instanceof rt?((e=t.shape.dataItem)&&this._setFromOptions(e.id),this.sourceConnector=t,this.sourceConnector.connections.push(this)):t instanceof C?(this._setFromOptions(null,t),this._sourcePoint=t,this.sourceConnector&&this._clearSourceConnector()):i&&((e=t.dataItem)&&this._setFromOptions(e.id),this.sourceConnector=t.getConnector(n),this.sourceConnector.connections.push(this)))},source:function(t,e){return q(t)&&(e&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new r.ConnectionEditUnit(this,t)),this._setSource(t),this.refresh()),this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(t,e){this.options.from=t,e?(this.options.fromX=e.x,this.options.fromY=e.y):(this.options.fromX=null,this.options.fromY=null)},sourceDefiner:function(t){if(!t)return this._sourceDefiner||(this._sourceDefiner=new r.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner;if(!(t instanceof r.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";t.left=null,this._sourceDefiner=t,this.source(t.point)},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},_setTarget:function(t){var e,i=t instanceof at,n=this.options.toConnector||Z;i&&!t.getConnector(n)||(void 0!==t&&(this.to=t),this._removeFromTargetConnector(),null===t?this.targetConnector&&(this._targetPoint=(this._resolvedTargetConnector||this.targetConnector).position(),this._clearTargetConnector(),this._setToOptions(null,this._targetPoint)):t instanceof rt?((e=t.shape.dataItem)&&this._setToOptions(e.id),this.targetConnector=t,this.targetConnector.connections.push(this)):t instanceof C?(this._setToOptions(null,t),this._targetPoint=t,this.targetConnector&&this._clearTargetConnector()):i&&((e=t.dataItem)&&this._setToOptions(e.id),this.targetConnector=t.getConnector(n),this.targetConnector.connections.push(this)))},target:function(t,e){return q(t)&&(e&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new r.ConnectionEditUnit(this,void 0,t)),this._setTarget(t),this.refresh()),this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(t,e){this.options.to=t,e?(this.options.toX=e.x,this.options.toY=e.y):(this.options.toX=null,this.options.toY=null)},targetDefiner:function(t){if(!t)return this._targetDefiner||(this._targetDefiner=new r.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner;if(!(t instanceof r.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";t.right=null,this._targetDefiner=t,this.target(t.point)},_updateConnectors:function(){this._updateConnector(this.source(),"source"),this._updateConnector(this.target(),"target")},_updateConnector:function(t,e){var i=this,n=i.diagram;if(t instanceof rt&&!n.getShapeById(t.shape.id)){var o=t.shape.dataItem,r=t.options.name,a=function(){var a=n._dataMap[o.id];t=a.getConnector(r),i[e](t,!1),i.updateModel()};if(n._dataMap[o.id])a();else{var s=n._inactiveShapeItems.getByUid(o.uid);s&&n._deferredConnectionUpdates.push(s.onActivate(a))}}else i[e](t,!1)},content:function(t){var e=this._content(t);return V(t)&&this._alignContent(),e},_createContentVisual:function(t){var e;return U(t.visual)?e=t.visual.call(this,t):t.text&&(e=new x(t)),e&&(this._contentVisual=e,e._includeInBBox=!1,this.visual.append(e)),e},_updateContentVisual:function(t){U(t.visual)?(this.visual.remove(this._contentVisual),this._createContentVisual(t)):this._contentVisual.redraw(t)},_alignContent:function(){if(this._contentVisual){for(var t=5,e=this.allPoints(),i=Q.floor(e.length/2),o=i-1;o>0&&e[o].equals(e[i]);)o--,i++;var r,a=e[i],s=e[o],l=this._contentVisual._measure(),c=l.width,u=l.height,h=e.length%2==0,d=s.distanceTo(a);if(h&&e.length>2&&d>0&&(s.y===a.y&&d<c||s.x===a.x&&d<u)&&(h=!1,t=0),h){var f=n.util.deg(Q.atan2(a.y-s.y,a.x-s.x));r=new C((a.x-s.x)/2+s.x,(a.y-s.y)/2+s.y),90===Q.abs(f)?(r.x+=t,r.y-=u/2):f%180==0?(r.x-=c/2,r.y-=u+t):f<-90||0<f&&f<90?r.y-=u:(f<0||f>90)&&(r.x-=c,r.y-=u)}else{var p=Q.floor(e.length/2);r=e[p].clone(),s=e[p-1],a=e[p+1];var m=s.x<=r.x&&a.x<=r.x?t:-l.width-t,g=s.y<=r.y&&a.y<=r.y?t:-l.height-t;r.x+=m,r.y+=g}this._contentVisual.position(r)}},select:function(t){var e,i,n=this.diagram;if(this._canSelect()&&this.isSelected!==t)return this.isSelected=t,e=[],i=[],this.isSelected?(this.adorner=new T(this,this.options.selection),n._adorn(this.adorner,!0),n._selectedItems.push(this),e.push(this)):this.adorner&&(n._adorn(this.adorner,!1),O.remove(n._selectedItems,this),this.adorner=void 0,i.push(this)),this.adorner&&this.adorner.refresh(),n._internalSelection||n._selectionChanged(e,i),!0},bounds:function(t){if(!t||W(t))return this._bounds;this._bounds=t},type:function(t){var e=this.options;if(!t)return e.type;t!==e.type&&(e.type=t,this._initRouter(),this.refresh())},_initRouter:function(){var t=(this.options.type||"").toLowerCase();this._router="cascading"==t?new N(this):new F(this)},points:function(t){if(!t){var e=[];if(q(this.definers))for(var i=0;i<this.definers.length;i++)e.push(this.definers[i].point);return e}this.definers=[];for(var n=0;n<t.length;n++){var o=t[n];if(o instanceof r.Point)this.definers.push(new r.PathDefiner(o));else{if(!o.hasOwnProperty("x")||!o.hasOwnProperty("y"))throw"A Connection point needs to be a Point or an object with x and y properties.";this.definers.push(new r.PathDefiner(new C(o.x,o.y)))}}},allPoints:function(){var t=[this.sourcePoint()];if(this.definers)for(var e=0;e<this.definers.length;e++)t.push(this.definers[e].point);return t.push(this.targetPoint()),t},refresh:function(){this._resolveConnectors(),this._refreshPath(),this._alignContent(),this.adorner&&this.adorner.refresh()},_resolveConnectors:function(){var t,e,i,n,o=this.source(),r=this.target();o instanceof C?t=o:o instanceof rt&&(i=et(o)?o.shape.connectors:[o]),r instanceof C?e=r:r instanceof rt&&(n=et(r)?r.shape.connectors:[r]),t?n&&(this._resolvedTargetConnector=it(t,n)):i&&(e?this._resolvedSourceConnector=it(e,i):n&&this._resolveAutoConnectors(i,n))},_resolveAutoConnectors:function(t,e){var i,n,o,r,a,s,l,c,u,h,d,f=X,p=X;for(u=0;u<t.length;u++)if(!et(l=t[u]))for(o=l.position(),h=0;h<e.length;h++)et(c=e[h])||(r=c.position(),(d=Q.round(o.distanceTo(r)))<f&&this.diagram&&this._testRoutePoints(o,r,l,c)&&(f=d,i=l,n=c),d<p&&(a=l,s=c,p=d));i&&(a=i,s=n),this._resolvedSourceConnector=a,this._resolvedTargetConnector=s},_testRoutePoints:function(t,e,i,n){var o=this._router,r=!0;if(o instanceof N){var a,s,l,c,u=o.routePoints(t,e,i,n);c=this._getRouteExclude(t,e,i.shape,n.shape),u.unshift(t),u.push(e);for(var h=1;h<u.length;h++)if(a=u[h-1],s=u[h],(l=new k(Q.min(a.x,s.x),Q.min(a.y,s.y),Q.abs(a.x-s.x),Q.abs(a.y-s.y))).width>0&&(l.x++,l.width-=2),l.height>0&&(l.y++,l.height-=2),!l.isEmpty()&&this.diagram._shapesQuadTree.hitTestRect(l,c)){r=!1;break}}return r},_getRouteExclude:function(t,e,i,n){var o=[];return this._isPointInsideShape(t,i)&&o.push(i),this._isPointInsideShape(e,n)&&o.push(n),o},_isPointInsideShape:function(t,e){var i,n,o,r=e.bounds(),a=e.rotate().angle,s=r.x,l=r.y;return i=t.clone().rotate(r.center(),a),n=i.x,o=i.y,n>s&&n<s+r.width&&o>l&&o<l+r.height},redraw:function(t){if(t){this.options=c({},this.options,t);var e=this.options.points;V(e)&&e.length>0&&(this.points(e),this._refreshPath()),(t&&t.content||t.text)&&this.content(t.content),this.path.redraw({fill:t.fill,stroke:t.stroke,startCap:t.startCap,endCap:t.endCap})}},clone:function(){var t=this.serialize();return this.diagram&&this.diagram._isEditable&&V(this.dataItem)&&(t.options.dataItem=kt(this.dataItem)),new st(this.from,this.to,t.options)},serialize:function(){var t=this.from.toJSON?this.from.toJSON:this.from.toString(),e=this.to.toJSON?this.to.toJSON:this.to.toString(),i=c({},{options:this.options,from:t,to:e});return V(this.dataItem)&&(i.dataItem=this.dataItem.toString()),i.options.points=this.points(),i},_hitTest:function(t){if(this.visible()){var e=new C(t.x,t.y),i=this.sourcePoint(),n=this.targetPoint();if(t.isEmpty&&!t.isEmpty()&&t.contains(i)&&t.contains(n))return this;if(this._router.hitTest(e))return this}},_hover:function(t){var e=(this.options.stroke||{}).color;t&&q(this.options.hover.stroke.color)&&(e=this.options.hover.stroke.color),this.path.redraw({stroke:{color:e}})},_refreshPath:function(){V(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()))},_drawPath:function(){this._router&&this._router.route();var t=this.sourcePoint(),e=this.targetPoint(),i=this.points();this.path.redraw({points:[t].concat(i,[e])})},_clearSourceConnector:function(){this.sourceConnector=void 0,this._resolvedSourceConnector=void 0},_clearTargetConnector:function(){this.targetConnector=void 0,this._resolvedTargetConnector=void 0},_removeFromSourceConnector:function(){this.sourceConnector&&O.remove(this.sourceConnector.connections,this)},_removeFromTargetConnector:function(){this.targetConnector&&O.remove(this.targetConnector.connections,this)},toJSON:function(){var t,e,i;return this.from&&this.from.toJSON?t=this.from.toJSON():(i=this._sourcePoint,t={x:i.x,y:i.y}),this.to&&this.to.toJSON?e=this.to.toJSON():(i=this._targetPoint,e={x:i.x,y:i.y}),{from:t,to:e}}}),lt=a.extend({init:function(t,e){kendo.destroy(t),a.fn.init.call(this,t,e),this._initTheme(),this._initElements(),this._extendLayoutOptions(this.options),this._initDefaults(e),this._interactionDefaults(),this._initCanvas(),this.mainLayer=new m({id:"main-layer"}),this.canvas.append(this.mainLayer),this._shapesQuadTree=new bt(this),this._pan=new C,this._adorners=[],this.adornerLayer=new m({id:"adorner-layer"}),this.canvas.append(this.adornerLayer),this._createHandlers(),this._initialize(),this._resizingAdorner=new E(this,{editable:this.options.editable}),this._connectorsAdorner=new I(this),this._adorn(this._resizingAdorner,!0),this._adorn(this._connectorsAdorner,!0),this.selector=new z(this),this._clipboard=[],this.pauseMouseHandlers=!1,this._fetchFreshData(),this._createGlobalToolBar(),this._createOptionElements(),this.zoom(this.options.zoom),this.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:!0,template:"",autoBind:!0,editable:{rotate:{},resize:{},text:!0,tools:[],drag:{snap:{size:10,angle:10}},remove:!0},pannable:{},selectable:{key:"none"},tooltip:{enabled:!0,format:"{0}"},copy:{enabled:!0,offsetX:20,offsetY:20},shapeDefaults:r.shapeDefaults({undoable:!0}),connectionDefaults:{editable:{tools:[]},type:"cascading"},shapes:[],connections:[]},events:["zoomEnd","zoomStart","pan","select","itemRotate","itemBoundsChange","change","click","mouseEnter","mouseLeave","toolBarClick","save","cancel","edit","remove","add","dataBound","dragStart","drag","dragEnd"],items:function(){return t()},_createGlobalToolBar:function(){var t=this.options.editable;if(t){var e=t.tools;!this._isEditable||!1===e||e&&0!==e.length||(e=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]),e&&e.length&&(this.toolBar=new ut(this,{tools:e||{},click:l(this._toolBarClick,this),modal:!1}),this.toolBar.element.css({textAlign:"left"}),this.element.prepend(this.toolBar.element),this._resize())}},createShape:function(){if(this.editor&&this.editor.end()||!this.editor){var t=this.dataSource,e=t.view()||[],i=e.length,n=wt(t,{}),o=this._createShape(n,{});if(!this.trigger("add",{shape:o})){t.insert(i,n);var r=this._inactiveShapeItems.getByUid(n.uid);r.element=o,this.edit(o)}}},_createShape:function(t,e){(e=c({},this.options.shapeDefaults,e)).dataItem=t;var i=new at(e,this);return i},createConnection:function(){if(this.editor&&this.editor.end()||!this.editor){var t=this.connectionsDataSource,e=t.view()||[],i=e.length,n=wt(t,{}),o=this._createConnection(n);this.trigger("add",{connection:o})||(this._connectionsDataMap[n.uid]=o,t.insert(i,n),this.addConnection(o,!1),this.edit(o))}},_createConnection:function(t,e,i){var n=c({},this.options.connectionDefaults);n.dataItem=t;var o=new st(e||new C,i||new C,n);return o},editModel:function(t,e){var i,n;this.cancelEdit();var o=this.options.editable;if("shape"==e)i=o.shapeEditors,n=o.shapeTemplate;else{if("connection"!=e)return;var r=l(ft,this);i=c({},{from:r,to:r},o.connectionEditors),n=o.connectionTemplate}this.editor=new dt(this.element,{update:l(this._update,this),cancel:l(this._cancel,this),model:t,type:e,target:this,editors:i,template:n}),this.trigger("edit",this._editArgs())},edit:function(t){if(t.dataItem){var e=t instanceof at?"shape":"connection";this.editModel(t.dataItem,e)}},cancelEdit:function(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},saveEdit:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&this._getEditDataSource().sync()},_update:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor())},_cancel:function(){if(this.editor&&!this.trigger("cancel",this._editArgs())){var t=this.editor.model;this._getEditDataSource().cancelChanges(t);var e=this._connectionsDataMap[t.uid]||this._dataMap[t.id];e&&e._setOptionsFromModel(t),this._destroyEditor()}},_getEditDataSource:function(){return"shape"===this.editor.options.type?this.dataSource:this.connectionsDataSource},_editArgs:function(){var t={container:this.editor.wrapper};return t[this.editor.options.type]=this.editor.model,t},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram"),this.scrollable=t("<div />").appendTo(this.element)},_initDefaults:function(t){var e=this.options,i=e.editable,n=e.shapeDefaults,o=e.connectionDefaults,r=(t||{}).shapeDefaults;!1===i?(n.editable=!1,o.editable=!1):(xt(i,n.editable,["drag","remove","connect"]),xt(i,o.editable,["drag","remove"])),r&&r.connectors&&(e.shapeDefaults.connectors=r.connectors)},_interactionDefaults:function(){var t=this.options,e=t.selectable,i=t.pannable,n=kendo.support.mobileOS;e&&!V(e.multiple)&&(t.selectable=c({multiple:!n},t.selectable)),i&&!V(i.key)&&(t.pannable=c({key:n?"none":"ctrl"},t.pannable))},_initCanvas:function(){var e=t("<div class='k-layer'></div>").appendTo(this.scrollable)[0],i=this.viewport();this.canvas=new p(e,{width:i.width||600,height:i.height||600})},_createHandlers:function(){var t=this.element;t.on("DOMMouseScroll.kendoDiagram mousewheel.kendoDiagram",l(this._wheel,this)).on("keydown"+K,l(this._keydown,this)),this._userEvents=new kendo.UserEvents(this.scrollable,{multiTouch:!0,fastTap:!0,tap:l(this._tap,this),start:l(this._dragStart,this),move:l(this._drag,this),end:l(this._dragEnd,this),gesturestart:l(this._gestureStart,this),gesturechange:l(this._gestureChange,this),gestureend:l(this._gestureEnd,this)}),this.toolService=new M(this),this.scrollable.on("mouseover"+K,l(this._mouseover,this)).on("mouseout"+K,l(this._mouseout,this)).on("mousemove"+K,l(this._mouseMove,this)).on("mousedown"+K,l(this._mouseDown,this)).on("mouseup"+K,l(this._mouseUp,this)),this._syncHandler=l(this._syncChanges,this),this._resizeHandler=l(this.resize,this,!1),kendo.onResize(this._resizeHandler),this.bind("zoomStart",l(this._destroyToolBar,this)),this.bind("pan",l(this._destroyToolBar,this))},_dragStart:function(t){this._pauseMouseHandlers=!0;var e=this._eventPositions(t,!0),i=t.event;this.toolService.start(e,this._meta(i))&&(this._destroyToolBar(),i.preventDefault())},_drag:function(t){var e=this._eventPositions(t),i=t.event;this.toolService.move(e,this._meta(i))&&i.preventDefault()},_dragEnd:function(t){this._pauseMouseHandlers=!1;var e=this._eventPositions(t),i=t.event;this.toolService.end(e,this._meta(i))&&(this._createToolBar(),i.preventDefault())},_mouseMove:function(t){if(!this._pauseMouseHandlers){var e=this._eventPositions(t);this.toolService._updateHoveredItem(e),this.toolService._updateCursor(e)}},_mouseDown:function(){this._pauseMouseHandlers=!0},_mouseUp:function(){this._pauseMouseHandlers=!1},_tap:function(t){var e=this.toolService,i=this.options.selectable,n=this._eventPositions(t),o=this.focus();if(e._updateHoveredItem(n),e.hoveredItem){var r=e.hoveredItem;if(this.trigger("click",{item:r,point:n}),i&&!1!==r.options.selectable){var a=!1!==i.multiple,s=kendo.support.mobileOS||this._meta(t.event).ctrlKey;r.isSelected?s?(this._destroyToolBar(),r.select(!1)):this._createToolBar(o):(this._destroyToolBar(),this.select(r,{addToSelection:a&&s}),this._createToolBar(o))}}else i&&(this._destroyToolBar(),this.deselect())},_keydown:function(t){this.toolService.keyDown(t.keyCode,this._meta(t))&&t.preventDefault()},_wheel:function(t){var e=function(t){var e=t.originalEvent,i=0;return e.wheelDelta?i=(i=-e.wheelDelta/40)>0?Q.ceil(i):Q.floor(i):e.detail&&(i=e.detail),i}(t),i=this._eventPositions(t),n=c(this._meta(t),{delta:e});this.toolService.wheel(i,n)&&t.preventDefault()},_meta:function(t){return{ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey,type:t.type}},_eventPositions:function(t,e){var i;if(t.touch){var n=e?"startLocation":"location";i=new C(t.x[n],t.y[n])}else{var o=t.originalEvent;i=new C(o.pageX,o.pageY)}return this.documentToModel(i)},_gestureStart:function(t){this._destroyToolBar(),this.scroller.disable();var e=this.documentToModel(new C(t.center.x,t.center.y)),i={point:e,zoom:this.zoom()};this.trigger("zoomStart",i)||(this._gesture=t,this._initialCenter=e)},_gestureChange:function(t){var e=this._gesture,i=this._initialCenter,n=this.documentToView(new C(t.center.x,t.center.y)),o=t.distance/e.distance,r=this._zoom,a=!1;Q.abs(o-1)>=.05&&(this._zoom=r=this._getValidZoom(r*o),this.options.zoom=r,this._gesture=t,a=!0);var s=i.times(r),l=n.minus(s);(a||this._pan.distanceTo(l)>=5)&&(this._panTransform(l),this._updateAdorners()),t.preventDefault()},_gestureEnd:function(){!1!==this.options.pannable&&this.scroller.enable(),this.trigger("zoomEnd",{point:this._initialCenter,zoom:this.zoom()})},_resize:function(){var t=this.viewport();this.canvas&&this.canvas.size(t),this.scrollable&&this.toolBar&&this.scrollable.height(t.height)},_mouseover:function(t){var e=t.target._kendoNode;e&&e.srcElement._hover&&e.srcElement._hover(!0,e.srcElement)},_mouseout:function(t){var e=t.target._kendoNode;e&&e.srcElement._hover&&e.srcElement._hover(!1,e.srcElement)},_initTheme:function(){var t,e=((this.options||{}).theme||"").toLowerCase(),n=i.ui.themes||{};t=-1!=Y.indexOf(e)?i.autoTheme().diagram:(n[e]||{}).diagram,this.options=c({},t,this.options),!0===this.options.editable&&c(this.options,{editable:(t||{}).editable})},_createOptionElements:function(){var t=this.options,e=t.shapes.length;e&&this._createShapes(),t.connections.length&&this._createConnections(),e&&t.layout&&this.layout(t.layout)},_createShapes:function(){var t,e,i=this.options,n=i.shapes;for(e=0;e<n.length;e++)t=n[e],this.addShape(t)},_createConnections:function(){var t,e,i,n,o=this.options,r=o.connectionDefaults,a=o.connections;for(n=0;n<a.length;n++)t=a[n],e=this._findConnectionTarget(t.from),i=this._findConnectionTarget(t.to),this.connect(e,i,c({},r,t))},_findConnectionTarget:function(t){var e,i=W(t=t||{})?t:t.shapeId||t.id;return i?(e=this.getShapeById(i),t.connector&&(e=e.getConnector(t.connector))):e=new C(t.x||0,t.y||0),e},destroy:function(){a.fn.destroy.call(this),this._userEvents&&this._userEvents.destroy(),kendo.unbindResize(this._resizeHandler),this.clear(),this.element.off(K),this.scroller.wrapper.off(K),this.canvas.destroy(!0),this.canvas=void 0,this._destroyEditor(),this.destroyScroller(),this._destroyGlobalToolBar(),this._destroyToolBar()},destroyScroller:function(){var t=this.scroller;t&&(t.destroy(),t.element.remove(),this.scroller=null)},save:function(){var t,e,i,n={shapes:[],connections:[]};for(t=0;t<this.shapes.length;t++)(i=this.shapes[t]).options.serializable&&n.shapes.push(i.options);for(t=0;t<this.connections.length;t++)e=this.connections[t],n.connections.push(c({},e.options,e.toJSON()));return n},focus:function(){if(!this.element.is(kendo._activeElement())){var t,e=this.element,i=e[0],n=[],o=[],r=document.documentElement;do{(i=i.parentNode).scrollHeight>i.clientHeight&&(n.push(i),o.push(i.scrollTop))}while(i!=r);for(e.focus(),t=0;t<n.length;t++)n[t].scrollTop=o[t];return!0}},load:function(t){this.clear(),this.setOptions(t),this._createShapes(),this._createConnections()},setOptions:function(t){c(this.options,t)},clear:function(){this.select(!1),this.mainLayer.clear(),this._shapesQuadTree.clear(),this._initialize()},connect:function(t,e,i){var n;if(this.connectionsDataSource&&this._isEditable){var o=this.connectionsDataSource.add({});(n=this._connectionsDataMap[o.uid]).source(t),n.target(e),n.redraw(i),n.updateModel()}else n=new st(t,e,c({},this.options.connectionDefaults,i)),this.addConnection(n);return n},connected:function(t,e){for(var i=0;i<this.connections.length;i++){var n=this.connections[i];if(n.from==t&&n.to==e)return!0}return!1},addConnection:function(t,e){return!1!==e&&this.undoRedoService.add(new r.AddConnectionUnit(t,this),!1),t.diagram=this,t._setOptionsFromModel(),t.refresh(),this.mainLayer.append(t.visual),this.connections.push(t),this.trigger("change",{added:[t],removed:[]}),t},_addConnection:function(t,e){var i,n=this.connectionsDataSource;if(n&&this._isEditable){if(i=wt(n,kt(t.dataItem)),t.dataItem=i,t.updateModel(),!this.trigger("add",{connection:t}))return this._connectionsDataMap[i.uid]=t,n.add(i),this.addConnection(t,e),t._updateConnectors(),t}else if(!this.trigger("add",{connection:t}))return this.addConnection(t,e),t._updateConnectors(),t},addShape:function(t,e){var i,n=this.options.shapeDefaults;if(t instanceof at)i=t;else{if(t instanceof kendo.Class)return;n=c({},n,t||{}),i=new at(n,this)}return!1!==e&&this.undoRedoService.add(new r.AddShapeUnit(i,this),!1),this.shapes.push(i),i.diagram!==this&&(this._shapesQuadTree.insert(i),i.diagram=this),this.mainLayer.append(i.visual),this.trigger("change",{added:[i],removed:[]}),i},_addShape:function(t,e){var i,n=this.dataSource;if(n&&this._isEditable){if(i=wt(n,kt(t.dataItem)),t.dataItem=i,t.updateModel(),!this.trigger("add",{shape:t})){this.dataSource.add(i);var o=this._inactiveShapeItems.getByUid(i.uid);return o.element=t,o.undoable=e,t}}else if(!this.trigger("add",{shape:t}))return this.addShape(t,e)},remove:function(t,e){var i,n=yt(t=H(t)?t.slice(0):[t]),o=n.shapes,r=n.connections;for(V(e)||(e=!0),e&&this.undoRedoService.begin(),this._suspendModelRefresh(),i=o.length-1;i>=0;i--)this._removeItem(o[i],e,r);for(i=r.length-1;i>=0;i--)this._removeItem(r[i],e);this._resumeModelRefresh(),e&&this.undoRedoService.commit(!1),this.trigger("change",{added:[],removed:t})},_removeShapeDataItem:function(t){this._isEditable&&(this.dataSource.remove(t.dataItem),delete this._dataMap[t.dataItem.id])},_removeConnectionDataItem:function(t){this._isEditable&&(this.connectionsDataSource.remove(t.dataItem),delete this._connectionsDataMap[t.dataItem.uid])},_triggerRemove:function(t){for(var e,i,n,o=[],r=0;r<t.length;r++)e=t[r],n=e.options.editable,i=e instanceof at?{shape:e}:{connection:e},n&&!1!==n.remove&&!this.trigger("remove",i)&&o.push(e);return o},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(t,e){if(!q(t))return this._selectedItems;var i,n,o=(e=c({addToSelection:!1},e)).addToSelection,r=[],a=[];for(o||this.deselect(),this._internalSelection=!0,t instanceof Array?r=t:t instanceof ot&&(r=[t]),i=0;i<r.length;i++)(n=r[i]).select(!0)&&a.push(n);this._selectionChanged(a,[]),this._internalSelection=!1},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(t){var e,i,n;this._internalSelection=!0;var o=[];if(t instanceof k)for(i=this.shapes.concat(this.connections),e=0;e<i.length;e++)n=i[e],t&&!n._hitTest(t)||!n.options.enable||n.select(!0)&&o.push(n);this._selectionChanged(o,[]),this._internalSelection=!1},deselect:function(t){this._internalSelection=!0;var e,i,n=[],o=[];for(t instanceof Array?o=t:t instanceof ot?o.push(t):q(t)||(o=this._selectedItems.slice(0)),i=0;i<o.length;i++)(e=o[i]).select(!1)&&n.push(e);this._selectionChanged([],n),this._internalSelection=!1},toFront:function(t,e){t||(t=this._selectedItems.slice());var i,n=this._getDiagramItems(t);if(!V(e)||e){i=nt(this.mainLayer,n.visuals);var o=new L(this,t,i);this.undoRedoService.add(o)}else this.mainLayer.toFront(n.visuals),this._fixOrdering(n,!0)},toBack:function(t,e){t||(t=this._selectedItems.slice());var i,n=this._getDiagramItems(t);if(!V(e)||e){i=nt(this.mainLayer,n.visuals);var o=new R(this,t,i);this.undoRedoService.add(o)}else this.mainLayer.toBack(n.visuals),this._fixOrdering(n,!1)},bringIntoView:function(t,e){var i,n,o,a,s=this.viewport(),l=new r.RectAlign(s);0!==s.width&&0!==s.height&&("none"==(e=c({animate:!1,align:"center middle"},e)).align&&(e.align="center middle"),t instanceof ot?n=t.bounds("transformed"):H(t)?n=this.boundingBox(t):t instanceof k&&(n=t.clone()),o=n.clone(),n.zoom(this._zoom),(n.width>s.width||n.height>s.height)&&(this._zoom=this._getValidZoom(Q.min(s.width/o.width,s.height/o.height)),n=o.clone().zoom(this._zoom)),this._zoomMainLayer(),i=n.clone(),l.align(n,e.align),a=n.topLeft().minus(i.topLeft()),this.pan(a.times(-1),e.animate))},alignShapes:function(t){B(t)&&(t="Left");var e,i,n,o=this.select();if(0!==o.length){switch(t.toLowerCase()){case"left":case"top":e=J;break;case"right":case"bottom":e=$}for(n=0;n<o.length;n++)if((i=o[n])instanceof at)switch(t.toLowerCase()){case"left":e=Q.min(e,i.options.x);break;case"top":e=Q.min(e,i.options.y);break;case"right":e=Q.max(e,i.options.x);break;case"bottom":e=Q.max(e,i.options.y)}var a=[],s=[];for(n=0;n<o.length;n++)if((i=o[n])instanceof at)switch(s.push(i),a.push(i.bounds()),t.toLowerCase()){case"left":case"right":i.position(new C(e,i.options.y));break;case"top":case"bottom":i.position(new C(i.options.x,e))}var l=new r.TransformUnit(s,a);this.undoRedoService.add(l,!1)}},zoom:function(t,e){if(t){var i=e?e.point:new r.Point(0,0);if(t=this._zoom=this._getValidZoom(t),!B(i)){var n=(i=new r.Point(Q.round(i.x),Q.round(i.y))).times(t),o=this.modelToView(i),a=o.minus(n);this._storePan(new r.Point(Q.round(a.x),Q.round(a.y)))}e&&(e.zoom=t),this._panTransform(),this.canvas.surface.hideTooltip(),this._updateAdorners()}return this._zoom},_getPan:function(t){var e=this.canvas;return e.translate||(t=t.plus(this._pan)),t},pan:function(t,e){if(!(t instanceof C))return this._pan.times(-1);var i=this,n=i.scroller;t=(t=i._getPan(t)).times(-1),e?n.animatedScrollTo(t.x,t.y,function(){i._updateAdorners()}):(n.scrollTo(t.x,t.y),i._updateAdorners())},viewport:function(){var t=this.element,e=t.width(),i=t.height();return this.toolBar&&(i-=h(this.toolBar.element)),new k(0,0,e,i)},copy:function(){if(this.options.copy.enabled){this._clipboard=[],this._copyOffset=1;for(var t=0;t<this._selectedItems.length;t++){var e=this._selectedItems[t];this._clipboard.push(e)}}},cut:function(){if(this.options.copy.enabled){this._clipboard=[],this._copyOffset=0;for(var t=0;t<this._selectedItems.length;t++){var e=this._selectedItems[t];this._clipboard.push(e)}this.remove(this._clipboard,!0)}},paste:function(){if(this._clipboard.length>0){var t,e,i,n={},o=yt(this._clipboard),r=o.connections,a=o.shapes,s={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY};for(this.deselect(),i=0;i<a.length;i++)t=a[i],e=t.clone(),n[t.id]=e,e.position(new C(t.options.x+s.x,t.options.y+s.y)),e.diagram=this,(e=this._addShape(e))&&e.select();for(i=0;i<r.length;i++)t=r[i],(e=this._addConnection(t.clone()))&&(this._updateCopiedConnection(e,t,"source",n,s),this._updateCopiedConnection(e,t,"target",n,s),e.select(!0),e.updateModel());this._syncChanges(),this._copyOffset+=1}},_updateCopiedConnection:function(t,e,i,n,o){var r,a,s,l=e[i](),c=this;l instanceof rt&&n[l.shape.id]?(s=n[l.shape.id],c.getShapeById(s.id)?t[i](s.getConnector(l.options.name)):(a=c._inactiveShapeItems.getByUid(s.dataItem.uid))&&(r=function(e){s=c._dataMap[e.id],t[i](s.getConnector(l.options.name)),t.updateModel()},c._deferredConnectionUpdates.push(a.onActivate(r)))):t[i](new C(e[i+"Point"]().x+o.x,e[i+"Point"]().y+o.y))},boundingBox:function(t,e){var i,n=k.empty(),o=q(t)?this._getDiagramItems(t):{shapes:this.shapes};if(o.shapes.length>0){var r=o.shapes[0];n=r.bounds("rotated");for(var a=1;a<o.shapes.length;a++)r=o.shapes[a],i=r.bounds("rotated"),!0===e&&(i.x-=r._rotationOffset.x,i.y-=r._rotationOffset.y),n=n.union(i)}return n},_containerOffset:function(){var t=this.element.offset();return this.toolBar&&(t.top+=h(this.toolBar.element)),t},documentToView:function(t){var e=this._containerOffset();return new C(t.x-e.left,t.y-e.top)},viewToDocument:function(t){var e=this._containerOffset();return new C(t.x+e.left,t.y+e.top)},viewToModel:function(t){return this._transformWithMatrix(t,this._matrixInvert)},modelToView:function(t){return this._transformWithMatrix(t,this._matrix)},modelToLayer:function(t){return this._transformWithMatrix(t,this._layerMatrix)},layerToModel:function(t){return this._transformWithMatrix(t,this._layerMatrixInvert)},documentToModel:function(t){var e=this.documentToView(t);return this.canvas.translate||(e.x=e.x+this.scroller.scrollLeft,e.y=e.y+this.scroller.scrollTop),this.viewToModel(e)},modelToDocument:function(t){return this.viewToDocument(this.modelToView(t))},_transformWithMatrix:function(t,e){var i=t;if(t instanceof C)e&&(i=e.apply(t));else{var n=this._transformWithMatrix(t.topLeft(),e),o=this._transformWithMatrix(t.bottomRight(),e);i=k.fromPoints(n,o)}return i},setDataSource:function(t){this.options.dataSource=t,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setConnectionsDataSource:function(t){this.options.connectionsDataSource=t,this._connectionDataSource(),this.options.autoBind&&this.connectionsDataSource.fetch()},layout:function(t){var e,i;switch(this._layouting=!0,B(t)&&(t=this.options.layout),(e=B(t)||B(t.type)?"Tree":t.type).toLowerCase()){case"tree":i=new r.TreeLayout(this);break;case"layered":i=new r.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":i=new r.SpringLayout(this);break;default:throw"Layout algorithm '"+e+"' is not supported."}var n=new r.LayoutState(this),o=i.layout(t);if(o){var a=new r.LayoutUndoUnit(n,o,t?t.animate:null);this.undoRedoService.add(a)}this._layouting=!1,this._redrawConnections()},getShapeById:function(t){var e;return(e=O.first(this.shapes,function(e){return e.visual.id===t}))?e:e=O.first(this.connections,function(e){return e.visual.id===t})},getShapeByModelId:function(t){return this._isEditable?this._dataMap[t]:O.first(this.shapes,function(e){return(e.dataItem||{}).id===t})},getShapeByModelUid:function(t){return this._isEditable?O.first(this.shapes,function(e){return(e.dataItem||{}).uid===t}):this._dataMap[t]},getConnectionByModelId:function(t){var e;return this.connectionsDataSource&&(e=O.first(this.connections,function(e){return(e.dataItem||{}).id===t})),e},getConnectionByModelUid:function(t){var e;return this.connectionsDataSource&&(e=this._connectionsDataMap[t]),e},_extendLayoutOptions:function(t){t.layout&&(t.layout=c({},r.LayoutBase.fn.defaultOptions||{},t.layout))},_selectionChanged:function(t,e){(t.length||e.length)&&this.trigger("select",{selected:t,deselected:e})},_getValidZoom:function(t){return Q.min(Q.max(t,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(t){var e=t||this._pan;this.canvas.translate?(this.scroller.scrollTo(e.x,e.y),this._zoomMainLayer()):(this._storePan(e),this._transformMainLayer())},_finishPan:function(){this.trigger("pan",{total:this._pan,delta:Number.NaN})},_storePan:function(t){this._pan=t,this._storeViewMatrix()},_zoomMainLayer:function(){var t=this._zoom,e=new b(0,0,t,t);e.render(this.mainLayer),this._storeLayerMatrix(e),this._storeViewMatrix()},_transformMainLayer:function(){var t=this._pan,e=this._zoom,i=new b(t.x,t.y,e,e);i.render(this.mainLayer),this._storeLayerMatrix(i),this._storeViewMatrix()},_storeLayerMatrix:function(t){this._layerMatrix=t.toMatrix(),this._layerMatrixInvert=t.invert().toMatrix()},_storeViewMatrix:function(){var t=this._pan,e=this._zoom,i=new b(t.x,t.y,e,e);this._matrix=i.toMatrix(),this._matrixInvert=i.invert().toMatrix()},_toIndex:function(t,e){var i=this._getDiagramItems(t);this.mainLayer.toIndex(i.visuals,e),this._fixOrdering(i,!1)},_fixOrdering:function(t,e){var i,n,o=e?this.shapes.length-1:0,r=e?this.connections.length-1:0;for(i=0;i<t.shapes.length;i++)n=t.shapes[i],O.remove(this.shapes,n),O.insert(this.shapes,n,o);for(i=0;i<t.cons.length;i++)n=t.cons[i],O.remove(this.connections,n),O.insert(this.connections,n,r)},_getDiagramItems:function(t){var e,i={},n=t;for(i.visuals=[],i.shapes=[],i.cons=[],t?H(t)||(n=[t]):n=this._selectedItems.slice(),e=0;e<n.length;e++){var o=n[e];o instanceof at?(i.shapes.push(o),i.visuals.push(o.visual)):o instanceof st&&(i.cons.push(o),i.visuals.push(o.visual))}return i},_removeItem:function(t,e,i){t.select(!1),t instanceof at?(this._removeShapeDataItem(t),this._removeShape(t,e,i)):t instanceof st&&(this._removeConnectionDataItem(t),this._removeConnection(t,e)),this.mainLayer.remove(t.visual)},_removeShape:function(t,e,n){var o,r,a,s=[],l=[];for(this.toolService._removeHover(),e&&this.undoRedoService.addCompositeItem(new w(t)),O.remove(this.shapes,t),this._shapesQuadTree.remove(t),o=0;o<t.connectors.length;o++){a=t.connectors[o];for(var c=0;c<a.connections.length;c++)r=a.connections[c],n&&i.inArray(r,n)||(r.sourceConnector==a?s.push(r):r.targetConnector==a&&l.push(r))}for(o=0;o<s.length;o++)s[o].source(null,e),s[o].updateModel();for(o=0;o<l.length;o++)l[o].target(null,e),l[o].updateModel()},_removeConnection:function(t,e){t.sourceConnector&&O.remove(t.sourceConnector.connections,t),t.targetConnector&&O.remove(t.targetConnector.connections,t),e&&this.undoRedoService.addCompositeItem(new _(t)),O.remove(this.connections,t)},_removeDataItems:function(t,e){var i,n,o,r;for(t=H(t)?t:[t];t.length;)if(i=t.shift(),(o=this._dataMap[i.uid])&&(this._removeShapeConnections(o),this._removeItem(o,!1),delete this._dataMap[i.uid],e&&i.hasChildren&&i.loaded()))for(n=i.children.data(),r=0;r<n.length;r++)t.push(n[r])},_removeShapeConnections:function(t){var e,i=t.connections();if(i)for(e=0;e<i.length;e++)this._removeItem(i[e],!1)},_addDataItem:function(t,e){if(V(t)){var i=this._dataMap[t.id];if(i)return i;var n=c({},this.options.shapeDefaults);return n.dataItem=t,i=new at(n,this),this.addShape(i,!1!==e),this._dataMap[t.id]=i,i}},_addDataItemByUid:function(t){if(V(t)){var e=this._dataMap[t.uid];if(e)return e;var i=c({},this.options.shapeDefaults);return i.dataItem=t,e=new at(i,this),this.addShape(e),this._dataMap[t.uid]=e,e}},_addDataItems:function(t,e){var i,n,o,r;for(n=0;n<t.length;n++)i=t[n],o=this._addDataItemByUid(i),(r=this._addDataItemByUid(e))&&!this.connected(r,o)&&this.connect(r,o)},_refreshSource:function(t){var e,i,n=t.node,o=t.action,r=t.items,a=this.options;if(t.field)for(e=0;e<r.length;e++)this._dataMap[r[e].uid]&&this._dataMap[r[e].uid].redrawVisual();else{if("remove"==o)this._removeDataItems(t.items,!0);else for(o&&"itemloaded"!==o||this._bindingRoots||(this._bindingRoots=!0,i=!0),o||n||this.clear(),this._addDataItems(r,n),e=0;e<r.length;e++)r[e].load();a.layout&&(i||"remove"==o||"add"==o)&&this.layout(a.layout),i&&(this.trigger("dataBound"),this._bindingRoots=!1)}},_addItem:function(t){t instanceof at?this.addShape(t):t instanceof st&&this.addConnection(t)},_createToolBar:function(t){var e=this.toolService.diagram;if(!this.singleToolBar&&1===e.select().length){var i=e.select()[0];if(i&&!1!==i.options.editable){var n=i.options.editable,o=n.tools;if(this._isEditable&&0===o.length&&(i instanceof at?o=["edit","rotateClockwise","rotateAnticlockwise"]:i instanceof st&&(o=["edit"]),n&&!1!==n.remove&&o.push("delete")),o&&o.length){var r;this.singleToolBar=new ut(e,{tools:o,click:l(this._toolBarClick,this),modal:!0,popupZIndex:parseInt(e.element.closest(".k-window").css("zIndex"),10)+10});var a=u(this.singleToolBar._popup.element),s=h(this.singleToolBar._popup.element);if(i instanceof at){var c=this.modelToView(i.bounds("rotated"));r=new C(c.x,c.y).minus(new C((a-c.width)/2,s+20))}else if(i instanceof st){var d=this.modelToView(i.bounds());r=new C(d.x,d.y).minus(new C((a-d.width-20)/2,s+20))}r?(this.canvas.translate||(r=r.minus(new C(this.scroller.scrollLeft,this.scroller.scrollTop))),r=this.viewToDocument(r),r=new C(Q.max(r.x,0),Q.max(r.y,0)),this.singleToolBar.showAt(r),t&&this.singleToolBar._popup.one("close",St)):this._destroyToolBar()}}}},_toolBarClick:function(t){this.trigger("toolBarClick",t),this._destroyToolBar()},_normalizePointZoom:function(t){return t.times(1/this.zoom())},_initialize:function(){this.shapes=[],this._selectedItems=[],this.connections=[],this._dataMap={},this._connectionsDataMap={},this._inactiveShapeItems=new mt,this._deferredConnectionUpdates=[],this.undoRedoService=new j({undone:this._syncHandler,redone:this._syncHandler}),this.id=r.randomId()},_fetchFreshData:function(){this._dataSource(),this._isEditable&&this._connectionDataSource(),this.options.autoBind&&(this._isEditable?(this._loadingShapes=!0,this._loadingConnections=!0,this.dataSource.fetch(),this.connectionsDataSource.fetch()):this.dataSource.fetch())},_dataSource:function(){if(V(this.options.connectionsDataSource)){this._isEditable=!0;var t=this.options.dataSource||{},e=H(t)?{data:t}:t;this.dataSource&&this._shapesRefreshHandler?this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("requestStart",this._shapesRequestStartHandler).unbind("error",this._shapesErrorHandler):(this._shapesRefreshHandler=l(this._refreshShapes,this),this._shapesRequestStartHandler=l(this._shapesRequestStart,this),this._shapesErrorHandler=l(this._error,this)),this.dataSource=kendo.data.DataSource.create(e).bind("change",this._shapesRefreshHandler).bind("requestStart",this._shapesRequestStartHandler).bind("error",this._shapesErrorHandler)}else this._treeDataSource(),this._isEditable=!1},_connectionDataSource:function(){var t=this.options.connectionsDataSource;if(t){var e=H(t)?{data:t}:t;this.connectionsDataSource&&this._connectionsRefreshHandler?this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("requestStart",this._connectionsRequestStartHandler).unbind("error",this._connectionsErrorHandler):(this._connectionsRefreshHandler=l(this._refreshConnections,this),this._connectionsRequestStartHandler=l(this._connectionsRequestStart,this),this._connectionsErrorHandler=l(this._connectionsError,this)),this.connectionsDataSource=kendo.data.DataSource.create(e).bind("change",this._connectionsRefreshHandler).bind("requestStart",this._connectionsRequestStartHandler).bind("error",this._connectionsErrorHandler)}},_shapesRequestStart:function(t){"read"==t.type&&(this._loadingShapes=!0)},_connectionsRequestStart:function(t){"read"==t.type&&(this._loadingConnections=!0)},_error:function(){this._loadingShapes=!1},_connectionsError:function(){this._loadingConnections=!1},_refreshShapes:function(t){"remove"===t.action?this._shouldRefresh()&&this._removeShapes(t.items):"itemchange"===t.action?this._shouldRefresh()&&this._updateShapes(t.items,t.field):"add"===t.action?this._inactiveShapeItems.add(t.items):"sync"===t.action?this._syncShapes(t.items):this.refresh()},_shouldRefresh:function(){return!this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=Q.max((this._suspended||0)-1,0)},refresh:function(){this._loadingShapes=!1,this._loadingConnections||this._rebindShapesAndConnections()},_rebindShapesAndConnections:function(){this.clear(),this._addShapes(this.dataSource.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view(),!1),this.options.layout?this.layout(this.options.layout):this._redrawConnections(),this.trigger("dataBound")},refreshConnections:function(){this._loadingConnections=!1,this._loadingShapes||this._rebindShapesAndConnections()},_redrawConnections:function(){for(var t=this.connections,e=0;e<t.length;e++)t[e].refresh()},_removeShapes:function(t){var e,i,n=this._dataMap;for(i=0;i<t.length;i++)e=t[i],n[e.id]&&(this.remove(n[e.id],!1),n[e.id]=null)},_syncShapes:function(){var t=this,e=t._inactiveShapeItems;e.forEach(function(i){var n=i.dataItem,o=i.element;n.isNew()||(o?(o._setOptionsFromModel(),t.addShape(o,i.undoable),t._dataMap[n.id]=o):t._addDataItem(n),i.activate(),e.remove(n))})},_updateShapes:function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=this._dataMap[n.id];o&&o.updateOptionsFromModel(n,e)}},_addShapes:function(t){for(var e=0;e<t.length;e++)this._addDataItem(t[e],!1)},_refreshConnections:function(t){"remove"===t.action?this._shouldRefresh()&&this._removeConnections(t.items):"add"===t.action?this._addConnections(t.items):"sync"===t.action||("itemchange"===t.action?this._shouldRefresh()&&this._updateConnections(t.items):this.refreshConnections())},_removeConnections:function(t){for(var e=0;e<t.length;e++)this.remove(this._connectionsDataMap[t[e].uid],!1),this._connectionsDataMap[t[e].uid]=null},_updateConnections:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=this._connectionsDataMap[i.uid];n.updateOptionsFromModel(i)}},_addConnections:function(t,e){for(var i=t.length,n=0;n<i;n++){var o=t[n];this._addConnectionDataItem(o,e)}},_addConnectionDataItem:function(t,e){if(!this._connectionsDataMap[t.uid]){var i=this._validateConnector(t.from);V(i)&&null!==i||(i=new C(t.fromX,t.fromY));var n=this._validateConnector(t.to);if(V(n)&&null!==n||(n=new C(t.toX,t.toY)),V(i)&&V(n)){var o=c({},this.options.connectionDefaults);o.dataItem=t;var r=new st(i,n,o);this._connectionsDataMap[t.uid]=r,this.addConnection(r,e)}}},_validateConnector:function(t){var e;return V(t)&&null!==t&&(e=this._dataMap[t]),e},_treeDataSource:function(){var t=this.options,e=t.dataSource;if((e=H(e)?{data:e}:e)instanceof kendo.data.DataSource&&!(e instanceof kendo.data.HierarchicalDataSource))throw new Error("Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well.");e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource&&this._refreshHandler&&this._unbindDataSource(),this._refreshHandler=l(this._refreshSource,this),this._errorHandler=l(this._error,this),this.dataSource=f.create(e).bind("change",this._refreshHandler).bind("error",this._errorHandler)},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("error",this._errorHandler)},_adorn:function(t,e){void 0!==e&&t&&(e?(this._adorners.push(t),this.adornerLayer.append(t.visual)):(O.remove(this._adorners,t),this.adornerLayer.remove(t.visual)))},_showConnectors:function(t,e){e?this._connectorsAdorner.show(t):this._connectorsAdorner.destroy()},_updateAdorners:function(){for(var t=this._adorners,e=0;e<t.length;e++){var i=t[e];i.refreshBounds&&i.refreshBounds(),i.refresh()}},_refresh:function(){for(var t=0;t<this.connections.length;t++)this.connections[t].refresh()},_destroyToolBar:function(){this.singleToolBar&&(this.singleToolBar.hide(),this.singleToolBar.destroy(),this.singleToolBar=null)},_destroyGlobalToolBar:function(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)},exportDOMVisual:function(){var t=this.canvas._viewBox,e=o.transform().translate(-t.x,-t.y),i=new o.Rect([0,0],[t.width,t.height]),r=n.Path.fromRect(i),a=new n.Group({transform:e}),s=new n.Group({clip:r}),l=this.canvas.drawingElement.children[0];return s.append(a),a.children.push(l),s},exportVisual:function(){var t=o.transform().scale(1/this._zoom),e=new n.Group({transform:t}),i=this.mainLayer.drawingElement;return e.children.push(i),e},_syncChanges:function(){this._syncShapeChanges(),this._syncConnectionChanges()},_syncShapeChanges:function(){this.dataSource&&this._isEditable&&this.dataSource.sync()},_syncConnectionChanges:function(){var e=this;e.connectionsDataSource&&e._isEditable&&(t.when.apply(t,e._deferredConnectionUpdates).then(function(){e.connectionsDataSource.sync()}),e.deferredConnectionUpdates=[])}});function ct(t){var e={};return V((t=t||{}).text)&&null!==t.text&&(e.text=t.text),V(t.x)&&null!==t.x&&(e.x=t.x),V(t.y)&&null!==t.y&&(e.y=t.y),V(t.width)&&null!==t.width&&(e.width=t.width),V(t.height)&&null!==t.height&&(e.height=t.height),V(t.type)&&null!==t.type&&(e.type=t.type),e}i.ExportMixin.extend(lt.fn,!0),kendo.PDFMixin&&kendo.PDFMixin.extend(lt.fn);var ut=kendo.Observable.extend({init:function(t,e){kendo.Observable.fn.init.call(this),this.diagram=t,this.options=c({},this.options,e),this._tools=[],this.createToolBar(),this.createTools(),this.appendTools(),this.options.modal&&this.createPopup(),this.bind(this.events,e)},events:["click"],createPopup:function(){this.container=t("<div/>").append(this.element),this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var t=0;t<this._tools.length;t++){var e=this._tools[t];(e.buttons&&e.buttons.length||!V(e.buttons))&&this._toolBar.add(e)}},createToolBar:function(){this.element=t("<div/>"),this._toolBar=this.element.kendoToolBar({click:l(this.click,this),resizable:!1}).getKendoToolBar(),this.element.css("border","none")},createTools:function(){for(var t=0;t<this.options.tools.length;t++)this.createTool(this.options.tools[t])},createTool:function(t){G(t)||(t={name:t});var e=t.name+"Tool";this[e]?this[e](t):this._tools.push(c({},t,{attributes:this._setAttributes({action:t.name})}))},showAt:function(t){var e=parseInt(this.options.popupZIndex,10);this._popup&&(this._popup.open(t.x,t.y),e&&this._popup.wrapper.css("zIndex",e))},hide:function(){this._popup&&this._popup.close()},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({icon:"edit",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({icon:"close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(t){this._appendGroup("rotate"),this._rotateGroup.buttons.push({icon:"rotate-left",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:t.step})})},rotateClockwiseTool:function(t){this._appendGroup("rotate"),this._rotateGroup.buttons.push({icon:"rotate-right",attributes:this._setAttributes({action:"rotateClockwise",step:t.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create"),this._createGroup.buttons.push({icon:"shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create"),this._createGroup.buttons.push({icon:"connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history"),this._historyGroup.buttons.push({icon:"undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history"),this._historyGroup.buttons.push({icon:"redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(t){var e="_"+t+"Group";this[e]||(this[e]=this.newGroup(),this._tools.push(this[e]))},_setAttributes:function(t){var e={};return t.action&&(e[kendo.attr("action")]=t.action),t.step&&(e[kendo.attr("step")]=t.step),e},_getAttributes:function(t){var e={},i=t.attr(kendo.attr("action"));i&&(e.action=i);var n=t.attr(kendo.attr("step"));return n&&(e.step=n),e},click:function(e){var i=this._getAttributes(t(e.target)),n=i.action;n&&this[n]&&this[n](i),this.trigger("click",this.eventData(n,e.target))},eventData:function(t,e){for(var i,n=this.selectedElements(),o=n.length,r=[],a=[],s=0;s<o;s++)(i=n[s])instanceof at?r.push(i):a.push(i);return{shapes:r,connections:a,action:t,target:e}},delete:function(){var t=this.diagram,e=t._triggerRemove(this.selectedElements());e.length&&(this.diagram.remove(e,!0),this.diagram._syncChanges())},edit:function(){var t=this.selectedElements();1===t.length&&this.diagram.edit(t[0])},rotateClockwise:function(t){var e=parseFloat(t.step||90);this._rotate(e)},rotateAnticlockwise:function(t){var e=parseFloat(t.step||90);this._rotate(-e)},_rotate:function(t){var e=this.diagram._resizingAdorner;e.angle(e.angle()+t),e.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null,this.element=null,this.options=null,this._toolBar&&this._toolBar.destroy(),this._popup&&this._popup.destroy()}}),ht=kendo.Observable.extend({init:function(t,e){kendo.Observable.fn.init.call(this),this.options=d(!0,{},this.options,e),this.element=t,this.model=this.options.model,this.fields=this._getFields(),this._initContainer(),this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var t=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:t.target,clearContainer:!1,model:this.model})},_isEditable:function(t){return this.model.editable&&this.model.editable(t)},_getFields:function(){var t=[],e=this.model.fields;for(var i in e){var n={};if(this._isEditable(i)){var o=this.options.editors[i];o&&(n.editor=o),n.field=i,t.push(n)}}return t},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty(),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),dt=ht.extend({init:function(t,e){ht.fn.init.call(this,t,e),this.bind(this.events,this.options),this.open()},events:["update","cancel"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var e=this;this.wrapper=t('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);var i="";this.options.template?(i+=this._renderTemplate(),this.fields=[]):i+=this._renderFields(),i+=this._renderButtons(),this.wrapper.append(t('<div class="k-edit-form-container"/>').append(i)),this.window=new kendo.ui.Window(this.wrapper.appendTo(this.element),this.options.window),this.window.bind("close",function(t){t.userTriggered&&(t.sender.element.focus(),e._cancelClick(t))}),this._attachButtonEvents()},_renderTemplate:function(){var t=this.options.template;return"string"==typeof t&&(t=window.unescape(t)),t=kendo.template(t)(this.model)},_renderFields:function(){for(var t="",e=0;e<this.fields.length;e++){var i=this.fields[e];t+='<div class="k-edit-label"><label for="'+i.field+'">'+(i.field||"")+"</label></div>",this._isEditable(i.field)&&(t+="<div "+kendo.attr("container-for")+'="'+i.field+'" class="k-edit-field"></div>')}return t},_renderButtons:function(){var t='<div class="k-edit-buttons k-state-default">';return t+=this._createButton("update"),t+=this._createButton("cancel"),t+="</div>"},_createButton:function(t){return kendo.template('<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>')(tt[t])},_attachButtonEvents:function(){this._cancelClickHandler=l(this._cancelClick,this),this.window.element.on("click"+K,"a.k-diagram-cancel",this._cancelClickHandler),this._updateClickHandler=l(this._updateClick,this),this.window.element.on("click"+K,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(t){t.preventDefault(),this.trigger("update")},_cancelClick:function(t){t.preventDefault(),this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",l(this.destroy,this)).close()},destroy:function(){this.window.close().destroy(),this.window.element.off("click"+K,"a.k-diagram-cancel",this._cancelClickHandler),this.window.element.off("click"+K,"a.k-diagram-update",this._updateClickHandler),this._cancelClickHandler=null,this._editUpdateClickHandler=null,this.window=null,ht.fn.destroy.call(this)}});function ft(e,i){var n=this.dataSource.reader.model;if(n){var o=n.fn.fields.text?"text":n.idField;t("<input name='"+i.field+"' />").appendTo(e).kendoDropDownList({dataValueField:n.idField,dataTextField:o,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:!0})}}function pt(t){this.dataItem=t,this.callbacks=[]}function mt(){this.items={}}pt.fn=pt.prototype={onActivate:function(e){var i=t.Deferred();return this.callbacks.push({callback:e,deferred:i}),i},activate:function(){for(var t,e=this.callbacks,i=0;i<e.length;i++)(t=this.callbacks[i]).callback(this.dataItem),t.deferred.resolve();this.callbacks=[]}},mt.fn=mt.prototype={add:function(t){for(var e=0;e<t.length;e++)this.items[t[e].uid]=new pt(t[e])},forEach:function(t){for(var e in this.items)t(this.items[e])},getByUid:function(t){return this.items[t]},remove:function(t){delete this.items[t.uid]}};var gt=s.extend({init:function(){this.shapes=[]},_add:function(t,e){this.shapes.push({bounds:e,shape:t}),t._quadNode=this},insert:function(t,e){this._add(t,e)},remove:function(t){for(var e=this.shapes,i=e.length,n=0;n<i;n++)if(e[n].shape===t){e.splice(n,1);break}},hitTestRect:function(t,e){for(var n=this.shapes,o=n.length,r=0;r<o;r++)if(this._testRect(n[r].shape,t)&&!i.inArray(n[r].shape,e))return!0},_testRect:function(t,e){var i=t.rotate().angle,n=t.bounds();return i?A.rects(e,n,-i):n.overlaps(e)}}),vt=gt.extend({init:function(t){gt.fn.init.call(this),this.children=[],this.rect=t},inBounds:function(t){var e=this.rect,i=e.bottomRight(),n=t.bottomRight(),o=e.x<=t.x&&e.y<=t.y&&n.x<=i.x&&n.y<=i.y;return o},overlapsBounds:function(t){return this.rect.overlaps(t)},insert:function(t,e){var i=!1,n=this.children,o=n.length;if(this.inBounds(e)){if(!o&&this.shapes.length<4)this._add(t,e);else{o||this._initChildren();for(var r=0;r<n.length;r++)if(n[r].insert(t,e)){i=!0;break}i||this._add(t,e)}i=!0}return i},_initChildren:function(){var t,e,i=this.rect,n=this.children,o=this.shapes,r=i.center(),a=i.width/2,s=i.height/2;for(n.push(new vt(new k(i.x,i.y,a,s)),new vt(new k(r.x,i.y,a,s)),new vt(new k(i.x,r.y,a,s)),new vt(new k(r.x,r.y,a,s))),e=o.length-1;e>=0;e--)for(t=0;t<n.length;t++)if(n[t].insert(o[e].shape,o[e].bounds)){o.splice(e,1);break}},hitTestRect:function(t,e){var i,n=this.children,o=n.length,r=!1;if(this.overlapsBounds(t))if(gt.fn.hitTestRect.call(this,t,e))r=!0;else for(i=0;i<o;i++)if(n[i].hitTestRect(t,e)){r=!0;break}return r}}),bt=s.extend({ROOT_SIZE:1e3,init:function(t){var e=l(this._boundsChange,this);t.bind("itemBoundsChange",e),t.bind("itemRotate",e),this.initRoots()},initRoots:function(){this.rootMap={},this.root=new gt},clear:function(){this.initRoots()},_boundsChange:function(t){t.item._quadNode&&t.item._quadNode.remove(t.item),this.insert(t.item)},insert:function(t){var e=t.bounds("rotated"),i=this.ROOT_SIZE,n=this.getSectors(e),o=n[0][0],r=n[1][0];this.inRoot(n)?this.root.insert(t,e):(this.rootMap[o]||(this.rootMap[o]={}),this.rootMap[o][r]||(this.rootMap[o][r]=new vt(new k(o*i,r*i,i,i))),this.rootMap[o][r].insert(t,e))},remove:function(t){t._quadNode&&t._quadNode.remove(t)},inRoot:function(t){return t[0].length>1||t[1].length>1},getSectors:function(t){for(var e=this.ROOT_SIZE,i=t.bottomRight(),n=Q.floor(i.x/e),o=Q.floor(i.y/e),r=[[],[]],a=Q.floor(t.x/e);a<=n;a++)r[0].push(a);for(var s=Q.floor(t.y/e);s<=o;s++)r[1].push(s);return r},hitTestRect:function(t,e){var i,n,o,r,a,s=this.getSectors(t);if(this.root.hitTestRect(t,e))return!0;for(i=0;i<s[0].length;i++)for(o=s[0][i],n=0;n<s[1].length;n++)if(r=s[1][n],(a=(this.rootMap[o]||{})[r])&&a.hitTestRect(t,e))return!0;return!1}});function kt(t){var e=t;return t instanceof kendo.data.Model&&((e=t.toJSON())[t.idField]=t._defaultId),e}function yt(t){var e,i,n=[],o=[];for(i=0;i<t.length;i++)(e=t[i])instanceof at?o.push(e):n.push(e);return{shapes:o,connections:n}}function wt(t,e){return t.reader.model?new t.reader.model(e):new kendo.data.ObservableObject(e)}function _t(t,e){V(e[t])&&e.set(t,null)}function xt(t,e,i){for(var n,o=0;o<i.length;o++)n=i[o],e&&!V(e[n])&&(e[n]=t[n])}function St(t){t.preventDefault()}i.ui.plugin(lt),c(r,{Shape:at,Connection:st,Connector:rt,DiagramToolBar:ut,QuadNode:vt,QuadRoot:gt,ShapesQuadTree:bt,PopupEditor:dt})}(window.kendo.jQuery)})?c.apply(e,u):c,i(0),u=[i(17),i(29),i(21),i(62),i(24),n,o,r,a,s,l],void 0===(h="function"==typeof(c=function(){return window.kendo})?c.apply(e,u):c)||(t.exports=h)},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(21),i(24),i(176),i(121),i(174)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kidoju,n=window.assert,o=new window.Logger("kidoju.widgets.vectordrawing"),r=window.kendo,a=r.deepExtend,s=i.image.getDataUriAndSize,l=r.isFunction,c=r.ui.Widget,u=r.Class,h=r.drawing,d=h.util.createPromise,f=h.util.defined,p=r.geometry,m=p.Transformation,g=h.svg.RootNode,v=r.dataviz,b=v.diagram,k=v.ui,y=k.Diagram,w=b.Cursors;w.crosshair="crosshair";var _=b.Circle,x=b.Group,S=b.Image,C=b.Path,A=b.Polyline,T=b.Point,j=b.Rectangle,M=b.Selector,z=b.Shape,E=b.CompositeTransform,I=b.ShapesQuadTree,D=b.TextBlock,O=b.ToolService,P=b.ConnectorsAdorner,R=b.ResizingAdorner,L=/^https?:\/\//,F="M {0} {1} L {2} {3}";function N(t){return null===t?null:t instanceof m?t:new m(t)}function B(t,e){var i=function(t){var e={width:800,height:600},i=new g({skipBaseHref:!0}),n=t.clippedBBox(),o=t;if(n){var r=n.getOrigin(),a=new h.Group;a.transform(N().translate(-r.x,-r.y)),a.children.push(t),o=a;var s=n.getSize();e.width=s.width,e.height=s.height}i.load([o]);var l='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" height="'+e.height+'" width="'+e.width+'">'+i.render()+"</svg>";return i.destroy(),l}(t);if(e&&e.json){var n=i.indexOf("<defs>");n>-1&&(i=i.substr(0,n+"<defs>".length)+'<script type="application/json">'+JSON.stringify(e.json)+"<\/script>"+i.substr(n+"<defs>".length))}return e&&e.raw||(i="data:image/svg+xml;base64,"+window.btoa(i)),d().resolve(i)}function q(t){var e=t.options.editable;return e&&!1!==e.drag}function V(t){var e=t;return t instanceof r.data.Model&&((e=t.toJSON())[t.idField]=t._defaultId),e}h.canvas.Surface.prototype.getImageData=function(){var t=this._root,e=this._rootElement,i=[];t.traverse(function(t){t.loading&&i.push(t.loading)});var n=d(),o=function(){t._invalidate();try{var i=e.getContext("2d").getImageData(0,0,e.width,e.height);n.resolve(i)}catch(t){n.reject(t)}};return r.drawing.util.promiseAll(i).then(o,o),n};var H=z.extend({init:function(t,e){z.fn.init.call(this,t,e)},_visualOptions:function(t){return{data:t.path,source:t.source,hover:t.hover,fill:t.fill,stroke:t.stroke,text:t.text,points:t.points,startCap:t.startCap,endCap:t.endCap}},clone:function(){var t=this.serialize();return t.options.id=b.randomId(),this.diagram&&this.diagram._isEditable&&f(this.dataItem)&&(t.options.dataItem=V(this.dataItem)),new H(t.options)},createShapeVisual:function(){var t,e=this.options,i=this._visualOptions(e),n=e.visual,o=(e.type+"").toLocaleLowerCase();i.width=e.width,i.height=e.height,l(n)?t=n.call(this,e):i.data?function(t){var e=t.drawingContainer().clippedBBox(null);0===e.origin.x&&0===e.origin.y||t.position(-e.origin.x,-e.origin.y)}(t=new C(i)):t="rectangle"===o?new j(i):"circle"===o?new _(i):"text"===o?new D(i):"image"===o?new S(i):"polyline"===o?new A(i):new C(i),this.shapeVisual=t,this.visual.append(this.shapeVisual)}}),U=u.extend({init:function(t){this.toolService=t,this.type="PenTool"},tryActivate:function(t,e){if(this.type===this.toolService.selectedTool)return this.options,e.options,!0},start:function(t,e){var i=this.toolService,n=i.diagram,o=i.activeShape=n._createShape({},{type:"polyline",points:[{x:0,y:0}],x:t.x,y:t.y,height:0,width:0,minHeight:0,minWidth:0,fill:{color:"#0000ff"},stroke:{color:"#000000",width:5}});q(o)&&!n.trigger("dragStart",{shapes:[o],connections:[]})&&n._addShape(o)?(i.activeShape=o,i._removeHover(),i.selectSingle(i.activeShape,e)):i.end(t)},move:function(t){for(var e=this.toolService.activeShape,i=e.bounds(),n=Math.min(i.x,t.x),o=Math.max(i.x+i.width,t.x),r=Math.min(i.y,t.y),a=Math.max(i.y+i.height,t.y),s=new b.Rect(n,r,o-n,a-r),l=new b.Point(i.x-s.x,i.y-s.y),c=e.shapeVisual.points().slice(),u=0,h=c.length;u<h;u++)c[u].x+=l.x,c[u].y+=l.y;return c.push(t.minus(s.topLeft())),e.redraw({type:"polyline",points:c,x:s.x,y:s.y,minHeight:0,height:s.height,minWidth:0,width:s.width,fill:{color:"#0000ff"},stroke:{color:"#000000",width:5}}),!0},end:function(t){var e=this.toolService,i=e.activeShape,n=e.diagram;i&&(n.trigger("dragEnd",{shapes:[i],connections:[]})?(n.remove(i,!1),n.undoRedoService.pop()):(i.updateModel(),n._syncShapeChanges(),e.selectSingle(i,{})),e._resetTool())},getCursor:function(){return w.crosshair}}),W=u.extend({init:function(t){this.toolService=t,this.type="PolylineTool"},tryActivate:function(t,e){if(this.type===this.toolService.selectedTool)return this.options,e.options,!0},start:function(t,e){var i=this.toolService,n=i.diagram,o=i.activeShape=n._createShape({},{type:"polyline",points:[{x:0,y:0}],x:t.x,y:t.y,height:0,width:0,minHeight:0,minWidth:0,fill:{color:"#0000ff"},stroke:{color:"#000000",width:5}});q(o)&&!n.trigger("dragStart",{shapes:[o],connections:[]})&&n._addShape(o)?(i.activeShape=o,i._removeHover(),i.selectSingle(i.activeShape,e)):i.end(t)},move:function(t){for(var e=this.toolService.activeShape,i=e.bounds(),n=Math.min(i.x,t.x),o=Math.max(i.x+i.width,t.x),r=Math.min(i.y,t.y),a=Math.max(i.y+i.height,t.y),s=new b.Rect(n,r,o-n,a-r),l=new b.Point(i.x-s.x,i.y-s.y),c=e.shapeVisual.points().slice(),u=0,h=c.length;u<h;u++)c[u].x+=l.x,c[u].y+=l.y;return c.push(t.minus(s.topLeft())),e.redraw({type:"polyline",points:c,x:s.x,y:s.y,minHeight:0,height:s.height,minWidth:0,width:s.width,fill:{color:"#0000ff"},stroke:{color:"#000000",width:5}}),!0},end:function(t){var e=this.toolService,i=e.activeShape,n=e.diagram;i&&(n.trigger("dragEnd",{shapes:[i],connections:[]})?(n.remove(i,!1),n.undoRedoService.pop()):(i.updateModel(),n._syncShapeChanges(),e.selectSingle(i,{})),e._resetTool())},getCursor:function(){return w.crosshair}}),G=u.extend({init:function(t){this.toolService=t,this.type="ShapeTool"},tryActivate:function(t,e){if(this.type===this.toolService.selectedTool)return this.options,e.options,!0},start:function(t,e){var i=this.toolService,n=i.diagram,o=this._truncateDistance(t),r=n._createShape({},a({x:o.x,y:o.y,minWidth:0,width:0,minHeight:0,height:0,radius:0},this.toolService.options));q(r)&&!n.trigger("dragStart",{shapes:[r],connections:[]})&&n._addShape(r)?(i.activeShape=r,i._removeHover(),i.selectSingle(i.activeShape,e)):i.end(t)},move:function(t){var e=this.toolService,i=e.activeShape,n=this._truncateDistance(t),o=n.x>i._bounds.x?i._bounds.x:n.x,r=n.y>i._bounds.y?i._bounds.y:n.y,a=n.x>i._bounds.x?n.x-i._bounds.x:i._bounds.x+i._bounds.width-n.x,s=n.y>i._bounds.y?n.y-i._bounds.y:i._bounds.y+i._bounds.height-n.y;return i._setOptionsFromModel({x:o,y:r,width:a,height:s}),e.diagram.trigger("drag",{shapes:[i],connections:[]}),!0},end:function(t){var e=this.toolService,i=e.diagram,n=e.activeShape;n&&(i.trigger("dragEnd",{shapes:[n],connections:[]})?(i.remove(n,!1),i.undoRedoService.pop()):(n.updateModel(),i._syncShapeChanges()),e._resetTool())},_truncateDistance:function(t){if(t instanceof b.Point)return new b.Point(this._truncateDistance(t.x),this._truncateDistance(t.y));var e=this.snapOptions()||{},i=Math.max(e.size||10,5);return e?Math.floor(t/i)*i:t},snapOptions:function(){return((this.toolService.diagram.options.editable||{}).drag||{}).snap||{}},shouldSnap:function(){var t=this.toolService.diagram.options.editable,e=(t||{}).drag,i=(e||{}).snap;return!1!==t&&!1!==e&&!1!==i},getCursor:function(){return w.crosshair}}),Q=O.extend({init:function(t){O.fn.init.call(this,t),this.tools.unshift(new U(this)),this.tools.unshift(new W(this)),this.tools.unshift(new G(this))},_activateTool:function(t,e){e=a({},e),O.fn._activateTool.call(this,t,e)},_resetTool:function(){this.diagram.toolBar.element.find("a["+r.attr("tool")+'="select"]').click()}}),Y=R.extend({init:function(t,e){R.fn.init.call(this,t,e)},options:{editable:{rotate:{thumb:{data:"M7.115,16C3.186,16,0,12.814,0,8.885C0,5.3,2.65,2.336,6.099,1.843V0l4.85,2.801l-4.85,2.8V3.758 c-2.399,0.473-4.21,2.588-4.21,5.126c0,2.886,2.34,5.226,5.226,5.226s5.226-2.34,5.226-5.226c0-1.351-0.513-2.582-1.354-3.51 l1.664-0.961c0.988,1.222,1.581,2.777,1.581,4.472C14.23,12.814,11.045,16,7.115,16L7.115,16z",y:-30,width:16}}},offset:10},_rotatable:function(){return this.options.editable&&!1!==this.options.editable.rotate},_createHandles:function(){R.fn._createHandles.call(this),this._createThumb()},_createThumb:function(){this._rotatable()&&(this.rotationThumb=new C(this.options.editable.rotate.thumb),this.visual.append(this.rotationThumb))},_hitTest:function(t){var e,i,n,o,r=this.diagram.modelToLayer(t),a=this.map.length;if(this._angle&&(r=r.clone().rotate(this._bounds.center(),this._angle)),this._rotatable()&&this._rotationThumbBounds&&this._rotationThumbBounds.contains(r))return new T(-1,-2);if(this._resizable())for(e=0;e<a;e++)if(o=this.map[e],i=new T(o.x,o.y),(n=this._getHandleBounds(i)).offset(this._bounds.x,this._bounds.y),n.contains(r))return i;return this._bounds.contains(r)?new T(0,0):void 0},redraw:function(){R.fn.redraw.call(this),this.rotationThumb&&this.rotationThumb.visible(this._rotatable())}}),K=y.extend({init:function(e,i){r.destroy(e),c.fn.init.call(this,e,i),this._initTheme(),this._initElements(),this.element.width()<0&&this.element.width(10),this._extendLayoutOptions(this.options),this._initDefaults(i),this._interactionDefaults(),this._initCanvas(),this._artboard=t.extend(!0,{},this.options.artboard),this.backgroundLayer=new x({id:"background-layer"}),this.canvas.append(this.backgroundLayer),this.mainLayer=new x({id:"main-layer"}),this.canvas.append(this.mainLayer),this.guideLayer=new x({id:"guide-layer"}),this.canvas.append(this.guideLayer),this._shapesQuadTree=new I(this),this._pan=new T,this._adorners=[],this.adornerLayer=new x({id:"adorner-layer"}),this.canvas.append(this.adornerLayer),this._createHandlers(),this._initialize(),this._resizingAdorner=new Y(this,{editable:this.options.editable}),this._connectorsAdorner=new P(this),this._adorn(this._resizingAdorner,!0),this._adorn(this._connectorsAdorner,!0),this.selector=new M(this),this._clipboard=[],this.pauseMouseHandlers=!1,this._createGlobalToolBar(),this._fetchFreshData(),this._createOptionElements(),this.scrollable.addClass("k-group"),this._updateBackgroundLayer(),this._updateGuideLayer(),this.zoom(this.options.zoom),this.canvas.draw(),this._resize()},options:{name:"VectorDrawing",toolbar:{},artboard:{height:480,width:640,stroke:{width:1,color:"#808080"},fill:{color:"transparent"}},connectionDefaults:{stroke:{color:"#808080",width:1}},shapeDefaults:{content:{color:"#808080"},fill:{color:"transparent",opacity:1},stroke:{color:"#808080",width:1}}},events:y.fn.events.slice().concat(["command","dialog"]),_updateBackgroundLayer:function(){var t={x:0,y:0,height:this._artboard.height,width:this._artboard.width,fill:this._artboard.fill,stroke:{width:0}};0===this.backgroundLayer.children.length?this.backgroundLayer.append(new j(t)):this.backgroundLayer.children[0].redraw(t)},_updateGuideLayer:function(){var t=this._artboard.height,e=this._artboard.width,i=this._artboard.stroke,n={data:r.format(F,-20,0,e+20,0),stroke:i},o={data:r.format(F,e,-20,e,t+20),stroke:i},a={data:r.format(F,-20,t,e+20,t),stroke:i},s={data:r.format(F,0,-20,0,t+20),stroke:i},l=r.format("{0}x{1}",e,t),c=new D({text:l}).drawingElement.bbox(),u={x:e-c.width()-20+c.height(),y:t+20-c.height(),text:l,fill:{color:i.color}};0===this.guideLayer.children.length?(this.guideLayer.append(new C(n)),this.guideLayer.append(new C(o)),this.guideLayer.append(new C(a)),this.guideLayer.append(new C(s)),this.guideLayer.append(new D(u))):(this.guideLayer.children[0].redraw(n),this.guideLayer.children[1].redraw(o),this.guideLayer.children[2].redraw(a),this.guideLayer.children[3].redraw(s),this.guideLayer.children[4].redraw(u))},_panToCenter:function(){if(this.backgroundLayer&&t.isArray(this.backgroundLayer.children)&&this.backgroundLayer.children.length){var e=this.viewport(),i=this.backgroundLayer.drawingElement.bbox();this.pan(new b.Point(-(e.width-i.width())/2,-(e.height-i.height())/2))}},_zoomMainLayer:function(){var t=this._zoom,e=new E(0,0,t,t);e.render(this.backgroundLayer),e.render(this.guideLayer),y.fn._zoomMainLayer.call(this)},_transformMainLayer:function(){var t=this._pan,e=this._zoom,i=new E(t.x,t.y,e,e);i.render(this.backgroundLayer),i.render(this.guideLayer),y.fn._transformMainLayer.call(this)},clear:function(){y.fn.clear.call(this),this._artboard.fill.color=this.options.artboard.fill.color,this._updateBackgroundLayer()},_createHandlers:function(){y.fn._createHandlers.call(this),this.toolService=new Q(this)},_createShape:function(t,e){return(e=a({},this.options.shapeDefaults,e)).dataItem=t,new H(e,this)},addShape:function(t,e){var i,n=this.options.shapeDefaults;if(t instanceof H)i=t;else{if(t instanceof r.Class)return;n=a({},n,t||{}),i=new H(n,this)}return!1!==e&&this.undoRedoService.add(new b.AddShapeUnit(i,this),!1),this.shapes.push(i),i.diagram!==this&&(this._shapesQuadTree.insert(i),i.diagram=this),this.mainLayer.append(i.visual),this.trigger("change",{added:[i],removed:[]}),i},_addDataItem:function(t,e){if(f(t)){var i=this._dataMap[t.id];if(i)return i;var n=a({},this.options.shapeDefaults);return n.dataItem=t,i=new H(n,this),this.addShape(i,!1!==e),this._dataMap[t.id]=i,i}},_addDataItemByUid:function(t){if(f(t)){var e=this._dataMap[t.uid];if(e)return e;var i=a({},this.options.shapeDefaults);return i.dataItem=t,e=new H(i,this),this.addShape(e),this._dataMap[t.uid]=e,e}},clone:function(){var t=this.serialize();return t.options.id=b.randomId(),this.diagram&&this.diagram._isEditable&&f(this.dataItem)&&(t.options.dataItem=V(this.dataItem)),new H(t.options)},_createGlobalToolBar:function(){this.toolBar=t("<div/>").prependTo(this.element).kendoVectorDrawingToolBar({tools:this.options.toolbar.tools,resizable:this.options.toolbar.resizable,action:this._onToolBarAction.bind(this),dialog:this._onToolBarDialog.bind(this),connectionDefaults:this.options.connectionDefaults,shapeDefaults:this.options.shapeDefaults}).data("kendoVectorDrawingToolBar")},_selectionChanged:function(t,e){this.toolBar.refresh(t),y.fn._selectionChanged.call(this,t,e)},_onToolBarDialog:function(t){n.isPlainObject(t,n.format(n.messages.isPlainObject.default,"e")),this.trigger("dialog",{name:t.name,options:t.options})||this._openDialog(t.name,t.options)},_openDialog:function(e,i){var n=r.vectordrawing.dialogs.create(e,i);if(t.isArray(this._dialogs)||(this._dialogs=[]),n)return n.bind("action",this._onToolBarAction.bind(this)),n.bind("deactivate",this._destroyDialog.bind(this)),this._dialogs.push(n),n.open({source:this._source}),n},_onToolBarAction:function(e){if(n.isPlainObject(e,n.format(n.messages.isPlainObject.default,"e")),!this.trigger("command",{command:e.command,params:e.params}))switch(e.command){case"ToolbarNewCommand":this._onToolbarNew(e.params);break;case"ToolbarOpenCommand":this._onToolbarOpen(e.params);break;case"ToolbarSaveCommand":this._onToolbarSave(e.params);break;case"DrawingToolChangeCommand":this._onDrawingToolChange(e.params);break;case"PropertyChangeCommand":this._onPropertyChange(e.params);break;case"ToolbarArrangeCommand":this._onToolbarArrange(e.params);break;case"ToolbarRemoveCommand":this._onToolbarRemove(e.params);break;case"GuidesChangeCommand":this._onGuidesChange(e.params);break;default:t.noop()}},_onToolbarNew:function(){this.clear()},_onToolbarOpen:function(t){this.clear(),this.open(t.file)},_onToolbarSave:function(t){n.isPlainObject(t,n.format(n.messages.isPlainObject.default,"params")),n.type("string",t.value,n.format(n.messages.type.default,"params.value","string"));var e=t.value,a=e.lastIndexOf(".");n.ok(a>0,"`name` should have an extension");var s=e.substr(a+1).toLowerCase();e=e.substr(0,a);var l=!1;s.endsWith("+")&&(l=!0,s=s.slice(0,-1));var c="jpg"===s||"png"===s?this.exportImage:this.exportSVG;o.debug({message:"Saving file",method:"_onToolbarSave",data:{name:e,ext:s}}),c.bind(this)({json:l}).done(function(t){o.debug({message:"exporFile successful",method:"_onToolbarSave",data:{name:e,ext:s}});var n=t;"jpg"===s?n=i.image.jpegEncode(t,70):"png"===s&&(n=i.image.pngEncode(t)),r.saveAs({dataURI:n,fileName:e+"."+s})}).fail(function(t){o.error({message:"exportFile failed",method:"_onToolbarSave",data:{name:e,ext:s},error:t})})},_onDrawingToolChange:function(t){if(this.toolService.selectedTool=t.value,this.toolService.options=t.options,"ShapeTool"===this.toolService.selectedTool&&("Image"===t.options.type||"Text"===t.options.type)){var e=new b.Point(0,0),i=new b.Point(t.options.width||100,t.options.height||100),n={ctrlKey:!1,metaKey:!1,altKey:!1,shiftKey:!1,type:"mousedown"};this.toolService.start(e,n),this.toolService.move(i,n),this.toolService.end(i)}},_onPropertyChange:function(e){if(n.isPlainObject(e,n.format(n.messages.isPlainObject.default,"params")),"background"===e.property)this._artboard.fill.color="string"===t.type(e.value)?e.value:this.options.artboard.fill.color,this._updateBackgroundLayer();else{var i=this.toolBar;i._configuration[e.property]=e.value;for(var o=this.select(),r=0,a=o.length;r<a;r++)o[r].redraw(i.getConfiguration(o[r]))}},_onToolbarArrange:function(t){switch(n.isPlainObject(t,n.format(n.messages.isPlainObject.default,"params")),t.value){case"forward":window.alert("Not yet implemented!");break;case"front":this.toFront(this.select());break;case"back":this.toBack(this.select());break;case"backward":window.alert("Not yet implemented!")}},_onToolbarRemove:function(t){this.remove(this.select())},_onGuidesChange:function(t){this.options.editable.drag.snap=!1},_resize:function(){this.toolBar instanceof r.ui.VectorDrawingToolBar&&this.toolBar.resize(),y.fn._resize.call(this),this._panToCenter()},exportVisual:function(){var t=p.transform().scale(1/this._zoom),e=new h.Group({transform:t}),i=this.mainLayer.drawingElement,n=this._artboard.height,o=this._artboard.width,r=new h.Rect(new p.Rect([0,0],[o,n]),{fill:this._artboard.fill,stroke:{width:0}}),a=(new h.Path).moveTo(0,0).lineTo(o,0).lineTo(o,n).lineTo(0,n).close();return e.children.push(r),e.children.push(i),e.clip(a),e},exportSVG:function(t){return t.json&&(t.json=this.save(),t.json.artboard={fill:this._artboard.fill,height:this._artboard.height,width:this._artboard.width}),B(this.exportVisual(),t)},exportImage:function(e){return function(e,i){var n={width:"800px",height:"600px",cors:"Anonymous"},o=e,r=e.clippedBBox();if(r){var a=r.getOrigin();(o=new h.Group).transform(N().translate(-a.x,-a.y)),o.children.push(e);var s=r.getSize();n.width=s.width+"px",n.height=s.height+"px"}var l=t.extend(n,i),c=document.createElement("div"),u=c.style;u.display="none",u.width=l.width,u.height=l.height,document.body.appendChild(c);var d=new h.canvas.Surface(c,l);d.suspendTracking(),d.draw(o);var f=d.getImageData(),p=function(){d.destroy(),document.body.removeChild(c)};return f.then(p,p),f}(this.exportVisual(e),e)},open:function(e){var i=this;r.ui.progress(i.element,!0,{opaque:!0});var n=t.Deferred().reject(new Error("Invalid source: source is not a file or a url")).promise();return e instanceof window.File?n=i._openFile(e):L.test(e)&&(n=i._downloadFile(e)),n.done(function(t){i._source=e instanceof window.File?e.name:e.split("/").pop(),i._artboard.height=t.height,i._artboard.width=t.width,i._artboard.fill.color=i.options.artboard.fill.color,i._loadDataUri(t.dataUri,t.height,t.width),i._updateBackgroundLayer(),i._updateGuideLayer(),i.resize(!0)}).always(function(){i.toolBar._resetFileInput(),r.ui.progress(i.element,!1)})},import:function(e){var i=this;r.ui.progress(i.element,!0,{opaque:!0});var n=t.Deferred().reject(new Error("Invalid source: source is not a file or a url")).promise();return e instanceof window.File?n=i._openFile(e):L.test(e)&&(n=s(e)),n.done(function(t){i._loadDataUri(t.dataUri,t.height,t.width),i.resize(!0)}).always(function(){i.toolBar._resetFileInput(),r.ui.progress(i.element,!1)})},_openFile:function(e){n.instanceof(window.File,e,n.format(n.messages.instanceof.default,"file","File"));var i=t.Deferred();if((e.type||"").match(/^image\//)){var o=new FileReader;o.onload=function(t){s(t.target.result).done(i.resolve).fail(i.reject)},o.onerror=function(t){i.reject(t)},o.readAsDataURL(e)}else i.reject(new Error(r.format("`[0]` has unsupported mime type `{1}`",e.name,e.type)));return i.promise()},_downloadFile:function(e){n.match(L,e,n.format(n.messages.match.default,"url",L));var o=t.Deferred();return t.get({url:e,dataType:"arraybuffer"}).done(function(t,e,n){if(200===n.status){var r=i.image.response2DataUri(t,n.getResponseHeader("content-type"));s(r).done(o.resolve).fail(o.reject)}else o.reject(new Error("TODO"))}).fail(function(t,e,i){o.reject(new Error("TODO"))}),o.promise()},_loadDataUri:function(t,e,i){n.type("string",t,n.format(n.messages.type.default,"dataUri","string")),n.type("number",e,n.format(n.messages.type.default,"height","number")),n.type("number",i,n.format(n.messages.type.default,"width","number"));var o,r=t.split(";base64,");"image/svg+xml"===r[0].substr(5)&&(o=this._extractJSON(window.atob(r[1]))),o?(this.setOptions(JSON.parse(o)),this._createShapes(),this._createConnections()):this.addShape({type:"image",x:0,y:0,height:e,width:i,source:t})},_extractJSON:function(t){var e='<script type="application/json">',i=t.indexOf(e),n=t.indexOf("<\/script>");if(i>-1&&n>i+e.length)return t.substr(i+e.length,n-i-e.length)},_destroyDialog:function(){this._dialogs.pop()},_destroyGlobalToolBar:function(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)}});k.plugin(K)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){i(179),t.exports=i(345)},function(t,e,i){"use strict";(function(t){i(180),i(324),i(326),i(328),i(330),i(332),i(334),i(336),i(338),i(340),i(344),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(this,i(122))},function(t,e,i){i(181),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(227),i(228),i(229),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(259),i(260),i(262),i(263),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(107),i(287),i(288),i(142),i(289),i(290),i(291),i(292),i(143),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),t.exports=i(15)},function(t,e,i){"use strict";var n=i(8),o=i(25),r=i(14),a=i(2),s=i(22),l=i(42).KEY,c=i(7),u=i(87),h=i(54),d=i(47),f=i(12),p=i(88),m=i(124),g=i(182),v=i(91),b=i(10),k=i(9),y=i(27),w=i(41),_=i(46),x=i(51),S=i(127),C=i(31),A=i(13),T=i(49),j=C.f,M=A.f,z=S.f,E=n.Symbol,I=n.JSON,D=I&&I.stringify,O=f("_hidden"),P=f("toPrimitive"),R={}.propertyIsEnumerable,L=u("symbol-registry"),F=u("symbols"),N=u("op-symbols"),B=Object.prototype,q="function"==typeof E,V=n.QObject,H=!V||!V.prototype||!V.prototype.findChild,U=r&&c(function(){return 7!=x(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=j(B,e);n&&delete B[e],M(t,e,i),n&&t!==B&&M(B,e,n)}:M,W=function(t){var e=F[t]=x(E.prototype);return e._k=t,e},G=q&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},Q=function(t,e,i){return t===B&&Q(N,e,i),b(t),e=w(e,!0),b(i),o(F,e)?(i.enumerable?(o(t,O)&&t[O][e]&&(t[O][e]=!1),i=x(i,{enumerable:_(0,!1)})):(o(t,O)||M(t,O,_(1,{})),t[O][e]=!0),U(t,e,i)):M(t,e,i)},Y=function(t,e){b(t);for(var i,n=g(e=y(e)),o=0,r=n.length;r>o;)Q(t,i=n[o++],e[i]);return t},K=function(t){var e=R.call(this,t=w(t,!0));return!(this===B&&o(F,t)&&!o(N,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,O)&&this[O][t])||e)},Z=function(t,e){if(t=y(t),e=w(e,!0),t!==B||!o(F,e)||o(N,e)){var i=j(t,e);return!i||!o(F,e)||o(t,O)&&t[O][e]||(i.enumerable=!0),i}},X=function(t){for(var e,i=z(y(t)),n=[],r=0;i.length>r;)o(F,e=i[r++])||e==O||e==l||n.push(e);return n},J=function(t){for(var e,i=t===B,n=z(i?N:y(t)),r=[],a=0;n.length>a;)!o(F,e=n[a++])||i&&!o(B,e)||r.push(F[e]);return r};q||(s((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===B&&e.call(N,i),o(this,O)&&o(this[O],t)&&(this[O][t]=!1),U(this,t,_(1,i))};return r&&H&&U(B,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),C.f=Z,A.f=Q,i(52).f=S.f=X,i(66).f=K,i(71).f=J,r&&!i(48)&&s(B,"propertyIsEnumerable",K,!0),p.f=function(t){return W(f(t))}),a(a.G+a.W+a.F*!q,{Symbol:E});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)f($[tt++]);for(var et=T(f.store),it=0;et.length>it;)m(et[it++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=E(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!q,"Object",{create:function(t,e){return void 0===e?x(t):Y(x(t),e)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!q||c(function(){var t=E();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e=n[1],(k(e)||void 0!==t)&&!G(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!G(e))return e}),n[1]=e,D.apply(I,n)}}),E.prototype[P]||i(26)(E.prototype,P,E.prototype.valueOf),h(E,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,i){var n=i(49),o=i(71),r=i(66);t.exports=function(t){var e=n(t),i=o.f;if(i)for(var a,s=i(t),l=r.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,i){var n=i(2);n(n.S,"Object",{create:i(51)})},function(t,e,i){var n=i(2);n(n.S+n.F*!i(14),"Object",{defineProperty:i(13).f})},function(t,e,i){var n=i(2);n(n.S+n.F*!i(14),"Object",{defineProperties:i(126)})},function(t,e,i){var n=i(27),o=i(31).f;i(32)("getOwnPropertyDescriptor",function(){return function(t,e){return o(n(t),e)}})},function(t,e,i){var n=i(28),o=i(53);i(32)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){var n=i(28),o=i(49);i(32)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){i(32)("getOwnPropertyNames",function(){return i(127).f})},function(t,e,i){var n=i(9),o=i(42).onFreeze;i(32)("freeze",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(9),o=i(42).onFreeze;i(32)("seal",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(9),o=i(42).onFreeze;i(32)("preventExtensions",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(t,e,i){var n=i(9);i(32)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(9);i(32)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(9);i(32)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(2);n(n.S+n.F,"Object",{assign:i(128)})},function(t,e,i){var n=i(2);n(n.S,"Object",{is:i(198)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var n=i(2);n(n.S,"Object",{setPrototypeOf:i(93).set})},function(t,e,i){"use strict";var n=i(72),o={};o[i(12)("toStringTag")]="z",o+""!="[object z]"&&i(22)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(2);n(n.P,"Function",{bind:i(129)})},function(t,e,i){var n=i(13).f,o=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in o||i(14)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(9),o=i(53),r=i(12)("hasInstance"),a=Function.prototype;r in a||i(13).f(a,r,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(2),o=i(131);n(n.G+n.F*(parseInt!=o),{parseInt:o})},function(t,e,i){var n=i(2),o=i(132);n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},function(t,e,i){"use strict";var n=i(8),o=i(25),r=i(36),a=i(95),s=i(41),l=i(7),c=i(52).f,u=i(31).f,h=i(13).f,d=i(73).trim,f=n.Number,p=f,m=f.prototype,g="Number"==r(i(51)(m)),v="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var i,n,o,r=(e=v?e.trim():d(e,3)).charCodeAt(0);if(43===r||45===r){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>o)return NaN;return parseInt(l,n)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof f&&(g?l(function(){m.valueOf.call(i)}):"Number"!=r(i))?a(new p(b(e)),i,f):b(e)};for(var k,y=i(14)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)o(p,k=y[w])&&!o(f,k)&&h(f,k,u(p,k));f.prototype=m,m.constructor=f,i(22)(n,"Number",f)}},function(t,e,i){"use strict";var n=i(2),o=i(38),r=i(133),a=i(96),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*c[i],c[i]=n%1e7,n=l(n/1e7)},d=function(t){for(var e=6,i=0;--e>=0;)i+=c[e],c[e]=l(i/t),i=i%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var i=String(c[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e},p=function(t,e,i){return 0===e?i:e%2==1?p(t,e-1,i*t):p(t*t,e/2,i)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(7)(function(){s.call({})})),"Number",{toFixed:function(t){var e,i,n,s,l=r(this,u),c=o(t),m="",g="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(l*p(2,69,1))-69)<0?l*p(2,-e,1):l/p(2,e,1),i*=4503599627370496,(e=52-e)>0){for(h(0,i),n=c;n>=7;)h(1e7,0),n-=7;for(h(p(10,n,1),0),n=e-1;n>=23;)d(1<<23),n-=23;d(1<<n),h(1,1),d(2),g=f()}else h(0,i),h(1<<-e,0),g=f()+a.call("0",c);return g=c>0?m+((s=g.length)<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):m+g}})},function(t,e,i){"use strict";var n=i(2),o=i(7),r=i(133),a=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(t){var e=r(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){var n=i(2);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(2),o=i(8).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,i){var n=i(2);n(n.S,"Number",{isInteger:i(134)})},function(t,e,i){var n=i(2);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(2),o=i(134),r=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return o(t)&&r(t)<=9007199254740991}})},function(t,e,i){var n=i(2);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(2);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(2),o=i(132);n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(t,e,i){var n=i(2),o=i(131);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,i){var n=i(2),o=i(135),r=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+r(t-1)*r(t+1))}})},function(t,e,i){var n=i(2),o=Math.asinh;n(n.S+n.F*!(o&&1/o(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var n=i(2),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(2),o=i(97);n(n.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(2);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(2),o=Math.exp;n(n.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,i){var n=i(2),o=i(98);n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e,i){var n=i(2);n(n.S,"Math",{fround:i(226)})},function(t,e,i){var n=i(97),o=Math.pow,r=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),l=o(2,-126);t.exports=Math.fround||function(t){var e,i,o=Math.abs(t),c=n(t);return o<l?c*function(t){return t+1/r-1/r}(o/l/a)*l*a:(i=(e=(1+a/r)*o)-(e-o))>s||i!=i?c*(1/0):c*i}},function(t,e,i){var n=i(2),o=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,r=0,a=0,s=arguments.length,l=0;a<s;)l<(i=o(arguments[a++]))?(r=r*(n=l/i)*n+1,l=i):r+=i>0?(n=i/l)*n:i;return l===1/0?1/0:l*Math.sqrt(r)}})},function(t,e,i){var n=i(2),o=Math.imul;n(n.S+n.F*i(7)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(t,e){var i=+t,n=+e,o=65535&i,r=65535&n;return 0|o*r+((65535&i>>>16)*r+o*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(2);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(2);n(n.S,"Math",{log1p:i(135)})},function(t,e,i){var n=i(2);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(2);n(n.S,"Math",{sign:i(97)})},function(t,e,i){var n=i(2),o=i(98),r=Math.exp;n(n.S+n.F*i(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(r(t-1)-r(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(2),o=i(98),r=Math.exp;n(n.S,"Math",{tanh:function(t){var e=o(t=+t),i=o(-t);return e==1/0?1:i==1/0?-1:(e-i)/(r(t)+r(-t))}})},function(t,e,i){var n=i(2);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(2),o=i(50),r=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?r(e):r(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(2),o=i(27),r=i(16);n(n.S,"String",{raw:function(t){for(var e=o(t.raw),i=r(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){"use strict";i(73)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(136)(!0);i(99)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(2),o=i(136)(!1);n(n.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,i){"use strict";var n=i(2),o=i(16),r=i(100),a="".endsWith;n(n.P+n.F*i(102)("endsWith"),"String",{endsWith:function(t){var e=r(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=o(e.length),s=void 0===i?n:Math.min(o(i),n),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,i){"use strict";var n=i(2),o=i(100);n(n.P+n.F*i(102)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2);n(n.P,"String",{repeat:i(96)})},function(t,e,i){"use strict";var n=i(2),o=i(16),r=i(100),a="".startsWith;n(n.P+n.F*i(102)("startsWith"),"String",{startsWith:function(t){var e=r(this,t,"startsWith"),i=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(23)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";i(23)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(23)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(23)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(23)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(23)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(23)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(23)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(23)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(23)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(23)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(23)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(23)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(2);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(2),o=i(28),r=i(41);n(n.P+n.F*i(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=o(this),i=r(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(2),o=i(261);n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(t,e,i){"use strict";var n=i(7),o=Date.prototype.getTime,r=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:r},function(t,e,i){var n=Date.prototype,o=n.toString,r=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(22)(n,"toString",function(){var t=r.call(this);return t==t?o.call(this):"Invalid Date"})},function(t,e,i){var n=i(12)("toPrimitive"),o=Date.prototype;n in o||i(26)(o,n,i(264))},function(t,e,i){"use strict";var n=i(10),o=i(41);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(n(this),"number"!=t)}},function(t,e,i){var n=i(2);n(n.S,"Array",{isArray:i(91)})},function(t,e,i){"use strict";var n=i(34),o=i(2),r=i(28),a=i(138),s=i(103),l=i(16),c=i(104),u=i(105);o(o.S+o.F*!i(74)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,h,d=r(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,b=u(d);if(g&&(m=n(m,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(i=new f(e=l(d.length));e>v;v++)c(i,v,g?m(d[v],v):d[v]);else for(h=b.call(d),i=new f;!(o=h.next()).done;v++)c(i,v,g?a(h,m,[o.value,v],!0):o.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(2),o=i(104);n(n.S+n.F*i(7)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)o(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(2),o=i(27),r=[].join;n(n.P+n.F*(i(65)!=Object||!i(30)(r)),"Array",{join:function(t){return r.call(o(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(2),o=i(92),r=i(36),a=i(50),s=i(16),l=[].slice;n(n.P+n.F*i(7)(function(){o&&l.call(o)}),"Array",{slice:function(t,e){var i=s(this.length),n=r(this);if(e=void 0===e?i:e,"Array"==n)return l.call(this,t,e);for(var o=a(t,i),c=a(e,i),u=s(c-o),h=new Array(u),d=0;d<u;d++)h[d]="String"==n?this.charAt(o+d):this[o+d];return h}})},function(t,e,i){"use strict";var n=i(2),o=i(35),r=i(28),a=i(7),s=[].sort,l=[1,2,3];n(n.P+n.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!i(30)(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},function(t,e,i){"use strict";var n=i(2),o=i(33)(0),r=i(30)([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,i){var n=i(273);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(9),o=i(91),r=i(12)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(2),o=i(33)(1);n(n.P+n.F*!i(30)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),o=i(33)(2);n(n.P+n.F*!i(30)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),o=i(33)(3);n(n.P+n.F*!i(30)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),o=i(33)(4);n(n.P+n.F*!i(30)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),o=i(139);n(n.P+n.F*!i(30)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(2),o=i(139);n(n.P+n.F*!i(30)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(2),o=i(70)(!1),r=[].indexOf,a=!!r&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(30)(r)),"Array",{indexOf:function(t){return a?r.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),o=i(27),r=i(38),a=i(16),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(30)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=o(this),i=a(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,r(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(2);n(n.P,"Array",{copyWithin:i(140)}),i(56)("copyWithin")},function(t,e,i){var n=i(2);n(n.P,"Array",{fill:i(106)}),i(56)("fill")},function(t,e,i){"use strict";var n=i(2),o=i(33)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(56)("find")},function(t,e,i){"use strict";var n=i(2),o=i(33)(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(56)(r)},function(t,e,i){i(57)("Array")},function(t,e,i){var n=i(8),o=i(95),r=i(13).f,a=i(52).f,s=i(101),l=i(108),c=n.RegExp,u=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(i(14)&&(!p||i(7)(function(){return f[i(12)("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")}))){c=function(t,e){var i=this instanceof c,n=s(t),r=void 0===e;return!i&&n&&t.constructor===c&&r?t:o(p?new u(n&&!r?t.source:t,e):u((n=t instanceof c)?t.source:t,n&&r?l.call(t):e),i?this:h,c)};for(var m=function(t){t in c||r(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),v=0;g.length>v;)m(g[v++]);h.constructor=c,c.prototype=h,i(22)(n,"RegExp",c)}i(57)("RegExp")},function(t,e,i){"use strict";i(142);var n=i(10),o=i(108),r=i(14),a=/./.toString,s=function(t){i(22)(RegExp.prototype,"toString",t,!0)};i(7)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,i){i(75)("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(75)("replace",2,function(t,e,i){return[function(n,o){"use strict";var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,o):i.call(String(r),n,o)},i]})},function(t,e,i){i(75)("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(75)("split",2,function(t,e,n){"use strict";var o=i(101),r=n,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!o(t))return r.call(i,t,e);var n,l,c,u,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,f+"g");for(s||(n=new RegExp("^"+g.source+"$(?!\\s)",f));(l=g.exec(i))&&!((c=l.index+l[0].length)>p&&(d.push(i.slice(p,l.index)),!s&&l.length>1&&l[0].replace(n,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l.length>1&&l.index<i.length&&a.apply(d,l.slice(1)),u=l[0].length,p=c,d.length>=m));)g.lastIndex===l.index&&g.lastIndex++;return p===i.length?!u&&g.test("")||d.push(""):d.push(i.slice(p)),d.length>m?d.slice(0,m):d}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)});return[function(i,o){var r=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,r,o):n.call(String(r),i,o)},n]})},function(t,e,i){var n=i(8),o=i(109).set,r=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(36)(a);t.exports=function(){var t,e,i,c=function(){var n,o;for(l&&(n=a.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(c)};else if(!r||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(c)}}else i=function(){o.call(n,c)};else{var h=!0,d=document.createTextNode("");new r(c).observe(d,{characterData:!0}),i=function(){d.data=h=!h}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,i()),e=o}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){"use strict";var n=i(146),o=i(60);t.exports=i(79)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(o(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(146),o=i(60);t.exports=i(79)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,o=i(33)(0),r=i(22),a=i(42),s=i(128),l=i(147),c=i(9),u=i(7),h=i(60),d=a.getWeak,f=Object.isExtensible,p=l.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(c(t)){var e=d(t);return!0===e?p(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},b=t.exports=i(79)("WeakMap",g,v,l,!0,!0);u(function(){return 7!=(new b).set((Object.freeze||Object)(m),7).get(m)})&&(s((n=l.getConstructor(g,"WeakMap")).prototype,v),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=b.prototype,i=e[t];r(e,t,function(e,o){if(c(e)&&!f(e)){this._f||(this._f=new n);var r=this._f[t](e,o);return"set"==t?this:r}return i.call(this,e,o)})}))},function(t,e,i){"use strict";var n=i(147),o=i(60);i(79)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(2),o=i(80),r=i(110),a=i(10),s=i(50),l=i(16),c=i(9),u=i(8).ArrayBuffer,h=i(77),d=r.ArrayBuffer,f=r.DataView,p=o.ABV&&u.isView,m=d.prototype.slice,g=o.VIEW;n(n.G+n.W+n.F*(u!==d),{ArrayBuffer:d}),n(n.S+n.F*!o.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||c(t)&&g in t}}),n(n.P+n.U+n.F*i(7)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),o=s(void 0===e?i:e,i),r=new(h(this,d))(l(o-n)),c=new f(this),u=new f(r),p=0;n<o;)u.setUint8(p++,c.getUint8(n++));return r}}),i(57)("ArrayBuffer")},function(t,e,i){var n=i(2);n(n.G+n.W+n.F*!i(80).ABV,{DataView:i(110).DataView})},function(t,e,i){i(39)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){i(39)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(39)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){var n=i(2),o=i(35),r=i(10),a=(i(8).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(7)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=o(t),l=r(i);return a?a(n,e,l):s.call(n,e,l)}})},function(t,e,i){var n=i(2),o=i(51),r=i(35),a=i(10),s=i(9),l=i(7),c=i(129),u=(i(8).Reflect||{}).construct,h=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),d=!l(function(){u(function(){})});n(n.S+n.F*(h||d),"Reflect",{construct:function(t,e){r(t),a(e);var i=arguments.length<3?t:r(arguments[2]);if(d&&!h)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var l=i.prototype,f=o(s(l)?l:Object.prototype),p=Function.apply.call(t,f,e);return s(p)?p:f}})},function(t,e,i){var n=i(13),o=i(2),r=i(10),a=i(41);o(o.S+o.F*i(7)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){r(t),e=a(e,!0),r(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(2),o=i(31).f,r=i(10);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=o(r(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(2),o=i(10),r=function(t){this._t=o(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(137)(r,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new r(t)}})},function(t,e,i){var n=i(31),o=i(53),r=i(25),a=i(2),s=i(9),l=i(10);a(a.S,"Reflect",{get:function t(e,i){var a,c,u=arguments.length<3?e:arguments[2];return l(e)===u?e[i]:(a=n.f(e,i))?r(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=o(e))?t(c,i,u):void 0}})},function(t,e,i){var n=i(31),o=i(2),r=i(10);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(r(t),e)}})},function(t,e,i){var n=i(2),o=i(53),r=i(10);n(n.S,"Reflect",{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,i){var n=i(2);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(2),o=i(10),r=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return o(t),!r||r(t)}})},function(t,e,i){var n=i(2);n(n.S,"Reflect",{ownKeys:i(149)})},function(t,e,i){var n=i(2),o=i(10),r=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){o(t);try{return r&&r(t),!0}catch(t){return!1}}})},function(t,e,i){var n=i(13),o=i(31),r=i(53),a=i(25),s=i(2),l=i(46),c=i(10),u=i(9);s(s.S,"Reflect",{set:function t(e,i,s){var h,d,f=arguments.length<4?e:arguments[3],p=o.f(c(e),i);if(!p){if(u(d=r(e)))return t(d,i,s,f);p=l(0)}if(a(p,"value")){if(!1===p.writable||!u(f))return!1;if(h=o.f(f,i)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,n.f(f,i,h)}else n.f(f,i,l(0,s));return!0}return void 0!==p.set&&(p.set.call(f,s),!0)}})},function(t,e,i){var n=i(2),o=i(93);o&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){i(325),t.exports=i(15).Array.includes},function(t,e,i){"use strict";var n=i(2),o=i(70)(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(56)("includes")},function(t,e,i){i(327),t.exports=i(15).String.padStart},function(t,e,i){"use strict";var n=i(2),o=i(150),r=i(78);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){i(329),t.exports=i(15).String.padEnd},function(t,e,i){"use strict";var n=i(2),o=i(150),r=i(78);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(r),"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){i(331),t.exports=i(88).f("asyncIterator")},function(t,e,i){i(124)("asyncIterator")},function(t,e,i){i(333),t.exports=i(15).Object.getOwnPropertyDescriptors},function(t,e,i){var n=i(2),o=i(149),r=i(27),a=i(31),s=i(104);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=r(t),l=a.f,c=o(n),u={},h=0;c.length>h;)void 0!==(i=l(n,e=c[h++]))&&s(u,e,i);return u}})},function(t,e,i){i(335),t.exports=i(15).Object.values},function(t,e,i){var n=i(2),o=i(151)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},function(t,e,i){i(337),t.exports=i(15).Object.entries},function(t,e,i){var n=i(2),o=i(151)(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},function(t,e,i){"use strict";i(143),i(339),t.exports=i(15).Promise.finally},function(t,e,i){"use strict";var n=i(2),o=i(15),r=i(8),a=i(77),s=i(145);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,o.Promise||r.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){i(341),i(342),i(343),t.exports=i(15)},function(t,e,i){var n=i(8),o=i(2),r=i(78),a=[].slice,s=/MSIE .\./.test(r),l=function(t){return function(e,i){var n=arguments.length>2,o=!!n&&a.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,i)}};o(o.G+o.B+o.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,e,i){var n=i(2),o=i(109);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,i){for(var n=i(107),o=i(49),r=i(22),a=i(8),s=i(26),l=i(55),c=i(12),u=c("iterator"),h=c("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(f),m=0;m<p.length;m++){var g,v=p[m],b=f[v],k=a[v],y=k&&k.prototype;if(y&&(y[u]||s(y,u,d),y[h]||s(y,h,v),l[v]=d,b))for(g in n)y[g]||r(y,g,n[g],!0)}},function(t,e){!function(e){"use strict";var i,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=y;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(E([])));b&&b!==n&&o.call(b,a)&&(g=b);var k=S.prototype=_.prototype=Object.create(g);x.prototype=k.constructor=S,S.constructor=x,S[l]=x.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(k),t},u.awrap=function(t){return{__await:t}},C(A.prototype),A.prototype[s]=function(){return this},u.AsyncIterator=A,u.async=function(t,e,i,n){var o=new A(y(t,e,i,n));return u.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},C(k),k[l]="Generator",k[a]=function(){return this},k.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},u.values=E,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=i),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),M(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;M(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=i),m}}}function y(t,e,i,n){var o=e&&e.prototype instanceof _?e:_,r=Object.create(o.prototype),a=new z(n||[]);return r._invoke=function(t,e,i){var n=h;return function(o,r){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw r;return I()}for(i.method=o,i.arg=r;;){var a=i.delegate;if(a){var s=T(a,i);if(s){if(s===m)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=w(t,e,i);if("normal"===l.type){if(n=i.done?p:d,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=p,i.method="throw",i.arg=l.arg)}}}(t,i,a),r}function w(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function _(){}function x(){}function S(){}function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(i,n){function r(){return new Promise(function(e,r){!function e(i,n,r,a){var s=w(t[i],t,n);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):Promise.resolve(c).then(function(t){l.value=t,r(l)},a)}a(s.arg)}(i,n,e,r)})}return e=e?e.then(r,r):r()}}function T(t,e){var n=t.iterator[e.method];if(n===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,T(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=w(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,m):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=i,e.done=!0,e};return r.next=r}}return{next:I}}function I(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,i){var n,o,r;i(346),i(406),i(408),i(410),i(412),i(414),i(416),i(418),i(420),i(422),i(424),i(427),i(429),i(431),i(433),i(437),i(439),window.jQuery.holdReady(!0),function(a,s){"use strict";o=[i(4),i(17),i(11),i(20),i(157),i(69),i(61),i(158),i(114),i(21),i(115),i(116),i(82),i(63),i(29),i(62),i(159),i(117),i(160),i(83),i(161),i(162),i(163),i(164),i(452),i(462),i(44),i(24),i(45),i(119),i(463),i(168),i(464),i(169),i(465),i(466),i(467),i(468),i(469),i(470),i(471),i(1),i(6),i(472),i(68),i(67),i(473),i(474),i(475),i(476),i(477),i(478),i(479),i(485),i(486),i(489),i(490),i(492),i(493),i(494),i(495),i(496),i(497),i(171),i(111),i(43),i(112),i(498),i(513),i(514),i(156),i(440)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.app=window.app||{},n=i.mobile=i.mobile||{},o=window.kendo,r=window.kidoju,a=window.localStorage,s=window.assert,l=new window.Logger("app.mobile"),c=i.models,u=i.i18n,h=i.rapi,d=r.data.Page,f=r.data.PageCollectionDataSource,p="undefined",m="string",g=/^[a-z]{2}$/,v=/^[0-9a-f]{24}$/,b=/^[\d]{4}$/,k=new RegExp("^[a-z0-9]{8}0{16}$"),y="#",w="main-layout",_={ACTIVITIES:"activities",CATEGORIES:"categories",CORRECTION:"correction",DEFAULT:"activities",DRAWER:"drawer",FINDER:"finder",NETWORK:"network",PLAYER:"player",SCORE:"score",SETTINGS:"settings",SUMMARY:"summary",SIGNIN:"signin",SYNC:"sync",USER:"user"},x=new RegExp("^("+[_.ACTIVITIES,_.CATEGORIES,_.CORRECTION,_.FINDER,_.NETWORK,_.PLAYER,_.SCORE,_.SETTINGS,_.SUMMARY,_.USER].join("|")+")","i"),S="inline-block",C="none",A="activities",T="categories",j={$:"current",ID:"current.id",SCORE:"current.score",TEST:"current.test",UPDATED:"current.updated",VERSION:{LANGUAGE:"current.version.language",SUMMARY_ID:"current.version.summaryId",VERSION_ID:"current.version.versionId"}},M="language",z="languages",E="version.stream.pages",I="selectedPage",D={$:"summary",CATEGORY_ID:"summary.categoryId",DESCRIPTION:"summary.description",ID:"summary.id",LANGUAGE:"summary.language",TITLE:"summary.title"},O="summaries",P="theme",R="themes",L={$:"user",ROOT_CATEGORY_ID:"user.rootCategoryId",FIRST_NAME:"user.firstName",ID:"user.id",LAST_NAME:"user.lastName",LAST_SYNC:"user.lastSync",LAST_USE:"user.lastUse",PROVIDER:"user.provider",REVIEW_STATE:"user.reviewState",SID:"user.sid"},F="users",N={$:"version",ID:"version.id",LANGUAGE:"version.language",SUMMARY_ID:"version.summaryId"},B="versions",q=".pin",V=new RegExp("^"+i.constants.appScheme+"://([a-z]{2})/(e|s|x)/([0-9a-f]{24})($|/|\\?|#)"),H=new RegExp("^"+i.constants.helpUrl),U=/^(itms-apps|market|ms-windows-store):\/\//,W={ROOT_CATEGORY_ID:{en:i.constants.rootCategoryId.en||"000100010000000000000000",fr:i.constants.rootCategoryId.fr||"000200010000000000000000"}},G={CATEGORY:{ACTIVITY:"Activity",GENERAL:"General",SUMMARY:"Summary",USER:"User"},ACTION:{APP_REVIEW:"App Review",FEEDBACK:"Feedback",HELP:"Help",INIT:"Init",PLAY:"Play",SAVE:"Save",SCORE:"Score",SHARE:"Share w/",SIGNIN:"Signin"}};function Q(e){if(e.startsWith(i.constants.appScheme+"://oauth"))n._parseTokenAndLoadUser(e);else if(V.test(e)){var o=V.exec(e),r=o[1],a=o[3];r===u.locale()?n.application.navigate(y+_.SUMMARY+"?language="+encodeURIComponent(r)+"&summaryId="+encodeURIComponent(a)):i.notification.warning(u.culture.notifications.openUrlLanguage)}else H.test(e)||U.test(e)?t.noop():(l.warn({message:"App scheme called with unknown url",method:"window.handleOpenURL",data:{url:e}}),i.notification.warning(u.culture.notifications.openUrlUnknown))}function Y(t){try{return JSON.parse(t.responseText)}catch(t){}}window.onerror=function(e,r,a,s,c){setTimeout(function(){u.culture&&i.notification&&t.isFunction(i.notification.error)&&i.notification.error(u.culture.notifications.unknownError),l&&t.isFunction(l.crit)&&l.crit({message:e,method:"window.onerror",error:c,data:{source:r,lineno:a,colno:s}}),n.support.ga&&n.ga.trackException(e,!0),i.DEBUG&&window.alert(e),n.application instanceof o.mobile.Application&&n.application.hideLoading()},0)},t.ajaxSetup({timeout:2e4}),window.handleOpenURL=function(e){if(n.support.safariViewController)try{n.SafariViewController.hide()}catch(t){}n.application instanceof o.mobile.Application&&t.isPlainObject(u.culture)?setTimeout(function(){Q(e)},0):t(document).one("app.init",function(){Q(e)})};var K=n.viewModel=o.observable({activities:new c.MobileActivityDataSource,categories:new c.LazyCategoryDataSource,current:{test:void 0},language:u.locale(),languages:[],selectedPage:void 0,summaries:new c.LazySummaryDataSource({pageSize:30}),summary:new c.Summary,theme:i.theme.name(),themes:[],user:new c.MobileUser,users:new c.MobileUserDataSource,version:new c.Version,versions:new c.LazyVersionDataSource,hasBarCodeScanner$:function(){return n.support.barcodeScanner},hasConstantAuthorId$:function(){return!!i.constants.authorId},hasConstantLanguage$:function(){return!!i.constants.language},hasConstantTheme$:function(){return!!i.constants.theme},hasConstantRootCategoryId$:function(){return!!i.constants.rootCategoryId[u.locale()]},hasSocialSharing$:function(){return!!n.support.socialsharing&&!i.constants.appleKidSafety},hasInternetBrowsing$:function(){return!i.constants.appleKidSafety},isFirstUser$:function(){var t=this.get(L.$),e=this.get(F);s.instanceof(c.MobileUserDataSource,e,s.format(s.messages.instanceof.default,"userDataSource","app.models.MobileUserDataSource"));var i=e.indexOf(t);return!t.isNew()&&0===i},isLastUser$:function(){var t=this.get(L.$),e=this.get(F);s.instanceof(c.MobileUserDataSource,e,s.format(s.messages.instanceof.default,"userDataSource","app.models.MobileUserDataSource"));var i=e.indexOf(t);return!t.isNew()&&i===e.total()-1},isNewUser$:function(){var t=K.get(L.$);return t instanceof c.MobileUser&&t.isNew()&&K.users.indexOf(t)>-1},isSavedUser$:function(){var t=K.get(L.$);return K.get(L.LAST_USE),t instanceof c.MobileUser&&!t.isNew()&&!t.dirty&&K.users.indexOf(t)>-1},isSyncedUser$:function(){var t=K.get(L.$);return t instanceof c.MobileUser&&!t.isNew()&&K.users.indexOf(t)>-1&&Date.now()<=t.lastSync.getTime()+2592e6},isFirstPage$:function(){var t=this.get(I),e=this.get(E);return s.instanceof(f,e,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource")),0===e.indexOf(t)},isLastPage$:function(){var t=this.get(I),e=this.get(E);s.instanceof(f,e,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource"));var i=e.indexOf(t);return-1===i||i===e.total()-1},language$:function(){var t=this.get(M),e=this.get(z).filter(function(e){return e.value===t});return e[0]&&e[0].text},page$:function(){var t=this.get(I),e=this.get(E);return s.instanceof(f,e,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource")),e.indexOf(t)+1},rootCategoryId$:function(){var t=this.get(L.ROOT_CATEGORY_ID),e=this.get(T).get(t);return e&&e.name},summaryCategory$:function(){var e="",i=this.get(D.CATEGORY_ID),n=this.get(T).get(i);return n instanceof c.LazyCategory&&t.isFunction(n.path.map)&&n.path.length&&(e="<span>"+n.path.map(function(t){return t.name}).join('</span><span class="k-icon k-i-arrow-60-right"></span><span>')+"</span>"),e},theme$:function(){var t=this.get(P),e=this.get(R).filter(function(e){return e.value===t});return e[0]&&e[0].text},totalPages$:function(){var t=this.get(E);return s.instanceof(f,t,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource")),t.total()},topCategories$:function(){return this.get(T).data().filter(function(t){return k.test(t.id)}).sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0})},version$:function(){return i.version},reset:function(){s.isPlainObject(u.culture,s.format(s.messages.isPlainObject.default,"app.i18n.culture"));var t=u.locale(),e=i._userId=this.get(L.SID),o=this.get(L.ROOT_CATEGORY_ID)||W.ROOT_CATEGORY_ID[t],r=this.get(A);s.instanceof(c.MobileActivityDataSource,r,s.format(s.messages.instanceof.default,"activities","app.models.MobileActivityDataSource")),r.transport.partition({"actor.userId":e,scheme:i.constants.appScheme,type:"Score","version.language":t}),this.get(T).filter({field:"id",operator:"startsWith",value:o.substr(0,8)}),this.set(j.$,{test:void 0}),this.set(z,u.culture.viewModel.languages),this.set(I,void 0);var a=this.get(O);s.instanceof(c.LazySummaryDataSource,a,s.format(s.messages.instanceof.default,"summaries","app.models.LazySummaryDataSource")),a.setUserId(e),a.transport.partition({"author.userId":i.constants.authorId,language:t,type:"Test"}),this.set(D.$,new c.Summary),this.set(R,u.culture.viewModel.themes),this.set(N.$,new c.Version);var l=this.get(B);s.instanceof(c.LazyVersionDataSource,l,s.format(s.messages.instanceof.default,"versions","app.models.LazyVersionDataSource")),l.transport.partition({language:t,summaryId:"000000000000000000000000"}),n.support.ga&&(n.ga.setUserId(e),n.ga.addCustomDimension(2,t),n.ga.addCustomDimension(3,o))},load:function(){return K.loadUsers().done(function(){K.users.total()>0&&K.set(L.$,K.users.at(0))})},loadActivities:function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"options")),s.match(g,e.language,s.format(s.messages.match.default,"options.language",g)),s.match(v,e.userId,s.format(s.messages.match.default,"options.userId",v));var n=this.get(A),o=n.transport.partition(),r=t.Deferred();return o["version.language"]===e.language&&o["actor.userId"]===e.userId&&n.total()>0&&n.at(0).version.language===e.language&&n.at(0).actor.id===e.userId?r.resolve():(n.transport.partition({"actor.userId":e.userId,scheme:i.constants.appScheme,type:"Score","version.language":e.language}),n._filter=void 0,n.read().done(r.resolve).fail(function(t,e,n){r.reject(t,e,n),i.notification.error(u.culture.notifications.activitiesQueryFailure),l.error({message:"error loading activities",method:"viewModel.loadActivities",data:{status:e,error:n,response:Y(t)}})})),r.promise()},loadLazySummaries:function(t){return s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"options")),s.isPlainObject(t.partition,s.format(s.messages.isPlainObject.default,"options.partition")),s.match(g,t.partition.language,s.format(s.messages.match.default,"options.partition.language",g)),K.summaries.load(t).fail(function(e,n,o){i.notification.error(u.culture.notifications.summariesQueryFailure),l.error({message:"error loading summaries",method:"viewModel.loadLazySummaries",data:{options:t,status:n,error:o,response:Y(e)}})})},loadSummary:function(t){return s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"options")),s.match(g,t.language,s.format(s.messages.match.default,"options.language",g)),s.match(v,t.id,s.format(s.messages.match.default,"options.id",v)),K.summary.load(t).fail(function(t,e,n){i.notification.error(u.culture.notifications.summaryLoadFailure),l.error({message:"error loading summary",method:"viewModel.loadSummary",data:{status:e,error:n,response:Y(t)}})})},loadUser:function(){var e=t.Deferred();return i.cache.removeMe(),i.cache.getMe().done(function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"me")),s.match(v,t.id,s.format(s.messages.match.default,"me.id",v));var i=K.users.data().find(function(e){return e.get("sid")===t.id});i instanceof c.MobileUser?i.set("picture",t.picture):(i=new c.MobileUser({sid:t.id,firstName:t.firstName,lastName:t.lastName,picture:t.picture,provider:a.getItem("provider")}),K.users.add(i)),K.set(L.$,i),a.removeItem("provider"),e.resolve(i)}).fail(function(t,n,o){e.reject(t,n,o),i.notification.error(u.culture.notifications.userLoadFailure),l.error({message:"error loading user",method:"viewModel.loadUser",data:{status:n,error:o,response:Y(t)}})}),e.promise()},loadUsers:function(){var e=t.Deferred();return K.users.total()>0?e.resolve():K.users.query({sort:{field:"lastUse",dir:"desc"}}).done(e.resolve).fail(function(t,n,o){e.reject(t,n,o),i.notification.error(u.culture.notifications.usersQueryFailure),l.error({message:"error loading users",method:"viewModel.loadUsers",data:{status:n,error:o,response:Y(t)}})}),e.promise()},syncUsers:function(t){return K.users.sync().done(function(){!1!==t&&setTimeout(function(){i.notification.success(o.format(u.culture.notifications.userSaveSuccess))},10)}).fail(function(t,e,n){i.notification.error(u.culture.notifications.userSaveFailure),l.error({message:"error syncing users",method:"viewModel.syncUsers",data:{status:e,error:n,response:Y(t)}})})},loadVersion:function(e){function n(t,n,o){i.notification.error(u.culture.notifications.versionLoadFailure),l.error({message:"error loading version",method:"viewModel.loadVersion",data:{language:e.language,summaryId:e.summaryId,versionId:e.versionId,response:Y(t)}})}return s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"options")),s.match(g,e.language,s.messages.match.default,"options.language",g),s.match(v,e.summaryId,s.messages.match.default,"options.summaryId",v),s.match(v,e.id,s.messages.match.default,"options.id",v),K.version.load(e).done(function(){K.version.stream.load().done(function(){var e=[],i=K.get(E);s.instanceof(f,i,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource")),t.each(i.data(),function(t,i){s.instanceof(d,i,s.format(s.messages.instanceof.default,"page","kidoju.data.Page")),e.push(i.load())}),t.when.apply(t,e).fail(n)}).fail(n)}).fail(n)},loadLazyVersions:function(t){return s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"options")),s.isPlainObject(t.partition,s.format(s.messages.isPlainObject.default,"options.partition")),s.match(g,t.partition.language,s.messages.match.default,"options.partition.language",g),s.match(v,t.partition.summaryId,s.messages.match.default,"options.partition.summaryId",v),K.versions.load(t).fail(function(e,n,o){i.notification.error(u.culture.notifications.versionsLoadFailure),l.error({message:"error loading versions",method:"viewModel.loadLazyVersions",data:{options:t,status:n,error:o,response:Y(e)}})})},previousUser:function(){var e=this.get(L.$),i=this.get(F);s.instanceof(c.MobileUserDataSource,i,s.format(s.messages.instanceof.default,"userDataSource","app.models.MobileUserDataSource"));var n=i.indexOf(e);"number"===t.type(n)&&n>0&&this.set(L.$,i.at(n-1))},nextUser:function(){var e=this.get(L.$),i=this.get(F);s.instanceof(c.MobileUserDataSource,i,s.format(s.messages.instanceof.default,"userDataSource","app.models.MobileUserDataSource"));var n=i.indexOf(e);"number"===t.type(n)&&n<i.total()-1&&this.set(L.$,i.at(n+1))},firstPage:function(){l.debug({method:"viewModel.firstPage",message:"Show first page"});var t=this.get(E);s.instanceof(f,t,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource")),this.set(I,t.at(0)),i.tts.cancelSpeak()},previousPage:function(){l.debug({method:"viewModel.previousPage",message:"Show previous page"});var e=this.get(I),n=this.get(E);s.instanceof(f,n,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource"));var o=n.indexOf(e);"number"===t.type(o)&&o>0&&(this.set(I,n.at(o-1)),i.tts.cancelSpeak())},nextPage:function(){l.debug({method:"viewModel.nextPage",message:"Show next page"});var e=this.get(I),n=this.get(E);s.instanceof(f,n,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource"));var o=n.indexOf(e);"number"===t.type(o)&&o<n.total()-1&&(this.set(I,n.at(o+1)),i.tts.cancelSpeak())},lastPage:function(){l.debug({method:"viewModel.lastPage",message:"Show last page"});var t=this.get(E);s.instanceof(f,t,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource"));var e=t.total()-1;this.set(I,t.at(e)),i.tts.cancelSpeak()},resetCurrent:function(){var t=this.get(L.SID);s.match(v,t,s.format(s.messages.match.default,"userId",v));var e=u.locale();s.equal(e,this.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',e)),s.equal(e,this.get(D.LANGUAGE),s.format(s.messages.equal.default,'viewModel.get("summary.language")',e)),s.equal(e,this.get(N.LANGUAGE),s.format(s.messages.equal.default,'viewModel.get("version.language")',e));var i=this.get(D.ID);s.match(v,i,s.format(s.messages.match.default,"summaryId",v)),s.equal(i,this.get(N.SUMMARY_ID),s.format(s.messages.equal.default,'viewModel.get("version.summaryId")',i));var n=this.get(N.ID);s.match(v,n,s.format(s.messages.match.default,"versionId",v)),K.set(j.$,{actor:{firstName:this.get(L.FIRST_NAME),lastName:this.get(L.LAST_NAME),userId:t},test:K.version.stream.pages.getTestFromProperties(),type:"Score",version:{language:e,summaryId:i,title:this.get(D.TITLE),versionId:n}})},calculate:function(){var t=K.get(E);return s.instanceof(f,t,s.format(s.messages.instanceof.default,"pageCollectionDataSource","kidoju.data.PageCollectionDataSource")),t.validateTestFromProperties(K.get(j.TEST)).done(function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"result")),s.type("function",t.percent,s.format(s.messages.type.default,"result.percent","function")),s.type("function",t.getScoreArray,s.format(s.messages.type.default,"result.getScoreArray","function")),K.set(j.TEST,t)}).fail(function(t,e,n){i.notification.error(u.culture.notifications.scoreCalculationFailure),l.error({message:"Failed to calculate user score",method:"viewModel.calculate",data:{status:e,error:n,response:Y(t)}})})},saveCurrent:function(){var t=this.get(j.$);s.type(p,t.id,s.format(s.messages.type.default,"current.id",p)),s.type("function",t.test.percent,s.format(s.messages.type.default,"current.test.percent","function")),s.type("function",t.test.getScoreArray,s.format(s.messages.type.default,"current.test.getScoreArray","function")),K.set(j.SCORE,t.test.percent()),K.set(j.UPDATED,new Date);var e=this.get(A);s.instanceof(c.MobileActivityDataSource,e,s.format(s.messages.instanceof.default,"activities","app.models.MobileActivityDataSource"));var n=new c.MobileActivity(t);return e.add(n),e.sync().done(function(){var t=n.get("id");s.match(v,t,s.format(s.messages.match.default,"activityId",v)),K.set(j.ID,t),i.notification.success(u.culture.notifications.scoreSaveSuccess)}).fail(function(t,o,r){e.remove(n),i.notification.error(u.culture.notifications.scoreSaveFailure),l.error({message:"error saving current score",method:"viewModel.saveCurrent",data:{status:o,error:r,response:Y(t)}})})}});K.bind("change",function(e){switch(s.isPlainObject(e,s.format(s.messages.isOptionalObject.default,"e")),s.type(m,e.field,s.format(s.messages.type.default,"e.field",m)),s.instanceof(o.Observable,e.sender,s.format(s.messages.instanceof.default,"e.sender","kendo.Observable")),e.field){case I:var r=n.application.view();r.id===y+_.CORRECTION?(n._setNavBar(r),n._setNavBarTitle(r,o.format(u.culture.correction.viewTitle,K.page$(),K.totalPages$())),K.isLastPage$()&&!r.element.prop(o.attr("showScoreInfo"))&&(r.element.prop(o.attr("showScoreInfo"),!0),i.notification.info(u.culture.notifications.showScoreInfo))):r.id===y+_.PLAYER&&(n._setNavBar(r),n._setNavBarTitle(r,o.format(u.culture.player.viewTitle,K.page$(),K.totalPages$())),K.isLastPage$()&&!r.element.prop(o.attr("clickSubmitInfo"))&&(r.element.prop(o.attr("clickSubmitInfo"),!0),i.notification.info(u.culture.notifications.clickSubmitInfo)));break;case L.$:K.reset();break;case L.ROOT_CATEGORY_ID:K.syncUsers();break;case M:if(n.application instanceof o.mobile.Application&&t.isPlainObject(u.culture)){var a=e.sender.get(M);u.load(a).done(function(){n.localize(a),K.set(T,new c.LazyCategoryDataSource),K.set(L.ROOT_CATEGORY_ID,W.ROOT_CATEGORY_ID[a]),l.debug({method:"viewModel.bind",message:"Language changed to "+a})})}break;case P:if(n.application instanceof o.mobile.Application){var h=e.sender.get(P);i.theme.load(h).done(function(){n.application.skin(h),n._fixThemeVariant(h),l.debug({method:"viewModel.bind",message:"Theme changed to "+h})})}}}),n._setNavBar=function(t){s.instanceof(o.mobile.ui.View,t,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View"));var e=t.element,i=!1,n=!1,r=!1,a=!1,l=!1,c=!1,u=!1,h=!1,d=!1,f=!1,p=!1,m=!1,g=!1;switch(t.id){case"/":case y+_.ACTIVITIES:i=!0,m=!0;break;case y+_.CATEGORIES:i=!0,g=!0;break;case y+_.CORRECTION:i=!0,a=!K.isFirstPage$(),u=!K.isLastPage$(),h=!K.isLastPage$(),f=K.isLastPage$();break;case y+_.FINDER:i=!0,n=!0;break;case y+_.NETWORK:i=!0;break;case y+_.PLAYER:i=!0,a=!K.isFirstPage$(),u=!K.isLastPage$(),h=!K.isLastPage$(),d=K.isLastPage$();break;case y+_.SCORE:i=!0,p=!0;break;case y+_.SETTINGS:i=!0;break;case y+_.SIGNIN:r=K.isSavedUser$();break;case y+_.SUMMARY:i=!0,n=!0;break;case y+_.SYNC:break;case y+_.USER:l=K.isSavedUser$()&&!K.isFirstUser$(),c=K.isSavedUser$()&&!K.isLastUser$()}e.find(y+w+"-drawer").css({display:i?S:C}),e.find(y+w+"-home").css({display:n?S:C}),e.find(y+w+"-user").css({display:r?S:C}),e.find(y+w+"-previous-page").css({display:a?S:C}),e.find(y+w+"-previous-user").css({display:l?S:C}),e.find(y+w+"-next-user").css({display:c?S:C}),e.find(y+w+"-next-page").css({display:u?S:C}),e.find(y+w+"-last-page").css({display:h?S:C}),e.find(y+w+"-submit").css({display:d?S:C}),e.find(y+w+"-score").css({display:f?S:C}),e.find(y+w+"-summary").css({display:p?S:C}),e.find(y+w+"-sync").css({display:m?S:C}),e.find(y+w+"-search").css({display:g?S:C})},n._setNavBarTitle=function(e,i){s.instanceof(o.mobile.ui.View,e,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View"));var n=e.header.find(".km-navbar").data("kendoMobileNavBar");if(t.type(i)===p){var r="/"===e.id?_.DEFAULT:e.id.substr(1),a=u.culture[r];n.title(a.viewTitle)}else n.title(i);e.header.find(".km-view-title").removeClass("km-no-title")},n._initToastNotifications=function(){var e=t("#notification");s.hasLength(e,s.format(s.messages.hasLength.default,"#notification")),i&&i.notification instanceof o.ui.Notification&&(i.notification.getNotifications().each(function(){t(this).parent().remove()}),i.notification.destroy());var n=t(".km-navbar");i.notification=e.kendoNotification({position:{left:0,top:n.length?n.outerHeight():0},stacking:"down",width:t(window).width()-2}).data("kendoNotification"),s.instanceof(o.ui.Notification,i.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification"));var r='<div class="k-notification-wrap"><span class="k-icon k-i-#=typeIcon#">#=typeIcon#</span><span class="k-text">#=content#</span><span class="k-icon k-i-close">Hide</span></div>';i.notification._defaultCompiled=o.template(r),i.notification._safeCompiled=o.template(r.replace("#=content#","#:content#"))},n.localize=function(e){var r;s.type("array",i.locales,s.format(s.messages.type.default,"app.locales","array")),s.enum(i.locales,e,s.format(s.messages.enum.default,"locale",i.locales));var a=u.culture;t(y+w+"-back").text(a.layout.back);var l=/^(<[^<>\/]+>)(<\/[^<>\/]+>)([\s\S]+)$/i,c=(r=t(y+_.DRAWER)).find("ul>li>a.km-listview-link:eq(0)");c.html(c.html().replace(l,"$1$2"+a.drawer.categories));var h=r.find("ul>li>a.km-listview-link:eq(1)");h.html(h.html().replace(l,"$1$2"+a.drawer.scan));var d=r.find("ul>li>a.km-listview-link:eq(2)");d.html(d.html().replace(l,"$1$2"+a.drawer.activities));var f=r.find("ul>li>a.km-listview-link:eq(3)");f.html(f.html().replace(l,"$1$2"+a.drawer.settings)),(r=t(y+_.ACTIVITIES)).find('ul[data-role="buttongroup"]>li:eq(0)').html(a.activities.buttonGroup.list),r.find('ul[data-role="buttongroup"]>li:eq(1)').html(a.activities.buttonGroup.chart),(r=t(y+_.CORRECTION)).find("span.explanations").html(a.correction.explanations),(r=t(y+_.NETWORK)).data("kendoMobileView"),r.find("h2.title").html(a.network.title),(r=t(y+_.PLAYER)).find("span.instructions").html(a.player.instructions),(r=t(y+_.SETTINGS)).find("ul>li>label>span:not(.k-widget):eq(0)").text(a.settings.user),r.find("ul>li>label>span:not(.k-widget):eq(1)").text(a.settings.version),r.find("ul>li>label>span:not(.k-widget):eq(2)").text(a.settings.theme),r.find("ul>li>label>span:not(.k-widget):eq(3)").text(a.settings.language),r.find("ul>li>label>span:not(.k-widget):eq(4)").text(a.settings.category),r.find('.buttons>[data-role="button"]:not(.km-button):eq(0)').text(a.settings.switch),r.find(".buttons>.km-button>span.km-text:eq(0)").text(a.settings.switch),r.find('.buttons>[data-role="button"]:not(.km-button):eq(1)').text(a.settings.tour),r.find(".buttons>.km-button>span.km-text:eq(1)").text(a.settings.tour),(r=t(y+_.SIGNIN)).find('div[data-role="page"]:eq(0) div.text>p').text(a.signin.page0),r.find('div[data-role="page"]:eq(1) div.text>p').text(a.signin.page1),r.find('div[data-role="page"]:eq(2) div.text>p').text(a.signin.page2),r.find('div[data-role="page"]:eq(3) .k-notification-wrap>span.k-text').text(a.signin.welcome),(r=t(y+_.SUMMARY)).find("ul>li>label>span:not(.k-widget):eq(0)").text(a.summary.title),r.find("ul>li>label>span:not(.k-widget):eq(1)").text(a.summary.metrics),r.find("ul>li>label>span:not(.k-widget):eq(2)").text(a.summary.category),r.find("ul>li>label>span:not(.k-widget):eq(3)").text(a.summary.tags),r.find("ul>li>label>span:not(.k-widget):eq(4)").text(a.summary.description),r.find("ul>li>label>span:not(.k-widget):eq(5)").text(a.summary.author),r.find("ul>li>label>span:not(.k-widget):eq(6)").text(a.summary.published),r.find('.buttons>[data-role="button"]:not(.km-button):eq(0)').text(a.summary.go),r.find(".buttons>.km-button>span.km-text:eq(0)").text(a.summary.go);var p=t(y+_.SUMMARY+"-actionsheet");p.find("li.km-actionsheet-play > a").text(a.summary.actionSheet.play),p.find("li.km-actionsheet-share > a").text(a.summary.actionSheet.share),p.find("li.km-actionsheet-feedback > a").text(a.summary.actionSheet.feedback),p.find("li.km-actionsheet-cancel > a").text(a.summary.actionSheet.cancel),(r=t(y+_.SYNC)).find("h2.title").html(a.sync.title),r.find(o.roleSelector("button")).text(a.sync.buttons.continue),(r=t(y+_.USER)).find("ul>li>label>span:not(.k-widget):eq(0)").text(a.user.firstName),r.find("ul>li>label>span:not(.k-widget):eq(1)").text(a.user.lastName),r.find("ul>li>label>span:not(.k-widget):eq(2)").text(a.user.lastUse),r.find("ul>li>label>span:not(.k-widget):eq(3)").text(a.user.pin),r.find("ul>li>label>span:not(.k-widget):eq(4)").text(a.user.newPIN),r.find("ul>li>label>span:not(.k-widget):eq(5)").text(a.user.confirm),r.find('.buttons>[data-role="button"]:not(.km-button):eq(0)').text(a.user.save),r.find(".buttons>.km-button>span.km-text:eq(0)").text(a.user.save),r.find('.buttons>[data-role="button"]:not(.km-button):eq(1)').text(a.user.signIn),r.find(".buttons>.km-button>span.km-text:eq(1)").text(a.user.signIn),r.find('.buttons>[data-role="button"]:not(.km-button):eq(2)').text(a.user.newUser),r.find(".buttons>.km-button>span.km-text:eq(2)").text(a.user.newUser),r.find('.buttons>[data-role="button"]:not(.km-button):eq(3)').text(a.user.changePIN),r.find(".buttons>.km-button>span.km-text:eq(3)").text(a.user.changePIN),n.application instanceof o.mobile.Application&&n.application.pane instanceof o.mobile.ui.Pane&&n._setNavBarTitle(n.application.view())},n._resizeListView=function(e){s.instanceof(o.mobile.ui.View,e,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View")),e.id===y+_.FINDER&&e.content.find(o.roleSelector("listview")).each(function(e,i){var n=t(i).data("kendoMobileListView");n instanceof o.mobile.ui.ListView&&n.refresh()})},n._resizeScrollView=function(e){s.instanceof(o.mobile.ui.View,e,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View")),e.content.find(o.roleSelector("scrollview")).each(function(e,i){var n=t(i).data("kendoMobileScrollView");n instanceof o.mobile.ui.ScrollView&&n.refresh()})},n._resizeStage=function(t){s.instanceof(o.mobile.ui.View,t,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View"));var e=t.content,i=e.find(o.roleSelector("stage")),n=i.data("kendoStage");if(o.ui.Stage&&n instanceof o.ui.Stage){var r=i.outerHeight();s.equal(r,768,s.format(s.messages.equal.default,"HEIGHT","768"));var a=i.outerWidth();s.equal(a,1024,s.format(s.messages.equal.default,"WIDTH","1024"));var l,c=e.height(),u=e.width(),h=0,d=0,f=1;u>c?(u-(d=Math.min(.33*u,Math.max(200,.25*u,u-c*a/r))))/c>a/r?d=u-(l=c/r)*a:(l=(u-d)/a,f=.95):(c-(h=Math.min(.33*c,Math.max(180,.25*c,c-u*r/a))))/u>r/a?h=c-(l=u/a)*r:(l=(c-h)/r,f=.95),n.scale(f*l);var p=i.parent();s.ok(p.hasClass("kj-stage"),"Stage wrapper is expected to have class `kj-stage`");var m=p.closest(".stretched-item");m.outerWidth(u-Math.ceil(d)).outerHeight(c-Math.ceil(h)).css("position","relative"),m.children(".centered").width(f*l*a).height(f*l*r).css({position:"absolute",top:"50%",left:"50%",marginLeft:-f*l*a/2,marginTop:-f*l*r/2}),m.find(".kj-stage").css({borderWidth:1===f?0:1});var g=e.find(o.roleSelector("markdown")),v=g.closest(o.roleSelector("scroller")),b=v.data("kendoMobileScroller");s.instanceof(o.mobile.ui.Scroller,b,s.format(s.messages.instanceof.default,"markdownScroller","kendo.mobile.ui.Scroller"));var k=g.closest(".stretched-item"),y=k.children(".heading");k.outerWidth(Math.floor(d)||u).outerHeight(Math.floor(h)||c).css({borderTopWidth:h?1:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:d?1:0}),b.destroy(),v.outerHeight(k.height()-y.outerHeight()-parseInt(k.css("padding-bottom"),10)),v.kendoMobileScroller().data("kendoMobileScroller").reset()}},n._resizeChart=function(t){if(s.instanceof(o.mobile.ui.View,t,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View")),"/"===t.id||t.id===y+_.ACTIVITIES){var e=t.content,i=e.find(o.roleSelector("chart")),n=i.data("kendoChart");if(n instanceof o.dataviz.ui.Chart){var r=e.find(o.roleSelector("buttongroup"));i.outerHeight(e.height()-r.outerHeight(!0)),i.outerWidth(e.width()),n.resize()}}},n.onResize=function(){if(n.application instanceof o.mobile.Application&&n.application.pane instanceof o.mobile.ui.Pane){var t=n.application.view();n._initToastNotifications(),n._resizeListView(t),n._resizeScrollView(t),n._resizeStage(t),n._resizeChart(t)}},n.onDeviceReady=function(){l.debug({message:"Device is ready",method:"mobile.onDeviceReady"}),n.support={barcodeScanner:window.cordova&&window.cordova.plugins&&!!window.cordova.plugins.barcodeScanner&&t.isFunction(window.cordova.plugins.barcodeScanner.scan),cordova:t.type(window.cordova)!==p,dialogs:window.navigator&&!!window.navigator.notification&&t.isFunction(window.navigator.notification.alert)&&t.isFunction(window.navigator.notification.confirm),ga:!!window.ga&&t.isFunction(window.ga.startTrackerWithId),inAppBrowser:window.cordova&&window.device&&"browser"!==window.device.platform&&!!window.cordova.InAppBrowser&&t.isFunction(window.cordova.InAppBrowser.open),safariViewController:window.cordova&&window.device&&"browser"!==window.device.platform&&!!window.SafariViewController&&t.isFunction(window.SafariViewController.show),socialsharing:window.plugins&&!!window.plugins.socialsharing&&t.isFunction(window.plugins.socialsharing.shareWithOptions),splashscreen:window.navigator&&!!window.navigator.splashscreen&&t.isFunction(window.navigator.splashscreen.hide)},n.support.barcodeScanner&&(n.barcodeScanner=window.cordova.plugins.barcodeScanner),t.type(window.device)!==p&&(n.device=window.device),n.support.ga&&(n.ga=window.ga),n.support.inAppBrowser&&(n.InAppBrowser=window.cordova.InAppBrowser),n.support.safariViewController&&(n.SafariViewController=window.SafariViewController),n.dialogs={confirm:function(t,e,a,s){n.support.dialogs?window.navigator.notification.confirm(t,e,a||u.culture.dialogs.confirm,Array.isArray(s)?s:[u.culture.dialogs.buttons.ok.text,u.culture.dialogs.buttons.cancel.text]):r.dialogs.openAlert({type:"info",title:a||u.culture.dialogs.confirm,message:t,buttonLayout:"stretched",actions:[{action:"ok",text:Array.isArray(s)&&s.length>1?s[0]:u.culture.dialogs.buttons.ok.text,primary:!0,imageUrl:o.format(i.uris.cdn.icons,u.culture.dialogs.buttons.ok.icon)},{action:"cancel",text:Array.isArray(s)&&s.length>1?s[1]:u.culture.dialogs.buttons.cancel.text,imageUrl:o.format(i.uris.cdn.icons,u.culture.dialogs.buttons.cancel.icon)}]}).done(function(t){"ok"===t.action?e(1):e(2)})},error:function(t,e){n.support.dialogs?window.navigator.notification.alert(t,e,u.culture.dialogs.error,u.culture.dialogs.buttons.ok.text):r.dialogs.openAlert({type:"error",title:u.culture.dialogs.error,message:t,buttonLayout:"stretched",actions:[{action:"ok",text:u.culture.dialogs.buttons.ok.text,primary:!0,imageUrl:o.format(i.uris.cdn.icons,u.culture.dialogs.buttons.ok.icon)}]}).done(e)},info:function(t,e){n.support.dialogs?window.navigator.notification.alert(t,e,u.culture.dialogs.info,u.culture.dialogs.buttons.ok.text):r.dialogs.openAlert({type:"info",title:u.culture.dialogs.info,message:t,buttonLayout:"stretched",actions:[{action:"ok",text:u.culture.dialogs.buttons.ok.text,primary:!0,imageUrl:o.format(i.uris.cdn.icons,u.culture.dialogs.buttons.ok.icon)}]}).done(e)},success:function(t,e){n.support.dialogs?window.navigator.notification.alert(t,e,u.culture.dialogs.success,u.culture.dialogs.buttons.ok.text):r.dialogs.openAlert({type:"success",title:u.culture.dialogs.success,message:t,buttonLayout:"stretched",actions:[{action:"ok",text:u.culture.dialogs.buttons.ok.text,primary:!0,imageUrl:o.format(i.uris.cdn.icons,u.culture.dialogs.buttons.ok.icon)}]}).done(e)},warning:function(t,e){n.support.dialogs?window.navigator.notification.alert(t,e,u.culture.dialogs.warning,u.culture.dialogs.buttons.ok.text):r.dialogs.openAlert({type:"warning",title:u.culture.dialogs.warning,message:t,buttonLayout:"stretched",actions:[{action:"ok",text:u.culture.dialogs.buttons.ok.text,primary:!0,imageUrl:o.format(i.uris.cdn.icons,u.culture.dialogs.buttons.ok.icon)}]}).done(e)}},n.support.socialsharing&&(n.socialsharing=window.plugins.socialsharing),n.support.splashscreen&&(n.splashscreen=window.navigator.splashscreen),l.debug({message:"Shortcuts set",method:"mobile.onDeviceReady"}),n.support.ga&&(n.ga.startTrackerWithId(i.constants.gaTrackingId),n.ga.setAppVersion(i.version),n.ga.addCustomDimension(1,i.constants.appScheme),n.ga.enableUncaughtExceptionReporting(!0),(i.DEBUG||window.device&&"browser"===window.device.platform)&&n.ga.debugMode(),n.ga.trackEvent(G.CATEGORY.GENERAL,G.ACTION.INIT)),l.debug({message:"Analytics set",method:"mobile.onDeviceReady"}),t(document).one("i18n.loaded",n.oni18nLoaded),t.holdReady(!1)},n.oni18nLoaded=function(){s.isPlainObject(u.culture,s.format(s.messages.isPlainObject.default,"i18n.culture")),l.debug({message:"i18n culture is loaded",method:"mobile.oni18nLoaded"}),n._scheduleSystemNotifications(),n._initToastNotifications(),n._initBatteryEvents(),n._initNetworkEvents(),t(window).resize(n.onResize),h.test.ping().always(function(e){e.compatible&&window.pongodb.util.compareVersions(i.version,e.compatible)<0?n.dialogs.error(u.culture.notifications.appVersionFailure,function(){window.navigator.app&&t.isFunction(window.navigator.app.exitApp)&&window.navigator.app.exitApp()}):i.db.upgrade.execute().done(function(){K.load().done(n._initKendoApplication)}).fail(function(t){i.notification.error(u.culture.notifications.dbMigrationFailure),t instanceof Error&&setTimeout(function(){throw t},0)})})},n._initKendoApplication=function(){l.debug({message:"Initialize kendo application",method:"mobile.initKendoApplication"}),o.UserEvents.defaultThreshold("android"===o.support.mobileOS.name?0:20);var e=y;K.isSyncedUser$()?e+=_.USER:K.isSavedUser$()?e+=_.SIGNIN+"?page="+encodeURIComponent(3)+"&userId="+encodeURIComponent(K.get(L.ID)):e+=_.SIGNIN,n.application=new o.mobile.Application(document.body,{initial:e,skin:i.theme.name(),statusBarStyle:"hidden",init:function(e){l.debug({message:"Kendo mobile app is initialized",method:"mobile.oni18nLoaded"}),n._fixThemeVariant(e.sender.options.skin),n.localize(K.get(M)),n._fixSigninViewLocalization(),n._initToastNotifications(),n.application.router.bind("back",n.onRouterBack),n.application.router.bind("change",n.onRouterChange),t(document).trigger("app.init"),setTimeout(function(){n.support.splashscreen&&n.splashscreen.hide()},500)}})},n._fixThemeVariant=function(e){s.type(m,e,s.format(s.messages.type.default,"theme",m));var i=e.split("-");Array.isArray(i)&&i.length>1&&t(document.body).addClass("km-"+e)},n.checkNetwork=function(e){if(("Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine)&&!x.test(e.url)){e.preventDefault();var i=n.application.view();if(i.id!==y+_.NETWORK){var r=window.encodeURIComponent((i.id.substr(1)||_.DEFAULT)+"?"+window.decodeURIComponent(t.param(i.params)));n.application.navigate(y+_.NETWORK+"?url="+r)}else{var a=t(o.roleSelector("drawer")).data("kendoMobileDrawer");a instanceof o.mobile.ui.Drawer&&a.hide(),n.application.hideLoading()}return!1}return!0},n._initNetworkEvents=function(){var e=!0;document.addEventListener("online",function(){if(!e&&n.application instanceof o.mobile.Application&&n.application.pane instanceof o.mobile.ui.Pane){e=!0,i.notification.warning(u.culture.notifications.networkOnline);var t=n.application.view();t.id===y+_.NETWORK&&n.application.navigate(window.decodeURIComponent(t.params.url))}},!1),document.addEventListener("offline",function(){if(e=!1,n.application instanceof o.mobile.Application&&n.application.pane instanceof o.mobile.ui.Pane){i.notification.warning(u.culture.notifications.networkOffline);var r=n.application.view();t(document).find(o.roleSelector("actionsheet")).each(function(e,i){var n=t(i).data("kendoMobileActionSheet");n instanceof o.mobile.ui.ActionSheet&&n.close()}),r.element.find(o.roleSelector("dropdownlist")).each(function(e,i){var n=t(i).data("kendoDropDownList");n instanceof o.ui.DropDownList&&n.close()});var a=(r.id.substr(1)||_.DEFAULT)+"?"+window.decodeURIComponent(t.param(r.params));n.checkNetwork({preventDefault:t.noop,url:a})}},!1)},n._initBatteryEvents=function(){window.addEventListener("batterylow",function(t){i.notification.warning(u.culture.notifications.batteryLow)},!1),window.addEventListener("batterycritical",function(t){i.notification.warning(u.culture.notifications.batteryCritical)},!1)},n._scanQRCode=function(){if(n.support.barcodeScanner){var e=/^https?:\/\/[^\/]+\/([a-z]{2})\/s\/([a-f0-9]{24})$/i;n.barcodeScanner.scan(function(o){if(!o.cancelled){s.type(m,o.text,s.format(s.messages.type.default,"result.text",m)),s.equal("QR_CODE",o.format,s.format(s.messages.equal.default,"result.format","QR_CODE"));var r=o.text.match(e);if(t.isArray(r)&&r.length>2){var a=r[1],l=r[2];K.get(M)===a?n.application.navigate(y+_.SUMMARY+"?language="+window.encodeURIComponent(a)+"&summaryId="+window.encodeURIComponent(l)):i.notification.warning(u.culture.notifications.scanLanguageWarning)}else i.notification.warning(u.culture.notifications.scanMatchWarning)}},function(t){n.dialogs.error(u.culture.notifications.scanFailure),l.error({message:"Scan failure",method:"mobile._scanQRCode",error:t})},{preferFrontCamera:!1,showFlipCameraButton:!1,prompt:u.culture.notifications.scanPrompt,formats:"QR_CODE"})}},n._openHelp=function(){s.type(m,i.constants&&i.constants.helpUrl,s.format(s.messages.type.default,"app.constants.helpUrl",m)),l.debug({message:"Opening the help content",method:"mobile._openHelp",data:{url:i.constants.helpUrl}}),n.support.inAppBrowser?n.InAppBrowser.open(i.constants.helpUrl,"_system"):window.open(i.constants.helpUrl,"_system"),n.support.ga&&n.ga.trackEvent(G.CATEGORY.GENERAL,G.ACTION.HELP,i.constants.helpUrl)},n.onRouterBack=function(e){""===e.to&&(e.preventDefault(),window.navigator.app&&t.isFunction(window.navigator.app.exitApp)&&window.navigator.app.exitApp())},n.onRouterChange=function(t){if(s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.type(m,t.url,s.format(s.messages.type.default,"e.url",m)),n.application.showLoading(),n.checkNetwork(t)&&n.support.ga){var e=t.url.indexOf("?"),i=e>0?t.url.substr(0,e):t.url;n.ga.trackView(i,t.url)}},n.onLayoutViewShow=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),e.view.scroller instanceof o.mobile.ui.Scroller&&e.view.scroller.reset(),e.view.element.find(o.roleSelector("scroller")).each(function(e,i){var n=t(i).data("kendoMobileScroller");n instanceof o.mobile.ui.Scroller&&n.reset()})},n.onDrawerListViewClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.item,s.format(s.messages.instanceof.default,"e.item","jQuery")),e.preventDefault();var i=e.item.attr(o.attr("command")),r=u.locale(),a=K.get(L.SID);switch(i){case"categories":n.application.navigate(y+_.CATEGORIES+"?language="+encodeURIComponent(r));break;case"scan":n._scanQRCode();break;case"activities":n.application.navigate(y+_.ACTIVITIES+"?language="+encodeURIComponent(r)+"&userId="+encodeURIComponent(a));break;case"settings":n.application.navigate(y+_.SETTINGS+"?userId="+encodeURIComponent(a));break;case"help":n._openHelp()}},n.onGenericViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var e=t.view,i="/"===e.id?_.DEFAULT:e.id.substr(1),r=u.culture[i].viewTitle;i===_.SCORE?r=o.format(r,K.get(j.SCORE||0)/100):i!==_.CORRECTION&&i!==_.PLAYER||(r=o.format(r,K.page$(),K.totalPages$())),n._setNavBar(e),n._setNavBarTitle(e,r),n.application instanceof o.mobile.Application&&n.application.hideLoading()},n.onActivitiesViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),s.isPlainObject(t.view.params,s.format(s.messages.isPlainObject.default,"e.view.params"));var e=t.view.params.language;s.equal(e,u.locale(),s.format(s.messages.equal.default,"i18n.locale()",e)),s.equal(e,K.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',e));var i=t.view.params.userId;s.equal(i,K.get(L.SID),s.format(s.messages.equal.default,'viewModel.get("user.sid")',i)),K.loadActivities({language:e,userId:i}).always(function(){n.onGenericViewShow(t)})},n.onActivitiesButtonGroupSelect=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.type("number",t.index,s.format(s.messages.type.default,"e.index","number"));var e=i.mobile.application.view();t.index?(e.content.find(o.roleSelector("listview")).hide(),e.content.find(o.roleSelector("chart")).show(),n._resizeChart(e)):(e.content.find(o.roleSelector("listview")).show(),e.content.find(o.roleSelector("chart")).hide())},n.onCategoriesViewShow=n.onGenericViewShow,n.onCorrectionViewInit=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var i=e.view.content;o.destroy(e.view.content.find(o.roleSelector("stage"))),i.find("div.heading h2").off().on("click tap",function(e){var i=t(e.currentTarget).find('a[data-role="button"][data-icon="ear"]'),n=i.data("kendoMobileButton");n instanceof o.mobile.ui.Button&&(i.addClass("km-state-active"),n.trigger("click",{button:i}),setTimeout(function(){i.removeClass("km-state-active")},250))})},n.onCorrectionViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),s.isPlainObject(t.view.params,s.format(s.messages.isPlainObject.default,"e.view.params"));var e=t.view.params.language,r=t.view.params.summaryId,a=t.view.params.versionId,l=t.view.params.activityId,c=parseInt(t.view.params.page,10)||1;s.equal(K.get(M),e,s.format(s.messages.equal.default,"language",'viewModel.get("language")')),s.equal(u.locale(),e,s.format(s.messages.equal.default,"language","i18n.locale()")),s.match(v,r,s.format(s.messages.match.default,"activityId",v)),s.match(v,a,s.format(s.messages.match.default,"activityId",v)),s.match(v,l,s.format(s.messages.match.default,"versionId",v)),t.view.element.removeProp(o.attr("showScoreInfo")),o.bind(t.view.content.find(o.roleSelector("stage")),i.mobile.viewModel,o.ui,o.dataviz.ui,o.mobile.ui),n._resizeStage(t.view),K.set(I,K.get(E).at(c-1)),n.onGenericViewShow(t),i.notification.info(u.culture.notifications.pageNavigationInfo)},n.onCorrectionViewHide=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),o.destroy(t.view.content.find(o.roleSelector("stage"))),i.tts.cancelSpeak()},n.onFinderBeforeViewShow=function(t){K.summaries.data([])},n.onFinderViewShow=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),s.isPlainObject(e.view.params,s.format(s.messages.isPlainObject.default,"e.view.params"));var r=e.view.params.language;K.loadLazySummaries(t.extend(!0,{fields:"author,icon,metrics.comments.count,language,metrics.ratings.average,metrics.scores.average,metrics.views.count,published,tags,title,type,updated",page:1,pageSize:K.summaries.pageSize(),partition:{language:r,type:"Test","author.userId":i.constants.authorId},sort:{field:"updated",dir:"desc"}},t.deparam(t.param(e.view.params)))).always(function(){n.onGenericViewShow(e)})},n.onNetworkViewShow=n.onGenericViewShow,n.onPlayerViewInit=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var i=e.view.content;o.destroy(e.view.content.find(o.roleSelector("stage"))),i.find("div.heading").off().on("click tap",function(e){e.preventDefault();var i=t(e.currentTarget).find('a[data-role="button"][data-icon="ear"]'),n=i.data("kendoMobileButton");n instanceof o.mobile.ui.Button&&(i.addClass("km-state-active"),n.trigger("click",{button:i}),setTimeout(function(){i.removeClass("km-state-active")},250))})},n.onPlayerViewShow=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),s.isPlainObject(e.view.params,s.format(s.messages.isPlainObject.default,"e.view.params"));var r=e.view.params.language,a=e.view.params.summaryId,l=e.view.params.versionId;s.equal(K.get(M),r,s.format(s.messages.equal.default,"language",'viewModel.get("language")')),s.equal(u.locale(),r,s.format(s.messages.equal.default,"language","i18n.locale()")),s.match(v,a,s.format(s.messages.match.default,"summaryId",v)),s.match(v,l,s.format(s.messages.match.default,"versionId",v)),e.view.element.removeProp(o.attr("clickSubmitInfo")),o.bind(e.view.content.find(o.roleSelector("stage")),i.mobile.viewModel,o.ui,o.dataviz.ui,o.mobile.ui),n._resizeStage(e.view),t.when(K.loadVersion({language:r,summaryId:a,id:l}),K.loadActivities({language:r,userId:K.get(L.SID)})).done(function(){K.resetCurrent(),K.set(I,K.get(E).at(0))}).always(function(){n.onGenericViewShow(e),i.notification.info(u.culture.notifications.pageNavigationInfo),n.support.ga&&n.ga.trackEvent(G.CATEGORY.SUMMARY,G.ACTION.PLAY,a)})},n.onPlayerViewHide=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),o.destroy(t.view.content.find(o.roleSelector("stage"))),i.tts.cancelSpeak()},n._initScoreListView=function(t){s.instanceof(o.mobile.ui.View,t,s.format(s.messages.instanceof.default,"view","kendo.mobile.ui.View"));var e=t.params.language,i=t.params.summaryId,r=t.params.versionId,a=t.params.activityId,l=t.content,c=l.find(y+_.SCORE+"-listview");if(c.length){var u=c.data("kendoMobileListView");u instanceof o.mobile.ui.ListView&&o.destroy(c),u=c.kendoMobileListView({click:function(t){t.preventDefault(),n.application.navigate(y+_.CORRECTION+"?language="+window.encodeURIComponent(e)+"&summaryId="+window.encodeURIComponent(i)+"&versionId="+window.encodeURIComponent(r)+"&activityId="+window.encodeURIComponent(a)+"&page="+window.encodeURIComponent(t.dataItem.page+1))},dataSource:{data:K.get(j.TEST).getScoreArray(),group:{field:"page"}},filterable:!1,fixedHeaders:!0,headerTemplate:l.find("#score-header-template").html().trim(),template:l.find("#score-template").html().trim(),type:"group"})}},n.onScoreViewShow=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var i=e.view.params.activityId;if(v.test(i)){var r=K.activities.get(i);s.instanceof(c.MobileActivity,r,s.format(s.messages.instanceof.default,"activity","app.models.MobileActivity")),s.equal("Score",r.type,s.format(s.messages.equal.default,"activity.type","Score")),t.when(K.loadSummary({language:u.locale(),id:r.get("version.summaryId")}),K.loadVersion({language:u.locale(),summaryId:r.get("version.summaryId"),id:r.get("version.versionId")})).done(function(){K.set(j.$,r.toJSON()),K.calculate().done(function(){n._setNavBarTitle(e.view,o.format(u.culture.score.viewTitle,K.get(j.SCORE||0)/100)),n._initScoreListView(e.view)})}).always(function(){n.onGenericViewShow(e)})}else n._initScoreListView(e.view),n.onGenericViewShow(e)},n.onSettingsViewShow=n.onGenericViewShow,n.onSettingsSwitchClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),n.application.navigate(y+_.USER)},n._parseTokenAndLoadUser=function(e){var o=t.Deferred(),r=h.util.parseToken(e);return n.support.safariViewController||n.support.inAppBrowser||h.util.cleanHistory(),r&&r.error?(i.notification.error(u.culture.notifications.oAuthTokenFailure),l.error({message:r.error,method:"mobile._parseTokenAndLoadUser",data:{url:e}}),o.reject(new Error(r.error))):r&&r.access_token&&K.loadUser().done(function(){setTimeout(function(){K.isNewUser$()?n.application.navigate(y+_.USER):n.application.navigate(y+_.SYNC),o.resolve()},0)}).fail(o.reject),o.promise()},n.onSigninViewInit=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var e=t.view,i=e.content.find(o.roleSelector("scrollview")).data("kendoMobileScrollView");i instanceof o.mobile.ui.ScrollView&&i.bind("changing",function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.type("number",t.nextPage,s.format(s.messages.type.default,"e.nextPage","number")),3===t.nextPage?(n._setNavBarTitle(e,u.culture.signin.viewTitle2),e.content.find("ol.k-pages.km-pages").addClass("no-background")):(n._setNavBarTitle(e),e.content.find("ol.k-pages.km-pages").removeClass("no-background"))})},n.onSigninViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),n.support.inAppBrowser||n.support.safariViewController||(t.preventDefault(),n._parseTokenAndLoadUser(window.location.href));var e=t.view;n._setNavBar(e);var i=e.params.userId===K.get(L.ID)?K.get(L.PROVIDER):"";n.enableSigninButtons(i||!0);var r=e.content.find(o.roleSelector("scrollview")).data("kendoMobileScrollView");if(r instanceof o.mobile.ui.ScrollView){var a=parseInt(e.params.page,10)||0;r.trigger("changing",{nextPage:a}),r.scrollTo(a,!0)}n.application instanceof o.mobile.Application&&n.application.hideLoading()},n._fixSigninViewLocalization=function(){if(n.application instanceof o.mobile.Application&&n.application.pane instanceof o.mobile.ui.Pane){var t=n.application.view(),e=u.culture;3===parseInt(t.params.page,10)&&n._setNavBarTitle(t,e.signin.viewTitle2);var i=t.params.userId===K.get(L.ID)?K.get(L.PROVIDER):"";i&&t.content.find('div[data-role="page"]:eq(3) .k-notification-wrap>span.k-text').html(o.format(e.signin.welcome2,K.get(L.FIRST_NAME),i))}},n._signinWithSafariViewController=function(t){l.debug({message:"opening signInUrl in SafariViewController",method:"mobile._signinWithSafariViewController",data:{signInUrl:t}}),n.SafariViewController.isAvailable(function(e){e&&n.SafariViewController.show({url:t},function(t){l.debug({message:"safari/chrome successfully opened",method:"mobile._signinWithSafariViewController",data:{event:t.event}})},function(t){l.error({message:"safari/chrome failed to opened",method:"mobile._signinWithSafariViewController",error:new Error(t)})})})},n._signinWithInAppBrowser=function(t,e){var i=function(){a&&(a.removeEventListener("loadstart",o),a.removeEventListener("loaderror",r),a.close(),a=void 0,l.debug({message:"closed InAppBrowser",method:"mobile._signinWithInAppBrowser"}))},o=function(t){l.debug({message:"loadstart event of InAppBrowser",method:"mobile._signinWithInAppBrowser",data:{url:t.url}}),t.url.startsWith(e)&&n._parseTokenAndLoadUser(t.url).always(i)},r=function(t){l.error({message:"loaderror event of InAppBrowser",method:"mobile._signinWithInAppBrowser",error:t,data:{url:t.url}}),i()},a=n.InAppBrowser.open(t,"_blank","location=yes,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",o),a.addEventListener("loaderror",r),l.debug({message:"opening signInUrl in InAppBrowser",method:"mobile._signinWithInAppBrowser",data:{signInUrl:t}})},n._signinWithinBrowser=function(t){l.debug({message:"opening signInUrl in browser",method:"mobile._signinWithinBrowser",data:{signInUrl:t}}),window.location.assign(t)},n.onSigninButtonClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),n.enableSigninButtons(!1);var r=e.button.attr(o.attr("provider")),c=n.support.safariViewController||n.support.inAppBrowser?o.format(i.uris.rapi.root+i.uris.rapi.oauth.application,i.constants.appId):window.location.protocol+"//"+window.location.host+"/"+y+_.SIGNIN;h.oauth.getSignInUrl(r,c).done(function(t){a.setItem("provider",r),l.debug({message:"getSignInUrl",method:"mobile.onSigninButtonClick",data:{provider:r,returnUrl:c,signInUrl:t}}),n.support.safariViewController?n._signinWithSafariViewController(t):n.support.inAppBrowser?n._signinWithInAppBrowser(t,c):n._signinWithinBrowser(t)}).fail(function(t,e,n){i.notification.error(u.culture.notifications.signinUrlFailure),l.error({message:"error obtaining a signin url",method:"mobile.onSigninButtonClick",data:{provider:r,status:e,error:n,response:Y(t)}})}).always(function(){n.enableSigninButtons(!0)})},n.enableSigninButtons=function(e){var i=t.type(e)===m?e:"";e=!i.length&&e,t(y+_.SIGNIN).children(o.roleSelector("content")).find(o.roleSelector("button")).each(function(){var n=t(this).attr(o.attr("provider")),r=t(this).data("kendoMobileButton");r instanceof o.mobile.ui.Button&&r.enable(e||n===i)})},n.onSummaryViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var e=t.view,r=u.locale();s.equal(r,K.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',r));var a=t.view.params.summaryId;K.loadSummary({language:r,id:a}).always(function(){n.onGenericViewShow(t);var o=K.get(D.$);e.content.toggleClass("error",o.isError$()).toggleClass("success",o.isSuccess$()).toggleClass("warning",o.isWarning$()),i.notification.info(u.culture.notifications.summaryViewInfo)})},n.onSummaryActionPlay=function(){var t=u.locale();s.equal(t,K.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',t)),s.equal(t,K.get(D.LANGUAGE),s.format(s.messages.equal.default,'viewModel.get("summary.language")',t));var e=K.get(D.ID);K.loadLazyVersions({fields:"id,state,summaryId",filter:{field:"state",operator:"eq",value:5},partition:{language:t,summaryId:e},sort:{field:"id",dir:"desc"}}).done(function(){var i=K.versions.at(0);s.instanceof(c.LazyVersion,i,s.format(s.messages.instanceof.default,"version","models.LazyVersion")),s.match(v,i.get("id"),s.format(s.messages.match.default,"version.get('id\")",v)),s.equal(e,i.get("summaryId"),s.format(s.messages.equal.default,"version.get('summaryId\")",e)),n.application.navigate(y+_.PLAYER+"?language="+window.encodeURIComponent(t)+"&summaryId="+window.encodeURIComponent(e)+"&versionId="+window.encodeURIComponent(i.get("id")))})},n.onSummaryActionShare=function(){if(n.support.socialsharing){var t=u.culture.summary.socialSharing;n.socialsharing.shareWithOptions({message:o.format(t.message,K.get(D.TITLE),K.get(D.DESCRIPTION)),subject:o.format(t.subject,K.get(D.TITLE)),url:K.summary.summaryUri$(),chooserTitle:t.chooserTitle},function(t){i.notification.success(u.culture.notifications.sharingSuccess),n.support.ga&&n.ga.trackEvent(G.CATEGORY.SUMMARY,G.ACTION.SHARE+t.app,K.get(D.ID))},function(t){i.notification.error(u.culture.notifications.sharingFailure),l.error({message:"Error sharing",method:"mobile.onSummaryActionShare",error:new Error(t)})})}},n.onSummaryActionFeedback=function(){var t=o.format(i.constants.feedbackUrl,u.locale(),encodeURIComponent(K.summary.summaryUri$()));n.support.inAppBrowser?n.InAppBrowser.open(t,"_system"):window.open(t,"_system"),n.support.ga&&n.ga.trackEvent(G.CATEGORY.GENERAL,G.ACTION.FEEDBACK)},n.onSyncViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var e=u.locale();s.equal(e,K.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',e));var r=u.culture.sync,a=t.view.content.find("p.message"),c=t.view.content.find("#sync-pass").data("kendoProgressBar"),h=t.view.content.find("#sync-percent").data("kendoProgressBar");n.onGenericViewShow(t),c.unbind("change"),c.bind("change",function(t){t.sender.progressStatus.text(status.pass<2?r.pass.remote:r.pass.local)});var d=t.view.content.find(o.roleSelector("button")).data("kendoMobileButton");if(d.unbind("click"),d.enable(!1),window.device&&!window.device.isVirtual&&"browser"!==window.device.platform&&"Connection"in window&&window.navigator.connection.type!==window.Connection.ETHERNET&&window.navigator.connection.type!==window.Connection.WIFI||window.device&&"browser"===window.device.platform&&!window.navigator.onLine)return i.notification.warning(u.culture.notifications.syncBandwidthLow),n.application.navigate(y+_.CATEGORIES+"?language="+encodeURIComponent(e));K.activities.setLastSync(K.get(L.LAST_SYNC)),K.activities.remoteSync().progress(function(t){a.text(r.message[t.collection]),c.value(t.pass),h.value(100*(t.index+1)/t.total)}).done(function(){c.value(2),h.value(100);var t=new Date;K.set(L.LAST_USE,t),K.set(L.LAST_SYNC,t),K.users.sync().done(function(){a.text(r.message.complete),i.notification.success(u.culture.notifications.syncSuccess),n.support.ga&&n.ga.trackEvent(G.CATEGORY.ACTIVITY,G.ACTION.SYNC)}).fail(function(t,e,n){i.notification.error(u.culture.notifications.userSaveFailure),l.error({message:"Error updating user after synchronization",method:"mobile.onSyncViewShow",data:{error:n,status:e,response:Y(t)}})})}).fail(function(t,e,n){401===t.status?i.notification.error(u.culture.notifications.syncUnauthorized):(i.notification.error(u.culture.notifications.syncFailure),l.error({message:"Error Synchronizing",method:"mobile.onSyncViewShow",data:{error:n,status:e,response:Y(t)}}))}).always(function(){d.bind("click",function(t){t.preventDefault(),n.application.navigate(y+_.CATEGORIES+"?language="+encodeURIComponent(e))}),d.enable(!0)})},n.onSyncViewHide=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View"));var e=t.view.content.find("p.message"),i=t.view.content.find("#sync-pass").data("kendoProgressBar"),n=t.view.content.find("#sync-percent").data("kendoProgressBar");e.text(""),i.value(0),n.value(0)},n.onUserViewInit=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,e.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),e.view.element.off("focus input keydown keypress",q).on("focus",q,function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event")),s.ok(t(e.target).is(q),"`e.target` should be a pin textbox"),t(e.target).val("")}).on("input",q,function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event")),s.ok(t(e.target).is(q),"`e.target` should be a pin textbox"),t(e.target).val(t(e.target).val().replace(/\D+/g,"").substr(0,4))}).on("keydown",q,function(e){if(s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event")),s.ok(t(e.target).is(q),"`e.target` should be a pin textbox"),13===e.which){var i=t(e.target).closest(o.roleSelector("view")).find(o.roleSelector("button")+".km-primary:visible");s.equal(1,i.length,s.format(s.messages.equal.default,"buttonElement.length","1"));var n=i.data("kendoMobileButton");s.instanceof(o.mobile.ui.Button,n,s.format(s.messages.instanceof.default,"buttonWidget","kendo.mobile.ui.Button")),n.trigger("click",{button:i})}}).on("keypress",q,function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event")),s.ok(t(e.target).is(q),"`e.target` should be a pin textbox"),(e.which<48||e.which>57||t(e.target).val().length>3)&&e.preventDefault()})},n.onUserViewShow=function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(o.mobile.ui.View,t.view,s.format(s.messages.instanceof.default,"e.view","kendo.mobile.ui.View")),n.onGenericViewShow(t),K.isSavedUser$()?i.notification.info(u.culture.notifications.pinValidationInfo):i.notification.info(u.culture.notifications.pinSaveInfo),n.enableUserButtons(!0),t.view.element.find(q).val("").first().focus()},n.onUserSaveClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),n.enableUserButtons(!1);var r=K.get(L.$);s.instanceof(c.MobileUser,r,s.format(s.messages.instanceof.default,"user","models.MobileUser"));var a=r.isNew(),l=e.button.closest(o.roleSelector("view")).find(q);s.equal(3,l.length,s.format(s.messages.equal.default,"pinElements.length","3"));var h=l.eq(0).val(),d=l.eq(1).val(),f=l.eq(2).val(),p=r.isNew();p&&b.test(d)&&f===d||!p&&b.test(d)&&f===d&&r.verifyPin(h)?(r.addPin(d),K.set(L.LAST_USE,new Date),K.syncUsers().done(function(){if(i.notification.success(o.format(u.culture.notifications.userSignInSuccess,K.user.fullName$())),a)n.application.navigate(y+_.SYNC);else{var t=u.locale();s.equal(t,K.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',t)),n.application.navigate(y+_.CATEGORIES+"?language="+encodeURIComponent(t))}}).always(function(){n.enableUserButtons(!0),n.support.ga&&p&&n.ga.trackEvent(G.CATEGORY.USER,G.ACTION.SAVE,K.get(L.PROVIDER))})):p||!b.test(d)||f!==d||r.verifyPin(h)?(i.notification.warning(u.culture.notifications.pinSaveFailure),n.enableUserButtons(!0)):(i.notification.warning(u.culture.notifications.pinValidationFailure),n.enableUserButtons(!0))},n.onUserSignInClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),n.enableUserButtons(!1);var r=e.button.closest(o.roleSelector("view")).find(q+":visible");s.equal(1,r.length,s.format(s.messages.equal.default,"pinElement.length","1"));var a=r.val();K.user.verifyPin(a)?(K.set(L.LAST_USE,new Date),K.syncUsers(!1).done(function(){i.notification.success(o.format(u.culture.notifications.userSignInSuccess,K.user.fullName$())),n.application.navigate(y+_.CATEGORIES+"?language="+encodeURIComponent(u.locale())),n._requestAppStoreReview()}).always(function(){n.enableUserButtons(!0),n.support.ga&&n.ga.trackEvent(G.CATEGORY.USER,G.ACTION.SIGNIN,K.get(L.PROVIDER))})):(i.notification.warning(u.culture.notifications.pinValidationFailure),n.enableUserButtons(!0))},n.onUserNewClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),n.application.navigate(y+_.SIGNIN+"?page="+encodeURIComponent(3))},n.onUserChangePin=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),K.set(L.LAST_USE,new Date)},n.enableUserButtons=function(e){t(y+_.USER).find("li:has("+q+")").css("visibility",e?"":"hidden"),t(y+_.USER).children(o.roleSelector("content")).find(o.roleSelector("button")).each(function(){var i=t(this).data("kendoMobileButton");i instanceof o.mobile.ui.Button&&i.enable(e)})},n.onNavBarPreviousUserClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery"));var i=e.button.closest(".km-view");s.hasLength(i,s.format(s.messages.hasLength.default,"viewElement"));var r=i.data("kendoMobileView");s.instanceof(o.mobile.ui.View,r,s.format(s.messages.instanceof.default,"viewWidget","kendo.mobile.ui.View")),K.previousUser(),n._setNavBar(r)},n.onNavBarNextUserClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery"));var i=e.button.closest(".km-view");s.hasLength(i,s.format(s.messages.hasLength.default,"viewElement"));var r=i.data("kendoMobileView");s.instanceof(o.mobile.ui.View,r,s.format(s.messages.instanceof.default,"viewWidget","kendo.mobile.ui.View")),K.nextUser(),n._setNavBar(r)},n.onNavBarFirstPageClick=function(){K.firstPage()},n.onNavBarPreviousPageClick=function(){K.previousPage()},n.onNavBarNextPageClick=function(){K.nextPage()},n.onNavBarLastPageClick=function(){K.lastPage()},n.onNavBarScoreClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery"));var i=K.get(j.VERSION.LANGUAGE);s.match(g,i,s.format(s.messages.match.default,"language",g));var o=K.get(j.VERSION.SUMMARY_ID);s.match(v,o,s.format(s.messages.match.default,"summaryId",v));var r=K.get(j.VERSION.VERSION_ID);s.match(v,r,s.format(s.messages.match.default,"versionId",v));var a=K.get(j.ID);s.match(v,a,s.format(s.messages.match.default,"activityId",v)),n.application.navigate(y+_.SCORE+"?language="+encodeURIComponent(i)+"&summaryId="+encodeURIComponent(o)+"&versionId="+encodeURIComponent(r)+"&activityId="+encodeURIComponent(a))},n.onNavBarSubmitClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),n.dialogs.confirm(u.culture.notifications.confirmSubmit,function(t){1===t&&K.calculate().done(function(){K.saveCurrent().done(function(){n.onNavBarScoreClick(e),n.support.ga&&n.ga.trackEvent(G.CATEGORY.ACTIVITY,G.ACTION.SCORE,K.get(j.VERSION.SUMMARY_ID),parseInt(K.get(j.SCORE),10))})})})},n.onNavBarSummaryClick=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery"));var i=u.locale();s.equal(i,K.get(M),s.format(s.messages.equal.default,'viewModel.get("language")',i)),s.equal(i,K.get(D.LANGUAGE),s.format(s.messages.equal.default,'viewModel.get("summary.language")',i)),s.equal(i,K.get(N.LANGUAGE),s.format(s.messages.equal.default,'viewModel.get("version.language")',i));var o=K.get(D.ID);s.equal(o,K.get(N.SUMMARY_ID),s.format(s.messages.equal.default,'viewModel.get("version.summaryId")',o)),n.application.navigate(y+_.SUMMARY+"?language="+encodeURIComponent(i)+"&summaryId="+encodeURIComponent(o))},n.onNavBarSyncClick=function(t){n.application.navigate(y+_.SIGNIN+"?page="+encodeURIComponent(3)+"&userId="+encodeURIComponent(K.get(L.ID)))},n.onNavBarSearchClick=function(){var t=u.locale();n.application.navigate(y+_.FINDER+"?language="+encodeURIComponent(t))},n.onPageSwipe=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),t(document.activeElement).blur(),"left"===e.direction?K.nextPage():"right"===e.direction&&K.previousPage()},n.onUserSwipe=function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),t(document.activeElement).blur(),"left"===e.direction?K.nextUser():"right"===e.direction&&K.previousUser()},n.onTTSClick=function(e){if(s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"e")),s.instanceof(t,e.button,s.format(s.messages.instanceof.default,"e.button","jQuery")),e.preventDefault(),e.button.attr(o.attr("speaking")))i.tts.cancelSpeak().always(function(){e.button.removeAttr(o.attr("speaking"))});else{e.button.attr(o.attr("speaking"),"true");var n=e.button.attr(o.attr("tts")),r=K.get(n)||"";i.tts.doSpeak(r,u.locale(),!0).always(function(){e.button.removeAttr(o.attr("speaking"))})}},n._scheduleSystemNotifications=function(){var e=window.cordova&&window.cordova.plugins&&window.cordova.plugins.notification&&window.cordova.plugins.notification.local;e&&t.isFunction(e.cancelAll)&&t.isFunction(e.schedule)&&e.cancelAll(function(){e.schedule({title:u.culture.osNotifications.title,text:o.format(u.culture.osNotifications.text,i.constants.appName),icon:"file://img/notifications/icon.png",trigger:{every:"week"},foreground:!0})})},n._requestAppStoreReview=function(){var e=window.device&&window.device.platform&&window.device.platform.toLowerCase(),r=i.constants.appStoreUrl[e];if(i.DEBUG&&"browser"===e&&(r="http://www.kidoju.com"),r){var a=t.Deferred(),s=K.get(L.REVIEW_STATE);if((s=s||{counter:0}).version!==i.version&&(s.counter+1)%5==0){var c=u.culture.appStoreReview;l.debug({message:"Requesting an app store review",method:"mobile._requestAppStoreReview",data:{platform:e}}),n.dialogs.confirm(o.format(c.message,i.constants.appName),function(t){1===t?(l.debug({message:"Opening the app store for review",method:"mobile._requestAppStoreReview",data:{platform:e}}),n.support.inAppBrowser?n.InAppBrowser.open(r,"_system"):window.open(r,"_system"),n.support.ga&&n.ga.trackEvent(G.CATEGORY.GENERAL,G.ACTION.APP_REVIEW,e),s.version=i.version,s.counter=0):s.counter++,a.resolve(s)},o.format(c.title,i.constants.appName),[c.buttons.ok.text,c.buttons.cancel.text])}else s.counter++,a.resolve(s);a.promise().done(function(t){K.get(L.$).set("reviewSteate",t),K.users.sync(!1)})}},t.type(window.cordova)===p?n.onDeviceReady():document.addEventListener("deviceready",n.onDeviceReady,!1)}(window.jQuery),window.app})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n=i(347);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(85);(t.exports=i(18)(!1)).push([t.i,"@font-face{font-family:'KaTeX_AMS';src:url("+n(i(348))+") format('woff2'),url("+n(i(349))+") format('woff'),url("+n(i(350))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Caligraphic';src:url("+n(i(351))+") format('woff2'),url("+n(i(352))+") format('woff'),url("+n(i(353))+") format('truetype');font-weight:bold;font-style:normal}@font-face{font-family:'KaTeX_Caligraphic';src:url("+n(i(354))+") format('woff2'),url("+n(i(355))+") format('woff'),url("+n(i(356))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Fraktur';src:url("+n(i(357))+") format('woff2'),url("+n(i(358))+") format('woff'),url("+n(i(359))+") format('truetype');font-weight:bold;font-style:normal}@font-face{font-family:'KaTeX_Fraktur';src:url("+n(i(360))+") format('woff2'),url("+n(i(361))+") format('woff'),url("+n(i(362))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Main';src:url("+n(i(363))+") format('woff2'),url("+n(i(364))+") format('woff'),url("+n(i(365))+") format('truetype');font-weight:bold;font-style:normal}@font-face{font-family:'KaTeX_Main';src:url("+n(i(366))+") format('woff2'),url("+n(i(367))+") format('woff'),url("+n(i(368))+") format('truetype');font-weight:bold;font-style:italic}@font-face{font-family:'KaTeX_Main';src:url("+n(i(369))+") format('woff2'),url("+n(i(370))+") format('woff'),url("+n(i(371))+") format('truetype');font-weight:normal;font-style:italic}@font-face{font-family:'KaTeX_Main';src:url("+n(i(372))+") format('woff2'),url("+n(i(373))+") format('woff'),url("+n(i(374))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Math';src:url("+n(i(375))+") format('woff2'),url("+n(i(376))+") format('woff'),url("+n(i(377))+") format('truetype');font-weight:normal;font-style:italic}@font-face{font-family:'KaTeX_SansSerif';src:url("+n(i(378))+") format('woff2'),url("+n(i(379))+") format('woff'),url("+n(i(380))+") format('truetype');font-weight:bold;font-style:normal}@font-face{font-family:'KaTeX_SansSerif';src:url("+n(i(381))+") format('woff2'),url("+n(i(382))+") format('woff'),url("+n(i(383))+") format('truetype');font-weight:normal;font-style:italic}@font-face{font-family:'KaTeX_SansSerif';src:url("+n(i(384))+") format('woff2'),url("+n(i(385))+") format('woff'),url("+n(i(386))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Script';src:url("+n(i(387))+") format('woff2'),url("+n(i(388))+") format('woff'),url("+n(i(389))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Size1';src:url("+n(i(390))+") format('woff2'),url("+n(i(391))+") format('woff'),url("+n(i(392))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Size2';src:url("+n(i(393))+") format('woff2'),url("+n(i(394))+") format('woff'),url("+n(i(395))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Size3';src:url("+n(i(396))+") format('woff2'),url("+n(i(397))+") format('woff'),url("+n(i(398))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Size4';src:url("+n(i(399))+") format('woff2'),url("+n(i(400))+") format('woff'),url("+n(i(401))+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'KaTeX_Typewriter';src:url("+n(i(402))+") format('woff2'),url("+n(i(403))+") format('woff'),url("+n(i(404))+") format('truetype');font-weight:normal;font-style:normal}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:inline-block;text-align:initial}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;white-space:nowrap;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none !important}.katex .katex-html{display:inline-block}.katex .katex-mathml{position:absolute;clip:rect(1px, 1px, 1px, 1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base{position:relative;display:inline-block}.katex .strut{display:inline-block}.katex .textbf{font-weight:bold}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathit{font-family:KaTeX_Math;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:bold}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:bold;font-style:italic}.katex .amsrm{font-family:KaTeX_AMS}.katex .mathbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr{font-family:KaTeX_Script}.katex .mathsf{font-family:KaTeX_SansSerif}.katex .mainit{font-family:KaTeX_Main;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%}.katex .mspace{display:inline-block}.katex .mspace.negativethinspace{margin-left:-.16667em}.katex .mspace.muspace{width:.055556em}.katex .mspace.thinspace{width:.16667em}.katex .mspace.negativemediumspace{margin-left:-.22222em}.katex .mspace.mediumspace{width:.22222em}.katex .mspace.thickspace{width:.27778em}.katex .mspace.sixmuspace{width:.333333em}.katex .mspace.eightmuspace{width:.444444em}.katex .mspace.enspace{width:.5em}.katex .mspace.twelvemuspace{width:.666667em}.katex .mspace.quad{width:1em}.katex .mspace.qquad{width:2em}.katex .llap,.katex .rlap,.katex .clap{width:0;position:relative}.katex .llap>.inner,.katex .rlap>.inner,.katex .clap>.inner{position:absolute}.katex .llap>.fix,.katex .rlap>.fix,.katex .clap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .rlap>.inner,.katex .clap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:solid 0;position:relative}.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%}.katex .sqrt>.root{margin-left:5*1/18em;margin-right:-10*1/18em}.katex .sizing,.katex .fontsize-ensurer{display:inline-block}.katex .sizing.reset-size1.size1,.katex .fontsize-ensurer.reset-size1.size1{font-size:(.5 / .5) * 1em}.katex .sizing.reset-size1.size2,.katex .fontsize-ensurer.reset-size1.size2{font-size:(.6 / .5) * 1em}.katex .sizing.reset-size1.size3,.katex .fontsize-ensurer.reset-size1.size3{font-size:(.7 / .5) * 1em}.katex .sizing.reset-size1.size4,.katex .fontsize-ensurer.reset-size1.size4{font-size:(.8 / .5) * 1em}.katex .sizing.reset-size1.size5,.katex .fontsize-ensurer.reset-size1.size5{font-size:(.9 / .5) * 1em}.katex .sizing.reset-size1.size6,.katex .fontsize-ensurer.reset-size1.size6{font-size:(1 / .5) * 1em}.katex .sizing.reset-size1.size7,.katex .fontsize-ensurer.reset-size1.size7{font-size:(1.2 / .5) * 1em}.katex .sizing.reset-size1.size8,.katex .fontsize-ensurer.reset-size1.size8{font-size:(1.44 / .5) * 1em}.katex .sizing.reset-size1.size9,.katex .fontsize-ensurer.reset-size1.size9{font-size:(1.728 / .5) * 1em}.katex .sizing.reset-size1.size10,.katex .fontsize-ensurer.reset-size1.size10{font-size:(2.074 / .5) * 1em}.katex .sizing.reset-size1.size11,.katex .fontsize-ensurer.reset-size1.size11{font-size:(2.488 / .5) * 1em}.katex .sizing.reset-size2.size1,.katex .fontsize-ensurer.reset-size2.size1{font-size:(.5 / .6) * 1em}.katex .sizing.reset-size2.size2,.katex .fontsize-ensurer.reset-size2.size2{font-size:(.6 / .6) * 1em}.katex .sizing.reset-size2.size3,.katex .fontsize-ensurer.reset-size2.size3{font-size:(.7 / .6) * 1em}.katex .sizing.reset-size2.size4,.katex .fontsize-ensurer.reset-size2.size4{font-size:(.8 / .6) * 1em}.katex .sizing.reset-size2.size5,.katex .fontsize-ensurer.reset-size2.size5{font-size:(.9 / .6) * 1em}.katex .sizing.reset-size2.size6,.katex .fontsize-ensurer.reset-size2.size6{font-size:(1 / .6) * 1em}.katex .sizing.reset-size2.size7,.katex .fontsize-ensurer.reset-size2.size7{font-size:(1.2 / .6) * 1em}.katex .sizing.reset-size2.size8,.katex .fontsize-ensurer.reset-size2.size8{font-size:(1.44 / .6) * 1em}.katex .sizing.reset-size2.size9,.katex .fontsize-ensurer.reset-size2.size9{font-size:(1.728 / .6) * 1em}.katex .sizing.reset-size2.size10,.katex .fontsize-ensurer.reset-size2.size10{font-size:(2.074 / .6) * 1em}.katex .sizing.reset-size2.size11,.katex .fontsize-ensurer.reset-size2.size11{font-size:(2.488 / .6) * 1em}.katex .sizing.reset-size3.size1,.katex .fontsize-ensurer.reset-size3.size1{font-size:(.5 / .7) * 1em}.katex .sizing.reset-size3.size2,.katex .fontsize-ensurer.reset-size3.size2{font-size:(.6 / .7) * 1em}.katex .sizing.reset-size3.size3,.katex .fontsize-ensurer.reset-size3.size3{font-size:(.7 / .7) * 1em}.katex .sizing.reset-size3.size4,.katex .fontsize-ensurer.reset-size3.size4{font-size:(.8 / .7) * 1em}.katex .sizing.reset-size3.size5,.katex .fontsize-ensurer.reset-size3.size5{font-size:(.9 / .7) * 1em}.katex .sizing.reset-size3.size6,.katex .fontsize-ensurer.reset-size3.size6{font-size:(1 / .7) * 1em}.katex .sizing.reset-size3.size7,.katex .fontsize-ensurer.reset-size3.size7{font-size:(1.2 / .7) * 1em}.katex .sizing.reset-size3.size8,.katex .fontsize-ensurer.reset-size3.size8{font-size:(1.44 / .7) * 1em}.katex .sizing.reset-size3.size9,.katex .fontsize-ensurer.reset-size3.size9{font-size:(1.728 / .7) * 1em}.katex .sizing.reset-size3.size10,.katex .fontsize-ensurer.reset-size3.size10{font-size:(2.074 / .7) * 1em}.katex .sizing.reset-size3.size11,.katex .fontsize-ensurer.reset-size3.size11{font-size:(2.488 / .7) * 1em}.katex .sizing.reset-size4.size1,.katex .fontsize-ensurer.reset-size4.size1{font-size:(.5 / .8) * 1em}.katex .sizing.reset-size4.size2,.katex .fontsize-ensurer.reset-size4.size2{font-size:(.6 / .8) * 1em}.katex .sizing.reset-size4.size3,.katex .fontsize-ensurer.reset-size4.size3{font-size:(.7 / .8) * 1em}.katex .sizing.reset-size4.size4,.katex .fontsize-ensurer.reset-size4.size4{font-size:(.8 / .8) * 1em}.katex .sizing.reset-size4.size5,.katex .fontsize-ensurer.reset-size4.size5{font-size:(.9 / .8) * 1em}.katex .sizing.reset-size4.size6,.katex .fontsize-ensurer.reset-size4.size6{font-size:(1 / .8) * 1em}.katex .sizing.reset-size4.size7,.katex .fontsize-ensurer.reset-size4.size7{font-size:(1.2 / .8) * 1em}.katex .sizing.reset-size4.size8,.katex .fontsize-ensurer.reset-size4.size8{font-size:(1.44 / .8) * 1em}.katex .sizing.reset-size4.size9,.katex .fontsize-ensurer.reset-size4.size9{font-size:(1.728 / .8) * 1em}.katex .sizing.reset-size4.size10,.katex .fontsize-ensurer.reset-size4.size10{font-size:(2.074 / .8) * 1em}.katex .sizing.reset-size4.size11,.katex .fontsize-ensurer.reset-size4.size11{font-size:(2.488 / .8) * 1em}.katex .sizing.reset-size5.size1,.katex .fontsize-ensurer.reset-size5.size1{font-size:(.5 / .9) * 1em}.katex .sizing.reset-size5.size2,.katex .fontsize-ensurer.reset-size5.size2{font-size:(.6 / .9) * 1em}.katex .sizing.reset-size5.size3,.katex .fontsize-ensurer.reset-size5.size3{font-size:(.7 / .9) * 1em}.katex .sizing.reset-size5.size4,.katex .fontsize-ensurer.reset-size5.size4{font-size:(.8 / .9) * 1em}.katex .sizing.reset-size5.size5,.katex .fontsize-ensurer.reset-size5.size5{font-size:(.9 / .9) * 1em}.katex .sizing.reset-size5.size6,.katex .fontsize-ensurer.reset-size5.size6{font-size:(1 / .9) * 1em}.katex .sizing.reset-size5.size7,.katex .fontsize-ensurer.reset-size5.size7{font-size:(1.2 / .9) * 1em}.katex .sizing.reset-size5.size8,.katex .fontsize-ensurer.reset-size5.size8{font-size:(1.44 / .9) * 1em}.katex .sizing.reset-size5.size9,.katex .fontsize-ensurer.reset-size5.size9{font-size:(1.728 / .9) * 1em}.katex .sizing.reset-size5.size10,.katex .fontsize-ensurer.reset-size5.size10{font-size:(2.074 / .9) * 1em}.katex .sizing.reset-size5.size11,.katex .fontsize-ensurer.reset-size5.size11{font-size:(2.488 / .9) * 1em}.katex .sizing.reset-size6.size1,.katex .fontsize-ensurer.reset-size6.size1{font-size:(.5 / 1) * 1em}.katex .sizing.reset-size6.size2,.katex .fontsize-ensurer.reset-size6.size2{font-size:(.6 / 1) * 1em}.katex .sizing.reset-size6.size3,.katex .fontsize-ensurer.reset-size6.size3{font-size:(.7 / 1) * 1em}.katex .sizing.reset-size6.size4,.katex .fontsize-ensurer.reset-size6.size4{font-size:(.8 / 1) * 1em}.katex .sizing.reset-size6.size5,.katex .fontsize-ensurer.reset-size6.size5{font-size:(.9 / 1) * 1em}.katex .sizing.reset-size6.size6,.katex .fontsize-ensurer.reset-size6.size6{font-size:(1 / 1) * 1em}.katex .sizing.reset-size6.size7,.katex .fontsize-ensurer.reset-size6.size7{font-size:(1.2 / 1) * 1em}.katex .sizing.reset-size6.size8,.katex .fontsize-ensurer.reset-size6.size8{font-size:(1.44 / 1) * 1em}.katex .sizing.reset-size6.size9,.katex .fontsize-ensurer.reset-size6.size9{font-size:(1.728 / 1) * 1em}.katex .sizing.reset-size6.size10,.katex .fontsize-ensurer.reset-size6.size10{font-size:(2.074 / 1) * 1em}.katex .sizing.reset-size6.size11,.katex .fontsize-ensurer.reset-size6.size11{font-size:(2.488 / 1) * 1em}.katex .sizing.reset-size7.size1,.katex .fontsize-ensurer.reset-size7.size1{font-size:(.5 / 1.2) * 1em}.katex .sizing.reset-size7.size2,.katex .fontsize-ensurer.reset-size7.size2{font-size:(.6 / 1.2) * 1em}.katex .sizing.reset-size7.size3,.katex .fontsize-ensurer.reset-size7.size3{font-size:(.7 / 1.2) * 1em}.katex .sizing.reset-size7.size4,.katex .fontsize-ensurer.reset-size7.size4{font-size:(.8 / 1.2) * 1em}.katex .sizing.reset-size7.size5,.katex .fontsize-ensurer.reset-size7.size5{font-size:(.9 / 1.2) * 1em}.katex .sizing.reset-size7.size6,.katex .fontsize-ensurer.reset-size7.size6{font-size:(1 / 1.2) * 1em}.katex .sizing.reset-size7.size7,.katex .fontsize-ensurer.reset-size7.size7{font-size:(1.2 / 1.2) * 1em}.katex .sizing.reset-size7.size8,.katex .fontsize-ensurer.reset-size7.size8{font-size:(1.44 / 1.2) * 1em}.katex .sizing.reset-size7.size9,.katex .fontsize-ensurer.reset-size7.size9{font-size:(1.728 / 1.2) * 1em}.katex .sizing.reset-size7.size10,.katex .fontsize-ensurer.reset-size7.size10{font-size:(2.074 / 1.2) * 1em}.katex .sizing.reset-size7.size11,.katex .fontsize-ensurer.reset-size7.size11{font-size:(2.488 / 1.2) * 1em}.katex .sizing.reset-size8.size1,.katex .fontsize-ensurer.reset-size8.size1{font-size:(.5 / 1.44) * 1em}.katex .sizing.reset-size8.size2,.katex .fontsize-ensurer.reset-size8.size2{font-size:(.6 / 1.44) * 1em}.katex .sizing.reset-size8.size3,.katex .fontsize-ensurer.reset-size8.size3{font-size:(.7 / 1.44) * 1em}.katex .sizing.reset-size8.size4,.katex .fontsize-ensurer.reset-size8.size4{font-size:(.8 / 1.44) * 1em}.katex .sizing.reset-size8.size5,.katex .fontsize-ensurer.reset-size8.size5{font-size:(.9 / 1.44) * 1em}.katex .sizing.reset-size8.size6,.katex .fontsize-ensurer.reset-size8.size6{font-size:(1 / 1.44) * 1em}.katex .sizing.reset-size8.size7,.katex .fontsize-ensurer.reset-size8.size7{font-size:(1.2 / 1.44) * 1em}.katex .sizing.reset-size8.size8,.katex .fontsize-ensurer.reset-size8.size8{font-size:(1.44 / 1.44) * 1em}.katex .sizing.reset-size8.size9,.katex .fontsize-ensurer.reset-size8.size9{font-size:(1.728 / 1.44) * 1em}.katex .sizing.reset-size8.size10,.katex .fontsize-ensurer.reset-size8.size10{font-size:(2.074 / 1.44) * 1em}.katex .sizing.reset-size8.size11,.katex .fontsize-ensurer.reset-size8.size11{font-size:(2.488 / 1.44) * 1em}.katex .sizing.reset-size9.size1,.katex .fontsize-ensurer.reset-size9.size1{font-size:(.5 / 1.728) * 1em}.katex .sizing.reset-size9.size2,.katex .fontsize-ensurer.reset-size9.size2{font-size:(.6 / 1.728) * 1em}.katex .sizing.reset-size9.size3,.katex .fontsize-ensurer.reset-size9.size3{font-size:(.7 / 1.728) * 1em}.katex .sizing.reset-size9.size4,.katex .fontsize-ensurer.reset-size9.size4{font-size:(.8 / 1.728) * 1em}.katex .sizing.reset-size9.size5,.katex .fontsize-ensurer.reset-size9.size5{font-size:(.9 / 1.728) * 1em}.katex .sizing.reset-size9.size6,.katex .fontsize-ensurer.reset-size9.size6{font-size:(1 / 1.728) * 1em}.katex .sizing.reset-size9.size7,.katex .fontsize-ensurer.reset-size9.size7{font-size:(1.2 / 1.728) * 1em}.katex .sizing.reset-size9.size8,.katex .fontsize-ensurer.reset-size9.size8{font-size:(1.44 / 1.728) * 1em}.katex .sizing.reset-size9.size9,.katex .fontsize-ensurer.reset-size9.size9{font-size:(1.728 / 1.728) * 1em}.katex .sizing.reset-size9.size10,.katex .fontsize-ensurer.reset-size9.size10{font-size:(2.074 / 1.728) * 1em}.katex .sizing.reset-size9.size11,.katex .fontsize-ensurer.reset-size9.size11{font-size:(2.488 / 1.728) * 1em}.katex .sizing.reset-size10.size1,.katex .fontsize-ensurer.reset-size10.size1{font-size:(.5 / 2.074) * 1em}.katex .sizing.reset-size10.size2,.katex .fontsize-ensurer.reset-size10.size2{font-size:(.6 / 2.074) * 1em}.katex .sizing.reset-size10.size3,.katex .fontsize-ensurer.reset-size10.size3{font-size:(.7 / 2.074) * 1em}.katex .sizing.reset-size10.size4,.katex .fontsize-ensurer.reset-size10.size4{font-size:(.8 / 2.074) * 1em}.katex .sizing.reset-size10.size5,.katex .fontsize-ensurer.reset-size10.size5{font-size:(.9 / 2.074) * 1em}.katex .sizing.reset-size10.size6,.katex .fontsize-ensurer.reset-size10.size6{font-size:(1 / 2.074) * 1em}.katex .sizing.reset-size10.size7,.katex .fontsize-ensurer.reset-size10.size7{font-size:(1.2 / 2.074) * 1em}.katex .sizing.reset-size10.size8,.katex .fontsize-ensurer.reset-size10.size8{font-size:(1.44 / 2.074) * 1em}.katex .sizing.reset-size10.size9,.katex .fontsize-ensurer.reset-size10.size9{font-size:(1.728 / 2.074) * 1em}.katex .sizing.reset-size10.size10,.katex .fontsize-ensurer.reset-size10.size10{font-size:(2.074 / 2.074) * 1em}.katex .sizing.reset-size10.size11,.katex .fontsize-ensurer.reset-size10.size11{font-size:(2.488 / 2.074) * 1em}.katex .sizing.reset-size11.size1,.katex .fontsize-ensurer.reset-size11.size1{font-size:(.5 / 2.488) * 1em}.katex .sizing.reset-size11.size2,.katex .fontsize-ensurer.reset-size11.size2{font-size:(.6 / 2.488) * 1em}.katex .sizing.reset-size11.size3,.katex .fontsize-ensurer.reset-size11.size3{font-size:(.7 / 2.488) * 1em}.katex .sizing.reset-size11.size4,.katex .fontsize-ensurer.reset-size11.size4{font-size:(.8 / 2.488) * 1em}.katex .sizing.reset-size11.size5,.katex .fontsize-ensurer.reset-size11.size5{font-size:(.9 / 2.488) * 1em}.katex .sizing.reset-size11.size6,.katex .fontsize-ensurer.reset-size11.size6{font-size:(1 / 2.488) * 1em}.katex .sizing.reset-size11.size7,.katex .fontsize-ensurer.reset-size11.size7{font-size:(1.2 / 2.488) * 1em}.katex .sizing.reset-size11.size8,.katex .fontsize-ensurer.reset-size11.size8{font-size:(1.44 / 2.488) * 1em}.katex .sizing.reset-size11.size9,.katex .fontsize-ensurer.reset-size11.size9{font-size:(1.728 / 2.488) * 1em}.katex .sizing.reset-size11.size10,.katex .fontsize-ensurer.reset-size11.size10{font-size:(2.074 / 2.488) * 1em}.katex .sizing.reset-size11.size11,.katex .fontsize-ensurer.reset-size11.size11{font-size:(2.488 / 2.488) * 1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:1.2em / 10}.katex .delimcenter{position:relative}.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .op-limits>.vlist-t{text-align:center}.katex .accent>.vlist-t{text-align:center}.katex .accent .accent-body{width:0;position:relative}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;margin:0 -0.125em;width:.25em;overflow:hidden;position:relative}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex .vertical-separator svg{width:.25em}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:before,.katex .stretchy:after{content:\"\"}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .x-arrow,.katex .mover,.katex .munder{text-align:center}.katex .boxpad{padding:0 .3em 0 .3em}.katex .fbox{box-sizing:border-box;border:.04em solid black}.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em 0 .2em}.katex .mord+.cancel-lap,.katex .mbin+.cancel-lap{margin-left:-0.2em}.katex .cancel-lap+.mord,.katex .cancel-lap+.mbin,.katex .cancel-lap+.msupsub{margin-left:-0.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}",""])},function(t,e,i){t.exports=i.p+"3d8245dcb4489694a6a263b05c1cca01.woff2"},function(t,e,i){t.exports=i.p+"ac1d46d953d403677171697581a284d2.woff"},function(t,e,i){t.exports=i.p+"c67be87adba7d31c013be127b936233d.ttf"},function(t,e,i){t.exports=i.p+"970d3e76493b82fccf21ad5888ddee77.woff2"},function(t,e,i){t.exports=i.p+"445f96a387df0d13ded71f27c608516d.woff"},function(t,e,i){t.exports=i.p+"3f61a84d76e80396489d32bc9dd8d444.ttf"},function(t,e,i){t.exports=i.p+"0ef0f2e356a2e1c457b6585d34edae77.woff2"},function(t,e,i){t.exports=i.p+"74f6918c7d2b768ffd32048102bc0172.woff"},function(t,e,i){t.exports=i.p+"c3bc8fcec0e85a50cabf71e4e8074991.ttf"},function(t,e,i){t.exports=i.p+"950649ba5e5cfd37cdad74095411d350.woff2"},function(t,e,i){t.exports=i.p+"1aca7ef7f976fb54a207ffc8aa180e38.woff"},function(t,e,i){t.exports=i.p+"e11e6bf02fc41279a540d3655abf3b07.ttf"},function(t,e,i){t.exports=i.p+"135ccd74931753318f6f52f3fce19018.woff2"},function(t,e,i){t.exports=i.p+"c5b430bfcb3e5423b77401afcdb69b66.woff"},function(t,e,i){t.exports=i.p+"a9509497466d16e6b7265a223ea39093.ttf"},function(t,e,i){t.exports=i.p+"c5b67fb3f6bdaa7f2dd75e5bc8d929eb.woff2"},function(t,e,i){t.exports=i.p+"0ba875a1d548ebfdd00c7594022e01b7.woff"},function(t,e,i){t.exports=i.p+"aaaa1b761b7cc9d5e10b85f30731b878.ttf"},function(t,e,i){t.exports=i.p+"0719833c23aeba83786a29e84a165875.woff2"},function(t,e,i){t.exports=i.p+"5aeca883bc41b522fdf1409ee912b51c.woff"},function(t,e,i){t.exports=i.p+"bdbadb27e05fb8e51da903db59f90d77.ttf"},function(t,e,i){t.exports=i.p+"6bf616283a81e40e4ac755883862b472.woff2"},function(t,e,i){t.exports=i.p+"bb7c45db8908c8fb88a293895a64e018.woff"},function(t,e,i){t.exports=i.p+"2155d7897af94033a6b6ed44133b867e.ttf"},function(t,e,i){t.exports=i.p+"29b27903a08a71f8171be21ba413d4dd.woff2"},function(t,e,i){t.exports=i.p+"1fd21713706a2b70960faf21b1fa4e26.woff"},function(t,e,i){t.exports=i.p+"7b8d1fa0668e317c4a2d34399e74af25.ttf"},function(t,e,i){t.exports=i.p+"7a31741a44e58952cb4b8a763c206fcd.woff2"},function(t,e,i){t.exports=i.p+"8eb56b3ff5b141cd3732a24e65c2b339.woff"},function(t,e,i){t.exports=i.p+"10740d7488d690a743339650103f1cb3.ttf"},function(t,e,i){t.exports=i.p+"e38d0f6844b9520510715fd989bdd5bd.woff2"},function(t,e,i){t.exports=i.p+"84299b016163b0ae5c776604aa1cb726.woff"},function(t,e,i){t.exports=i.p+"9123667cef81279761df5cd62ec8c46e.ttf"},function(t,e,i){t.exports=i.p+"1057b70228cb6936e7714e7817db6ce2.woff2"},function(t,e,i){t.exports=i.p+"95c5a3d43efbcb8c14184d00a7c5eed4.woff"},function(t,e,i){t.exports=i.p+"f9c440abdd25c5a954d855516fed39f9.ttf"},function(t,e,i){t.exports=i.p+"f9e06d59e70de05c5f0b7f7f65c14565.woff2"},function(t,e,i){t.exports=i.p+"35bda414c6c2f75940b086de18f42e72.woff"},function(t,e,i){t.exports=i.p+"2eae604dbbc4b2c0ceede62c61c9e8df.ttf"},function(t,e,i){t.exports=i.p+"ae1fad1f4d1c227c9d567da8ea9f988c.woff2"},function(t,e,i){t.exports=i.p+"60febfa114c5e32f0ce73050476aa39f.woff"},function(t,e,i){t.exports=i.p+"e9169ca7b32608b6235ec9ffff742a71.ttf"},function(t,e){t.exports="data:application/font-woff;base64,d09GMgABAAAAABa0AA8AAAAAM3QAABZWAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cBmAAhBoIDAmXFxEICrFYpg4BNgIkA4FMC2gABCAFjw8HgxwMfxs+LAXcGK5h4wBEBj1B9v/lgA4Z0rEE9D6h5XiiJpxg2Hpclu7Sm+D6+3qy6Mhh9zF+bJCbJAnh0pk7a31fYkiIpQRiTWlx+NOguGDOFG/S5sy9oZTH45x/L0nTJmlKNQVPixUrbSniVRiDwV8FnbTAHKboFPgOTJnLZ2YKX9zYXGZKghoBomm1oKKzdWtlvLbH1iadgNBHD+jBf/h/1L0WgF247guQ3Knskj61nLBUlH9oWDPM3qYjl4mi2+zd9+5hGJQWa5ZagPn+76dJcQCc5hVyhR7d02mkj3ogbKWaiculfcaUX2EZymKnqxKsHLgE2faFwqJAuU/r/h9hG+igsvPm1f1qwZMHU5pgIis+VXAZmcQCnK+RU5P+BtmOZTlZHBfyxOP/1+m7vvcUFYhVhJ1wWLvs0pUM7z0FZIdkBywX5aDifFDCdj7YZRoB0ArSVAIaEaYOC089e8d//rBOXcaqzlF2+bWFAdFgQjw0GJvtzK+yVoqCgIT2u694kgEAAQDczd36AADg+l+mMgCA50t3EYBhr2QJAQDWXWcB9CbXjj5kDAZ3e+0A+EEK334HD+elc9fCBvyGcA1lqG5X1xgEWDwGhw3nVebjrh5qwJFICXjmFYqAPwEgC7959oLx4iQb7cuPv9j1erdxntMs1fRpHmmeaGXaYG2kNlqr116JZCIfxn4Vj8UT8eQPP1Ull9ZJVsO3d0wM2DxBezFStOaX8UDh//NfrE+++8W9F1+04b/C/0z/sR/8837n+x3v29+3vS98b+g97/3+3k/v+d4LfbdywPo84Xn88zhpSjsWyV01IqG22sNZsVKtuwBhQhCfRSTcXXChiHIuERoYwDGBHIQiL+gsEgNOl5XgfWqdDwIEPIRBlN79g4Wbd5B3nwPmXXQvaUet9xnMm/8imZJy08ZFWQIvAK3fgQqTdyDAZzsODNoSF68h0udOp7R9sDlY/hJKK4u28oiXrkOJ5aUQGVltxktUprCaLXTHvgNTGLwQBiZ0kUoDV7f/CPo6pBzjyYzOSBpKK0qRj1kBihgNuA7bMTpwaCAIb7aEgIsBgXlI87q7IyhzEDCTmmorCwovotYwRG4gG2yCj0pSOdXKeRBFNrSjbfJaCmmxaJZjsFhhWu7CGSss8intzyEAQs530OgWSu7fH/MmwHwDVuyASlCGYOQQQhq2YLj5j5BC3HEsWSwPp74zlAidcBY48HNlR58GhY7XaQmjoTCAEJ40aCPzQVB7KQS7PdkAv4ulb5qBuzV98SeEqWsQxXEK2LWr2wUSP46A+Y6ZwZ2hLKyMc6WDRcYaTurzvkMCUCYh5ltXSRPmI+wBvsVssiMAQtodtv4RUqp80pAwqfUdITFvDinerYZMVP04AVvbnkOGd0vh3UqBUZTngmLbcmRY5FowIEcH5Z6AiADB3GfxE2Z7A22YwH0x5I6zIdy3QwtNmqPS6vh3elEF9GHMr2hsBR2ZTkeEFMPUk8EbJoMorA8icNohquP0OlBgX4bGeDUQYF4DGPPQBmReCZT/li7thwW59K3vX95JoDmKu9GhRIbVeYcKGSWIIxhSExwFEgIFEQEKJiQKIUIUSkQojFB9xEEV6MMR76NfIQH93azDsQ82zMMR+ADz4FANAFQLAI0EgEYBQKMBoDEA0FgAqA6AYCJ4Pc1QkjMhzdSzfd4bijjKSJxrXxk9SAqSRo5kSCONQtyaR7aG9bxSmUbVDsPQeKENkkdZoKpBWIPAugxjr6QpO9IE3Tf1BqRgH2jcwPmDomEgxWHjF9x9dRzP7VE2qWrOYYZqjUz9OgFsHjlSUV2tHWl0FoibtKOkI2OyMalKI8Bm9XFv2u5Ck9korOkzjCDzXZoi1aU5RwaADQh/UMs9oTi/3epNqls5i2WWhVWFCUGYZ4gI33N9fstN+IkdHeSLHCMdDI7emxBRbSTj9bRhguAyqk0CxUrvgTFtGTibrTILY1PsWDr9pGR3NyZBJBuOHzXp1hDMY1XB6SZ5up3oTIIpsRB485iSQpEGreGugRLpiye4Lmri0ZHV/qBYiSAhyepHjuwiC5F5cnAIaAhGiud0F2jv60033IdKtZVFzn+uCOrS3QbpBxlvXnm1QUo7e32jophX6chVXsBhYemlOaV9/mFM5MFU9dhUw+WgOlZZr8p5R37RPhazWBjTV1+xFWSEQIcNZEbbKEwUxdA0zhAQrNCHwz67/D0LE2tOU63KHom6eTuQRa1oPw2XiNHMA93h1GLUtn50HeuSMprHnB3hbzspKCnN97UhYC8u1NcXZqiD5+CdcrHCPHIMI7mLkEHXLpK6s4aD9BgVu2FjYKo0bA3wBaESTEWD4ivHCHQgjhSXEkVlHOXoS1DBRlZjJ3GBw9wAMA8AzAtsJeUAVgEAqwSAVQHbSTWA1QDARgHARgMXkDEANhYA5gOA+YFtpBbA6gBg9QAcOw5kdTEbv2eQlwkTcD6fOJcUB1vQpMJsRjYZKviUDMAbADeocdkcNvVWBZ/mAvh0ANCMZXPZzFsVfJYL4E0AzNWMn1QLe+M0iJ9HVIP3FvdeT2y3b7/oRyv6Qpk8JcLj+3HsI/zeh5pAUIQydPXxJRu675LL3iBr12ZDmu5+6+pNaWsMStSoRSivnDtW1xv56epMrkOE6vLc3OTUo1vXKQx3s3v+3J2pe9URpWR03TjJn6QpIX+GlZ7Rz948hNkxAoYwKeUMTld0vlMBV2isdLEuK3kiwPO365YHPKBboI4o/GVbcFQy82eDcySjHNKfSkb2+l81GKBDGJixfFSOxT8rpffS4H/nYEQ0Yqhxyll3mZe3Ns4GqtxK/dt2NnMIBKmW6d+SO8t9cCiCfloX8qriHDPvkT3MXAUdyttu4HLf43DGYxO1ltsfqVFMdcCXirEvRKGW+nLXxFoMJis0gsrcqAMxcxng2B8OfGze1o2iAftTwp5omXkcyn7mkFDzdkeRYvimLUhpJz6190M6NzJc7VLZFfkjVWBinPg9VrXAfafxQ+oKqA5RMDy/pUQ93Z12tupj2kogJsKV0HFJPVn3wJhMw/oe+v9+TlG35jWI88qxp3HlUw9y6hd1/gymflFB6BCKqaMwp9Q5avIg2qCVp/P97gn4c/ttprxcg+oZ7GQY3lUdeqr2WVJ9rZ40DHjFGPJMaJyuCGnxHQ9jsFvxIPisM1u8EMQ68yJCPRZjVQd9cRttgGRA374fSLG4tEhgz9Xu2f373NexS++aQ2tUIOawN/xj+VmxaPkz1Qo0zIwSVay+VQRc74b63tzQPJaqwukstzkM7Xv2TPWPSaiR2kR34KlyOQjllV6ech9sK+KqHhVfO44J1ju5wtbO4DafMFS4v07e1tMPHMWYEjFXDUwjci7+mqPkEfKi4lzsPsn8fwzTDLp3I6RLqSbAZ4EU7Hc9+E/AP0082HCalqKDOiTsY/sAnlm6CTOWyO2eTRxz4kOZr0qZIujOlat2qUmntqllel02zY5on/cAcODzYYjl25Uoues3rw9sYqQ+Sgti4OcCP8tEq0Q66PMYjpbTNt0Pqr6nvNJsIv+rD83ION/wWku4d1qihL1Z/Yf399E9pCYz6p0XLzZVKwY3UZr9gHL1KhjDBzs9xrmV1n5my/9FlM6MOS0qK1fQqzjHnqh4VLqJuOcuj+5ueP/Ug85x9jsNX6WyZ94hSHZ+VRBsocYVaugmenstDZYLxOly5VXXWUrtIiIGohCN1pTWc3qCltvbqwZBF4/NtzvfeUe9au4Q052JjcGOgYGF0SaKdnVVvz1FGaT6FrDHbWJ9utv2nKjTUS9m0KZMWkpIEdahYlCMouVtiR2qpRdwEz0BPtt9XgDz9jSY7kbLmpV0wFiOaLb5i2UFf9gaUy+w3lkgAdyvwwQeZF5VgetEVeGVI41aTXN4/DDHY2ucq5Pz6u2HHpN0szzTE6sqSJdGaAIcdVkt4SeSa7SMHZPRAWbQoWSjP/ZFTuiO7sZnZ/ZHhe+MErvoQI7hA3g1kbZDDDCP3ZLpmoxiDO2EGE2HTKJVf1+bbZjuC/XixNoDV47WAzfWErg3dLrvMA3S8PeN9uQZPpadJVSu3XelrT2S1ipFM1m2YqJwRcEchrpLY8GejowaNpsJeWvUgYu61WNX60jKSd+l2JoMtxwT3geZkkSiunjdxfJXLfluuZeVDPeH5n40HTYHxsKkTED6h9/1HUkVs+ajfd891CPIAg8piQ2ELfM+8TWGqRCGGUhM4pXIZ5wpTtozYvM6QcX33uLAI59VR4QFFwvWbR6x59TbmRlykvxkpEUgYEWjD8Ut858vSj87UyafeXYudv7qQW+e/lGuPzQr1CthUaTzyXsplYK16wTFwWHVEZ8dqQnPF/qOMo4ON/hdyC8LILn1JNmMOhdgCMUFDYtFvSM0qpXuzlFmsMEMMm2jxZTHWlLJfruFyralrD63F8N33Bq0mnJkntdm9KdYaMIFHySVcg68X21UnVB9+HF6osLSYZOLm19NtiYe8UeVFN35M+HPO0O+b/NIorUrgUwfe3jqsjmUv11ybsGCtIyyrRurX//6agLfsdypsZhXwbHjCSvO/JRocRaemnxmRULDKluqg1/ewSdc/fr1jdUkfOOrOh2HY6ssZqcmPI2yrRK/PwdvSyWN/LrDxbhEl6eTOPG/Y/19h+DAkZUQ87fzDFmrZ7wxmTHTWiLkXQYOHuqrdZ91MucbTf9busa1jetVSkOVr/yT2nHko4A3kNZ+FlWmTtmPnr334ST8o2kRGVWbLuq+zugf3AVvaUYK8Uh0YrCmQf+oolP/n/yflpLkn2jcd+O/gzufaoImi6UakivIbFtnt/XAeOnBhn8b/kH/hFFoTXEWubQujy9FPqSXy/Q0pUkgs+x59iwyQUMVl7xHeYcmkz+1ItfS+LPK8Dkw06BB/cZ/1Iqb844FSO6z5wI6g26bAxcX6hc/wz4UfPyunjvD9P+bxiD4guESU86K66lX2TMBXYo9feKChnvC9eHD3jsawpHySlpCvOV54xFjOPnAckb+cP6jXgqKdAzgX3JxvHSrf+X/lVzRWU1XwWu4Ya1aTWuQy8VbP8ENFEENn0eoSE6glgjHYRO5DqbRzhtGl7vOf92nsvxXM+KrAHjsTE6JWZ9st5F4CGG/HpyQWDBUSDxYUBjQGyUgfx9tLqJ9fyomykhMrcSXy7cHcZcUW+6WfV72WRAha5Vvj6Y8ctzE5N4lsrrI8ktk2hX5BDn3OFLWF5Ozb7IxfXNc+z/yS5y8VUYElX324/215a7ioUqyqz7zzPI9URNdP+iaUBDZPfBDSESvKsciZLqO75svtlBAiacn3fYHOQu9lVSb0JKj6o0IP9CA9k0JZUe2ezyt9vd7SuppSyjYSOcna6Rhu6PsYA2VVC5oHy2WKVo9nnbWFcoavh8qdRiSavdWDh9eq26vn1SnXsrN8u0kS3rxOvIP3YPXX6TifxzQvX4kp/OBjvzU/Lqu2CAzVtdcpNrtUsiE88MXREiOXEKZjK3hOrXzw0SWx6fkppDEE4tMcXB4/hw1rIz6USFn3a7UlgZMT+KaFBcWmSdFlzKj6dh6jTvat3SpL7pC66v1tFzRy5ZG+zTu+lqNd8rP3+LHd7/1/JO1so4Eruk17sI12RLKQUnfqKodNbFX/Vtc+unmsN0HlXPGfqPj94RH3YzU9jv6aRXT/u76aYRLJ1BVluUNqmNEU8O0wyJLUxOB7fY1jMwUH4n/Rc62DavOX1zmou40Ek1Nlj7pzfsBakIOsS3z1UtLswe7Xn7ZqCsxWGX7aGUKR3avo1Lc1Ea5y3Fbq37tRtrvZV1dhTF2FjNmi5wuLKzVyD5TbDQYu7zOxsGAKfCsb70V/GFbZl7R5CavvGtZUV5mu3tOSGD1Ckt6ZhaWVCuV1CZhWZnplhXVIsOSwd2Opa31qs2qpBVrpOH7VCdPxluZnc01japHJNTfZYrSwM/GnsdIAgFmSDgixVEkyFag0AoIVqAxjud4MgQdZ0lZVbuSYwJZnCFycSTIhNAVwolTSAkpK8iERJg4xgcLEWcoP/y66NX6qSBy4s7uDOPbeXnurIk+Q+QIBdc8SCmRnPKI1uATgu80DtUg5wlbjilKgeT0bhFb89NSk/VxGgUS7G/tLrHnmmqOFadrUWsWLxlY2wJtVGX6vs8aC07fu7w7BuT8BhH9JfgrRYE2GfC/u/9vFQTiLgAQfSt2HALAXYcYVI9FH8sNtaT++8AWKf4Gk4VGAOxsQLetfmwfWTaYzxa3kwRXhSCA6hiWOPQntgMI4L+7u3+G0whh60zfsGnIXOOgdGvwkGEmnSab/rKbS9EACafQRQ7sslgflTy9jQIuWb/WJYP6sfWIUQELAdZIIgCKob6ttZDiMfx1YSAMAKRaAfDfJTYAcJG0v7LEn52EgIEhCQMhCpFwiMwUiQBFTkgCiChGIkFRbolFeuKaJIHgGS9JMeTosWSEZDv0ACIoAFitACAh4HwhYSBBjIRDQSIlAmKyWBJAXu5IJMRUgsRio7onSBIwL79KUtx0DisjISfBtij5kJWZVByFdOoM4pkY7qOZkjJqdJJ5Dqyw0RBgtynY2aPBRvCKLtwYWqppZM5qijkkB1tlUHv9O1j7APYrfWSpnKKubpA3GQyZSSaD0cA7uEgV0G2Eg+ERviiYMZpyBKOZL3YU0GrIco3Hthi5wR48uSY+sUlQvN/ww9O1fPIkgAurNPwFzftjHVXjKQMUiAJNZEQrrD3XdwXPuk4rN2uSrFjBFbR9ylwxmvQGPotXW5ikZmHISc9XU47lgRGiaaSHnY3XdE/bV60bKnKkLTVIp4XBTBFXd4ZHLhIDGvXGbL5J29RodBK68xpsmdSnxJm1EKfYSZUYgoxojtZ7e0wjcto7L8i7sdG6eNfETcYUKvKnMGRS0E0VTQyjrcQQjv3Dy9jYr5gN/DNqh6gUqXvQu6Yefc89Y5ZZuFq7RW3qrdcrGVZGG0gf8aAu2ULNgoE8zwTu2PpyO3QClUmbblIzS7jxSA9mVqbeqBQqbeT3Ci6zgrYiyHfpD+5XFt10uatRS+gRMVUCTb6PzmJGiqYgWowpLvQ9fOONK7PnZJ04/kQ/xutyWvk1GmskdS/0PjYtV2txpw4fO51yrJOn8YyaSLeKOnRx4fzKFpf3ZbCUal7YzfU07XFSStzu2NY3yoxHjgYxHEqdXTUHyxmbXBv34QmWJQ6UeknpKUf4ZanrBfn4+kL/K4mnlmc04n75sWDzEv26RE9UTUvJybNMlqRlbJZ4fa+B8bK9E+jgHgtbZCdW3093xUOTtx+p7ypTwM90HwwGxCCXJ5/Fo+dgMAAnN7SialI3Ym1mrLEjy471Oa7nA4gwoYwLqbSxjuv5ib05yITBOpH0nmIwUU3iLZtYt3J9TxmMaUJ/zvGtSb0IWheHvqy+5Zs04ANJZa4wGQ3JyqYUMVW0i44858r2CXFSnNJ4K1MMGRAzRWueTXegMt25AI2l0jphgGgUTaKZpG28u7e3I+567sHxKzddoaNo0X9jtL9gtL07Qto6AvHOPkWX+ScAVObCwfH00Bvr3wWK3njeUD1Jjf5PdUDE2yg9oQmO7c67I+L4k2joVVoLnwZHpF2/AwAAAA=="},function(t,e){t.exports="data:application/font-woff;base64,d09GRgABAAAAABtEAA8AAAAAM3QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAbKAAAABwAAAAcacggPk9TLzIAAAHMAAAATgAAAGBDYlkBY21hcAAAAqwAAADwAAACGhtNo7VjdnQgAAAJrAAAAAsAAAAMAAAAAGZwZ20AAAOcAAAFqAAAC5fVFNvwZ2FzcAAAGyAAAAAIAAAACAAAABBnbHlmAAAKIAAADPUAABjYYvJ44WhlYWQAAAFYAAAAMwAAADYPOdkdaGhlYQAAAYwAAAAgAAAAJAaTAtpobXR4AAACHAAAAI0AAADMdhYJpWxvY2EAAAm4AAAAaAAAAGiLbpG2bWF4cAAAAawAAAAgAAAAIADQAPNuYW1lAAAXGAAAAx0AAAePG8dPFXBvc3QAABo4AAAA5gAAAZy7xbiEcHJlcAAACUQAAABoAAAAf+LQSDp42mNgZGBgAGLxKS93xfPbfGWQZ34BFGG4NtFbCUb/PfNvEasEcxCQy8HABBIFAGV+DIcAeNpjYGRgYA76t4ghiqXv75n/ZawSDEARFGAMAJ6LBnIAAQAAADMA0gAFAAAAAAACAAAAEAB3AAAAIAAPAAAAAHjaY2BiamGcwMDKwMDUxbSHgYGhB0IzPmAwZGRiQAINDAzvBRjevIXxA9JcUxgcGBTe/2dW+G/BEMUcxBinwMDQH8cM16LAwAgAEsUP8gAAeNpj+MVgxAAEjL5A4heQPsUwA4iVmZwYzBkXMpyC0mJM7gyZIAxSw6Tz/weTDgMjA8PfM0B8lZmLkZFpNkMBCDNzMViC8QYGcxBmUWCwYH7BkA80fyJQz0TGG0BxY6B4H9BcENsRFQPFTgGxGIxmms1oAaQTgdiXJZzBAobh6nWAbgZihhQGBgBG+ykTAAAAeNpjYGBgZoBgGQZGIMnAKALkMYL5LAw/gLQVgwKQJQUkNRn0GWIZqhlqGRYwHWO6w8ysIKY4UXGy4kXFy0qCSlJKykqqSnpKh5W5lS+ov9Ri0mLRYnv///9/oBkKDBpAvdFIepmQ9PJD9WorHVDmAOp9ocUA1vsXqPnx/zv/r/9f87//f9//nL/uf43+8t7/fa/xXsM953tO99jv/r/7/e63ux/vJtyVuRNxw/Ga9jWta5oCxhC/kAsY2RjgBjAyAQkmdAWQIAMBFlYwxUaC8ewcnHjluRi4yXa6hBgw4qBAEkLxkKCdlw/GAgDWx0mKeNqtVmlz01YUlbwkTkKWkoUWdXnixWlqP5mUQjBgQpAsu+AuztZKUFopdtJ9gZYZfoN/zZVpZ+g3flrPfbJNIEk7w5RhfM+7Onp3vwoZSpCxF/ihEK1nxsxWi8Z27gV02aLVMDoUvb2AMsX474JRMDoduW/ZNhkhGZ6s9w3T8CLXIVORiA4dyijRFfS8TbmVe/1Vc9LzO/72/cCWttULBLXbgU2boSWoyqgahiJJSXGXVqEanASt8fM1Zj5vBwJO9GJBk+0ggkbws0lG64zWIysKw9AisxyGkox2cBCGDmWVwD25YgyH8l47oLx0aUy6cD8kM3IopyT8Et0kv+8KfpIa518yIr9D2ZINvSd6ooe7k7V8EWFtBVHbirfDQIZ4urkT4JHFQQ0sO5RXNO6V+0YmTc0YjtKVSLF0Y8rsH5LZgX3KlxwaV4KdnPI6z3LGvuAbaDMKmRLVtZMF1R+fMjzfLdmjZE+ol5M/md5iluGCh4gj4fdkzIXQmTIsziYJC04OvaRsUcb11MTUKa/TMt4yrBehHX3pjNIB9acms35gW9IOS7ZD0yrJZHzqxnWHZhSIQtAZ7y6/DiDdkKb5tI3TNE4OzeKaOZ0SgQx0YJdmvEj0IkEzSJpDc6q1GyS5bj1cpukD+cShN1RrK2jtpErLhn5e68+qxJj19oJkdtYjM3ZptsxNitZ1kzP8M40fMpdQiWyxHSScPETr9lBeNluyJV4bYit9zq+g91kTIpIm/G9C+3KpTilgYhjzEtlCN230TdPUtZpXRmJk/N2AZqUrfJpCU04iv5ErIpj/a27ONGYM1+1FydmxMj0uWxeQpgXENl92aFElJssl5JnlOZVkWb6pkhzLt1SSZ3leJWMsLZWMs3xbJQWW76hkguUHSlTIfOBQSYOHDpU1eOTQu8qg6fJr+PgefHwXdwv4yNKGjywvwEeWEj6yXIaPLIvwkeUKfGT5PnxkuQofWSolarrVHAWzc5HwUJ/I0+XA+Cjut4oip0wOJukimrgpTqmEjKuS19i/MtBKDq2NymMu0cVSkjcX/QBriAP88Ghmjj++pMQV7e9H4Jn+cSOYsBONs95Y+tPgf/UNWU0umYuI6DLih8Mn+4vGjqsOXVGVczWH1v+LiibsgH4VJTGWiqIimjy8SOWdXq8pm5j2AGsdaxETvW6aiwuwX8WWWcKA4L+m0IRXPuhVpBC1Hu669uKxqKR3UA53giUo4nnf3AqeZkRWWE8zK9nzocs7sIBtKjVbNjB93qujFPEeSpd9xou6krJe3MXjjBdbwBHvoFffieESFrNsoIYSFhqIC0JbwX0nGJHptsthwJH7PBoqf+xW3MgRFbUT+G2nW+6FLZT8OudAQJNfGeRA1pCaG1pNBQyPEA3ZZGNcrZpOGQcwyKixG1REDd9G9nigFOzLMOVjRZzuHP36poU6qYMHlZHcxjcHHnjD0kT8eX41xGEpN5QUFc5aA4u5FlaSirmAAbw1UrePqjdfZp/Iua2oWj7xUlfRtXIPhrlZ4O1xDspSoQqo3qjDhtnl5pJo9QqGJL2ujqWBHf4ardj8v7qP3ef9UpNYIUfqbYcDH31OxjD+Bsdvy0ECBnGMQm4i5MV0OPF1xxzOV+gyZvHjU/R3sHPNhXm6AnxX0VWIFmfNR15FA5+yYZ4+UdyO1AL8VPWxZwA+AzAZfK76pta0AbRmizk+wDZzGOwwh8EucxjsMec2wBfMYfAlcxgEzGEQMscDuMccBveZw+Ar5jB4wJwGwNfMYfANcxhEzGEQM8cF2GcOgw5zGHSZw+BA0fVRmg/5QBtA32p0C+g73U84bOLwvaIbI/YPfNDsHzVi9k8aMfVnRbUR9Rc+aOqvGjH1N42Y+lDRzRH1ER809XeNmPqHRkx9rJ5O5DLDP57cMhUOKLvcfjL8pjj/ABFsTWB42mPw3sFwIihiIyNjX+QGxp0cDBwMyQUbGdicNjIwaEFoDhR6JwMDAycyi5nBZaMKY0dgxAaHjoiNzCkuG9VAvF0cDQyMLA4dySERICWRQLCRgUdrB+P/1g0svRuZgLpYU1wAmEgkG3jaY2BAAAAADAABAAAAABYAFgAWABYAPABmAIgAnADAANQBTAHCAcIB8AIyAmACogK6AuQDDgNWA54D3AQaBHYErATUBRoFhAZQB3wIQgh6CLwJCAlUCWYJeAmKCZwJrAnYCgQKcgrqC4AMAgw2DEoMXgxseNrVWA9wHOV13/d9u9/u7b+73bvdO0mnO92ddHfSSbJ0f21ZPtmRbYT/YIEj8B9KkRBuDJiQgAE7dOxBLjQNTIOBxBO3A7YnmSTNuEk7NYSB1O24IcWZ0nQm6SQz7pRMGtomwzQzzQBja9337Z5k4WDHTJmm8c76dnXf/d77vfe+9+cTiFAWBOE7xBGoIAvKXzERBDJUqlgVq1CxcuXPzZbLxJn/WRm+IYBwxDsBX6I3CVGB/WWEwlCpUbUbFdeJycyKxPlnLk+OfOoTSaZ+/esqS37iU+f/DoanGRW1b3uPeZ/+jiZSNg3DAmLlEGsYsRzEsjhWT4zIuWy+Vm/UrUghX6jWV4Jrw/D+TxqGQtSTJ1WiGAZCvur947QoS9oZeBj2ndEkhU57rwscs+GdICpihhEzBIgJ9UrZdZggMx9ZgDcULWSAt1NkBn7CF+l63VDp+YMh/iEeRIzXUK8/QgwZMUBAjKhVcXJ4v3b6CPIX/7x4/ljxMlkq4bJiKKSQFwp5FBp3BaKiCCZ6OwHwQRbhi95LqqGHxINUCeuh8wcFX2fXOyH8oCWPcp2jNTQ83u7p00doX/H8jUXxd3HdbtTrHK6bxHXLfG4yF1fIL4NqDT/4XRiEWhXth1eV37VqzX9BS5br5ZUQRw+ZIDPuMJmFIe7yy4nFU/jowDlmmD0z3WEFQIRoM63qoqir6WYUX0EJF+61gRCREZMp/Zs0CVg6v0kP78zaEkjapn7F+wrTOgftzLFE4S4VYFnGFEWmG5IkmhlUWZtiZiFxPBUbTjFgpk30waT5/FFWTOfbRNY12JFkR583k4M6sZfwvQH5Fn27NMrcrnE3DTGHq+0r7RPidGJOzOGsZIaerga0G/XgaQy4odBGVW4jksOHeyVJMhbJ6hv6FaV/gx4Q7Z7pTjKgTjMVYwCSnd0Z1m/t5ixjt4kyA5neCEjUyhwPiKaXG9SyqbE8vUDyWMYe7NSYaaC5YqlYG/vCUZbsGOxiYnoooFlOA6HECvMYuPgOKZAq+XfBRa6GH0tZMcfVrTSaMAauGEeWhXw3xJn3LoQUiNrXZ56k4LIQbljJu0j+9EE7QkBVi/YN5POibUhAPxnEF5Ap0kf+SSggtuPbsR6YMe5WymO+CTESWBBLhXwuGwYuud5orGkaUvfwyh4ptHJc1bUOw/zIqOW2FVd2S2rwF5M8VwEWbxehGkKu1FXViiTbS959Hea/SwqCcg38vJ99YH7z3ydTF72l/OAa+Xnah0SQAOB/IbKjlUOlIIdmrIp/AZT+okR2zH+J34FP7sP1JbJNiKHOmq9zg4e1wzezlbP41sSNCxOSvOkxSZ/ZbJSMzTO6NEe2hLQHh0i/2LNB9xR4R9/QI/aT/l/B1DlmD8rmoe9wOI5cQ5vA8hbU5AL27fCOp7SAHlmED/RcgZjfI7cIvTxHB3q6wQ50Bn1IGTMjWtVPJr7ifDf6OQd+XxHFyed60wbtVdevUaGkdw1IUrKgl9TxdWovNdK9z5HrInLoxM6EJpXAkrI15dQpeFbPrmFKX0n37oZ7lHpGsqAkaYmdgT6A+mzz9UkucESF/C2OKTqOkpvQcILslg+yY43niTgsUQDUNetbGkwu0XLd+M/hHu/uBfnw7KlTSi27IP/EUlUz9aDeXGT0YfKW0I36pETUR3LjFSdTq3B1MlZ0yRvqkqtlnBzah9r6JtP7W3N9hHp7YPGZRtabdI1Z7JWPVsRiUSzxurbFm1x4KcklfCJtHcJ7ZPfwWny57KXSUJHLhV/46wWB0OQCAZ6+9HL0VwSiFlvozKJ4EJaj7DdRdmMxN9d7IZ4i8Vxh0E+1mazjCnFXhlil3ErFFRQudfGt5+/5qgaF6ioKX4Ev96pxlcRi7vRYY1fK+8UfUlgLWDef+f658F1j961QjWJ4helt87ZRRuHFW2996ZtAfk7u7Wh2Mhi5JRaVCVBvnISYdyPmcrtrRyRT+mofliqZiuRHe/aAcFG4qEVQ7497x+kFrClJHs8yj58yBofQ4BnDAUYwbHLLIJ/jn4UGyLDr9wA8Iuvoqf8Y+ZNxkCM64kXsDLRvevett0DMqJrN5r+5z3v5CVw+f0E329tX+v556uIvhJfJ/UICZcmBjTAtRXgnUqiNkvyoWB+F2mGxSwKgNnZAQGbDYTL/PAmH1VCm1BgZb46PNEqZEPc34XjwBR9vGHNMV7sM5AqYjV8n6F+CZyxZVxaqXlkX3vv8A5mhPcI65DaWQm5uOajEYYj5eXeh/PpXuV5JAWbh7KLveRr2G5GFi2fnWnVrXzIBikg1MRKPGgndCpuRdrFtoi1FwtKyZtL/mophy+2PYb9mRmKqEe8cbk9NpPTDnbGUDhSwSBA9ZOaHXv/Wo2edzy6LYCFfNegmg68JSIpe7bzzsZfnvla9bqCZMJpOh+vbFznRV3xOn0H7/sHsWIp8WLy6f+PWgYda32qi5drmFX4s0nAk/uGaNvm/cwtWVPSLlGj55XuC+sLZr3Lf0P9fvvkt93Drx//3Oy/5mwotupjDdgkPCY9jXM09cv/Hbh+6QlzhABEUNn+eaJIxaJKr+Ra7j1gwWvGWiITBFC+5OVrlK7AYOyig5g9r2KY4fiA4ZUS5PA4iYSqJBozHFaV9qxS2cEhRFXh/70RVJb5kIdGYHlZbnvolYNYn/auGeoBIrw50KUBYhLJIvna5DwfO9BIqQfb6RDaT2JohogiqtLEpvb91+5/aRUK4NpNdWGvekhsrxVrGJjWUq2+uDq6NMjG5tqN0XURkYsfEk44kmxuCXkamIewnUnxu5zN3PJjhgsrs2mngXbzfwhPssdl0NI6qriZam2uQ45OTJGHjQ/fuJ73/ZMa7bRajCn2GOrboVd78qSpaCZvugiF46sI52V4qj/dObXweiVZ9QVC3uV/5mUEMZwYit8YGOkgK+Ubcdk0KbavuXt4XIYZrJ8jk5HFiOqYmi/qzPVt7seU4Yyei4oUfnYTysf391E5YovrTN72KaCmSmoSv7f6vvURd6N8CHQZRB5P3B3FfmBXhHWy9wvVpjTFWUMurpBYMMH5s0s+EO9IhAvoLB6QQhHRlYGBm/c0qkFA6pRFiLp96aLy5YrNG4Idd2CeNwmpl7qSBjtDaJ7bvU7zT3hnW2XUPnLzbuGlkKp28c43hvbJUrwHUK7swL6bBivqHBHw7YJDbNd9eXDN/4g5mK9S9vl6NdGoYSOGDt9nRh6aWm4QYSa6oevPGO4qzhdmNXElKfqJ2SN4r3reM7fsNMjWy1eCqpDuZd8Y7Le/fvjGhqomN2/fLsBpGmdk6l/kb7N2k957LvPb268GhzL7gLAWM1ppLZymW+3bRP0gRH78CDj/dKfo45/cV3xfH4mcy/1Z82zsrPn7+RlwDy9FYd/gzXwuHz3s4XgVTHgjT3nH/HCm2ENNQjsc0nGwd388qVNvRz7A3Sg4cPHiAWAYjjx448Cg2rTfZsveG9694vSHbugw5SCmQgpysc9zNiPtgC1dv+QeDpB1iKgRx0oH7cjOJ6lIAyAzLF0FX26DJ3jnvx4r3Y++crNsypKELrzSvs9jTiyn0exqnrLWYDz8yWu6OAm3N02Xf+wvnLVzMILR6eajmF+tZbGHw9oO4pxpsJcyO8MD2G8LKQHbv6Vpeh2z+8PS222empp/OZ7P5p8kL/3w0VHKLj5+2Aawdv/NkV2+j/8E/c5gXK6W6B0prS+RsDuTYH9+15TatMPvR6cP5XA4hPjo7c/P0YW/qyz+xQYp/+yl1rfrpO3YnmJb6xiNdvV39vblsX5+AXrzErU+oCquQX3i1vmasXls22JuJgvTrScb9nM3zeiaazxWsjJ8WrAwux99AI2NxS1yN5FvolY/teNbFVXt0RYIHwH3mprPeE2BeX/3sVvgueE9Iz/z91Yi++hIOrntOSXAf5YtP7Rm58AN4QNq3c/WkCvdKCGXxY9D38B0QRoQNwjbOd+um8VXla+UrtaoYn60Leag38gVOn/sX5zaegFw+bNex3EGhdZLop4ar2gDWcTffucWcO3RoztzhpQ7NzR0KrcO0ZKwjR0K5sezCu+n996HRCVxzf2wodv8O82p2MUCyRlUOpY7P7+bQxva9GAt7t8MvNeCgC395wDs2t3LikLrWwKy0Vg36/sV8dzP2/Rsb2WCu+iA5L1ptVIKDRr4TO6ESFP4S+IbNZXHZKuCb/hqT44n0w5KsMLtNlfaxhKuubgCNR8w4hcZq1f2AqdOrt1srmqomMRpVmytEvSOhsRUj1IxGTTqygmlLcn4HP4/i9VBicga1jvickHQbZDhRnz8Nac78xxMyIVRVI7zY9GHRycjkhx2S4jD6PDOZmmLehDcBL8KLrBOflwUzLC98/cLse8/JhmsVp4L3bPDv2tcBX4erZi/l4OHge+F/AEXwNbsAAAB42qVUwU7bQBAdhxDUREQgJA7toSshIdImTgxcCAgJQSNFRCAIQhxaocVZ4oXEjuxNAvxEr1V/pF/QUz+kP9B7+7xeCkFpKcUre9+OZ97MzswuEc1bebIoeRr02WCLcvTT4BRNWa8MnqAF69LgNM1ZXwyepNepnMEZmks1DZ627PRXg/P0MvPG4BnKZT4YPEtTmWswW+kXWH3SXmJs0Tx9NzhFeStn8ATVrAWD07RofTR4kjatbwZnaDH11uDp1PtU2+A8rU7+MHiG5jPvDJ6lfEbSNgXUo2sKSVKbPFLEaIlcKmBepgrGGpU0cvAy2iFBkdb1sWpCU0LiYxZUhKSusU3ZR5kdWgXaxR+uubbwj1MLPF1Y0XbQuw5l21NsyS2w5UplrbRccSpsR0Sy7bOmK4XviiKr+66dfajsrLJdj/tsy+Ut0QXbLqiPQH1Cpwha0g2wAzE/EienTXkjsDiErE196kA3xFK0+x0OUMNGfIQfzyE0hN6ArdNR1VsYx116yFcLfFULwrZgy3aFVdk936Xfvv6Ra6ztMXRCXZxAJ9RBjA6tAymMc1j2MQdIuNT7icsx0ForKAodizCSgc8c21lnSp3zvgo86SOlA8deKTwvtqe1WfEJjRbzbNBQDxutw8Ht0QXmK6yTim3Cz3MbctTPpdHiIzr3/RXhcQhPcTRM5yjS9Rng24LktqsY7YGhq7tqfIbjw5SFPK5bNGLZBDoHGurMxwyJRgezq7MVGW994Jb2z3REQlvXcf0x2kdWhN7xHXNjhCHO9/juskciG/XLENUAr9SdcYZvLLvLCdcet+hAY4WzlNVVUYinSmWMCGxxtXqQRfAVaa7bLJcReQ2R/umqKI69K9jSxnA4tLtceRf8ysaB3Cw8dn8Ym0uIeCJJ7IrZoVQeOxSRCAeixeIjzvZ4V9w/3HY2e+TJKPnZDM7VkIeCQdCRrvAjmPX9lgiZ8gRr1htsvyf8RLmRKBTZvaNpJ2TGlvEBlx1+1hFMR8JZbeuAcVXNekr1quVy5IaypyI7kp045PJ+Dfn6ryT/jfAZt+svYHV6UgAAAHjabctbTsJgEAXgc4paCvUC3u+XFUz/KuKLWntZhlHEBxKkhNiwAFeh4dU96WrQ9h/fnGTynUzmwEE18zcY/Dfh7xIOamjCRxvXuMEt7vFAB1/4Zo0LXOQSXdbp4YMNvOOTTfqYcZkrXOUaW2xznRvc5Ba3ucNd7nGfBzzkEY95wlOeucVoIBJJZSjGex0M+89P+UuvvBgJOu7jZJJPi7FX2c+no4ZNvWEx9v9iea8aJhCrCdULNVYTNbXG+h8HqlFtP5SueqVG6p01sf3LtKvav0hEDVSjnqud0jTLEjVVsx9EcFtwAAAAAQAB//8ADwAAAAEAAAAAzD2izwAAAADG+TJPAAAAANaRSx8="},function(t,e,i){t.exports=i.p+"f2e296ef7cef0f6f16912e5d171929b2.ttf"},function(t,e){t.exports="data:application/font-woff;base64,d09GMgABAAAAABW4AA8AAAAAMHwAABVdAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cBmAAg1oIDAmXFxEICq0oo3UBNgIkA4EsC1gABCAFjw8HgkIMfxtrKjPBNmWtLkaQCsoy2f/hgBsy8A15NSLGbJ4H68B4KzxObT19tb5doTvEet+b2tqOt4Lhs2SGM8QpA4eof/yijzgVnlpqBK1tnusH/tz/OVcD75RWu6vVlr2sRTwI4QmKj9IXulrbNcQalY2ve/oqmId0Q5SkIUbg/19dudxugN08zQ/OHDlV2CENBUEKyrNUtClqd9WVwx11TcLzz5/s3Le/Z5EkOPBgGIw3Tqkskx9ow3Rh0DrcVSH0rqY2SaSuWz0L9J18fyJJ1QR59WGqQF+vU33ZDhDdnAy3RR16kx5JOH1Sd+n/fgH9AbhNzS/TojWtlikfPchGLoIDfV03j8l8Ol/XkxQFiC8Ibw+Pq3WSHJ1OH2SHZIfkoO2QPith2QE5TCMAy5/9AwDFjbZO3RC28tipy/hfpk7rWKhsMvt7FRXSlnnVWUEwiiAMQiiCgWxaL51JaIdpCBBDrPBi/FsMAAgAcDly/TUAgLN/dcsCALg7L00HBBmNc4EGIKYThwFgpnt4fA6+IYD2PhHgmxw+f4FnyW5IqAMzcP9uUt0hUEJnkxUcwJwKEk6EU5lEnhWtAePgNpC+kxYF+wHADXd6cULguPJWDmNgHKwlzhKPSdKRZezgxKAe/DVs/D+s4LbmtvEN5YXufnbp/NJbvhrluNnzaPDLqhn/DQHu/u165UfOMXPM1rdlotFv8/P/uU/67RVrdmBdrZFZi4KOQQZK8wMUkygU2ovgpejPDcQA3XYeX0B2iRDmAROV+5cOo4xqA4kBa5VI8QlthYCnOE3S/R+wlHMf5uFNJGAf01veVVfwCuHtT342A82WLSrngDdANukhgXLwIHDlrodA2+L46U0Vb3pTEsZNt6bP3kZnruqKTsi+jQ7zWyVC/Ckhb0mlhN5uY0qKMU343Hnw4QLHsTQwTa8+QXgbc0rm8mWhTweBoNSc6EurwEjJgNu4k5KHRFNBebstaD2J0BZgLOhuTmDpoTCT0mq70HVQriAZ2WagnG5BTlzeCKmzjK0YxWfg3CanpzE/qdpnKVpiaOaH+CRXLRKV5uWhgadRD3m/YCb6KBZMgIUWot4FG7CEnnh4SMOZRNr6QWW1agcwl6nYmyekMD49bx40DUPX02sQ0POKUEAiDAME5VnTzqkaBX6QPLA/kNPh9jEPTQZIt3bS/LKIqqoYaqwC++1a4AWIXyFgoRfNkQnRVebS0HkkFCJPoK6aeKSApYRY986cF7KQkMSoe0qS3iNDyPsjqB9U1qh8y5Aqq6s6QWrBPHLuv4iFaifpJJLOPnlY7j+N959nqJV7ZpTtKiiwHPdSktmJwSogiwQIwkMRf1GSeOCWCdKfxNJzQSgP3dgimVkmzsAqVCoWKu8l/A2nTuC56XieYzFO0YxeEQUypU1AAec9Un6aPgJKloo84UVEZkFTRBYQGlAGZbD6Kl9ZhiW4Dl3Vv2LKnWFRDZJHRYH1kUdNQRdoaAJY0SSwpilgQ9PAlmaAHc0DWpoP7GlBLq6oBr88bvfgl3EHfye1A0vcwjxKRx1RHCJYDwTsCATsBARsAAJ2BgJ2AQI2AgGbgCB5gDTzDHgaM/JSY4uS8VgEsMRjqX1tvMAz8Jx4vJHmmoSAtZdtC4ueyc2jMR6fsXHCLbwnhU7qadyCUOtsvoMSoWicH7pg6jH4s0RuJGwdDMkoLwBbX4B+feJv2OXil9RDTwBqNDf1mwSovewJpD7aeILK6aC2yiYIphDZ1inVmgO2qCff7aYnmaW1ilv6TSbQQh+UUH1o6AkB2ILyC1/siECjnc7LpKYTs0RokVf1Y0hQFjh8oupWz2m+i5+Jk1WusksoVm1TCCb4UufEeZQ2y1BaR1OywNjoHQjlbYNUu12kE2qrUM77jyW/uTUJqrDZ9GETrs8g3OEVrDXrTrGdTqOUXR3a26tlCU4Y6gxxDThbebLDzacmkDxh3ZdER0EXSGfNZU94lg7fQr40A5KEJopE9BfSXhxMMzzGWo25KuV+5hqar79VxmO2u995hVGKuHjFSeHMG+WJVJ6scZHzt2bL9rnHMRSFqR6w682eRTWpLl5JNfJEZ/XxJIaZMzJ73zEQEg0aYiE0OqlopnCGRiCFQKnGKzxxi8s9sGhmZTY1qu1yUyd3PIXfdw7zsFTMFx7SHe0tamPbx/xTPdQl8+SEnnB3nU4c6uxe7MLg9lJJyubK9PRwC56XgzUBE09ynjmFAkl1kMBQT4VgB6SZYWtqqjXrDBAfPOnMRRUzaW+GDI92gHhPJXNwZRVTdzY2zGEnYXIh5gGYD2ABEjMWYCGARQAWI3FTAiwFsAzAciRxKoCVAFYBWI3ETg2wFsA6gHe9R2tYH9sQebVG+UePRLfnUnqQmFevZzinvbHRPj5oX/Cx+p0R9v/c6IAz6ECANeiMdPDnRoecQYcCfA3z6BBQxA9Of2LdW/n1raQhe+T3k48nIOCvSvfk8aJ1t2P5EQaYiwCCcsBHiY/hqPj1JRZaEVIu1CCA7BfWIIEmBJuzL0tR9jopX8bPTrPyIWEXU4Q2mnaXq5Zrtd6+TE47awed1EEsl37NpJCzKt+AYAof/CjBlXGlEFdEqzhB1oYWiuiHCKeAk2Md9GQNgu+CNBY5xsYEBvjf+khmMGdumoMi/D480S6bcQCKjyzH+wF/R9SMGAM0CoNVHEkv+3ApNscJTd/HiNchiONVJMtkwy07wtDb4mlZJhoqLsrrs0hAx3LooqvjZUkUN6rIuTbaJz4Hmiig/UeEUBPwk+uqgsAPHe6ZpsCsYhL6uK8JNgNOzYTrYzO4atS+mRXg9bR/aYzSN1Xk1Jk9dc3zH9he1/9qfyZZPVI2wWC9PXZcRl7OzMS53r9Rvg212mxHhdK/p1u0kDuW4cSc72l6pjiJnvZv4FeDpZT20RrJUQfG2V4Zkv6jPkoRknlefzferX8cmKuN6wzGoICcu7PqhUozYuYtR1pdQAjWhfI8h71OHl3cfHqlYvyB47xmzWCz2U6Rt3vQjX42fDC3QD/QlKzkeGNvF1k3dbQzVr6//Bsvg4INvumifzyxGKSF9kuKkxJ/10UhlJXtzE1tOmTt2t8dPGnGDx9/0OUz+IiUHsYpe1td+2WWo2r7q510bsqPIXkEitFelnnd0sk+X1vqj9Ptz8oht5C0jcRJnByu+sZeobiUzNHcN80Ou2kNZ12EGz8StG13R+eN+Cabobew4ZT2UYP7ifmEvfZ4q3MMyT6XdJNNvGSClgnb6uaJcJu/SWuCk9bORfk6fgjJcrb+HdnUsBPLP7KtOCml7+keIR/1ybpU+DDgRHHI5R2AijUTmDV6M2bKBrLpkDxSzip+4lmLpK/XaUqFDOMPzEUuzpsZcbiUvqehxuAkkhu34ids69HkME0rfEsGw6iRbGXtxI2kODv1kxlxEaBRMSyuQ/H2wz0g21SAEZz2Q5R/Xj4lYLLWXbpMmQJSdSqubKfOkBmD06aJ77/3Mm1VmmZnmPwtUfFBM/m9DkkJn5O97O/7ImcUnjOIpIVsD+iKvL9XkGm/CA6K70O7WLzF51+DV0jeKGfN3PKMyuhcD/2tvwnw4rIDyKOKGyHMMrgJx1lbufA1AGkKTNV0a0ShUInJ2L6z0VbtuGnm9ryEwARBFIl+dvHfoRxyqou2iTd3PI5dnCHt+38FyfCz3XdwxxNrU2up/BM8p61Bdxs2fzn4SQtKewAYRm7scYs+zvAAIcA3LYAZtkCI5L1LQd4BKI6yHGMoJIQrVapNfyZ2RAlwWtFwSZ8vB8CmFqow90AZClS0QnKQIDQM8HUB9wV3oxn1nmp9/dr8+D4TyAJtvWXJ36ZF/gefP/M/nOd3s1NbQFJXrv9x7AM3mJc+bDgKdt715o/nDBEwmD9EIuGs/OJpERJpLR+OvPmj5S5e+vBhuHFu8M4Pf/5yhMmYmqMRme7ec3RlczRC09373kMzz6YCj/fOvxOYdZ3+zI/L2kru6mS6+5ASfhWJix1JNgapNP93HA/GOE4ukEg62qMchvgI4Cr8sE3qr8/v6Tc/yDp4vvOB0Of3T7aF74ZQWB5JoCq9NGTrpkEiaYFUYhhc8TbRV5poA9/domGWJ6CmsHeMKXd+1/JI+2EInmZFu8E3W2ki3p+3FYMNEoY3tLcsXiY5fedpdpAiOeH7B4aJS9ye1GgQSwyN/y+wmIXFzIfvIxXJ2UFP75yWSHgYQYhfh29QVvZ8Ed4Xt3mad896uaFxkI9HovscTcGVVGZ+wYMG+Xb4hTBUCd5L+isv/ZctZnI98f7deP3sX2PJn9ts7+/s3XtiPeP9mTXFC/scLeV+a3PJzNKe/qNJrlxuTJ7ga3Fr8cjwFu+NLefevF2ILGOHWcVE3SwVO4j2/SCx+mBFfosw6HuQcJxNmmnfb2VQkrhO7Y5Z0yuChUGzgoSN6ryyMWYxmO97QmnZb/tT/0MgQ57q1JeUhLZc1aW9MJj6JRvkwwfEXRITXmB4XR2pRlJWjLe2sVOZFHa+U251aoTJOXxD6PIiKNHn8Aili1XzUnOywAsxpmju2ZAMQV+pmolaOJ5lKf3bTk0DK1bFBRxa6/5C9fsUdtbA0PBrN/IY2SuXtf+3FTObX7tnKPycbI8/dgz4y26S2x/FbLO1Ok+T49nkl/2Gp/OPjOHsj2utuq3dM5wcl+g/KGj5n1wJV2y8aD/PenmlYQLqxqtjDQMOXDV7RsXptNftrLoF/tdkR+/ekHw9S90/sAu7fhnPG95e6c6pnrF5+FlO+N43OpYWziiY4DrFY6FfTK2J4zefaLa3Ps252DMhJ88z9nk/c7UGOb08li8Zp+qlyRt39reZoChR0YauO+asNovZorRk+JWhPWfd6OnWMj6p0Xp2P5tJzA8RJR4WKyurFyfphDE/5imPqBweBtrEz7HJn+d00UF1WcUjTdpAjXK/TntPoS2w0xAMOaRJuVutu1BqY5huM3QhfrBXHVHyCA3j30pxTmv/QaENVLsSDNfYpQlonSsbkJ8SVLVKUpQOuTDhHMntddzkQx4+JhDMfXV7Y0qCTT/j9A7eAMGxw6TPJse9HHkOzgmtTs4ZPqEnQzbO0W1WsF28ILXPvhW9qTsUFrukpc6en9zbb4TH6wLRytzVlb1ULcqE7wHVdf6fye3NntLJ/hE+E/nBz/7MPw+X+Jd6AGbAL9K23SuG2MaXTBWKnwp47a3G6opXBQXtNOcenvCrULbBNr4oyAyYKux+uME97e3YtqO9QyO4LpL3hb37OzulnV3OOwd9GddTrbe9wtdOlvTyfdTQ90HKgk1DnQdEH1gweuXkczYBAw3tVpqraYuy3uuFo1c3WRLW+nvntWqaB43pHbbBvrRqTebMpDG/rF8tYe0d2H6CKo96r1WbXHu59x+yZaN8XNrwROtUU6zJV280XQ6y/u1YO6G6v8y3vkaio6jN+A/P4WiGGJVznVgq26hUIoE8Ujx2zP2a1IkV7MJlySvXpjbV7pDPMqBSaczuLShz1+kQzBYlZsg6nEApHrhZ3FQ5g7IU9u59ghZ3kpoxqdQhEclJE5kxv8R+zLg6c+b8BYOpuMn35LgZWFjYq5RF0R/96cwtfcHZ8+fOJeDkRiQC/xqZvljCRrCLJKPT/3KWzabAqcrolvqvjujbq1df7mdvVrfzrI7HqXv1toiSP2jtHySLLL17qTme7uxOHdv7J8eD+XKFKmnI4cMMw4arKXqTj0qVVA4jxs1rmTcORpQnRc+y/1vzpQvwcHTmSAbqqJ3vDT5QdexiKATCx71DTKDNSCoywGBFATIk40wM7Ip8ao1WbMhwREFWMaGgCoGqEV1D81xOkW9fx3yfItsb0KvGkuzg7VCJFOxVZKBEMEFQvkBYUc3I4pRxX0K0l45FAfHN4vSU8DAvT50Di/RHTxX5STGRfm66LF0Z/gaCEDqki+622xUEi3+2KQmoWFl6pSziN5gt7wEO/JMdz/n+q/x3Pe8wnQ0A/D/+TEYAOjtnLJQwIYzy/4+1PhRv6e5vEDpmAIRBQhRA59XstLhDSO7Dc5cKDslrBYwAYo8n33f/o1r9V0laWlP/C/V1IwTnzTiA8IDgEYHyHcKHMQrRoOTwPEXuarUwEJqFfldfhJsvEA8ADIG6rkwBd0fgAD4/AgDkRgAA9yex6QCaSLs3Kh2WhxBBBN2QAB7aQRKc0gdSoMw+SIOuRJABZe1GHpTEizoDpWzbDcoNurwkVqdHtbpwCABgqQIEiDT+kCCNCJISY5DikjmQFpVLkOFS7lBSZZ09KBWw/grlpp1QJGvcvVpnvGAiOt1MzlHAcDMDCMzyR1wfc5IetEjiw/JAXTVGpGeDzAPr7VvUF6pxyg9vOSiGqlzA9v0fsDbRijvDJHLuFIzbDAjGIlcwzqClxLnA1TCJoXlYi1nslyyGK9g6FKgMWqrxctOgd+Rbzxs2RVaRtOc7fffeeEqrhOQiuYHqBcdoSUc+qDC2Wok8oa4L/hxpT7AvSPweUWxMV9TYxFP0+iljTiCQQQxqU1w1i0JM5HphCxJHhvEah9dgAryt3DNoQHkOdyUMDF+Oh5JMxHLExF6AI0/grRkO1DuW/jyE3xWUplmLcI6tKOcRifCnflZw0ROSOZ0CGlucrJ17yJyNFiqS7hx2fFhAFXYe/SOwIQSGh6SpyT5ELFhQHYMDVEcxuBrqWyR/yuyp1qxXXkaNBn0UAab/gYeIiLr0FvgQA0lcCMTx5XZ14x44CqcFhNp3tan5KBaWHY2yUBkE2hCEFwXu2yg933AQrcx/4iUMq139CdFUAKaW/8VMFA4P/mRRcUo1wMdvydGl+21i6c79WDDSHzUvPlFdgePF1bheh+beIfLje1LBO6FOQqc/gtXBhRLFIVlY33vAAWta2RmxL8x3nArMV5/pCCNBwvBgQ5KqdPMRSxHebrbrzT0cA0lJZVe46jysSwUbEuvlBnqIXGG/IjDikTQsTl5A626/p2rYpfRlIgdNiy+u9D0ES8fL+1YPR93YYttZxQOoId2NP15YUxeSyNHTx1NETCFXKP34zQrchwe4IAXLkYZlsAlWIoM85KMAhShCMUpQijKUI4sKVKIK1ahBK7RGG7TlDRNeZtWyG18y0RvKlSXj635q/KrgDFVEw7Zl5lWaZXaFXWXW6kgWshFbMXWdYL4tsEZVywwsZwWraL/JxeXlOXvheNm6+8L53Nggzv5PDOG4f/arAWZrANxIn/w9/gBA4JtIiP8YcOrL0XTq1KIYqKNdZvjnT2zhSKq1+Y8axO/UuQHxfT92NzNmNVXDR9edAw=="},function(t,e){t.exports="data:application/font-woff;base64,d09GRgABAAAAABocAA8AAAAAMHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAaAAAAABwAAAAcacggPk9TLzIAAAHMAAAATgAAAGBFYlu6Y21hcAAAApgAAADKAAAB2orXF4RjdnQgAAAJdAAAAAsAAAAMAAAAAGZwZ20AAANkAAAFqAAAC5fVFNvwZ2FzcAAAGfgAAAAIAAAACAAAABBnbHlmAAAJ2AAADEsAABaoDunJb2hlYWQAAAFYAAAAMgAAADYQJNkbaGhlYQAAAYwAAAAgAAAAJAl8AYJobXR4AAACHAAAAHoAAACsfckCBmxvY2EAAAmAAAAAWAAAAFhqbHAgbWF4cAAAAawAAAAgAAAAIADIAN5uYW1lAAAWJAAAAx0AAAePHshTGXBvc3QAABlEAAAAsgAAAUK6cFolcHJlcAAACQwAAABoAAAAf+LQSDp42mNgZGBgAGIWp9Jj8fw2XxnkmV8ARRiuTfRWgtF/hP8sYt/DGgDkcjAwgUQBPbULpAAAeNpjYGRgYA34s4ghis3ij/C/GvY9DEARFKANAJIcBgUAAQAAACsAvQAFAAAAAAACAAAAEAB3AAAAIAAPAAAAAHjaY2BitmecwMDKwMDUxbSHgYGhB0IzPmAwZGRiQAINDAzvBRjevIXxA9JcUxgcGBTe/2dW+G/BEMUawBynwMDQH8cM16LAwAgA+i0PsAAAeNpj+MVgxAAEjL5A4hcDA1MowxYgVmbWZrBgvMHwAEibA2kBptkM5SAMUsP84v9v5hcgXX+EgViC5R+DBQizLmEwB4rnM+kwmLPYMJizWTCYg9nhqJhJgOEBEAvA6WSGAiAOY30ONAOKYWoZdYBuA2KGFAYGAINOIi4AAHjaY2BgYGaAYBkGRgYQuALkMYL5LAw7gLQWgwKQxQUkNRn0GWIZqhlqGRYwHWO6w8ysJKgkpaSndFiZW/2lFpMWixbb+////wP1KDBoANVGI6llUuIHqtVWOqDMof5CiwGs9i9Q8eP/d/5f/7/mf///vv85f93/Gv3lvcd099fdV3cj74resLymfE3pmqKANtRtRAJGNga4BkYmIMGErgDiZRBgYQVTbCQYz87BiVeei4GbgVwgLMggCmOLQCgeErTz8sFYAO5wM9cAAHjarVZpc9NWFJW8JE5ClpKFFnV54sVpaj+ZlEIwYEKQLLvgLs7WSlBaKXbSfYGWGX6Df82VaWfoN35az32yTSBJO8OUYXzPuzp6d78KGUqQsRf4oRCtZ8bMVovGdu4FdNmi1TA6FL29gDLF+O+CUTA6Hblv2TYZIRmerPcN0/Ai1yFTkYgOHcoo0RX0vE25lXv9VXPS8zv+9v3AlrbVCwS124FNm6ElqMqoGoYiSUlxl1ahGpwErfHzNWY+bwcCTvRiQZPtIIJG8LNJRuuM1iMrCsPQIrMchpKMdnAQhg5llcA9uWIMh/JeO6C8dGlMunA/JDNyKKck/BLdJL/vCn6SGudfMiK/Q9mSDb0neqKHu5O1fBFhbQVR24q3w0CGeLq5E+CRxUENLDuUVzTulftGJk3NGI7SlUixdGPK7B+S2YF9ypccGleCnZzyOs9yxr7gG2gzCpkS1bWTBdUfnzI83y3Zo2RPqJeTP5neYpbhgoeII+H3ZMyF0JkyLM4mCQtODr2kbFHG9dTE1Cmv0zLeMqwXoR196YzSAfWnJrN+YFvSDku2Q9MqyWR86sZ1h2YUiELQGe8uvw4g3ZCm+bSN0zRODs3imjmdEoEMdGCXZrxI9CJBM0iaQ3OqtRskuW49XKbpA/nEoTdUayto7aRKy4Z+XuvPqsSY9faCZHbWIzN2abbMTYrWdZMz/DONHzKXUIlssR0knDxE6/ZQXjZbsiVeG2Irfc6voPdZEyKSJvxvQvtyqU4pYGIY8xLZQjdt9E3T1LWaV0ZiZPzdgGalK3yaQlNOIr+RKyKY/2tuzjRmDNftRcnZsTI9LlsXkKYFxDZfdmhRJSbLJeSZ5TmVZFm+qZIcy7dUkmd5XiVjLC2VjLN8WyUFlu+oZILlB0pUyHzgUEmDhw6VNXjk0LvKoOnya/j4Hnx8F3cL+MjSho8sL8BHlhI+slyGjyyL8JHlCnxk+T58ZLkKH1kqJWq61RwFs3OR8FCfyNPlwPgo7reKIqdMDibpIpq4KU6phIyrktfYvzLQSg6tjcpjLtHFUpI3F/0Aa4gD/PBoZo4/vqTEFe3vR+CZ/nEjmLATjbPeWPrT4H/1DVlNLpmLiOgy4ofDJ/uLxo6rDl1RlXM1h9b/i4om7IB+FSUxloqiIpo8vEjlnV6vKZuY9gBrHWsRE71umosLsF/FllnCgOC/ptCEVz7oVaQQtR7uuvbisaikd1AOd4IlKOJ539wKnmZEVlhPMyvZ86HLO7CAbSo1WzYwfd6roxTxHkqXfcaLupKyXtzF44wXW8AR76BX34nhEhazbKCGEhYaiAtCW8F9JxiR6bbLYcCR+zwaKn/sVtzIERW1E/htp1vuhS2U/DrnQECTXxnkQNaQmhtaTQUMjxAN2WRjXK2aThkHMMiosRtURA3fRvZ4oBTsyzDlY0Wc7hz9+qaFOqmDB5WR3MY3Bx54w9JE/Hl+NcRhKTeUFBXOWgOLuRZWkoq5gAG8NVK3j6o3X2afyLmtqFo+8VJX0bVyD4a5WeDtcQ7KUqEKqN6ow4bZ5eaSaPUKhiS9ro6lgR3+Gq3Y/L+6j93n/VKTWCFH6m2HAx99TsYw/gbHb8tBAgZxjEJuIuTFdDjxdccczlfoMmbx41P0d7BzzYV5ugJ8V9FViBZnzUdeRQOfsmGePlHcjtQC/FT1sWcAPgMwGXyu+qbWtAG0Zos5PsA2cxjsMIfBLnMY7DHnNsAXzGHwJXMYBMxhEDLHA7jHHAb3mcPgK+YweMCcBsDXzGHwDXMYRMxhEDPHBdhnDoMOcxh0mcPgQNH1UZoP+UAbQN9qdAvoO91POGzi8L2iGyP2D3zQ7B81YvZPGjH1Z0W1EfUXPmjqrxox9TeNmPpQ0c0R9REfNPV3jZj6h0ZMfayeTuQywz+e3DIVDii73H4y/KY4/wARbE1geNpj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxnYnDYyMGhBaA4UeicDAwMnMouZwWWjCmNHYMQGh46IjcwpLhvVQLxdHA0MjCwOHckhESAlkUCwkYFHawfj/9YNLL0bmYC6WFNcAJhIJBt42mNgQAAAAAwAAQAAAAAWABYAFgAWAEoAgACgALQA1gDqAWQB2AHYAgQCVAKAAtADDANMA7ID6ARKBQYGHAbSBwgHPAeMB94H8ggGCBgILAheCI4JBgmWCjwK0gseCzILRgtUeNrVWAlwG+UV3vf/e0grraTVsWtbslaHvZJjW7a1OpLYsWIS4iTEkJALwg0ZmCSEeEiI24FACBB6TEjDkbYTCqUN0HaAAk6aHmHoQJmE6UFb6LRQhqPTkoFCJ1DaJsTa9P0rOXG4SmFaBtvr1f56+3/vfe/tO5YjXJ7juP0kwlFO4ly7RR440t1uqZaasdR0fvvyfJ5Eqn/Nw0MccLuqI6SHv5qLceKol0B3O4SldA4yZrFQDpYtLRKWREmkYiSsB3WN9Iixi7/WVigsejomKvHE/UmXy3xFqW6k4tIj23/y0ouPgLVbpLwvmX3N3jJ0xfoh+/RDPg5x0tUR+CbixBFHYTihQqkX4qAzBCKlU2axVC6FSsVChmTMjJl2KUodSfFJ4H3FdLmS9yfiXv5yF8+wXn7hEfuXu3kX+A7BA0PrrxiCta+1JRysyWjTW4ilIJbIMSy0hiuXmDWcJJ6qkS2Uqlp1LaUoqXnE31OZaPLhLJU5dv9LqOs+vF/C+8G5X7UiaTxeOrAL+ZIk6/B5FsqV6zg+lHODw106lTG5jFmy8rrGkbf0AEKsBfB7vCIlW6pbG2RefE7w+GV6uM3BClRHuH/VsSjbI1REJ+EROHBgF3+KdeiwJd6FciOIlUa501Cu1cGSGFYmB13EdM4F5K9cqpACI7LoXPSCHgmLzIF+Eo7giR1+5FwPsyNigIbnOERIWlQU76jBAwARpNQKmeflFSlJIAA8RM5u73V5fCJ1mcagH5co6KssUfbuiONHIP5Bw3TR6gaRr6xTJz31lqfBv9iiUoOLWov9jZ43W6bs8FEYmtKoEdGnCNSv5wflNydVbvIBnHFSI6Vi/3oA302VSQc9g3ndTwXF4Wbc5rloc0s9Zhix7DcS1uu61wxE28K1MwulQj8p90O5FHT+VyBTo6j2L0dHBL+i9OcWhASQiu1FN6XuRNNSDwihBbl+RfGJPO/lC/NlIODNtbd1edyXd4bcjByQ5xfwO55f6RcEzSjP0Q6+Ks0stzfwglcReH94YJn06kFtTtnQBNHndlOe6AssLzyr5AeMeIjnewZjCXXSr96SrAU64akb7Tx6hBTp65TnNLTTxaOdNI9q83pYTDP/QkrygR9SpgB/eKcV3hY8xDCumfIP+vcp1xgG8ZCzZi9SvgM07Xal/DNm+FMud9rhjyMX0QPkb1wX7qurLGasPHvidM3KY3j0QwU0A3BzJ5LYQ5dCAhmW2QUsfqBbzZ6c6Ti722ueOn9aNxUJoYKrZemNQ109seK5XScuz+8bIG94vP6kSJojDSwyXO5AsL1TkUInLmXDEabfWIgUOX6i3fD+do+F/hvDYayBXHT06Cexuzr7f2k3N9nu55+gP+BaUb+EY7fWC5Fk0cpXQE2qoQlXLGbboZiMoIp8KrRZtgPyhiZqe+DYZ09jo1mW+S3ydZr95OJSaZ6b31PdWb279vGiWNzjL5UWTcTNIG7w3bgTkShq8R7kI2uPo8FBRAP4x4SrcexxQFRhJ//DY+gMv2z3C5cifi/iZ51cV2oDPU70dM0NGbM1qXO6JkHYSpSdDFa2MF8JCVaOKoDBwWUKqBhkCn2ULCPLpioJP81KqGN2+Bc99m/s513wFCao6sGn4bupL869ZWEknKV9U6v3Vu9Bd6VTmwdAhpO2TbH/CXQXudGYlxJ8bYg6U6Hgqd4oEr56DxAp2HJhtFPcuQMIkQifyX59DqZZOHPfqbDaX/Phmup6Ooa5KTpeYyCvs+LSDmgGRaXNDEs8oSZSLtFXVVL9U1BSvUQo3uUPJtzBxmxL4deL7Lu8In91kD88rywJ4b2kIxjJuILxnkl91RxI1ISjKZnxNvYt+qAwn+tHrGKY8RaWWDBrDkPBUD/F2pbX2HPDcl/ZyXROTLNfQsfTYoalT+3eIuFDTYrPKsbal23W9JxlJA2rnzbH9ESRUpn6gwJJJJPZeOP5GxNaa0fn9M4KiUf1RDXa7qM0DIr1zqZDJEgaF51+wwKt4aSe5mSiod3HUxeRwX3Wsp/fvKP6x6p9zYzhqZWZ3bFkgiPMBuGnjg0bsCdZt7AYJp/QDuHTIYEE/v/8NXxc3injXdpb530vJ+8ZvZlxTz9N7j97joOxz47PP1msOHlmAXcxtx5jZc2KC5fMjr8rVkKmMxtgLrZwQHCS9Ad6jzqNGlZWKY09/kQ3AjZoaVbfJREbOQPyuGFrIYNVmEhW3unajns61z3UmsslVs+Q3UsmdVoZi7rel/vueWYuZ1yGYqd3dlrHveeSmkJEaOnIDXhFMXyqBoQ2Qu4adyNb570NM85RyAQ//Ra6zN4ZCxfM6pkudsDGL9x2UsEN7yVwq/2COXXWgoUzegbEDnv7jttm1oik9xkbzxI0bX5en64vtRSfen375tktW+ObzhLEwMWzA+O1kDewFrL6Ea7NXSJrR4Crd7DlEptY2Biha7wRC8d9vH2pvYoq8XAzNhSPE68R8xF4goC9JhSPivzWI2v4aHNY4t2Cxjc20Hf+IlHu/bHqfTQ4CM6I56A6o0s5GjEUEW6Gr4K/ORwDYvcSJdbsJ/Y0CvT6kNHkPbKev5U0xUMSld75C21ookJEpsdwdnM5xPFztb7L6dHxLxRAZ6P3TTWAIVJ3vXps0Ykk4tIK3m3Dcy/wCdhp01gqii23/Oedc2Zd9mUXDiLRVAw7KWj4yka6GwKLy3ec2bzQ3mhP4VVdU3nYC4/K237XlN01LNsD9kxe1XRc3Qf7PY+PrKjxUHF46D42T/QDi11NDaCG9bBTA3hyFsn4PDE+OdDAZBINqrGaVnNnrZ6olSdzyi2rRjqMJd+Yen4E9adbA0wre6Y9MK4VPAp7mVYBwZ5iT/Ysm7d1jiV4F1ZW3ti8EDbCvvHZ8yj2FcLx2RNbMPUlMF6vTZ4d3PjcCF11ufrcmFTTagAMy5kaxWc47gP2s9gkaznbHe6w3ncvlEkWxyz75er3xGdwBK3tNYzzmAflmlAuIqJcuRhiExZyKEUo65+jENGcQKLDD98eFd2y1wej2fM0bXQU/LLfE739bR98H9ad7HH7Zck+7cI/l0r2kD1f8vjDJ8M6xFiCurCZWmfvIxx9U2a5GIWCDPWxGjEoumZYDsDo6MOjBHyegAR7du/eA1J1JCBL8CCMAtwHuyRZVcAetE/x2XPtQcChkmIPXBEewBht5vpwrpT3nFzJGSpgjoMJo2XN8WhGi5PrMDSFYzkNB082S9QnCZy0CwSfWnygnFGUJTiT3B7P9XquW/n86rnm9Fu/sb9lOD1qvzoPL267E5Z6rC7toc1X9cZPm/32ncHmePCyCy6+Y1LH3VeP2AeK2RbLyiS7XAQTMfjylzx3693rhn985XVNgtDw1PbaxQ2zgNcvX7Xz7PPv3HLVt32EyJ1d96xcs/ZeUOcNVndnLZLPZPOZZi+HHj1ubxs3hRvkFnP+6d55c3qn5jqNuArCfzI8pKZxhTC7k2CmM2oyMQ1yUGSPBA4riWZAu53hCgptoNZJwWf5Qzg4SDrMh8cMAUKwLciLeAoBKFdddK19wH7DfoN9Xn7DfeQmdiGuOgfZafQKH0ZI9RaS4d1Z+9CjcS8QfLSrz2Ln7qIbnj3lvCOXkMz4xXKVtLLv5A4krDIYP4GfLq7CzeeWM37OXTQ4MC0/yfgI/Ag4JDmREcEqVoECy+CZVD1QWNEsIWs4DnA6Cxj2esukWg70FBcJO5vW4ug/hUzI67r3hralqx577LG2TfbLtr1JzCYiHafJTQ38JhpzwxkrHwNSX2xcLe7bL4C9oRD4/FeDfcHtVwasD48nUM6P8Wfg7o/zsbOrPwL+2r6CtWbtHVtCLelryQYvfmWPja+1j70oPrlftK8CYspDGH++IdnkWI9/LL8uxx5/yGoh5GPkWKjf0MyqB3uonILYXnvR4whOw/rhZJliwXnJVSz8F3kZfsY3OrIrLqUBPaoYkhVZAYI/1oxVZ0XEkgwlqgfopSs+RgK3v8luwXuBRlVDkWDlkpi7qckdW7ISJMVQoxRRT6zJpXfXokZIjtMTiREtxosxaAY0PdlqZop9xOzjS31QnFy3grYwS1mhlAzBLtqluOtY7al+qfplcgVZjyprajg8eM7nNmzbvG3D584ZDIcNCamJnrjIfMiU60D/1d4dC7V3xz1FK2Lhsbz289HlgMmhFJOr15+e2vfcvwGbwXQGAHjapVTBTttAEB2HENQgIhASh/bQlZAQaYMTBy4EhBRBIyEQCIIQh1ZocTbxQmJH9iYBfqLXqj/SL+ipH9If6L19Xi8lQWkpxSt7345n3szOzC4RLVg5sih59umzwRZN00+DUzRlvTJ4ghatK4PTNG99MXiSXqemDc7QfKpu8Ixlp78anKOXmTcGz9J05oPBczSVuQGzlX6B1SftJcYWLdB3g1OUs6YNnqCatWhwmpasjwZP0pb1zeAMLaXeGjyTep9qGZyjtckfBs/SQuadwXOUy0japoC6dEMhSWqRR4oYLZNLecxlKmGs04pGDl5GOyQo0ro+VnVoSkh8zIIKkOxqbFP2UWaH1oD28Idrrir+cWqApwMr2g66N6FseYotu3lWLpXWV8olp8R2RCRbPqu7UviuKLBd37WzD5WdNbbncZ9VXd4QHbDtgfoE1Gd0jqAl3QKXIeYn4uy8Lm8FFseQtahHbeiGWIpWr80BatiIj/DjOYSG0BuwdToqegvjuFce8tUCX9WCsCVY2S6xChvyvfLb1z9yjbU9hU6oixPohDqI0aENIIXRhGUPc4CES72fuBx9rbWKotCpCCMZ+MyxnQ2mVJP3VOBJHyntO/Zq/nmxPa3NCk9otJhnkwZ62GgdDm6PLjFfY51UbAt+ntuQo36ujBYf0Rn2V4DHATzF0TCdo0jXp49vA5K7rmJ0AIaO7qrxGY4PUxbyuG7RiGUdqAk00JmPGRKNNmZXZysy3nrADe2f6YiEtt7F9cfoEFkResf3zPsjDHG+x3eXPRLZqF+GqPp4pe6MC3xj2X1OuPZYpSONFc5SVldFIZ4KFTEisMXV6kIWwVekue6yXETkNUT6p6uiMPauYMubg8HA7nDlXfJrGwdyK//Y/WFsriDiiSSxK2QHUnnsWEQi7IsGi484O+AdMXy47Wz2xJNR8rMeNNWAh4JB0Jau8COY9fyGCJnyBKvv7rPDrvAT5f1EocCGjqadkBlbxvtctvlFWzAdCWe16hHjqpL1lOpWisXIDWVXRXYk23HIxcMa8vVfSf4b4TNu11+L2HpeAAAAeNptybcNwlAYBOA7kzE5wwo0z8+I0ADG2GMgRCgsERqYgClAtOwE0xDsv+Sk0yfdwUCY9wUa/9L9ljAQg4kcKhhjgikWWNLAEy/GGMeNCVzxwJ1JpphmhlmazDHPAossscwKq6yxzgabbLHNTup8CJRyVKitdOYU7Dbb9XG/+i1aWypSu+Jc9CJd+V1L1KIdaquhOBIdcRY68IZi9DtKiZaoxZ7Y/+n5/lz0RP8Dxh1BegAAAAEAAf//AA8AAAABAAAAAMw9os8AAAAAxvkyTwAAAADWkUsf"},function(t,e,i){t.exports=i.p+"0767ede65042583bcc06f09055f4d7ca.ttf"},function(t,e){t.exports="data:application/font-woff;base64,d09GMgABAAAAAA8UAA8AAAAAIKgAAA63AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cBmAAgyoIDAmXFxEICo9sjAoBNgIkA2wLOAAEIAWPDweBOgx/G4gdo8Ck00XJ/hJTkZHuCiSwG/ACwHIBbXxBgU1MwBBCMQwAHgAwn0DB3jn8Y0frww0AAJAP4ab/7pIcIQJBq2ZIzeZCZ3Tf6ealX03bfnHnf12q1rAs/WMOLM4c10l6TE2/4RsJsOBJHxxnmLqtjG3+dwf7fWs6G0CazAX2C12agg3CQfN860yNbgDA/6ft9dsuSoe3ucoL0NsuM4YN6VPCNktBramoXdTbVUcbZjC4BsFxmJ91+/906nonl0calrx3RXg70DhaX5Lru5MprCgkFxV2WAnbLiFOGKStADx2ojVd965jDcZmu1XiylmBhSihTv/7JQMgAPBCxWUvA8BTf+V2AcDS8bYoUHo9OQYBoD76AIBD5sXJh8ghFGRaL/CDhm+/w+N0r2yYRjWifwhwg8DGoHAdd1c0cHSUw4xHs3RxCzWcgwW4Apz1NMPB40wAkdDAwYBopCALI9iDfbiEPkXf5bjY0Dg56asfAkQq6eRkZGEoCVNTTPryh/9Wj/KJdy27wVFHrP+v6b/c/9T/eE96M1MLYxkuSSEMKaQWr5bGyvUHRPHCZTsxkL3Xifr5CZcgA6oJ20kBtqga8INC9hZAYJvmWXr3D7med7D150R+m+RjudDgPECl/y9SAsGpnTQhgCNQm40w0BIdAqLdC4dCZ+KRBbzzeUw2KZ2fzve+pGChGfoHdC9SoPrYiGIro/iYVVMY/RnJfsWjiexlJNlU6BGqGlh83gBpkUqARUczyRIKUaG3ZPLMGojN2cAinefscNBc8NKfCUF3EgJHGMe6WzPEdXgYT7l1VgU/KlKuGB5W4M5P4eYhKl41GIG3GFuzo9KkmnZT2Wn6vZwsJ2jV67RlTYMUpvU5AtDp4xEhsVDmvh+OJsCxh/oXkADiIswdHVTDErKe/uPJV24/1W6OjyqzeVMiRl2adB4fBUFvRg/Bq1IJrRFrQOGlaD7EeUqQpBSJtiSziW5TLZt8cGL9rPi1kbP6iM+xEdrNqrZHynMEHEc5Ff5IobGQHwVHRaWhD6a9mWMAxJVQ9O1CfKVxzKgevMJqXscIoYnD1D+eApYvDYMWDeMDDBzN0fDuIFX+e5bvoD7s0jHh3W56tx/ia8LOZhnZjIp83aHT+Ggd4kWMNgOFSqzKHau1QWomONlJVXAmvMRBtVBloXkwiOeoTRKkj6JypLkVdMk7XUYEUVM4ymumgiw2gyh4GgmR9PQdWDCpCDUcJIwcNUfmiMTAjSoQ77dWWKEc3uIw/m+OWXbY5nZ2rKgoP3ZsqMREdoGiIIFDwQKPQgQBhQoMhQk6FC6IKELQ15ECtZCrk7pCP7Y09HtdR2KCavnDUbiHo2FOYwCgsQDQOABoPAA0AQCaCABNAoAmA+BMB++6GcoILGiupubmU1X4iUt6X+s1mSDDkjF3siAtpQW/9Rs2hoWfKHajFCdbNTWRGlnzKpjqPI1B0LhVcqQSIm5BLvSU1yvIwwTyUcGeIbZiiPKj9guk99Q/t42aa6qPnHyo05LXvwlov+EUoL3eOYXpDIiepm2lCJVS7a5aLQH36qVvBt8XG1qvNKb3MEM4joXGVK88cooBavByleJrRK+Pz4dMlrqhnJVK4qLUbtIEz5EiQYy/68Wrl+knHawNmkcbzlorx2hCVA1xlJdpiwKvwyijCGJH+hqoljOD0/4szqDaNw4r009QemtvErxjC/1RK91YQOUpMdhi0VK1iU7jtZgGgvS3oCnE0qA1XGogPtSdCa4KG392StvvFElCcJDHug2nLMxA5BjtXAAqAk3xcnFB7RVpWrFJrToLTcCxEwuqIm4fE88qbz55ZSWF7L2KVkT+kpwK5m5VCysfzUGb51BjWiVMrcS6Wuwldbmtmaby2KkKm25nNdWUoZPPXAOKbYEBtaDEDpVCRxE5DTFvAl5bMq1T17sckoWOVdDUqbWNoq7velQxIrEb/hPLngd1h6nF19n4UVXXMSHzxxoE4Wi70BgTbKW0YX5zcZNaHZiRI97BG7Lekj93mqOsLagw1nUKHKMVFD1RmxW1uanVYuBAWUe2oyv6aDsGdGAE1b9wp2BQFycB2g0JrCcZNwi9MGd9ADAHAMwJXCO4AMwNAOsHgA0A1wmDADYEABsGgI0ANwqjADYGABsHgE0A1wqTADYFAJsGYMkKUCpittLlo9KyrcJVfHVfEue4Gq3xlFGytZDA11kAvh5wRhv6l7ONFwl80wLANwOAtvSvYFsvEvi2BYBvB6DQDvzUR0JfnBqJjxEfcOOdy88T0ycrMD+DqHGjA2EPXGiGTiaU3aL/JZSH59jPl9URI0RABg7dGdCE56PC7WKw2N1sTZz5IhkZHBTMf02yIPMumZM8Xqtkv67389ElMuv+YNXraUGyH17rG+/Sg863nP6pM1bOnp2Wbdf2fDayCK/j3elXkq2Sb8E87P7C4zvPzAad/c/13uW5ayvn9L/xp+NP67xnjwrJI8PjnU/57AszS3+73ib5W/bb/J7Fv5xv7SGqRyHyHg/L3EtLrvMuO71tNrtgX5j9+6u/3LfsPnvoncvDllqQbKuF3bjTPclvOM655PDmJcFvvJzzpLmKNWFx0XnupUcvFkP8sFOvLfFjwf7hMVq2hXsHbE/t3gR/K0TazGfK33BY80p8U8KLs24Yy+7zP7gHXF92f1lSIheR74du73F0/hO3e+Ij2Rsc7Pte8o1/KIWeNxY5u5y07H5anivzTosNd8pz7qvlCK9j9ufmfbUl11LjXZLPccVMrtmfaduz8Pe12ez5ayrWBbvd7fbMylPzV72yjJR8m0jFIzOvtOfplz0qlnkU4iZjH8i9BsLwu96REXivEbYx6vGRUG129H3F0PNZUn+kPSnQOk+IDPlWzbzbXNuCbSon99ZcMe31GzhnVN7yoQJHZhnr2rmd9WSWOg97aDkvysnx1z/27AM1cxVVgS/rPvn2enb93zfPOiuxzWCknbKU9Wzfwbozy74Jo3FK/L60PeoAEyx3yh9JPEku/CrB3KYpROo5sj+yx/KLY/BHc56ct5YZt90J/Zha+TLET16uZBWPnycHpPzavATf4I80PxnZc3Iuofyn1O+vNH8khjvXV6q5ni5LvPzmbeTiWJJnr6m1XoKGGr3cMeGtj7+Lo9ag3G0fSgX1Sq8eNdDk0zs85wnH75FOo2aiJ3NOjjZbRvJ00GCU6w3107s6U2LunNIOio6UDXuNTfUyDNlteCGbUsvIaDPtf4CaNCYWnB7ZoAiGz0aSds+YWlwKjKiK0HascrbNTCWoEsurveCit2bDcASqYVRcppbdMyNJnxm0PknH9AWT2Zq/J3gOZJtR6cyrXt9x9M+NkvvGQy8D2YrgOf9y0cK4wRNrHPem3pu2tm+tg5DcXOHx03huunaylnNePJMmjnETUfmnp24xJJWU3dKu2x8/EHL2U0WX//apkTsmbI+9Nv+IfMvgLe3MmzAQcsZS6OHY4MGhAufln9jvAycmV8839JQ7CuodFNwva+WCRseqF9o87btVyzNc1DOrrQMKu5eJsc+W5iXbFGac0nSehkod9DHqww2s0iVHgh2gq2SmuF0vXpmuW2zfT6avW75qsdykqUQVv6j7ooZdi31Rqzdowd9boqZkutfvjIzUf1Fr/bJOpeQ0q+mmTb1ft5i+bv26DfsZpsmq4qtlBgB3Mp6AZqfdbqLkMcjKD9LDRrghahBHeAx4YoBLVJvVwdkozJJPzlFtPsgsMAXRdwpMHaZMo0zlbeHp0oG9Y8by3/CN+xL4W88du2jw7/5/W4WrhesAiJ8I8QTw2iOKYVC44u8U+DYh+N9jEWH4m2KDdACOKeiHePVmjeWtKKIa/jBxsSnT73EQ7JTkVOGKwL8YBQT4+0CvfJibaBN+h0c2te+xHxGjJB2IxjQvixCGbs7goWvY9anmEhcpdmLgL6kd5zmEQEaAUOhIGOEQR9YRHhZyNxEQRWXCYKF9RCWZ/JPEgFCWSjTIbKQtE3TMAw6E1wM4hwGAENjxBaEwEJlwaCRxhEciOUoEVJLnCUMiTSMqHaariAH5wq9Eg501NGuCgT12jTjX6ixZs/SSwn+LWnNrEIeGvjuxaLTICxeIo6NmjTNNo/mUOeLD7b5Jr1QtSq30ewqWg0/toMWp23NLom66pdWlYljN1yAOw93JvVtRCBfkdGkgyzWZnHy4XW1WeilbiFK4V2jgNMeC5otn2wa9I798yGhfSCLa6p1+fWT6ixIhepFSr9lT626ry75BK0SjlsGmHXqJas+lKPjeKWS5q52Uldo4hm8/aUuCWIawB2w9EzbLo5zQ+dJdiFWMrdUieTP3gY26Z1CPtRTdlnRYHSjuKVkTrrZOtwYiGe0D8wx7bpU24ryAQySTNb6WYxdbX/4GytAPFoYp53BeXqmgT1JbB/ZorTMGYeGqKVbFdTVW1N/ou2hOOMiHO90UHZAC9Kgx4QmahyFdTXoGd+hsVZerdKY1wxZSTyKQqDe0jLhhl7cAPcMhtz2BK7q6MrcewLNuVq3UVR9yYz+MnrWq5CoISxPQAK57BZ0+IFhFHhyZ6adenXS252lEYx1oYOhOrinarXVHMvY0Er56wbMrD+PEmv1VKqweLIhVzpFVhZ9yMG7T0drUodDT2q/iUs7Tqu8tNCt4I0d2oAKG9ynwhHMa2Pml5zmUdjHWrJ3xAi2BL6DRORmXZaLeFGSBVZns9gGeOzIp1YfYjX0YlqosSMlXF+CAusFpQ8DFfSFcnb4C8p6nmLu9IHC51R076XRT3wsQPF89CAGHXdgKm1iVn5XRgVO+HgQnepj4MfmhOMhQYD46PvHbn6B4E28RjvC4kgiEER0RiZ5IRCYKUXU7jA7D09CsPQnjFdZNQXk7nwZQ7NpB392+p7azYduXO1LSosurqwv0vazxStw/PdObRkOO/Ksp/3lWdkditSMhdT69eMo/AvSWhUP9jcnf1z96Spx5uDU8fTE6nhz/E15BeL8vcGw01CepeSQl9R8JnEbk8BjKkRCdvgAAAAA="},function(t,e){t.exports="data:application/font-woff;base64,d09GRgABAAAAABKoAA8AAAAAIKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAASjAAAABwAAAAcacggPk9TLzIAAAHMAAAATgAAAGBFuluAY21hcAAAAngAAACkAAABqv8Uls5jdnQgAAAJLAAAAAsAAAAMAAAAAGZwZ20AAAMcAAAFqAAAC5fVFNvwZ2FzcAAAEoQAAAAIAAAACAAAABBnbHlmAAAJcAAABXQAAAfsNmC19GhlYWQAAAFYAAAAMgAAADYMVNkdaGhlYQAAAYwAAAAgAAAAJAYGAfZobXR4AAACHAAAAFsAAABsPQX7mmxvY2EAAAk4AAAAOAAAADga0hz8bWF4cAAAAawAAAAfAAAAIACvAGpuYW1lAAAO5AAAAx4AAAePIclXHXBvc3QAABIEAAAAfwAAALpRo2QycHJlcAAACMQAAABoAAAAf+LQSDp42mNgZGBgAOLjVm1W8fw2XxnkmV8ARRiuTfRWgtG/Iv54sS5nXQXkcjAwgUQBTLkMEgAAeNpjYGRgYF31x4shinXJr4j/b1iXMwBFUIA0AKr+Bv942mNgZGBgkGYIYGBiAAEQKcBQDiSlGDhAAgASAwEaAHjaY2BiWs04gYGVgYGpi2kPAwNDD4RmfMBgyMjEgAQaGBjeCzC8eQvjB6S5pjA4MCi8/8+s8N+CIYp1FfM2BQaG/jhmuBYFBkYALwQQzQAAeNpj+MVgxAAEjL5A4hcDA9MDhotArMQiwmDOJMDwHUhbAGlupncMTUDcDFLDuuT/H9YlDIxADRFAHMv8giGfyZ3hGxBzw+l3DHVAHMeoAzQbiBlSGBgASjgYwQB42mNgYGBmgGAZBkYGEFgC5DGC+SwMHUBajkEAKMLHoMCgyaDPEMtQzVDLsIDpGNMdZmYlKWVu9Zfv////D1SnwKABlI9GkmcCynOov3j/F6jg8f87/6//X/O//3/f/5y/7n+N/vLe/X6X64aegDTUXjyAkY0BroiRCUgwoSuAeAEEWFjBFBsD8YCdgxOvPBcDNwM1gCCE4iFBCy8fjAUA9VMoWnjarVZpc9NWFJW8JE5ClpKFFnV54sVpaj+ZlEIwYEKQLLvgLs7WSlBaKXbSfYGWGX6Df82VaWfoN35az32yTSBJO8OUYXzPuzp6d78KGUqQsRf4oRCtZ8bMVovGdu4FdNmi1TA6FL29gDLF+O+CUTA6Hblv2TYZIRmerPcN0/Ai1yFTkYgOHcoo0RX0vE25lXv9VXPS8zv+9v3AlrbVCwS124FNm6ElqMqoGoYiSUlxl1ahGpwErfHzNWY+bwcCTvRiQZPtIIJG8LNJRuuM1iMrCsPQIrMchpKMdnAQhg5llcA9uWIMh/JeO6C8dGlMunA/JDNyKKck/BLdJL/vCn6SGudfMiK/Q9mSDb0neqKHu5O1fBFhbQVR24q3w0CGeLq5E+CRxUENLDuUVzTulftGJk3NGI7SlUixdGPK7B+S2YF9ypccGleCnZzyOs9yxr7gG2gzCpkS1bWTBdUfnzI83y3Zo2RPqJeTP5neYpbhgoeII+H3ZMyF0JkyLM4mCQtODr2kbFHG9dTE1Cmv0zLeMqwXoR196YzSAfWnJrN+YFvSDku2Q9MqyWR86sZ1h2YUiELQGe8uvw4g3ZCm+bSN0zRODs3imjmdEoEMdGCXZrxI9CJBM0iaQ3OqtRskuW49XKbpA/nEoTdUayto7aRKy4Z+XuvPqsSY9faCZHbWIzN2abbMTYrWdZMz/DONHzKXUIlssR0knDxE6/ZQXjZbsiVeG2Irfc6voPdZEyKSJvxvQvtyqU4pYGIY8xLZQjdt9E3T1LWaV0ZiZPzdgGalK3yaQlNOIr+RKyKY/2tuzjRmDNftRcnZsTI9LlsXkKYFxDZfdmhRJSbLJeSZ5TmVZFm+qZIcy7dUkmd5XiVjLC2VjLN8WyUFlu+oZILlB0pUyHzgUEmDhw6VNXjk0LvKoOnya/j4Hnx8F3cL+MjSho8sL8BHlhI+slyGjyyL8JHlCnxk+T58ZLkKH1kqJWq61RwFs3OR8FCfyNPlwPgo7reKIqdMDibpIpq4KU6phIyrktfYvzLQSg6tjcpjLtHFUpI3F/0Aa4gD/PBoZo4/vqTEFe3vR+CZ/nEjmLATjbPeWPrT4H/1DVlNLpmLiOgy4ofDJ/uLxo6rDl1RlXM1h9b/i4om7IB+FSUxloqiIpo8vEjlnV6vKZuY9gBrHWsRE71umosLsF/FllnCgOC/ptCEVz7oVaQQtR7uuvbisaikd1AOd4IlKOJ539wKnmZEVlhPMyvZ86HLO7CAbSo1WzYwfd6roxTxHkqXfcaLupKyXtzF44wXW8AR76BX34nhEhazbKCGEhYaiAtCW8F9JxiR6bbLYcCR+zwaKn/sVtzIERW1E/htp1vuhS2U/DrnQECTXxnkQNaQmhtaTQUMjxAN2WRjXK2aThkHMMiosRtURA3fRvZ4oBTsyzDlY0Wc7hz9+qaFOqmDB5WR3MY3Bx54w9JE/Hl+NcRhKTeUFBXOWgOLuRZWkoq5gAG8NVK3j6o3X2afyLmtqFo+8VJX0bVyD4a5WeDtcQ7KUqEKqN6ow4bZ5eaSaPUKhiS9ro6lgR3+Gq3Y/L+6j93n/VKTWCFH6m2HAx99TsYw/gbHb8tBAgZxjEJuIuTFdDjxdccczlfoMmbx41P0d7BzzYV5ugJ8V9FViBZnzUdeRQOfsmGePlHcjtQC/FT1sWcAPgMwGXyu+qbWtAG0Zos5PsA2cxjsMIfBLnMY7DHnNsAXzGHwJXMYBMxhEDLHA7jHHAb3mcPgK+YweMCcBsDXzGHwDXMYRMxhEDPHBdhnDoMOcxh0mcPgQNH1UZoP+UAbQN9qdAvoO91POGzi8L2iGyP2D3zQ7B81YvZPGjH1Z0W1EfUXPmjqrxox9TeNmPpQ0c0R9REfNPV3jZj6h0ZMfayeTuQywz+e3DIVDii73H4y/KY4/wARbE1geNpj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxnYnDYyMGhBaA4UeicDAwMnMouZwWWjCmNHYMQGh46IjcwpLhvVQLxdHA0MjCwOHckhESAlkUCwkYFHawfj/9YNLL0bmYC6WFNcAJhIJBt42mNgQAAAAAwAAQAAAAAWABYAFgAWAFIAiAC2AMwA/gEUAZYCCgIKAjQCdAKeAt4DFgMqAz4DUgNmA5IDwAPUA+gD9njarVVdbBRVFJ5z7p07+zO7szM7s9tSuu3utlukSMv+Fdh2q62N0lKBSg2hUrRBJWggKhCBgCIJRkPkBUmM8UF50AAvRuEBLEoQY0gMIfFNCA/6oDREqqHEOjt4ZnZDmkgMD947c2fm7rfnu985554roZSVJOl7tCQmKZLvlOAgYWd7Ts/pbTk9nT26KZtFqzKVhc8lkK7YQzgpH5cSkvhCR+hsB1NJt2XaJJYp5LsMKPZCLmaZikA9EjXiMZwUTTyxzLnUoSgdUFyW4E0ieGHykWd+CdprmeB1PTCK3at3bh/BEoz21HHBuHqpcs7Z4Vy4KzlHbqq0OOJNEW+YeBuI1+TE2xqBfLEE8VhcirqECEKDdCpTKHZJcNLZ6QtrxAtFl9e5RLyapnSUoPlvVg/v+jgROycqF0e271hT+dY5QcTc1zEMb7pcXfYQu0pcFnH5JeKKplxxRamrmMvGFMEEOUoRa4IaMLYV5Yiqgzjc5Jwfc65xxR4yAhz9/lamGkHD2T9in5y2b/NgVccd0sHJtkK2wbOtJ620nrPuQOjyZXvIv7F8p7FcxS6trSNO2HDV1yKdastARmrDQr6Yi8VjEJPiBrsaCWgKd66NOeebjkTUEMUwPQa9Te/bLwQjQc6C02ztCBzyqWH0c/v2tH1yxHnF4wjaQ1BXWw8Ddz2FpJ4s5PQghJw/L8svl2c+Lvt+9rBv0dq3EHYVYZMuFij0i4Euhu4z05bJl6Gr6PaoQQPlQpxCQ9lAPUwod1TCqEE84V5R0yIJ7u2OFm4RifCzuw0ZqKkTAyoAcl/vkmLInZBbL0YSAgMt8zZSArgT2vOrmKqgXx/dGnH/w8HcOK8lgPYaIRbsHbJKoENf4Mn9rQpnpo/xZGngqQD0gd5tfTCqCC2CyA1zxbi51PndudVtDby+EMlzzL9w7xNWtzPdOfSDznB8hWlwxEg1JgdqPnicfJBxY2JQFmJVToObjTF6sUySSZq1mmQvMXswX6z6xqg+ej2PoTu0HZBVOayN7zIE6UB9c2udwoDLyxf2a0gzwtg1roUjgiscj9YDQigfb32o0zTPNtBH/dEwygcTJHrPYLzHueV8E9759PwgF6EAKW/sWLEh7Hzt3OqJD+5ZIHhAEX5BoR45pOP2yKpHGxPN9f7Ac8d0fE0/NCK4p/OujXn5U8alKOkMuPuNiZZekHnO1CDVkk7JnHY9D8CWM2fgJeqcy5VuzpwPnY8Y5zjGRtsXrR2FaPRgf380WvUd4IT8Cd6UWsmm4uV+W9UluaznuFguS+9xL11Snlsy6ZQigoEJ8+1Xc8tK6vAb65c/3HVsxmKBHccPq+vV4f3rly12J3AiyZrlds0HvtZ5PmW1kpTTBcofJeN9efyz6zAvsbma4D6aZtfNFcUrpf8SBbMbcOKuM1cTPJCm2Rf/F1EgbbMHmU352Ej8DVGXnzIq7+VcpgN6IZqvVq24SRUrnYLP8CdoVnQuCyW0cvgK2ChUoULlR84s1V4JHIHlg/OFIvtCu3fZS5lvsxwIKL6Z77jf5Zuh/C8Rnzy3fiX1GRhw/vKq18z1e3VldQ13r66kqaoMlL2a4k9Wc+I+9nJkcaYMimtu5nqtFv7LHri4Ahhl56z9jj9JVcrD7bMH8T3CxQhHhaSzvasQNTwPNNJmNBtob7pxYPumbmAwEtJ/pWbUaXjjDx0HcZBrRshX+apyTlTOVSb9YV3jOOjaHad1bqvVYrV6JvRA1MgzdE8GN9hkmqEi9ibI4m/gN/Ug3piamgKfPZTwYz/2CezDx0KIMY1XTldO65VTlS9Bk9ATuEjaVDt/5er5u6SQs3J0b6o26YFx4OII5eJqPl1S/V36By9tlh142qVUwU7bQBAdhxDUICIQEof20JWQEGmDEwcuBIQUQSMhEAiCEIdWaHE28UJiR/YmAX6i16o/0i/oqR/SH+i9fV4vJUFpKcUre9+OZ97MzswuES1YObIoefbps8EWTdNPg1M0Zb0yeIIWrSuD0zRvfTF4kl6npg3O0HyqbvCMZae/Gpyjl5k3Bs/SdOaDwXM0lbkBs5V+gdUn7SXGFi3Qd4NTlLOmDZ6gmrVocJqWrI8GT9KW9c3gDC2l3ho8k3qfahmco7XJHwbP0kLmncFzlMtI2qaAunRDIUlqkUeKGC2TS3nMZSphrNOKRg5eRjskKNK6PlZ1aEpIfMyCCpDsamxT9lFmh9aA9vCHa64q/nFqgKcDK9oOujehbHmKLbt5Vi6V1lfKJafEdkQkWz6ru1L4riiwXd+1sw+VnTW253GfVV3eEB2w7YH6BNRndI6gJd0Cr0LMT8TZeV3eCiyOIWtRj9rQDbEUrV6bA9SwER/hx3MIDaE3YOt0VPQWxnGvPOSrBb6qBWFLsLJdYhU25Hvlt69/5BprewqdUBcn0Al1EKNDG0AKownLHuYACZd6P3E5+lprFUWhUxFGMvCZYzsbTKkm76nAkz5S2nfs1fzzYntamxWe0GgxzyYN9LDROhzcHl1ivsY6qdgW/Dy3IUf9XBktPqIz7K8AjwN4iqNhOkeRrk8f3wYkd13F6AAMHd1V4zMcH6Ys5HHdohHLOlATaKAzHzMkGm3Mrs5WZLz1gBvaP9MRCW29i+uP0SGyIvSO75n3RxjifI/vLnskslG/DFH18UrdGRf4xrL7nHDtsUpHGiucpayuikI8FSpiRGCLq9WFLIKvSHPdZbmIyGuI9E9XRWHsXcGWNweDgd3hyrvk1zYO5Fb+sfvD2FxBxBNJYlfIDqTy2LGIRNgXDRYfcXbAO2L4cNvZ7Ikno+RnPWiqAQ8Fg6AtXeFHMOv5DREy5QlW391nh13hJ8r7iUKBDR1NOyEztoz3uWzzi7ZgOhLOatUjxlUl6ynVrRSLkRvKrorsSLbjkIuHNeTrv5L8N8Jn3K6/ALc7emoAAHjaY2BiAIP/zQxGDNiANBAzMjAxMDNwM/AwCDHYMdgzODDEMSQwMjHcYLjJyMzIwrCUkZWRjZGdkYORk5GLkZuRh5GXvTQv08DA0QBMGxsYcZZk5qSkJufnJoFEjIwNLKC0JZR2hNJOYNrc1QJKg+Vd3dxcoLQrlHYDANf7InIAAAEAAf//AA8AAAABAAAAAMw9os8AAAAAxvkyTwAAAADWkUsf"},function(t,e,i){t.exports=i.p+"882f723427a0986846fe786bd8d6f6c7.ttf"},function(t,e){t.exports="data:application/font-woff;base64,d09GMgABAAAAABQMAA8AAAAALBQAABOxAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cBmAAg0oIDAmXFxEICqMImiABNgIkA4FYC24ABCAFjw8Hg0gMfxs4JjPBwsZBAITeQvZfH3BjGOig/jnYMC4WTDRxhYO/GkVRKtX47uS+xIKBzbLyze/B/ez7oZT+87StP/fNzGOGIQYQC1cR1miM2kQbdVOwCjarfqf7o8IfkVsp9I86lIYxZS9P/QWSt7JLMrWcsFSUQ8OcYfY2nVwe1KlWy1LySXIJ4Os5NJTxXuCxN7ZfGjB/CIYSbd/+Qv7DFsJ/nz/3N6ZUpsP8yNyme0irthvI6aHuCAC/bOpz5nJ6xxSslF7wL7fMRqzRAhaMtECcBigLe/t/Ost2ZnQThg4VhNdfFcCu1HxJPs18+WzJu7nIXpIPtQ7JPtIu216ww9ghVajdAFPJWIabMlUV+N9svrx2+M4UIhyM/Gdsdg9XoVfOtTbCV0LcvMh3GQABwDtDb3kfAF67UjYKAPp21VrABIl2QgLYZvYMgK3hjdP3yCYG/4Argf80/P0PXs/o8RUheOH8r19QfxHTwvvEH53Ajg4BD+gUmRU8N4bAQrwCIUqLgYi7ACTC+fDmcDiRgiy0YwmW4SR7jX0tCK5ot+q+3/1k0h/f0w/+//plcrxyMrLQmoeyjWX3kfjv3+OH0f/dGL8XP/naZ+6zw3ZTb1TdyLlh/ObSgv7rJV/P/rzUmR77rVZAZaJ+L3FkNDXSliVazQMURGl7LnH4F18nK+wK10MFXAvOJQNwlkaLasI3FKQLBGKfpHf/YBrzDn73OZK3R/JLPtUceIb59F+uZASP7LByDjSDMusWEMpy8BA486mHoWPxwuZi/XlJTvqy/qjf/hKduWpuOmb0dXR4XypRFB1b9JJUMoTTMcnn9kkgPCMfTy7ygpQEic3lGP11zBfKGa/0ESsgBfmc9JZVUKRkYHQ8SckjoF6IPh0LSZsRyQLcguzJBGWPiFGq1nGRVkGxVs3wkgRd/RHC0sUdI80RfyhF8bQTmpS2FfNmNW2naCkl8N7FmaoaZAu9N48EOt1dwNQi+fHLsWAC7jDBVqfQN5SRlh4dknCAqqN/YtWj0mW8OSUXcsceSGbRDVHWhztO0WeioHhXz+HhKAyUIXpWP7uLEUwt+XBo8gSce3h1sxyC29RVf3LUoh4DS5wOjmaNWxDD2wjcYVEHQkV0lbl0x3mMFNaoIFQ6jwkoSxj01hO7fgsJ4wkdS421HjNCU0ekf2IVFPmuYVLW3HWMyYJ5NN7txiL+dOkaxrWdeSy824rvdq54lZtrtp1bKTCX7TnmenioBMyRQBnMQzE8U+NM0KYJwTdjUVyE6GE2LdS50tIZVA5ulQbZC8xXMrVCjtTlGFPHTM0Y70EKsGEdJDBsIZl2+gTYWClgFbsRswX1qBbQG+gKylD5rW2swoTSMHf9WztpzIvqavKEUWC767FTKCThjJEIJpBIJpIoJpFoxomD6UgMk8kApsySgmrow5M6Jr9aGvm7XceygjHo0TgaS53AZDwA0gWAdAMgBwIgEwCQiQDIJABkMgBOOth0M5IRz2hZrR1ja4oyZdJd7XeTCRlBxtKThTTKCmWbHtk9rPlU0Y16PR7TpNEmWcsiJXsf70HQuJZsrTRIWpiD7lO9BbmsQBc1XDQUNUNcGeG/4P9+uuf2qOQk+x1PHmo0Uv0jgbLpkSef+mLjKcgWQjrK+jCFFFaFX1etEbidetmbefOVRTAp3tOfYoIsLAWJ7OfueIoA4Yj+aCanoujuyZxpUjPzmVacVFA97ReihRxF0XWrr+69iT/Z8bqzqkeo16NTCCZkaXbnvJk2ZET1o2OzoLjTpzDlY0PQdJwUMk3VQeXhp27+5GQSYm2D/aRxDweYv5oCzjJr5NpAF4jKYYjk01PdDIIbtAZdAvHibg5wY8SUk2dQ+x2pG6lGjTWPPIOvhcgW4p0BqAkshUPUBdLb2kzCH2s15qqLzFxUNEbdHveTljfvvJaRGjqvbRVBr9szVPh8mUXlt+a6zcuYsX8YplpjTzRsRzWpLpkp7K5n+LW5Ntt4czZOv+YSKIoKY6VQHHOt0FEE0QbsARBVkxmeMufKaBY61oqmRrU9qur2XU6RWwmhG/4vRscD2WFo8Rq7f4y1dadL9FSFIjJtZ5WdzsZ2G+Y1l1a59p7pL7gF75CNmrylpzou6aOAwjbIP4Q1UPhKapMI7021hpmAPfHr6IoetavYCBag29GRjMgopAs5GibUmHTas7HAVD0Ayg+ACoC+Yg0A1QiAagJANYO2rAWgWgFQbQCodtCBdQBUJwCqCwDVDRpYD0AFAVAhAJaOg0EqVuOPPIZF2gQ6HCe6kmDUSyblBudUk2ECp0QAnArYkGlrDlHTtyZwhgfAmQCQWWsOVbO3JnCOB8C5AKw0j59Ki31wup9wF3mNcLZ59n4SeRgE+nokzVNDWPBCp95LPiA+AfApgCOzgHK+vrSjoMHFlIGye6YSDAtLiCVRVBb3xtaalxjh5xOid2NtHBEWkZqRn0RTKzPjY1noiSskhnnfABSOwgQkwE0JQ4UaTf8ij4zcyjcR0qUYq3U67GDbDB+UEVKJ3vh3c/A1hhqECpDz3Y658EPts8LNoKneYCSN0TawBpWbQDaBue0PegH9CEH5VrHqTSLpjHSd+5PYojINAqPfQyjoxzCrT4i4EdpOT8Y5O/A3koHsmJfBm8C6rngqPr7jAHsp2RVf1WcjgpX4o1Vyn9NC9mOL48Tfam8U2rw+HFLOnTvI1JkaBfWHQJmna23+RKweMmPH2ql9uqpLeoqaomHL4o5bcT8+HmNxP7kMqBgSr85+aXZFM/QAWwNuNf+o/7zjbZ5UhQN08qIn1pC6SVRGijkNlf7+3mWoxJ0EMmsGnyG10uYj9QlSq90BF+k6OUEvkGo0YgFUWtp2D07LU6hUWL0fof2G6EVWrjfdAzfA7UAJDPZvsyZSdSIZ4eGALMx2y/djEvJEUe9aMIbv8Ss9D5d0GS3yYhR6KKhXG07Pt1rmg1mSGieBK26PmHzKfcpl5cKIMgAH2IqHqjpSzzAhkt9Rqum/bqddPhXrEb2S4/iZBV5ny5O/XXabdJyfMojcaovCwyJjCrJL3mr2Xrm71OGqAMrv/ARjcRuDGo4Rl143xbEVRrchcypWlJhGNdo5nj4jHWc1EVI258IfIhusTpG2gssUsU4ULI4Xn4dQyzWQzgoGMGRWdjpplhLOqVFbUigb2sROLCSi3Eh1C07j8lBLC+K7DlRChzpJPCB1DAmPzGylbleQu1WTQ0hM3JwhuN2A7KbDIts/jHZOpQRB0fRr/sNDKDjd3ZxBqSjOtHWFdxYLRdC5lHUm1UT6DYZZuNCFb8Uwzuj2365VwN0WA+A2vYdYvauLaZvHx/+bH9pRKArbZ7Jeep4nTK4SR8HEV68RUZJlQW7veozAMI1klFk02ieMbFX04Q5HeG8Av53VWnAi9s7NmHtXyBNe9nyPjmTst7jLNVYm0+aS7edh8al4s6IkBF4GAMSgp3Hhm1hGDDLgtWTnPJwjZ4U+5QHNirHTHvn72acf+WebS7NYAvyjJ3/pKpo9LykZA+MbxFn4u4pNNmZ5stAtfOSfaWN5l8QtekG884O28DUbanxuuOHPUeTVv751JNppIIF4Rdoy2xbNYFHHT59rn/wA9ck8319QE/7ycWF9r4EMtim2eJF+rGoxaFvYqsTRsM2Xl/OjzlP8XwXiI5cMqZjg8RlaHduxMy5jibWuZYU3xVJPLpFLoiRZWbwlV/OmtKyw1i3J0LBzm6Prcsq0ySPl31viAxaDskc/tnnOt1KVvHaNrF/RPLlm1MjEW5fN+eH19SsuPxxlga9lpxI8tkcxcIU/ryUqqlb8eNvKTufG+hTHNtTDV2ds6N5blW4JUbikSXbyx/ub0r3X2FAHH8Zud6TUR05u8o+rSSg2WwMWY2J9+pSWHv1aec26R3lxw0Rfd82vutRunxsDavta8p5Jx0dmBu38ve8/nmJgg9HXw/Usf7TCPmn7qPOTzk/bSJnu5hKBJ5zLz46o/tynTkpdkTNark9JPNdrDfd7bSIqMT1WguK6/ER+hfZl4b4hkT51QmpNTCDSnpua/GivNcp/TtQKcHeRPvtyb/pNHE7hza4flgfz6tdx6dYe7T4MVb8fbMaAwzlUfg8H7Hk57sstrMaou5vrXF/tdSXbDYyZm2ufXH2J9fv/RO3Buv2Y0BJq6iQbTfW5cboT0KnKd2TFwj7m9nHr2oM79GX7LvI8/+qAIB57y/nSf6Yr7Ei80+HR0sq0Espl/4b1SULkus8nLoCVH5VJcxgLnE4Wtfj+TJarlav2F0ik8S0bed4jS4SAxYYFE6ecbn8/7rxQmEvZWnma5nE4z2sfxh54ed69545xOr9AtaimLNu8F3dRKNi0RCv7nZ7TPnbMuaNq558/Xc3gpWL+pYVrohSh+epPO/+8o9oxR/vgQl6pVlRI9SnxYWuh07X6deCP8uEt/hY+bM2Z9E+MZzHP9LeufK6L93jWHv2Zyzx9zZpmJAPBurzQHeYQmTl1h6gWJ5wl4UxqnibPQ/3wj6w+tXdHbFnCazzSv6HXQMzL/OYPWX+0c/mwsc2Fn9fPXTWqfHV+kM+Q/3hIL5I2MfUT8fWfqpk/ubGXwQXW21Q64V2+XP3zJ8bTf1oWcN9+pL72UGpAalN6B1CuMy/1jEBncF7Vefs9xtJAMAAbX5tXU7VHMa2br/NwhH3sEHH9udVDT/rt66pHrhgyg0+Q/3lUrdEsftSzOHd6q41sE1RyD66aaM2KyuORxNfK5YUevkp8+pAJI1aur75dswVsFgSCI/JCd5qCREOwjauDEs7YeGZwAgKWsd3c4KiPHNG38ePV/rv9E96pO1x3pCd1waQv9p7FmaOKYTnfcsZ64ZuLi9alH9NM9kGOpsSue+Ds5xdsWXNpYQ9ZjyGXb/v+kFBGnw2rf3PM2aSYornNYS9ejy4sWC98W27gQ/xbY/S0HGRzu+ce/mzd4Ecbf43+dXj+tMOnhls+CbiX1a5dUT1u6FJZ0ESLnSaSXbOunMtPjy2qst+a323mR2JjpGx1/byqFdW1a5e5AxZzd/5vi/3lSyK+HqTZiUdUzpa+dkaSp4JDjbmxw31+ef5u/nGdiPzy897ZaF49u51P6ue2yyvPvJbPLFauX3jbQo6Q3yrv5v25MOPjXCQwT9qjJkYvjDR1HQIa4zRB82DmhaY/0wF0OJ0qlDtTgaAZT29mL9MIpzPBG8ca8NDsGMOmG9l0MwnrsE6EtI5NRhUoeesqzGTrGES0sWmyyI7HJb1kQivG/obzSPhw5bezO81DLiBO+B34M2y+y7vPy7uuxeqm8z4A8vekZQTwvkMfWnTdP2v1/17/z6PtCnAVOSGNAA4RhEj88zQ0XryJIlZFxrAKkpCInYD0Pl13/1l2AQZc3iVP0Vg2g60gI0dDCi8nTCE3BNXiFHqTXY4doeHMA8B0fcIiWkkH7sG4g0EoOjFDrNz6tN0E0cme25pe6v89d5HJndgkHehAqN2LUYBGLcDLcA0LAERDZr3hZNJFdx0OH3SCin6dQUcOXYCbpugibPSklNqTVaFz2Fi9bqRM8VXdhGieqmtQefsjWaDjiyCARAXAQQEAnRCO33QGE6m6gEpy6yISaYcuYRi9rXMksjTdyNrYBN2EPOm8riGcVzyoBSZ+E5JcaXUWAquUHP3DMmktY3M9KB1MIrnh1eIai/mkn9A8EMz2a7EMD5fMpFyDje2o8sQhPvTCQBbr/8C5heTq3SJI6RRLdhmb6+sHk831jXVcc5TSI7fC3nKGB29NmvEhNrbx5MjjwlLBc7z0J2SK/fclJ36x7eRpU/7/lcsvH6V/YqVeg4TpI1X2DYUkudXyNDQolVh6NKrAw3VDvm0nvPpu7zV/YigZm2YdhxCbm4iZDD6Ny1X+YsEwWhtsmKfoCBrMPkN6quVIWypYGnIEW8tFn2IhSuuxYTaOoDqjXlsnXp034LBhtpZpTWIXO7WyKfAoHY9BZOaIDXcq5Iex1mV7utwZ64jI1jlaaTJOlMympZEQQegHo22iASsmGYfaLV6ReRPaDUwa4NRmrbHU4FxrRo1a72ZILTVER+jF1RbQ8wQxOAK6fLPlHjzDm+5hHNfW59I0a8KxWg2pOiIjkAEoTiG/X+ByjD6QhJUufBwq6jC1SKA6yLWgFFlLyW5SiozgXKPhW2/tza3n+8RJZ+M+LB2PSpo5qavox/TGc3S6PHTY+WV97tLIKvOwWTqKOnxy5DBwgf59FbzSnHv28iZNp05iQjJvZzpSYJzFGrHsY5G99b7gAHVD8odnvHXsM7rPiafP0C9dU5FdbjbQQNLQd8Mg8bIItxcfID1MnWp3uLYWbZBOo4nSyHsDrL3dPpNDwU1XNmUDq/3Dbkf/gY8i9f2PTQEAAoMAFQZYMQzD4UUHuojhc3xBAom4nSTipCOZFNKTSgYykonMpJGFrGSjMLLTDy7vIEVSFEWTg2JoAMVSHDkpnlzkpoGUQImURMm6edMneTwlnnDmXE+OMnfS1NC44IxpPRckJ1sEXsxL5pSuUczLeDmvmFNpcRfg2TyH5/I8ns8LeCEv4sW8hJfyMlu0W1qmu7CiiJlYXOHxeKBlb56d78mc8hyeq+V1V1aWg1ekVqK2F2+MbXqYaPu/rNafeUNnPgxe+jCQyuaWr3IagBIlBJQ/PJA2jvnjKb+xaZAQSzzRU/JKkLh7Qf80QHmzn/4wDKm91N/itodZiaIUKgc="},function(t,e){t.exports="data:application/font-woff;base64,d09GRgABAAAAABk4AA8AAAAALBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAZHAAAABwAAAAcacggME9TLzIAAAHMAAAATgAAAGBG5l0GY21hcAAAArQAAAC7AAABygH7nbxjdnQgAAAJgAAAAAsAAAAMAAAAAGZwZ20AAANwAAAFqAAAC5fVFNvwZ2FzcAAAGRQAAAAIAAAACAAAABBnbHlmAAAJ/AAACxQAABGItJ3JomhlYWQAAAFYAAAAMwAAADYMVNkdaGhlYQAAAYwAAAAgAAAAJAcyAp5obXR4AAACHAAAAJUAAADYlmIQXWxvY2EAAAmMAAAAbgAAAG57nHdebWF4cAAAAawAAAAfAAAAIADKAHFuYW1lAAAVEAAAAx4AAAePJMpbIXBvc3QAABgwAAAA4wAAAcgLwGLWcHJlcAAACRgAAABoAAAAf+LQSDp42mNgZGBgAOKLzXrb4vltvjLIM78AijBcm+itBKN/TPwtx57Hdg3I5WBgAokCAGE2DIkAeNpjYGRgYLv2W44hij3xx8T/L9jzGIAiKMAMAKWkBtV42mNgZGBgMGMIZ2BiAAEQKcBQDiSlGDhAAgAViwE8AHjaY2BiZmWcwMDKwMDUxbSHgYGhB0IzPmAwZGRiQAINDAzvBRjevIXxA9JcUxgcGBTe/2dW+G/BEMV2jeWRAgNDfxwzXIsCAyMA+g8QggAAeNpj+MVgxAAEjL5A4hcDA7MEw1sgVmT5x2DB5M7IC6EZWJnVGCaAMEgNe+L/T+yJDEwMDD8mAvFC5hcM+Uz1jLxM9QysMJo5m1EZgRnkgfRJEM00m9EegRkYgDQ7iGauZGxgrmRYBaGR2QyrWBQY8oF29wBxOosC0z4QZjz0/wUQf4PTE4BYB+gPIGZIYWAAAHIuNDMAAAB42mNgYGBmgGAZBkYGEDgC5DGC+SwMK4C0GoMCkMUGJDUZ9BliGaoZahkWMB1jusPMrCSlzK28Vnm7+ssHjA9D3v///x+oXoFBA6guGkkdE1Adh/JsoLoXDxgeBrz/C1T4+P+d/9f/r/nf/7/vf85f979Gf3nvfr/Ldaf6TtENJwUduXsCZlD3EAEY2RjgihmZgAQTugKIF0GAhRVMsTEQD9g5OPHKczFwM1ADCEIoHhK08PLBWABKzTQwAHjarVZpc9NWFJW8JE5ClpKFFnV54sVpaj+ZlEIwYEKQLLvgLs7WSlBaKXbSfYGWGX6Df82VaWfoN35az32yTSBJO8OUYXzPuzp6d78KGUqQsRf4oRCtZ8bMVovGdu4FdNmi1TA6FL29gDLF+O+CUTA6Hblv2TYZIRmerPcN0/Ai1yFTkYgOHcoo0RX0vE25lXv9VXPS8zv+9v3AlrbVCwS124FNm6ElqMqoGoYiSUlxl1ahGpwErfHzNWY+bwcCTvRiQZPtIIJG8LNJRuuM1iMrCsPQIrMchpKMdnAQhg5llcA9uWIMh/JeO6C8dGlMunA/JDNyKKck/BLdJL/vCn6SGudfMiK/Q9mSDb0neqKHu5O1fBFhbQVR24q3w0CGeLq5E+CRxUENLDuUVzTulftGJk3NGI7SlUixdGPK7B+S2YF9ypccGleCnZzyOs9yxr7gG2gzCpkS1bWTBdUfnzI83y3Zo2RPqJeTP5neYpbhgoeII+H3ZMyF0JkyLM4mCQtODr2kbFHG9dTE1Cmv0zLeMqwXoR196YzSAfWnJrN+YFvSDku2Q9MqyWR86sZ1h2YUiELQGe8uvw4g3ZCm+bSN0zRODs3imjmdEoEMdGCXZrxI9CJBM0iaQ3OqtRskuW49XKbpA/nEoTdUayto7aRKy4Z+XuvPqsSY9faCZHbWIzN2abbMTYrWdZMz/DONHzKXUIlssR0knDxE6/ZQXjZbsiVeG2Irfc6voPdZEyKSJvxvQvtyqU4pYGIY8xLZQjdt9E3T1LWaV0ZiZPzdgGalK3yaQlNOIr+RKyKY/2tuzjRmDNftRcnZsTI9LlsXkKYFxDZfdmhRJSbLJeSZ5TmVZFm+qZIcy7dUkmd5XiVjLC2VjLN8WyUFlu+oZILlB0pUyHzgUEmDhw6VNXjk0LvKoOnya/j4Hnx8F3cL+MjSho8sL8BHlhI+slyGjyyL8JHlCnxk+T58ZLkKH1kqJWq61RwFs3OR8FCfyNPlwPgo7reKIqdMDibpIpq4KU6phIyrktfYvzLQSg6tjcpjLtHFUpI3F/0Aa4gD/PBoZo4/vqTEFe3vR+CZ/nEjmLATjbPeWPrT4H/1DVlNLpmLiOgy4ofDJ/uLxo6rDl1RlXM1h9b/i4om7IB+FSUxloqiIpo8vEjlnV6vKZuY9gBrHWsRE71umosLsF/FllnCgOC/ptCEVz7oVaQQtR7uuvbisaikd1AOd4IlKOJ539wKnmZEVlhPMyvZ86HLO7CAbSo1WzYwfd6roxTxHkqXfcaLupKyXtzF44wXW8AR76BX34nhEhazbKCGEhYaiAtCW8F9JxiR6bbLYcCR+zwaKn/sVtzIERW1E/htp1vuhS2U/DrnQECTXxnkQNaQmhtaTQUMjxAN2WRjXK2aThkHMMiosRtURA3fRvZ4oBTsyzDlY0Wc7hz9+qaFOqmDB5WR3MY3Bx54w9JE/Hl+NcRhKTeUFBXOWgOLuRZWkoq5gAG8NVK3j6o3X2afyLmtqFo+8VJX0bVyD4a5WeDtcQ7KUqEKqN6ow4bZ5eaSaPUKhiS9ro6lgR3+Gq3Y/L+6j93n/VKTWCFH6m2HAx99TsYw/gbHb8tBAgZxjEJuIuTFdDjxdccczlfoMmbx41P0d7BzzYV5ugJ8V9FViBZnzUdeRQOfsmGePlHcjtQC/FT1sWcAPgMwGXyu+qbWtAG0Zos5PsA2cxjsMIfBLnMY7DHnNsAXzGHwJXMYBMxhEDLHA7jHHAb3mcPgK+YweMCcBsDXzGHwDXMYRMxhEDPHBdhnDoMOcxh0mcPgQNH1UZoP+UAbQN9qdAvoO91POGzi8L2iGyP2D3zQ7B81YvZPGjH1Z0W1EfUXPmjqrxox9TeNmPpQ0c0R9REfNPV3jZj6h0ZMfayeTuQywz+e3DIVDii73H4y/KY4/wARbE1geNpj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxnYnDYyMGhBaA4UeicDAwMnMouZwWWjCmNHYMQGh46IjcwpLhvVQLxdHA0MjCwOHckhESAlkUCwkYFHawfj/9YNLL0bmYC6WFNcAJhIJBt42mNgQAAAAAwAAQAAAAAWABYAFgAWAEwAhACsAMIA7AECAYgCCgIKAjgClALCAx4DVgNqA34DkgOmA9oEBgQ6BHAEnATQBOQE9AUIBRoFKgU+BXoFzgYEBiwGZAa4BvQHKAdYB4YHoAe8B+wIGAhKCH4IjgiiCLYIxAAAeNqtWHtwVNUZv985956zd/fu7n3sIwl5bTZkMQuB7DPyigzyCBBRDDBCUVSwURiU+iiVMKYEFPExYEUHH+04U8VxfHUYR9SpTqftqNVSbVGr1jJOZxiVoR0hhmCyl37n3F0kPjr8US67e3P35Pf7vt/3ne/7ThSiZBRFeYNEFapwxfcCU0EhU9JZK2ulslYy88CaTIZES0cz8BsFlGMjDWSIva+MU9j+EIEpaSXCk02plpRimVAoFqZBLMIZJZbp2HFcadrAUm437K92iGWx0IErb7zxygMjacaAtsEx+lv6Cvy73gHGnCPu6+7O0oelv7s73dePIFcCuVqRq05wAXI5uWmQicfiigmMJ1kamvK5YsGxLZOSVEvC8QWRDPa73SnGuMYs68lV27atetJif9aRzXWGd7h2GwU/jb4LcdhBFpAu2AHxd6MoAPJ1jDSof0S+CPIFBB8UMrFohEWZwlmyqSWfK+QLinqvv8YBGHmW6KZhA6hL2J8MywAV+OCAatgBcRfYogAE0f5ZiMcRDxSBZyWiSSsbhSDkjh4daQi82DX4cdcY7iiuDRLpayGLvirxiDBBSKykcqkOy3A4UZcA2Iapk5FnAdgBwzbUwQGOvAG8C2zhQCSmNtIA55f5qdQvn7AS+aylQc59+yi7p2uwqyswXq7dhbbuwbXLcO0U6TtPYlTxsii+t0GqTc3lp5NCbiYpzoRioRMcs1gQVydk43UQ4SHgjDPLFO88FpeXZcbLd3WA+Am7b247ukeoz1k5i2AO4C1RyayVjo/iY262rktMjiWYv/3SqnoGEFixcPG0CVUNKzAe/gU1iXiNf2Q802f0LviRAffCbrO+tru/FRGoxjRV0yghRIXW/u7aegt2wz1G+3kbFldXB5hl6Oq4FbnO+brb527R+9ddnGqujzSt6/d+3rQyURMJqbpxthZLUIu2ciymkYojlh2L1wP+z8RqCWtiwu8QUM9tFgYvUTxprLJExZaylqZUEnZRPWBGJrb8PIFbBUALXTWfYNQIMDr/qpAGqAqrvqy4MBK2GWXZ1Ep0X18eTeUnt2dT0eU6AL9uMSfsNZP7Y3Wr74zUGO6N7tML6pbvmUQ0rpmoBpm0Z3ndAvcZ9ydGTWTd0kKLn1lBrtZNvHq7DgOwTd98bU1TOl6Vbqq5drMO22BAv/pXk1Um98Lp46Sdb6DdShVq4Jf50JzNqPFMNCK2wiTQVJGSYvvBX+CQQejznKlMJ27anYSvVtA5phz5dP371E9iiVWrV69qiKBRuA8UQubxVbSodCB2nbfPRKqLK5spFsYXsqgvZj33ckqWF5StJdnEmcaS4raYk0lIrmiOz29bcF3/JS3ntUx5CeKzVNCAQ9J8ce7He6ZnFvQuXJZpbp0w8SX3yAUqZkZAbTZfmvswzRPdSGd1VXWWRnB9Q70GuqMXrA58XFfNKs+n6n4bn7ZKTYZ3k3YleE6afL3hjCaa/39q4nCpyfBjZN7p0f+LJl+7zfF5k39Ikxnt56pJY905aKJcP1JPR3Gv1IqaSYXdShEtj8UjsmbmcylCc7grUp0Qc2z4EEqgBXkASn+jNGqYiwYaTbNmUTf0rh2d4b+LBvycD66nOiEr4AAZJhc0Jmr2Pgilx0v7JJ+sqT9DPu3smpqwsKKudz/xKup9ldq3sbzuTO1LYuVb3yXrXmDDD+JlERGCXZAUcIP3dSnfiyfX5WFCl3v/SG9gA1ZSiZcsbaQL1a2yPwYlngiaHyjDKi7j1gb5QtEWvTJL5zD/W78PiwqYnk00oNGL4XbuA1vdyqgacg+XTJc9kmg0ANPGzv7nA1oFH+o+EDynh+AxcpVSjTxhUaO0JtYks6JlBpidmD1TATMnFrUi8CjY44IFirUWVHJhIBrEToElBKj/1megjaoATde4T+wo29+H9t8j7Ze4UOnvtIWKsoZZWQ/RSLwG05EuZJYDPu7ef3mjKrDT6InV8Ien/aXtlIFPh5fJO19BR9bGIgdG4+Bf3d7SzsEQ6tlQ2kjmoU6it4fH9HYn5nyjVC7lB+FTgxUIIRGsF0QamS2Javftbmik6k8DyOTOLbWfdN+sMJ04BDeR+UdzaQ19evP0EJl3blqR2eeuFfrQhz54WoVErB05jxQLtlMQN55UjGNZ56yjmjU27N5Xa2mko+jF2r0VY13q06k/nTuKo8hN737VSsuRHv3MTYlIi5h0ljaTh1Crb+d8J6x0T5U2c95zqluuw7dfkBU4x5XXJTBHobOHrCg94eH0Ic7Ad3K9swd4qY/zU9090i+ltBlWlvlkrlty78DKHrWtZ/gU249YHBeu/A4Xr3AhRh9iDHxnv/Ae9/HSO2z/8CnJBf0Ym4N0QEniuqi0KS7KqShy4iMSxQt/8KLlqdsJ5A2GknavNTE4AGZrjoh4GXsyFwbpgEhJpub3rQVau0sNnD/+OOaKCOCnx/RXdk1u4dLHp0rrYVjdoeSQt/bseivZsWCVuz3u2jSwMnsKp8x8S65caNEa2E4uOE+SB1Z3rggx39Y5BY4jIZBe+dQ8gFvXuKxXPLtDZtEnn+uP3nZph65qFw+suUH//Plp8vE/vjCA36kTaAKizz54m/HFv6inz+gWclDxy30SHDOX5WXmZoSNscpsEiUHWTLwyKI0jk4qzbWaCA4+s30LZzA6wFjPQ8tW+Q9AHVZ9FOXLr4xZUx5cpjJwKrGAYSh4M+hYTcS4XQmB57RQXvopbiCPL394+y0TwLvZS4TGAg9j23hmj+Px4GxZcVQSgqbKVz73HJ4RArcvnuFpONZ+uhVYV/8Nvfqx/dOF9ccHK9bbjlfL+0vrycFyTOvG2h+3hUyV7jkmqF5KVUwwz4rp2dGrRHRsnO+oBM89NSZ4z037nmD7X4AqInNvdAsMY0ybK7qM/1buyRES7cIsEx+5PF6Fb+ziMy66I2A6Yg9ctDYsbPMqFCb49b0/78KjlCV2wJNrgNTdywJTx3+per169C5yhO5TapA3rgl9Qmoay2sAeMtkrCb2OLAcYQo5AoygJUZt9QeHljIe7O6+etNH4NcN3+he/IqSnovInWTgKc0XfPgR9z33gdI6cpwcD4Ylz90jjeQ17JViTnJ8yFPMOzb6kRFDDAbGdrh3oqF3D50kPizsJBRxq04M4ZEiYpCTx23yT3KYBjGzHFP/ekkpVWrVTcei5LDE/zHi70X8mJg5vLqLhbygFLFfSCXHQZQSznaaziUwZ4lb5YQjQXJyCMmMkUaEPEHfPKE9q5sRm5YSpSYb3xLUEtjkVZx8j5CNio7YmsBWm1KeKBY5XMOlBqEQZCATDJd+qVR+R82RVUoAf0eXPbNQTGCyJSzMMfKqasDycNj9Ha/hpNtQ8aP0Vgj7xenPTqfhbWWT7B+64OKpvDwtZKQXcqr0TlVYAG3mW9R/zRZqqxZWM2La+s0vn28HVB5+jyVD27tm6hiYXjxS8UvnxyIM99/pIcT/CPFF3zNUxE/lc1kJ3QBRLjefuEQk/JoauP2W/kU+ZoW52tCxtG/mVJPA9PpaMr9reyiJ6dCRnlMVlLifodNvQ7e02xH5S4uyDlXG1bLpAnsyVEnEoFmdKGMCCS+/YkoVcsE8hI3biWoJjLY3R8NIJs8fQ/j2EXKIudJX7gveCUsAy+ZaPloV0CU4JNSpmnLF8rAnjv/AzYlqM6gSYkO31Cccbfb0CVxenbDjjChneB5Cjc70sWQ+EfXDrzdtEt97iyYqa8p/G9G8v42057PRLL7WeP/OfZ3o5wquWvMNX7v3vfJf3UY+cXjapVTBTttAEB0HCGoQEQiJQ3voSkiItMGJIRcCQoqgkSIiEAQhDq3Q4izxQmJH9iYBfqLXqj/SL+ipH9If6L19Xi8lQWkpxSt7345n3szOzC4RLVpZsih56vTZYItm6KfBKZq2Xhk8QUvWlcGTtGB9MXiKXqdmDE7TQqph8KxlT341OEsv028MnqOZ9AeD52k6fQNma/IFVp+0lxhbtEjfDU5R1poxeIKq1pLBk7RsfTR4iratbwanaTn11uDZ1PtUy+AslaZ+GDxHi+l3Bs9TNi1phwLq0g2FJKlFHilitEIu5TCvURFjg1Y1cvAy2iVBkdb1sWpAU0LiYxaUh6SmsU2ZR5kdKgHt4Q/XXBX849QETwdWtBN0b0LZ8hRbcXNsrVjcWF0rOkW2KyLZ8lnDlcJ3RZ7VfNfOPFR2SmzP4z6ruLwpOmDbA/UxqE/pDEFLugUuQcyPxelZQ94KLI4ga1GP2tANsRStXpsDVLERH+HHcwgNoTdg63SU9RbGca8+5KsGvqoGYUuwNbvIymzI9+pvX//INdb2BDqhLk6gE+ogRoc2gRTGBSx7mAMkXOr9xOXoa611FIVORBjJwGeO7WwypS54TwWe9JHSvmOv554X29PaLP+ERot5tmigh43W4eD26BLzNdZJxbbh57kNOernymjxEZ1hf3l4HMBTHA3TOYp0ffr4NiG56ypG+2Do6K4an+H4MGUgj+sWjVg2gC6ABjrzMUOi0cbs6mxFxlsPuKn9Mx2R0NY1XH+MDpAVoXd8z1wfYYjzPb677JHIRv0yRNXHK3VnnOMby+5zwrXHCh1qrHCWMroqCvGUqYARgS2uVheyCL4izXWX5QIiryLSP10V+bF3BVvZGgwGdocr75Jf2ziQ27nH7g9jcwURTySJXT4zkMpjRyISYV80WXzE2T7viOHDbWcyx56Mkp+N4EINeCgYBG3pCj+CWc9vipApT7BGrc4OusJPlOuJQp4NHU07ITO2jPe5bPPztmA6Es6qlUPGVTnjKdUtFwqRG8quiuxItuOQCwdV5Ou/kvw3wmfcrr8A4p56dgAAeNptzkdOA0EQheH6x4AxNsnkaDIs2zM4bYA27jkGQoSFJcIGTsBZuBOcBkzP846SWp+qpdJ7llicnw9L7b9pjx6WWMmqVrO6XdilXdmN3ZLYl31TYsI+mWSKMtNUmKFKjVnmmGeBReosscwKq6yxzgabbLHNDrs02GOfAw454pgTTjkrv78MnfMumrm08jZ8eni8f32++/tJM9eVPellv7A39loOZJB5YZEwsilTmclz2ZJt2ZHq4dXDq4dXvle+V36/uOuErox3wTknY4/QbDk53lOZydgr5PlABpn/AtN8YLEAAAEAAf//AA8AAAABAAAAAMw9os8AAAAAxvkyTwAAAADWkUsR"},function(t,e,i){t.exports=i.p+"27901d5ce93d8971c416d9123fedb911.ttf"},function(t,e,i){t.exports=i.p+"f43e86963e9cfda37bb2e958ddedcaad.woff2"},function(t,e,i){t.exports=i.p+"ba01f72a8db89265149f3f712dc7f9a3.woff"},function(t,e,i){t.exports=i.p+"6b9645af6e119fd5d85f24e21044ed03.ttf"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,i){var n=i(407);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-floating{display:flex;flex-flow:row nowrap;cursor:move;max-width:300px}.kj-floating .kj-floating-handle{width:2em}.kj-floating .kj-floating-content .k-toolbar.k-widget{border:none}.kj-floating .kj-floating-content .k-toolbar.k-widget:not(:last-child){margin-bottom:.25em}",""])},function(t,e,i){var n=i(409);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,'.kj-highlighter{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.kj-highlighter:not([data-enable="false"]){cursor:pointer}.kj-highlighter .kj-highlighter-active{background-color:#ffff00;color:#0f0f0f}',""])},function(t,e,i){var n=i(411);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-markdown h1,.kj-markdown h2,.kj-markdown h3,.kj-markdown h4,.kj-markdown h5,.kj-markdown h6{font-weight:bold}.kj-markdown h1{font-size:1.5em}.kj-markdown h2{font-size:1.17em}.kj-markdown h3{font-size:1.12em}.kj-markdown h4{font-size:.83em}.kj-markdown h5{font-size:.75em}.kj-markdown h6{font-size:.67em}.kj-markdown table{border-collapse:collapse}.kj-markdown table th,.kj-markdown table td{padding:.25rem;border:1px solid #ccc}.kj-markdown table tbody tr:nth-child(odd){background:#eee}.kj-markdown img.img-responsive{width:100%;height:auto;max-width:400px}.kj-markdown img.emoji{height:1.1em;width:1.1em;margin:0 .1em;vertical-align:middle}.km-content .km-listview .kj-markdown p,.km-content .km-listview .kj-markdown h1,.km-content .km-listview .kj-markdown h2,.km-content .km-listview .kj-markdown h3,.km-content .km-listview .kj-markdown h4,.km-content .km-listview .kj-markdown h5,.km-content .km-listview .kj-markdown h6{margin-left:0;margin-right:0}",""])},function(t,e,i){var n=i(413);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-mathexpression .katex-display{margin:0}",""])},function(t,e,i){var n=i(415);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,'.kj-mathinput-popup{max-width:242px}.kj-mathinput-popup .k-icon{overflow:initial}.kj-mathinput-dialog .k-list{display:flex;flex-wrap:wrap}.kj-mathinput-toolbar .k-button-icon[data-tool="keypad"],.kj-mathinput-popup .k-button-icon[data-tool="keypad"],.kj-mathinput-dialog .k-button-icon[data-tool="keypad"],.k-overflow-container .k-button-icon[data-tool="keypad"],.kj-mathinput-toolbar .k-button-icon[data-tool="basic"],.kj-mathinput-popup .k-button-icon[data-tool="basic"],.kj-mathinput-dialog .k-button-icon[data-tool="basic"],.k-overflow-container .k-button-icon[data-tool="basic"],.kj-mathinput-toolbar .k-button-icon[data-tool="greek"],.kj-mathinput-popup .k-button-icon[data-tool="greek"],.kj-mathinput-dialog .k-button-icon[data-tool="greek"],.k-overflow-container .k-button-icon[data-tool="greek"],.kj-mathinput-toolbar .k-button-icon[data-tool="operators"],.kj-mathinput-popup .k-button-icon[data-tool="operators"],.kj-mathinput-dialog .k-button-icon[data-tool="operators"],.k-overflow-container .k-button-icon[data-tool="operators"],.kj-mathinput-toolbar .k-button-icon[data-tool="expressions"],.kj-mathinput-popup .k-button-icon[data-tool="expressions"],.kj-mathinput-dialog .k-button-icon[data-tool="expressions"],.k-overflow-container .k-button-icon[data-tool="expressions"],.kj-mathinput-toolbar .k-button-icon[data-tool="sets"],.kj-mathinput-popup .k-button-icon[data-tool="sets"],.kj-mathinput-dialog .k-button-icon[data-tool="sets"],.k-overflow-container .k-button-icon[data-tool="sets"],.kj-mathinput-toolbar .k-button-icon[data-tool="matrices"],.kj-mathinput-popup .k-button-icon[data-tool="matrices"],.kj-mathinput-dialog .k-button-icon[data-tool="matrices"],.k-overflow-container .k-button-icon[data-tool="matrices"],.kj-mathinput-toolbar .k-button-icon[data-tool="statistics"],.kj-mathinput-popup .k-button-icon[data-tool="statistics"],.kj-mathinput-dialog .k-button-icon[data-tool="statistics"],.k-overflow-container .k-button-icon[data-tool="statistics"]{width:auto}.kj-mathinput-toolbar .k-icon.k-i-field,.kj-mathinput-popup .k-icon.k-i-field,.kj-mathinput-dialog .k-icon.k-i-field,.k-overflow-container .k-icon.k-i-field,.kj-mathinput-toolbar .k-font-icon.k-i-field,.kj-mathinput-popup .k-font-icon.k-i-field,.kj-mathinput-dialog .k-font-icon.k-i-field,.k-overflow-container .k-font-icon.k-i-field,.kj-mathinput-toolbar .k-icon.k-i-backspace,.kj-mathinput-popup .k-icon.k-i-backspace,.kj-mathinput-dialog .k-icon.k-i-backspace,.k-overflow-container .k-icon.k-i-backspace,.kj-mathinput-toolbar .k-font-icon.k-i-backspace,.kj-mathinput-popup .k-font-icon.k-i-backspace,.kj-mathinput-dialog .k-font-icon.k-i-backspace,.k-overflow-container .k-font-icon.k-i-backspace,.kj-mathinput-toolbar .k-icon.k-i-keypad,.kj-mathinput-popup .k-icon.k-i-keypad,.kj-mathinput-dialog .k-icon.k-i-keypad,.k-overflow-container .k-icon.k-i-keypad,.kj-mathinput-toolbar .k-font-icon.k-i-keypad,.kj-mathinput-popup .k-font-icon.k-i-keypad,.kj-mathinput-dialog .k-font-icon.k-i-keypad,.k-overflow-container .k-font-icon.k-i-keypad,.kj-mathinput-toolbar .k-icon.k-i-basic,.kj-mathinput-popup .k-icon.k-i-basic,.kj-mathinput-dialog .k-icon.k-i-basic,.k-overflow-container .k-icon.k-i-basic,.kj-mathinput-toolbar .k-font-icon.k-i-basic,.kj-mathinput-popup .k-font-icon.k-i-basic,.kj-mathinput-dialog .k-font-icon.k-i-basic,.k-overflow-container .k-font-icon.k-i-basic,.kj-mathinput-toolbar .k-icon.k-i-greek,.kj-mathinput-popup .k-icon.k-i-greek,.kj-mathinput-dialog .k-icon.k-i-greek,.k-overflow-container .k-icon.k-i-greek,.kj-mathinput-toolbar .k-font-icon.k-i-greek,.kj-mathinput-popup .k-font-icon.k-i-greek,.kj-mathinput-dialog .k-font-icon.k-i-greek,.k-overflow-container .k-font-icon.k-i-greek,.kj-mathinput-toolbar .k-icon.k-i-operators,.kj-mathinput-popup .k-icon.k-i-operators,.kj-mathinput-dialog .k-icon.k-i-operators,.k-overflow-container .k-icon.k-i-operators,.kj-mathinput-toolbar .k-font-icon.k-i-operators,.kj-mathinput-popup .k-font-icon.k-i-operators,.kj-mathinput-dialog .k-font-icon.k-i-operators,.k-overflow-container .k-font-icon.k-i-operators,.kj-mathinput-toolbar .k-icon.k-i-expressions,.kj-mathinput-popup .k-icon.k-i-expressions,.kj-mathinput-dialog .k-icon.k-i-expressions,.k-overflow-container .k-icon.k-i-expressions,.kj-mathinput-toolbar .k-font-icon.k-i-expressions,.kj-mathinput-popup .k-font-icon.k-i-expressions,.kj-mathinput-dialog .k-font-icon.k-i-expressions,.k-overflow-container .k-font-icon.k-i-expressions,.kj-mathinput-toolbar .k-icon.k-i-sets,.kj-mathinput-popup .k-icon.k-i-sets,.kj-mathinput-dialog .k-icon.k-i-sets,.k-overflow-container .k-icon.k-i-sets,.kj-mathinput-toolbar .k-font-icon.k-i-sets,.kj-mathinput-popup .k-font-icon.k-i-sets,.kj-mathinput-dialog .k-font-icon.k-i-sets,.k-overflow-container .k-font-icon.k-i-sets,.kj-mathinput-toolbar .k-icon.k-i-matrices,.kj-mathinput-popup .k-icon.k-i-matrices,.kj-mathinput-dialog .k-icon.k-i-matrices,.k-overflow-container .k-icon.k-i-matrices,.kj-mathinput-toolbar .k-font-icon.k-i-matrices,.kj-mathinput-popup .k-font-icon.k-i-matrices,.kj-mathinput-dialog .k-font-icon.k-i-matrices,.k-overflow-container .k-font-icon.k-i-matrices,.kj-mathinput-toolbar .k-icon.k-i-statistics,.kj-mathinput-popup .k-icon.k-i-statistics,.kj-mathinput-dialog .k-icon.k-i-statistics,.k-overflow-container .k-icon.k-i-statistics,.kj-mathinput-toolbar .k-font-icon.k-i-statistics,.kj-mathinput-popup .k-font-icon.k-i-statistics,.kj-mathinput-dialog .k-font-icon.k-i-statistics,.k-overflow-container .k-font-icon.k-i-statistics,.kj-mathinput-toolbar .k-icon.k-i-subscript,.kj-mathinput-popup .k-icon.k-i-subscript,.kj-mathinput-dialog .k-icon.k-i-subscript,.k-overflow-container .k-icon.k-i-subscript,.kj-mathinput-toolbar .k-font-icon.k-i-subscript,.kj-mathinput-popup .k-font-icon.k-i-subscript,.kj-mathinput-dialog .k-font-icon.k-i-subscript,.k-overflow-container .k-font-icon.k-i-subscript,.kj-mathinput-toolbar .k-icon.k-i-frac,.kj-mathinput-popup .k-icon.k-i-frac,.kj-mathinput-dialog .k-icon.k-i-frac,.k-overflow-container .k-icon.k-i-frac,.kj-mathinput-toolbar .k-font-icon.k-i-frac,.kj-mathinput-popup .k-font-icon.k-i-frac,.kj-mathinput-dialog .k-font-icon.k-i-frac,.k-overflow-container .k-font-icon.k-i-frac,.kj-mathinput-toolbar .k-icon.k-i-sqrt,.kj-mathinput-popup .k-icon.k-i-sqrt,.kj-mathinput-dialog .k-icon.k-i-sqrt,.k-overflow-container .k-icon.k-i-sqrt,.kj-mathinput-toolbar .k-font-icon.k-i-sqrt,.kj-mathinput-popup .k-font-icon.k-i-sqrt,.kj-mathinput-dialog .k-font-icon.k-i-sqrt,.k-overflow-container .k-font-icon.k-i-sqrt,.kj-mathinput-toolbar .k-icon.k-i-pow2,.kj-mathinput-popup .k-icon.k-i-pow2,.kj-mathinput-dialog .k-icon.k-i-pow2,.k-overflow-container .k-icon.k-i-pow2,.kj-mathinput-toolbar .k-font-icon.k-i-pow2,.kj-mathinput-popup .k-font-icon.k-i-pow2,.kj-mathinput-dialog .k-font-icon.k-i-pow2,.k-overflow-container .k-font-icon.k-i-pow2,.kj-mathinput-toolbar .k-icon.k-i-pow3,.kj-mathinput-popup .k-icon.k-i-pow3,.kj-mathinput-dialog .k-icon.k-i-pow3,.k-overflow-container .k-icon.k-i-pow3,.kj-mathinput-toolbar .k-font-icon.k-i-pow3,.kj-mathinput-popup .k-font-icon.k-i-pow3,.kj-mathinput-dialog .k-font-icon.k-i-pow3,.k-overflow-container .k-font-icon.k-i-pow3,.kj-mathinput-toolbar .k-icon.k-i-sin,.kj-mathinput-popup .k-icon.k-i-sin,.kj-mathinput-dialog .k-icon.k-i-sin,.k-overflow-container .k-icon.k-i-sin,.kj-mathinput-toolbar .k-font-icon.k-i-sin,.kj-mathinput-popup .k-font-icon.k-i-sin,.kj-mathinput-dialog .k-font-icon.k-i-sin,.k-overflow-container .k-font-icon.k-i-sin,.kj-mathinput-toolbar .k-icon.k-i-cos,.kj-mathinput-popup .k-icon.k-i-cos,.kj-mathinput-dialog .k-icon.k-i-cos,.k-overflow-container .k-icon.k-i-cos,.kj-mathinput-toolbar .k-font-icon.k-i-cos,.kj-mathinput-popup .k-font-icon.k-i-cos,.kj-mathinput-dialog .k-font-icon.k-i-cos,.k-overflow-container .k-font-icon.k-i-cos,.kj-mathinput-toolbar .k-icon.k-i-tan,.kj-mathinput-popup .k-icon.k-i-tan,.kj-mathinput-dialog .k-icon.k-i-tan,.k-overflow-container .k-icon.k-i-tan,.kj-mathinput-toolbar .k-font-icon.k-i-tan,.kj-mathinput-popup .k-font-icon.k-i-tan,.kj-mathinput-dialog .k-font-icon.k-i-tan,.k-overflow-container .k-font-icon.k-i-tan,.kj-mathinput-toolbar .k-icon.k-i-pleft,.kj-mathinput-popup .k-icon.k-i-pleft,.kj-mathinput-dialog .k-icon.k-i-pleft,.k-overflow-container .k-icon.k-i-pleft,.kj-mathinput-toolbar .k-font-icon.k-i-pleft,.kj-mathinput-popup .k-font-icon.k-i-pleft,.kj-mathinput-dialog .k-font-icon.k-i-pleft,.k-overflow-container .k-font-icon.k-i-pleft,.kj-mathinput-toolbar .k-icon.k-i-pright,.kj-mathinput-popup .k-icon.k-i-pright,.kj-mathinput-dialog .k-icon.k-i-pright,.k-overflow-container .k-icon.k-i-pright,.kj-mathinput-toolbar .k-font-icon.k-i-pright,.kj-mathinput-popup .k-font-icon.k-i-pright,.kj-mathinput-dialog .k-font-icon.k-i-pright,.k-overflow-container .k-font-icon.k-i-pright,.kj-mathinput-toolbar .k-icon.k-i-bleft,.kj-mathinput-popup .k-icon.k-i-bleft,.kj-mathinput-dialog .k-icon.k-i-bleft,.k-overflow-container .k-icon.k-i-bleft,.kj-mathinput-toolbar .k-font-icon.k-i-bleft,.kj-mathinput-popup .k-font-icon.k-i-bleft,.kj-mathinput-dialog .k-font-icon.k-i-bleft,.k-overflow-container .k-font-icon.k-i-bleft,.kj-mathinput-toolbar .k-icon.k-i-bright,.kj-mathinput-popup .k-icon.k-i-bright,.kj-mathinput-dialog .k-icon.k-i-bright,.k-overflow-container .k-icon.k-i-bright,.kj-mathinput-toolbar .k-font-icon.k-i-bright,.kj-mathinput-popup .k-font-icon.k-i-bright,.kj-mathinput-dialog .k-font-icon.k-i-bright,.k-overflow-container .k-font-icon.k-i-bright,.kj-mathinput-toolbar .k-icon.k-i-cleft,.kj-mathinput-popup .k-icon.k-i-cleft,.kj-mathinput-dialog .k-icon.k-i-cleft,.k-overflow-container .k-icon.k-i-cleft,.kj-mathinput-toolbar .k-font-icon.k-i-cleft,.kj-mathinput-popup .k-font-icon.k-i-cleft,.kj-mathinput-dialog .k-font-icon.k-i-cleft,.k-overflow-container .k-font-icon.k-i-cleft,.kj-mathinput-toolbar .k-icon.k-i-cright,.kj-mathinput-popup .k-icon.k-i-cright,.kj-mathinput-dialog .k-icon.k-i-cright,.k-overflow-container .k-icon.k-i-cright,.kj-mathinput-toolbar .k-font-icon.k-i-cright,.kj-mathinput-popup .k-font-icon.k-i-cright,.kj-mathinput-dialog .k-font-icon.k-i-cright,.k-overflow-container .k-font-icon.k-i-cright,.kj-mathinput-toolbar .k-icon.k-i-vleft,.kj-mathinput-popup .k-icon.k-i-vleft,.kj-mathinput-dialog .k-icon.k-i-vleft,.k-overflow-container .k-icon.k-i-vleft,.kj-mathinput-toolbar .k-font-icon.k-i-vleft,.kj-mathinput-popup .k-font-icon.k-i-vleft,.kj-mathinput-dialog .k-font-icon.k-i-vleft,.k-overflow-container .k-font-icon.k-i-vleft,.kj-mathinput-toolbar .k-icon.k-i-vright,.kj-mathinput-popup .k-icon.k-i-vright,.kj-mathinput-dialog .k-icon.k-i-vright,.k-overflow-container .k-icon.k-i-vright,.kj-mathinput-toolbar .k-font-icon.k-i-vright,.kj-mathinput-popup .k-font-icon.k-i-vright,.kj-mathinput-dialog .k-font-icon.k-i-vright,.k-overflow-container .k-font-icon.k-i-vright,.kj-mathinput-toolbar .k-icon.k-i-cbrt,.kj-mathinput-popup .k-icon.k-i-cbrt,.kj-mathinput-dialog .k-icon.k-i-cbrt,.k-overflow-container .k-icon.k-i-cbrt,.kj-mathinput-toolbar .k-font-icon.k-i-cbrt,.kj-mathinput-popup .k-font-icon.k-i-cbrt,.kj-mathinput-dialog .k-font-icon.k-i-cbrt,.k-overflow-container .k-font-icon.k-i-cbrt,.kj-mathinput-toolbar .k-icon.k-i-nthroot,.kj-mathinput-popup .k-icon.k-i-nthroot,.kj-mathinput-dialog .k-icon.k-i-nthroot,.k-overflow-container .k-icon.k-i-nthroot,.kj-mathinput-toolbar .k-font-icon.k-i-nthroot,.kj-mathinput-popup .k-font-icon.k-i-nthroot,.kj-mathinput-dialog .k-font-icon.k-i-nthroot,.k-overflow-container .k-font-icon.k-i-nthroot,.kj-mathinput-toolbar .k-icon.k-i-pow,.kj-mathinput-popup .k-icon.k-i-pow,.kj-mathinput-dialog .k-icon.k-i-pow,.k-overflow-container .k-icon.k-i-pow,.kj-mathinput-toolbar .k-font-icon.k-i-pow,.kj-mathinput-popup .k-font-icon.k-i-pow,.kj-mathinput-dialog .k-font-icon.k-i-pow,.k-overflow-container .k-font-icon.k-i-pow,.kj-mathinput-toolbar .k-icon.k-i-log,.kj-mathinput-popup .k-icon.k-i-log,.kj-mathinput-dialog .k-icon.k-i-log,.k-overflow-container .k-icon.k-i-log,.kj-mathinput-toolbar .k-font-icon.k-i-log,.kj-mathinput-popup .k-font-icon.k-i-log,.kj-mathinput-dialog .k-font-icon.k-i-log,.k-overflow-container .k-font-icon.k-i-log,.kj-mathinput-toolbar .k-icon.k-i-log10,.kj-mathinput-popup .k-icon.k-i-log10,.kj-mathinput-dialog .k-icon.k-i-log10,.k-overflow-container .k-icon.k-i-log10,.kj-mathinput-toolbar .k-font-icon.k-i-log10,.kj-mathinput-popup .k-font-icon.k-i-log10,.kj-mathinput-dialog .k-font-icon.k-i-log10,.k-overflow-container .k-font-icon.k-i-log10,.kj-mathinput-toolbar .k-icon.k-i-ln,.kj-mathinput-popup .k-icon.k-i-ln,.kj-mathinput-dialog .k-icon.k-i-ln,.k-overflow-container .k-icon.k-i-ln,.kj-mathinput-toolbar .k-font-icon.k-i-ln,.kj-mathinput-popup .k-font-icon.k-i-ln,.kj-mathinput-dialog .k-font-icon.k-i-ln,.k-overflow-container .k-font-icon.k-i-ln,.kj-mathinput-toolbar .k-icon.k-i-arcsin,.kj-mathinput-popup .k-icon.k-i-arcsin,.kj-mathinput-dialog .k-icon.k-i-arcsin,.k-overflow-container .k-icon.k-i-arcsin,.kj-mathinput-toolbar .k-font-icon.k-i-arcsin,.kj-mathinput-popup .k-font-icon.k-i-arcsin,.kj-mathinput-dialog .k-font-icon.k-i-arcsin,.k-overflow-container .k-font-icon.k-i-arcsin,.kj-mathinput-toolbar .k-icon.k-i-arccos,.kj-mathinput-popup .k-icon.k-i-arccos,.kj-mathinput-dialog .k-icon.k-i-arccos,.k-overflow-container .k-icon.k-i-arccos,.kj-mathinput-toolbar .k-font-icon.k-i-arccos,.kj-mathinput-popup .k-font-icon.k-i-arccos,.kj-mathinput-dialog .k-font-icon.k-i-arccos,.k-overflow-container .k-font-icon.k-i-arccos,.kj-mathinput-toolbar .k-icon.k-i-arctan,.kj-mathinput-popup .k-icon.k-i-arctan,.kj-mathinput-dialog .k-icon.k-i-arctan,.k-overflow-container .k-icon.k-i-arctan,.kj-mathinput-toolbar .k-font-icon.k-i-arctan,.kj-mathinput-popup .k-font-icon.k-i-arctan,.kj-mathinput-dialog .k-font-icon.k-i-arctan,.k-overflow-container .k-font-icon.k-i-arctan,.kj-mathinput-toolbar .k-icon.k-i-deriv,.kj-mathinput-popup .k-icon.k-i-deriv,.kj-mathinput-dialog .k-icon.k-i-deriv,.k-overflow-container .k-icon.k-i-deriv,.kj-mathinput-toolbar .k-font-icon.k-i-deriv,.kj-mathinput-popup .k-font-icon.k-i-deriv,.kj-mathinput-dialog .k-font-icon.k-i-deriv,.k-overflow-container .k-font-icon.k-i-deriv,.kj-mathinput-toolbar .k-icon.k-i-partial,.kj-mathinput-popup .k-icon.k-i-partial,.kj-mathinput-dialog .k-icon.k-i-partial,.k-overflow-container .k-icon.k-i-partial,.kj-mathinput-toolbar .k-font-icon.k-i-partial,.kj-mathinput-popup .k-font-icon.k-i-partial,.kj-mathinput-dialog .k-font-icon.k-i-partial,.k-overflow-container .k-font-icon.k-i-partial,.kj-mathinput-toolbar .k-icon.k-i-int,.kj-mathinput-popup .k-icon.k-i-int,.kj-mathinput-dialog .k-icon.k-i-int,.k-overflow-container .k-icon.k-i-int,.kj-mathinput-toolbar .k-font-icon.k-i-int,.kj-mathinput-popup .k-font-icon.k-i-int,.kj-mathinput-dialog .k-font-icon.k-i-int,.k-overflow-container .k-font-icon.k-i-int,.kj-mathinput-toolbar .k-icon.k-i-oint,.kj-mathinput-popup .k-icon.k-i-oint,.kj-mathinput-dialog .k-icon.k-i-oint,.k-overflow-container .k-icon.k-i-oint,.kj-mathinput-toolbar .k-font-icon.k-i-oint,.kj-mathinput-popup .k-font-icon.k-i-oint,.kj-mathinput-dialog .k-font-icon.k-i-oint,.k-overflow-container .k-font-icon.k-i-oint,.kj-mathinput-toolbar .k-icon.k-i-sum-ex,.kj-mathinput-popup .k-icon.k-i-sum-ex,.kj-mathinput-dialog .k-icon.k-i-sum-ex,.k-overflow-container .k-icon.k-i-sum-ex,.kj-mathinput-toolbar .k-font-icon.k-i-sum-ex,.kj-mathinput-popup .k-font-icon.k-i-sum-ex,.kj-mathinput-dialog .k-font-icon.k-i-sum-ex,.k-overflow-container .k-font-icon.k-i-sum-ex,.kj-mathinput-toolbar .k-icon.k-i-prod,.kj-mathinput-popup .k-icon.k-i-prod,.kj-mathinput-dialog .k-icon.k-i-prod,.k-overflow-container .k-icon.k-i-prod,.kj-mathinput-toolbar .k-font-icon.k-i-prod,.kj-mathinput-popup .k-font-icon.k-i-prod,.kj-mathinput-dialog .k-font-icon.k-i-prod,.k-overflow-container .k-font-icon.k-i-prod,.kj-mathinput-toolbar .k-icon.k-i-lim,.kj-mathinput-popup .k-icon.k-i-lim,.kj-mathinput-dialog .k-icon.k-i-lim,.k-overflow-container .k-icon.k-i-lim,.kj-mathinput-toolbar .k-font-icon.k-i-lim,.kj-mathinput-popup .k-font-icon.k-i-lim,.kj-mathinput-dialog .k-font-icon.k-i-lim,.k-overflow-container .k-font-icon.k-i-lim,.kj-mathinput-toolbar .k-icon.k-i-vector,.kj-mathinput-popup .k-icon.k-i-vector,.kj-mathinput-dialog .k-icon.k-i-vector,.k-overflow-container .k-icon.k-i-vector,.kj-mathinput-toolbar .k-font-icon.k-i-vector,.kj-mathinput-popup .k-font-icon.k-i-vector,.kj-mathinput-dialog .k-font-icon.k-i-vector,.k-overflow-container .k-font-icon.k-i-vector,.kj-mathinput-toolbar .k-icon.k-i-widehat,.kj-mathinput-popup .k-icon.k-i-widehat,.kj-mathinput-dialog .k-icon.k-i-widehat,.k-overflow-container .k-icon.k-i-widehat,.kj-mathinput-toolbar .k-font-icon.k-i-widehat,.kj-mathinput-popup .k-font-icon.k-i-widehat,.kj-mathinput-dialog .k-font-icon.k-i-widehat,.k-overflow-container .k-font-icon.k-i-widehat,.kj-mathinput-toolbar .k-icon.k-i-matrix,.kj-mathinput-popup .k-icon.k-i-matrix,.kj-mathinput-dialog .k-icon.k-i-matrix,.k-overflow-container .k-icon.k-i-matrix,.kj-mathinput-toolbar .k-font-icon.k-i-matrix,.kj-mathinput-popup .k-font-icon.k-i-matrix,.kj-mathinput-dialog .k-font-icon.k-i-matrix,.k-overflow-container .k-font-icon.k-i-matrix,.kj-mathinput-toolbar .k-icon.k-i-pmatrix,.kj-mathinput-popup .k-icon.k-i-pmatrix,.kj-mathinput-dialog .k-icon.k-i-pmatrix,.k-overflow-container .k-icon.k-i-pmatrix,.kj-mathinput-toolbar .k-font-icon.k-i-pmatrix,.kj-mathinput-popup .k-font-icon.k-i-pmatrix,.kj-mathinput-dialog .k-font-icon.k-i-pmatrix,.k-overflow-container .k-font-icon.k-i-pmatrix,.kj-mathinput-toolbar .k-icon.k-i-bmatrix,.kj-mathinput-popup .k-icon.k-i-bmatrix,.kj-mathinput-dialog .k-icon.k-i-bmatrix,.k-overflow-container .k-icon.k-i-bmatrix,.kj-mathinput-toolbar .k-font-icon.k-i-bmatrix,.kj-mathinput-popup .k-font-icon.k-i-bmatrix,.kj-mathinput-dialog .k-font-icon.k-i-bmatrix,.k-overflow-container .k-font-icon.k-i-bmatrix,.kj-mathinput-toolbar .k-icon.k-i-bbmatrix,.kj-mathinput-popup .k-icon.k-i-bbmatrix,.kj-mathinput-dialog .k-icon.k-i-bbmatrix,.k-overflow-container .k-icon.k-i-bbmatrix,.kj-mathinput-toolbar .k-font-icon.k-i-bbmatrix,.kj-mathinput-popup .k-font-icon.k-i-bbmatrix,.kj-mathinput-dialog .k-font-icon.k-i-bbmatrix,.k-overflow-container .k-font-icon.k-i-bbmatrix,.kj-mathinput-toolbar .k-icon.k-i-vmatrix,.kj-mathinput-popup .k-icon.k-i-vmatrix,.kj-mathinput-dialog .k-icon.k-i-vmatrix,.k-overflow-container .k-icon.k-i-vmatrix,.kj-mathinput-toolbar .k-font-icon.k-i-vmatrix,.kj-mathinput-popup .k-font-icon.k-i-vmatrix,.kj-mathinput-dialog .k-font-icon.k-i-vmatrix,.k-overflow-container .k-font-icon.k-i-vmatrix,.kj-mathinput-toolbar .k-icon.k-i-vvmatrix,.kj-mathinput-popup .k-icon.k-i-vvmatrix,.kj-mathinput-dialog .k-icon.k-i-vvmatrix,.k-overflow-container .k-icon.k-i-vvmatrix,.kj-mathinput-toolbar .k-font-icon.k-i-vvmatrix,.kj-mathinput-popup .k-font-icon.k-i-vvmatrix,.kj-mathinput-dialog .k-font-icon.k-i-vvmatrix,.k-overflow-container .k-font-icon.k-i-vvmatrix,.kj-mathinput-toolbar .k-icon.k-i-column,.kj-mathinput-popup .k-icon.k-i-column,.kj-mathinput-dialog .k-icon.k-i-column,.k-overflow-container .k-icon.k-i-column,.kj-mathinput-toolbar .k-font-icon.k-i-column,.kj-mathinput-popup .k-font-icon.k-i-column,.kj-mathinput-dialog .k-font-icon.k-i-column,.k-overflow-container .k-font-icon.k-i-column,.kj-mathinput-toolbar .k-icon.k-i-row,.kj-mathinput-popup .k-icon.k-i-row,.kj-mathinput-dialog .k-icon.k-i-row,.k-overflow-container .k-icon.k-i-row,.kj-mathinput-toolbar .k-font-icon.k-i-row,.kj-mathinput-popup .k-font-icon.k-i-row,.kj-mathinput-dialog .k-font-icon.k-i-row,.k-overflow-container .k-font-icon.k-i-row,.kj-mathinput-toolbar .k-icon.k-i-factorial,.kj-mathinput-popup .k-icon.k-i-factorial,.kj-mathinput-dialog .k-icon.k-i-factorial,.k-overflow-container .k-icon.k-i-factorial,.kj-mathinput-toolbar .k-font-icon.k-i-factorial,.kj-mathinput-popup .k-font-icon.k-i-factorial,.kj-mathinput-dialog .k-font-icon.k-i-factorial,.k-overflow-container .k-font-icon.k-i-factorial,.kj-mathinput-toolbar .k-icon.k-i-binomial,.kj-mathinput-popup .k-icon.k-i-binomial,.kj-mathinput-dialog .k-icon.k-i-binomial,.k-overflow-container .k-icon.k-i-binomial,.kj-mathinput-toolbar .k-font-icon.k-i-binomial,.kj-mathinput-popup .k-font-icon.k-i-binomial,.kj-mathinput-dialog .k-font-icon.k-i-binomial,.k-overflow-container .k-font-icon.k-i-binomial,.kj-mathinput-toolbar .k-icon.k-i-overline,.kj-mathinput-popup .k-icon.k-i-overline,.kj-mathinput-dialog .k-icon.k-i-overline,.k-overflow-container .k-icon.k-i-overline,.kj-mathinput-toolbar .k-font-icon.k-i-overline,.kj-mathinput-popup .k-font-icon.k-i-overline,.kj-mathinput-dialog .k-font-icon.k-i-overline,.k-overflow-container .k-font-icon.k-i-overline{font:16px/1 kidoju !important}.kj-mathinput-toolbar .k-icon.k-i-comma,.kj-mathinput-popup .k-icon.k-i-comma,.kj-mathinput-dialog .k-icon.k-i-comma,.k-overflow-container .k-icon.k-i-comma,.kj-mathinput-toolbar .k-font-icon.k-i-comma,.kj-mathinput-popup .k-font-icon.k-i-comma,.kj-mathinput-dialog .k-font-icon.k-i-comma,.k-overflow-container .k-font-icon.k-i-comma,.kj-mathinput-toolbar .k-icon.k-i-stop,.kj-mathinput-popup .k-icon.k-i-stop,.kj-mathinput-dialog .k-icon.k-i-stop,.k-overflow-container .k-icon.k-i-stop,.kj-mathinput-toolbar .k-font-icon.k-i-stop,.kj-mathinput-popup .k-font-icon.k-i-stop,.kj-mathinput-dialog .k-font-icon.k-i-stop,.k-overflow-container .k-font-icon.k-i-stop,.kj-mathinput-toolbar .k-icon.k-i-n0,.kj-mathinput-popup .k-icon.k-i-n0,.kj-mathinput-dialog .k-icon.k-i-n0,.k-overflow-container .k-icon.k-i-n0,.kj-mathinput-toolbar .k-font-icon.k-i-n0,.kj-mathinput-popup .k-font-icon.k-i-n0,.kj-mathinput-dialog .k-font-icon.k-i-n0,.k-overflow-container .k-font-icon.k-i-n0,.kj-mathinput-toolbar .k-icon.k-i-n1,.kj-mathinput-popup .k-icon.k-i-n1,.kj-mathinput-dialog .k-icon.k-i-n1,.k-overflow-container .k-icon.k-i-n1,.kj-mathinput-toolbar .k-font-icon.k-i-n1,.kj-mathinput-popup .k-font-icon.k-i-n1,.kj-mathinput-dialog .k-font-icon.k-i-n1,.k-overflow-container .k-font-icon.k-i-n1,.kj-mathinput-toolbar .k-icon.k-i-n2,.kj-mathinput-popup .k-icon.k-i-n2,.kj-mathinput-dialog .k-icon.k-i-n2,.k-overflow-container .k-icon.k-i-n2,.kj-mathinput-toolbar .k-font-icon.k-i-n2,.kj-mathinput-popup .k-font-icon.k-i-n2,.kj-mathinput-dialog .k-font-icon.k-i-n2,.k-overflow-container .k-font-icon.k-i-n2,.kj-mathinput-toolbar .k-icon.k-i-n3,.kj-mathinput-popup .k-icon.k-i-n3,.kj-mathinput-dialog .k-icon.k-i-n3,.k-overflow-container .k-icon.k-i-n3,.kj-mathinput-toolbar .k-font-icon.k-i-n3,.kj-mathinput-popup .k-font-icon.k-i-n3,.kj-mathinput-dialog .k-font-icon.k-i-n3,.k-overflow-container .k-font-icon.k-i-n3,.kj-mathinput-toolbar .k-icon.k-i-n4,.kj-mathinput-popup .k-icon.k-i-n4,.kj-mathinput-dialog .k-icon.k-i-n4,.k-overflow-container .k-icon.k-i-n4,.kj-mathinput-toolbar .k-font-icon.k-i-n4,.kj-mathinput-popup .k-font-icon.k-i-n4,.kj-mathinput-dialog .k-font-icon.k-i-n4,.k-overflow-container .k-font-icon.k-i-n4,.kj-mathinput-toolbar .k-icon.k-i-n5,.kj-mathinput-popup .k-icon.k-i-n5,.kj-mathinput-dialog .k-icon.k-i-n5,.k-overflow-container .k-icon.k-i-n5,.kj-mathinput-toolbar .k-font-icon.k-i-n5,.kj-mathinput-popup .k-font-icon.k-i-n5,.kj-mathinput-dialog .k-font-icon.k-i-n5,.k-overflow-container .k-font-icon.k-i-n5,.kj-mathinput-toolbar .k-icon.k-i-n6,.kj-mathinput-popup .k-icon.k-i-n6,.kj-mathinput-dialog .k-icon.k-i-n6,.k-overflow-container .k-icon.k-i-n6,.kj-mathinput-toolbar .k-font-icon.k-i-n6,.kj-mathinput-popup .k-font-icon.k-i-n6,.kj-mathinput-dialog .k-font-icon.k-i-n6,.k-overflow-container .k-font-icon.k-i-n6,.kj-mathinput-toolbar .k-icon.k-i-n7,.kj-mathinput-popup .k-icon.k-i-n7,.kj-mathinput-dialog .k-icon.k-i-n7,.k-overflow-container .k-icon.k-i-n7,.kj-mathinput-toolbar .k-font-icon.k-i-n7,.kj-mathinput-popup .k-font-icon.k-i-n7,.kj-mathinput-dialog .k-font-icon.k-i-n7,.k-overflow-container .k-font-icon.k-i-n7,.kj-mathinput-toolbar .k-icon.k-i-n8,.kj-mathinput-popup .k-icon.k-i-n8,.kj-mathinput-dialog .k-icon.k-i-n8,.k-overflow-container .k-icon.k-i-n8,.kj-mathinput-toolbar .k-font-icon.k-i-n8,.kj-mathinput-popup .k-font-icon.k-i-n8,.kj-mathinput-dialog .k-font-icon.k-i-n8,.k-overflow-container .k-font-icon.k-i-n8,.kj-mathinput-toolbar .k-icon.k-i-n9,.kj-mathinput-popup .k-icon.k-i-n9,.kj-mathinput-dialog .k-icon.k-i-n9,.k-overflow-container .k-icon.k-i-n9,.kj-mathinput-toolbar .k-font-icon.k-i-n9,.kj-mathinput-popup .k-font-icon.k-i-n9,.kj-mathinput-dialog .k-font-icon.k-i-n9,.k-overflow-container .k-font-icon.k-i-n9,.kj-mathinput-toolbar .k-icon.k-i-a,.kj-mathinput-popup .k-icon.k-i-a,.kj-mathinput-dialog .k-icon.k-i-a,.k-overflow-container .k-icon.k-i-a,.kj-mathinput-toolbar .k-font-icon.k-i-a,.kj-mathinput-popup .k-font-icon.k-i-a,.kj-mathinput-dialog .k-font-icon.k-i-a,.k-overflow-container .k-font-icon.k-i-a,.kj-mathinput-toolbar .k-icon.k-i-b,.kj-mathinput-popup .k-icon.k-i-b,.kj-mathinput-dialog .k-icon.k-i-b,.k-overflow-container .k-icon.k-i-b,.kj-mathinput-toolbar .k-font-icon.k-i-b,.kj-mathinput-popup .k-font-icon.k-i-b,.kj-mathinput-dialog .k-font-icon.k-i-b,.k-overflow-container .k-font-icon.k-i-b,.kj-mathinput-toolbar .k-icon.k-i-c,.kj-mathinput-popup .k-icon.k-i-c,.kj-mathinput-dialog .k-icon.k-i-c,.k-overflow-container .k-icon.k-i-c,.kj-mathinput-toolbar .k-font-icon.k-i-c,.kj-mathinput-popup .k-font-icon.k-i-c,.kj-mathinput-dialog .k-font-icon.k-i-c,.k-overflow-container .k-font-icon.k-i-c,.kj-mathinput-toolbar .k-icon.k-i-i,.kj-mathinput-popup .k-icon.k-i-i,.kj-mathinput-dialog .k-icon.k-i-i,.k-overflow-container .k-icon.k-i-i,.kj-mathinput-toolbar .k-font-icon.k-i-i,.kj-mathinput-popup .k-font-icon.k-i-i,.kj-mathinput-dialog .k-font-icon.k-i-i,.k-overflow-container .k-font-icon.k-i-i,.kj-mathinput-toolbar .k-icon.k-i-j,.kj-mathinput-popup .k-icon.k-i-j,.kj-mathinput-dialog .k-icon.k-i-j,.k-overflow-container .k-icon.k-i-j,.kj-mathinput-toolbar .k-font-icon.k-i-j,.kj-mathinput-popup .k-font-icon.k-i-j,.kj-mathinput-dialog .k-font-icon.k-i-j,.k-overflow-container .k-font-icon.k-i-j,.kj-mathinput-toolbar .k-icon.k-i-k,.kj-mathinput-popup .k-icon.k-i-k,.kj-mathinput-dialog .k-icon.k-i-k,.k-overflow-container .k-icon.k-i-k,.kj-mathinput-toolbar .k-font-icon.k-i-k,.kj-mathinput-popup .k-font-icon.k-i-k,.kj-mathinput-dialog .k-font-icon.k-i-k,.k-overflow-container .k-font-icon.k-i-k,.kj-mathinput-toolbar .k-icon.k-i-n,.kj-mathinput-popup .k-icon.k-i-n,.kj-mathinput-dialog .k-icon.k-i-n,.k-overflow-container .k-icon.k-i-n,.kj-mathinput-toolbar .k-font-icon.k-i-n,.kj-mathinput-popup .k-font-icon.k-i-n,.kj-mathinput-dialog .k-font-icon.k-i-n,.k-overflow-container .k-font-icon.k-i-n,.kj-mathinput-toolbar .k-icon.k-i-p,.kj-mathinput-popup .k-icon.k-i-p,.kj-mathinput-dialog .k-icon.k-i-p,.k-overflow-container .k-icon.k-i-p,.kj-mathinput-toolbar .k-font-icon.k-i-p,.kj-mathinput-popup .k-font-icon.k-i-p,.kj-mathinput-dialog .k-font-icon.k-i-p,.k-overflow-container .k-font-icon.k-i-p,.kj-mathinput-toolbar .k-icon.k-i-q,.kj-mathinput-popup .k-icon.k-i-q,.kj-mathinput-dialog .k-icon.k-i-q,.k-overflow-container .k-icon.k-i-q,.kj-mathinput-toolbar .k-font-icon.k-i-q,.kj-mathinput-popup .k-font-icon.k-i-q,.kj-mathinput-dialog .k-font-icon.k-i-q,.k-overflow-container .k-font-icon.k-i-q,.kj-mathinput-toolbar .k-icon.k-i-x,.kj-mathinput-popup .k-icon.k-i-x,.kj-mathinput-dialog .k-icon.k-i-x,.k-overflow-container .k-icon.k-i-x,.kj-mathinput-toolbar .k-font-icon.k-i-x,.kj-mathinput-popup .k-font-icon.k-i-x,.kj-mathinput-dialog .k-font-icon.k-i-x,.k-overflow-container .k-font-icon.k-i-x,.kj-mathinput-toolbar .k-icon.k-i-y,.kj-mathinput-popup .k-icon.k-i-y,.kj-mathinput-dialog .k-icon.k-i-y,.k-overflow-container .k-icon.k-i-y,.kj-mathinput-toolbar .k-font-icon.k-i-y,.kj-mathinput-popup .k-font-icon.k-i-y,.kj-mathinput-dialog .k-font-icon.k-i-y,.k-overflow-container .k-font-icon.k-i-y,.kj-mathinput-toolbar .k-icon.k-i-z,.kj-mathinput-popup .k-icon.k-i-z,.kj-mathinput-dialog .k-icon.k-i-z,.k-overflow-container .k-icon.k-i-z,.kj-mathinput-toolbar .k-font-icon.k-i-z,.kj-mathinput-popup .k-font-icon.k-i-z,.kj-mathinput-dialog .k-font-icon.k-i-z,.k-overflow-container .k-font-icon.k-i-z,.kj-mathinput-toolbar .k-icon.k-i-infty,.kj-mathinput-popup .k-icon.k-i-infty,.kj-mathinput-dialog .k-icon.k-i-infty,.k-overflow-container .k-icon.k-i-infty,.kj-mathinput-toolbar .k-font-icon.k-i-infty,.kj-mathinput-popup .k-font-icon.k-i-infty,.kj-mathinput-dialog .k-font-icon.k-i-infty,.k-overflow-container .k-font-icon.k-i-infty,.kj-mathinput-toolbar .k-icon.k-i-space,.kj-mathinput-popup .k-icon.k-i-space,.kj-mathinput-dialog .k-icon.k-i-space,.k-overflow-container .k-icon.k-i-space,.kj-mathinput-toolbar .k-font-icon.k-i-space,.kj-mathinput-popup .k-font-icon.k-i-space,.kj-mathinput-dialog .k-font-icon.k-i-space,.k-overflow-container .k-font-icon.k-i-space,.kj-mathinput-toolbar .k-icon.k-i-equal,.kj-mathinput-popup .k-icon.k-i-equal,.kj-mathinput-dialog .k-icon.k-i-equal,.k-overflow-container .k-icon.k-i-equal,.kj-mathinput-toolbar .k-font-icon.k-i-equal,.kj-mathinput-popup .k-font-icon.k-i-equal,.kj-mathinput-dialog .k-font-icon.k-i-equal,.k-overflow-container .k-font-icon.k-i-equal,.kj-mathinput-toolbar .k-icon.k-i-plus,.kj-mathinput-popup .k-icon.k-i-plus,.kj-mathinput-dialog .k-icon.k-i-plus,.k-overflow-container .k-icon.k-i-plus,.kj-mathinput-toolbar .k-font-icon.k-i-plus,.kj-mathinput-popup .k-font-icon.k-i-plus,.kj-mathinput-dialog .k-font-icon.k-i-plus,.k-overflow-container .k-font-icon.k-i-plus,.kj-mathinput-toolbar .k-icon.k-i-minus,.kj-mathinput-popup .k-icon.k-i-minus,.kj-mathinput-dialog .k-icon.k-i-minus,.k-overflow-container .k-icon.k-i-minus,.kj-mathinput-toolbar .k-font-icon.k-i-minus,.kj-mathinput-popup .k-font-icon.k-i-minus,.kj-mathinput-dialog .k-font-icon.k-i-minus,.k-overflow-container .k-font-icon.k-i-minus,.kj-mathinput-toolbar .k-icon.k-i-times,.kj-mathinput-popup .k-icon.k-i-times,.kj-mathinput-dialog .k-icon.k-i-times,.k-overflow-container .k-icon.k-i-times,.kj-mathinput-toolbar .k-font-icon.k-i-times,.kj-mathinput-popup .k-font-icon.k-i-times,.kj-mathinput-dialog .k-font-icon.k-i-times,.k-overflow-container .k-font-icon.k-i-times,.kj-mathinput-toolbar .k-icon.k-i-cdot,.kj-mathinput-popup .k-icon.k-i-cdot,.kj-mathinput-dialog .k-icon.k-i-cdot,.k-overflow-container .k-icon.k-i-cdot,.kj-mathinput-toolbar .k-font-icon.k-i-cdot,.kj-mathinput-popup .k-font-icon.k-i-cdot,.kj-mathinput-dialog .k-font-icon.k-i-cdot,.k-overflow-container .k-font-icon.k-i-cdot,.kj-mathinput-toolbar .k-icon.k-i-div,.kj-mathinput-popup .k-icon.k-i-div,.kj-mathinput-dialog .k-icon.k-i-div,.k-overflow-container .k-icon.k-i-div,.kj-mathinput-toolbar .k-font-icon.k-i-div,.kj-mathinput-popup .k-font-icon.k-i-div,.kj-mathinput-dialog .k-font-icon.k-i-div,.k-overflow-container .k-font-icon.k-i-div,.kj-mathinput-toolbar .k-icon.k-i-alpha,.kj-mathinput-popup .k-icon.k-i-alpha,.kj-mathinput-dialog .k-icon.k-i-alpha,.k-overflow-container .k-icon.k-i-alpha,.kj-mathinput-toolbar .k-font-icon.k-i-alpha,.kj-mathinput-popup .k-font-icon.k-i-alpha,.kj-mathinput-dialog .k-font-icon.k-i-alpha,.k-overflow-container .k-font-icon.k-i-alpha,.kj-mathinput-toolbar .k-icon.k-i-beta,.kj-mathinput-popup .k-icon.k-i-beta,.kj-mathinput-dialog .k-icon.k-i-beta,.k-overflow-container .k-icon.k-i-beta,.kj-mathinput-toolbar .k-font-icon.k-i-beta,.kj-mathinput-popup .k-font-icon.k-i-beta,.kj-mathinput-dialog .k-font-icon.k-i-beta,.k-overflow-container .k-font-icon.k-i-beta,.kj-mathinput-toolbar .k-icon.k-i-gamma,.kj-mathinput-popup .k-icon.k-i-gamma,.kj-mathinput-dialog .k-icon.k-i-gamma,.k-overflow-container .k-icon.k-i-gamma,.kj-mathinput-toolbar .k-font-icon.k-i-gamma,.kj-mathinput-popup .k-font-icon.k-i-gamma,.kj-mathinput-dialog .k-font-icon.k-i-gamma,.k-overflow-container .k-font-icon.k-i-gamma,.kj-mathinput-toolbar .k-icon.k-i-delta,.kj-mathinput-popup .k-icon.k-i-delta,.kj-mathinput-dialog .k-icon.k-i-delta,.k-overflow-container .k-icon.k-i-delta,.kj-mathinput-toolbar .k-font-icon.k-i-delta,.kj-mathinput-popup .k-font-icon.k-i-delta,.kj-mathinput-dialog .k-font-icon.k-i-delta,.k-overflow-container .k-font-icon.k-i-delta,.kj-mathinput-toolbar .k-icon.k-i-epsilon,.kj-mathinput-popup .k-icon.k-i-epsilon,.kj-mathinput-dialog .k-icon.k-i-epsilon,.k-overflow-container .k-icon.k-i-epsilon,.kj-mathinput-toolbar .k-font-icon.k-i-epsilon,.kj-mathinput-popup .k-font-icon.k-i-epsilon,.kj-mathinput-dialog .k-font-icon.k-i-epsilon,.k-overflow-container .k-font-icon.k-i-epsilon,.kj-mathinput-toolbar .k-icon.k-i-zeta,.kj-mathinput-popup .k-icon.k-i-zeta,.kj-mathinput-dialog .k-icon.k-i-zeta,.k-overflow-container .k-icon.k-i-zeta,.kj-mathinput-toolbar .k-font-icon.k-i-zeta,.kj-mathinput-popup .k-font-icon.k-i-zeta,.kj-mathinput-dialog .k-font-icon.k-i-zeta,.k-overflow-container .k-font-icon.k-i-zeta,.kj-mathinput-toolbar .k-icon.k-i-eta,.kj-mathinput-popup .k-icon.k-i-eta,.kj-mathinput-dialog .k-icon.k-i-eta,.k-overflow-container .k-icon.k-i-eta,.kj-mathinput-toolbar .k-font-icon.k-i-eta,.kj-mathinput-popup .k-font-icon.k-i-eta,.kj-mathinput-dialog .k-font-icon.k-i-eta,.k-overflow-container .k-font-icon.k-i-eta,.kj-mathinput-toolbar .k-icon.k-i-theta,.kj-mathinput-popup .k-icon.k-i-theta,.kj-mathinput-dialog .k-icon.k-i-theta,.k-overflow-container .k-icon.k-i-theta,.kj-mathinput-toolbar .k-font-icon.k-i-theta,.kj-mathinput-popup .k-font-icon.k-i-theta,.kj-mathinput-dialog .k-font-icon.k-i-theta,.k-overflow-container .k-font-icon.k-i-theta,.kj-mathinput-toolbar .k-icon.k-i-iota,.kj-mathinput-popup .k-icon.k-i-iota,.kj-mathinput-dialog .k-icon.k-i-iota,.k-overflow-container .k-icon.k-i-iota,.kj-mathinput-toolbar .k-font-icon.k-i-iota,.kj-mathinput-popup .k-font-icon.k-i-iota,.kj-mathinput-dialog .k-font-icon.k-i-iota,.k-overflow-container .k-font-icon.k-i-iota,.kj-mathinput-toolbar .k-icon.k-i-kappa,.kj-mathinput-popup .k-icon.k-i-kappa,.kj-mathinput-dialog .k-icon.k-i-kappa,.k-overflow-container .k-icon.k-i-kappa,.kj-mathinput-toolbar .k-font-icon.k-i-kappa,.kj-mathinput-popup .k-font-icon.k-i-kappa,.kj-mathinput-dialog .k-font-icon.k-i-kappa,.k-overflow-container .k-font-icon.k-i-kappa,.kj-mathinput-toolbar .k-icon.k-i-lambda,.kj-mathinput-popup .k-icon.k-i-lambda,.kj-mathinput-dialog .k-icon.k-i-lambda,.k-overflow-container .k-icon.k-i-lambda,.kj-mathinput-toolbar .k-font-icon.k-i-lambda,.kj-mathinput-popup .k-font-icon.k-i-lambda,.kj-mathinput-dialog .k-font-icon.k-i-lambda,.k-overflow-container .k-font-icon.k-i-lambda,.kj-mathinput-toolbar .k-icon.k-i-mu,.kj-mathinput-popup .k-icon.k-i-mu,.kj-mathinput-dialog .k-icon.k-i-mu,.k-overflow-container .k-icon.k-i-mu,.kj-mathinput-toolbar .k-font-icon.k-i-mu,.kj-mathinput-popup .k-font-icon.k-i-mu,.kj-mathinput-dialog .k-font-icon.k-i-mu,.k-overflow-container .k-font-icon.k-i-mu,.kj-mathinput-toolbar .k-icon.k-i-nu,.kj-mathinput-popup .k-icon.k-i-nu,.kj-mathinput-dialog .k-icon.k-i-nu,.k-overflow-container .k-icon.k-i-nu,.kj-mathinput-toolbar .k-font-icon.k-i-nu,.kj-mathinput-popup .k-font-icon.k-i-nu,.kj-mathinput-dialog .k-font-icon.k-i-nu,.k-overflow-container .k-font-icon.k-i-nu,.kj-mathinput-toolbar .k-icon.k-i-xi,.kj-mathinput-popup .k-icon.k-i-xi,.kj-mathinput-dialog .k-icon.k-i-xi,.k-overflow-container .k-icon.k-i-xi,.kj-mathinput-toolbar .k-font-icon.k-i-xi,.kj-mathinput-popup .k-font-icon.k-i-xi,.kj-mathinput-dialog .k-font-icon.k-i-xi,.k-overflow-container .k-font-icon.k-i-xi,.kj-mathinput-toolbar .k-icon.k-i-omicron,.kj-mathinput-popup .k-icon.k-i-omicron,.kj-mathinput-dialog .k-icon.k-i-omicron,.k-overflow-container .k-icon.k-i-omicron,.kj-mathinput-toolbar .k-font-icon.k-i-omicron,.kj-mathinput-popup .k-font-icon.k-i-omicron,.kj-mathinput-dialog .k-font-icon.k-i-omicron,.k-overflow-container .k-font-icon.k-i-omicron,.kj-mathinput-toolbar .k-icon.k-i-pi,.kj-mathinput-popup .k-icon.k-i-pi,.kj-mathinput-dialog .k-icon.k-i-pi,.k-overflow-container .k-icon.k-i-pi,.kj-mathinput-toolbar .k-font-icon.k-i-pi,.kj-mathinput-popup .k-font-icon.k-i-pi,.kj-mathinput-dialog .k-font-icon.k-i-pi,.k-overflow-container .k-font-icon.k-i-pi,.kj-mathinput-toolbar .k-icon.k-i-rho,.kj-mathinput-popup .k-icon.k-i-rho,.kj-mathinput-dialog .k-icon.k-i-rho,.k-overflow-container .k-icon.k-i-rho,.kj-mathinput-toolbar .k-font-icon.k-i-rho,.kj-mathinput-popup .k-font-icon.k-i-rho,.kj-mathinput-dialog .k-font-icon.k-i-rho,.k-overflow-container .k-font-icon.k-i-rho,.kj-mathinput-toolbar .k-icon.k-i-sigma,.kj-mathinput-popup .k-icon.k-i-sigma,.kj-mathinput-dialog .k-icon.k-i-sigma,.k-overflow-container .k-icon.k-i-sigma,.kj-mathinput-toolbar .k-font-icon.k-i-sigma,.kj-mathinput-popup .k-font-icon.k-i-sigma,.kj-mathinput-dialog .k-font-icon.k-i-sigma,.k-overflow-container .k-font-icon.k-i-sigma,.kj-mathinput-toolbar .k-icon.k-i-tau,.kj-mathinput-popup .k-icon.k-i-tau,.kj-mathinput-dialog .k-icon.k-i-tau,.k-overflow-container .k-icon.k-i-tau,.kj-mathinput-toolbar .k-font-icon.k-i-tau,.kj-mathinput-popup .k-font-icon.k-i-tau,.kj-mathinput-dialog .k-font-icon.k-i-tau,.k-overflow-container .k-font-icon.k-i-tau,.kj-mathinput-toolbar .k-icon.k-i-upsilon,.kj-mathinput-popup .k-icon.k-i-upsilon,.kj-mathinput-dialog .k-icon.k-i-upsilon,.k-overflow-container .k-icon.k-i-upsilon,.kj-mathinput-toolbar .k-font-icon.k-i-upsilon,.kj-mathinput-popup .k-font-icon.k-i-upsilon,.kj-mathinput-dialog .k-font-icon.k-i-upsilon,.k-overflow-container .k-font-icon.k-i-upsilon,.kj-mathinput-toolbar .k-icon.k-i-phi,.kj-mathinput-popup .k-icon.k-i-phi,.kj-mathinput-dialog .k-icon.k-i-phi,.k-overflow-container .k-icon.k-i-phi,.kj-mathinput-toolbar .k-font-icon.k-i-phi,.kj-mathinput-popup .k-font-icon.k-i-phi,.kj-mathinput-dialog .k-font-icon.k-i-phi,.k-overflow-container .k-font-icon.k-i-phi,.kj-mathinput-toolbar .k-icon.k-i-chi,.kj-mathinput-popup .k-icon.k-i-chi,.kj-mathinput-dialog .k-icon.k-i-chi,.k-overflow-container .k-icon.k-i-chi,.kj-mathinput-toolbar .k-font-icon.k-i-chi,.kj-mathinput-popup .k-font-icon.k-i-chi,.kj-mathinput-dialog .k-font-icon.k-i-chi,.k-overflow-container .k-font-icon.k-i-chi,.kj-mathinput-toolbar .k-icon.k-i-psi,.kj-mathinput-popup .k-icon.k-i-psi,.kj-mathinput-dialog .k-icon.k-i-psi,.k-overflow-container .k-icon.k-i-psi,.kj-mathinput-toolbar .k-font-icon.k-i-psi,.kj-mathinput-popup .k-font-icon.k-i-psi,.kj-mathinput-dialog .k-font-icon.k-i-psi,.k-overflow-container .k-font-icon.k-i-psi,.kj-mathinput-toolbar .k-icon.k-i-omega,.kj-mathinput-popup .k-icon.k-i-omega,.kj-mathinput-dialog .k-icon.k-i-omega,.k-overflow-container .k-icon.k-i-omega,.kj-mathinput-toolbar .k-font-icon.k-i-omega,.kj-mathinput-popup .k-font-icon.k-i-omega,.kj-mathinput-dialog .k-font-icon.k-i-omega,.k-overflow-container .k-font-icon.k-i-omega,.kj-mathinput-toolbar .k-icon.k-i-alpha-maj,.kj-mathinput-popup .k-icon.k-i-alpha-maj,.kj-mathinput-dialog .k-icon.k-i-alpha-maj,.k-overflow-container .k-icon.k-i-alpha-maj,.kj-mathinput-toolbar .k-font-icon.k-i-alpha-maj,.kj-mathinput-popup .k-font-icon.k-i-alpha-maj,.kj-mathinput-dialog .k-font-icon.k-i-alpha-maj,.k-overflow-container .k-font-icon.k-i-alpha-maj,.kj-mathinput-toolbar .k-icon.k-i-beta-maj,.kj-mathinput-popup .k-icon.k-i-beta-maj,.kj-mathinput-dialog .k-icon.k-i-beta-maj,.k-overflow-container .k-icon.k-i-beta-maj,.kj-mathinput-toolbar .k-font-icon.k-i-beta-maj,.kj-mathinput-popup .k-font-icon.k-i-beta-maj,.kj-mathinput-dialog .k-font-icon.k-i-beta-maj,.k-overflow-container .k-font-icon.k-i-beta-maj,.kj-mathinput-toolbar .k-icon.k-i-gamma-maj,.kj-mathinput-popup .k-icon.k-i-gamma-maj,.kj-mathinput-dialog .k-icon.k-i-gamma-maj,.k-overflow-container .k-icon.k-i-gamma-maj,.kj-mathinput-toolbar .k-font-icon.k-i-gamma-maj,.kj-mathinput-popup .k-font-icon.k-i-gamma-maj,.kj-mathinput-dialog .k-font-icon.k-i-gamma-maj,.k-overflow-container .k-font-icon.k-i-gamma-maj,.kj-mathinput-toolbar .k-icon.k-i-delta-maj,.kj-mathinput-popup .k-icon.k-i-delta-maj,.kj-mathinput-dialog .k-icon.k-i-delta-maj,.k-overflow-container .k-icon.k-i-delta-maj,.kj-mathinput-toolbar .k-font-icon.k-i-delta-maj,.kj-mathinput-popup .k-font-icon.k-i-delta-maj,.kj-mathinput-dialog .k-font-icon.k-i-delta-maj,.k-overflow-container .k-font-icon.k-i-delta-maj,.kj-mathinput-toolbar .k-icon.k-i-epsilon-maj,.kj-mathinput-popup .k-icon.k-i-epsilon-maj,.kj-mathinput-dialog .k-icon.k-i-epsilon-maj,.k-overflow-container .k-icon.k-i-epsilon-maj,.kj-mathinput-toolbar .k-font-icon.k-i-epsilon-maj,.kj-mathinput-popup .k-font-icon.k-i-epsilon-maj,.kj-mathinput-dialog .k-font-icon.k-i-epsilon-maj,.k-overflow-container .k-font-icon.k-i-epsilon-maj,.kj-mathinput-toolbar .k-icon.k-i-zeta-maj,.kj-mathinput-popup .k-icon.k-i-zeta-maj,.kj-mathinput-dialog .k-icon.k-i-zeta-maj,.k-overflow-container .k-icon.k-i-zeta-maj,.kj-mathinput-toolbar .k-font-icon.k-i-zeta-maj,.kj-mathinput-popup .k-font-icon.k-i-zeta-maj,.kj-mathinput-dialog .k-font-icon.k-i-zeta-maj,.k-overflow-container .k-font-icon.k-i-zeta-maj,.kj-mathinput-toolbar .k-icon.k-i-eta-maj,.kj-mathinput-popup .k-icon.k-i-eta-maj,.kj-mathinput-dialog .k-icon.k-i-eta-maj,.k-overflow-container .k-icon.k-i-eta-maj,.kj-mathinput-toolbar .k-font-icon.k-i-eta-maj,.kj-mathinput-popup .k-font-icon.k-i-eta-maj,.kj-mathinput-dialog .k-font-icon.k-i-eta-maj,.k-overflow-container .k-font-icon.k-i-eta-maj,.kj-mathinput-toolbar .k-icon.k-i-theta-maj,.kj-mathinput-popup .k-icon.k-i-theta-maj,.kj-mathinput-dialog .k-icon.k-i-theta-maj,.k-overflow-container .k-icon.k-i-theta-maj,.kj-mathinput-toolbar .k-font-icon.k-i-theta-maj,.kj-mathinput-popup .k-font-icon.k-i-theta-maj,.kj-mathinput-dialog .k-font-icon.k-i-theta-maj,.k-overflow-container .k-font-icon.k-i-theta-maj,.kj-mathinput-toolbar .k-icon.k-i-iota-maj,.kj-mathinput-popup .k-icon.k-i-iota-maj,.kj-mathinput-dialog .k-icon.k-i-iota-maj,.k-overflow-container .k-icon.k-i-iota-maj,.kj-mathinput-toolbar .k-font-icon.k-i-iota-maj,.kj-mathinput-popup .k-font-icon.k-i-iota-maj,.kj-mathinput-dialog .k-font-icon.k-i-iota-maj,.k-overflow-container .k-font-icon.k-i-iota-maj,.kj-mathinput-toolbar .k-icon.k-i-kappa-maj,.kj-mathinput-popup .k-icon.k-i-kappa-maj,.kj-mathinput-dialog .k-icon.k-i-kappa-maj,.k-overflow-container .k-icon.k-i-kappa-maj,.kj-mathinput-toolbar .k-font-icon.k-i-kappa-maj,.kj-mathinput-popup .k-font-icon.k-i-kappa-maj,.kj-mathinput-dialog .k-font-icon.k-i-kappa-maj,.k-overflow-container .k-font-icon.k-i-kappa-maj,.kj-mathinput-toolbar .k-icon.k-i-lambda-maj,.kj-mathinput-popup .k-icon.k-i-lambda-maj,.kj-mathinput-dialog .k-icon.k-i-lambda-maj,.k-overflow-container .k-icon.k-i-lambda-maj,.kj-mathinput-toolbar .k-font-icon.k-i-lambda-maj,.kj-mathinput-popup .k-font-icon.k-i-lambda-maj,.kj-mathinput-dialog .k-font-icon.k-i-lambda-maj,.k-overflow-container .k-font-icon.k-i-lambda-maj,.kj-mathinput-toolbar .k-icon.k-i-mu-maj,.kj-mathinput-popup .k-icon.k-i-mu-maj,.kj-mathinput-dialog .k-icon.k-i-mu-maj,.k-overflow-container .k-icon.k-i-mu-maj,.kj-mathinput-toolbar .k-font-icon.k-i-mu-maj,.kj-mathinput-popup .k-font-icon.k-i-mu-maj,.kj-mathinput-dialog .k-font-icon.k-i-mu-maj,.k-overflow-container .k-font-icon.k-i-mu-maj,.kj-mathinput-toolbar .k-icon.k-i-nu-maj,.kj-mathinput-popup .k-icon.k-i-nu-maj,.kj-mathinput-dialog .k-icon.k-i-nu-maj,.k-overflow-container .k-icon.k-i-nu-maj,.kj-mathinput-toolbar .k-font-icon.k-i-nu-maj,.kj-mathinput-popup .k-font-icon.k-i-nu-maj,.kj-mathinput-dialog .k-font-icon.k-i-nu-maj,.k-overflow-container .k-font-icon.k-i-nu-maj,.kj-mathinput-toolbar .k-icon.k-i-xi-maj,.kj-mathinput-popup .k-icon.k-i-xi-maj,.kj-mathinput-dialog .k-icon.k-i-xi-maj,.k-overflow-container .k-icon.k-i-xi-maj,.kj-mathinput-toolbar .k-font-icon.k-i-xi-maj,.kj-mathinput-popup .k-font-icon.k-i-xi-maj,.kj-mathinput-dialog .k-font-icon.k-i-xi-maj,.k-overflow-container .k-font-icon.k-i-xi-maj,.kj-mathinput-toolbar .k-icon.k-i-omicron-maj,.kj-mathinput-popup .k-icon.k-i-omicron-maj,.kj-mathinput-dialog .k-icon.k-i-omicron-maj,.k-overflow-container .k-icon.k-i-omicron-maj,.kj-mathinput-toolbar .k-font-icon.k-i-omicron-maj,.kj-mathinput-popup .k-font-icon.k-i-omicron-maj,.kj-mathinput-dialog .k-font-icon.k-i-omicron-maj,.k-overflow-container .k-font-icon.k-i-omicron-maj,.kj-mathinput-toolbar .k-icon.k-i-pi-maj,.kj-mathinput-popup .k-icon.k-i-pi-maj,.kj-mathinput-dialog .k-icon.k-i-pi-maj,.k-overflow-container .k-icon.k-i-pi-maj,.kj-mathinput-toolbar .k-font-icon.k-i-pi-maj,.kj-mathinput-popup .k-font-icon.k-i-pi-maj,.kj-mathinput-dialog .k-font-icon.k-i-pi-maj,.k-overflow-container .k-font-icon.k-i-pi-maj,.kj-mathinput-toolbar .k-icon.k-i-rho-maj,.kj-mathinput-popup .k-icon.k-i-rho-maj,.kj-mathinput-dialog .k-icon.k-i-rho-maj,.k-overflow-container .k-icon.k-i-rho-maj,.kj-mathinput-toolbar .k-font-icon.k-i-rho-maj,.kj-mathinput-popup .k-font-icon.k-i-rho-maj,.kj-mathinput-dialog .k-font-icon.k-i-rho-maj,.k-overflow-container .k-font-icon.k-i-rho-maj,.kj-mathinput-toolbar .k-icon.k-i-sigma-maj,.kj-mathinput-popup .k-icon.k-i-sigma-maj,.kj-mathinput-dialog .k-icon.k-i-sigma-maj,.k-overflow-container .k-icon.k-i-sigma-maj,.kj-mathinput-toolbar .k-font-icon.k-i-sigma-maj,.kj-mathinput-popup .k-font-icon.k-i-sigma-maj,.kj-mathinput-dialog .k-font-icon.k-i-sigma-maj,.k-overflow-container .k-font-icon.k-i-sigma-maj,.kj-mathinput-toolbar .k-icon.k-i-tau-maj,.kj-mathinput-popup .k-icon.k-i-tau-maj,.kj-mathinput-dialog .k-icon.k-i-tau-maj,.k-overflow-container .k-icon.k-i-tau-maj,.kj-mathinput-toolbar .k-font-icon.k-i-tau-maj,.kj-mathinput-popup .k-font-icon.k-i-tau-maj,.kj-mathinput-dialog .k-font-icon.k-i-tau-maj,.k-overflow-container .k-font-icon.k-i-tau-maj,.kj-mathinput-toolbar .k-icon.k-i-upsilon-maj,.kj-mathinput-popup .k-icon.k-i-upsilon-maj,.kj-mathinput-dialog .k-icon.k-i-upsilon-maj,.k-overflow-container .k-icon.k-i-upsilon-maj,.kj-mathinput-toolbar .k-font-icon.k-i-upsilon-maj,.kj-mathinput-popup .k-font-icon.k-i-upsilon-maj,.kj-mathinput-dialog .k-font-icon.k-i-upsilon-maj,.k-overflow-container .k-font-icon.k-i-upsilon-maj,.kj-mathinput-toolbar .k-icon.k-i-phi-maj,.kj-mathinput-popup .k-icon.k-i-phi-maj,.kj-mathinput-dialog .k-icon.k-i-phi-maj,.k-overflow-container .k-icon.k-i-phi-maj,.kj-mathinput-toolbar .k-font-icon.k-i-phi-maj,.kj-mathinput-popup .k-font-icon.k-i-phi-maj,.kj-mathinput-dialog .k-font-icon.k-i-phi-maj,.k-overflow-container .k-font-icon.k-i-phi-maj,.kj-mathinput-toolbar .k-icon.k-i-chi-maj,.kj-mathinput-popup .k-icon.k-i-chi-maj,.kj-mathinput-dialog .k-icon.k-i-chi-maj,.k-overflow-container .k-icon.k-i-chi-maj,.kj-mathinput-toolbar .k-font-icon.k-i-chi-maj,.kj-mathinput-popup .k-font-icon.k-i-chi-maj,.kj-mathinput-dialog .k-font-icon.k-i-chi-maj,.k-overflow-container .k-font-icon.k-i-chi-maj,.kj-mathinput-toolbar .k-icon.k-i-psi-maj,.kj-mathinput-popup .k-icon.k-i-psi-maj,.kj-mathinput-dialog .k-icon.k-i-psi-maj,.k-overflow-container .k-icon.k-i-psi-maj,.kj-mathinput-toolbar .k-font-icon.k-i-psi-maj,.kj-mathinput-popup .k-font-icon.k-i-psi-maj,.kj-mathinput-dialog .k-font-icon.k-i-psi-maj,.k-overflow-container .k-font-icon.k-i-psi-maj,.kj-mathinput-toolbar .k-icon.k-i-omega-maj,.kj-mathinput-popup .k-icon.k-i-omega-maj,.kj-mathinput-dialog .k-icon.k-i-omega-maj,.k-overflow-container .k-icon.k-i-omega-maj,.kj-mathinput-toolbar .k-font-icon.k-i-omega-maj,.kj-mathinput-popup .k-font-icon.k-i-omega-maj,.kj-mathinput-dialog .k-font-icon.k-i-omega-maj,.k-overflow-container .k-font-icon.k-i-omega-maj,.kj-mathinput-toolbar .k-icon.k-i-plusminus,.kj-mathinput-popup .k-icon.k-i-plusminus,.kj-mathinput-dialog .k-icon.k-i-plusminus,.k-overflow-container .k-icon.k-i-plusminus,.kj-mathinput-toolbar .k-font-icon.k-i-plusminus,.kj-mathinput-popup .k-font-icon.k-i-plusminus,.kj-mathinput-dialog .k-font-icon.k-i-plusminus,.k-overflow-container .k-font-icon.k-i-plusminus,.kj-mathinput-toolbar .k-icon.k-i-percent,.kj-mathinput-popup .k-icon.k-i-percent,.kj-mathinput-dialog .k-icon.k-i-percent,.k-overflow-container .k-icon.k-i-percent,.kj-mathinput-toolbar .k-font-icon.k-i-percent,.kj-mathinput-popup .k-font-icon.k-i-percent,.kj-mathinput-dialog .k-font-icon.k-i-percent,.k-overflow-container .k-font-icon.k-i-percent,.kj-mathinput-toolbar .k-icon.k-i-lt,.kj-mathinput-popup .k-icon.k-i-lt,.kj-mathinput-dialog .k-icon.k-i-lt,.k-overflow-container .k-icon.k-i-lt,.kj-mathinput-toolbar .k-font-icon.k-i-lt,.kj-mathinput-popup .k-font-icon.k-i-lt,.kj-mathinput-dialog .k-font-icon.k-i-lt,.k-overflow-container .k-font-icon.k-i-lt,.kj-mathinput-toolbar .k-icon.k-i-le,.kj-mathinput-popup .k-icon.k-i-le,.kj-mathinput-dialog .k-icon.k-i-le,.k-overflow-container .k-icon.k-i-le,.kj-mathinput-toolbar .k-font-icon.k-i-le,.kj-mathinput-popup .k-font-icon.k-i-le,.kj-mathinput-dialog .k-font-icon.k-i-le,.k-overflow-container .k-font-icon.k-i-le,.kj-mathinput-toolbar .k-icon.k-i-gt,.kj-mathinput-popup .k-icon.k-i-gt,.kj-mathinput-dialog .k-icon.k-i-gt,.k-overflow-container .k-icon.k-i-gt,.kj-mathinput-toolbar .k-font-icon.k-i-gt,.kj-mathinput-popup .k-font-icon.k-i-gt,.kj-mathinput-dialog .k-font-icon.k-i-gt,.k-overflow-container .k-font-icon.k-i-gt,.kj-mathinput-toolbar .k-icon.k-i-ge,.kj-mathinput-popup .k-icon.k-i-ge,.kj-mathinput-dialog .k-icon.k-i-ge,.k-overflow-container .k-icon.k-i-ge,.kj-mathinput-toolbar .k-font-icon.k-i-ge,.kj-mathinput-popup .k-font-icon.k-i-ge,.kj-mathinput-dialog .k-font-icon.k-i-ge,.k-overflow-container .k-font-icon.k-i-ge,.kj-mathinput-toolbar .k-icon.k-i-approx,.kj-mathinput-popup .k-icon.k-i-approx,.kj-mathinput-dialog .k-icon.k-i-approx,.k-overflow-container .k-icon.k-i-approx,.kj-mathinput-toolbar .k-font-icon.k-i-approx,.kj-mathinput-popup .k-font-icon.k-i-approx,.kj-mathinput-dialog .k-font-icon.k-i-approx,.k-overflow-container .k-font-icon.k-i-approx,.kj-mathinput-toolbar .k-icon.k-i-propto,.kj-mathinput-popup .k-icon.k-i-propto,.kj-mathinput-dialog .k-icon.k-i-propto,.k-overflow-container .k-icon.k-i-propto,.kj-mathinput-toolbar .k-font-icon.k-i-propto,.kj-mathinput-popup .k-font-icon.k-i-propto,.kj-mathinput-dialog .k-font-icon.k-i-propto,.k-overflow-container .k-font-icon.k-i-propto,.kj-mathinput-toolbar .k-icon.k-i-not,.kj-mathinput-popup .k-icon.k-i-not,.kj-mathinput-dialog .k-icon.k-i-not,.k-overflow-container .k-icon.k-i-not,.kj-mathinput-toolbar .k-font-icon.k-i-not,.kj-mathinput-popup .k-font-icon.k-i-not,.kj-mathinput-dialog .k-font-icon.k-i-not,.k-overflow-container .k-font-icon.k-i-not,.kj-mathinput-toolbar .k-icon.k-i-neq,.kj-mathinput-popup .k-icon.k-i-neq,.kj-mathinput-dialog .k-icon.k-i-neq,.k-overflow-container .k-icon.k-i-neq,.kj-mathinput-toolbar .k-font-icon.k-i-neq,.kj-mathinput-popup .k-font-icon.k-i-neq,.kj-mathinput-dialog .k-font-icon.k-i-neq,.k-overflow-container .k-font-icon.k-i-neq,.kj-mathinput-toolbar .k-icon.k-i-and,.kj-mathinput-popup .k-icon.k-i-and,.kj-mathinput-dialog .k-icon.k-i-and,.k-overflow-container .k-icon.k-i-and,.kj-mathinput-toolbar .k-font-icon.k-i-and,.kj-mathinput-popup .k-font-icon.k-i-and,.kj-mathinput-dialog .k-font-icon.k-i-and,.k-overflow-container .k-font-icon.k-i-and,.kj-mathinput-toolbar .k-icon.k-i-or,.kj-mathinput-popup .k-icon.k-i-or,.kj-mathinput-dialog .k-icon.k-i-or,.k-overflow-container .k-icon.k-i-or,.kj-mathinput-toolbar .k-font-icon.k-i-or,.kj-mathinput-popup .k-font-icon.k-i-or,.kj-mathinput-dialog .k-font-icon.k-i-or,.k-overflow-container .k-font-icon.k-i-or,.kj-mathinput-toolbar .k-icon.k-i-circ,.kj-mathinput-popup .k-icon.k-i-circ,.kj-mathinput-dialog .k-icon.k-i-circ,.k-overflow-container .k-icon.k-i-circ,.kj-mathinput-toolbar .k-font-icon.k-i-circ,.kj-mathinput-popup .k-font-icon.k-i-circ,.kj-mathinput-dialog .k-font-icon.k-i-circ,.k-overflow-container .k-font-icon.k-i-circ,.kj-mathinput-toolbar .k-icon.k-i-nabla,.kj-mathinput-popup .k-icon.k-i-nabla,.kj-mathinput-dialog .k-icon.k-i-nabla,.k-overflow-container .k-icon.k-i-nabla,.kj-mathinput-toolbar .k-font-icon.k-i-nabla,.kj-mathinput-popup .k-font-icon.k-i-nabla,.kj-mathinput-dialog .k-font-icon.k-i-nabla,.k-overflow-container .k-font-icon.k-i-nabla,.kj-mathinput-toolbar .k-icon.k-i-cset,.kj-mathinput-popup .k-icon.k-i-cset,.kj-mathinput-dialog .k-icon.k-i-cset,.k-overflow-container .k-icon.k-i-cset,.kj-mathinput-toolbar .k-font-icon.k-i-cset,.kj-mathinput-popup .k-font-icon.k-i-cset,.kj-mathinput-dialog .k-font-icon.k-i-cset,.k-overflow-container .k-font-icon.k-i-cset,.kj-mathinput-toolbar .k-icon.k-h-iset,.kj-mathinput-popup .k-icon.k-h-iset,.kj-mathinput-dialog .k-icon.k-h-iset,.k-overflow-container .k-icon.k-h-iset,.kj-mathinput-toolbar .k-font-icon.k-h-iset,.kj-mathinput-popup .k-font-icon.k-h-iset,.kj-mathinput-dialog .k-font-icon.k-h-iset,.k-overflow-container .k-font-icon.k-h-iset,.kj-mathinput-toolbar .k-icon.k-i-nset,.kj-mathinput-popup .k-icon.k-i-nset,.kj-mathinput-dialog .k-icon.k-i-nset,.k-overflow-container .k-icon.k-i-nset,.kj-mathinput-toolbar .k-font-icon.k-i-nset,.kj-mathinput-popup .k-font-icon.k-i-nset,.kj-mathinput-dialog .k-font-icon.k-i-nset,.k-overflow-container .k-font-icon.k-i-nset,.kj-mathinput-toolbar .k-icon.k-i-pset,.kj-mathinput-popup .k-icon.k-i-pset,.kj-mathinput-dialog .k-icon.k-i-pset,.k-overflow-container .k-icon.k-i-pset,.kj-mathinput-toolbar .k-font-icon.k-i-pset,.kj-mathinput-popup .k-font-icon.k-i-pset,.kj-mathinput-dialog .k-font-icon.k-i-pset,.k-overflow-container .k-font-icon.k-i-pset,.kj-mathinput-toolbar .k-icon.k-i-qset,.kj-mathinput-popup .k-icon.k-i-qset,.kj-mathinput-dialog .k-icon.k-i-qset,.k-overflow-container .k-icon.k-i-qset,.kj-mathinput-toolbar .k-font-icon.k-i-qset,.kj-mathinput-popup .k-font-icon.k-i-qset,.kj-mathinput-dialog .k-font-icon.k-i-qset,.k-overflow-container .k-font-icon.k-i-qset,.kj-mathinput-toolbar .k-icon.k-i-rset,.kj-mathinput-popup .k-icon.k-i-rset,.kj-mathinput-dialog .k-icon.k-i-rset,.k-overflow-container .k-icon.k-i-rset,.kj-mathinput-toolbar .k-font-icon.k-i-rset,.kj-mathinput-popup .k-font-icon.k-i-rset,.kj-mathinput-dialog .k-font-icon.k-i-rset,.k-overflow-container .k-font-icon.k-i-rset,.kj-mathinput-toolbar .k-icon.k-i-zset,.kj-mathinput-popup .k-icon.k-i-zset,.kj-mathinput-dialog .k-icon.k-i-zset,.k-overflow-container .k-icon.k-i-zset,.kj-mathinput-toolbar .k-font-icon.k-i-zset,.kj-mathinput-popup .k-font-icon.k-i-zset,.kj-mathinput-dialog .k-font-icon.k-i-zset,.k-overflow-container .k-font-icon.k-i-zset,.kj-mathinput-toolbar .k-icon.k-i-emptyset,.kj-mathinput-popup .k-icon.k-i-emptyset,.kj-mathinput-dialog .k-icon.k-i-emptyset,.k-overflow-container .k-icon.k-i-emptyset,.kj-mathinput-toolbar .k-font-icon.k-i-emptyset,.kj-mathinput-popup .k-font-icon.k-i-emptyset,.kj-mathinput-dialog .k-font-icon.k-i-emptyset,.k-overflow-container .k-font-icon.k-i-emptyset,.kj-mathinput-toolbar .k-icon.k-i-forall,.kj-mathinput-popup .k-icon.k-i-forall,.kj-mathinput-dialog .k-icon.k-i-forall,.k-overflow-container .k-icon.k-i-forall,.kj-mathinput-toolbar .k-font-icon.k-i-forall,.kj-mathinput-popup .k-font-icon.k-i-forall,.kj-mathinput-dialog .k-font-icon.k-i-forall,.k-overflow-container .k-font-icon.k-i-forall,.kj-mathinput-toolbar .k-icon.k-i-exists,.kj-mathinput-popup .k-icon.k-i-exists,.kj-mathinput-dialog .k-icon.k-i-exists,.k-overflow-container .k-icon.k-i-exists,.kj-mathinput-toolbar .k-font-icon.k-i-exists,.kj-mathinput-popup .k-font-icon.k-i-exists,.kj-mathinput-dialog .k-font-icon.k-i-exists,.k-overflow-container .k-font-icon.k-i-exists,.kj-mathinput-toolbar .k-icon.k-i-nexists,.kj-mathinput-popup .k-icon.k-i-nexists,.kj-mathinput-dialog .k-icon.k-i-nexists,.k-overflow-container .k-icon.k-i-nexists,.kj-mathinput-toolbar .k-font-icon.k-i-nexists,.kj-mathinput-popup .k-font-icon.k-i-nexists,.kj-mathinput-dialog .k-font-icon.k-i-nexists,.k-overflow-container .k-font-icon.k-i-nexists,.kj-mathinput-toolbar .k-icon.k-i-in,.kj-mathinput-popup .k-icon.k-i-in,.kj-mathinput-dialog .k-icon.k-i-in,.k-overflow-container .k-icon.k-i-in,.kj-mathinput-toolbar .k-font-icon.k-i-in,.kj-mathinput-popup .k-font-icon.k-i-in,.kj-mathinput-dialog .k-font-icon.k-i-in,.k-overflow-container .k-font-icon.k-i-in,.kj-mathinput-toolbar .k-icon.k-i-nin,.kj-mathinput-popup .k-icon.k-i-nin,.kj-mathinput-dialog .k-icon.k-i-nin,.k-overflow-container .k-icon.k-i-nin,.kj-mathinput-toolbar .k-font-icon.k-i-nin,.kj-mathinput-popup .k-font-icon.k-i-nin,.kj-mathinput-dialog .k-font-icon.k-i-nin,.k-overflow-container .k-font-icon.k-i-nin,.kj-mathinput-toolbar .k-icon.k-i-subset,.kj-mathinput-popup .k-icon.k-i-subset,.kj-mathinput-dialog .k-icon.k-i-subset,.k-overflow-container .k-icon.k-i-subset,.kj-mathinput-toolbar .k-font-icon.k-i-subset,.kj-mathinput-popup .k-font-icon.k-i-subset,.kj-mathinput-dialog .k-font-icon.k-i-subset,.k-overflow-container .k-font-icon.k-i-subset,.kj-mathinput-toolbar .k-icon.k-i-supset,.kj-mathinput-popup .k-icon.k-i-supset,.kj-mathinput-dialog .k-icon.k-i-supset,.k-overflow-container .k-icon.k-i-supset,.kj-mathinput-toolbar .k-font-icon.k-i-supset,.kj-mathinput-popup .k-font-icon.k-i-supset,.kj-mathinput-dialog .k-font-icon.k-i-supset,.k-overflow-container .k-font-icon.k-i-supset,.kj-mathinput-toolbar .k-icon.k-i-nsubset,.kj-mathinput-popup .k-icon.k-i-nsubset,.kj-mathinput-dialog .k-icon.k-i-nsubset,.k-overflow-container .k-icon.k-i-nsubset,.kj-mathinput-toolbar .k-font-icon.k-i-nsubset,.kj-mathinput-popup .k-font-icon.k-i-nsubset,.kj-mathinput-dialog .k-font-icon.k-i-nsubset,.k-overflow-container .k-font-icon.k-i-nsubset,.kj-mathinput-toolbar .k-icon.k-i-nsupset,.kj-mathinput-popup .k-icon.k-i-nsupset,.kj-mathinput-dialog .k-icon.k-i-nsupset,.k-overflow-container .k-icon.k-i-nsupset,.kj-mathinput-toolbar .k-font-icon.k-i-nsupset,.kj-mathinput-popup .k-font-icon.k-i-nsupset,.kj-mathinput-dialog .k-font-icon.k-i-nsupset,.k-overflow-container .k-font-icon.k-i-nsupset,.kj-mathinput-toolbar .k-icon.k-i-intersection,.kj-mathinput-popup .k-icon.k-i-intersection,.kj-mathinput-dialog .k-icon.k-i-intersection,.k-overflow-container .k-icon.k-i-intersection,.kj-mathinput-toolbar .k-font-icon.k-i-intersection,.kj-mathinput-popup .k-font-icon.k-i-intersection,.kj-mathinput-dialog .k-font-icon.k-i-intersection,.k-overflow-container .k-font-icon.k-i-intersection,.kj-mathinput-toolbar .k-icon.k-i-union,.kj-mathinput-popup .k-icon.k-i-union,.kj-mathinput-dialog .k-icon.k-i-union,.k-overflow-container .k-icon.k-i-union,.kj-mathinput-toolbar .k-font-icon.k-i-union,.kj-mathinput-popup .k-font-icon.k-i-union,.kj-mathinput-dialog .k-font-icon.k-i-union,.k-overflow-container .k-font-icon.k-i-union,.kj-mathinput-toolbar .k-icon.k-i-to,.kj-mathinput-popup .k-icon.k-i-to,.kj-mathinput-dialog .k-icon.k-i-to,.k-overflow-container .k-icon.k-i-to,.kj-mathinput-toolbar .k-font-icon.k-i-to,.kj-mathinput-popup .k-font-icon.k-i-to,.kj-mathinput-dialog .k-font-icon.k-i-to,.k-overflow-container .k-font-icon.k-i-to,.kj-mathinput-toolbar .k-icon.k-i-implies,.kj-mathinput-popup .k-icon.k-i-implies,.kj-mathinput-dialog .k-icon.k-i-implies,.k-overflow-container .k-icon.k-i-implies,.kj-mathinput-toolbar .k-font-icon.k-i-implies,.kj-mathinput-popup .k-font-icon.k-i-implies,.kj-mathinput-dialog .k-font-icon.k-i-implies,.k-overflow-container .k-font-icon.k-i-implies,.kj-mathinput-toolbar .k-icon.k-i-impliedby,.kj-mathinput-popup .k-icon.k-i-impliedby,.kj-mathinput-dialog .k-icon.k-i-impliedby,.k-overflow-container .k-icon.k-i-impliedby,.kj-mathinput-toolbar .k-font-icon.k-i-impliedby,.kj-mathinput-popup .k-font-icon.k-i-impliedby,.kj-mathinput-dialog .k-font-icon.k-i-impliedby,.k-overflow-container .k-font-icon.k-i-impliedby,.kj-mathinput-toolbar .k-icon.k-i-nimplies,.kj-mathinput-popup .k-icon.k-i-nimplies,.kj-mathinput-dialog .k-icon.k-i-nimplies,.k-overflow-container .k-icon.k-i-nimplies,.kj-mathinput-toolbar .k-font-icon.k-i-nimplies,.kj-mathinput-popup .k-font-icon.k-i-nimplies,.kj-mathinput-dialog .k-font-icon.k-i-nimplies,.k-overflow-container .k-font-icon.k-i-nimplies,.kj-mathinput-toolbar .k-icon.k-i-iff,.kj-mathinput-popup .k-icon.k-i-iff,.kj-mathinput-dialog .k-icon.k-i-iff,.k-overflow-container .k-icon.k-i-iff,.kj-mathinput-toolbar .k-font-icon.k-i-iff,.kj-mathinput-popup .k-font-icon.k-i-iff,.kj-mathinput-dialog .k-font-icon.k-i-iff,.k-overflow-container .k-font-icon.k-i-iff{font:16px/1 Symbola !important}.kj-mathinput-toolbar .k-i-field:before,.kj-mathinput-popup .k-i-field:before,.kj-mathinput-dialog .k-i-field:before,.k-overflow-container .k-i-field:before{content:"\\E700"}.kj-mathinput-toolbar .k-i-backspace:before,.kj-mathinput-popup .k-i-backspace:before,.kj-mathinput-dialog .k-i-backspace:before,.k-overflow-container .k-i-backspace:before{content:"\\232B"}.kj-mathinput-toolbar .k-i-keypad:before,.kj-mathinput-popup .k-i-keypad:before,.kj-mathinput-dialog .k-i-keypad:before,.k-overflow-container .k-i-keypad:before{content:"\\2328"}.kj-mathinput-toolbar .k-i-basic:before,.kj-mathinput-popup .k-i-basic:before,.kj-mathinput-dialog .k-i-basic:before,.k-overflow-container .k-i-basic:before{content:"\\E701"}.kj-mathinput-toolbar .k-i-greek:before,.kj-mathinput-popup .k-i-greek:before,.kj-mathinput-dialog .k-i-greek:before,.k-overflow-container .k-i-greek:before{content:"\\3B1"}.kj-mathinput-toolbar .k-i-operators:before,.kj-mathinput-popup .k-i-operators:before,.kj-mathinput-dialog .k-i-operators:before,.k-overflow-container .k-i-operators:before{content:"\\B1"}.kj-mathinput-toolbar .k-i-expressions:before,.kj-mathinput-popup .k-i-expressions:before,.kj-mathinput-dialog .k-i-expressions:before,.k-overflow-container .k-i-expressions:before{content:"\\E702"}.kj-mathinput-toolbar .k-i-sets:before,.kj-mathinput-popup .k-i-sets:before,.kj-mathinput-dialog .k-i-sets:before,.k-overflow-container .k-i-sets:before{content:"\\26AD"}.kj-mathinput-toolbar .k-i-matrices:before,.kj-mathinput-popup .k-i-matrices:before,.kj-mathinput-dialog .k-i-matrices:before,.k-overflow-container .k-i-matrices:before{content:"\\E751"}.kj-mathinput-toolbar .k-i-statistics:before,.kj-mathinput-popup .k-i-statistics:before,.kj-mathinput-dialog .k-i-statistics:before,.k-overflow-container .k-i-statistics:before{content:"\\2680"}.kj-mathinput-toolbar .k-i-comma:before,.kj-mathinput-popup .k-i-comma:before,.kj-mathinput-dialog .k-i-comma:before,.k-overflow-container .k-i-comma:before{content:","}.kj-mathinput-toolbar .k-i-stop:before,.kj-mathinput-popup .k-i-stop:before,.kj-mathinput-dialog .k-i-stop:before,.k-overflow-container .k-i-stop:before{content:"."}.kj-mathinput-toolbar .k-i-n0:before,.kj-mathinput-popup .k-i-n0:before,.kj-mathinput-dialog .k-i-n0:before,.k-overflow-container .k-i-n0:before{content:"0"}.kj-mathinput-toolbar .k-i-n1:before,.kj-mathinput-popup .k-i-n1:before,.kj-mathinput-dialog .k-i-n1:before,.k-overflow-container .k-i-n1:before{content:"1"}.kj-mathinput-toolbar .k-i-n2:before,.kj-mathinput-popup .k-i-n2:before,.kj-mathinput-dialog .k-i-n2:before,.k-overflow-container .k-i-n2:before{content:"2"}.kj-mathinput-toolbar .k-i-n3:before,.kj-mathinput-popup .k-i-n3:before,.kj-mathinput-dialog .k-i-n3:before,.k-overflow-container .k-i-n3:before{content:"3"}.kj-mathinput-toolbar .k-i-n4:before,.kj-mathinput-popup .k-i-n4:before,.kj-mathinput-dialog .k-i-n4:before,.k-overflow-container .k-i-n4:before{content:"4"}.kj-mathinput-toolbar .k-i-n5:before,.kj-mathinput-popup .k-i-n5:before,.kj-mathinput-dialog .k-i-n5:before,.k-overflow-container .k-i-n5:before{content:"5"}.kj-mathinput-toolbar .k-i-n6:before,.kj-mathinput-popup .k-i-n6:before,.kj-mathinput-dialog .k-i-n6:before,.k-overflow-container .k-i-n6:before{content:"6"}.kj-mathinput-toolbar .k-i-n7:before,.kj-mathinput-popup .k-i-n7:before,.kj-mathinput-dialog .k-i-n7:before,.k-overflow-container .k-i-n7:before{content:"7"}.kj-mathinput-toolbar .k-i-n8:before,.kj-mathinput-popup .k-i-n8:before,.kj-mathinput-dialog .k-i-n8:before,.k-overflow-container .k-i-n8:before{content:"8"}.kj-mathinput-toolbar .k-i-n9:before,.kj-mathinput-popup .k-i-n9:before,.kj-mathinput-dialog .k-i-n9:before,.k-overflow-container .k-i-n9:before{content:"9"}.kj-mathinput-toolbar .k-i-a:before,.kj-mathinput-popup .k-i-a:before,.kj-mathinput-dialog .k-i-a:before,.k-overflow-container .k-i-a:before{content:"a"}.kj-mathinput-toolbar .k-i-b:before,.kj-mathinput-popup .k-i-b:before,.kj-mathinput-dialog .k-i-b:before,.k-overflow-container .k-i-b:before{content:"b"}.kj-mathinput-toolbar .k-i-c:before,.kj-mathinput-popup .k-i-c:before,.kj-mathinput-dialog .k-i-c:before,.k-overflow-container .k-i-c:before{content:"c"}.kj-mathinput-toolbar .k-i-i:before,.kj-mathinput-popup .k-i-i:before,.kj-mathinput-dialog .k-i-i:before,.k-overflow-container .k-i-i:before{content:"i"}.kj-mathinput-toolbar .k-i-j:before,.kj-mathinput-popup .k-i-j:before,.kj-mathinput-dialog .k-i-j:before,.k-overflow-container .k-i-j:before{content:"j"}.kj-mathinput-toolbar .k-i-k:before,.kj-mathinput-popup .k-i-k:before,.kj-mathinput-dialog .k-i-k:before,.k-overflow-container .k-i-k:before{content:"k"}.kj-mathinput-toolbar .k-i-n:before,.kj-mathinput-popup .k-i-n:before,.kj-mathinput-dialog .k-i-n:before,.k-overflow-container .k-i-n:before{content:"n"}.kj-mathinput-toolbar .k-i-p:before,.kj-mathinput-popup .k-i-p:before,.kj-mathinput-dialog .k-i-p:before,.k-overflow-container .k-i-p:before{content:"p"}.kj-mathinput-toolbar .k-i-q:before,.kj-mathinput-popup .k-i-q:before,.kj-mathinput-dialog .k-i-q:before,.k-overflow-container .k-i-q:before{content:"q"}.kj-mathinput-toolbar .k-i-x:before,.kj-mathinput-popup .k-i-x:before,.kj-mathinput-dialog .k-i-x:before,.k-overflow-container .k-i-x:before{content:"x"}.kj-mathinput-toolbar .k-i-y:before,.kj-mathinput-popup .k-i-y:before,.kj-mathinput-dialog .k-i-y:before,.k-overflow-container .k-i-y:before{content:"y"}.kj-mathinput-toolbar .k-i-z:before,.kj-mathinput-popup .k-i-z:before,.kj-mathinput-dialog .k-i-z:before,.k-overflow-container .k-i-z:before{content:"z"}.kj-mathinput-toolbar .k-i-infty:before,.kj-mathinput-popup .k-i-infty:before,.kj-mathinput-dialog .k-i-infty:before,.k-overflow-container .k-i-infty:before{content:"\\221E"}.kj-mathinput-toolbar .k-i-space:before,.kj-mathinput-popup .k-i-space:before,.kj-mathinput-dialog .k-i-space:before,.k-overflow-container .k-i-space:before{content:"\\FE48"}.kj-mathinput-toolbar .k-i-subscript:before,.kj-mathinput-popup .k-i-subscript:before,.kj-mathinput-dialog .k-i-subscript:before,.k-overflow-container .k-i-subscript:before{content:"\\E711"}.kj-mathinput-toolbar .k-i-equal:before,.kj-mathinput-popup .k-i-equal:before,.kj-mathinput-dialog .k-i-equal:before,.k-overflow-container .k-i-equal:before{content:"="}.kj-mathinput-toolbar .k-i-plus:before,.kj-mathinput-popup .k-i-plus:before,.kj-mathinput-dialog .k-i-plus:before,.k-overflow-container .k-i-plus:before{content:"+"}.kj-mathinput-toolbar .k-i-minus:before,.kj-mathinput-popup .k-i-minus:before,.kj-mathinput-dialog .k-i-minus:before,.k-overflow-container .k-i-minus:before{content:"-"}.kj-mathinput-toolbar .k-i-times:before,.kj-mathinput-popup .k-i-times:before,.kj-mathinput-dialog .k-i-times:before,.k-overflow-container .k-i-times:before{content:"\\D7"}.kj-mathinput-toolbar .k-i-cdot:before,.kj-mathinput-popup .k-i-cdot:before,.kj-mathinput-dialog .k-i-cdot:before,.k-overflow-container .k-i-cdot:before{content:"\\B7"}.kj-mathinput-toolbar .k-i-div:before,.kj-mathinput-popup .k-i-div:before,.kj-mathinput-dialog .k-i-div:before,.k-overflow-container .k-i-div:before{content:"\\F7"}.kj-mathinput-toolbar .k-i-frac:before,.kj-mathinput-popup .k-i-frac:before,.kj-mathinput-dialog .k-i-frac:before,.k-overflow-container .k-i-frac:before{content:"\\E710"}.kj-mathinput-toolbar .k-i-sqrt:before,.kj-mathinput-popup .k-i-sqrt:before,.kj-mathinput-dialog .k-i-sqrt:before,.k-overflow-container .k-i-sqrt:before{content:"\\221A"}.kj-mathinput-toolbar .k-i-pow2:before,.kj-mathinput-popup .k-i-pow2:before,.kj-mathinput-dialog .k-i-pow2:before,.k-overflow-container .k-i-pow2:before{content:"\\E722"}.kj-mathinput-toolbar .k-i-pow3:before,.kj-mathinput-popup .k-i-pow3:before,.kj-mathinput-dialog .k-i-pow3:before,.k-overflow-container .k-i-pow3:before{content:"\\E723"}.kj-mathinput-toolbar .k-i-sin:before,.kj-mathinput-popup .k-i-sin:before,.kj-mathinput-dialog .k-i-sin:before,.k-overflow-container .k-i-sin:before{content:"\\E730"}.kj-mathinput-toolbar .k-i-cos:before,.kj-mathinput-popup .k-i-cos:before,.kj-mathinput-dialog .k-i-cos:before,.k-overflow-container .k-i-cos:before{content:"\\E731"}.kj-mathinput-toolbar .k-i-tan:before,.kj-mathinput-popup .k-i-tan:before,.kj-mathinput-dialog .k-i-tan:before,.k-overflow-container .k-i-tan:before{content:"\\E732"}.kj-mathinput-toolbar .k-i-pleft:before,.kj-mathinput-popup .k-i-pleft:before,.kj-mathinput-dialog .k-i-pleft:before,.k-overflow-container .k-i-pleft:before{content:"("}.kj-mathinput-toolbar .k-i-pright:before,.kj-mathinput-popup .k-i-pright:before,.kj-mathinput-dialog .k-i-pright:before,.k-overflow-container .k-i-pright:before{content:")"}.kj-mathinput-toolbar .k-i-alpha:before,.kj-mathinput-popup .k-i-alpha:before,.kj-mathinput-dialog .k-i-alpha:before,.k-overflow-container .k-i-alpha:before{content:"\\3B1"}.kj-mathinput-toolbar .k-i-beta:before,.kj-mathinput-popup .k-i-beta:before,.kj-mathinput-dialog .k-i-beta:before,.k-overflow-container .k-i-beta:before{content:"\\3B2"}.kj-mathinput-toolbar .k-i-gamma:before,.kj-mathinput-popup .k-i-gamma:before,.kj-mathinput-dialog .k-i-gamma:before,.k-overflow-container .k-i-gamma:before{content:"\\3B3"}.kj-mathinput-toolbar .k-i-delta:before,.kj-mathinput-popup .k-i-delta:before,.kj-mathinput-dialog .k-i-delta:before,.k-overflow-container .k-i-delta:before{content:"\\3B4"}.kj-mathinput-toolbar .k-i-epsilon:before,.kj-mathinput-popup .k-i-epsilon:before,.kj-mathinput-dialog .k-i-epsilon:before,.k-overflow-container .k-i-epsilon:before{content:"\\3B5"}.kj-mathinput-toolbar .k-i-zeta:before,.kj-mathinput-popup .k-i-zeta:before,.kj-mathinput-dialog .k-i-zeta:before,.k-overflow-container .k-i-zeta:before{content:"\\3B6"}.kj-mathinput-toolbar .k-i-eta:before,.kj-mathinput-popup .k-i-eta:before,.kj-mathinput-dialog .k-i-eta:before,.k-overflow-container .k-i-eta:before{content:"\\3B7"}.kj-mathinput-toolbar .k-i-theta:before,.kj-mathinput-popup .k-i-theta:before,.kj-mathinput-dialog .k-i-theta:before,.k-overflow-container .k-i-theta:before{content:"\\3B8"}.kj-mathinput-toolbar .k-i-iota:before,.kj-mathinput-popup .k-i-iota:before,.kj-mathinput-dialog .k-i-iota:before,.k-overflow-container .k-i-iota:before{content:"\\3B9"}.kj-mathinput-toolbar .k-i-kappa:before,.kj-mathinput-popup .k-i-kappa:before,.kj-mathinput-dialog .k-i-kappa:before,.k-overflow-container .k-i-kappa:before{content:"\\3BA"}.kj-mathinput-toolbar .k-i-lambda:before,.kj-mathinput-popup .k-i-lambda:before,.kj-mathinput-dialog .k-i-lambda:before,.k-overflow-container .k-i-lambda:before{content:"\\3BB"}.kj-mathinput-toolbar .k-i-mu:before,.kj-mathinput-popup .k-i-mu:before,.kj-mathinput-dialog .k-i-mu:before,.k-overflow-container .k-i-mu:before{content:"\\3BC"}.kj-mathinput-toolbar .k-i-nu:before,.kj-mathinput-popup .k-i-nu:before,.kj-mathinput-dialog .k-i-nu:before,.k-overflow-container .k-i-nu:before{content:"\\3BD"}.kj-mathinput-toolbar .k-i-xi:before,.kj-mathinput-popup .k-i-xi:before,.kj-mathinput-dialog .k-i-xi:before,.k-overflow-container .k-i-xi:before{content:"\\3BE"}.kj-mathinput-toolbar .k-i-omicron:before,.kj-mathinput-popup .k-i-omicron:before,.kj-mathinput-dialog .k-i-omicron:before,.k-overflow-container .k-i-omicron:before{content:"\\3BF"}.kj-mathinput-toolbar .k-i-pi:before,.kj-mathinput-popup .k-i-pi:before,.kj-mathinput-dialog .k-i-pi:before,.k-overflow-container .k-i-pi:before{content:"\\3C0"}.kj-mathinput-toolbar .k-i-rho:before,.kj-mathinput-popup .k-i-rho:before,.kj-mathinput-dialog .k-i-rho:before,.k-overflow-container .k-i-rho:before{content:"\\3C1"}.kj-mathinput-toolbar .k-i-sigma:before,.kj-mathinput-popup .k-i-sigma:before,.kj-mathinput-dialog .k-i-sigma:before,.k-overflow-container .k-i-sigma:before{content:"\\3C3"}.kj-mathinput-toolbar .k-i-tau:before,.kj-mathinput-popup .k-i-tau:before,.kj-mathinput-dialog .k-i-tau:before,.k-overflow-container .k-i-tau:before{content:"\\3C4"}.kj-mathinput-toolbar .k-i-upsilon:before,.kj-mathinput-popup .k-i-upsilon:before,.kj-mathinput-dialog .k-i-upsilon:before,.k-overflow-container .k-i-upsilon:before{content:"\\3C5"}.kj-mathinput-toolbar .k-i-phi:before,.kj-mathinput-popup .k-i-phi:before,.kj-mathinput-dialog .k-i-phi:before,.k-overflow-container .k-i-phi:before{content:"\\3C6"}.kj-mathinput-toolbar .k-i-chi:before,.kj-mathinput-popup .k-i-chi:before,.kj-mathinput-dialog .k-i-chi:before,.k-overflow-container .k-i-chi:before{content:"\\3C7"}.kj-mathinput-toolbar .k-i-psi:before,.kj-mathinput-popup .k-i-psi:before,.kj-mathinput-dialog .k-i-psi:before,.k-overflow-container .k-i-psi:before{content:"\\3C8"}.kj-mathinput-toolbar .k-i-omega:before,.kj-mathinput-popup .k-i-omega:before,.kj-mathinput-dialog .k-i-omega:before,.k-overflow-container .k-i-omega:before{content:"\\3C9"}.kj-mathinput-toolbar .k-i-alpha-maj:before,.kj-mathinput-popup .k-i-alpha-maj:before,.kj-mathinput-dialog .k-i-alpha-maj:before,.k-overflow-container .k-i-alpha-maj:before{content:"\\391"}.kj-mathinput-toolbar .k-i-beta-maj:before,.kj-mathinput-popup .k-i-beta-maj:before,.kj-mathinput-dialog .k-i-beta-maj:before,.k-overflow-container .k-i-beta-maj:before{content:"\\392"}.kj-mathinput-toolbar .k-i-gamma-maj:before,.kj-mathinput-popup .k-i-gamma-maj:before,.kj-mathinput-dialog .k-i-gamma-maj:before,.k-overflow-container .k-i-gamma-maj:before{content:"\\393"}.kj-mathinput-toolbar .k-i-delta-maj:before,.kj-mathinput-popup .k-i-delta-maj:before,.kj-mathinput-dialog .k-i-delta-maj:before,.k-overflow-container .k-i-delta-maj:before{content:"\\394"}.kj-mathinput-toolbar .k-i-epsilon-maj:before,.kj-mathinput-popup .k-i-epsilon-maj:before,.kj-mathinput-dialog .k-i-epsilon-maj:before,.k-overflow-container .k-i-epsilon-maj:before{content:"\\395"}.kj-mathinput-toolbar .k-i-zeta-maj:before,.kj-mathinput-popup .k-i-zeta-maj:before,.kj-mathinput-dialog .k-i-zeta-maj:before,.k-overflow-container .k-i-zeta-maj:before{content:"\\396"}.kj-mathinput-toolbar .k-i-eta-maj:before,.kj-mathinput-popup .k-i-eta-maj:before,.kj-mathinput-dialog .k-i-eta-maj:before,.k-overflow-container .k-i-eta-maj:before{content:"\\397"}.kj-mathinput-toolbar .k-i-theta-maj:before,.kj-mathinput-popup .k-i-theta-maj:before,.kj-mathinput-dialog .k-i-theta-maj:before,.k-overflow-container .k-i-theta-maj:before{content:"\\398"}.kj-mathinput-toolbar .k-i-iota-maj:before,.kj-mathinput-popup .k-i-iota-maj:before,.kj-mathinput-dialog .k-i-iota-maj:before,.k-overflow-container .k-i-iota-maj:before{content:"\\399"}.kj-mathinput-toolbar .k-i-kappa-maj:before,.kj-mathinput-popup .k-i-kappa-maj:before,.kj-mathinput-dialog .k-i-kappa-maj:before,.k-overflow-container .k-i-kappa-maj:before{content:"\\39A"}.kj-mathinput-toolbar .k-i-lambda-maj:before,.kj-mathinput-popup .k-i-lambda-maj:before,.kj-mathinput-dialog .k-i-lambda-maj:before,.k-overflow-container .k-i-lambda-maj:before{content:"\\39B"}.kj-mathinput-toolbar .k-i-mu-maj:before,.kj-mathinput-popup .k-i-mu-maj:before,.kj-mathinput-dialog .k-i-mu-maj:before,.k-overflow-container .k-i-mu-maj:before{content:"\\39C"}.kj-mathinput-toolbar .k-i-nu-maj:before,.kj-mathinput-popup .k-i-nu-maj:before,.kj-mathinput-dialog .k-i-nu-maj:before,.k-overflow-container .k-i-nu-maj:before{content:"\\39D"}.kj-mathinput-toolbar .k-i-xi-maj:before,.kj-mathinput-popup .k-i-xi-maj:before,.kj-mathinput-dialog .k-i-xi-maj:before,.k-overflow-container .k-i-xi-maj:before{content:"\\39E"}.kj-mathinput-toolbar .k-i-omicron-maj:before,.kj-mathinput-popup .k-i-omicron-maj:before,.kj-mathinput-dialog .k-i-omicron-maj:before,.k-overflow-container .k-i-omicron-maj:before{content:"\\39F"}.kj-mathinput-toolbar .k-i-pi-maj:before,.kj-mathinput-popup .k-i-pi-maj:before,.kj-mathinput-dialog .k-i-pi-maj:before,.k-overflow-container .k-i-pi-maj:before{content:"\\3A0"}.kj-mathinput-toolbar .k-i-rho-maj:before,.kj-mathinput-popup .k-i-rho-maj:before,.kj-mathinput-dialog .k-i-rho-maj:before,.k-overflow-container .k-i-rho-maj:before{content:"\\3A1"}.kj-mathinput-toolbar .k-i-sigma-maj:before,.kj-mathinput-popup .k-i-sigma-maj:before,.kj-mathinput-dialog .k-i-sigma-maj:before,.k-overflow-container .k-i-sigma-maj:before{content:"\\3A3"}.kj-mathinput-toolbar .k-i-tau-maj:before,.kj-mathinput-popup .k-i-tau-maj:before,.kj-mathinput-dialog .k-i-tau-maj:before,.k-overflow-container .k-i-tau-maj:before{content:"\\3A4"}.kj-mathinput-toolbar .k-i-upsilon-maj:before,.kj-mathinput-popup .k-i-upsilon-maj:before,.kj-mathinput-dialog .k-i-upsilon-maj:before,.k-overflow-container .k-i-upsilon-maj:before{content:"\\3A5"}.kj-mathinput-toolbar .k-i-phi-maj:before,.kj-mathinput-popup .k-i-phi-maj:before,.kj-mathinput-dialog .k-i-phi-maj:before,.k-overflow-container .k-i-phi-maj:before{content:"\\3A6"}.kj-mathinput-toolbar .k-i-chi-maj:before,.kj-mathinput-popup .k-i-chi-maj:before,.kj-mathinput-dialog .k-i-chi-maj:before,.k-overflow-container .k-i-chi-maj:before{content:"\\3A7"}.kj-mathinput-toolbar .k-i-psi-maj:before,.kj-mathinput-popup .k-i-psi-maj:before,.kj-mathinput-dialog .k-i-psi-maj:before,.k-overflow-container .k-i-psi-maj:before{content:"\\3A8"}.kj-mathinput-toolbar .k-i-omega-maj:before,.kj-mathinput-popup .k-i-omega-maj:before,.kj-mathinput-dialog .k-i-omega-maj:before,.k-overflow-container .k-i-omega-maj:before{content:"\\3A9"}.kj-mathinput-toolbar .k-i-bleft:before,.kj-mathinput-popup .k-i-bleft:before,.kj-mathinput-dialog .k-i-bleft:before,.k-overflow-container .k-i-bleft:before{content:"["}.kj-mathinput-toolbar .k-i-bright:before,.kj-mathinput-popup .k-i-bright:before,.kj-mathinput-dialog .k-i-bright:before,.k-overflow-container .k-i-bright:before{content:"]"}.kj-mathinput-toolbar .k-i-cleft:before,.kj-mathinput-popup .k-i-cleft:before,.kj-mathinput-dialog .k-i-cleft:before,.k-overflow-container .k-i-cleft:before{content:"{"}.kj-mathinput-toolbar .k-i-cright:before,.kj-mathinput-popup .k-i-cright:before,.kj-mathinput-dialog .k-i-cright:before,.k-overflow-container .k-i-cright:before{content:"}"}.kj-mathinput-toolbar .k-i-vleft:before,.kj-mathinput-popup .k-i-vleft:before,.kj-mathinput-dialog .k-i-vleft:before,.k-overflow-container .k-i-vleft:before{content:"\\9B"}.kj-mathinput-toolbar .k-i-vright:before,.kj-mathinput-popup .k-i-vright:before,.kj-mathinput-dialog .k-i-vright:before,.k-overflow-container .k-i-vright:before{content:"\\9D"}.kj-mathinput-toolbar .k-i-plusminus:before,.kj-mathinput-popup .k-i-plusminus:before,.kj-mathinput-dialog .k-i-plusminus:before,.k-overflow-container .k-i-plusminus:before{content:"\\B1"}.kj-mathinput-toolbar .k-i-percent:before,.kj-mathinput-popup .k-i-percent:before,.kj-mathinput-dialog .k-i-percent:before,.k-overflow-container .k-i-percent:before{content:"%"}.kj-mathinput-toolbar .k-i-lt:before,.kj-mathinput-popup .k-i-lt:before,.kj-mathinput-dialog .k-i-lt:before,.k-overflow-container .k-i-lt:before{content:"<"}.kj-mathinput-toolbar .k-i-le:before,.kj-mathinput-popup .k-i-le:before,.kj-mathinput-dialog .k-i-le:before,.k-overflow-container .k-i-le:before{content:"\\2264"}.kj-mathinput-toolbar .k-i-gt:before,.kj-mathinput-popup .k-i-gt:before,.kj-mathinput-dialog .k-i-gt:before,.k-overflow-container .k-i-gt:before{content:">"}.kj-mathinput-toolbar .k-i-ge:before,.kj-mathinput-popup .k-i-ge:before,.kj-mathinput-dialog .k-i-ge:before,.k-overflow-container .k-i-ge:before{content:"\\2265"}.kj-mathinput-toolbar .k-i-approx:before,.kj-mathinput-popup .k-i-approx:before,.kj-mathinput-dialog .k-i-approx:before,.k-overflow-container .k-i-approx:before{content:"\\2248"}.kj-mathinput-toolbar .k-i-propto:before,.kj-mathinput-popup .k-i-propto:before,.kj-mathinput-dialog .k-i-propto:before,.k-overflow-container .k-i-propto:before{content:"\\221D"}.kj-mathinput-toolbar .k-i-not:before,.kj-mathinput-popup .k-i-not:before,.kj-mathinput-dialog .k-i-not:before,.k-overflow-container .k-i-not:before{content:"\\AC"}.kj-mathinput-toolbar .k-i-neq:before,.kj-mathinput-popup .k-i-neq:before,.kj-mathinput-dialog .k-i-neq:before,.k-overflow-container .k-i-neq:before{content:"\\2260"}.kj-mathinput-toolbar .k-i-and:before,.kj-mathinput-popup .k-i-and:before,.kj-mathinput-dialog .k-i-and:before,.k-overflow-container .k-i-and:before{content:"\\2227"}.kj-mathinput-toolbar .k-i-or:before,.kj-mathinput-popup .k-i-or:before,.kj-mathinput-dialog .k-i-or:before,.k-overflow-container .k-i-or:before{content:"\\2228"}.kj-mathinput-toolbar .k-i-circ:before,.kj-mathinput-popup .k-i-circ:before,.kj-mathinput-dialog .k-i-circ:before,.k-overflow-container .k-i-circ:before{content:"\\2218"}.kj-mathinput-toolbar .k-i-nabla:before,.kj-mathinput-popup .k-i-nabla:before,.kj-mathinput-dialog .k-i-nabla:before,.k-overflow-container .k-i-nabla:before{content:"\\2207"}.kj-mathinput-toolbar .k-i-cbrt:before,.kj-mathinput-popup .k-i-cbrt:before,.kj-mathinput-dialog .k-i-cbrt:before,.k-overflow-container .k-i-cbrt:before{content:"\\221B"}.kj-mathinput-toolbar .k-i-nthroot:before,.kj-mathinput-popup .k-i-nthroot:before,.kj-mathinput-dialog .k-i-nthroot:before,.k-overflow-container .k-i-nthroot:before{content:"\\221C"}.kj-mathinput-toolbar .k-i-pow:before,.kj-mathinput-popup .k-i-pow:before,.kj-mathinput-dialog .k-i-pow:before,.k-overflow-container .k-i-pow:before{content:"\\E721"}.kj-mathinput-toolbar .k-i-log:before,.kj-mathinput-popup .k-i-log:before,.kj-mathinput-dialog .k-i-log:before,.k-overflow-container .k-i-log:before{content:"\\E726"}.kj-mathinput-toolbar .k-i-log10:before,.kj-mathinput-popup .k-i-log10:before,.kj-mathinput-dialog .k-i-log10:before,.k-overflow-container .k-i-log10:before{content:"\\E727"}.kj-mathinput-toolbar .k-i-ln:before,.kj-mathinput-popup .k-i-ln:before,.kj-mathinput-dialog .k-i-ln:before,.k-overflow-container .k-i-ln:before{content:"\\E728"}.kj-mathinput-toolbar .k-i-arcsin:before,.kj-mathinput-popup .k-i-arcsin:before,.kj-mathinput-dialog .k-i-arcsin:before,.k-overflow-container .k-i-arcsin:before{content:"\\E733"}.kj-mathinput-toolbar .k-i-arccos:before,.kj-mathinput-popup .k-i-arccos:before,.kj-mathinput-dialog .k-i-arccos:before,.k-overflow-container .k-i-arccos:before{content:"\\E734"}.kj-mathinput-toolbar .k-i-arctan:before,.kj-mathinput-popup .k-i-arctan:before,.kj-mathinput-dialog .k-i-arctan:before,.k-overflow-container .k-i-arctan:before{content:"\\E735"}.kj-mathinput-toolbar .k-i-deriv:before,.kj-mathinput-popup .k-i-deriv:before,.kj-mathinput-dialog .k-i-deriv:before,.k-overflow-container .k-i-deriv:before{content:"\\E740"}.kj-mathinput-toolbar .k-i-partial:before,.kj-mathinput-popup .k-i-partial:before,.kj-mathinput-dialog .k-i-partial:before,.k-overflow-container .k-i-partial:before{content:"\\E741"}.kj-mathinput-toolbar .k-i-int:before,.kj-mathinput-popup .k-i-int:before,.kj-mathinput-dialog .k-i-int:before,.k-overflow-container .k-i-int:before{content:"\\E742"}.kj-mathinput-toolbar .k-i-oint:before,.kj-mathinput-popup .k-i-oint:before,.kj-mathinput-dialog .k-i-oint:before,.k-overflow-container .k-i-oint:before{content:"\\E743"}.kj-mathinput-toolbar .k-i-sum-ex:before,.kj-mathinput-popup .k-i-sum-ex:before,.kj-mathinput-dialog .k-i-sum-ex:before,.k-overflow-container .k-i-sum-ex:before{content:"\\E744"}.kj-mathinput-toolbar .k-i-prod:before,.kj-mathinput-popup .k-i-prod:before,.kj-mathinput-dialog .k-i-prod:before,.k-overflow-container .k-i-prod:before{content:"\\E745"}.kj-mathinput-toolbar .k-i-lim:before,.kj-mathinput-popup .k-i-lim:before,.kj-mathinput-dialog .k-i-lim:before,.k-overflow-container .k-i-lim:before{content:"\\E746"}.kj-mathinput-toolbar .k-i-cset:before,.kj-mathinput-popup .k-i-cset:before,.kj-mathinput-dialog .k-i-cset:before,.k-overflow-container .k-i-cset:before{content:"\\2102"}.kj-mathinput-toolbar .k-h-iset:before,.kj-mathinput-popup .k-h-iset:before,.kj-mathinput-dialog .k-h-iset:before,.k-overflow-container .k-h-iset:before{content:"\\210D"}.kj-mathinput-toolbar .k-i-nset:before,.kj-mathinput-popup .k-i-nset:before,.kj-mathinput-dialog .k-i-nset:before,.k-overflow-container .k-i-nset:before{content:"\\2115"}.kj-mathinput-toolbar .k-i-pset:before,.kj-mathinput-popup .k-i-pset:before,.kj-mathinput-dialog .k-i-pset:before,.k-overflow-container .k-i-pset:before{content:"\\2119"}.kj-mathinput-toolbar .k-i-qset:before,.kj-mathinput-popup .k-i-qset:before,.kj-mathinput-dialog .k-i-qset:before,.k-overflow-container .k-i-qset:before{content:"\\211A"}.kj-mathinput-toolbar .k-i-rset:before,.kj-mathinput-popup .k-i-rset:before,.kj-mathinput-dialog .k-i-rset:before,.k-overflow-container .k-i-rset:before{content:"\\211D"}.kj-mathinput-toolbar .k-i-zset:before,.kj-mathinput-popup .k-i-zset:before,.kj-mathinput-dialog .k-i-zset:before,.k-overflow-container .k-i-zset:before{content:"\\2124"}.kj-mathinput-toolbar .k-i-emptyset:before,.kj-mathinput-popup .k-i-emptyset:before,.kj-mathinput-dialog .k-i-emptyset:before,.k-overflow-container .k-i-emptyset:before{content:"\\2205"}.kj-mathinput-toolbar .k-i-forall:before,.kj-mathinput-popup .k-i-forall:before,.kj-mathinput-dialog .k-i-forall:before,.k-overflow-container .k-i-forall:before{content:"\\2200"}.kj-mathinput-toolbar .k-i-exists:before,.kj-mathinput-popup .k-i-exists:before,.kj-mathinput-dialog .k-i-exists:before,.k-overflow-container .k-i-exists:before{content:"\\2203"}.kj-mathinput-toolbar .k-i-nexists:before,.kj-mathinput-popup .k-i-nexists:before,.kj-mathinput-dialog .k-i-nexists:before,.k-overflow-container .k-i-nexists:before{content:"\\2204"}.kj-mathinput-toolbar .k-i-in:before,.kj-mathinput-popup .k-i-in:before,.kj-mathinput-dialog .k-i-in:before,.k-overflow-container .k-i-in:before{content:"\\220A"}.kj-mathinput-toolbar .k-i-nin:before,.kj-mathinput-popup .k-i-nin:before,.kj-mathinput-dialog .k-i-nin:before,.k-overflow-container .k-i-nin:before{content:"\\2209"}.kj-mathinput-toolbar .k-i-subset:before,.kj-mathinput-popup .k-i-subset:before,.kj-mathinput-dialog .k-i-subset:before,.k-overflow-container .k-i-subset:before{content:"\\2282"}.kj-mathinput-toolbar .k-i-supset:before,.kj-mathinput-popup .k-i-supset:before,.kj-mathinput-dialog .k-i-supset:before,.k-overflow-container .k-i-supset:before{content:"\\2283"}.kj-mathinput-toolbar .k-i-nsubset:before,.kj-mathinput-popup .k-i-nsubset:before,.kj-mathinput-dialog .k-i-nsubset:before,.k-overflow-container .k-i-nsubset:before{content:"\\2284"}.kj-mathinput-toolbar .k-i-nsupset:before,.kj-mathinput-popup .k-i-nsupset:before,.kj-mathinput-dialog .k-i-nsupset:before,.k-overflow-container .k-i-nsupset:before{content:"\\2285"}.kj-mathinput-toolbar .k-i-intersection:before,.kj-mathinput-popup .k-i-intersection:before,.kj-mathinput-dialog .k-i-intersection:before,.k-overflow-container .k-i-intersection:before{content:"\\2229"}.kj-mathinput-toolbar .k-i-union:before,.kj-mathinput-popup .k-i-union:before,.kj-mathinput-dialog .k-i-union:before,.k-overflow-container .k-i-union:before{content:"\\222A"}.kj-mathinput-toolbar .k-i-to:before,.kj-mathinput-popup .k-i-to:before,.kj-mathinput-dialog .k-i-to:before,.k-overflow-container .k-i-to:before{content:"\\2192"}.kj-mathinput-toolbar .k-i-implies:before,.kj-mathinput-popup .k-i-implies:before,.kj-mathinput-dialog .k-i-implies:before,.k-overflow-container .k-i-implies:before{content:"\\21D2"}.kj-mathinput-toolbar .k-i-impliedby:before,.kj-mathinput-popup .k-i-impliedby:before,.kj-mathinput-dialog .k-i-impliedby:before,.k-overflow-container .k-i-impliedby:before{content:"\\21D0"}.kj-mathinput-toolbar .k-i-nimplies:before,.kj-mathinput-popup .k-i-nimplies:before,.kj-mathinput-dialog .k-i-nimplies:before,.k-overflow-container .k-i-nimplies:before{content:"\\21CF"}.kj-mathinput-toolbar .k-i-iff:before,.kj-mathinput-popup .k-i-iff:before,.kj-mathinput-dialog .k-i-iff:before,.k-overflow-container .k-i-iff:before{content:"\\21D4"}.kj-mathinput-toolbar .k-i-vector:before,.kj-mathinput-popup .k-i-vector:before,.kj-mathinput-dialog .k-i-vector:before,.k-overflow-container .k-i-vector:before{content:"\\E758"}.kj-mathinput-toolbar .k-i-widehat:before,.kj-mathinput-popup .k-i-widehat:before,.kj-mathinput-dialog .k-i-widehat:before,.k-overflow-container .k-i-widehat:before{content:"\\E759"}.kj-mathinput-toolbar .k-i-matrix:before,.kj-mathinput-popup .k-i-matrix:before,.kj-mathinput-dialog .k-i-matrix:before,.k-overflow-container .k-i-matrix:before{content:"\\E750"}.kj-mathinput-toolbar .k-i-pmatrix:before,.kj-mathinput-popup .k-i-pmatrix:before,.kj-mathinput-dialog .k-i-pmatrix:before,.k-overflow-container .k-i-pmatrix:before{content:"\\E751"}.kj-mathinput-toolbar .k-i-bmatrix:before,.kj-mathinput-popup .k-i-bmatrix:before,.kj-mathinput-dialog .k-i-bmatrix:before,.k-overflow-container .k-i-bmatrix:before{content:"\\E752"}.kj-mathinput-toolbar .k-i-bbmatrix:before,.kj-mathinput-popup .k-i-bbmatrix:before,.kj-mathinput-dialog .k-i-bbmatrix:before,.k-overflow-container .k-i-bbmatrix:before{content:"\\E753"}.kj-mathinput-toolbar .k-i-vmatrix:before,.kj-mathinput-popup .k-i-vmatrix:before,.kj-mathinput-dialog .k-i-vmatrix:before,.k-overflow-container .k-i-vmatrix:before{content:"\\E754"}.kj-mathinput-toolbar .k-i-vvmatrix:before,.kj-mathinput-popup .k-i-vvmatrix:before,.kj-mathinput-dialog .k-i-vvmatrix:before,.k-overflow-container .k-i-vvmatrix:before{content:"\\E755"}.kj-mathinput-toolbar .k-i-column:before,.kj-mathinput-popup .k-i-column:before,.kj-mathinput-dialog .k-i-column:before,.k-overflow-container .k-i-column:before{content:"\\E756"}.kj-mathinput-toolbar .k-i-row:before,.kj-mathinput-popup .k-i-row:before,.kj-mathinput-dialog .k-i-row:before,.k-overflow-container .k-i-row:before{content:"\\E757"}.kj-mathinput-toolbar .k-i-factorial:before,.kj-mathinput-popup .k-i-factorial:before,.kj-mathinput-dialog .k-i-factorial:before,.k-overflow-container .k-i-factorial:before{content:"\\E760"}.kj-mathinput-toolbar .k-i-binomial:before,.kj-mathinput-popup .k-i-binomial:before,.kj-mathinput-dialog .k-i-binomial:before,.k-overflow-container .k-i-binomial:before{content:"\\E761"}.kj-mathinput-toolbar .k-i-overline:before,.kj-mathinput-popup .k-i-overline:before,.kj-mathinput-dialog .k-i-overline:before,.k-overflow-container .k-i-overline:before{content:"\\E762"}',""])},function(t,e,i){var n=i(417);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-mediaplayer video{background-color:#000000;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjEwMjRweCIgaGVpZ2h0PSIxMDI0cHgiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiB0ZXh0LXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgZmlsbC1ydWxlPSJub256ZXJvIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHZpZXdCb3g9IjAgMCAxMDI0MCAxMDI0MCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGlkPSJjdXJ2ZTIiIGZpbGw9IiM4MDgwODAiIGQ9Ik04MTE5IDY0MDBsMTgwMSAwIDAgMjU2MCAtNDE1OCAwYzIxNSwtOTAgNDIxLC0xOTcgNjE2LC0zMjBsMjIgMCAwIC0xNGMxMTAsLTcxIDIxNywtMTQ2IDMyMCwtMjI3bDAgMjQxIDMyMCAwIDAgLTMyMCAtMjIyIDBjNTEzLC00MjYgOTIxLC05NzMgMTE4MiwtMTU5OGwwIDMxOCAzMjAgMCAwIC0zMjAgLTMxOSAwYzQ0LC0xMDUgODMsLTIxMSAxMTgsLTMyMHptLTc1OSAxOTIwbDAgMzIwIDMyMCAwIDAgLTMyMCAtMzIwIDB6bTY0MCAwbDAgMzIwIDMyMCAwIDAgLTMyMCAtMzIwIDB6bTY0MCAwbDAgMzIwIDMyMCAwIDAgLTMyMCAtMzIwIDB6bTY0MCAwbDAgMzIwIDMyMCAwIDAgLTMyMCAtMzIwIDB6bS02NDAgLTE2MDBsMCAzMjAgMzIwIDAgMCAtMzIwIC0zMjAgMHptNjQwIDBsMCAzMjAgMzIwIDAgMCAtMzIwIC0zMjAgMHoiLz48cGF0aCBpZD0iY3VydmUxIiBmaWxsPSIjODA4MDgwIiBkPSJNNTM1OCA3MzE0bC01OTUgLTgyMGMtNzYsLTEwNSAtMjAwLC0xNTIgLTMyNywtMTI0IC0xODEsNDAgLTM3MSw0MCAtNTUyLDAgLTEyNywtMjggLTI1MSwxOSAtMzI3LDEyNGwtNTk1IDgyMGMtNjAsODIgLTc3LDE3OSAtNDgsMjc3IDI4LDk5IDk0LDE3MSAxOTAsMjA5IDY3NiwyNjUgMTQzNiwyNjUgMjExMiwwIDk2LC0zOCAxNjIsLTExMCAxOTAsLTIwOSAyOSwtOTggMTIsLTE5NSAtNDgsLTI3N3ptLTIzMDIgLTE1NDZjLTk0LC0xNjAgLTE1MiwtMzM4IC0xNzAsLTUyMyAtMTIsLTEzMCAtOTYsLTIzNCAtMjIwLC0yNzRsLTk2MyAtMzEzYy05NywtMzEgLTE5NCwtMTcgLTI3OSw0MCAtODQsNTggLTEzMywxNDMgLTEzOSwyNDUgLTQ0LDcyOCAxODgsMTQ0NiA2NTMsMjAxMCA2Niw3OSAxNTUsMTE5IDI1NywxMTYgMTAyLC0zIDE4OSwtNDkgMjQ5LC0xMzJsNTk1IC04MTljNzcsLTEwNSA4MywtMjM4IDE3LC0zNTB6bTE0NiAtMTQ5N2MxMjMsLTEzOCAyNzUsLTI1MCA0NDYsLTMyNCAxMTksLTUzIDE5MiwtMTY0IDE5MiwtMjk0bDAgLTEwMTJjMCwtMTAzIC00MywtMTkxIC0xMjQsLTI1MyAtODEsLTYzIC0xNzcsLTgzIC0yNzYsLTU3IC03MTUsMTg0IC0xMzIzLDYzNiAtMTcxMCwxMjQyIC01NSw4NiAtNjYsMTg0IC0zMSwyODAgMzQsOTcgMTA1LDE2NSAyMDIsMTk3bDk2MyAzMTNjMTI0LDQwIDI1Miw1IDMzOCwtOTJ6bTE0NzAgLTMyNGMxNzEsNzQgMzIzLDE4NiA0NDYsMzI0IDg2LDk3IDIxNCwxMzIgMzM4LDkybDk2MyAtMzEzYzk3LC0zMiAxNjgsLTEwMCAyMDIsLTE5NyAzNSwtOTYgMjQsLTE5NCAtMzEsLTI4MCAtMzg3LC02MDYgLTk5NSwtMTA1OCAtMTcxMCwtMTI0MiAtOTksLTI2IC0xOTUsLTYgLTI3Niw1NyAtODEsNjIgLTEyNCwxNTAgLTEyNCwyNTNsMCAxMDEyYzAsMTMwIDczLDI0MSAxOTIsMjk0em0xNzA5IDMwMDZjNDY2LC01NjQgNjk4LC0xMjgyIDY1NCwtMjAxMCAtNiwtMTAyIC01NSwtMTg3IC0xMzksLTI0NSAtODUsLTU3IC0xODIsLTcxIC0yNzksLTQwbC05NjMgMzEzYy0xMjQsNDAgLTIwOCwxNDQgLTIyMCwyNzQgLTE4LDE4NSAtNzYsMzYzIC0xNzAsNTIzIC02NiwxMTIgLTYwLDI0NSAxNywzNTBsNTk1IDgxOWM2MCw4MyAxNDcsMTI5IDI0OSwxMzIgMTAyLDMgMTkxLC0zNyAyNTYsLTExNnoiLz48cGF0aCBpZD0iY3VydmUwIiBmaWxsPSIjODA4MDgwIiBkPSJNNDE2MCAxNjAwYzE5NDQsMCAzNTIwLDE1NzYgMzUyMCwzNTIwIDAsMTk0NCAtMTU3NiwzNTIwIC0zNTIwLDM1MjAgLTE5NDQsMCAtMzUyMCwtMTU3NiAtMzUyMCwtMzUyMCAwLC0xOTQ0IDE1NzYsLTM1MjAgMzUyMCwtMzUyMHptMCAzMjAwYzE3NywwIDMyMCwxNDMgMzIwLDMyMCAwLDE3NyAtMTQzLDMyMCAtMzIwLDMyMCAtMTc3LDAgLTMyMCwtMTQzIC0zMjAsLTMyMCAwLC0xNzcgMTQzLC0zMjAgMzIwLC0zMjB6bTAgLTMyMGMtMzUzLDAgLTY0MCwyODcgLTY0MCw2NDAgMCwzNTMgMjg3LDY0MCA2NDAsNjQwIDM1MywwIDY0MCwtMjg3IDY0MCwtNjQwIDAsLTM1MyAtMjg3LC02NDAgLTY0MCwtNjQwem0wIC0zMjAwYy0yMTIxLDAgLTM4NDAsMTcxOSAtMzg0MCwzODQwIDAsMjEyMSAxNzE5LDM4NDAgMzg0MCwzODQwIDIxMjEsMCAzODQwLC0xNzE5IDM4NDAsLTM4NDAgMCwtMjEyMSAtMTcxOSwtMzg0MCAtMzg0MCwtMzg0MHoiLz48L3N2Zz4=);background-position:center;background-repeat:no-repeat;background-size:contain}.kj-mediaplayer .kj-mediaplayer-toolbar .kj-mediaplayer-button{border-radius:50%}.kj-mediaplayer .kj-mediaplayer-toolbar .kj-mediaplayer-button svg>path{fill:#000000}.kj-mediaplayer .kj-mediaplayer-toolbar .kj-mediaplayer-time{color:#000000}",""])},function(t,e,i){var n=i(419);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".k-multiselect .kj-multiquiz-item.kj-multiquiz-multiselect>.k-image,.k-animation-container .k-list .kj-multiquiz-item.kj-multiquiz-multiselect>.k-image{background-size:cover;background-position:center;display:inline-block;vertical-align:text-bottom;width:1.1em;height:1.1em;margin-right:.25em}.kj-multiquiz.k-state-disabled,.kj-multiquiz .k-state-disabled{opacity:1;color:inherit}.kj-multiquiz.k-state-disabled .k-button,.kj-multiquiz .k-state-disabled .k-button{color:inherit}.kj-multiquiz .kj-multiquiz-item{box-sizing:border-box !important}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-button{margin-bottom:.2em;margin-right:.2em;padding:2px 7px 2px;text-transform:none;font-family:inherit;line-height:1.72em}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-button>.k-image{background-size:cover;background-position:center;display:inline-block;vertical-align:text-bottom;width:1.1em;height:1.1em;margin-right:.25em}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-image{cursor:pointer;display:inline-block;position:relative;height:100px;width:100px;margin-right:.3em}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-image>.k-image{background-size:cover;background-position:center;position:absolute;top:10%;bottom:10%;left:10%;right:10%;width:auto;height:auto}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-link{cursor:pointer}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-link::after{content:' '}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-checkbox input.k-checkbox{display:none}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-checkbox .k-checkbox-label{line-height:normal;padding-left:1.2em;vertical-align:initial}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-checkbox .k-checkbox-label>.k-image{background-size:cover;background-position:center;display:inline-block;vertical-align:text-bottom;width:1.1em;height:1.1em;margin-right:.25em}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-checkbox .k-checkbox-label:before{border-width:.05em;font-size:inherit;line-height:.9em;top:.1em;left:.1em;width:.8em;height:.8em}.kj-multiquiz .kj-multiquiz-item.kj-multiquiz-checkbox .k-checkbox:checked+.k-checkbox-label:after{width:.7em;height:.7em;top:.2em;left:.2em}.k-ff .kj-multiquiz .kj-multiquiz-item.kj-multiquiz-button{padding-bottom:initial;padding-top:initial}.k-black .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#06c;border-color:#0069d1}.k-blueopal .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#13688c;border-color:#146b90}.k-bootstrap .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#428bca;border-color:#428bca}.k-default .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#f35800;border-color:#f85a00}.k-fiori .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#007cc0;border-color:#005483}.k-flat .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#10c4b2;border-color:#10c4b2}.k-highcontrast .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#870074;border-color:#870074}.k-material .kj-quiz .kj-quiz-button.k-state-selected,.k-materialblack .kj-quiz .kj-quiz-button.k-state-selected,.k-material .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected,.k-materialblack .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#3f51b5;border-color:#3f51b5}.k-metro .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#7ea700;border-color:#7ea700}.k-metroblack .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#008886;border-color:#008886}.k-moonlight .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#171e28;background-color:#f4af03;border-color:#f9b303}.k-nova .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#ff4350;border-color:#ff4350}.k-office365 .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#0072c6;border-color:#0072c6}.k-silver .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#1984c8;border-color:#1a87cd}.k-uniform .kj-multiquiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#454545;background-color:#eee;border-color:#cdcdcd}.km-nova .kj-multiquiz input.k-radio{display:none}",""])},function(t,e,i){var n=i(421);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".k-dropdown .kj-quiz-item.kj-quiz-dropdown>.k-image,.k-animation-container .k-list .kj-quiz-item.kj-quiz-dropdown>.k-image{background-size:cover;background-position:center;display:inline-block;vertical-align:text-bottom;width:1.1em;height:1.1em;margin-right:.25em}.kj-quiz.k-state-disabled,.kj-quiz .k-state-disabled{opacity:1;color:inherit}.kj-quiz.k-state-disabled .k-button,.kj-quiz .k-state-disabled .k-button{color:inherit}.kj-quiz .kj-quiz-item{box-sizing:border-box !important}.kj-quiz .kj-quiz-item.kj-quiz-button{margin-bottom:.2em;margin-right:.2em;padding:2px 7px 2px;text-transform:none;font-family:inherit;line-height:1.72em}.kj-quiz .kj-quiz-item.kj-quiz-button>.k-image{background-size:cover;background-position:center;display:inline-block;vertical-align:text-bottom;width:1.1em;height:1.1em;margin-right:.25em}.kj-quiz .kj-quiz-item.kj-quiz-image{cursor:pointer;display:inline-block;position:relative;height:100px;width:100px;margin-right:.3em}.kj-quiz .kj-quiz-item.kj-quiz-image>.k-image{background-size:cover;background-position:center;position:absolute;top:10%;bottom:10%;left:10%;right:10%;width:auto;height:auto}.kj-quiz .kj-quiz-item.kj-quiz-link{cursor:pointer}.kj-quiz .kj-quiz-item.kj-quiz-link::after{content:' '}.kj-quiz .kj-quiz-item.kj-quiz-radio input.k-radio{display:none}.kj-quiz .kj-quiz-item.kj-quiz-radio .k-radio-label{line-height:normal;padding-left:1.2em;vertical-align:initial}.kj-quiz .kj-quiz-item.kj-quiz-radio .k-radio-label>.k-image{background-size:cover;background-position:center;display:inline-block;vertical-align:text-bottom;width:1.1em;height:1.1em;margin-right:.25em}.kj-quiz .kj-quiz-item.kj-quiz-radio .k-radio-label:before{border-width:.05em;font-size:inherit;line-height:.9em;top:.1em;left:.1em;width:.8em;height:.8em}.kj-quiz .kj-quiz-item.kj-quiz-radio .k-radio:checked+.k-radio-label:after{width:.7em;height:.7em;top:.2em;left:.2em}.k-ff .kj-quiz .kj-quiz-item.kj-quiz-button{padding-bottom:initial;padding-top:initial}.k-black .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#06c;border-color:#0069d1}.k-blueopal .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#13688c;border-color:#146b90}.k-bootstrap .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#428bca;border-color:#428bca}.k-default .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#f35800;border-color:#f85a00}.k-fiori .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#007cc0;border-color:#005483}.k-flat .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#10c4b2;border-color:#10c4b2}.k-highcontrast .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#870074;border-color:#870074}.k-material .kj-quiz .kj-quiz-button.k-state-selected,.k-materialblack .kj-quiz .kj-quiz-button.k-state-selected,.k-material .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected,.k-materialblack .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#3f51b5;border-color:#3f51b5}.k-metro .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#7ea700;border-color:#7ea700}.k-metroblack .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#008886;border-color:#008886}.k-moonlight .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#171e28;background-color:#f4af03;border-color:#f9b303}.k-nova .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#ff4350;border-color:#ff4350}.k-office365 .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#0072c6;border-color:#0072c6}.k-silver .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#fff;background-color:#1984c8;border-color:#1a87cd}.k-uniform .kj-quiz.k-state-disabled .kj-quiz-button.k-state-selected{color:#454545;background-color:#eee;border-color:#cdcdcd}.km-nova .kj-quiz input.k-radio{display:none}",""])},function(t,e,i){var n=i(423);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-rating{border:0 !important;outline:0}.kj-rating .kj-rating-star{background:none;border:0;box-shadow:none}.kj-rating .k-state-selected:not(.k-state-hover){color:#4D82B8}.kj-rating:not(.k-state-disabled) .kj-rating-star{cursor:pointer}.kj-rating:not(.k-state-disabled) .k-state-hover{background:none;border:0;color:#EDC87E}",""])},function(t,e,i){var n=i(425);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(85);(t.exports=i(18)(!1)).push([t.i,'.kj-stage{font-family:Helvetica,Arial,sans-serif;font-size:14px;font-weight:normal}.kj-stage .kj-element input.k-textbox{text-indent:initial}.kj-stage .kj-element input:not([type]),.kj-stage .kj-element input[type="email"],.kj-stage .kj-element input[type="number"],.kj-stage .kj-element input[type="password"],.kj-stage .kj-element input[type="tel"],.kj-stage .kj-element input[type="url"],.kj-stage .kj-element input[type="text"]{padding-left:2px !important;padding-right:2px !important}.kj-stage .kj-element-result{position:relative;height:0 !important}.kj-stage .kj-nopage{font-size:xx-large}.kj-handle-box{border:1px solid darkgray;opacity:.5;cursor:default}.kj-handle-box .kj-handle{pointer-events:all;position:absolute;display:block;width:36px;height:36px;background:url('+n(i(426))+') no-repeat left top;cursor:pointer;z-index:0}.kj-handle-box .kj-handle[data-command="move"]{left:-9px;top:-10px;background-position:left -144px}.kj-handle-box .kj-handle[data-command="resize"]{bottom:-10px;right:-13px;background-position:left -72px}.kj-handle-box .kj-handle[data-command="rotate"]{top:-10px;right:-13px;background-position:left -36px}.kj-handle-box .kj-handle[data-command="menu"]{left:-9px;bottom:-10px;background-position:left -108px}',""])},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAC0CAYAAAA3vWolAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAGzlJREFUeNrsXQd0VcXWnoQYCAZRmmKQkqCAtNAUELDRfCo/YoOlFFGKdP0XuihKEQF5awFGihR/ARuWJzxdqAiIDxDkUaWaCHlIMYKGgATSIPn3Nzlz37kn58yZOffEevZas+49bfacb/bsmdnz3blRRUVFzCpr165lEqlJ6QFK9ShVNY4hRyn9RCmV0gcdO3Y8yv4EEqUIUBylYZR6lytXrnG1atXY5Zdfzi677DJGx/yG3NxcVlBQwM6fP89OnTqF4710+g1KcwisnNJ6gTfeeCOi53v37h0RQGUo9aP0Ys2aNa++9tprOTCXLl1ihYWFDM+K56OioniKjo5mZcqU4UD98MMP7OjRoyfp8jhKSwioS9LC0PO6smzZMiWLNo5LSJ8+fWzzDb2XBKBKlN4lUDrWqFGDxcXFhYBREQFUTk4OO378OMBCpg8TSKcjBYhACVk0VVjjWrVqsSuuuIKVLVuWVyAEFZSXl8d++eUX9v333+M4ZNGUciIFCLXxaR0SKC/Iz2d29ym1YXrpy2JjeSH/Q0Kn7iKQUr0ARMAIi55y4403XpOUlMSBARCi8kQFooJEJQE4AHX48GF24MCBH+nyeFg0pUvaABE4CfSx+4YbbqhyNfkaKPZDUNCT5JvS0tJ+psNkAumEDkAEDix6ed26dTtR2Vj58uU5MBcvXlTSHxMTw4G6cOECysAOHTq0hk73JIBOKwNE4MRRIb8mw2lSvXp1VqTYnJStiWo0IyMDlrSH9La2Om8ngAicenT/qiZNmiTVr1+fv2Shx7LBqgDut99+y/bs2XOYdN5NIKU6ARRtOT/nuuuua3LNNdcUO2Hc6GNCnsgbOuhwnqK/SaDCbmjVqlUSVRw7d+4ct2rRQegmPIs8kBfyRN7Q4QioyXqS6eOxGgkJxZYDBEshIW/oIOlr6JQ6Y3qBj5OTk6tdffXVLJ98oV+CvJAn8oYOw/E7A0Q+4pXrr78+yqszDhubvPkmW7BwIfvpp58cHSB0QacsH7K4FHLGzTC8gK/xajVOCXkib+ggXXMdAUJNUjferkrlyhGDA2A+++wztmHDBjZ23Djee9kJdEGnkxVRjSaTf+iPplDosy+0VAJvbqSrL3TaAkQe/n+rVKkSsY8BOABGCJzplBdfZOfp0+7+qlWrQvdou4LTqHwGmX+0H5bz7rvvsiVLlrCff/7Z0ZKgCzptAaKbul5RoUJEvmXhggVh4JhB2ojzNs9UiI+H7i521kPTmU7wEZHK0qVL2bp169jmzZvZlClT2LFjx2zvgy7otFpRNJl4PCweXZ9XWQjL2bjR9hpGto0aN7a9ZuisbJQhJNnZ2QPQ20VqObAaAGOurJkzZ/JRtt39GNrQtUFhAJGJt8I0IqJmJQHnhRdeYJiqOD0P3SiDZVDXtWLFihGBA8vZsmWLrUV//fXXts9gVE4dR+cwgGJjY1tjlOmpWRE4G13AgekWYjTukAd0owym5hVPkkjJs0VTHrbgiHLRgNP2GnRCN8oQAogGTjUwDdBuVosWqYPjMrKle64Rx2TiTfC835YjyjV58mReLqfncQ/KECofDZjK6863/AJHdLO5eXkhB5iZmZmIOJNXy0HzkYGDZoS4lZNAN8oQau6EVhacpeoAcdHixe7gYJKrOIlEYckvnDMBVgUWrTtgReDMDZwK1FO7jcZh0VSmiiGAaPL4XQXF9q4MjoZFIhJJI+5D4pjmSbli7KMqb9LI3Q0c+BeVqQrKTmUKmVj0ihUrNqPGLuTIo6KrV69mSYmJrGfPnqGgVKTgQGcZqrFVq1ZtFedycnJOypqAV3BU8zTCxqE5UjS9OEKiOQgoybrztO++Y13vuot1796dg2EFB3Hqi5hlawwRoBO6qZJCsaFt27btcRqnWJNKs8JnvhHwU0kYBuzbt2+/eSSdmXn69JFMGobLuvQjR46w79LSWB41iWo0Rbjjjjv+Cw4dc5+jOUyATuimMmSJAm3duvVoVlZWBg0WpS+yfv16hsCZk0V7AQc6T58+nfHll1+GJpDRdKGAJpcfoTdxmn1jDoNr06ZP54Gm/fv3s5MnT/4XHA9RR+QHndBNZcgzW/mpU6f2njlzRvo8KgyVdBdZNcBwAkdHoBO66Wte2FyMBnyr8wsKMo7QzNvOOYr5C7rur2joTiizoUOHegYHOqALOqHben3Pnj0f/vjjj9LaRpkOHjzIXwq9sLBogCPCsbpjKOiE7rBRvfF5gAq6YsSIEU8eO3486jqaGpildu3abOXKlRwMpIvkyNDTqMaDSwB+/DhepiglJWUFdFuvk66Vbdu2HUVzo/qYH1kFFQQLfOWVV9gTTzzBzyGUK8DxEljD84cOHfoWuu1m8yeXL1++9kxWVloWKQeSZqlUqRKja+wcOdUL5EBRAK8xGuQNHdBFOr+AbpvbTn7++eeL0tLSCs3rbyLhZSCY0G7fvp07+yFDhvB5nRfLgQ7oog5rMXTbLhxGRUVRi6n6+McffTSaut+rEBZFvMZPQa0fP3GClY+Ly7q3W7e/0/FrpP+UQ9C+2qRJkz5p165di8TExLB8sNbWoEEDXlFIGEshebXo9PR0tmnTph0TJkz4Gx2esg3ao6BU4F2jR49eeNWVV+ae+OEHvjLqlyAv5Im8oQO6zODYyKmXX355MvmZDPgbc41jXIMlthMENkBHEB7jFy9zN8OXZUCXAMc2Ji1i9xs3bdr/4tSpi2nOcuE0NaujR4/yGvM6ecSzyAN5IU/kDR3Q5QYq+ZpP5s+fP4PMP1s0K4hXS7HzO8gbOqBLaW2ezBzzjkcbNWqUMG/evMfJmVY/e/Ysb27otVQnkqhRMklew4jt0OAvg/zEazQIw5suI73ZiguH8a1bt362X79+w+rVq3dlzZo1fQEHlZaamnrm9ddfn0tjr+mI0ykvPVNBsYp5H9V4lalTp955a4cOHaiNlz1HAynyHyyeJn2xBFTZcuX4VIHPYcjRYRBJXTfLJpPHNAJzvHLlyuX9a8OGDWPHjl1HzhSrqitJZ6bm0nMlAqbPqFGjhjVu3DgJztlrBBQjZXQUe/fuPTx79uw5BBTW6zO1yQudOnUCr+V/KNWoU6fO5ZMmTuzcNDm5Ob1EHIBAd19gmlTyNfiYmOK1cAKOzud8s3v3zgkTJ35O/uI83XKc0j/pfK5H8kI5sub7e/XqdX+bNm26UJnKYwgQGxurvA5mrOpe2LJly+p33nnnH2TV/8B82Su7AyChxAgetcEgFeeomTRqffPN11OzqVi5SpVKMWXK8BLSPCyfpg6nqTme/Xrr1u+oee4TMTBKiGBhubnIjejgtnqN8tC87w4CqkvDhg3b0vcKaMIACt18tGHR6Lrh/wAMXASNkM/RDGAzAbOavn+B8ixbtqzIE7vDpuBwPM0oNWTFtBgVASkAzhi9ldJUWoMfFCpPx44dWxFQieQOKl511VVVyYLLGmGLPJrT/UTN+iwBk06Vvk2Uh4AJlccVoE0O8R0nade+PYJJoMdUNKxKBJOyDWs5SymV8j2rk+8t7dp5IlAZ5XAtD4FiW55ICFROUmocRY8AlYroAhRwFB0ACjiKAUcx4CgGHEUVCTiKivKrchQRNj1w8CD//LNyFEMWZDC9drZt00Y6uoYv+fDDD9n2HTvCzqNWbmzQgHXt2pUHs9z80uYtW6CkOVnRbicLMjiKXyUnJzdDR+FXczc3e3Qgu3fv3kW6byFLyrFaUIzp5lcSExOl4IB7CHqdENSCsdjPA1gADQkg9X70UekgDBzF9PR0cBTbO90HjiJNI0IcRddY97FjvPmhsshKXe8XHEWarzWj6Qg4iv1tLQjWEx8fv6txo0aOmZnpdViLwioCp+3R86h5LA198cUXbPny5fyeDh06sEEDB0oLuHffPqxFNRNWZLYgML0o7x133313tMxyAMrHH38MKyhh0XDmd955J6tXr56rJa1ataqQ9LcgK9pdwoLMHEU7ATBIsBbQ2BISEjj6qK1QVCs+nvXo0YPdfPPNbPz48fx+5IlzToIgHI24wVF8xCbgNqNly5bRMst57733OL3OyaIBGhJAeuihh6SWBI7i9u3bwVHsXGLZJ4yjaBNgeuutt/j34cOH8/X3/Ly8ks2BajmfEq7jvunTp/P1/K5dujgGt2QcRZqZSzmK4AEJep2waKy+oCNAT4WlIWHRABED1r59+zrmZ+YoCivivZgbR3EH+RTUCGonuWlT1+4V13Ef7sdzOyzO3NoMmAeOIoBBgrXMmjWL3XPPPaFmDmDwiWOcx3Xch/vRFGU9nCeOIhb5ILfffntxBFGhO8d9N910E39u565d0nt1OYqw6Pfff5/fN2zYMM75QbdtpQvjGOdxHfdBYFF43gkgTxxFQQTnq60uZAQsKh48cIAnMctH0F6cw/VIOYrffPMNf0lYKAaNbrQWXMd9uB/P4XkniYijeElh5ApT3kVOceq0adxHCJIBjj9fs6YEC0OMbHU4imL559Zbb1VejsJ9NCgs7jn37pXeq81RBPJigKgSZHrssce4w7TmAcdtN8bS5SgKIoXdmr1VAAzmXUgiT/gocS7HhjSmzVGsaQy44Gw7dezoWqhcUvrk4MGhNg9wJk2axKPtdjp0OYpirKRC08N7gaqzZs2a0DlY9OzZs1mzZs3YQBqnWTsdK0cxGhzFXAn9rkXLltzsDpAPkfVI1prr07s3a0QDTxk4IhLpxFG0S2CaiIU/lXkXunY7i4bjtpvTaXMUsUDYv3/xCBwkThRMdZ4zceJEKTheOIo1DGqOzNmaBfyhxx9/PAQSwJkwYQIPlTg5dS2OYiG9XNu2bbkC9ALjn3uOrVi5ssQveHCM8wBRPIdxED795CiCJQ+LRrgCIKk4afidXr16cYsGOMjfKSJg5SjGMIOjSM6pAUbBtquShPZg8isoGAZb9EI8YZ0c7RyZmi0LE8UunTu71q4LR7G6Xa8HH4SOYM6cOXyEj9FzQkKCqy5YDKZAGEQ6DXYBnCeOIq9mAuFRmqFjZIr5lvADqEkBDs5jrtbt3ntdC+yVo4hn4GCFRb/00kvs008/LdEj4RjnxTQJz2G1RTYTsOMoRhmz8dupx3mLzK56yxYtpKFPsfaO7hATQqCOmkbbRvvNVwiDQifCIpRXBr3oI3S83txDde/efRDNh15t3ry5Yx6VK1fmP5SDRQuBJWFkDnDAHRJy3333sdtuu8210nbu3ImB6uCVK1cusEYUOUcRvEFMLdx+53k+O5tT8vCzytq1avFPHOO8CpFJcBShkzlwFMEXNHOCSjTPzEz24IMPhlk0QKHnQuCELLpbN1dwnDiKYjZ/kmpvLXXNdxbk59cDSwOTRdfRtYcIn+AokuW5chRphv13StFOFg3ni0D8yJEjuS+0WjSaIDoCkBfcLNqJo2iOSX/Vt1+/paQwK4NeQuaPvAryRN7QAV10ypEYQDP8N2lQt6t4pchZwN6Ab8EAEGAhBoVPHBsrvK7lgg7oWrduXYll2j8kR9EpoaeC/9Fhuv4pOYp+ScBRlEjAUXSQgKMoceYBR7E0OIoGSG4F/+tyFNGTbdq4UZkJEHAUWcBR9AJQwFF0ACjgKAYcxYCjGHAUVSTgKCpKsI/ib8FRhP8wk6UgbjxEN7/0p+IogpuIH/ELgeMeP26c5xl1aXEUdUWFo6i9jyLiQpGAIySSfRQRBUxNTQ1LXsVtH0UljqI1rrxt+3ZO0oxUvHIUsdyDnsi8UPn00097rjQZR1FpH0U0KaQO7Ytbw0LBeI1wX1c/9lHE+lgk4AiJaB/FFs2bs3Fjx3K6SBhImr9WtIpXjqJ1fQxMVj/2drXjKMaAH4gJp6x51Td6LNwzgEDCJ7bqAkiQ9u3bewYJUxhqZqB/rTcVKsRRtBP0aOhV0bSw4x3YbLi3TZs2EVWYHUcxJoyjqCgDBwzgnyGQ6FmvIJk4iuuN5hVP56T7KDZt2pQzWAEuBCBhBzxIJCBZOIo8iO95H0WAJECRbRuoMrLV3UeRhgg8zILvCFe0bt1a+C4OViTNzJd9FP0EyY99FDHhNIPktK+ZUiw30n0UrTLA2OCINzcCqUizufm1j6IIfAEcgITnBWi6Fq3FUVQFSYBi3msRn26UPV2OoiyBvyRAQaTRS3PzvI+iLkginbfM4cIW8XzYR9EqZpBkeyzKLNrTPooqCfuJPWFqcqG5FyudfRSd0iOPPBLiDAmQcB6fbkQIz/soKieLcAJ6KeyjqAuSSLLfanjeR1FVduzcyRYvXhzejByaWKT7KKoIQEIygHe9346jGGNMG1b37Nmzz5Hvv6+OSavX9SlMSZYuWRI6BqPUKdyBHwKDowjdCxYsCLuOvQxp8tgZoQi/1reEIP5Tt25d23vt9lHU5ijqJEwkkUqDo6gi+OHK22+/HXYux6EzKhWOohfxk6PoJiCO43cZQsBptLOqPzVHUUdAOkeyyl+Goxjso+izBBxFiQQcRafpjR8cRaOwAUeRuWwTGFVc4mAfRYWV0L8uR1E3MEUvocQJpHzP6vqHgKNYOgCVigQcRUuo1rHSAo5iwFEMOIoBR5EFHEUpQL8lR9EK0GvkjPvzP200ncdLgZNzOD1dqzD4u62HH344bKcWgACfRM4bTvsxN4AMjuLOVq1aVTPYYL5UFkbe6ES2bdt2ivQ2J5BO2AGk9F/PAAfuAxNTnYRn8Owf+b+elTiKeFHU7qvz52sVYvCTTzK7iGCkHEXMxrHZ5X+OHNEqT53atfmufCKc7BtHUZg+BoMDBg0K/VWMW5L5lUg4ithEBZFAOF6dhGdWhMfk/eEoFpk+8ZfFKr9Ftz5nJ145ihgyAPh5c+dqWdCQoUP5s9ZWEtE+imYZMWKEXo8heEcO+XrdR1FYJRb6nnnmGTZjxoyI53ue91G0vrBOcpNIOYpFxr8Fq8bHzc/5ylE0y+JFi9gTBgVPeWYsueaFoyjkmWef1SqHiKc75esLR3Ggywa2DuN26QhXl6NofWG/xBeOYqHHOZlsZKvLUTTLaxayhGqsR5WjGKPDUfQyDnIF3IajiAmyqniyaBerNDiKfCddLY4ithod+dRT7OVZszxF5+wkUo7iJQ9zMlneEf3XM2QR9Rp8T1afJJL/ep47Z46WrqHGpreyvK0cxRhwFMeOGcMX+srHxUkVwHp0QxxSizRxFLHXIUSHowj+0ZixY9m0qVN9qzArRzEGHEUCCBzFuDgXgBYZPz3Q9UFO9eXEUQRbXsWC+DiIRvZORC0vTczTPoqhHiY7m416+mk2e+ZMX7p5L/sommUsWY9WiKNsWSlAdvsoxmBRb9CgQR/16d27AYgGbv+tuohq7LwPPkiBo+gK0EJNix42fLj0umeOYt2kJHbo8GFuPbo+CM/ambgfHEUsL40bP569OGWKL03MM0fx4YceYgiQ44V1Ep7Bs6XJUdT1i04SEUeR/6pv1CilCWjYIJC6TATWzfEcPziK+GvjdLJoWI+OlI2NZYlUab5zFAVTAk5aJ+EZMzh+cRTv79GDvyheWCfhmftt/udDxlEMC7FSTXVt367dbSkpKSPPnD1bDowyP7jKEATIwTi7smLF3BEjRry8cdOmL0n3Z7JYTaVKlbpNnjz51SZNmlSvYfqLd0xwMfPWnaxijIOhhTkIhwUE8jsZzz///GDqwT6SrmpQAdHkej3wwAM3jRkzpj+NCcojkIaeTazBexwps1/OnUP858K0adP+74MPPvg3XXqHdF90CWbFNGzYcNhTTz31QoMGDeJV9rHX9TsHDx7MnjVr1nP79+/HsPyiFCCjkAFHkQUcxWAfRasE+ygGHMXwuBYL/utZWQKO4m8hAUfRkICjGHAUf2WOIgZ51E07chStS7hOLyi+23EUaZiQisGmLkC/a46iHUAqzUV8euEo4oVCoYavvirBUYTfE+DIABIgwV9aOYq33HJLyKKTTME9220CDY7iJ4mJiVUw9zKDY7eq6dYLmJ9BXsgTeUMHdKnmReCAo/hvmmZ0wt/WQGiMw7f7wwsLMqe5+eM7zuGa+H8NPANBHsgLeSJvqauwHJfYR7FQExg7oMQ/RHnZR5FeIGwfRbwk/AusR2dnPGO9iz+LPMz7KEKHK0B2HMUQV1EiiFO7xqpNeelwFKngYRxF4Xgj2TJQWBXyMnMUoUsKEDiK4A3q+BozMCoBfXPe0AWd0pBtYWEKOWPOURTzqkIfqMnIQ/xJCfKGDjo31xEgnX0UZYDorHrocBQxAEVSAQf/yImkUlkiXxlHMdoIYYY4ikUK1oPeZk5KShjbA99xzq2rLjL9Yx2cNuke7RBwmwHeoC44dt9llgSrRP6Grhm2AJXYR1GhCwdr3jrusZ6T+STVfRThM1R8jh0gKiDBeSP/iPZRtLOCS5aC4/slRVaGEDeOImpYlbsEaiCS07Gb44Yupf96VvE5vOvGoMxU+ELT/EzFJ6n817MYAKpIeno6T07Hbk0NetT+61kCjs5kUtzrCJLCfz0X+vxjGjeQ7P7rOcaNo2h+QRk/aPjIkdI8nBghdhxFdL3CSmU+B7wmHZE9I6wfk12aWGMgyyl40n0U/QxgOeUl20fRyZ+pOF8dZ27W5bqPorVnmj9vHntyyBB+DLKSZaGRDRw0yPUa8rD+alF8l3EU7QBS7crdrlktSehz3UfRrlCRMCjsnjXriISjWBphVi2OoujOYQ0LXn21eMBmao5mtofdNTzDeyKHF3bjKEKv9Tkz09+uG1e9Zu3hRMtR4ihGWRDl5+hFLllCCmG+xNIlh+ZdRhca1ryYfB9FGUcRLyZAknXjTtfswDGX2XUfxSLLWEaApDsIFNZXAhzTzN5tH0Unxy5A0hUZONClvI+iHcHIbhBo7trx3W4waZcXRGUfRVkvmq75+1m3Z6DLjqPI52LgCeYXFGQcMX5s5hY9RGYppt3lhOCc7KXMeUMXdEK39T7wBEEw+LXWyoQOLY6iXe2bMyxDI2A4YSH4jnNOL2TOU4ejqAqQNcyhGvYQ7+PEURSz+ZPLly9feyYrKw38QSApA6nI5KvQjS8SP2qT3C/yEhxF6HLjKII3aPybuZJ/UTlnB45njmJoUmrpuYTjvkhdoghH4LvVIYuRsgCnNPdRtDpumUO2ii8cRbFqWiIGZBzb/ezRbIF+cBRVelEwYFWduNjkQMZRVN5HUSyjiNiJ2brMVmK9z899FFWammqYQ/idP/Q+ilg4TEpK+lU4iqQr227h8HfNURQrq1TwMI4iIn9uv0xyElg0LMfMUSQ9mYYeNYB+LxxF89IzFb5UOIqkI9ekQx0gSMBRDDiKAUeRRchR/H8BBgBSNpi8Ffu9CQAAAABJRU5ErkJggg=="},function(t,e,i){var n=i(428);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-table{position:relative;overflow:auto}.kj-table .k-spreadsheet-cell{position:absolute;white-space:pre;box-sizing:border-box;overflow:hidden;padding:1px;-webkit-background-clip:padding-box;background-clip:padding-box}.kj-table .k-spreadsheet-cell .k-vertical-align-bottom{position:relative;top:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.kj-table .k-spreadsheet-cell .k-vertical-align-center{position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}",""])},function(t,e,i){var n=i(430);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".kj-textgaps .kj-textgaps-input{border:none;border-bottom:dashed 2px #ccc;display:inline-block;min-width:3em}",""])},function(t,e,i){var n=i(432);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,".k-dialog .k-notification-wrap{white-space:initial}.k-dialog .k-notification-wrap span.k-icon{margin-right:.7em}.k-dialog .kj-dialog-flexrow{display:flex;align-items:flex-start;line-height:2em}.k-dialog .kj-dialog-flexrow.k-toolbar{padding:.5em 1em}.k-dialog .kj-dialog-flexrow:not(.k-toolbar){margin-top:1em}.k-dialog .kj-dialog-flexrow .k-input,.k-dialog .kj-dialog-flexrow .k-textbox{width:100%}.k-dialog .kj-dialog-flexrow .kj-align-right{text-align:right}.k-dialog .kj-dialog-flexrow .kj-dialog-col10{width:10%}.k-dialog .kj-dialog-flexrow .kj-dialog-col25{width:25%}.k-dialog .kj-dialog-flexrow .kj-dialog-col30{width:30%}.k-dialog .kj-dialog-flexrow .kj-dialog-col50{width:50%}.k-dialog .kj-dialog-flexrow .kj-dialog-col75{width:75%}.k-dialog .k-dialog-buttongroup .k-button .k-image{height:1.5em;width:1.5em;margin-right:.25em;vertical-align:middle}.k-dialog .k-spreadsheet .k-content{padding:0}",""])},function(t,e,i){var n=i(434);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(85);(t.exports=i(18)(!1)).push([t.i,'@font-face{font-family:"kidoju";src:url('+n(i(152))+");src:url("+n(i(152))+'?#iefix) format("embedded-opentype"),url('+n(i(435))+') format("woff"),url('+n(i(436))+') format("truetype");font-weight:normal;font-style:normal}.kf{font-family:"kidoju";display:inline-block;vertical-align:middle;line-height:1;font-weight:normal;font-style:normal;speak:none;text-decoration:inherit;text-transform:none;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.kf-add:before{content:"\\F101"}.kf-alpha:before{content:"\\3B1"}.kf-android:before{content:"\\F102"}.kf-apple:before{content:"\\F103"}.kf-arccos:before{content:"\\E734"}.kf-arcsin:before{content:"\\E733"}.kf-arctan:before{content:"\\E735"}.kf-submit:before{content:"\\E320"}.kf-backspace:before{content:"\\232B"}.kf-chemistry:before{content:"\\E703"}.kf-binomial:before{content:"\\E761"}.kf-bleft:before{content:"["}.kf-blog:before{content:"\\F104"}.kf-bmatrix:before{content:"\\E752"}.kf-bright:before{content:"]"}.kf-calculator:before{content:"\\E701"}.kf-datetime:before{content:"\\F105"}.kf-cbrt:before{content:"\\221B"}.kf-cc-by:before{content:"\\F106"}.kf-cc-nc:before{content:"\\F107"}.kf-cc-nd:before{content:"\\F108"}.kf-cc-sa:before{content:"\\F109"}.kf-cc-zero:before{content:"\\F10A"}.kf-cc:before{content:"\\F10B"}.kf-cleft:before{content:"{"}.kf-sync:before{content:"\\E340"}.kf-cmatrix:before{content:"\\E753"}.kf-column:before{content:"\\E756"}.kf-cos:before{content:"\\E731"}.kf-cright:before{content:"}"}.kf-cursor:before{content:"\\E800"}.kf-dashes:before{content:"\\E802"}.kf-derivative:before{content:"\\E740"}.kf-dice:before{content:"\\2680"}.kf-summary:before{content:"\\E303"}.kf-signout:before{content:"\\F10C"}.kf-drawer:before{content:"\\E300"}.kf-ear:before{content:"\\E360"}.kf-view:before{content:"\\F10D"}.kf-facebook:before{content:"\\E510"}.kf-factorial:before{content:"\\E760"}.kf-feed:before{content:"\\F10E"}.kf-search-adv:before{content:"\\F10F"}.kf-frac:before{content:"\\E710"}.kf-fx:before{content:"\\E702"}.kf-settings:before{content:"\\E0DA"}.kf-google:before{content:"\\E515"}.kf-history:before{content:"\\E305"}.kf-home:before{content:"\\E0DD"}.kf-int:before{content:"\\E742"}.kf-keypad:before{content:"\\2328"}.kf-support:before{content:"\\F110"}.kf-lim:before{content:"\\E746"}.kf-linkedin:before{content:"\\E520"}.kf-live:before{content:"\\E525"}.kf-ln:before{content:"\\E728"}.kf-signin:before{content:"\\F111"}.kf-log:before{content:"\\E726"}.kf-log10:before{content:"\\E727"}.kf-logic:before{content:"\\26AD"}.kf-search:before{content:"\\E0E9"}.kf-matrix:before{content:"\\E750"}.kf-play:before{content:"\\E309"}.kf-report:before{content:"\\F112"}.kf-comment:before{content:"\\F113"}.kf-first:before{content:"\\E310"}.kf-last:before{content:"\\E313"}.kf-previous:before{content:"\\E311"}.kf-next:before{content:"\\E312"}.kf-nthroot:before{content:"\\221C"}.kf-oint:before{content:"\\E743"}.kf-omega-maj:before{content:"\\F114"}.kf-overline:before{content:"\\E762"}.kf-partial:before{content:"\\E741"}.kf-pinterest:before{content:"\\F115"}.kf-pleft:before{content:"("}.kf-create:before{content:"\\F116"}.kf-pm:before{content:"\\B1"}.kf-pmatrix:before{content:"\\E751"}.kf-scan:before{content:"\\E0DB"}.kf-pow:before{content:"\\E721"}.kf-pow2:before{content:"\\E722"}.kf-pow3:before{content:"\\E723"}.kf-pright:before{content:")"}.kf-prod:before{content:"\\E745"}.kf-publish:before{content:"\\F117"}.kf-help:before{content:"\\F118"}.kf-row:before{content:"\\E757"}.kf-share:before{content:"\\F119"}.kf-sin:before{content:"\\E730"}.kf-sqrt:before{content:"\\221A"}.kf-star:before{content:"\\2605"}.kf-star-o:before{content:"\\2606"}.kf-stumbleupon:before{content:"\\F11A"}.kf-subscript:before{content:"\\E711"}.kf-sum:before{content:"\\E744"}.kf-tags:before{content:"\\F11B"}.kf-tan:before{content:"\\E732"}.kf-field:before{content:"\\E700"}.kf-score:before{content:"\\E330"}.kf-twitter:before{content:"\\E550"}.kf-user:before{content:"\\E302"}.kf-uservoice:before{content:"\\F11C"}.kf-vector:before{content:"\\E758"}.kf-vleft:before{content:"\\9B"}.kf-vmatrix:before{content:"\\E754"}.kf-vright:before{content:"\\9D"}.kf-vvmatrix:before{content:"\\E755"}.kf-widehat:before{content:"\\E759"}.kf-width:before{content:"\\E801"}.kf-youtube:before{content:"\\F11D"}.kf{font-family:"kidoju"}.km-navbar .km-icon::after,.km-drawer .km-icon::after,.km-button .km-icon::after,.km-navbar .km-icon::before,.km-drawer .km-icon::before,.km-button .km-icon::before{font:1.1em/1.1em "kidoju" !important}.km-navbar .km-drawer-icon::after,.km-drawer .km-drawer-icon::after,.km-button .km-drawer-icon::after,.km-navbar .km-drawer-icon::before,.km-drawer .km-drawer-icon::before,.km-button .km-drawer-icon::before{content:"\\E300"}.km-navbar .km-ear::after,.km-drawer .km-ear::after,.km-button .km-ear::after,.km-navbar .km-ear::before,.km-drawer .km-ear::before,.km-button .km-ear::before{content:"\\E360"}.km-navbar .km-facebook::after,.km-drawer .km-facebook::after,.km-button .km-facebook::after,.km-navbar .km-facebook::before,.km-drawer .km-facebook::before,.km-button .km-facebook::before{content:"\\E510"}.km-navbar .km-favourites::after,.km-drawer .km-favourites::after,.km-button .km-favourites::after,.km-navbar .km-favourites::before,.km-drawer .km-favourites::before,.km-button .km-favourites::before{content:"\\2606"}.km-navbar .km-first::after,.km-drawer .km-first::after,.km-button .km-first::after,.km-navbar .km-first::before,.km-drawer .km-first::before,.km-button .km-first::before{content:"\\E310"}.km-navbar .km-google::after,.km-drawer .km-google::after,.km-button .km-google::after,.km-navbar .km-google::before,.km-drawer .km-google::before,.km-button .km-google::before{content:"\\E515"}.km-navbar .km-home::after,.km-drawer .km-home::after,.km-button .km-home::after,.km-navbar .km-home::before,.km-drawer .km-home::before,.km-button .km-home::before{content:"\\E0DD"}.km-navbar .km-help::after,.km-drawer .km-help::after,.km-button .km-help::after,.km-navbar .km-help::before,.km-drawer .km-help::before,.km-button .km-help::before{content:"\\F10A"}.km-navbar .km-history::after,.km-drawer .km-history::after,.km-button .km-history::after,.km-navbar .km-activities::after,.km-drawer .km-activities::after,.km-button .km-activities::after,.km-navbar .km-history::before,.km-drawer .km-history::before,.km-button .km-history::before,.km-navbar .km-activities::before,.km-drawer .km-activities::before,.km-button .km-activities::before{content:"\\E305"}.km-navbar .km-last::after,.km-drawer .km-last::after,.km-button .km-last::after,.km-navbar .km-last::before,.km-drawer .km-last::before,.km-button .km-last::before{content:"\\E313"}.km-navbar .km-live::after,.km-drawer .km-live::after,.km-button .km-live::after,.km-navbar .km-live::before,.km-drawer .km-live::before,.km-button .km-live::before{content:"\\E525"}.km-navbar .km-next::after,.km-drawer .km-next::after,.km-button .km-next::after,.km-navbar .km-next::before,.km-drawer .km-next::before,.km-button .km-next::before{content:"\\E312"}.km-navbar .km-play::after,.km-drawer .km-play::after,.km-button .km-play::after,.km-navbar .km-play::before,.km-drawer .km-play::before,.km-button .km-play::before{content:"\\E309"}.km-navbar .km-previous::after,.km-drawer .km-previous::after,.km-button .km-previous::after,.km-navbar .km-previous::before,.km-drawer .km-previous::before,.km-button .km-previous::before{content:"\\E311"}.km-navbar .km-scan::after,.km-drawer .km-scan::after,.km-button .km-scan::after,.km-navbar .km-scan::before,.km-drawer .km-scan::before,.km-button .km-scan::before{content:"\\E0DB"}.km-navbar .km-score::after,.km-drawer .km-score::after,.km-button .km-score::after,.km-navbar .km-score::before,.km-drawer .km-score::before,.km-button .km-score::before{content:"\\E330"}.km-navbar .km-search::after,.km-drawer .km-search::after,.km-button .km-search::after,.km-navbar .km-search::before,.km-drawer .km-search::before,.km-button .km-search::before{content:"\\E0E9"}.km-navbar .km-settings::after,.km-drawer .km-settings::after,.km-button .km-settings::after,.km-navbar .km-settings::before,.km-drawer .km-settings::before,.km-button .km-settings::before{content:"\\E0DA"}.km-navbar .km-submit::after,.km-drawer .km-submit::after,.km-button .km-submit::after,.km-navbar .km-submit::before,.km-drawer .km-submit::before,.km-button .km-submit::before{content:"\\E320"}.km-navbar .km-summary::after,.km-drawer .km-summary::after,.km-button .km-summary::after,.km-navbar .km-summary::before,.km-drawer .km-summary::before,.km-button .km-summary::before{content:"\\E303"}.km-navbar .km-sync::after,.km-drawer .km-sync::after,.km-button .km-sync::after,.km-navbar .km-sync::before,.km-drawer .km-sync::before,.km-button .km-sync::before{content:"\\E340"}.km-navbar .km-twitter::after,.km-drawer .km-twitter::after,.km-button .km-twitter::after,.km-navbar .km-twitter::before,.km-drawer .km-twitter::before,.km-button .km-twitter::before{content:"\\E550"}.km-navbar .km-user::after,.km-drawer .km-user::after,.km-button .km-user::after,.km-navbar .km-user::before,.km-drawer .km-user::before,.km-button .km-user::before{content:"\\E302"}',""])},function(t,e,i){t.exports=i.p+"e811d21d46e69ff03a92761dd0b9f47e.woff"},function(t,e,i){t.exports=i.p+"f0e822cb280b38eaa00d74d242a837f9.ttf"},function(t,e,i){var n=i(438);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(19)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(18)(!1)).push([t.i,'*{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}:not(input),:not(textarea){-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html,body{-webkit-text-size-adjust:none;-moz-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;height:100%;margin:0;padding:0}html #activities .km-list>li .km-listview-link .title,body #activities .km-list>li .km-listview-link .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:3.5em}html #activities .km-list>li .km-listview-link .small,body #activities .km-list>li .km-listview-link .small{font-size:small}html #activities .km-list>li .km-listview-link .km-badge,body #activities .km-list>li .km-listview-link .km-badge{font-size:.75em}html #categories .km-list>li,body #categories .km-list>li{padding:.5em 1em}html #categories .km-list>li .km-listview-link .km-thumbnail,body #categories .km-list>li .km-listview-link .km-thumbnail{border:none;border-radius:0;height:1.8rem;width:1.8rem;vertical-align:middle}html #categories .km-list>li .km-listview-link .km-badge,body #categories .km-list>li .km-listview-link .km-badge{font-size:.75em}html #correction .km-stretched-view,body #correction .km-stretched-view,html #player .km-stretched-view,body #player .km-stretched-view{display:flex;flex-wrap:wrap}html #correction .km-stretched-view .stretched-item.padding,body #correction .km-stretched-view .stretched-item.padding,html #player .km-stretched-view .stretched-item.padding,body #player .km-stretched-view .stretched-item.padding{padding:1em}html #correction .km-stretched-view .stretched-item.padding .heading h2,body #correction .km-stretched-view .stretched-item.padding .heading h2,html #player .km-stretched-view .stretched-item.padding .heading h2,body #player .km-stretched-view .stretched-item.padding .heading h2{margin:0;font-size:1rem}html #correction .km-stretched-view .stretched-item.padding .heading h2 img,body #correction .km-stretched-view .stretched-item.padding .heading h2 img,html #player .km-stretched-view .stretched-item.padding .heading h2 img,body #player .km-stretched-view .stretched-item.padding .heading h2 img{height:1.5em;width:1.5em;margin-right:.5em;vertical-align:middle}html #correction .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button,body #correction .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button,html #player .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button,body #player .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button{font-size:.9em;height:1.8em;width:1.8em;padding:0;margin:0;border-radius:50%;float:right}html #correction .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button span.km-icon.km-notext,body #correction .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button span.km-icon.km-notext,html #player .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button span.km-icon.km-notext,body #player .km-stretched-view .stretched-item.padding .heading h2 .tts.km-button span.km-icon.km-notext{vertical-align:middle}html #finder .km-list>li .km-listview-link,body #finder .km-list>li .km-listview-link{height:9.5em;line-height:1.25}html #finder .km-list>li .km-listview-link .km-thumbnail,body #finder .km-list>li .km-listview-link .km-thumbnail{border:none;border-radius:0;height:3.35rem;width:3.35rem;margin-right:0;float:left}html #finder .km-list>li .km-listview-link .summary,body #finder .km-list>li .km-listview-link .summary{margin-left:4rem;margin-right:2.5rem}html #finder .km-list>li .km-listview-link .summary h4,body #finder .km-list>li .km-listview-link .summary h4,html #finder .km-list>li .km-listview-link .summary .tags,body #finder .km-list>li .km-listview-link .summary .tags{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2}html #finder .km-list>li .km-listview-link .summary h4,body #finder .km-list>li .km-listview-link .summary h4{margin:0;font-weight:bold}html #finder .km-list>li .km-listview-link .summary .tags,body #finder .km-list>li .km-listview-link .summary .tags,html #finder .km-list>li .km-listview-link .summary .metrics,body #finder .km-list>li .km-listview-link .summary .metrics{font-size:.8em}html #finder .km-list>li .km-listview-link .summary .tags,body #finder .km-list>li .km-listview-link .summary .tags{margin:.2em 0}html #finder .km-list>li .km-listview-link .km-badge,body #finder .km-list>li .km-listview-link .km-badge{font-size:.75em}html #network .picture,body #network .picture,html #sync .picture,body #sync .picture{width:10em;height:10em;margin:1em auto;display:block;float:none}html #network .title,body #network .title,html #sync .title,body #sync .title,html #network .message,body #network .message,html #sync .message,body #sync .message{text-align:center}html #network .progress,body #network .progress,html #sync .progress,body #sync .progress{margin:1em}html #network .progress .k-progressbar,body #network .progress .k-progressbar,html #sync .progress .k-progressbar,body #sync .progress .k-progressbar{box-sizing:border-box;width:100%;margin:1em 0}html #score .summary,body #score .summary{padding:.5em;display:flex;align-items:flex-start}html #score .summary .icon,body #score .summary .icon{height:2em;width:2em}html #score .summary .title,body #score .summary .title{font-weight:bold;font-size:1rem;margin:.2em .5em 0 .5em}html #score .km-list>li .km-listview-link,body #score .km-list>li .km-listview-link{display:flex;align-items:flex-start}html #score .km-list>li .km-listview-link .icon,body #score .km-list>li .km-listview-link .icon{flex:0 0 auto;height:2em;width:2em}html #score .km-list>li .km-listview-link .score,body #score .km-list>li .km-listview-link .score{display:grid;margin:0 3.5em 0 .5em}html #score .km-list>li .km-listview-link .score h4,body #score .km-list>li .km-listview-link .score h4{font-weight:normal;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}html #score .km-list>li .km-listview-link .score .small,body #score .km-list>li .km-listview-link .score .small{font-size:small;line-height:normal}html #score .km-list>li .km-listview-link .score .small div.left,body #score .km-list>li .km-listview-link .score .small div.left{width:5em;float:left}html #score .km-list>li .km-listview-link .score .small div.right,body #score .km-list>li .km-listview-link .score .small div.right{margin-left:5em}html #score .km-list>li .km-listview-link .km-badge,body #score .km-list>li .km-listview-link .km-badge{font-size:.75em}html #signin .k-scrollview.km-scrollview,body #signin .k-scrollview.km-scrollview{border:none}html #signin .k-scrollview.km-scrollview div[data-role="page"],body #signin .k-scrollview.km-scrollview div[data-role="page"]{overflow:hidden}html #signin .k-scrollview.km-scrollview div[data-role="page"] div.image,body #signin .k-scrollview.km-scrollview div[data-role="page"] div.image{position:absolute;width:80vmin;top:10vmin;left:50%;margin-left:-40vmin}html #signin .k-scrollview.km-scrollview div[data-role="page"] div.image img,body #signin .k-scrollview.km-scrollview div[data-role="page"] div.image img{width:100%}html #signin .k-scrollview.km-scrollview div[data-role="page"] div.text,body #signin .k-scrollview.km-scrollview div[data-role="page"] div.text{position:absolute;bottom:0;height:30%;width:100%;display:flex;align-items:center;justify-content:center;border-style:solid;border-width:1px 0 0 0}html #signin .k-scrollview.km-scrollview div[data-role="page"] div.text p,body #signin .k-scrollview.km-scrollview div[data-role="page"] div.text p{text-align:center;white-space:initial;width:80%}html #signin .k-scrollview.km-scrollview div[data-role="page"] .k-notification-wrap .k-text,body #signin .k-scrollview.km-scrollview div[data-role="page"] .k-notification-wrap .k-text{margin-right:3em}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li{padding:.5em 0}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li>span.km-icon,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li>span.km-icon{display:none}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button{box-sizing:border-box;width:100%}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button .km-icon,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button .km-icon{margin-left:-0.7em;margin-right:.7em}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider]:not(.km-state-disabled),body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider]:not(.km-state-disabled){color:#fff}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="google"]:not(.km-state-disabled),body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="google"]:not(.km-state-disabled){background-color:#d9534f;border-color:#d43f3a}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="google"].km-state-active,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="google"].km-state-active{background-color:#c9302c;border-color:#ac2925}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="facebook"]:not(.km-state-disabled),body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="facebook"]:not(.km-state-disabled){background-color:#337ab7;border-color:#2e6da4}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="facebook"].km-state-active,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="facebook"].km-state-active{background-color:#204d74;border-color:#122b40}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="twitter"]:not(.km-state-disabled),body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="twitter"]:not(.km-state-disabled){background-color:#5bc0de;border-color:#46b8da}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="twitter"].km-state-active,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="twitter"].km-state-active{background-color:#31b0d5;border-color:#269abc}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="live"]:not(.km-state-disabled),body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="live"]:not(.km-state-disabled){background-color:#5cb85c;border-color:#4cae4c}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="live"].km-state-active,body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="live"].km-state-active{background-color:#449d44;border-color:#398439}html #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="dummy"],body #signin .k-scrollview.km-scrollview div[data-role="page"] .km-list>li .km-button[data-provider="dummy"]{color:initial}html #signin .k-scrollview.km-scrollview ol.k-pages.km-pages.no-background,body #signin .k-scrollview.km-scrollview ol.k-pages.km-pages.no-background{background-color:initial;border:none}html #summary .picture,body #summary .picture{width:10em;height:10em;margin:1em auto;display:block;float:none}html #summary form .km-badge-error,body #summary form .km-badge-error,html #summary form .km-badge-success,body #summary form .km-badge-success,html #summary form .km-badge-warning,body #summary form .km-badge-warning{border-radius:50%;float:right;padding:6px;margin-top:-6px;position:relative}html #summary form .kj-markdown p:first-child,body #summary form .kj-markdown p:first-child{margin-top:0}html #user .picture,body #user .picture{border-radius:50%;width:10em;height:10em;margin:1em auto;display:block;float:none}@media screen and (min-width:375px) and (max-width:411px){html #finder .km-list>li .km-listview-link,body #finder .km-list>li .km-listview-link{height:8em}}@media screen and (min-width:412px) and (max-width:699px){html #finder .km-list>li .km-listview-link,body #finder .km-list>li .km-listview-link{height:7em}}@media screen and (min-width:700px){html #finder .km-list>li .km-listview-link,body #finder .km-list>li .km-listview-link{height:5em}}',""])},function(t,e,i){var n,o,r;!function(i,a){"use strict";o=[],void 0===(r="function"==typeof(n=function(){return function(){var t=window.app=window.app||{},e=function(){return Array.prototype.slice.call(arguments).join("/").replace(/([^:])[\/]{2,}/g,"$1/")};function i(t){for(var e=0,i=t,n=/%[sdj]/;"string"==typeof i&&n.test(i);)i=i.replace(n,"{"+e+"}"),e++;return i}t.DEBUG="true"==="false".toLowerCase(),t.version="0.3.8",t.locales=JSON.parse('["en","fr"]'),t.constants=t.constants||{appScheme:"com.kidoju.webapp",facebookAppId:"892459787527630",twitterAccount:"kidoju"},t.assets={audio:{collections:JSON.parse('[{"source":"summary"}]'),extensions:JSON.parse('[".mp3",".ogg"]'),schemes:JSON.parse('{"cdn":"https://cdn.kidoju.com/","data":"https://cdn.kidoju.com/"}')},icon:{collections:JSON.parse('[{"name":"Icons","transport":{"read":"https://cdn.kidoju.com/images/o_collection/svg/office/index.json"}}]'),extensions:JSON.parse('[".svg"]'),schemes:JSON.parse('{"cdn":"https://cdn.kidoju.com/"}')},image:{collections:JSON.parse('[{"source":"summary"},{"name":"Icons","collections":[{"name":"Twemoji","transport":{"read":"https://cdn.kidoju.com/images/twemoji/svg/all/index.json"}},{"name":"G-Collection","transport":{"read":"https://cdn.kidoju.com/images/g_collection/svg/all/index.json"}},{"name":"O-Collection","transport":{"read":"https://cdn.kidoju.com/images/o_collection/svg/office/index.json"}},{"name":"V-Collection","transport":{"read":"https://cdn.kidoju.com/images/v_collection/png/128x128/index.json"}},{"name":"X-Collection","transport":{"read":"https://cdn.kidoju.com/images/x_collection/png/128x128/index.json"}}]},{"name":"Cliparts","collections":[{"name":"Alphanumeric","transport":{"read":"https://cdn.kidoju.com/images/cliparts/alphanumeric/index.json"}},{"name":"Nature","transport":{"read":"https://cdn.kidoju.com/images/cliparts/nature/index.json"}},{"name":"People","transport":{"read":"https://cdn.kidoju.com/images/cliparts/people/index.json"}},{"name":"Scenery","transport":{"read":"https://cdn.kidoju.com/images/cliparts/scenery/index.json"}},{"name":"Things","transport":{"read":"https://cdn.kidoju.com/images/cliparts/things/index.json"}},{"name":"Miscellaneous","transport":{"read":"https://cdn.kidoju.com/images/cliparts/miscellaneous/index.json"}}]},{"name":"Common","collections":[{"name":"Lines","transport":{"read":"https://cdn.kidoju.com/images/common/lines/index.json"}},{"name":"Shapes","transport":{"read":"https://cdn.kidoju.com/images/common/shapes/index.json"}},{"name":"Miscellaneous","transport":{"read":"https://cdn.kidoju.com/images/common/miscellaneous/index.json"}}]},{"name":"Games","collections":[{"name":"Cards","transport":{"read":"https://cdn.kidoju.com/images/games/cards/index.json"}},{"name":"Miscellaneous","transport":{"read":"https://cdn.kidoju.com/images/games/miscellaneous/index.json"}}]},{"name":"Mathematics","collections":[{"name":"Number","transport":{"read":"https://cdn.kidoju.com/images/mathematics/number/index.json"}},{"name":"Ratio","transport":{"read":"https://cdn.kidoju.com/images/mathematics/ratio/index.json"}},{"name":"Measurement","transport":{"read":"https://cdn.kidoju.com/images/mathematics/measurement/index.json"}},{"name":"Geometry","transport":{"read":"https://cdn.kidoju.com/images/mathematics/geometry/index.json"}},{"name":"Statistics","transport":{"read":"https://cdn.kidoju.com/images/mathematics/statistics/index.json"}},{"name":"Miscellaneous","transport":{"read":"https://cdn.kidoju.com/images/mathematics/miscellaneous/index.json"}}]},{"source":"websearch","params":{"provider":"google","searchType":"image","pageSize":10}}]'),extensions:JSON.parse('[".gif",".jpg",".png",".svg"]'),schemes:JSON.parse('{"cdn":"https://cdn.kidoju.com/","data":"https://cdn.kidoju.com/"}')},video:{collections:JSON.parse('[{"source":"summary"}]'),extensions:JSON.parse('[".mp4",".ogv",".wbem"]'),schemes:JSON.parse('{"cdn":"https://cdn.kidoju.com/","data":"https://cdn.kidoju.com/"}')}},t.uris={rapi:{root:"https://www.kidoju.com",logger:e("https://www.kidoju.com",i("/api/logger")),web:{search:e("https://www.kidoju.com",i("/api/web/search/%s"))}},cdn:{icons:e("https://cdn.kidoju.com",i("/images/o_collection/svg/office/%s.svg"))},help:{root:"https://help.kidoju.com"},mobile:{icons:i("./img/icons/%s.svg"),pictures:i("%susers/%s")},webapp:{editor:e("https://www.kidoju.com",i("/%s/e/%s/%s")),error:e("https://www.kidoju.com",i("/%s/error")),finder:e("https://www.kidoju.com",i("/%s")),home:e("https://www.kidoju.com",i("/")),locale:e("https://www.kidoju.com",i("/%s")),logger:e("https://www.kidoju.com",i("/logger")),ping:e("https://www.kidoju.com",i("/ping")),player:e("https://www.kidoju.com",i("/%s/x/%s/%s/%s")),proxy:e("https://www.kidoju.com",i("/proxy")),public:e("https://www.kidoju.com",i("/%s")),rss:e("https://www.kidoju.com",i("/%s/rss/%s")),sitemap:e("https://www.kidoju.com",i("/%s/sitemap/%s")),summary:e("https://www.kidoju.com",i("/%s/s/%s")),support:e("https://www.kidoju.com",i("/support/%s")),user:e("https://www.kidoju.com",i("/%s/u/%s")),workerlib:e("./build/",i("workerlib.bundle.js"))}},t.logger=t.logger||{},t.logger.level=parseInt("2",10)||0,t.logger.endPoint=t.uris.webapp.logger}(),window.app})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(154),i(4),i(17),i(1),i(6),i(444),i(153),i(68),i(67),i(111),i(43),i(112),i(81),i(155),i(450),i(156)],void 0===(r="function"==typeof(n=function(t){return function(e,i){var n=window.app=window.app||{},o=n.models=n.models||{},r=window.kendo,a=window.kidoju,s=r.Class,l=a.data.Model,c=a.data.DataSource,u=window.assert,h=new window.Logger("app.mobile.models"),d=window.pongodb,f=n.db,p=n.i18n,m=new n.FileSystem,g=t||window.md5,v=n.uris=n.uris||{};v.cdn=v.cdn||{},v.cdn.icons=v.cdn.icons||"https://cdn.kidoju.com/images/o_collection/svg/office/{0}.svg",v.mobile=v.mobile||{},v.mobile.icons=v.mobile.icons||"./img/icons/{0}.svg",v.mobile.pictures=v.mobile.pictures||"{0}users/{1}";var b="string",k=/^[a-f0-9]{24}$/,y={ROOT_CATEGORY_ID:{en:n.constants.rootCategoryId.en||"000100010000000000000000",fr:n.constants.rootCategoryId.fr||"000200010000000000000000"},DATE:new Date(2e3,0,1)},w={CREATED:"created",DESTROYED:"destroyed",UPDATED:"updated"};function _(t){u.instanceof(Error,t,r.format(u.messages.instanceof.default,"error","Error")),u.type(b,t.message,r.format(u.messages.type.default,"error.message",b));var i=e.extend(!0,{},{message:t.message,type:t.type,code:t.code,stack:t.stack&&t.stack.toString()});return[{responseText:JSON.stringify({error:i})},"error",t.message]}function x(t,i){u.isFunction(t,u.format(u.messages.isFunction.default,"DataModel")),u.isFunction(i.get,u.format(u.messages.isFunction.default,"transport.get")),t.fn.transport=i,t.fn.load=function(t){u.isPlainObject(t,u.format(u.messages.isPlainObject.default,"options")),u.match(k,t[this.idField],u.format(u.messages.match.default,"options[this.idField]",k));var i=this,n=e.Deferred();if(i.dirty||i.get(i.idField)!==t[i.idField]){var o={};o[i.idField]=t[i.idField],delete t[i.idField],i.transport.partition(t),i.transport.get({data:i.transport.parameterMap(o,"get"),error:n.reject,success:function(t){i.accept(t),n.resolve(t)}})}else n.resolve(i.toJSON());return n.promise()},t.fn.reset=function(){var t={};for(var i in this.defaults)this.defaults.hasOwnProperty(i)&&(t[i]=e.isFunction(this.defaults[i])?this.defaults[i]():this.defaults[i]);this.accept(t)},t.fn.save=function(){var t=this,i=e.Deferred();if(t.isNew())t.transport.create({data:t.transport.parameterMap(t.toJSON(),"create"),error:i.reject,success:function(e){t.accept(e.data[0]),i.resolve(e.data[0])}});else if(t.dirty){var n=t.transport.parameterMap(t.toJSON(),"update"),o={};for(var r in o[t.idField]=n[t.idField],t.dirtyFields)t.dirtyFields[r]&&(o[r]=n[r]);t.transport.update({data:o,error:i.reject,success:function(e){t.accept(e.data[0]),i.resolve(e.data[0])}})}else i.resolve(t.toJSON());return i.promise()}}o.LazyRemoteTransport=o.BaseTransport.extend({init:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isFunction(t.collection,r.format(u.messages.isFunction.default,"options.collection")),this._collection=t.collection,o.BaseTransport.fn.init.call(this,t)},partition:function(t){if("undefined"===e.type(t))return o.BaseTransport.fn.partition.call(this);o.BaseTransport.fn.partition.call(this,t),this._rapi=this._collection(this._partition),u.isFunction(this._rapi.create,r.format(u.messages.isFunction.default,"this._rapi.create")),u.isFunction(this._rapi.destroy,r.format(u.messages.isFunction.default,"this._rapi.destroy")),u.isFunction(this._rapi.get,r.format(u.messages.isFunction.default,"this._rapi.get")),u.isFunction(this._rapi.read,r.format(u.messages.isFunction.default,"this._rapi.read")),u.isFunction(this._rapi.update,r.format(u.messages.isFunction.default,"this._rapi.update"))},get:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success"));var e=this.parameterMap(t.data,"get");this._rapi.get(e[this.idField],{fields:e.fields}).done(t.success).fail(t.error)},read:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success"));var i=this.partition();if("undefined"===e.type(i))t.success({total:0,data:[]});else{var n=this.parameterMap(t.data,"read");this._rapi.read(n).done(t.success).fail(t.error)}}}),o.RemoteTransport=o.LazyRemoteTransport.extend({create:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success"));var e=this.parameterMap(t.data,"create"),i=this._validate(e);if(i)return t.error.apply(this,_(i));this._rapi.create(e).done(function(e){t.success({total:1,data:[e]})}).fail(t.error)},destroy:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success"));var e=this.parameterMap(t.data,"destroy"),i=this._validate(e);if(i)return t.error.apply(this,_(i));this._rapi.destroy(e[this.idField]).done(function(e){t.success({total:1,data:[e]})}).fail(t.error)},update:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success"));var e=this.parameterMap(t.data,"update"),i=this._validate(e);if(i)return t.error.apply(this,_(i));this._rapi.update(e[this.idField],e).done(function(e){t.success({total:1,data:[e]})}).fail(t.error)}});var S=o.LazyMobileTransport=o.BaseTransport.extend({init:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.instanceof(d.Collection,t.collection,r.format(u.messages.instanceof.default,"options.collection","pongodb.Collection")),this._collection=t.collection,o.BaseTransport.fn.init.call(this,t)},get:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success")),h.debug({message:"Get mobile data",method:"app.models.LazyMobileTransport.get",data:t.data});var e=this.parameterMap(t.data,"get"),i={};i[this.idField]=e[this.idField],this._collection.findOne(i,this.projection()).done(function(e){t.success(e)}).fail(function(e){t.error.apply(this,_(e))})},read:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success"));var i=this.partition();if(h.debug({message:"Read mobile data",method:"app.models.LazyMobileTransport.read",data:t.data}),"undefined"===e.type(i))t.success({total:0,data:[]});else{var o=this.parameterMap(t.data,"read");n.rapi.util.extendQueryWithPartition(o,i),o.filter.filters.push({field:"__state__",operator:"neq",value:w.DESTROYED}),o=d.util.convertFilter(t.data.filter),this._collection.find(o,this.projection()).done(function(i){e.isArray(i)?t.success({total:i.length,data:i}):t.error.apply(this,_(new Error("Database should return an array")))}).fail(function(e){t.error.apply(this,_(e))})}}}),C=o.MobileTransport=o.LazyMobileTransport.extend({create:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success")),h.debug({message:"Create mobile data",method:"app.models.MobileTransport.create",data:t.data});var e=JSON.parse(JSON.stringify(this.parameterMap(t.data,"create")));e[this.idField]||(e.__state__=w.CREATED);var i=this._validate(e);if(i)return t.error.apply(this,_(i));this._collection.insert(e).done(function(){t.success({total:1,data:[e]})}).fail(function(e){t.error.apply(this,_(e))})},destroy:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success")),h.debug({message:"Destroy mobile data",method:"app.models.MobileTransport.destroy",data:t.data});var e=JSON.parse(JSON.stringify(this.parameterMap(t.data,"destroy"))),i=this.idField,n=e[i];if(e.__state__===w.CREATED)k.test(n)?this._collection.remove({id:n}).done(function(i){i&&1===i.nRemoved?t.success({total:1,data:[e]}):t.error.apply(this,_(new Error("Not found")))}).fail(function(e){t.error.apply(this,_(e))}):t.error.apply(this,_(new Error("Not found")));else{e.updated&&(e.updated=(new Date).toISOString()),e.__state__=w.DESTROYED;var o=this._validate(e);if(o)return t.error.apply(this,_(o));k.test(n)?(e[i]=void 0,this._collection.update({id:n},e).done(function(o){o&&1===o.nMatched&&1===o.nModified?(e[i]=n,t.success({total:1,data:[e]})):t.error.apply(this,_(new Error("Not found")))}).fail(function(e){t.error.apply(this,_(e))})):t.error.apply(this,_(new Error("Not found")))}},update:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),u.isFunction(t.error,r.format(u.messages.isFunction.default,"options.error")),u.isFunction(t.success,r.format(u.messages.isFunction.default,"options.success")),h.debug({message:"Update mobile data",method:"app.models.MobileTransport.update",data:t.data});var i=JSON.parse(JSON.stringify(this.parameterMap(t.data,"update")));i.updated&&(i.updated=(new Date).toISOString()),"undefined"===e.type(i.__state__)&&(i.__state__=w.UPDATED);var n=this._validate(i);if(n)return t.error.apply(this,_(n));var o=this.idField,a=i[o];k.test(a)?(i[o]=void 0,this._collection.update({id:a},i,{upsert:!0}).done(function(e){e&&1===e.nMatched&&e.nModified+e.nUpserted===1?(i[o]=a,t.success({total:1,data:[i]})):t.error.apply(this,_(new Error("Not found")))}).fail(function(e){t.error.apply(this,_(e))})):t.error.apply(this,_(new Error("Not found")))}});o.DummyTransport=o.BaseTransport.extend({init:function(t){o.BaseTransport.fn.init.call(this,t),this._data=[]},create:function(t){var e=t.data;e[this.idField]=(new window.pongodb.ObjectId).toString(),this._data.push(e),t.success({total:1,data:[e]})},destroy:function(t){for(var e=this.idField,i=t.data[e],n=!1,o=0,r=this._data.length;o<r;o++){var a=this._data[o];if(a[e]===i){n=!0,this._data.splice(o,1),t.success({total:1,data:[a]});break}}n||t.error.apply(this,_(new Error("Not found")))},read:function(t){t.success({total:this._data.length,data:this._data})},update:function(t){for(var i=this.idField,n=t.data[i],o=!1,r=0,a=this._data.length;r<a;r++)if(this._data[r][i]===n){o=!0;var s=this._data[r]=e.extend(this._data[r],t.data);t.success({total:1,data:[s]});break}o||t.error.apply(this,_(new Error("Not found")))}}),o.LazyOfflineStrategy=S.extend({init:function(t){t=t||{},this.remoteTransport=t.remoteTransport,S.fn.init.call(this,t)},partition:function(t){return this.remoteTransport.partition(t)},projection:function(t){return this.remoteTransport.projection(t)},get:function(t){"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?C.fn.get.call(this,t):this.remoteTransport.get(t)},read:function(t){"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?C.fn.read.call(this,t):this.remoteTransport.read(t)}}),o.LazyCacheStrategy=C.extend({init:function(t){t=t||{},this.remoteTransport=t.remoteTransport,C.fn.init.call(this,t)},partition:function(t){return this.remoteTransport.partition(t)},projection:function(t){return this.remoteTransport.projection(t)},get:function(t){var e=this;"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?C.fn.get.call(e,t):e.remoteTransport.get({data:t.data,error:t.error,success:function(i){C.fn.update.call(e,{data:i,error:t.error,success:function(e){u.equal(1,e&&e.total,u.format(u.messages.equal.default,"response.total","1")),t.success(e.data[0])}})}})},read:function(t){var i=this;"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?C.fn.read.call(i,t):i.remoteTransport.read({data:t.data,error:t.error,success:function(n){for(var o=[],r=function(t){var o=e.Deferred();return C.fn.update.call(i,{data:n.data[t],error:o.reject,success:o.resolve}),o.promise()},a=0,s=n.data.length;a<s;a++)o.push(r(a));e.when.apply(i,o).always(function(){t.success(n)})}})}}),o.LazySummaryOfflineStrategy=o.LazyOfflineStrategy.extend({get:function(t){var i=this;"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?C.fn.get.call(i,t):i.remoteTransport.get({data:t.data,error:t.error,success:function(n){C.fn.get.call(i,{data:t.data,error:function(e){t.success(n)},success:function(i){n=e.extend(!0,i,n,{offline:!0}),t.success(n)}})}})},read:function(t){var i=this;"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?C.fn.read.call(i,t):i.remoteTransport.read({data:t.data,error:t.error,success:function(n){for(var o=[],r=function(t){var o=e.Deferred();return C.fn.get.call(i,{data:n.data[t],error:function(){o.resolve()},success:function(i){n.data[t]=e.extend(!0,i,n.data[t],{offline:!0}),o.resolve()}}),o.promise()},a=0,s=n.data.length;a<s;a++)o.push(r(a));e.when.apply(i,o).always(function(){t.success(n)})}})}}),o.SynchronizationStrategy=C.extend({init:function(t){t=t||{},this.remoteTransport=t.remoteTransport,C.fn.init.call(this,t)},partition:function(t){return this.remoteTransport.partition(t)},projection:function(t){return this.remoteTransport.projection(t)},lastSync:function(t){if("undefined"===e.type(t))return this._lastSync;if("date"!==e.type(t))throw new TypeError("`value` should be a `Date`");this._lastSync=t},_createSync:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"item")),u.equal(w.CREATED,t.__state__,r.format(u.messages.equal.default,"item.__state__","created"));var i=e.Deferred(),n=this._collection,o=this.idField,a=t[o];return t[o]=null,delete t.__state__,this.remoteTransport.create({data:t,error:function(t){i.reject(t)},success:function(t){e.when(n.remove({id:a}),n.insert(t.data[0])).done(i.resolve).fail(i.reject)}}),i.promise()},_destroySync:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"item")),u.equal(w.DESTROYED,t.__state__,r.format(u.messages.equal.default,"item.__state__","destroyed"));var i=e.Deferred(),n=this._collection,o=this.idField;return delete t.__state__,this.remoteTransport.destroy({data:t,error:function(e){(e.message="404")?n.remove({id:t[o]}).done(i.resolve).fail(i.reject):i.reject(e)},success:function(e){n.remove({id:t[o]}).done(i.resolve).fail(i.reject)}}),i.promise()},_readSync:function(){var t=this,i=e.Deferred(),n=this._collection,o=this.idField;return this.remoteTransport.read({data:{filter:{field:"updated",operator:"gte",value:t._lastSync},sort:{field:"updated",dir:"desc"}},success:function(r){var a=r.data,s=a.length,l=[];function c(t){var e=a[t];return n.update({id:e[o]},e,{upsert:!0}).always(function(){i.notify({collection:n.name(),pass:2,index:t,total:s})})}for(var u=0;u<s;u++)l.push(c(u));e.when.apply(t,l).always(function(){s=s||1,i.notify({collection:n.name(),pass:2,index:s-1,total:s}),s>=90&&h.crit({message:"Time to add paging to synchronization",method:"models.SynchronizationStrategy._readSync",data:{total:s}})}).done(i.resolve).fail(i.reject)},error:i.reject}),i.promise()},_updateSync:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"item")),u.equal(w.UPDATED,t.__state__,r.format(u.messages.equal.default,"item.__state__","updated"));var i=e.Deferred(),n=this._collection,o=this.idField,a={};return delete t.__state__,this.remoteTransport.update({data:t,error:function(e){(e.message="404")?(a[o]=t[o],n.remove(a).done(i.resolve).fail(i.reject)):i.reject(e)},success:function(t){a[o]=t.data[0][o],n.update(a,t.data[0]).done(i.resolve).fail(i.reject)}}),i.promise()},sync:function(){var t=this,i=e.Deferred(),n=t._collection,o=t.remoteTransport._partition;return this._collection.find(o,this.projection()).done(function(o){var r=[],a=o.length;function s(e){var r=o[e];return r.__state__===w.CREATED?t._createSync(r).always(function(){i.notify({collection:n.name(),pass:1,index:e,total:a})}):r.__state__===w.DESTROYED?t._destroySync(r).always(function(){i.notify({collection:n.name(),pass:1,index:e,total:a})}):r.__state__===w.UPDATED?t._updateSync(r).always(function(){i.notify({collection:n.name(),pass:1,index:e,total:a})}):void 0}for(var l=0;l<a;l++){var c=s(l);c&&r.push(c)}e.when.apply(t,r).always(function(){a=a||1,i.notify({collection:n.name(),pass:1,index:a-1,total:a})}).done(function(){t._readSync().progress(i.notify).done(i.resolve).fail(i.reject)}).fail(i.reject)}).fail(i.reject),i.promise()}}),o.MobileUser=l.define({id:"id",fields:{id:{type:b,editable:!1,nullable:!0},sid:{type:b,editable:!1},firstName:{type:b,editable:!1},lastName:{type:b,editable:!1},lastSync:{type:"date",defaultValue:y.DATE},lastUse:{type:"date",defaultValue:function(){return new Date}},md5pin:{type:b,nullable:!0},picture:{type:b},provider:{type:b,editable:!1},reviewState:{defaultValue:{counter:0}},rootCategoryId:{type:b,defaultValue:function(){return y.ROOT_CATEGORY_ID[p.locale()]}}},fullName$:function(){return((this.get("firstName")||"").trim()+" "+(this.get("lastName")||"").trim()).trim()},picture$:function(){var t=this instanceof o.MobileUser?this.get("picture"):this.picture;return e.type(t)===b&&t.length?t:r.format(v.mobile.icons,"user")},mobilePicture$:function(){var t=this instanceof o.MobileUser?this.get("picture"):this.picture,i=this instanceof o.MobileUser?this.get("sid"):this.sid,n=m._persistent;if("undefined"!==e.type(n)&&k.test(i)&&e.type(t)===b&&t.length){var a=r.format(v.mobile.pictures,n.root.toURL(),i+".jpg");return h.debug({message:"binding to mobilePicture$",method:"MobileUser.mobilePicture$",data:{path:a}}),a}return r.format(v.mobile.icons,"user")},_saveMobilePicture:function(){var t=e.Deferred(),i=this instanceof o.MobileUser?this.get("sid"):this.sid,n=this instanceof o.MobileUser?this.picture$():o.MobileUser.fn.picture$.call(this);return n===r.format(v.mobile.icons,"user")?t.resolve():(u.match(k,i,r.format(u.messages.match.default,"sid",k)),m.init().done(function(){var e=r.format(v.mobile.pictures,"",""),o=i+".jpg";m.getDirectoryEntry(e,window.PERSISTENT).done(function(e){m.getFileEntry(e,o).done(function(e){m.download(n,e).done(t.resolve).fail(t.reject)}).fail(t.reject)}).fail(t.reject)}).fail(t.reject)),t.promise()},addPin:function(t){u.type(b,t,r.format(u.messages.type.default,"pin",b)),u.type("function",g,r.format(u.messages.type.default,"md5","function"));var e=this.get("sid");u.match(k,e,r.format(u.messages.match.default,"salt",k));var i=g(e+t);this.set("md5pin",i)},verifyPin:function(t){u.type(b,t,r.format(u.messages.type.default,"pin",b)),u.type("function",g,r.format(u.messages.type.default,"md5","function"));var e=this.get("sid");u.match(k,e,r.format(u.messages.match.default,"salt",k));var i=g(e+t);return this.get("md5pin")===i}}),o.MobileUserTransport=s.extend({init:function(t){t=t||{},this.idField=t.idField||"id"},_validate:function(t){var i,n=[];if(e.type(t.md5pin)!==b||t.md5pin.length<4){var o=new Error("Invalid md5pin");o.prop="md5pin",n.push(o)}return n.length&&((i=new Error("Bad request")).code=400,i.errors=n),i},create:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),h.debug({message:"User data creation",method:"app.models.MobileUserDataSource.transport.create"});var e=this.idField,i=JSON.parse(JSON.stringify(t.data)),n=this._validate(i);if(n)return t.error.apply(this,_(n));i[e]=new window.pongodb.ObjectId(i.sid).toMobileId(),o.MobileUser.fn._saveMobilePicture.call(i).done(function(){f.users.insert(i).done(function(){t.success({total:1,data:[i]})}).fail(function(e){t.error.apply(this,_(e))})}).fail(function(e){h.error({message:"Cannot save mobile picture",method:"models.MobileUserTransport.create",error:e}),i.set("picture",""),f.users.insert(i).done(function(){t.success({total:1,data:[i]})}).fail(function(e){t.error.apply(this,_(e))})})},destroy:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),h.debug({message:"User data deletion",method:"app.models.MobileUserDataSource.transport.destroy"});var e=this.idField,i=t.data,n=i[e];if(k.test(n)){var o={};o[e]=n,f.users.remove(o).done(function(e){e&&1===e.nRemoved?t.success({total:1,data:[i]}):t.error.apply(this,_(new Error("User not found")))}).fail(function(e){t.error.apply(this,_(e))})}else t.error.apply(this,_(new Error("User not found")))},read:function(t){h.debug({message:"User data read",method:"app.models.MobileUserDataSource.transport.read"}),m.init().done(function(){f.users.find().done(function(i){e.isArray(i)?t.success({total:i.length,data:i}):t.error.apply(this,_(new Error("Database should return an array")))}).fail(function(e){t.error.apply(this,_(e))})}).fail(function(e){t.error.apply(this,_(e))})},update:function(t){u.isPlainObject(t,r.format(u.messages.isPlainObject.default,"options")),u.isPlainObject(t.data,r.format(u.messages.isPlainObject.default,"options.data")),h.debug({message:"User data update",method:"app.models.MobileUserDataSource.transport.update"});var e=JSON.parse(JSON.stringify(t.data)),i=this._validate(e);if(i)return t.error.apply(this,_(i));var n=this.idField,a=e[n];if(k.test(a)){var s={};s[n]=a,e[n]=void 0,f.users.update(s,e).done(function(i){i&&1===i.nMatched&&1===i.nModified?("Connection"in window&&window.navigator.connection.type!==window.Connection.NONE&&window.navigator.onLine&&o.MobileUser.fn._saveMobilePicture.call(e),e[n]=a,t.success({total:1,data:[e]})):t.error.apply(this,_(new Error("User not found")))}).fail(function(e){t.error.apply(this,_(e))})}else t.error.apply(this,_(new Error("User not found")))}}),o.MobileUserDataSource=c.extend({init:function(t){c.fn.init.call(this,e.extend(!0,{},{transport:new o.MobileUserTransport,schema:{data:"data",total:"total",errors:"error",modelBase:o.MobileUser,model:o.MobileUser}},t))}}),o.MobileActivity=l.define({id:"id",fields:{id:{type:b,nullable:!0},actor:{defaultValue:null,parse:function(t){return t instanceof o.UserReference||null===t?t:new o.UserReference(t)}},score:{type:"number",editable:!1,nullable:!0},test:{defaultValue:null},type:{type:b,editable:!1},scheme:{type:b,defaultValue:n.constants.appScheme,editable:!1},date:{type:"date"},updated:{type:"date"},version:{defaultValue:null,parse:function(t){return t instanceof o.VersionReference||null===t?t:new o.VersionReference(t)}}},isError$:function(){return this.get("score")>=0&&this.get("score")<50},isSuccess$:function(){return this.get("score")>=75},isWarning$:function(){return this.get("score")>=50&&this.get("score")<75},period$:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()),o=new Date(t.getFullYear(),t.getMonth(),1),r=this.get("updated");return r>=e?e:r>=i?i:r>=n?n:r>=o?o:new Date(r.getFullYear(),r.getMonth(),1)},queryString$:function(){return"?language="+window.encodeURIComponent(this.get("version.language"))+"&summaryId="+window.encodeURIComponent(this.get("version.summaryId"))+"&versionId="+window.encodeURIComponent(this.get("version.versionId"))+"&activityId="+window.encodeURIComponent(this.get("id"))},score$:function(){return r.toString(this.get("score")/100,"p0")},title$:function(){return this.get("version.title")},updated$:function(){return r.toString(this.get("updated"),"dd MMM yyyy")}}),o.MobileActivityDataSource=c.extend({init:function(t){c.fn.init.call(this,e.extend(!0,{},t,{transport:new o.SynchronizationStrategy({collection:f.activities,remoteTransport:new o.RemoteTransport({collection:n.rapi.v2.activities,partition:t&&t.partition})}),serverAggregates:!1,serverFiltering:!1,serverGrouping:!1,serverSorting:!1,serverPaging:!1,group:{dir:"desc",field:"period$()"},sort:{dir:"desc",field:"updated"},schema:{data:"data",errors:"error",modelBase:o.MobileActivity,model:o.MobileActivity,total:"total"}},t))},load:function(t){return t&&e.isPlainObject(t.partition)&&this.transport.partition(t.partition),this.query(t)},setLastSync:function(t){this.transport.lastSync(t)},remoteSync:function(){return this.transport.sync()}}),o.LazySummaryDataSource=c.extend({init:function(t){var i=this;i._userId=t._userId,c.fn.init.call(i,e.extend(!0,{pageSize:5},t,{transport:new o.LazySummaryOfflineStrategy({collection:f.summaries,remoteTransport:new o.RemoteTransport({collection:n.rapi.v2.summaries,partition:t&&t.partition})}),serverFiltering:!0,serverSorting:!0,serverPaging:!0,schema:{data:"data",total:"total",errors:"error",modelBase:o.LazySummary,model:o.LazySummary,parse:function(t){return t&&"number"===e.type(t.total)&&e.isArray(t.data)&&e.each(t.data,function(t,e){if(u.isPlainObject(e.author,r.format(u.messages.isPlainObject.default,"summary.author")),e.userId=e.author.userId,e.firstName=e.author.firstName,e.lastName=e.author.lastName,e.author=void 0,e.comments=e.comments&&e.metrics.comments&&e.metrics.comments.count||0,e.ratings=e.comments&&e.metrics.ratings&&e.metrics.ratings.average||null,e.scores=e.comments&&e.metrics.scores&&e.metrics.scores.average||null,e.views=e.comments&&e.metrics.views&&e.metrics.views.count||0,e.metrics&&(e.metrics=void 0),Array.isArray(e.activities)){for(var n=0,o=e.activities.length;n<o;n++)if(e.activities[n].actorId===i._userId){e.userScore=e.activities[n].score;break}e.activities=void 0}}),t}}}))},setUserId:function(t){this._userId=t},load:function(t){return t&&e.isPlainObject(t.partition)&&this.transport.partition(t.partition),this.query(t)}}),x(o.Summary,new o.LazySummaryOfflineStrategy({collection:f.summaries,remoteTransport:new o.RemoteTransport({collection:n.rapi.v2.summaries})})),o.LazyVersionDataSource=c.extend({init:function(t){c.fn.init.call(this,e.extend(!0,{pageSize:100},t,{transport:new o.LazyOfflineStrategy({collection:f.versions,remoteTransport:new o.RemoteTransport({collection:n.rapi.v2.versions,partition:t&&t.partition})}),serverFiltering:!0,serverSorting:!0,serverPaging:!0,schema:{data:"data",total:"total",errors:"error",modelBase:o.LazyVersion,model:o.LazyVersion,parse:function(t){return t&&e.type("number"===t.total&&e.isArray(t.data))&&e.each(t.data,function(t,e){e.state,e.name=""}),t}}}))},load:function(t){return t&&e.isPlainObject(t.partition)&&this.transport.partition(t.partition),this.query(t)}}),x(o.Version,new o.LazyCacheStrategy({collection:f.versions,remoteTransport:new o.RemoteTransport({collection:n.rapi.v2.versions})}))}(window.jQuery),window.app})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){"use strict";i.r(e),i.d(e,"error2xhr",function(){return s}),i.d(e,"xhr2error",function(){return l}),i.d(e,"dateReviver",function(){return c}),i.d(e,"escapeRegExp",function(){return u}),i.d(e,"randomHexString",function(){return h}),i.d(e,"randomId",function(){return d});var n=i(5),o=i.n(n),r=i(1),a=i(3);function s(t){r.default.instanceof(Error,t,r.default.format(r.default.messages.instanceof.default,"error","Error")),r.default.type(a.a.STRING,t.message,r.default.format(r.default.messages.type.default,"error.message",a.a.STRING));var e=o.a.extend(!0,{},{name:"Error",message:t.message,status:t.status,stack:t.stack&&t.stack.toString()});return[{responseText:JSON.stringify({error:e})},"error",t.message]}function l(){return new Error("xhr2error")}function c(t,e){var i=e;return a.a.RX_ISODATE.test(e)&&(i=new Date(e)),i}function u(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function h(t){return r.default.type(a.a.NUMBER,t,r.default.messages.type.default,"length",a.a.NUMBER),new Array(t+1).join("x").replace(/x/g,function(){return Math.trunc(16*Math.random()).toString(16)})}function d(){return"id_".concat(h(6))}window.kidoju=window.kidoju||{},window.kidoju.util=window.kidoju.util||{},window.kidoju.util.escapeRegExp=u,window.kidoju.util.randomId=d,window.kidoju.util.randomString=h},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=t.extend,o="\r\n",r="\r\n\r\n",a=i.isFunction,s={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isempty:"eq",isnotempty:"ne"},l=n({},s,{contains:"contains"}),c={pageSize:t.noop,page:t.noop,filter:function(n,o,r){o&&(o=function n(o,r){var a,c,u,h,d,f,p,m,g=[],v=o.logic||"and",b=o.filters;for(a=0,c=b.length;a<c;a++)o=b[a],u=o.field,p=o.value,f=o.operator,o.filters?o=n(o,r):(m=o.ignoreCase,u=u.replace(/\./g,"/"),o=s[f],r&&(o=l[f]),"isnull"===f||"isnotnull"===f?o=i.format("{0} {1} null",u,o):"isempty"===f||"isnotempty"===f?o=i.format("{0} {1} ''",u,o):o&&p!==e&&("string"===(h=t.type(p))?(d="'{1}'",p=p.replace(/'/g,"''"),!0===m&&(u="tolower("+u+")")):"date"===h?r?(d="{1:yyyy-MM-ddTHH:mm:ss+00:00}",p=i.timezone.apply(p,"Etc/UTC")):d="datetime'{1:yyyy-MM-ddTHH:mm:ss}'":d="{1}",o.length>3?"substringof"!==o?d="{0}({2},"+d+")":(d="{0}("+d+",{2})","doesnotcontain"===f&&(r?(d="{0}({2},'{1}') eq -1",o="indexof"):d+=" eq false")):d="{2} {0} "+d,o=i.format(d,o,p,u))),g.push(o);return o=g.join(" "+v+" "),g.length>1&&(o="("+o+")"),o}(o,r))&&(n.$filter=o)},sort:function(e,i){var n=t.map(i,function(t){var e=t.field.replace(/\./g,"/");return"desc"===t.dir&&(e+=" desc"),e}).join(",");n&&(e.$orderby=n)},skip:function(t,e){e&&(t.$skip=e)},take:function(t,e){e&&(t.$top=e)}},u={read:{dataType:"jsonp"}};function h(t){for(var e in t)0===e.indexOf("@odata")&&delete t[e]}function d(){return Math.floor(65536*(1+Math.random())).toString(16).substr(1)}function f(t){return t+d()+"-"+d()+"-"+d()}function p(t,e){var i=o+"--"+t;return e&&(i+="--"),i}function m(t,e,n,o){var r=t.options[o].url,s=i.format("{0} ",n);return a(r)?s+r(e):s+r}function g(t,e){var i="";return i+=p(t,!1),i+=o+"Content-Type: application/http",i+=o+"Content-Transfer-Encoding: binary",i+=o+"Content-ID: "+e}function v(t){var e="";return e+=o+"Content-Type: application/json;odata=minimalmetadata",e+=o+"Prefer: return=representation",e+=r+i.stringify(t)}function b(t,e,i,n,a,s,l){var c="";return c+=function(t,e){var i="";return i+="--"+t+o,i+="Content-Type: multipart/mixed; boundary="+e+o}(e,i),c+=function(t,e,i,n,a,s){for(var l="",c=0;c<t.length;c++)l+=g(e,i),l+=r+m(a,t[c],a.options[n].type,n)+" HTTP/1.1",s||(l+=v(t[c])),l+=o,i++;return l}(t,i,n,s,a,l),c+=p(i,!0),c+=o}n(!0,i.data,{schemas:{odata:{type:"json",data:function(t){return t.d.results||[t.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(t,e,n){var o,r,a,s;if(t=t||{},e=e||"read",s=(s=(this.options||u)[e])?s.dataType:"json","read"===e)for(a in o={$inlinecount:"allpages"},"json"!=s&&(o.$format="json"),t)c[a]?c[a](o,t[a],n):o[a]=t[a];else{if("json"!==s)throw new Error("Only json dataType can be used for "+e+" operation.");if("destroy"!==e){for(a in t)"number"==typeof(r=t[a])&&(t[a]=r+"");o=i.stringify(t)}}return o}}}}),n(!0,i.data,{schemas:{"odata-v4":{type:"json",data:function(e){if(t.isArray(e)){for(var i=0;i<e.length;i++)h(e[i]);return e}return h(e=t.extend({},e)),e.value?e.value:[e]},total:function(t){return t["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(t,e){var n=i.data.transports.odata.parameterMap(t,e,!0);return"read"==e&&(n.$count=!0,delete n.$inlinecount),n},submit:function(e){var o=function(t,e){var i={},n=f("sf_batch_"),o="",r=0,s=t.options.batch.url,l=f("sf_changeset_");return i.type=t.options.batch.type,i.url=a(s)?s():s,i.headers={"Content-Type":"multipart/mixed; boundary="+n},e.updated.length&&(o+=b(e.updated,n,l,r,t,"update",!1),r+=e.updated.length,l=f("sf_changeset_")),e.destroyed.length&&(o+=b(e.destroyed,n,l,r,t,"destroy",!0),r+=e.destroyed.length,l=f("sf_changeset_")),e.created.length&&(o+=b(e.created,n,l,r,t,"create",!1)),o+=p(n,!0),i.data=o,i}(this,e.data),r=e.data;(r.updated.length||r.destroyed.length||r.created.length)&&t.ajax(n(!0,{},{success:function(t){var n,o=function(t){var e,n,o,r,a,s=t.match(/--changesetresponse_[a-z0-9-]+$/gm),l=0,c=[];c.push({models:[],passed:!0});for(var u=0;u<s.length;u++)(r=s[u]).lastIndexOf("--",r.length-1)?u<s.length-1&&c.push({models:[],passed:!0}):(l=l?t.indexOf(r,l+r.length):t.indexOf(r),n=(e=t.substring(l,t.indexOf("--",l+1))).match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop(),(o=i.parseFloat(n.match(/\d{3}/g).pop()))>=200&&o<=299?(a=e.match(/\{.*\}/gm))&&c[c.length-1].models.push(JSON.parse(a[0])):c[c.length-1].passed=!1);return c}(t),a=0;r.updated.length&&((n=o[a]).passed&&e.success(n.models.length?n.models:[],"update"),a++),r.destroyed.length&&((n=o[a]).passed&&e.success([],"destroy"),a++),r.created.length&&(n=o[a]).passed&&e.success(n.models,"create")},error:function(t,i,n){e.error(t,i,n)}},o))}}}})}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=t.isArray,o=t.isPlainObject,r=t.map,a=t.each,s=t.extend,l=i.getter,c=i.Class.extend({init:function(e){var l=this,c=e.total,u=e.model,h=e.parse,d=e.errors,f=e.serialize,p=e.data;if(u){if(o(u)){var m=e.modelBase||i.data.Model;u.fields&&a(u.fields,function(e,i){o(i)&&i.field?t.isFunction(i.field)||(i=s(i,{field:l.getter(i.field)})):i={field:l.getter(i)},u.fields[e]=i});var g=u.id;if(g){var v={};v[l.xpathToMember(g,!0)]={field:l.getter(g)},u.fields=s(v,u.fields),u.id=l.xpathToMember(g)}u=m.define(u)}l.model=u}if(c&&("string"==typeof c?(c=l.getter(c),l.total=function(t){return parseInt(c(t),10)}):"function"==typeof c&&(l.total=c)),d&&("string"==typeof d?(d=l.getter(d),l.errors=function(t){return d(t)||null}):"function"==typeof d&&(l.errors=d)),p&&("string"==typeof p?(p=l.xpathToMember(p),l.data=function(t){var e,i=l.evaluate(t,p);return i=n(i)?i:[i],l.model&&u.fields?(e=new l.model,r(i,function(t){if(t){var i,n={};for(i in u.fields)n[i]=e._parse(i,u.fields[i].field(t));return n}})):i}):"function"==typeof p&&(l.data=p)),"function"==typeof h){var b=l.parse;l.parse=function(t){var e=h.call(l,t);return b.call(l,e)}}"function"==typeof f&&(l.serialize=f)},total:function(t){return this.data(t).length},errors:function(t){return t?t.errors:null},serialize:function(t){return t},parseDOM:function(t){var e,i,o,r,a,s,l,c={},u=t.attributes,h=u.length;for(l=0;l<h;l++)c["@"+(s=u[l]).nodeName]=s.nodeValue;for(i=t.firstChild;i;i=i.nextSibling)3===(o=i.nodeType)||4===o?c["#text"]=i.nodeValue:1===o&&(e=this.parseDOM(i),a=c[r=i.nodeName],n(a)?a.push(e):a=void 0!==a?[a,e]:e,c[r]=a);return c},evaluate:function(t,e){for(var i,o,r,a,s,l=e.split(".");i=l.shift();)if(t=t[i],n(t)){for(o=[],e=l.join("."),s=0,r=t.length;s<r;s++)a=this.evaluate(t[s],e),a=n(a)?a:[a],o.push.apply(o,a);return o}return t},parse:function(e){var i,n,o={};return i=e.documentElement||t.parseXML(e).documentElement,n=this.parseDOM(i),o[i.nodeName]=n,o},xpathToMember:function(t,e){return t?(t=t.replace(/^\//,"").replace(/\//g,".")).indexOf("@")>=0?t.replace(/\.?(@.*)/,e?"$1":'["$1"]'):t.indexOf("text()")>=0?t.replace(/(\.?text\(\))/,e?"#text":'["#text"]'):t:""},getter:function(t){return l(this.xpathToMember(t),!0)}});t.extend(!0,i.data,{XmlDataReader:c,readers:{xml:c}})}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return h});var n=i(5),o=i.n(n),r=i(1),a=i(3);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=new(i(6).default)("window.fs"),c={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8,INVALID_MODIFICATION_ERR:9,QUOTA_EXCEEDED_ERR:10,TYPE_MISMATCH_ERR:11,PATH_EXISTS_ERR:12},u={FILE_NOT_FOUND_ERR:1,INVALID_URL_ERR:2,CONNECTION_ERR:3,ABORT_ERR:4,NOT_MODIFIED_ERR:5};var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){return o.a.when(this._initTemporary(),this._initPersistent())}},{key:"_initTemporary",value:function(){var t=this,e=o.a.Deferred();return window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.storageInfo=window.storageInfo||window.webkitStorageInfo,l.debug({message:"Initializing temporary file system",method:"_initTemporary",data:{requestFileSystem:o.a.type(window.requestFileSystem)!==a.a.UNDEFINED,storageInfo:o.a.type(window.storageInfo)!==a.a.UNDEFINED}}),window.storageInfo=window.storageInfo||{requestQuota:function(t,e,i){i(e)}},window.requestFileSystem&&o.a.type(window.TEMPORARY)!==a.a.UNDEFINED?o.a.type(t._temporary)===a.a.UNDEFINED?window.storageInfo.requestQuota(window.TEMPORARY,10485760,function(i){window.requestFileSystem(window.TEMPORARY,i,function(n){t._temporary=n,e.resolve(n),l.debug({message:"Temporary file system granted",method:"_initTemporary",data:{grantedBytes:i}})},e.reject)},e.reject):e.resolve(t._temporary):e.reject(new Error("HTML 5 FileSystem API not supported")),e.promise()}},{key:"_initPersistent",value:function(){var t=this,e=o.a.Deferred();return window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.storageInfo=window.storageInfo||window.webkitStorageInfo,l.debug({message:"Initializing persistent file system",method:"_initPersistent",data:{requestFileSystem:o.a.type(window.requestFileSystem)!==a.a.UNDEFINED,storageInfo:o.a.type(window.storageInfo)!==a.a.UNDEFINED}}),window.storageInfo=window.storageInfo||{requestQuota:function(t,e,i){i(e)}},window.requestFileSystem&&o.a.type(window.PERSISTENT)!==a.a.UNDEFINED?o.a.type(t._persistent)===a.a.UNDEFINED?window.storageInfo.requestQuota(window.PERSISTENT,104857600,function(i){window.requestFileSystem(window.PERSISTENT,i,function(n){t._persistent=n,e.resolve(n),l.debug({message:"Persistent file system granted",method:"_initPersistent",data:{grantedBytes:i}})},e.reject)},e.reject):e.resolve(t._persistent):e.reject(new Error("HTML 5 FileSystem API not supported")),e.promise()}},{key:"_getFileSystem",value:function(t){return t===window.PERSISTENT?this._persistent:this._temporary}},{key:"getDirectoryEntry",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.TEMPORARY;r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"path",a.a.STRING)),r.default.ok(e===window.TEMPORARY||e===window.PERSISTENT,"`type` should either be window.TEMPORARY or window.PERSISTENT");var i=this._getFileSystem(e);r.default.ok(o.a.type(i)!==a.a.UNDEFINED,"Call init on FileSystem before using it."),l.debug({message:"Getting directory",method:"getDirectoryEntry",data:{path:t,type:e}});var n=o.a.Deferred();return function t(e,i,n){if(r.default.type(a.a.OBJECT,e,r.default.format(r.default.messages.type.default,"dfd",a.a.OBJECT)),r.default.isFunction(e.then,r.default.format(r.default.messages.isFunction.default,"dfd.then")),r.default.type(a.a.OBJECT,i,r.default.format(r.default.messages.type.default,"root",a.a.OBJECT)),r.default.ok(i.isDirectory,"root should be a DirectoryEntry and therefore return directoryEntry.isDirectory === true"),r.default.isArray(n,r.default.format(r.default.messages.isArray.default,"folders")),"."!==n[0]&&""!==n[0]||(n=n.slice(1)),0===n.length)e.resolve(i);else{var o=i.toURL();l.debug({message:"Calling root.getDirectory",method:"makeDir",data:{rootURL:o,folder:n[0]}}),i.getDirectory(n[0],{create:!0},function(i){n.length>1?t(e,i,n.slice(1)):e.resolve(i)},e.reject)}}(n,i.root,t.split("/")),n.promise()}},{key:"getFileEntry",value:function(t,e){r.default.type(a.a.OBJECT,t,r.default.format(r.default.messages.type.default,"directoryEntry",a.a.OBJECT)),r.default.ok(t.isDirectory,"directoryEntry should be a DirectoryEntry and therefore return directoryEntry.isDirectory === true"),r.default.type(a.a.STRING,e,r.default.format(r.default.messages.type.default,"fileName",a.a.STRING));var i=t.toURL();l.debug({message:"Getting file entry",method:"FileSystem.getFileEntry",data:{directoryURL:i,fileName:e}});var n=o.a.Deferred();return t.getFile(e,{create:!0,exclusive:!1},n.resolve,n.reject),n.promise()}},{key:"download",value:function(t,e,i){r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"remoteUrl",a.a.STRING)),r.default.ok(e.isFile,"fileEntry should be a FileEntry and therefore return fileEntry.isFile === true"),r.default.isOptionalObject(i,r.default.format(r.default.messages.isOptionalObject.default,"headers"));var n=o.a.Deferred(),s=new window.XMLHttpRequest;return s.open("GET",t,!0),s.responseType="blob",o.a.isPlainObject(i)&&Object.keys(i).forEach(function(t){s.setRequestHeader(t,i[t])}),s.onload=function(){if(this.readyState===this.DONE&&200===this.status){var t=s.response;t?e.createWriter(function(e){e.onwriteend=n.resolve,e.onerror=n.reject,e.write(t)},n.reject):n.reject(new Error("XMLHttpRequest missing body"))}else n.reject(new Error("XMLHttpRequest status ".concat(this.status)))},s.onprogress=n.notify,s.onerror=function(){n.reject(new Error("XMLHttpRequest error"))},s.ontimeout=function(){n.reject(new Error("XMLHttpRequest timeout"))},s.onabort=function(){n.reject(new Error("XMLHttpRequest aborted"))},l.debug({message:"Downloading a file",method:"download",data:{remoteUrl:t,headers:JSON.stringify(i)}}),s.send(null),n.promise()}}],[{key:"fileErrorCodes",get:function(){return c}},{key:"fileTranferErrorCodes",get:function(){return u}}]),t}();window.app=window.app||{},window.app.FileSystem=h},function(t,e,i){var n;t.exports=function t(e,i,o){function r(s,l){if(!i[s]){if(!e[s]){var c="function"==typeof n&&n;if(!l&&c)return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i||t)},h,h.exports,t,e,i,o)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function r(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new i,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t("lie/polyfill");var a=Promise;function s(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function l(t,e,i){"function"==typeof e&&t.then(e),"function"==typeof i&&t.catch(i)}function c(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,f={},p=Object.prototype.toString,m="readonly",g="readwrite";function v(t){return"boolean"==typeof d?a.resolve(d):function(t){return new a(function(e){var i=t.transaction(h,g),n=r([""]);i.objectStore(h).put(n,"key"),i.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},i.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);e(i||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return d=t})}function b(t){var e=f[t.name],i={};i.promise=new a(function(t,e){i.resolve=t,i.reject=e}),e.deferredOperations.push(i),e.dbReady?e.dbReady=e.dbReady.then(function(){return i.promise}):e.dbReady=i.promise}function k(t){var e=f[t.name],i=e.deferredOperations.pop();if(i)return i.resolve(),i.promise}function y(t,e){var i=f[t.name],n=i.deferredOperations.pop();if(n)return n.reject(e),n.promise}function w(t,e){return new a(function(i,n){if(f[t.name]=f[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return i(t.db);b(t),t.db.close()}var r=[t.name];e&&r.push(t.version);var a=o.open.apply(o,r);e&&(a.onupgradeneeded=function(e){var i=a.result;try{i.createObjectStore(t.storeName),e.oldVersion<=1&&i.createObjectStore(h)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),n(a.error)},a.onsuccess=function(){i(a.result),k(t)}})}function _(t){return w(t,!1)}function x(t){return w(t,!0)}function S(t,e){if(!t.db)return!0;var i=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||i){if(i){var r=t.db.version+1;r>t.version&&(t.version=r)}return!0}return!1}function C(t){var e=function(t){for(var e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i),o=0;o<e;o++)n[o]=t.charCodeAt(o);return i}(atob(t.data));return r([e],{type:t.type})}function A(t){return t&&t.__local_forage_encoded_blob}function T(t){var e=this,i=e._initReady().then(function(){var t=f[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return l(i,t,t),i}function j(t,e,i,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);i(null,o)}catch(o){if(n>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),x(t)}).then(function(){return function(t){b(t);for(var e=f[t.name],i=e.forages,n=0;n<i.length;n++){var o=i[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,_(t).then(function(e){return t.db=e,S(t)?x(t):e}).then(function(n){t.db=e.db=n;for(var o=0;o<i.length;o++)i[o]._dbInfo.db=n}).catch(function(e){throw y(t,e),e})}(t).then(function(){j(t,e,i,n-1)})}).catch(i);i(o)}}var M={_driver:"asyncStorage",_initStorage:function(t){var e=this,i={db:null};if(t)for(var n in t)i[n]=t[n];var o=f[i.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},f[i.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=T);var r=[];function s(){return a.resolve()}for(var l=0;l<o.forages.length;l++){var c=o.forages[l];c!==e&&r.push(c._initReady().catch(s))}var u=o.forages.slice(0);return a.all(r).then(function(){return i.db=o.db,_(i)}).then(function(t){return i.db=t,S(i,e._defaultConfig.version)?x(i):t}).then(function(t){i.db=o.db=t,e._dbInfo=i;for(var n=0;n<u.length;n++){var r=u[n];r!==e&&(r._dbInfo.db=i.db,r._dbInfo.version=i.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var i=this,n=new a(function(e,n){i.ready().then(function(){j(i._dbInfo,m,function(o,r){if(o)return n(o);try{var a=r.objectStore(i._dbInfo.storeName),s=a.openCursor(),l=1;s.onsuccess=function(){var i=s.result;if(i){var n=i.value;A(n)&&(n=C(n));var o=t(n,i.key,l++);void 0!==o?e(o):i.continue()}else e()},s.onerror=function(){n(s.error)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},getItem:function(t,e){var i=this;t=c(t);var n=new a(function(e,n){i.ready().then(function(){j(i._dbInfo,m,function(o,r){if(o)return n(o);try{var a=r.objectStore(i._dbInfo.storeName),s=a.get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),A(t)&&(t=C(t)),e(t)},s.onerror=function(){n(s.error)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},setItem:function(t,e,i){var n=this;t=c(t);var o=new a(function(i,o){var r;n.ready().then(function(){return r=n._dbInfo,"[object Blob]"===p.call(e)?v(r.db).then(function(t){return t?e:function(t){return new a(function(e,i){var n=new FileReader;n.onerror=i,n.onloadend=function(i){var n=btoa(i.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)})}(e)}):e}).then(function(e){j(n._dbInfo,g,function(r,a){if(r)return o(r);try{var s=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var l=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),i(e)},a.onabort=a.onerror=function(){var t=l.error?l.error:l.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return s(o,i),o},removeItem:function(t,e){var i=this;t=c(t);var n=new a(function(e,n){i.ready().then(function(){j(i._dbInfo,g,function(o,r){if(o)return n(o);try{var a=r.objectStore(i._dbInfo.storeName),s=a.delete(t);r.oncomplete=function(){e()},r.onerror=function(){n(s.error)},r.onabort=function(){var t=s.error?s.error:s.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},clear:function(t){var e=this,i=new a(function(t,i){e.ready().then(function(){j(e._dbInfo,g,function(n,o){if(n)return i(n);try{var r=o.objectStore(e._dbInfo.storeName),a=r.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=a.error?a.error:a.transaction.error;i(t)}}catch(t){i(t)}})}).catch(i)});return s(i,t),i},length:function(t){var e=this,i=new a(function(t,i){e.ready().then(function(){j(e._dbInfo,m,function(n,o){if(n)return i(n);try{var r=o.objectStore(e._dbInfo.storeName),a=r.count();a.onsuccess=function(){t(a.result)},a.onerror=function(){i(a.error)}}catch(t){i(t)}})}).catch(i)});return s(i,t),i},key:function(t,e){var i=this,n=new a(function(e,n){t<0?e(null):i.ready().then(function(){j(i._dbInfo,m,function(o,r){if(o)return n(o);try{var a=r.objectStore(i._dbInfo.storeName),s=!1,l=a.openCursor();l.onsuccess=function(){var i=l.result;i?0===t?e(i.key):s?e(i.key):(s=!0,i.advance(t)):e(null)},l.onerror=function(){n(l.error)}}catch(t){n(t)}})}).catch(n)});return s(n,e),n},keys:function(t){var e=this,i=new a(function(t,i){e.ready().then(function(){j(e._dbInfo,m,function(n,o){if(n)return i(n);try{var r=o.objectStore(e._dbInfo.storeName),a=r.openCursor(),s=[];a.onsuccess=function(){var e=a.result;e?(s.push(e.key),e.continue()):t(s)},a.onerror=function(){i(a.error)}}catch(t){i(t)}})}).catch(i)});return s(i,t),i},dropInstance:function(t,e){e=u.apply(this,arguments);var i,n=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName),t.name){var r=t.name===n.name&&this._dbInfo.db,l=r?a.resolve(this._dbInfo.db):_(t).then(function(e){var i=f[t.name],n=i.forages;i.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e});i=t.storeName?l.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var i=e.version+1;b(t);var n=f[t.name],r=n.forages;e.close();for(var s=0;s<r.length;s++){var l=r[s];l._dbInfo.db=null,l._dbInfo.version=i}var c=new a(function(e,n){var r=o.open(t.name,i);r.onerror=function(t){var e=r.result;e.close(),n(t)},r.onupgradeneeded=function(){var e=r.result;e.deleteObjectStore(t.storeName)},r.onsuccess=function(){var t=r.result;t.close(),e(t)}});return c.then(function(t){n.db=t;for(var e=0;e<r.length;e++){var i=r[e];i._dbInfo.db=t,k(i._dbInfo)}}).catch(function(e){throw(y(t,e)||a.resolve()).catch(function(){}),e})}}):l.then(function(e){b(t);var i=f[t.name],n=i.forages;e.close();for(var r=0;r<n.length;r++){var s=n[r];s._dbInfo.db=null}var l=new a(function(e,i){var n=o.deleteDatabase(t.name);n.onerror=n.onblocked=function(t){var e=n.result;e&&e.close(),i(t)},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}});return l.then(function(t){i.db=t;for(var e=0;e<n.length;e++){var o=n[e];k(o._dbInfo)}}).catch(function(e){throw(y(t,e)||a.resolve()).catch(function(){}),e})})}else i=a.reject("Invalid arguments");return s(i,e),i}},z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E="~~local_forage_type~",I=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",O=D.length,P="arbf",R="blob",L="si08",F="ui08",N="uic8",B="si16",q="si32",V="ur16",H="ui32",U="fl32",W="fl64",G=O+P.length,Q=Object.prototype.toString;function Y(t){var e,i,n,o,r,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(e=0;e<s;e+=4)i=z.indexOf(t[e]),n=z.indexOf(t[e+1]),o=z.indexOf(t[e+2]),r=z.indexOf(t[e+3]),u[l++]=i<<2|n>>4,u[l++]=(15&n)<<4|o>>2,u[l++]=(3&o)<<6|63&r;return c}function K(t){var e,i=new Uint8Array(t),n="";for(e=0;e<i.length;e+=3)n+=z[i[e]>>2],n+=z[(3&i[e])<<4|i[e+1]>>4],n+=z[(15&i[e+1])<<2|i[e+2]>>6],n+=z[63&i[e+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var Z={serialize:function(t,e){var i="";if(t&&(i=Q.call(t)),t&&("[object ArrayBuffer]"===i||t.buffer&&"[object ArrayBuffer]"===Q.call(t.buffer))){var n,o=D;t instanceof ArrayBuffer?(n=t,o+=P):(n=t.buffer,"[object Int8Array]"===i?o+=L:"[object Uint8Array]"===i?o+=F:"[object Uint8ClampedArray]"===i?o+=N:"[object Int16Array]"===i?o+=B:"[object Uint16Array]"===i?o+=V:"[object Int32Array]"===i?o+=q:"[object Uint32Array]"===i?o+=H:"[object Float32Array]"===i?o+=U:"[object Float64Array]"===i?o+=W:e(new Error("Failed to get type for BinaryArray"))),e(o+K(n))}else if("[object Blob]"===i){var r=new FileReader;r.onload=function(){var i=E+t.type+"~"+K(this.result);e(D+R+i)},r.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(i){console.error("Couldn't convert value into a JSON string: ",t),e(null,i)}},deserialize:function(t){if(t.substring(0,O)!==D)return JSON.parse(t);var e,i=t.substring(G),n=t.substring(O,G);if(n===R&&I.test(i)){var o=i.match(I);e=o[1],i=i.substring(o[0].length)}var a=Y(i);switch(n){case P:return a;case R:return r([a],{type:e});case L:return new Int8Array(a);case F:return new Uint8Array(a);case N:return new Uint8ClampedArray(a);case B:return new Int16Array(a);case V:return new Uint16Array(a);case q:return new Int32Array(a);case H:return new Uint32Array(a);case U:return new Float32Array(a);case W:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:Y,bufferToString:K};function X(t,e,i,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],i,n)}function J(t,e,i,n,o,r){t.executeSql(i,n,o,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,s){s.rows.length?r(t,a):X(t,e,function(){t.executeSql(i,n,o,r)},r)},r):r(t,a)},r)}var $={_driver:"webSQLStorage",_initStorage:function(t){var e=this,i={db:null};if(t)for(var n in t)i[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new a(function(t,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(t){return n(t)}i.db.transaction(function(o){X(o,i,function(){e._dbInfo=i,t()},function(t,e){n(e)})},n)});return i.serializer=Z,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var i=this,n=new a(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){J(i,o,"SELECT * FROM "+o.storeName,[],function(i,n){for(var r=n.rows,a=r.length,s=0;s<a;s++){var l=r.item(s),c=l.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,l.key,s+1)))return void e(c)}e()},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},getItem:function(t,e){var i=this;t=c(t);var n=new a(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){J(i,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},setItem:function(t,e,i){return function t(e,i,n,o){var r=this;e=c(e);var l=new a(function(a,s){r.ready().then(function(){void 0===i&&(i=null);var l=i,c=r._dbInfo;c.serializer.serialize(i,function(i,u){u?s(u):c.db.transaction(function(t){J(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,i],function(){a(l)},function(t,e){s(e)})},function(i){if(i.code===i.QUOTA_ERR){if(o>0)return void a(t.apply(r,[e,l,n,o-1]));s(i)}})})}).catch(s)});return s(l,n),l}.apply(this,[t,e,i,1])},removeItem:function(t,e){var i=this;t=c(t);var n=new a(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){J(i,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},clear:function(t){var e=this,i=new a(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){J(e,n,"DELETE FROM "+n.storeName,[],function(){t()},function(t,e){i(e)})})}).catch(i)});return s(i,t),i},length:function(t){var e=this,i=new a(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){J(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(e,i){var n=i.rows.item(0).c;t(n)},function(t,e){i(e)})})}).catch(i)});return s(i,t),i},key:function(t,e){var i=this,n=new a(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){J(i,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,i){var n=i.rows.length?i.rows.item(0).key:null;e(n)},function(t,e){n(e)})})}).catch(n)});return s(n,e),n},keys:function(t){var e=this,i=new a(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){J(e,n,"SELECT key FROM "+n.storeName,[],function(e,i){for(var n=[],o=0;o<i.rows.length;o++)n.push(i.rows.item(o).key);t(n)},function(t,e){i(e)})})}).catch(i)});return s(i,t),i},dropInstance:function(t,e){e=u.apply(this,arguments);var i=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||i.name,t.storeName=t.storeName||i.storeName);var n,o=this;return s(n=t.name?new a(function(e){var n;n=t.name===i.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(function(t){return new a(function(e,i){t.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(i,n){for(var o=[],r=0;r<n.rows.length;r++)o.push(n.rows.item(r).name);e({db:t,storeNames:o})},function(t,e){i(e)})},function(t){i(t)})})}(n))}).then(function(t){return new a(function(e,i){t.db.transaction(function(n){function o(t){return new a(function(e,i){n.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){i(e)})})}for(var r=[],s=0,l=t.storeNames.length;s<l;s++)r.push(o(t.storeNames[s]));a.all(r).then(function(){e()}).catch(function(t){i(t)})},function(t){i(t)})})}):a.reject("Invalid arguments"),e),n}};function tt(t,e){var i=t.name+"/";return t.storeName!==e.storeName&&(i+=t.storeName+"/"),i}function et(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var it={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var i in t)e[i]=t[i];return e.keyPrefix=tt(t,this._defaultConfig),et()?(this._dbInfo=e,e.serializer=Z,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var i=this,n=i.ready().then(function(){for(var e=i._dbInfo,n=e.keyPrefix,o=n.length,r=localStorage.length,a=1,s=0;s<r;s++){var l=localStorage.key(s);if(0===l.indexOf(n)){var c=localStorage.getItem(l);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,l.substring(o),a++)))return c}}});return s(n,e),n},getItem:function(t,e){var i=this;t=c(t);var n=i.ready().then(function(){var e=i._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return s(n,e),n},setItem:function(t,e,i){var n=this;t=c(t);var o=n.ready().then(function(){void 0===e&&(e=null);var i=e;return new a(function(o,r){var a=n._dbInfo;a.serializer.serialize(e,function(e,n){if(n)r(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(i)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||r(t),r(t)}})})});return s(o,i),o},removeItem:function(t,e){var i=this;t=c(t);var n=i.ready().then(function(){var e=i._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return s(n,e),n},clear:function(t){var e=this,i=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var n=localStorage.key(i);0===n.indexOf(t)&&localStorage.removeItem(n)}});return s(i,t),i},length:function(t){var e=this.keys().then(function(t){return t.length});return s(e,t),e},key:function(t,e){var i=this,n=i.ready().then(function(){var e,n=i._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e});return s(n,e),n},keys:function(t){var e=this,i=e.ready().then(function(){for(var t=e._dbInfo,i=localStorage.length,n=[],o=0;o<i;o++){var r=localStorage.key(o);0===r.indexOf(t.keyPrefix)&&n.push(r.substring(t.keyPrefix.length))}return n});return s(i,t),i},dropInstance:function(t,e){if(e=u.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var i=this.config();t.name=t.name||i.name,t.storeName=t.storeName||i.storeName}var n,o=this;return s(n=t.name?new a(function(e){t.storeName?e(tt(t,o._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var i=localStorage.key(e);0===i.indexOf(t)&&localStorage.removeItem(i)}}):a.reject("Invalid arguments"),e),n}},nt=function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},ot=function(t,e){for(var i=t.length,n=0;n<i;){if(nt(t[n],e))return!0;n++}return!1},rt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},st={},lt={INDEXEDDB:M,WEBSQL:$,LOCALSTORAGE:it},ct=[lt.INDEXEDDB._driver,lt.WEBSQL._driver,lt.LOCALSTORAGE._driver],ut=["dropInstance"],ht=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),dt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(t,e){t[e]=function(){var i=arguments;return t.ready().then(function(){return t[e].apply(t,i)})}}function pt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var i in e)e.hasOwnProperty(i)&&(rt(e[i])?arguments[0][i]=e[i].slice():arguments[0][i]=e[i])}return arguments[0]}var mt=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lt)if(lt.hasOwnProperty(i)){var n=lt[i],o=n._driver;this[i]=o,at[o]||this.defineDriver(n)}this._defaultConfig=pt({},dt),this._config=pt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,i){var n=new a(function(e,i){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void i(o);for(var r=ht.concat("_initStorage"),l=0,c=r.length;l<c;l++){var u=r[l],h=!ot(ut,u);if((h||t[u])&&"function"!=typeof t[u])return void i(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),i=a.reject(e);return s(i,arguments[arguments.length-1]),i}},i=0,n=ut.length;i<n;i++){var o=ut[i];t[o]||(t[o]=e(o))}}();var d=function(i){at[n]&&console.info("Redefining LocalForage driver: "+n),at[n]=t,st[n]=i,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(d,i):d(!!t._support):d(!0)}catch(t){i(t)}});return l(n,e,i),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,i){var n=at[t]?a.resolve(at[t]):a.reject(new Error("Driver not found."));return l(n,e,i),n},t.prototype.getSerializer=function(t){var e=a.resolve(Z);return l(e,t),e},t.prototype.ready=function(t){var e=this,i=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return l(i,t,t),i},t.prototype.setDriver=function(t,e,i){var n=this;rt(t)||(t=[t]);var o=this._getSupportedDrivers(t);function r(){n._config.driver=n.driver()}function s(t){return n._extend(t),r(),n._ready=n._initStorage(n._config),n._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=c.then(function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then(function(t){n._driver=t._driver,r(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(t){return function(){var e=0;return function i(){for(;e<t.length;){var o=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(s).catch(i)}r();var l=new Error("No available storage method found.");return n._driverSet=a.reject(l),n._driverSet}()}}(o)})}).catch(function(){r();var t=new Error("No available storage method found.");return n._driverSet=a.reject(t),n._driverSet}),l(this._driverSet,e,i),this._driverSet},t.prototype.supports=function(t){return!!st[t]},t.prototype._extend=function(t){pt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ht.length;t<e;t++)ft(this,ht[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),gt=new mt;e.exports=gt},{undefined:void 0}]},{},[1])(1)},function(t,e,i){var n={"./app.culture.en.js":447,"./app.culture.fr.js":448};function o(t){var e=r(t);return i(e)}function r(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id=446},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(1).then(function(t){n=i(522);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(2).then(function(t){n=i(523);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o;!function(r,a,s){void 0!==t&&t.exports?t.exports=s():void 0===(o="function"==typeof(n=s)?n.call(e,i,e,t):n)||(t.exports=o)}(0,0,function(){"use strict";var t=function(t){var e,i;e=Array.prototype.forEach,i=Array.prototype.map,this.each=function(t,i,n){if(null!==t)if(e&&t.forEach===e)t.forEach(i,n);else if(t.length===+t.length){for(var o=0,r=t.length;o<r;o++)if(i.call(n,t[o],o,t)==={})return}else for(var a in t)if(t.hasOwnProperty(a)&&i.call(n,t[a],a,t)==={})return},this.map=function(t,e,n){var o=[];return null==t?o:i&&t.map===i?t.map(e,n):(this.each(t,function(t,i,r){o[o.length]=e.call(n,t,i,r)}),o)},"object"==typeof t?(this.hasher=t.hasher,this.screen_resolution=t.screen_resolution,this.screen_orientation=t.screen_orientation,this.canvas=t.canvas,this.ie_activex=t.ie_activex):"function"==typeof t&&(this.hasher=t)};return t.prototype={get:function(){var t=[];if(t.push(navigator.userAgent),t.push(navigator.language),t.push(screen.colorDepth),this.screen_resolution){var e=this.getScreenResolution();void 0!==e&&t.push(e.join("x"))}return t.push((new Date).getTimezoneOffset()),t.push(this.hasSessionStorage()),t.push(this.hasLocalStorage()),t.push(this.hasIndexDb()),document.body?t.push(typeof document.body.addBehavior):t.push("undefined"),t.push(typeof window.openDatabase),t.push(navigator.cpuClass),t.push(navigator.platform),t.push(navigator.doNotTrack),t.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&t.push(this.getCanvasFingerprint()),this.hasher?this.hasher(t.join("###"),31):this.murmurhash3_32_gc(t.join("###"),31)},murmurhash3_32_gc:function(t,e){var i,n,o,r,a,s,l,c;for(i=3&t.length,n=t.length-i,o=e,a=3432918353,s=461845907,c=0;c<n;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,o=27492+(65535&(r=5*(65535&(o=(o^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:o^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return o^=t.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},hasIndexDb:function(){try{return!!window.indexedDB}catch(t){return!0}},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(t){try{return new ActiveXObject(t),t}catch(t){return null}}).join(";")}return""},getScreenResolution:function(){return this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),i="http://valve.github.io";return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(i,4,17),t.toDataURL()}},t})},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(153),i(111)],void 0===(r="function"==typeof(n=function(){var t=window.app=window.app||{};"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return 0===this.indexOf(t)});return function(e,i){var n=window.pongodb,o=(window.assert,new window.Logger("app.db")),r=t.constants,a="number",s="undefined",l=new RegExp("0{4}","g"),c={en:(r.rootCategoryId.en||"").replace(l,""),fr:(r.rootCategoryId.fr||"").replace(l,"")},u={ACTIVITIES:"activities",SUMMARIES:"summaries",USERS:"users",VERSIONS:"versions"},h={INSERT:"insert",UPDATE:"update",REMOVE:"remove"},d=t.db=new n.Database({name:"KidojuDB",size:10485760,collections:[u.ACTIVITIES,u.SUMMARIES,u.USERS,u.VERSIONS]});d.addFullTextIndex(u.SUMMARIES,["author.lastName","description","tags","title"]),d.createTrigger(u.ACTIVITIES,[h.INSERT,h.UPDATE],function(i){var n=new e.Deferred,l=i.version.language,d=i.id,f=i.version.summaryId,p=i.version.versionId;function m(i,n,f){if("Score"!==i.type||"Test"!==n.type||e.type(r.authorId)!==s&&r.authorId!==n.userId||e.type(r.language)!==s&&r.language!==l||e.type(r.rootCategoryId[l])!==s&&!n.categoryId.startsWith(c[l]))t.db.activities.remove({id:d}).done(function(){f.resolve(n)}).fail(f.reject),o.debug({message:"Removing activity in local database trigger",method:"db.createTrigger",data:{collection:u.ACTIVITIES,triggers:[h.INSERT,h.UPDATE],id:d}});else{var m;n.activities=n.activities||[];for(var g=0,v=n.activities.length;g<v;g++)n.activities[g].actorId===i.actor.userId&&(m=g);var b=!0;e.type(m)===a&&new Date(n.activities[m].date)>i.date?b=!1:e.type(m)===a?n.activities[m]={activityId:i.id,actorId:i.actor.userId,score:i.score,date:i.date}:n.activities.push({activityId:i.id,actorId:i.actor.userId,score:i.score,date:i.date}),b?t.db.versions.update({id:p},n,{upsert:!0}).done(f.resolve).fail(f.reject):f.resolve(n)}}return o.debug({message:"Executing trigger on activity to upsert version",method:"db.createTrigger",data:{collection:u.ACTIVITIES,triggers:[h.INSERT,h.UPDATE],id:d}}),"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?t.db.versions.findOne({id:p}).done(function(t){m(i,t,n)}).fail(function(t){n.reject(t)}):t.rapi.v2.versions({language:l,summaryId:f}).get(p).done(function(o){t.db.versions.findOne({id:p}).done(function(t){var r=e.extend(o,t);m(i,r,n)}).fail(function(t){m(i,o,n)})}).fail(n.reject),n.promise()}),d.createTrigger(u.VERSIONS,[h.INSERT,h.UPDATE],function(i){var n=new e.Deferred,r=i.language,a=i.summaryId,s=i.id;return o.debug({message:"Executing trigger on version to upsert summary",method:"db.createTrigger",data:{collection:u.VERSIONS,triggers:[h.INSERT,h.UPDATE],id:s}}),"Connection"in window&&window.navigator.connection.type===window.Connection.NONE||window.device&&"browser"===window.device.platform&&!window.navigator.onLine?t.db.summaries.update({id:a},{activities:i.activities}).done(n.resolve).fail(n.reject):t.rapi.v2.summaries({language:r,type:"Test"}).get(a).done(function(e){Array.isArray(i.activities)&&(e.activities=i.activities),t.db.summaries.update({id:a},e,{upsert:!0}).done(n.resolve).fail(n.reject)}).fail(n.reject),n.promise()}),d.upgrade.push(new n.Migration({version:"0.3.4",scripts:[function(t){return o.info({method:"db.upgrade.push",message:"Migrating database to "+t._version}),e.Deferred().notify({version:t._version,pass:1,percent:1}).resolve().promise()}]}))}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.caret,o=i.ui,r=o.Widget,a=i.keys,s=".kendoDateInput",l=t.proxy,c={}.toString,u=(i.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+s,h="dMyHhmftsz",d=r.extend({init:function(e,n){var o=this;r.fn.init.call(o,e,n),e=o.element,(n=o.options).format=i._extractFormat(n.format||i.getCulture(n.culture).calendars.standard.patterns.d),n.min=i.parseDate(e.attr("min"))||i.parseDate(n.min),n.max=i.parseDate(e.attr("max"))||i.parseDate(n.max);var a=(e.parent().attr("class")||"").indexOf("k-picker-wrap")>=0;a?o.wrapper=e.parent():(o.wrapper=e.wrap("<span class='k-widget k-dateinput'></span>").parent(),o.wrapper.addClass(e[0].className),o.wrapper[0].style.cssText=e[0].style.cssText,e.css({width:"100%",height:e[0].style.height})),t("<span class='k-icon k-i-warning'></span>").insertAfter(e),o._form(),o.element.addClass(a?" ":"k-textbox").attr("autocomplete","off").on("focusout"+s,function(){o._change()});try{e[0].setAttribute("type","text")}catch(t){e[0].type="text"}e.is("[disabled]")||t(o.element).parents("fieldset").is(":disabled")?o.enable(!1):o.readonly(e.is("[readonly]")),o.value(o.options.value||e.val()),i.notify(o)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"}},events:["change"],min:function(t){if(void 0===t)return this.options.min;this.options.min=t},max:function(t){if(void 0===t)return this.options.max;this.options.max=t},setOptions:function(t){r.fn.setOptions.call(this,t),this._unbindInput(),this._bindInput(),this._updateElementValue()},destroy:function(){this.element.off(s),this._formElement&&this._formElement.off("reset",this._resetHandler),r.fn.destroy.call(this)},value:function(t){if(void 0===t)return this._dateTime.getDateObject();null===t&&(t=""),"[object Date]"!==c.call(t)&&(t=i.parseDate(t,this.options.format,this.options.culture)),t&&!t.getTime()&&(t=null),this._dateTime=new f(t,this.options.format,this.options.culture,this.options.messages),this._updateElementValue(),this._oldValue=t},_updateElementValue:function(){var t=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(t[0]),this._oldText=t[0],this._format=t[1]},readonly:function(t){this._editable({readonly:void 0===t||t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=void 0===t||t)})},_bindInput:function(){this.element.on("paste"+s,l(this._paste,this)).on("keydown"+s,l(this._keydown,this)).on(u,l(this._input,this)).on("mouseup"+s,l(this._mouseUp,this)).on("DOMMouseScroll"+s+" mousewheel"+s,l(this._scroll,this))},_unbindInput:function(){this.element.off("keydown"+s).off("paste"+s).off(u).off("mouseup"+s).off("DOMMouseScroll"+s+" mousewheel"+s)},_editable:function(t){var e=this.element,i=t.disable,n=t.readonly,o=this.wrapper;this._unbindInput(),n||i?(i&&(o.addClass("k-state-disabled").removeClass("k-state-default"),e.attr("disabled",i),e.removeAttr("readonly")),n&&e.attr("readonly",n)):(o.addClass("k-state-default").removeClass("k-state-disabled"),e.removeAttr("disabled").removeAttr("readonly"),this._bindInput())},_change:function(){var t=this._oldValue,e=this.value();e&&this.min()&&e<this.min()&&(this.value(this.min()),e=this.value()),e&&this.max()&&e>this.max()&&(this.value(this.max()),e=this.value()),(t&&e&&e.getTime()!==t.getTime()||t&&!e||!t&&e)&&(this._oldValue=e,this.trigger("change"),this.element.trigger("change"))},_input:function(){var t=this,e=t.element[0],o=!1;if(i._activeElement()===e){var r=function(t,e,i,n){var o=t[n+t.length-i.length];t=t.substring(0,n+t.length-i.length),i=i.substring(0,n);var r,a=[];if(t===i&&n>0)return a.push([e[n-1],i[n-1]]),a;if(0===t.indexOf(i)&&(0===i.length||e[i.length-1]!==e[i.length])){var s="";for(r=i.length;r<t.length;r++)e[r]!==s&&h.indexOf(e[r])>=0&&(s=e[r],a.push([s,""]));return a}if(" "===i[i.length-1]||i[i.length-1]===o)return[[e[n-1]," "]];if(0===i.indexOf(t)||-1===h.indexOf(e[n-1])){var l=e[0];for(r=Math.max(0,t.length-1);r<e.length;r++)if(h.indexOf(e[r])>=0){l=e[r];break}return[[l,i[n-1]]]}return[[e[n-1],i[n-1]]]}(this._oldText,this._format,this.element[0].value,n(this.element[0])[0]),a=1===r.length&&" "===r[0][1];if(!a)for(var s=0;s<r.length;s++){var l=this._dateTime.parsePart(r[s][0],r[s][1]);o=o||!l}if(this._updateElementValue(),r.length&&" "!==r[0][0]&&(this._selectSegment(r[0][0]),!a)){var c=r[0][0];setTimeout(function(){t._selectSegment(c)})}a&&this._keydown({keyCode:39,preventDefault:function(){}}),o&&(clearTimeout(t._blinkInvalidTimeout),t.wrapper.addClass("k-state-invalid"),t._blinkInvalidTimeout=setTimeout(function(){t.wrapper.removeClass("k-state-invalid")},100))}},_mouseUp:function(){var t=n(this.element[0]);t[0]===t[1]&&this._selectNearestSegment()},_scroll:function(t){if(i._activeElement()===this.element[0]&&!this.element.is("[readonly]")){var e={keyCode:37,preventDefault:function(){}};(t=window.event||t).shiftKey?e.keyCode=(t.wheelDelta||-t.detail)>0?37:39:e.keyCode=(t.wheelDelta||-t.detail)>0?38:40,this._keydown(e),t.returnValue=!1,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()}},_form:function(){var e=this,i=e.element,n=i.attr("form"),o=n?t("#"+n):i.closest("form");o[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(i[0].value)})},e._formElement=o.on("reset",e._resetHandler))},_paste:function(t){t.preventDefault()},_keydown:function(t){var e,o=t.keyCode;if(37==o||39==o){t.preventDefault(),(e=n(this.element[0]))[0]!=e[1]&&this._selectNearestSegment();for(var r=37==o?-1:1,s=-1==r?n(this.element[0])[0]-1:n(this.element[0])[1]+1;s>=0&&s<this._format.length;){if(h.indexOf(this._format[s])>=0){this._selectSegment(this._format[s]);break}s+=r}}if(38==o||40==o){t.preventDefault(),e=n(this.element[0]);var l=this._format[e[0]];h.indexOf(l)>=0&&(this._dateTime.modifyPart(l,38==o?1:-1),this._updateElementValue(),this._selectSegment(l))}if(i.support.browser.msie&&i.support.browser.version<10){var c=t.keyCode?t.keyCode:t.which;if(8===c||46===c){var u=this;setTimeout(function(){u._input()},0)}}o===a.ENTER&&this._change()},_selectNearestSegment:function(){for(var t=n(this.element[0])[0],e=t,i=t-1;e<this._format.length||i>=0;e++,i--){if(e<this._format.length&&-1!==h.indexOf(this._format[e]))return void this._selectSegment(this._format[e]);if(i>=0&&-1!==h.indexOf(this._format[i]))return void this._selectSegment(this._format[i])}},_selectSegment:function(t){for(var e=-1,i=0,o=0;o<this._format.length;o++)this._format[o]===t&&(i=o+1,-1===e&&(e=o));e<0&&(e=0),n(this.element,e,i)}});o.plugin(d);var f=function(t,e,n,o){var r=null,a=!0,s=!0,l=!0,c=!0,u=!0,h=!0,d="",f="",p={},m=["","0","00","000","0000"];function g(t,e,i){return t+="",(i=(e=e||2)-t.length)?m[e].substring(0,i)+t:t}var v=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,b=null,k=null,y=null,w=!1,_=function(t){var e,i,n;switch(t){case"d":n=l?r.getDate():p.day;break;case"dd":n=l?g(r.getDate()):p.day;break;case"ddd":n=l&&s&&a?y.namesAbbr[r.getDay()]:p.weekday;break;case"dddd":n=l&&s&&a?y.names[r.getDay()]:p.weekday;break;case"M":n=s?r.getMonth()+1:p.month;break;case"MM":n=s?g(r.getMonth()+1):p.month;break;case"MMM":n=s?b.namesAbbr[r.getMonth()]:p.month;break;case"MMMM":n=s?b.names[r.getMonth()]:p.month;break;case"yy":n=a?g(r.getFullYear()%100):p.year;break;case"yyyy":n=a?g(r.getFullYear(),4):p.year;break;case"h":n=c?r.getHours()%12||12:p.hour;break;case"hh":n=c?g(r.getHours()%12||12):p.hour;break;case"H":n=c?r.getHours():p.hour;break;case"HH":n=c?g(r.getHours()):p.hour;break;case"m":n=u?r.getMinutes():p.minute;break;case"mm":n=u?g(r.getMinutes()):p.minute;break;case"s":n=h?r.getSeconds():p.second;break;case"ss":n=h?g(r.getSeconds()):p.second;break;case"f":n=Math.floor(r.getMilliseconds()/100);break;case"ff":(n=r.getMilliseconds())>99&&(n=Math.floor(n/10)),n=g(n);break;case"fff":n=g(r.getMilliseconds(),3);break;case"tt":n=c?r.getHours()<12?k.AM[0]:k.PM[0]:p.dayperiod;break;case"zzz":i=(e=r.getTimezoneOffset())<0,n=Math.abs(e/60).toString().split(".")[0],e=Math.abs(e)-60*n,n=(i?"+":"-")+g(n),n+=":"+g(e);break;case"z":case"zz":i=(n=r.getTimezoneOffset()/60)<0,n=Math.abs(n).toString().split(".")[0],n=(i?"+":"-")+("zz"===t?g(n):n)}if(n=void 0!==n?n:t.slice(1,t.length-1),w){n=""+n;var o="";"ddd"==t&&(t="EEE"),"dddd"==t&&(t="EEEE");for(var d=0;d<n.length;d++)o+=t[0];return o}return n};function x(t){return w=t,_}function S(t,e){switch(t){case"y":a=e;break;case"M":s=e,e||(r.setMonth(0),d="");break;case"d":l=e;break;case"H":case"h":c=e,e||(f="");break;case"m":u=e;break;case"s":h=e;break;default:return}}if(this.setValue=function(t){l=t},this.getValue=function(){return l},this.modifyPart=function(t,e){var i=new Date(r&&r.getTime?r.getTime():r);switch(t){case"y":i.setFullYear(i.getFullYear()+e);break;case"M":var n=i.getMonth()+e;i.setMonth(n),i.getMonth()%12!=(n+12)%12&&(i.setDate(1),i.setMonth(n));break;case"d":case"E":i.setDate(i.getDate()+e);break;case"H":case"h":i.setHours(i.getHours()+e);break;case"m":i.setMinutes(i.getMinutes()+e);break;case"s":i.setSeconds(i.getSeconds()+e);break;case"t":i.setHours((i.getHours()+12)%24)}i.getFullYear()>0&&(S(t,!0),r=i)},this.parsePart=function(t,e){if(!e)return S(t,!1),!0;var i,n=new Date(r&&r.getTime?r.getTime():r);switch(t){case"d":var o=(l?10*n.getDate():0)+parseInt(e,10);if(isNaN(o))return;for(;o>31;)o=parseInt(o.toString().slice(1),10);if(o<1)l=!1;else{if(n.setDate(o),n.getMonth()!==r.getMonth())return;l=!0}break;case"M":var p=(s?10*(n.getMonth()+1):0)+parseInt(e,10);if(isNaN(p)){var m=k.months.names;for(d+=e.toLowerCase();d.length>0;){for(var g=0;g<m.length;g++)if(0===m[g].toLowerCase().indexOf(d))return n.setMonth(g),s=!0,r=n,!0;d=d.substring(1,d.length)}return!1}for(;p>12;)p=parseInt(p.toString().slice(1),10);p<1?s=!1:(n.setMonth(p-1),n.getMonth()!==p-1&&(n.setDate(1),n.setMonth(p-1)),s=!0);break;case"y":var v=(a?10*n.getFullYear():0)+parseInt(e,10);if(isNaN(v))return;for(;v>9999;)v=parseInt(v.toString().slice(1),10);v<1?a=!1:(n.setFullYear(v),a=!0);break;case"h":if(i=(c?10*(n.getHours()%12||12):0)+parseInt(e,10),isNaN(i))return;for(;i>12;)i=parseInt(i.toString().slice(1),10);n.setHours(12*Math.floor(n.getHours()/12)+i%12),c=!0;break;case"H":if(i=(c?10*n.getHours():0)+parseInt(e,10),isNaN(i))return;for(;i>23;)i=parseInt(i.toString().slice(1),10);n.setHours(i),c=!0;break;case"m":var b=(u?10*n.getMinutes():0)+parseInt(e,10);if(isNaN(b))return;for(;b>59;)b=parseInt(b.toString().slice(1),10);n.setMinutes(b),u=!0;break;case"s":var y=(h?10*n.getSeconds():0)+parseInt(e,10);if(isNaN(y))return;for(;y>59;)y=parseInt(y.toString().slice(1),10);n.setSeconds(y),h=!0;break;case"t":if(c){for(f+=e.toLowerCase();f.length>0;){if(0===k.AM[0].toLowerCase().indexOf(f)&&n.getHours()>=12||0===k.PM[0].toLowerCase().indexOf(f)&&n.getHours()<12)return n.setHours((n.getHours()+12)%24),r=n,!0;f=f.substring(1,f.length)}return!1}}return r=n,!0},this.toPair=function(t,e,n){return t?(e=i.getCulture(e),t=(k=e.calendars.standard).patterns[t]||t,y=k.days,b=k.months,p=n,[t.replace(v,x(!1)),t.replace(v,x(!0))]):["",""]},this.getDateObject=function(){return a&&s&&l&&c&&u&&h?new Date(r.getTime()):null},t)r=new Date(t.getTime());else{r=new Date;for(var C=this.toPair(e,n,o)[1],A=0;A<C.length;A++)S(C[A],!1)}}}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?n.apply(e,o):n)||(t.exports=r),i(0),o=[i(17),i(164),i(118),i(64),i(116),i(455),i(457),i(167),i(82),i(458),i(459),i(460),i(163),i(83),i(165),i(461),i(166),i(453)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=i.data.DataSource,r=i.data.ObservableObject,a=i.support.tbodyInnerHtml,s=i._activeElement,l=n.Widget,c=i._outerWidth,u=i._outerHeight,h=i.keys,d=t.isPlainObject,f=t.extend,p=t.map,m=t.grep,g=t.isArray,v=t.inArray,b=Array.prototype.push,k=t.proxy,y=i.isFunction,w=t.isEmptyObject,_=t.contains,x=Math,S=":not(.k-group-cell):not(.k-hierarchy-cell):visible",C="tr:not(.k-footer-template):visible",A=":not(.k-group-cell):not(.k-hierarchy-cell):visible",T="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",j=T+":first",M=C+":first>"+A+":first",z="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",E=".kendoGrid",I="change",D="k-state-focused",O="k-state-selected",P="input[data-role='checkbox'].k-checkbox",R="click",L="string",F="Collapse",N="aria-label",B=/(\}|\#)/gi,q=/#/gi,V=new RegExp("(^|[\\x20\\t\\r\\n\\f])(k-group-cell|k-hierarchy-cell)([\\x20\\t\\r\\n\\f]|$)"),H=new RegExp("(^|[\\x20\\t\\r\\n\\f])(k-filter-row)([\\x20\\t\\r\\n\\f]|$)"),U=!1,W=i.support.browser,G=W.msie&&7==W.version,Q=W.msie&&8==W.version,Y=W.msie&&11===W.version,K=l.extend({init:function(t,e){l.fn.init.call(this,t,e),this._refreshHandler=k(this.refresh,this),this.setDataSource(e.dataSource),this.wrap()},setDataSource:function(t){this.dataSource&&this.dataSource.unbind(I,this._refreshHandler),this.dataSource=t,this.dataSource.bind(I,this._refreshHandler),this.dataSource.options.useRanges=!0},options:{name:"VirtualScrollable",itemHeight:t.noop,prefetch:!0,maxScrollHeight:25e4},events:["paging","page","scroll"],destroy:function(){l.fn.destroy.call(this),this.dataSource.unbind(I,this._refreshHandler),this.wrapper.add(this.verticalScrollbar).off(E),this.drag&&(this.drag.destroy(),this.drag=null),this.wrapper=this.element=this.verticalScrollbar=null,this._refreshHandler=null},wrap:function(){var e,n=this,o=i.support.scrollbar()+1,r=n.element;r.css({width:"auto",overflow:"hidden"}).css(U?"padding-left":"padding-right",o),n.content=r.children().first(),e=n.wrapper=n.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+E+" mousewheel"+E,k(n._wheelScroll,n)),n._wrapper(),i.support.kineticScrollNeeded&&(n.drag=new i.UserEvents(n.wrapper,{global:!0,allowSelection:!0,start:function(t){t.sender.capture()},move:function(t){n.verticalScrollbar.scrollTop(n.verticalScrollbar.scrollTop()-t.y.delta),e.scrollLeft(e.scrollLeft()-t.x.delta),t.preventDefault()}})),n.verticalScrollbar=t('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:o}).appendTo(r).bind("scroll"+E,k(n._scroll,n))},_wrapper:function(){Y&&(this.wrapper.css({"overflow-y":"scroll"}),this.element.css(U?"padding-left":"padding-right",0))},_wheelScroll:function(t){if(!t.ctrlKey){var e=this.verticalScrollbar,n=e.scrollTop(),o=i.wheelDeltaY(t);!o||o>0&&0===n||o<0&&n+e[0].clientHeight==e[0].scrollHeight||(t.preventDefault(),this.verticalScrollbar.scrollTop(n+-o))}},_scroll:function(t){var e=this,i=!e.options.prefetch,n=t.currentTarget.scrollTop,o=e.dataSource,r=e.itemHeight,a=o.skip()||0,s=e._rangeStart||a,l=e.element.innerHeight(),c=!!(e._scrollbarTop&&e._scrollbarTop>n),u=x.max(x.floor(n/r),0),h=c?x.ceil(l/r):x.floor(l/r),d=x.max(u+h,0);e._preventScroll?e._preventScroll=!1:(e._scrollTop=n-s*r,e._scrollbarTop=n,e._scrolling=i,e._fetch(u,d,c)||(e.wrapper[0].scrollTop=e._scrollTop),e.trigger("scroll"),i&&(e._scrollingTimeout&&clearTimeout(e._scrollingTimeout),e._scrollingTimeout=setTimeout(function(){e._scrolling=!1,e._page(e._rangeStart,e.dataSource.take())},100)))},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var t=this.verticalScrollbar;this._scrollTo(t[0].scrollHeight-t.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var t=this.wrapper,e=t.scrollTop();t[0].scrollWidth>t[0].clientWidth?this._wrapperScrolled&&!this._isScrolledToBottom()||(t.scrollTop(e+i.support.scrollbar()),this._scrollTop=t.scrollTop(),this._wrapperScrolled=!0):this._wrapperScrolled&&(this._isWrapperScrolledToBottom()||(t.scrollTop(e-i.support.scrollbar()),this._scrollTop=t.scrollTop()),this._wrapperScrolled=!1)},_scrollTo:function(t){var e=this.verticalScrollbar;e.scrollTop()!==t&&(this._preventScroll=!0),this.wrapper.scrollTop(t),this._scrollTop=this.wrapper.scrollTop(),e.scrollTop(t),this._scrollbarTop=e.scrollTop()},_isScrolledToTop:function(){return 0===this.verticalScrollbar.scrollTop()},_isScrolledToBottom:function(){var t=this.verticalScrollbar,e=t.scrollTop();return e>0&&e>=parseInt(t[0].scrollHeight-t.height(),10)},_isWrapperScrolledToBottom:function(){var t=this.wrapper;return t.scrollTop()>=parseInt(t[0].scrollHeight-t.height(),10)},itemIndex:function(t){return(this._rangeStart||this.dataSource.skip()||0)+t},_isElementVisible:function(t){return this._isElementVisibleInWrapper(t)},_isElementVisibleInWrapper:function(e){var i,n,o=this.wrapper;return!!((e=t(e))[0]&&_(o[0],e[0])&&(i=e.offset().top-o.offset().top,n=e.outerHeight()/2,(i>=0||x.abs(i)<=n)&&x.floor(i+n)<=o.height()))},position:function(t){var e,i=this._rangeStart||this.dataSource.skip()||0,n=this.dataSource.pageSize();return(e=t>i?t-i+1:i-t-1)>n?n:e},scrollIntoView:function(t){var e=this.wrapper[0],i=e.clientHeight,n=this._isScrolledToBottom()?e.scrollTop:this._scrollTop||e.scrollTop,o=t[0].offsetTop,r=t[0].offsetHeight;n>o?this.verticalScrollbar[0].scrollTop-=i/2:o+r>=n+i&&(this.verticalScrollbar[0].scrollTop+=i/2)},_fetch:function(e,i,n){var o=this.dataSource,r=this.itemHeight,a=o.take(),s=this._rangeStart||o.skip()||0,l=x.floor(e/a)*a,c=!1,u=this.verticalScrollbar,h=W.webkit?1:0;return e<s?(c=!0,s=x.max(0,i-a),this._scrollTop=u.scrollTop()-s*r,this._page(s,a)):i>=s+a&&!n?(c=!0,s=x.min(e,o.total()-a),u.scrollTop()>=u[0].scrollHeight-u.height()-h?this._scrollTop=this.wrapper[0].scrollHeight-this.wrapper.height():this._scrollTop=r,this._page(s,a)):!this._fetching&&this.options.prefetch&&(e<l+a-.33*a&&e>a&&o.prefetch(l-a,a,t.noop),i>l+.33*a&&o.prefetch(l+a,a,t.noop)),c},fetching:function(){return this._fetching},_page:function(e,n,o){var r=this,a=!r.options.prefetch,s=r.dataSource;o=y(o)?o:t.noop,r.trigger("paging",{skip:e,take:n})||(clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=e,s.inRange(e,n)?(i.ui.progress(t(r.wrapper).parent(),!0),s.range(e,n,function(){i.ui.progress(t(r.wrapper).parent(),!1),o(),r.trigger("page")})):(a||i.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){r._scrolling||(a&&i.ui.progress(r.wrapper.parent(),!0),s.range(e,n,function(){i.ui.progress(r.wrapper.parent(),!1),o(),r.trigger("page")}))},100)))},repaintScrollbar:function(t){var e,n,o,r="",a=this.options.maxScrollHeight,s=this.dataSource,l=i.support.kineticScrollNeeded?0:i.support.scrollbar(),c=this.wrapper[0],u=this._isScrolledToBottom();o=this.itemHeight=this.options.itemHeight()||0;var h=c.scrollWidth>c.offsetWidth?l:0;for(e=s.total()*o+h,n=0;n<x.floor(e/a);n++)r+='<div style="width:1px;height:'+a+'px"></div>';e%a&&(r+='<div style="width:1px;height:'+e%a+'px"></div>'),this.verticalScrollbar.html(r),u&&!this._isScrolledToBottom()&&this.scrollToBottom(),void 0!==this._scrollTop&&t&&(c.scrollTop=this._scrollTop,this._scrollWrapperOnColumnResize())},refresh:function(t){var e=this.dataSource,n=this._rangeStart,o=(t||{}).action,r=this._isScrolledToBottom()||!o||"itemchange"!==o&&"remove"!==o&&"sync"!==o;i.ui.progress(this.wrapper.parent(),!1),clearTimeout(this._timeout),this.repaintScrollbar(r),this.drag&&this.drag.cancel(),void 0===n||this._fetching||((!o||"sync"!==o&&"itemchange"!==o)&&(this._rangeStart=e.skip()),1!==e.page()||o&&("sync"===o||"itemchange"===o)||(this.verticalScrollbar[0].scrollTop=0)),this._fetching=!1}});function Z(t,e){return"["+i.attr(t)+"="+e+"]"}function X(t){return new Array(t+1).join('<td class="k-group-cell">&nbsp;</td>')}function J(t){var e,i=" ";if(t){if(typeof t===L)return t;for(e in t)""!==t[e]&&(i+=e+'="'+t[e]+'"')}return i}var $={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"}};function tt(e,i){t("th, th .k-grid-filter, th .k-link",e).add(document.body).css("cursor",i)}function et(e,i,n,o,r){var a=i;i=t(),r=r||1;for(var s=0;s<r;s++)i=i.add(e.eq(a+s));"number"==typeof n?i[o?"insertBefore":"insertAfter"](e.eq(n)):i.appendTo(n)}function it(e,i,n){return t(e).add(i).find(n)}function nt(t,e,i){var n,o,r,a;for(n=0,o=(i=g(i)?i:[i]).length;n<o;n++)r=i[n],d(r)&&r.click&&(a=r.name||r.text,e.on(R+E,"a.k-grid-"+(a||"").replace(/\s/g,""),{commandName:a},k(r.click,t)))}function ot(t,e){var i=[];return rt(t,e,i),i[i.length-1]}function rt(t,e,i){i=i||[];for(var n=0;n<e.length;n++){if(t===e[n])return!0;if(e[n].columns){var o=i.length;if(i.push(e[n]),rt(t,e[n].columns,i))return!0;i.splice(o,i.length-o)}}return!1}function at(t,e){var i=e?Dt:It;t.hidden=!e,t.attributes=i(t.attributes),t.footerAttributes=i(t.footerAttributes),t.headerAttributes=i(t.headerAttributes)}function st(){return"none"!==this.style.display}function lt(t){return ct([t]).length>0}function ct(t){return m(t,function(t){var e=!t.hidden;return e&&t.columns&&(e=ct(t.columns).length>0),e})}function ut(e){return t(e).map(function(){return this.toArray()})}function ht(e,i,n,o,r,a,s){var l=ft(e),c=ft([i]);if(l>c){var u=new Array(s+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'),h=a.children(":not(.k-filter-row)");t(new Array(l-c+1).join("<tr>"+u+"</tr>")).insertAfter(h.last())}!function(t,e){for(var i=t.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),n=0;n<i.length;n++)i[n].rowSpan+=e}(a,l-c),function e(i,n,o,r){var a,s=mt(i[0],n),l=o.find(">tr:not(.k-filter-row):eq("+s.row+")>th.k-header"),c=t(),u=s.cell;for(a=0;a<i.length;a++)c=c.add(l.eq(u+a));r.find(">tr:not(.k-filter-row)").eq(s.row).append(c);var h=[];for(a=0;a<i.length;a++)i[a].columns&&(h=h.concat(i[a].columns));h.length&&e(h,n,o,r)}(n,o,r,a)}function dt(e,n,o){var r;o=o||0;var a=n;n=jt(n);for(var s={},l=e.find(">tr:not(.k-filter-row)"),c=function(){var e=t(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")},u=0,h=n.length;u<h;u++)s[(r=pt(n[u],a)).row]||(s[r.row]=l.eq(r.row).find(".k-header").filter(c)),s[r.row].eq(r.cell).attr(i.attr("index"),o+u);return n.length}function ft(t){for(var e=0,i=0;i<t.length;i++)if(t[i].columns){var n=ft(t[i].columns);n>e&&(e=n)}return 1+e}function pt(t,e,i,n){var o,r;for(i=i||0,(n=n||{})[i]=n[i]||0,r=0;r<e.length;r++){if(e[r]==t){o={cell:n[i],row:i};break}if(e[r].columns&&(o=pt(t,e[r].columns,i+1,n)))break;n[i]++}return o}function mt(t,e,i,n){var o,r;for(i=i||0,(n=n||{})[i]=n[i]||0,r=0;r<e.length;r++){if(e[r]==t){o={cell:n[i],row:i};break}if(e[r].columns&&(o=mt(t,e[r].columns,i+1,n)))break;e[r].hidden||n[i]++}return o}function gt(t){return bt(xt(t)).concat(bt(St(t)))}function vt(t,e,i,n){var o=t[i],r=t[n],a=ot(o,e);return e=a?a.columns:e,v(r,e)}function bt(t){for(var e=[],i=[],n=0;n<t.length;n++)e.push(t[n]),t[n].columns&&(i=i.concat(t[n].columns));return i.length&&(e=e.concat(bt(i))),e}function kt(t){for(var e,i=0,n=0;n<t.length;n++)(e=t[n]).columns?i+=kt(e.columns):e.hidden&&i++;return i}function yt(t){for(var e,i=0,n=0,o=t.length;n<o;n++)(e=t[n].style.width)&&-1==e.indexOf("%")&&(i+=parseInt(e,10));return i}function wt(e){for(var i=e.find("tr:not(.k-filter-row)"),n=i.filter(function(){return!t(this).children().length}).remove().length,o=i.find("th:not(.k-group-cell,.k-hierarchy-cell)"),r=0;r<o.length;r++)o[r].rowSpan>1&&(o[r].rowSpan-=n);return i.length-n}function _t(t,e,i,n,o){var r,a,s,l=[];for(r=0,s=t.length;r<s;r++)(a=i[n]||[]).push(e.eq(o+r)),i[n]=a,t[r].columns&&(l=l.concat(t[r].columns));l.length&&_t(l,e,i,n+1,o+t.length)}function xt(t){return m(t,function(t){return t.locked})}function St(t){return m(t,function(t){return!t.locked})}function Ct(t){return m(t,function(t){return!t.locked&&lt(t)})}function At(t){return m(t,function(t){return t.locked&&lt(t)})}function Tt(t){for(var e=[],i=0;i<t.length;i++)t[i].hidden||(t[i].columns?e=e.concat(Tt(t[i].columns)):e.push(t[i]));return e}function jt(t){for(var e=[],i=0;i<t.length;i++)t[i].columns?e=e.concat(jt(t[i].columns)):e.push(t[i]);return e}function Mt(n){var o=n.find(">tr:not(.k-filter-row)"),r=function(){var e=t(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")},a=t();o.length>1&&(a=o.find("th").filter(r).filter(function(){return this.rowSpan>1})),a=a.add(o.last().find("th").filter(r));var s=i.attr("index");return a.sort(function(i,n){i=t(i),n=t(n);var o=i.attr(s),r=n.attr(s);return o===e&&(o=t(i).index()),r===e&&(r=t(n).index()),(o=parseInt(o,10))>(r=parseInt(r,10))?1:o<r?-1:0}),a}function zt(e){var n=e.closest("thead"),o=t().add(e),r=e.closest("tr"),a=n.find("tr:not(.k-filter-row)"),s=a.index(r)+e[0].rowSpan,l=i.attr("colspan");if(s<=a.length-1){var c,u=r.next(),h=e.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");h=h.filter(function(){return!this.rowSpan||1===this.rowSpan});var d=0;for(c=0;c<h.length;c++)d+=parseInt(h.eq(c).attr(l),10)||1;var f=u.find("th:not(.k-group-cell,.k-hierarchy-cell)"),p=parseInt(e.attr(l),10)||1;for(c=0;c<p;){u=f.eq(c+d),o=o.add(zt(u));var m=parseInt(u.attr(l),10);m>1&&(p-=m-1),c++}}return o}function Et(e,i,n,o){var r,s=e;return o&&e.empty(),a?e[0].innerHTML=n:((r=document.createElement("div")).innerHTML="<table><tbody>"+n+"</tbody></table>",e=r.firstChild.firstChild,i[0].replaceChild(e,s[0]),e=t(e)),e}function It(t){var e=(t=t||{}).style;return e?(e=e.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"))===t.style&&(e=e.replace(/(.*)?/i,"display:none;$1")):e="display:none",f({},t,{style:e})}function Dt(t){var e=(t=t||{}).style;return e&&(t.style=e.replace(/(display\s*:\s*none\s*;?)*/gi,"")),t}function Ot(e,n,o,r){var a,s=e.find(">colgroup"),l=p(n,function(t){return(a=t.width)&&0!==parseInt(a,10)?i.format('<col style="width:{0}"/>',typeof a===L?a:a+"px"):"<col />"});(o||s.find(".k-hierarchy-col").length)&&l.splice(0,0,'<col class="k-hierarchy-col" />'),s.length&&s.remove(),(s=t(new Array(r+1).join('<col class="k-group-col">')+l.join(""))).is("colgroup")||(s=t("<colgroup/>").append(s)),e.prepend(s),W.msie&&8==W.version&&(e.css("display","inline-table"),window.setTimeout(function(){e.css("display","")},1))}function Pt(t){var e,i,n,o={};for(i=0,n=t.length;i<n;i++)o[(e=t[i]).value]=e.text;return o}function Rt(t,e,i){for(var n=0,o=t[n];o;){if((i||"none"!==o.style.display)&&!V.test(o.className)&&--e<0){o.style.display=i?"":"none";break}o=t[++n]}}function Lt(e,i){for(var n,o,r=0,a=e.length;r<a;r+=1)(o=e.eq(r)).is(".k-grouping-row,.k-detail-row")?(n=o.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(n.attr("colspan"),10)-1):(o.hasClass("k-grid-edit-row")&&(n=o.children(".k-edit-container")[0])&&((n=t(n)).attr("colspan",parseInt(n.attr("colspan"),10)-1),n.find("col").eq(i).remove(),o=n.find("tr:first")),Rt(o[0].cells,i,!1))}function Ft(t){for(var e,i=[],n=0;n<t.length&&"field"in(e=t[n])&&"value"in e&&"items"in e;n++)i.push(e),e.hasSubgroups&&(i=i.concat(Ft(e.items)));return i}function Nt(e,i){for(var n,o,r=0,a=e.length;r<a;r+=1)(o=e.eq(r)).is(".k-grouping-row,.k-detail-row")?(n=o.children(":not(.k-group-cell):first,.k-detail-cell").last()).attr("colspan",parseInt(n.attr("colspan"),10)+1):(o.hasClass("k-grid-edit-row")&&(n=o.children(".k-edit-container")[0])&&((n=t(n)).attr("colspan",parseInt(n.attr("colspan"),10)+1),Ot(n.find(">form>table"),ct(void 0),!1,0),o=n.find("tr:first")),Rt(o[0].cells,i,!0))}function Bt(t,e,i){var n,o,r;for(i=i||1,o=0,r=t.length;o<r;o++)(n=t.eq(o).children().last()).attr("colspan",parseInt(n.attr("colspan"),10)+i),(n=e.eq(o).children().last()).attr("colspan",parseInt(n.attr("colspan"),10)-i)}function qt(t){var e,i,n=0,o=t.find(">colgroup>col");for(e=0,i=o.length;e<i;e+=1)n+=parseInt(o[e].style.width,10);return n}var Vt=i.ui.DataBoundWidget.extend({init:function(e,n,o){var r=this;n=g(n)?{dataSource:n}:n,l.fn.init.call(r,e,n),o&&(r._events=o),U=i.support.isRtl(e),r._element(),r._aria(),r._columns(t.extend(!0,[],r.options.columns)),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._clipboard(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r._minScreenSupport(),r.options.autoBind?r.dataSource.fetch():(r._group=r._groups()>0,r._footer()),r.lockedContent&&(r.wrapper.addClass("k-grid-lockedcolumns"),r._resizeHandler=function(){r.resize()},t(window).on("resize"+E,r._resizeHandler)),i.notify(r)},events:[I,"dataBinding","cancel","dataBound","detailExpand","detailCollapse","detailInit","filterMenuInit","filterMenuOpen","columnMenuInit","columnMenuOpen","edit","beforeEdit","save","remove","saveChanges","cellClose","columnResize","columnReorder","columnShow","columnHide","columnLock","columnUnlock","navigate","page","sort","filter","group","groupExpand","groupCollapse"],setDataSource:function(t){var e,i=this.options.scrollable;this.options.dataSource=t,this._dataSource(),this._pageable(),this._thead(),i&&(i.virtual?(e=this.content.find(">.k-virtual-scrollable-wrap")).scrollLeft(Kt(e,U)):(e=this.tbody,this.content.scrollLeft(Kt(e,U)))),this.options.groupable&&this._groupable(),this.virtualScrollable&&this.virtualScrollable.setDataSource(this.options.dataSource),this.options.navigatable&&this._navigatable(),this.options.selectable&&this._selectable(),this.options.autoBind&&this.dataSource.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,persistSelection:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:$.create.text,cancel:$.cancel.text,save:$.save.text,destroy:$.destroy.text,edit:$.edit.text,update:$.update.text,canceledit:$.canceledit.text,excel:$.excel.text,pdf:$.pdf.text},noRecords:"No records available.",expandCollapseColumnHeader:""}},destroy:function(){var e;this._angularItems("cleanup"),this._destroyColumnAttachments(),l.fn.destroy.call(this),this._navigatableTables=null,this._resizeHandler&&t(window).off("resize"+E,this._resizeHandler),this.pager&&this.pager.element&&this.pager.destroy(),this.pager=null,this.groupable&&this.groupable.element&&this.groupable.element.kendoGroupable("destroy"),this.groupable=null,this.options.reorderable&&this.wrapper.data("kendoReorderable").destroy(),this.selectable&&this.selectable.element&&(this.selectable.destroy(),this.clearArea(),this._selectedIds=null,this.copyHandler&&(this.wrapper.off("keydown",this.copyHandler),this.unbind(this.copyHandler)),this.updateClipBoardState&&(this.unbind(this.updateClipBoardState),this.updateClipBoardState=null),this.clearAreaHandler&&this.wrapper.off("keyup",this.clearAreaHandler)),this.selectable=null,this.resizable&&(this.resizable.destroy(),this._resizeUserEvents&&(this._resizeHandleDocumentClickHandler&&t(document).off("click",this._resizeHandleDocumentClickHandler),this._resizeUserEvents.destroy(),this._resizeUserEvents=null),this.resizable=null),this._destroyVirtualScrollable(),this._destroyEditable(),this.dataSource&&(this.dataSource.unbind(I,this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler),this._refreshHandler=this._progressHandler=this._errorHandler=null),e=this.element.add(this.wrapper).add(this.table).add(this.thead).add(this.wrapper.find(">.k-grid-toolbar")),this.content&&(e=e.add(this.content).add(this.content.find(">.k-virtual-scrollable-wrap"))),this.lockedHeader&&this._removeLockedContainers(),this.pane&&this.pane.destroy(),this.minScreenResizeHandler&&t(window).off("resize",this.minScreenResizeHandler),this._draggableInstance&&this._draggableInstance.element&&this._draggableInstance.destroy(),this._draggableInstance=null,e.off(E),i.destroy(this.wrapper),this.rowTemplate=this.altRowTemplate=this.lockedRowTemplate=this.lockedAltRowTemplate=this.detailTemplate=this.footerTemplate=this.groupFooterTemplate=this.lockedGroupFooterTemplate=this.noRecordsTemplate=null,this.scrollables=this.thead=this.tbody=this.element=this.table=this.content=this.footer=this.wrapper=this.lockedTable=this.lockedContent=this.lockedHeader=this.lockedFooter=this._groupableClickHandler=this._groupRows=this._setContentWidthHandler=null},getOptions:function(){this.options.dataSource=null;var n=f(!0,{},this.options);n.columns=i.deepExtend([],this.columns);var o=this.dataSource,r=o.options.data&&o._data;return o.options.data=null,n.dataSource=t.extend(!0,{},o.options),o.options.data=r,n.dataSource.data=r,n.dataSource.page=o.page(),n.dataSource.filter=o.filter(),n.dataSource.pageSize=o.pageSize(),n.dataSource.sort=o.sort(),n.dataSource.group=o.group(),n.dataSource.aggregate=o.aggregate(),n.dataSource.transport&&(n.dataSource.transport.dataSource=null),n.pageable&&n.pageable.pageSize&&(n.pageable.pageSize=o.pageSize()),n.$angular=e,n},setOptions:function(t){var e=this.getOptions();i.deepExtend(e,t),t.dataSource||(e.dataSource=this.dataSource);var n=this.wrapper,o=this._events,r=this.element;if(this.destroy(),this.options=null,this._isMobile){var a=n.closest(i.roleSelector("pane")).parent();a.after(n),a.remove(),n.removeClass("k-grid-mobile")}n[0]!==r[0]&&(n.before(r),n.remove()),r.empty(),this.init(r,e,o),this._setEvents(e)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(e){return e.children().filter(function(){var e=t(this);return!e.hasClass("k-grouping-row")&&!e.hasClass("k-detail-row")&&!e.hasClass("k-group-footer")})},dataItems:function(){var t=i.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(var e=t.length,n=new Array(2*e),o=e;--o>=0;)n[o]=n[o+e]=t[o];t=n}return t},_destroyColumnAttachments:function(){var e=this;e.resizeHandle=null,e.thead&&(this.angular("cleanup",function(){return{elements:e.thead.get()}}),e.thead.add(e.lockedHeader).find("th").each(function(){var e=t(this),i=e.data("kendoFilterMenu"),n=e.data("kendoColumnSorter"),o=e.data("kendoColumnMenu");i&&i.destroy(),n&&n.destroy(),o&&o.destroy()}))},_attachCustomCommandsEvent:function(){var t,e,i,n=jt(this.columns||[]);for(e=0,i=n.length;e<i;e++)(t=n[e].command)&&nt(this,this.wrapper,t)},_aria:function(){var t=this.element.attr("id")||"aria";t&&(this._cellId=t+"_active_cell")},_element:function(){var e=this.element;e.is("table")||(e=this.options.scrollable?this.element.find("> .k-grid-content > table"):this.element.children("table")).length||(e=t("<table />").appendTo(this.element)),G&&e.attr("cellspacing",0),this.table=e.attr("role",this._hasDetails()?"treegrid":"grid"),this._wrapper()},_createResizeHandle:function(e,i){var n,o=this,r=o.options.columnResizeHandleWidth,a=o.options.scrollable,s=o.resizeHandle,l=this._groups();if(s&&o.lockedContent&&s.data("th")[0]!==i[0]&&(s.off(E).remove(),s=null),s||(s=o.resizeHandle=t('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),e.append(s)),U){if(n=i.position().left,a){var h=i.closest(".k-grid-header-wrap, .k-grid-header-locked"),d=W.msie?h.scrollLeft():0;n-=(W.webkit?h[0].scrollWidth-h[0].offsetWidth-h.scrollLeft():0)-(W.mozilla?h[0].scrollWidth-h[0].offsetWidth-(h[0].scrollWidth-h[0].offsetWidth-h.scrollLeft()):0)+d}}else{n=i[0].offsetWidth;for(var f=Mt(i.closest("thead")).filter(":visible"),p=0;p<f.length&&f[p]!=i[0];p++)n+=f[p].offsetWidth;l>0&&(n+=c(e.find(".k-group-cell:first"))*l),o._hasDetails()&&(n+=c(e.find(".k-hierarchy-cell:first")))}s.css({top:i.position().top,left:n-r,height:u(i),width:3*r}).data("th",i).show(),s.off("dblclick"+E).on("dblclick"+E,function(){o._autoFitLeafColumn(i.data("index"))})},_positionColumnResizeHandle:function(){var e=this,i=e.lockedHeader?e.lockedHeader.find("thead:first"):t();e.thead.add(i).on("mousemove"+E,"th",function(i){var n=void 0!==i.buttons?i.buttons:i.which||i.button,o=t(this);o.hasClass("k-group-cell")||o.hasClass("k-hierarchy-cell")||void 0!==n&&0!==n||e._createResizeHandle(o.closest("div"),o)})},_resizeHandleDocumentClick:function(e){t(e.target).closest(".k-column-active").length||(t(document).off(e),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(E).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var e=this,n=e.lockedHeader?e.lockedHeader.find("thead:first"):t();e._resizeUserEvents=new i.UserEvents(n.add(e.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(i){var n=t(i.target);i.preventDefault(),n.addClass("k-column-active"),e._createResizeHandle(n.closest("div"),n),e._resizeHandleDocumentClickHandler||(e._resizeHandleDocumentClickHandler=k(e._resizeHandleDocumentClick,e)),t(document).on("click",e._resizeHandleDocumentClickHandler)}})},_resizable:function(){var e,o,r,a,s,l,h,d,f=this,p=f.options,m=this._isMobile,g=i.support.mobileOS?0:i.support.scrollbar();p.resizable&&(e=p.scrollable?f.wrapper.find(".k-grid-header-wrap:first"):f.wrapper,m?f._positionColumnResizeHandleTouch(e):f._positionColumnResizeHandle(e),f.resizable&&f.resizable.destroy(),f.resizable=new n.Resizable(e.add(f.lockedHeader),{handle:(p.scrollable?"":">")+".k-resize-handle",hint:function(e){return t('<div class="k-grid-resize-indicator" />').css({height:u(e.data("th"))+f.tbody.attr("clientHeight")})},start:function(e){d=t(e.currentTarget).data("th"),m&&f._hideResizeHandle();var i=d.closest("table"),n=t.inArray(d[0],Mt(d.closest("thead")).filter(":visible")),u=(l=i.parent().hasClass("k-grid-header-locked"))?f.lockedTable:f.table,g=f.footer||t();f.footer&&f.lockedContent&&(g=l?f.footer.children(".k-grid-footer-locked"):f.footer.children(".k-grid-footer-wrap")),tt(f.wrapper,"col-resize"),h=p.scrollable?i.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")").add(u.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")).add(g.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")):u.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")");var v=t.map(f.columns,function(t){return!t.hidden&&(l&&t.locked||!l&&!t.locked)?t:null});o=e.x.location,r=c(d),a=jt(v)[n].minResizableWidth||10,s=c(l?u.children("tbody"):f.tbody),W.webkit&&f.wrapper.addClass("k-grid-column-resizing")},resize:function(e){var i=U?-1:1,n=r+e.x.location*i-o*i;if(p.scrollable){var c;l&&f.lockedFooter?c=f.lockedFooter.children("table"):f.footer&&(c=f.footer.find(">.k-grid-footer-wrap>table")),c&&c[0]||(c=t());var u=d.closest("table"),m=l?f.lockedTable:f.table,v=!1,b=f.wrapper.width()-g,k=n;l&&s-r+k>b&&((k=r+(b-s-2*g))<0&&(k=n),v=!0),k>10&&k>=a&&(h.css("width",k),s&&(k=v?b-2*g:s+e.x.location*i-o*i,m.add(u).add(c).css("width",k),l||(f._footerWidth=k))),f._scrollVirtualWrapperOnColumnResize()}else n>10&&n>=a&&h.css("width",n)},resizeend:function(){var t,e,n=c(d);if(tt(f.wrapper,""),W.webkit&&f.wrapper.removeClass("k-grid-column-resizing"),r!=n){e=f.lockedHeader?f.lockedHeader.find("thead:first tr:first").add(f.thead.find("tr:first")):d.parent();var o=d.attr(i.attr("index"));o||(o=e.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(d)),(t=jt(f.columns)[o]).width=n,f.trigger("columnResize",{column:t,oldWidth:r,newWidth:n}),f._applyLockedContainersWidth(),f._syncLockedContentHeight(),f._syncLockedHeaderHeight()}f._hideResizeHandle(),d=null}}))},_draggable:function(){var e=this;if(e.options.reorderable){e._draggableInstance&&e._draggableInstance.destroy();var n=e.wrapper.children(".k-grid-header");e._draggableInstance=e.wrapper.kendoDraggable({group:i.guid(),autoScroll:!0,filter:e.content?".k-grid-header:first "+z:"table:first>.k-grid-header "+z,dragstart:function(){n.children(".k-grid-header-wrap").unbind("scroll"+E+"scrolling").bind("scroll"+E+"scrolling",function(t){e.virtualScrollable?e.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):e.scrollables.not(t.currentTarget).scrollLeft(this.scrollLeft)})},dragend:function(){n.children(".k-grid-header-wrap").unbind("scroll"+E+"scrolling")},drag:function(){e._hideResizeHandle()},hint:function(e){var n=e.attr(i.attr("title"));return n&&(n=i.htmlEncode(n)),t('<div class="k-header k-drag-clue" />').css({width:e.width(),paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),lineHeight:e.height()+"px",paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}).html(n||e.attr(i.attr("field"))||e.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}).data("kendoDraggable")}},_reorderable:function(){var e=this;e.options.reorderable&&(e.wrapper.data("kendoReorderable")&&e.wrapper.data("kendoReorderable").destroy(),e.wrapper.kendoReorderable({draggable:e._draggableInstance,dragOverContainers:function(t,i){var n=gt(e.columns);return!1!==n[t].lockable&&vt(n,e.columns,t,i)>-1},inSameContainer:function(i){return t(i.source).parent()[0]===t(i.target).parent()[0]&&vt(gt(e.columns),e.columns,i.sourceIndex,i.targetIndex)>-1},change:function(t){var i=gt(e.columns),n=i[t.oldIndex],o=vt(i,e.columns,t.oldIndex,t.newIndex);e.trigger("columnReorder",{newIndex:o,oldIndex:v(n,i),column:n}),e.reorderColumn(o,n,"before"===t.position)}}))},_reorderHeader:function(t,e,i){for(var n=pt(t[0],this.columns),o=pt(e,this.columns),r=[],a=0;a<t.length;a++)t[a].columns&&(r=r.concat(t[a].columns));var s=it(this.lockedHeader,this.thead,"tr:eq("+n.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),l=xt(t).length,c=xt([e]).length;r.length?(l>0&&0===c?ht(t,e,r,this.columns,this.lockedHeader.find("thead"),this.thead,this._groups()):0===l&&c>0&&ht(t,e,r,this.columns,this.thead,this.lockedHeader.find("thead"),this._groups()),(e.columns||n.cell-o.cell>1||o.cell-n.cell>1)&&(e=function t(e,i,n,o,r){if(i.columns)return(i=i.columns)[o?0:i.length-1];var a,s=ot(i,e);a=s?s.columns:e;var l=v(i,a);0===l&&o?l++:l!=a.length-1||o?(l>0||0===l&&!o)&&(l+=o?-1:1):l--,i=function(t,e,i,n){var o,r,a=!!i.locked;do{o=t[e],e+=n?1:-1,r=!!o.locked}while(o&&e>-1&&e<t.length&&o!=i&&!o.columns&&r===a);return o}(a,l,n,v(n,a)>l);var c=v(i,r);return(!i.columns||c&&c!==a.length-1)&&i&&i!=n&&i.columns?t(e,i,n,o,r):null}(this.columns,e,t[0],i,this.columns))&&this._reorderHeader(r,e,i)):l!==c&&function(t,e,i){var n=ft(xt(e)),o=ft(St(e)),r=t.rowSpan;t.rowSpan=i?n>o?r-(n-o)||1:r+(o-n):n>o?r+(n-o):r-(o-n)||1}(s[n.cell],this.columns,l),et(s,n.cell,o.cell,i,t.length)},_reorderContent:function(e,i,n){var o,r,a,s=t(),l=e[0],c=ct(e),u=v(l,jt(this.columns)),h=v(i,jt(this.columns)),d=v(c[0],Tt(this.columns)),f=v(i,Tt(this.columns)),p=xt(this.columns).length,m=!!i.locked,g=this.footer||this.wrapper.find(".k-grid-footer");if(o=r=f,i.hidden){var b=m?xt(this.columns):St(this.columns);ct(b).length>0?(o=r=f=this._findClosestVisibleColumnIndex(b,h),a=ct(b.slice(h)).length>0):m?(f=this.lockedTable.find("colgroup"),o=this.lockedHeader.find("colgroup"),r=t(this.lockedFooter).find(">table>colgroup")):(f=this.tbody.prev(),o=this.thead.prev(),r=g.find(".k-grid-footer-wrap").find(">table>colgroup"))}this._hasFilterRow()&&et(this.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),u,h,n,e.length),d>=0&&et(it(this.lockedHeader,this.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),d,o,a||n,c.length),this.options.scrollable&&d>=0&&et(it(this.lockedTable,this.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),d,f,a||n,c.length),g&&g.length&&(d>=0&&et(it(this.lockedFooter,g.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),d,r,a||n,c.length),et(g.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),u,h,n,e.length));var k=this.tbody.children(":not(.k-grouping-row,.k-detail-row)");this.lockedTable&&(p>h?p<=u&&Bt(this.lockedTable.find(">tbody>tr.k-grouping-row"),this.table.find(">tbody>tr.k-grouping-row"),e.length):p>u&&Bt(this.table.find(">tbody>tr.k-grouping-row"),this.lockedTable.find(">tbody>tr.k-grouping-row"),e.length),s=this.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)"));for(var y=0,w=k.length;y<w;y+=1)et(it(s[y],k[y],">td:not(.k-group-cell,.k-hierarchy-cell)"),u,h,n,e.length)},_findClosestVisibleColumnIndex:function(t,e){var i=ct(ct(t.slice(e)).length>0?t.slice(e):t.slice(0,e+1).reverse())[0];return v(i,ct(this.columns))},_autoFitLeafColumn:function(t){this.autoFitColumn(jt(this.columns)[t])},autoFitColumn:function(e){var i,n,o,r,a,s,l,u,h=this.options,f=this.columns,p=this.lockedHeader?Mt(this.lockedHeader.find(">table>thead")).filter(st).length:0,g="col:not(.k-group-col):not(.k-hierarchy-col)";if((e="number"==typeof e?f[e]:d(e)?m(bt(f),function(t){return t===e})[0]:m(bt(f),function(t){return t.field===e})[0])&&lt(e)){s=e.minResizableWidth,i=v(e,jt(f)),n=(o=(r=e.locked)?this.lockedHeader.children("table"):this.thead.parent()).find("[data-index='"+i+"']");var b=r?this.lockedTable:this.table,k=this.footer||t();this.footer&&this.lockedContent&&(k=r?this.footer.children(".k-grid-footer-locked"):this.footer.children(".k-grid-footer-wrap"));var y=k.find("table").first();this.lockedHeader&&!r&&(i-=p);for(var w=0;w<f.length&&f[w]!==e;w++)f[w].hidden&&i--;h.scrollable?(a=o.find(g).eq(i).add(b.children("colgroup").find(g).eq(i)).add(y.find("colgroup").find(g).eq(i)),r||(u=(l=b.parent()).scrollLeft())):a=b.children("colgroup").find(g).eq(i);var _=o.add(b).add(y),x=c(n);a.width(""),_.css("table-layout","fixed"),a.width("auto"),_.addClass("k-autofitting"),_.css("table-layout","");var S=Math.ceil(Math.max(c(n),c(b.find("tr:not(.k-grouping-row)").eq(0).children("td:visible:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i)),c(y.find("tr").eq(0).children("td:visible:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i))))+1;if(s&&s>S&&(S=s),a.width(S),e.width=S,h.scrollable){for(var C,A=o.find("col"),T=0,j=0,M=A.length;j<M;j+=1)if((C=A[j].style.width)&&-1==C.indexOf("%"))T+=parseInt(C,10);else{if(!A.eq(j).hasClass("k-group-col")){T=0;break}T+=parseInt(A.eq(j).width(),10)}T&&_.each(function(){this.style.width=T+"px"})}W.msie&&8==W.version&&(_.css("display","inline-table"),setTimeout(function(){_.css("display","table")},1)),_.removeClass("k-autofitting"),u&&l.scrollLeft(u),this.trigger("columnResize",{column:e,oldWidth:x,newWidth:S}),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight()}},reorderColumn:function(t,i,n){var o,r=ot(i,this.columns),a=r?r.columns:this.columns,s=v(i,a),l=a[t],c=!!l.locked,u=xt(this.columns).length;if(s!==t&&(i.locked||!c||1!=St(this.columns).length)&&(!i.locked||c||1!=u)){this._hideResizeHandle(),n===e&&(n=t<s);var h=[i];this._reorderHeader(h,l,n),this.lockedHeader&&(wt(this.thead),wt(this.lockedHeader)),l.columns&&(l=(l=jt(l.columns))[n?0:l.length-1]),i.columns&&(h=jt(i.columns)),this._reorderContent(h,l,n),o=(o=!!i.locked)!=c,i.locked=c,a.splice(n?t:t+1,0,i),a.splice(s<t?s:s+1,1),this._templates(),this._updateColumnCellIndex(),this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedHeaderHeight(),this._syncLockedContentHeight(),this._updateFirstColumnClass(),o&&(c?this.trigger("columnLock",{column:i}):this.trigger("columnUnlock",{column:i}))}},_updateColumnCellIndex:function(){var t=0;this.lockedHeader&&(t=dt(this.lockedHeader.find("thead"),xt(this.columns))),dt(this.thead,St(this.columns),t)},lockColumn:function(t){var e=this.columns;if((t="number"==typeof t?e[t]:m(e,function(e){return e.field===t})[0])&&!t.locked&&!t.hidden){var i=xt(e).length-1;this.reorderColumn(i,t,!1)}},unlockColumn:function(t){var e=this.columns;if((t="number"==typeof t?e[t]:m(e,function(e){return e.field===t})[0])&&t.locked&&!t.hidden){var i=xt(e).length;this.reorderColumn(i,t,!0)}},cellIndex:function(e){var i=0;return this.lockedTable&&!t.contains(this.lockedTable[0],e[0])&&(i=jt(xt(this.columns)).length),t(e).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(e)+i},_modelForContainer:function(e){(e=t(e)).is("tr")||"popup"===this._editMode()||(e=e.closest("tr"));var n=e.attr(i.attr("uid"));return this.dataSource.getByUid(n)},_editable:function(){var e=this,n=e.selectable&&e.selectable.options.multiple,o=e.options.editable,r=function(){var i=s(),n=e._editContainer;!n||t.contains(n[0],i)||n[0]===i||t(i).closest(".k-animation-container").length||(e.editable.end()?e.closeCell():e._scrollVirtualWrapper())};o&&(this.wrapper.addClass("k-editable"),"incell"===e._editMode()?(e.table.add(e.lockedTable).on("mousedown"+E,C+">"+A,function(n){var o=t(n.target);"incell"===e._editMode()&&o.hasClass("k-checkbox-label")&&o.prev().attr(i.attr("bind"))&&n.preventDefault()}),!1!==o.update&&e.wrapper.on(R+E,"tr:not(.k-grouping-row) > td",function(i){var o=t(this),r=e.lockedTable&&o.closest("table")[0]===e.lockedTable[0];o.hasClass("k-hierarchy-cell")||o.hasClass("k-detail-cell")||o.hasClass("k-group-cell")||o.hasClass("k-edit-cell")||o.has("a.k-grid-delete").length||o.has("button.k-grid-delete").length||o.closest("tbody")[0]!==e.tbody[0]&&!r||t(i.target).is(":input")||(e.editable?e.editable.end()?(n&&t(s()).blur(),e.closeCell(),e.editCell(o)):e._scrollVirtualWrapper():e.editCell(o))}).on("focusin"+E,function(){t.contains(this,s())||(clearTimeout(e.timer),e.timer=null)}).on("focusout"+E,function(){e.timer=setTimeout(r,1)})):!1!==o.update&&(e.wrapper.on(R+E,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(i){i.preventDefault(),e.editRow(t(this).closest("tr"))}),e._isVirtualInlineEditable()&&e.wrapper.on("focusout"+E,"tr:not(.k-grouping-row) > td",function(){e.editable&&!e.editable.end()&&e._scrollVirtualWrapper()})),!1!==o.destroy?e.wrapper.on(R+E,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(i){i.preventDefault(),i.stopPropagation(),e.removeRow(t(this).closest("tr"))}):e.wrapper.on(R+E,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(t){t.stopPropagation(),e._confirmation()||t.preventDefault()}))},editCell:function(e){e=t(e);var i=this,n=jt(i.columns)[i.cellIndex(e)],o=i._modelForContainer(e);if(i.closeCell(),o&&Gt(n,o)&&!n.command){if(i.trigger("beforeEdit",{model:o}))return;i._attachModelChange(o),i._editContainer=e,i._shouldClearEditableState&&i._clearEditableState(),i.editable=e.addClass("k-edit-cell").kendoEditable({fields:{field:n.field,format:n.format,editor:n.editor,values:n.values},model:o,target:i,change:function(t){i.trigger("save",{values:t.values,container:e,model:o})&&t.preventDefault()},skipFocus:!(!i._isVirtualIncellEditable()||!i._editableState)}).data("kendoEditable");var r=e.parent().addClass("k-grid-edit-row");i.lockedContent&&Ht(r[0],i._relatedRow(r).addClass("k-grid-edit-row")[0]),i.trigger("edit",{container:e,model:o})}},_adjustLockedHorizontalScrollBar:function(){var t=this.table,e=t.parent(),n=t[0].offsetWidth>e[0].clientWidth?i.support.scrollbar():0;this.lockedContent.height(e.height()-n)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var t=this.lockedHeader.children("table"),e=this.thead.parent();this._adjustRowsHeight(t,e),function(t,e){if(t=t[0],e=e[0],t.rows.length!==e.rows.length){var i,n,o=t.offsetHeight,r=e.offsetHeight;o>r?(i=e.rows[e.rows.length-1],H.test(i.className)&&(i=e.rows[e.rows.length-2]),n=o-r):(i=t.rows[t.rows.length-1],H.test(i.className)&&(i=t.rows[t.rows.length-2]),n=r-o),i.style.height=i.offsetHeight+n+"px"}}(t,e)}},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var t=this,e=function(){if(t.editable){var e=t.editView?t.editView.element:t._editContainer;e&&(e.off(R+E,"a.k-grid-cancel",t._editCancelClickHandler),e.off(R+E,"a.k-grid-update",t._editUpdateClickHandler)),t._detachModelChange(),t.editable.destroy(),t.editable=null,t._editContainer=null,t._destroyEditView()}};t.editable&&("popup"!==t._editMode()||t._isMobile?e():t._editContainer.data("kendoWindow").bind("deactivate",e).close()),t._actionSheet&&(t._actionSheet.destroy(),t._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(t){var e=this;e._modelChangeHandler=function(t){e._modelChange({field:t.field,model:this})},t.bind("change",e._modelChangeHandler)},_detachModelChange:function(){var t=this._editContainer,e=this._modelForContainer(t);e&&e.unbind(I,this._modelChangeHandler)},closeCell:function(t){var e,i,o,r=this._editContainer;r&&(o=this._modelForContainer(r),t&&this.trigger("cancel",{container:r,model:o})||(this.trigger("cellClose",{type:t?"cancel":"save",model:o,container:r}),r.removeClass("k-edit-cell"),e=jt(this.columns)[this.cellIndex(r)],i=r.parent().removeClass("k-grid-edit-row"),this.lockedContent&&this._relatedRow(i).removeClass("k-grid-edit-row"),this._destroyEditable(),this._displayCell(r,e,o),this._shouldClearEditableState&&this._clearEditableState(),this.trigger("itemChange",{item:i,data:o,ns:n}),this.lockedContent&&Ht(i.css("height","")[0],this._relatedRow(i).css("height","")[0])))},_displayCell:function(t,e,n){var o={storage:{},count:0},r=f({},i.Template,this.options.templateSettings),a=i.template(this._cellTmpl(e,o),r);o.count>0&&(a=k(a,o.storage)),t.empty().html(a(n)),this.angular("compile",function(){return{elements:t,data:[{dataItem:n}]}})},removeRow:function(t){this._confirmation(t)&&this._removeRow(t)},_removeRow:function(e){var i,n,o,r=this._editMode();"incell"!==r&&this.cancelRow(),e=t(e),this.lockedContent&&(e=e.add(this._relatedRow(e))),e=e.hide(),(i=this._modelForContainer(e))&&!this.trigger("remove",{row:e,model:i})?(o=this.dataSource.options.schema,this._selectedIds&&o&&o.model&&(n=i[this.dataSource.options.schema.model.id],delete this._selectedIds[n]),this.dataSource.remove(i),"inline"!==r&&"popup"!==r||this.dataSource.sync()):"incell"===r&&this._destroyEditable()},_editMode:function(){var t="incell",e=this.options.editable;return!0!==e&&(t="string"==typeof e?e:e.mode||t),t},editRow:function(e){var n,o=this;e instanceof r?n=e:(e=t(e),n=o._modelForContainer(e));var a,s=o._editMode();o.cancelRow(),n&&(e=o.tbody.children("["+i.attr("uid")+"="+n.uid+"]"),o._attachModelChange(n),"popup"===s?o._createPopupEditor(n):"inline"===s?o._createInlineEditor(e,n):"incell"===s&&t(e).children(S).each(function(){var e=t(this),i=jt(o.columns)[o.cellIndex(e)];if((n=o._modelForContainer(e))&&(!n.editable||n.editable(i.field))&&i.field&&!i.selectable)return o.editCell(e),!1}),(a=o.editView?o.editView.element:o._editContainer)&&(this._editCancelClickHandler||(this._editCancelClickHandler=k(this._editCancelClick,this)),a.on(R+E,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=k(this._editUpdateClick,this)),a.on(R+E,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(t){t.preventDefault(),t.stopPropagation(),this.saveRow()},_editCancelClick:function(e){var i=this.options.navigatable,n=this.editable.options.model,o=this.editView?this.editView.element:this._editContainer;if(e.preventDefault(),e.stopPropagation(),!this.trigger("cancel",{container:o,model:n})){var r=this.items().index(t(this.current()).parent());this.cancelRow(),i&&(this._setCurrent(this.items().eq(r).children().filter(A).first()),Wt(this.table,!0))}},_createPopupEditor:function(e){var n,o,r,a,s,l,c,u,h,p,m,g=this,v="<div "+i.attr("uid")+'="'+e.uid+'" class="k-popup-edit-form'+(g._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',b=[],y=jt(g.columns),w=g.options.editable,_=w.template,x=d(w)?w.window:{},S=f({},i.Template,g.options.templateSettings);if(!g.trigger("beforeEdit",{model:e})){if(x=x||{},_)for(typeof _===L&&(_=window.unescape(_)),v+=i.template(_,S)(e),r=0,a=y.length;r<a;r++)(n=y[r]).command&&(p=Ut(n.command,"edit"))&&(o=p);else for(r=0,a=y.length;r<a;r++)if(!(n=y[r]).selectable)if(n.command)n.command&&(p=Ut(n.command,"edit"))&&(o=p);else if(v+='<div class="k-edit-label"><label for="'+n.field+'">'+(n.title||n.field||"")+"</label></div>",Gt(n,e))b.push({field:n.field,format:n.format,editor:n.editor,values:n.values}),v+="<div "+i.attr("container-for")+'="'+n.field+'" class="k-edit-field"></div>';else{var C={storage:{},count:0};s=i.template(g._cellTmpl(n,C),S),C.count>0&&(s=k(s,C.storage)),v+='<div class="k-edit-field">'+s(e)+"</div>"}var T;o&&d(o)&&(d(o.text)&&(l=o.text.update,c=o.text.cancel),d(o.iconClass)&&(u=o.iconClass.update,h=o.iconClass.cancel),o.attr&&(m=o.attr)),g._isMobile?(v+="</div></div>",g.editView=g.pane.append("<div data-"+i.ns+'role="view" data-'+i.ns+'use-native-scrolling="true" data-'+i.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+i.ns+'role="header" class="k-header">'+g._createButton({name:"update",text:l,attr:m})+(x.title||"Edit")+g._createButton({name:"canceledit",text:c,attr:m})+"</div>"+v+"</div>"),T=g._editContainer=g.editView.element.find(".k-popup-edit-form")):(v+='<div class="k-edit-buttons k-state-default">',v+=g._createButton({name:"update",text:l,attr:m,iconClass:u})+g._createButton({name:"canceledit",text:c,attr:m,iconClass:h}),v+="</div></div></div>",T=g._editContainer=t(v).appendTo(g.wrapper).eq(0).kendoWindow(f({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),g.trigger("cancel",{container:T,model:e}))return void i.preventDefault();var n=g.items().index(t(g.current()).parent());g.cancelRow(),g.options.navigatable&&(g._setCurrent(g.items().eq(n).children().filter(A).first()),Wt(g.table,!0))}}},x))),g.editable=g._editContainer.kendoEditable({fields:b,model:e,clearContainer:!1,target:g}).data("kendoEditable"),g._isMobile&&T.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){t(this).next().children("input").click()}),g._openPopUpEditor(),g.trigger("edit",{container:T,model:e})}},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(e,n){var o,r,a,s=this,l=[];s.trigger("beforeEdit",{model:n})||(s.lockedContent&&(e=e.add(s._relatedRow(e))),e.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(r=t(this),!(o=jt(s.columns)[s.cellIndex(r)]).command&&Gt(o,n))l.push({field:o.field,format:o.format,editor:o.editor,values:o.values}),r.attr(i.attr("container-for"),o.field),r.empty();else if(o.command){var e,c,u,h,f;(a=Ut(o.command,"edit"))&&(r.empty(),d(a)&&(d(a.text)&&(e=a.text.update,c=a.text.cancel),d(a.iconClass)&&(u=a.iconClass.update,h=a.iconClass.cancel),a.attr&&(f=a.attr)),t(s._createButton({name:"update",text:e,attr:f,iconClass:u})+s._createButton({name:"canceledit",text:c,attr:f,iconClass:h})).appendTo(r))}}),s._editContainer=e,s._editContainer.addClass("k-grid-edit-row"),s._shouldClearEditableState&&s._clearEditableState(),s.editable=new i.ui.Editable(s._editContainer,{target:s,fields:l,model:n,skipFocus:!!(s._isVirtualInlineEditable()&&s._editableState&&s._editableState.field),clearContainer:!1}),e.length>1&&(Ht(e[0],e[1]),s._applyLockedContainersWidth()),s.trigger("edit",{container:e,model:n}))},cancelRow:function(t){var e,n=this._editContainer;if(n){if(!(e=this._modelForContainer(n))||t&&this.trigger("cancel",{container:n,model:e}))return;this._destroyEditable(),this.dataSource.cancelChanges(e),this._clearEditableState(),"popup"!==this._editMode()?this._displayRow(n):this._displayRow(this.tbody.find("["+i.attr("uid")+"="+e.uid+"]"))}},saveRow:function(){var e,i=this._editContainer,n=this._modelForContainer(i),o=t.Deferred();return i&&this.editable?!(e=this.editable&&this.editable.end())||this.trigger("save",{container:i,model:n})?(e||this._scrollVirtualWrapper(),o.reject().promise()):(this._clearEditableState(),this.dataSource.sync()):o.resolve().promise()},_displayRow:function(e){var i,o,r,a=this._modelForContainer(e),s=e.hasClass("k-state-selected"),l=e.hasClass("k-alt");if(a){this.lockedContent&&(i=t((l?this.lockedAltRowTemplate:this.lockedRowTemplate)(a)),this._relatedRow(e.last()).replaceWith(i)),this.angular("cleanup",function(){return{elements:e.get()}}),o=t((l?this.altRowTemplate:this.rowTemplate)(a)),e.is(":visible")||o.hide(),e.replaceWith(o),this.trigger("itemChange",{item:o,data:a,ns:n}),i&&i.length&&this.trigger("itemChange",{item:i,data:a,ns:n});var c=o,u=[{dataItem:a}];i&&i.length&&(c=o.add(i),u.push({dataItem:a})),this.angular("compile",function(){return{elements:c.get(),data:u}}),s&&(this.options.selectable||this._checkBoxSelection)&&this.select(o.add(i)),i&&Ht(o[0],i[0]),(r=o.next()).hasClass("k-detail-row")&&r.is(":visible")&&o.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse")}},_showMessage:function(e,n){var o=this;if(!o._isMobile)return window.confirm(e.title);var r=i.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),a=t(r(e)).appendTo(o.view.element);return(o._actionSheet=new i.mobile.ui.ActionSheet(a,{cancel:e.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(e){t(e.currentTarget).parent().hasClass("km-actionsheet-cancel")||o._removeRow(n)},popup:o._actionSheetPopupOptions})).open(n),!1},_confirmation:function(t){var e=this.options.editable,i=!0===e||typeof e===L?this.options.messages.editable.confirmation:e.confirmation;return d(e)&&typeof e.mode===L&&"function"!=typeof i&&typeof i!==L&&!1!==i&&(i=this.options.messages.editable.confirmation),!1===i||null==i||("function"==typeof i&&(i=i(this._modelForContainer(t))),this._showMessage({confirmDelete:e.confirmDelete||this.options.messages.editable.confirmDelete,cancelDelete:e.cancelDelete||this.options.messages.editable.cancelDelete,title:!0===i?this.options.messages.editable.confirmation:i},t))},cancelChanges:function(){var t=this;t.dataSource.cancelChanges(),t._isVirtualEditable()&&t._virtualPageToTop(function(){t.virtualScrollable.scrollToTop()})},saveChanges:function(){var t=this.editable&&this.editable.end();!t&&this.editable||this.trigger("saveChanges")?t||this._scrollVirtualWrapper():this.dataSource.sync()},addRow:function(){var t,e,i=this.dataSource,n=this._editMode(),o=this.options.editable.createAt||"",r=i.pageSize(),a=i.view()||[],s="bottom"===o.toLowerCase(),l=this._isVirtualEditable();this.editable&&this.editable.end()||!this.editable?("incell"!=n&&this.cancelRow(),t=i.indexOf(a[0]),s&&(t+=a.length,r&&!i.options.serverPaging&&r<=a.length&&(t-=1)),t<0&&(t=i.page()>i.totalPages()?(i.page()-1)*r:0),this.options.navigatable&&"incell"==n&&this._removeCurrent(),l?this._virtualAddRow():(e=i.insert(t,{}),this._editModel(e))):this._scrollVirtualWrapper()},_editModel:function(t){var e=this.options.editable.createAt||"",n=this._editMode();if(t){var o=t.uid,r=(this.lockedContent?this.lockedTable:this.table).find("tr["+i.attr("uid")+"="+o+"]"),a=r.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(this._firstEditableColumnIndex(r));"inline"===n&&r.length?this.editRow(r):"popup"===n?this.editRow(t):a.length&&this.editCell(a),"bottom"==e.toLowerCase()&&this.lockedContent&&(this.lockedContent[0].scrollTop=this.content[0].scrollTop=this.table[0].offsetHeight)}},_virtualAddRow:function(){var t="bottom"===(this.options.editable.createAt||"").toLowerCase();this._clearEditableState(),t?this._virtualAddRowAtBottom():this._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var t,e=this,i=e.dataSource,n=e.virtualScrollable;1===i.page()?(t=i.insert(0,{}),e._editModel(t),n.scrollToTop()):e._virtualPageToTop(function(){t=i.insert(0,{}),e._editModel(t),n.scrollToTop()})},_virtualAddRowAtBottom:function(){var t,e=this,i=e.dataSource,n=e.virtualScrollable,o=i.total();i.at(o-1)instanceof r?(t=i.insert(o,{}),e._virtualPageToBottom(function(){e._editModel(t),n.scrollToBottom()})):e._virtualPageToBottom(function(){t=i.insert(o,{}),e._editModel(t),n.scrollToBottom()})},_virtualPageToTop:function(t){this._virtualPage(0,this.dataSource.take(),function(){t()})},_virtualPageToBottom:function(t){var e=this.dataSource,i=e.take(),n=e.total(),o=n>i?n-i:0;this._virtualPage(o,i,function(){t()})},_virtualPage:function(t,e,i){this._isVirtualEditable()&&(this.virtualScrollable._preventScroll=!0,this.virtualScrollable._page(t,e,i))},_firstEditableColumnIndex:function(t){var e,i,n,o=jt(this.columns),r=this._modelForContainer(t);for(i=0,n=o.length;i<n;i++)if(e=o[i],r&&(!r.editable||r.editable(e.field))&&!e.command&&e.field&&!0!==e.hidden)return i;return-1},_toolbar:function(){var e,n=this,o=n.wrapper,r=n.options.toolbar,a=n.options.editable;r&&((e=n.wrapper.find(".k-grid-toolbar")).length||(y(r)||(r=typeof r===L?r:n._toolbarTmpl(r).replace(q,"\\#"),r=k(i.template(r),n)),e=t('<div class="k-header k-grid-toolbar" />').html(r({})).prependTo(o),n.angular("compile",function(){return{elements:e.get()}})),a&&!1!==a.create&&e.on(R+E,".k-grid-add",function(t){t.preventDefault(),n.addRow()}).on(R+E,".k-grid-cancel-changes",function(t){t.preventDefault(),n.cancelChanges()}).on(R+E,".k-grid-save-changes",function(t){t.preventDefault(),n.saveChanges()}),e.on(R+E,".k-grid-excel",function(t){t.preventDefault(),n.saveAsExcel()}),e.on(R+E,".k-grid-pdf",function(t){t.preventDefault(),n.saveAsPDF()}))},_toolbarTmpl:function(t){var e,i,n="";if(g(t))for(e=0,i=t.length;e<i;e++)n+=this._createButton(t[e]);return n},_createButton:function(t){var n,o=t.template||'# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a># } #',r=typeof t===L?t:t.name||t.text,a={className:$[r]?$[r].className:"k-grid-"+(r||"").replace(/\s/g,""),text:r,attr:"",iconClass:""},s=this.options.messages.commands;if(!(r||d(t)&&t.template))throw new Error("Custom commands should have name specified");return d(t)?((t=f(!0,{},t)).className&&v(a.className,t.className.split(" "))<0?t.className+=" "+a.className:t.className===e&&(t.className=a.className),"edit"===r&&((t=f(!0,{},t)).text=d(t.text)?t.text.edit:t.text,t.iconClass=d(t.iconClass)?t.iconClass.edit:t.iconClass),t.attr&&(d(t.attr)&&(t.attr=J(t.attr)),typeof t.attr===L&&(n=t.attr.match(/class="(.+?)"/))&&v(n[1],t.className.split(" "))<0&&(t.className+=" "+n[1])),a=f(!0,a,$[r],{text:s[r]},t)):a=f(!0,a,$[r],{text:s[r]}),i.template(o)(a)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var e=this;e._groupableClickHandler?e.table.add(e.lockedTable).off(R+E,e._groupableClickHandler):e._groupableClickHandler=function(i){var n=t(this),o=n.closest("tr"),r=e._groupRows?e._groupRows[e.wrapper.find(".k-grouping-row").index(o)]:{};n.hasClass("k-i-collapse")?e.trigger("groupCollapse",{group:r,element:o})||e.collapseGroup(o):e.trigger("groupExpand",{group:r,element:o})||e.expandGroup(o),i.preventDefault(),i.stopPropagation()},e._isLocked()?e.lockedTable.on(R+E,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",e._groupableClickHandler):e.table.on(R+E,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",e._groupableClickHandler),e._attachGroupable()},_attachGroupable:function(){var e=this,o=e.wrapper,r=e.options.groupable,a=z+"["+i.attr("field")+"]",s=e.content?".k-grid-header:first "+a:"table:first>.k-grid-header "+a;r&&!1!==r.enabled&&(o.has("div.k-grouping-header")[0]||t("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(o),e.groupable&&e.groupable.destroy(),e.groupable=new n.Groupable(o,f({},r,{draggable:e._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:e.dataSource,draggableElements:s,filter:s,allowDrag:e.options.reorderable,change:function(t){e.trigger("group",{groups:t.groups})?t.preventDefault():(e._clearEditableState(),e.dataSource.options.endless&&(e.dataSource.options.endless=null,e._endlessPageSize=e.dataSource.options.pageSize,e.dataSource._skip=0,e.dataSource._page=1))}})))},_continuousItems:function(e,i){if(this.lockedContent){for(var n=this.table.add(this.lockedTable),o=t(e,n[0]),r=t(e,n[1]),a=i?xt(this.columns).length:1,s=i?this.columns.length-a:1,l=[],c=0;c<o.length;c+=a)b.apply(l,o.slice(c,c+a)),b.apply(l,r.splice(0,s));return l}},_selectable:function(){var e,n,o=this,r=[],a=o._isLocked(),s=o.options.selectable;if(s){o.selectable&&o.selectable.destroy(),o._selectedIds={},s=i.ui.Selectable.parseOptions(s),e=s.multiple,n=s.cell,o._hasDetails()&&(r[r.length]=".k-detail-row"),(o.options.groupable||o._hasFooters()||o._groups())&&(r[r.length]=".k-grouping-row,.k-group-footer"),""!==(r=r.join(","))&&(r=":not("+r+")");var l=o.table;a&&(l=l.add(o.lockedTable));var c=">"+(n?"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)":"tbody>tr"+r);o.selectable=new i.ui.Selectable(l,{filter:c,aria:!0,multiple:e,change:function(){n||o._persistSelectedRows(),o.trigger(I)},useAllItems:a&&e&&n,relatedTarget:function(e){if(!n&&a){for(var i,r=t(),s=0,l=e.length;s<l;s++)i=o._relatedRow(e[s]),v(i[0],e)<0&&(r=r.add(i));return r}},continuousItems:function(){return o._continuousItems(c,n)}}),o.options.navigatable&&l.on("keydown"+E,function(i){var r=o.current(),s=i.target;if(i.keyCode===h.SPACEBAR&&!i.shiftKey&&t.inArray(s,l)>-1&&!r.is(".k-edit-cell,.k-header")&&r.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(i.preventDefault(),i.stopPropagation(),r=n?r:r.parent(),a&&!n&&(r=r.add(o._relatedRow(r))),e)if(i.ctrlKey){if(r.hasClass(O))return r.removeClass(O),void o.trigger(I)}else o.selectable.clear();else o.selectable.clear();n||(o.selectable._lastActive=r),o.selectable.value(r)}else!n&&(t(s).is("td")||t(s).is("table")&&v(s,this._navigatableTables))&&(i.shiftKey&&i.keyCode==h.LEFT||i.shiftKey&&i.keyCode==h.RIGHT||i.shiftKey&&i.keyCode==h.UP||i.shiftKey&&i.keyCode==h.DOWN||i.keyCode===h.SPACEBAR&&i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),r=r.parent(),a&&(r=r.add(o._relatedRow(r))),e?(o.selectable._lastActive||(o.selectable._lastActive=r),o.selectable.selectRange(o.selectable._firstSelectee(),r)):(o.selectable.clear(),o.selectable.value(r)))})}},_clipboard:function(){var t=this.options;if(t.selectable&&t.allowCopy){var e=this;t.navigatable||e.table.add(e.lockedTable).attr("tabindex",0).on("mousedown"+E+" keydown"+E,".k-detail-cell",function(t){t.target!==t.currentTarget&&t.stopImmediatePropagation()}).on("mousedown"+E,C+">"+A,k(Yt,e)),e.copyHandler=k(e.copySelection,e),e.updateClipBoardState=function(){e.areaClipBoard&&e.areaClipBoard.val(e.getTSV()).focus().select()},e.bind("change",e.updateClipBoardState),e.wrapper.on("keydown",e.copyHandler),e.clearAreaHandler=k(e.clearArea,e),e.wrapper.on("keyup",e.clearAreaHandler)}},copySelection:function(e){e instanceof jQuery.Event&&!e.ctrlKey&&!e.metaKey||t(e.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=t("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var e=this,i=e.select(),n="\t",o=e.options.allowCopy;t.isPlainObject(o)&&o.delimeter&&(n=o.delimeter);var r="";if(i.length){i.eq(0).is("tr")&&(i=i.find("td:not(.k-group-cell)")),i.filter(":visible");var a=[],s=this.columns.length,l=e._isLocked()&&xt(e.columns).length,c=!0;t.each(i,function(i,n){var o=(n=t(n)).closest("tr").index(),r=n.index();r-=n.prevAll(":hidden").length,l&&c&&(c=t.contains(e.lockedTable[0],n[0])),e._groups()&&c&&(r-=e._groups()),s>(r=c?r:r+l)&&(s=r);var u=n.text();a[o]||(a[o]=[]),a[o][r]=u});var u=a.length;a=t.each(a,function(t,e){e&&(a[t]=e.slice(s),u>t&&(u=t))}),t.each(a.slice(u),function(t,e){r+=e?e.join(n)+"\r\n":"\r\n"})}return r},clearArea:function(e){this.areaClipBoard&&e&&e.target===this.areaClipBoard[0]&&Wt(this.options.navigatable?t(this.current()).closest("table"):this.table,!0),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){this.hideMinScreenCols()&&(this.minScreenResizeHandler=k(this.hideMinScreenCols,this),t(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var t=this.columns,e=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(t,e)},_iterateMinScreenCols:function(t,i){for(var n=!1,o=0;o<t.length;o++){var r=t[o],a=r.minScreenWidth;a!==e&&null!==a&&(n=!0,a>i?this.hideColumn(r):this.showColumn(r)),!r.hidden&&r.columns&&(n=this._iterateMinScreenCols(r.columns,i)||n)}return n},_relatedRow:function(e){var i=this.lockedTable;if(e=t(e),!i)return e;var n=e.closest(this.table.add(this.lockedTable)),o=n.find(">tbody>tr").index(e);return(n=n[0]===this.table[0]?i:this.table).find(">tbody>tr").eq(o)},_relatedCell:function(e){var i=this.lockedTable;if(e=t(e),!i)return e;var n=e.closest(this.table.add(this.lockedTable)),o=n.find(">tbody>tr>td").index(e);return(n=n[0]===this.table[0]?i:this.table).find(">tbody>tr>td").index(o)},clearSelection:function(){this.selectable&&this.selectable.clear(),this._checkBoxSelection?this._deselectCheckRows(this.select()):(this.options.persistSelection?this._persistSelectedRows():this._selectedIds={},this.trigger(I))},select:function(e){var n=this,o=n.selectable,r=i.ui.Selectable.parseOptions(this.options.selectable).cell;return(e=n.table.add(n.lockedTable).find(e)).length?(o&&!o.options.multiple&&(o.clear(),e=e.first()),n._isLocked()&&(e=e.add(e.map(function(){return r?n._relatedCell(this):n._relatedRow(this)}))),void(o?o.value(e):(e.each(function(){t(this).addClass(O).find(P).prop("checked",!0).attr("aria-label","Deselect row").attr("aria-checked",!0)}),n.select().length===n.items().length&&n._toggleHeaderCheckState(!0),r||n._persistSelectedRows(),n.trigger(I)))):o?o.value():n.items().filter("."+O)},_toggleHeaderCheckState:function(t){t?this.thead.add(this.lockedHeader).find("tr "+P).prop("checked",!0).attr("aria-checked",!0).attr("aria-label","Deselect all rows"):this.thead.add(this.lockedHeader).find("tr "+P).prop("checked",!1).attr("aria-checked",!1).attr("aria-label","Select all rows")},_deselectCheckRows:function(e){var i=this;e=i.table.add(i.lockedTable).find(e),i._isLocked()&&(e=e.add(e.map(function(){return i._relatedRow(this)}))),e.each(function(){t(this).removeClass(O).find(P).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")}),i._toggleHeaderCheckState(!1),i.options.persistSelection?i._persistSelectedRows():i._selectedIds={},i.trigger(I)},_persistSelectedRows:function(){var t,e,i,n=this,o=n.items(),r=n.dataSource.options.schema,a={};if(r&&r.model&&r.model.id){i=r.model.id,n.select().each(function(){e=n.dataItem(this),a[e[i]]=!0});for(var s=0;s<o.length;s++)t=(e=n.dataItem(o[s]))[i],a[t]?n._selectedIds[t]=!0:delete n._selectedIds[t]}},selectedKeyNames:function(){var t=[];for(var e in this._selectedIds)t.push(e);return t.sort(),t},_updateCurrentAttr:function(e,i){var n=t(e).data("headerId");t(e).removeClass(D).closest("table").removeAttr("aria-activedescendant"),n?(n=n.replace(this._cellId,""),t(e).attr("id",n)):t(e).removeAttr("id"),i.data("headerId",i.attr("id")).attr("id",this._cellId).addClass(D).closest("table").attr("aria-activedescendant",this._cellId),this._current=i},_scrollCurrent:function(){var e=this._current,i=this.options.scrollable;if(e&&i){var n=e.parent(),o=n.closest("table").parent(),r=o.is(".k-grid-content-locked,.k-grid-header-locked"),a=o.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),s=t(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0];if(a)if(i.virtual){var l=Math.max(v(n[0],this._items(n.parent())),0);this._rowVirtualIndex=this.virtualScrollable.itemIndex(l),this.virtualScrollable.scrollIntoView(n)}else this._scrollTo(this._relatedRow(n)[0],s);this.lockedContent&&(this.lockedContent[0].scrollTop=s.scrollTop),r||this._scrollTo(e[0],s)}},current:function(t){return this._setCurrent(t,!0)},_setCurrent:function(e,i){var n=this._current;return(e=t(e)).length&&(n&&n[0]===e[0]||(this._updateCurrentAttr(n,e),this._scrollCurrent(),i||this.trigger("navigate",{element:e}))),e&&e.length&&(this._lastCellIndex=e.parent().children(S).index(e)),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(D),this._current=null)},_scrollTo:function(e,n){var o=e.tagName.toLowerCase(),r="td"===o||"th"===o,a=e[r?"offsetLeft":"offsetTop"],s=e[r?"offsetWidth":"offsetHeight"],l=n[r?"scrollLeft":"scrollTop"],c=n[r?"clientWidth":"clientHeight"],u=a+s,h=0,d=0,f=0;if(U&&r){var p=t(e).closest("table")[0];W.msie?d=p.offsetLeft:W.mozilla&&(f=p.offsetLeft-i.support.scrollbar())}h=(l=Math.abs(l+d-f))>a?a:u>l+c?s<=c?u-c:a:l,h=Math.abs(h+d)+f,n[r?"scrollLeft":"scrollTop"]=h},_navigatable:function(){if(this.options.navigatable){var e=this.table.add(this.lockedTable),n=this.thead.parent().add(t(">table",this.lockedHeader)),o=e;this.options.scrollable&&(o=o.add(n),n.attr("tabIndex",-1)),this._navigatableTables=o,o.off("mousedown"+E+" focus"+E+" focusout"+E+" keydown"+E),n.on("keydown"+E,k(this._openHeaderMenu,this)).find("a.k-link").attr("tabIndex",-1),e.attr("tabIndex",x.max(e.attr("tabIndex")||0,0)).on("mousedown"+E+" keydown"+E,".k-detail-cell",function(t){t.target!==t.currentTarget&&t.stopImmediatePropagation()}),o.on(i.support.touch?"touchstart"+E:"mousedown"+E,C+">"+A,k(Yt,this)).on("focus"+E,k(this._tableFocus,this)).on("focusout"+E,k(this._tableBlur,this)).on("keydown"+E,k(this._tableKeyDown,this))}},_openHeaderMenu:function(t){t.altKey&&t.keyCode==h.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),t.stopImmediatePropagation())},_setTabIndex:function(t){this._navigatableTables.attr("tabIndex",-1),t.attr("tabIndex",0)},_tableFocus:function(e){var i=this.current(),n=t(e.currentTarget);i&&i.is(":visible")?i.addClass(D):this._setCurrent(n.find(M)),this._setTabIndex(n)},_tableBlur:function(){var t=this.current();t&&t.removeClass(D)},_tableKeyDown:function(e){var i=this.current(),n=this.virtualScrollable&&this.virtualScrollable.fetching(),o=t(e.target),r=!e.isDefaultPrevented()&&!o.is(":button,a,:input,a>.k-icon");if(n)e.preventDefault();else if((i=i||t(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(M)).length){var a=!1;r&&e.keyCode==h.UP&&(a=this._moveUp(i,e.shiftKey)),r&&e.keyCode==h.DOWN&&(a=this._moveDown(i,e.shiftKey)),r&&e.keyCode==(U?h.LEFT:h.RIGHT)&&(a=this._moveRight(i,e.altKey,e.shiftKey,e.ctrlKey,e.currentTarget)),r&&e.keyCode==(U?h.RIGHT:h.LEFT)&&(a=this._moveLeft(i,e.altKey,e.shiftKey,e.ctrlKey,e.currentTarget)),r&&e.keyCode==h.PAGEDOWN&&(a=this._handlePageDown()),r&&e.keyCode==h.PAGEUP&&(a=this._handlePageUp()),r&&e.keyCode==h.HOME&&(a=this._handleHome(i,e.ctrlKey)),r&&e.keyCode==h.END&&(a=this._handleEnd(i,e.ctrlKey)),e.keyCode!=h.ENTER&&e.keyCode!=h.F2||(a=this._handleEnterKey(i,e.currentTarget,o)),e.keyCode==h.ESC&&(a=this._handleEscKey(i,e.currentTarget)),e.keyCode==h.TAB&&(a=this._handleTabKey(i,e.currentTarget,e.shiftKey)),a&&(e.preventDefault(),e.stopPropagation())}},_moveLeft:function(e,i,n,o,r){var a,s,l=e.parent(),c=l.parent();return i?this.collapseRow(l):o&&e.is(".k-header")&&this.options.reorderable?this._moveColumn(e,!0):(s=c.find(C).index(l),(a=this._prevHorizontalCell(c,e,s))[0]||(n?this.lockedTable?(a=this._relatedRow(l),t.contains(this.lockedTable[0],l[0])&&(a=a.prevAll(T+":first")),a=a.children(S+":last")):a=this._tabNext(e,r,!0):(c=this._horizontalContainer(c),(a=this._prevHorizontalCell(c,e,s))[0]!==e[0]&&Wt(c.parent(),!0))),this._setCurrent(a)),!0},_moveRight:function(e,i,n,o,r){var a,s,l=e.parent(),c=l.parent();return i?this.expandRow(l):o&&e.is(".k-header")&&this.options.reorderable?this._moveColumn(e,!1):(s=c.find(C).index(l),(a=this._nextHorizontalCell(c,e,s))[0]||(n?this.lockedTable?(a=this._relatedRow(l),t.contains(this.table[0],l[0])&&(a=a.nextAll(T+":first")),a=a.children(S+":first")):a=this._tabNext(e,r,!1):(c=this._horizontalContainer(c,!0),(a=this._nextHorizontalCell(c,e,s))[0]!==e[0]&&Wt(c.parent(),!0))),this._setCurrent(a)),!0},_moveUp:function(t,e){var i,n=t.parent().parent();e?(i=(i=t.parent()).prevAll(T+":first"),i=t.parent().is(T)?i.children().eq(t.index()):i.children(S+":last")):(i=this._prevVerticalCell(n,t))[0]||(this._lastCellIndex=0,n=this._verticalContainer(n,!0),(i=this._prevVerticalCell(n,t))[0]&&Wt(n.parent(),!0));var o=this._lastCellIndex||0;return this._setCurrent(i),this._lastCellIndex=o,!0},_moveDown:function(t,e){var i,n=t.parent().parent();e?(i=(i=t.parent()).nextAll(T+":first"),i=t.parent().is(T)?i.children().eq(t.index()):i.children(S+":first")):(i=this._nextVerticalCell(n,t))[0]||(this._lastCellIndex=0,n=this._verticalContainer(n),(i=this._nextVerticalCell(n,t))[0]&&Wt(n.parent(),!0));var o=this._lastCellIndex||0;return this._setCurrent(i),this._lastCellIndex=o,!0},_moveColumn:function(e,i){var n=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible"),o=ct(gt(this.columns)),r=n.index(t(e)),a=i?-1:1,s=o[r],l=vt(o,this.columns,r,r+a);l>=0&&this.reorderColumn(l,s,i)},_handleHome:function(t,e){var i,n=t.parent(),o=n.parent(),r=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],a=o[0]===this.tbody[0];if(e?i=this.lockedTable?this.lockedTable.find(j+">"+A+":first"):this.table.find(j+">"+A+":first"):(a||r)&&(a&&this.lockedTable&&(n=this._relatedRow(n)),i=n.children(S+":first")),i&&i.length)return this._setCurrent(i),!0},_handleEnd:function(t,e){var i,n=t.parent(),o=n.parent(),r=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],a=o[0]===this.tbody[0];if(e?i=this.table.find("tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible:last>"+A+":last"):(a||r)&&(!a&&this.lockedTable&&(n=this._relatedRow(n)),i=n.children(S+":last")),i&&i.length)return this._setCurrent(i),!0},_handlePageDown:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()-1),!0)},_handleTabKey:function(e,i,n){var o;return!(!this.options.editable||"incell"!=this._editMode()||e.is("th")||((o=t(s()).closest(".k-edit-cell"))[0]&&o[0]!==e[0]&&(e=o),!(o=this._tabNext(e,i,n)).length||(this._handleEditing(e,o,o.closest("table")),0)))},_handleEscKey:function(e,i){var n=s(),o="incell"==this._editMode();if(!function(t){return t&&(t.hasClass("k-edit-cell")||t.parent().hasClass("k-grid-edit-row"))}(e))return!!e.has(n).length&&(Wt(i,!0),!0);if(o)this.closeCell(!0);else{var r=t(e).parent().index();n&&n.blur(),this.cancelRow(!0),r>=0&&this._setCurrent(this.items().eq(r).children(A).first())}return W.msie&&W.version<9&&document.body.focus(),Wt(i,!0),!0},_toggleCurrent:function(t,e){var i=t.parent();return i.is(".k-grouping-row")?(i.find(".k-icon:first").click(),!0):!(e||!i.is(".k-master-row")||(i.find(".k-icon:first").click(),0))},_handleEnterKey:function(e,i,n){var o,r=this.options.editable&&!1!==this.options.editable.update,a=n.closest("[role=gridcell]");if(n.is("table")||t.contains(e[0],n[0])||(e=a),e.is("th"))return(o=e.find(".k-link")).length?o.click():e.find(P).focus(),!0;if(this._toggleCurrent(e,r))return!0;var s=e.find(":kendoFocusable:first");return s[0]&&!e.hasClass("k-edit-cell")&&e.hasClass("k-state-focused")?(s.focus(),!0):!(!r||n.is(":button,.k-button,textarea")||(a[0]||(a=e),this._handleEditing(a,!1,i),0))},_nextHorizontalCell:function(t,e,i){var n=e.nextAll(S);if(!n.length){var o=t.find(C);if(-1==o.index(e.parent())){if(e.hasClass("k-header")){var r=[];return _t([xt(this.columns)[0]],zt(o.eq(0).children(":visible").first()),r,0,0),r[i]?r[i][0]:e}return e.parent().hasClass("k-filter-row")?o.last().children(S).first():o.eq(i).children(S).first()}}return n.first()},_prevHorizontalCell:function(t,e,i){var n=e.prevAll(S);if(!n.length){var o=t.find(C);if(-1==o.index(e.parent())){if(e.hasClass("k-header")){var r=[],a=xt(this.columns);return _t([a[a.length-1]],zt(o.eq(0).children().last()),r,0,0),r[i]?r[i][0]:e}return e.parent().hasClass("k-filter-row")?o.last().children(S).last():o.eq(i).children(S).last()}}return n.first()},_currentDataIndex:function(t,i){var n=i.attr("data-index");if(!n)return e;var o=xt(this.columns).length;return o&&!t.closest("div").hasClass("k-grid-content-locked")[0]?n-o:n},_prevVerticalCell:function(e,i){var n,o=i.parent(),r=e.children(C),a=r.index(o),s=this._currentDataIndex(e,i);if(s||i.hasClass("k-header"))return(n=function e(i){var n=i.closest("table"),o=t().add(i),r=i.closest("tr"),a=n.find("tr:not(.k-filter-row)"),s=a.index(r);if(s>0){for(var l=a.eq(s-1).find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!t(this).attr("rowspan")}),c=0,u=r.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(i),h=i.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1}),d=0;d<h.length;d++)c+=h[d].colSpan||1;for(u+=Math.max(c-1,0),c=0,d=0;d<l.length;d++){var f=l.eq(d);if(f.attr("data-colspan")?c+=f[0].getAttribute("data-colspan"):c+=1,u>=d&&u<c){o=e(f).add(o);break}}}return o}(i)).eq(n.length-2);if(s=Math.max(o.children(S).index(i),this._lastCellIndex||0),o.hasClass("k-filter-row"))return Mt(e).filter(st).eq(s);if(-1==a){if(!(o=e.find("tr.k-filter-row:visible"))[0])return Mt(e).filter(st).eq(s)}else o=0===a?t():r.eq(a-1);return(n=o.children(S)).length>s?n.eq(s):n.eq(0)},_nextVerticalCell:function(t,i){var n,o=i.parent(),r=t.children(C),a=r.index(o),s=this._currentDataIndex(t,i);if(-1!=a&&s===e&&i.hasClass("k-header"))return zt(i).eq(1);s=s?parseInt(s,10):o.children(S).index(i),s=Math.max(s,this._lastCellIndex||0),o=-1==a?r.eq(0):r.eq(a+i[0].rowSpan);var l=s;if(this._currentDataIndex(t,i)!==e)for(var c=o.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),u=c.filter(":hidden"),h=0,d=u.length;h<d;h++)c.index(u[h])<s&&l--;return s=l,(n=o.children(S)).length>s?n.eq(s):n.eq(0)},_verticalContainer:function(t,e){var i=t.parent(),n=this._navigatableTables.length,o=Math.floor(n/2),r=v(i[0],this._navigatableTables);return e&&(o*=-1),((r+=o)>=0||r<n)&&(i=this._navigatableTables.eq(r)),i.find(e?"thead":"tbody")},_horizontalContainer:function(t,e){var i=this._navigatableTables.length;if(i<=2)return t;var n=t.parent(),o=v(n[0],this._navigatableTables);return o+=e?1:-1,!e||2!=o&&o!=i?!e&&(1==o||o<0)?t:this._navigatableTables.eq(o).find("thead, tbody"):t},_tabNext:function(t,e,i){var n=!0,o=i?t.prevAll(S+":first"):t.nextAll(":visible:first");return o.length||(o=t.parent(),this.lockedTable&&(n=i&&e==this.lockedTable[0]||!i&&e==this.table[0],o=this._relatedRow(o)),n&&(o=o[i?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),o=o.children(S+(i?":last":":first"))),o},_handleEditing:function(e,i,n){var o,r,a=t(s()),l=this._editMode(),c=W.msie,u=c&&W.version<9,h=this._editContainer,d=this.options.editable&&!1!==this.options.editable.update;if(n=t(n),r="incell"==l?e.hasClass("k-edit-cell"):e.parent().hasClass("k-grid-edit-row"),this.editable){if(t.contains(h[0],a[0])&&(W.opera||u?a.blur().change().triggerHandler("blur"):(a.blur(),c&&a.blur())),!this.editable)return void Wt(n);if(!this.editable.end())return"incell"==l?this._setCurrent(h):this._setCurrent(h.children().filter(S).first()),void((o=h.find(":kendoFocusable:first")[0])&&o.focus());"incell"==l?this.closeCell():(this.saveRow(),r=!0)}i&&this._setCurrent(i),u&&document.body.focus(),Wt(n,!0),d&&(!r&&!i||i)&&("incell"==l?this.editCell(this.current()):this.editRow(this.current().parent()))},_wrapper:function(){var t=this.table,e=this.options.height,i=this.element;i.is("div")||(i=i.wrap("<div/>").parent()),this.wrapper=i.addClass("k-grid k-widget k-display-block"),e&&(this.wrapper.css("height",e),t.css("height","auto")),this._initMobile()},_initMobile:function(){var e=this.options,n=this;if(this._isMobile=!0===e.mobile&&i.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile,this._isMobile){var o=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+i.ns+'stretch="true" data-'+i.ns+'role="view" data-'+i.ns+'init-widgets="false"></div>').parent();this.pane=i.mobile.ui.Pane.wrap(o),this.view=this.pane.view(),this._actionSheetPopupOptions=t(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},e.height&&this.pane.element.parent().css("height",e.height),this._editAnimation="slide",this.view.bind("show",function(){n._isLocked()&&(n._updateTablesWidth(),n._applyLockedContainersWidth(),n._syncLockedContentHeight(),n._syncLockedHeaderHeight(),n._syncLockedFooterHeight())})}},_tbody:function(){var e,i=this.table;(e=i.find(">tbody")).length||(e=t("<tbody/>").appendTo(i)),this.tbody=e.attr("role","rowgroup")},_scrollable:function(){var e,n,o,r=this,a=r.options.scrollable,s=!0!==a&&a.virtual&&!r.virtualScrollable,l=!i.support.kineticScrollNeeded||s?i.support.scrollbar():0;if(a){(e=r.wrapper.children(".k-grid-header"))[0]||(e=t('<div class="k-grid-header" />').insertBefore(r.table)),e.css(U?"padding-left":"padding-right",a.virtual?l+1:l),n=t('<table role="grid" />'),G&&n.attr("cellspacing",0),n.width(r.table[0].style.width),n.append(r.thead),e.empty().append(t('<div class="k-grid-header-wrap k-auto-scrollable" />').append(n)),r.content=r.table.parent(),r.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(r.content=r.content.parent()),r.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(r.content=r.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),s&&r._createVirtualScrollable(),o=e.children(".k-grid-header-wrap"),r.scrollables=o.add(r.content);var c=r.wrapper.find(".k-grid-footer");if(c.length&&(r.scrollables=r.scrollables.add(c.children(".k-grid-footer-wrap"))),o.unbind("scroll"+E).bind("scroll"+E,function(t){r._scrollLeft!==this.scrollLeft&&r.scrollables.not(t.currentTarget).scrollLeft(this.scrollLeft)}),a.virtual)r.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+E).bind("scroll"+E,function(){r.scrollables.scrollLeft(this.scrollLeft),r.lockedContent&&(r.lockedContent[0].scrollTop=this.scrollTop)});else{var u=a.endless,h=r.dataSource.options.pageSize;u&&(r._endlessPageSize=h),r.content.unbind("scroll"+E).bind("scroll"+E,function(t){r._scrollLeft=this.scrollLeft,r.scrollables.not(t.currentTarget).scrollLeft(r._scrollLeft),r.lockedContent&&t.currentTarget==r.content[0]&&(r.lockedContent[0].scrollTop=this.scrollTop),u&&this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!r._endlessFetchInProgress&&r._endlessPageSize<r.dataSource.total()&&(r._skipRerenderItemsCount=r._endlessPageSize,r._endlessPageSize=r._endlessPageSize+h,r.dataSource.options.endless=!0,r._endlessFetchInProgress=!0,r.dataSource.pageSize(r._endlessPageSize))});var d=r.content.data("kendoTouchScroller");d&&d.destroy(),(d=i.touchScroller(r.content))&&d.movable&&(r.touchScroller=d,d.movable.bind("change",function(t){r.scrollables.scrollLeft(-t.sender.x),r.lockedContent&&r.lockedContent.scrollTop(-t.sender.y)}),r.one("dataBound",function(t){t.sender.wrapper.addClass("k-grid-backface")}))}}},_createVirtualScrollable:function(){var t=this;t.virtualScrollable&&t.virtualScrollable.destroy(),t.virtualScrollable=new K(t.content,{dataSource:t.dataSource,itemHeight:function(){return t._averageRowHeight()},page:function(){t._restoreEditableState()},scroll:function(){t._focusEditable()}}),t.virtualScrollable.bind("paging",k(t._onVirtualPaging,t))},_onVirtualPaging:function(){this._cacheEditableState(),this._isVirtualIncellEditable()&&(this._shouldClearEditableState=!1,this.closeCell(),this._shouldClearEditableState=!0)},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&"inline"===this._editMode()},_isVirtualIncellEditable:function(){return this.virtualScrollable&&"incell"===this._editMode()},_isVirtualPopupEditable:function(){return this.virtualScrollable&&"popup"===this._editMode()},_scrollVirtualWrapper:function(){var t=this.virtualScrollable;(this._isVirtualInlineEditable()||this._isVirtualIncellEditable())&&(t._isScrolledToBottom()?t._scrollWrapperToBottom():t._isScrolledToTop()&&t._scrollWrapperToTop())},_scrollVirtualWrapperOnColumnResize:function(){var t=this.virtualScrollable;t&&t._scrollWrapperOnColumnResize()},_restoreEditableState:function(){var e,i,n=this._editableState||{},o=n.model,r=this.dataSource,a=this._isVirtualInlineEditable(),s=this._isVirtualIncellEditable();(a||s)&&o&&r._getByUid(o.uid,r.view())&&(a?(this._shouldClearEditableState=!1,this.editRow(o),this._focusEditable()):s&&(e=this.tbody.children(Z("uid",o.uid)),(i=t(e).children(Z("field",n.field)))[0]&&(this._shouldClearEditableState=!1,this.editCell(i),this._focusEditable()))),this._shouldClearEditableState=!0},_focusEditable:function(){var t=(this._editableState||{}).field,e=this._editContainer;e&&!_(e[0],s())&&this._canFocusEditable()&&(this._isVirtualInlineEditable()?e.find(Z("container-for",t)).find(":kendoFocusable").eq(0).focus():this._isVirtualIncellEditable()&&e.find(":kendoFocusable").eq(0).focus())},_canFocusEditable:function(){return(this._isVirtualIncellEditable()||this._isVirtualInlineEditable())&&this.virtualScrollable._isElementVisible(this._editContainer)},_cacheEditableState:function(){var e,n,o=this._editContainer,r=o?this._modelForContainer(o):null,a=this._isVirtualInlineEditable(),l=this._isVirtualIncellEditable();(a||l)&&r&&(this._clearEditableState(),e=t(s()),o&&e[0]&&_(o[0],e[0])&&(e.change(),(n=i.widgetInstance(e,i.ui))&&y(n.value)&&e.is("input")&&(n.value(e.val()),n.trigger(I))),a?this._editableState={model:r,field:e.closest("["+i.attr("container-for")+"]").attr(i.attr("container-for"))}:l&&(this._editableState={model:r,field:o.attr(i.attr("field"))}))},_clearEditableState:function(){this.virtualScrollable&&(this._editableState=null)},_destroyVirtualScrollable:function(){this._clearEditableState(),this.virtualScrollable&&this.virtualScrollable.element&&this.virtualScrollable.destroy(),this.virtualScrollable=null},_renderNoRecordsContent:function(){if(this.options.noRecords){var e=this.table.parent().children(".k-grid-norecords");e.length&&(this.angular("cleanup",function(){return{elements:e.get()}}),e.remove()),this.dataSource&&this.dataSource.view().length||(e=t(this.noRecordsTemplate({})).insertAfter(this.table),this.angular("compile",function(){return{elements:e.get(),data:[{}]}}))}},_setContentWidth:function(e){var i,n=this.resizable;this.options.scrollable&&this.wrapper.is(":visible")&&(i=this.table.parent().children(".k-grid-content-expander"),this._setContentWidthHandler=k(this._setContentWidth,this),this.dataSource&&this.dataSource.view().length?i[0]&&(i.remove(),n&&n.unbind("resize",this._setContentWidthHandler)):(i[0]||(i=t('<div class="k-grid-content-expander"></div>').appendTo(this.table.parent()),n&&n.bind("resize",this._setContentWidthHandler)),this.thead&&(i.width(this.thead.width()),isNaN(parseFloat(e,10))||this.content.scrollLeft(e))),this._applyLockedContainersWidth(),this.lockedHeader&&0===this.table[0].clientWidth&&(this.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var t,e=this.thead.parent(),n=e.parent(),o=this.wrapper[0].clientWidth,r=this._groups(),a=i.support.scrollbar(),s=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),l=e.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),u=yt(s),h=yt(l);r>0&&(u+=c(this.lockedHeader.find(".k-group-cell:first"))*r),u>=o&&(u=o-3*a),this.lockedHeader.add(this.lockedContent).width(u),n[0].style.width=n.parent().width()-u-2+"px",e.add(this.table).width(h),this.virtualScrollable&&!Y&&(o-=a),this.content[0].style.width=o-u-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(u),(t=this.footer.find(".k-grid-footer-wrap"))[0].style.width=n[0].clientWidth+"px",t.children().first().width(h))}},_setContentHeight:function(){var t=this.options,e=this.wrapper.innerHeight(),n=this.wrapper.children(".k-grid-header"),o=i.support.scrollbar(),r=(t.scrollable||{}).height;t.scrollable&&this.wrapper.is(":visible")&&(e-=u(n),this.pager&&this.pager.element.is(":visible")&&(e-=u(this.pager.element)),t.groupable&&(e-=u(this.wrapper.children(".k-grouping-header"))),t.toolbar&&(e-=u(this.wrapper.children(".k-grid-toolbar"))),this.footerTemplate&&(e-=u(this.wrapper.children(".k-grid-footer"))),function(t){var e;return!!t[0].style.height||(e=t.height(),t.height("auto"),e!=t.height()?(t.height(""),!0):(t.height(""),!1))}(this.wrapper)?e>2*o?(this.lockedContent&&(o=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?o:0,this.lockedContent.height(e-o)),this.content.height(e)):this.content.height(2*o+1):r&&this.content.css("height",r))},_averageRowHeight:function(){var t=this._items(this.tbody).length,e=this._rowHeight;if(0===t)return e;this._rowHeight||(this._rowHeight=e=u(this.table)/t,this._sum=e,this._measures=1);var i=u(this.table)/t;return e!==i&&(this._measures++,this._sum+=i,this._rowHeight=this._sum/this._measures),e},_dataSource:function(){var t,i=this.options,n=i.dataSource;n=g(n)?{data:n}:n,d(n)&&(f(n,{table:this.table,fields:this.columns}),t=i.pageable,d(t)&&t.pageSize!==e&&(n.pageSize=t.pageSize)),this.dataSource&&this._refreshHandler?this.dataSource.unbind(I,this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=k(this.refresh,this),this._progressHandler=k(this._requestStart,this),this._errorHandler=k(this._error,this)),this.dataSource=o.create(n).bind(I,this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(e){var o,r,a,s,l,c,u,h,d,f=this,p=f.tbody,m=e.model,g=f.tbody.find("tr["+i.attr("uid")+"="+m.uid+"]"),v=g.hasClass("k-alt"),b=f._items(p).index(g),k=f.lockedContent;if(k&&(o=f._relatedRow(g)),g.add(o).children(".k-edit-cell").length&&!f.options.rowTemplate)g.add(o).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){r=t(this),(a=jt(f.columns)[f.cellIndex(r)]).field===e.field&&(r.hasClass("k-edit-cell")?r.addClass("k-dirty-cell"):f._displayCell(r,a,m))});else if(!g.hasClass("k-grid-edit-row")){c=t().add(g),k&&(s=(v?f.lockedAltRowTemplate:f.lockedRowTemplate)(m),c=c.add(o),o.replaceWith(s)),f.angular("cleanup",function(){return{elements:c.get()}}),s=(v?f.altRowTemplate:f.rowTemplate)(m),g.replaceWith(s),s=f._items(p).eq(b);var y=[{dataItem:m}];for(k&&(g=g.add(o),o=f._relatedRow(s)[0],Ht(s[0],o),s=s.add(o),y.push({dataItem:m})),f.angular("compile",function(){return{elements:s.get(),data:y}}),((l=f.options.selectable)||f._checkBoxSelection)&&g.hasClass("k-state-selected")&&f.select(s),h=c.children(":not(.k-group-cell,.k-hierarchy-cell)"),u=s.children(":not(.k-group-cell,.k-hierarchy-cell)"),b=0,d=f.columns.length;b<d;b++)a=f.columns[b],r=u.eq(b),l&&h.eq(b).hasClass("k-state-selected")&&r.addClass("k-state-selected");f.trigger("itemChange",{item:s,data:m,ns:n})}},_pageable:function(){var e,n=this,o=n.options.pageable;o&&((e=n.wrapper.children("div.k-grid-pager")).length||(e=t('<div class="k-pager-wrap k-grid-pager"/>').appendTo(n.wrapper)),n.pager&&n.pager.destroy(),"object"==typeof o&&o instanceof i.ui.Pager?n.pager=o:n.pager=new i.ui.Pager(e,f({},o,{dataSource:n.dataSource})),n.pager.bind("pageChange",function(t){n.trigger("page",{page:t.index})&&t.preventDefault()}))},_footer:function(){var e,i=this,n=i.dataSource.aggregates(),o="",r=i.footerTemplate,a=i.options,s=i.footer||i.wrapper.find(".k-grid-footer");if(r){if(o=t(i._wrapFooter(r(n))),s.length){var l=o;i.angular("cleanup",function(){return{elements:s.get()}}),s.replaceWith(l),s=i.footer=l}else s=a.scrollable?i.footer=a.pageable?o.insertBefore(i.wrapper.children("div.k-grid-pager")):o.appendTo(i.wrapper):i.footer=o.insertBefore(i.tbody);i.angular("compile",function(){return{elements:s.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:p(i.columns,function(t){return{column:t,aggregate:n[t.field]}})}})}else s&&!i.footer&&(i.footer=s);if(s.length&&(a.scrollable&&(e=s.attr("tabindex",-1).children(".k-grid-footer-wrap"),i.scrollables=t(i.scrollables.filter(function(){return!t(this).is(".k-grid-footer-wrap")}).toArray()).add(e)),i._footerWidth&&s.find("table").css("width",i._footerWidth),e)){var c=i.content.scrollLeft();!0!==a.scrollable&&a.scrollable.virtual&&(c=i.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),e.scrollLeft(c)}i.lockedContent&&(i._appendLockedColumnFooter(),i._applyLockedContainersWidth(),i._syncLockedFooterHeight())},_wrapFooter:function(e){var n="",o=i.support.mobileOS?0:i.support.scrollbar();return this.options.scrollable?(n=t('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(G?' cellspacing="0"':"")+"><tbody>"+e+"</tbody></table></div></div>"),this._appendCols(n.find("table")),n.css(U?"padding-left":"padding-right",o),n):'<tfoot class="k-grid-footer">'+e+"</tfoot>"},_columnMenu:function(){var t,n,o,r,a,s,l=this,c=jt(l.columns),u=l.options,h=u.columnMenu,d=m(l.columns,function(t){return t.columns!==e}).length>0,p=this._isMobile,g=function(t){l.trigger("columnMenuInit",{field:t.field,container:t.container})},v=function(t){l.trigger("columnMenuOpen",{field:t.field,container:t.container})},b=function(t){Wt(t.closest("table"),!0)},k=function(t){l.trigger("sort",{sort:t.sort})?t.preventDefault():(l._clearEditableState(),l.dataSource.options.endless&&(l.dataSource.options.endless=null,l._endlessPageSize=l.dataSource.options.pageSize,l.dataSource.pageSize(l.dataSource.options.pageSize)))},y=function(t){l.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(l._clearEditableState(),l.dataSource.options.endless&&(l.dataSource.options.endless=null,l._endlessPageSize=l.dataSource.options.pageSize,l.dataSource.pageSize(l.dataSource.options.pageSize)))},w=u.$angular;if(h){"boolean"==typeof h&&(h={});for(var _=0,x=(s=Mt(l.thead)).length;_<x;_++){n=c[_];var S=s.eq(_);n.command||!n.field&&!S.attr("data-"+i.ns+"field")||((t=S.data("kendoColumnMenu"))&&t.destroy(),r=!1!==n.sortable&&!1!==h.sortable&&!1!==u.sortable&&f({},u.sortable,{compare:(n.sortable||{}).compare}),a=!(!u.filterable||!1===n.filterable||!1===h.filterable)&&f({pane:l.pane},u.filterable,n.filterable),n.filterable&&n.filterable.dataSource&&(a.forceUnique=!1,a.checkSource=n.filterable.dataSource),a&&(a.format=n.format),o={dataSource:l.dataSource,values:n.values,columns:h.columns,sortable:r,filterable:a,messages:h.messages,owner:l,closeCallback:b,init:g,open:v,pane:l.pane,sort:k,filtering:y,filter:p?":not(.k-column-active)":"",lockedColumns:!d&&!1!==n.lockable&&xt(c).length>0},w&&(o.$angular=w),S.kendoColumnMenu(o))}}},_headerCells:function(){return this.thead.find("th").filter(function(){var e=t(this);return!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")})},_filterable:function(){var t,e,n,o=this,r=jt(o.columns),a=function(t){o.trigger("filterMenuInit",{field:t.field,container:t.container})},s=function(t){Wt(t.closest("table"),!0)},l=function(t){o.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(o._clearEditableState(),o.dataSource.options.endless&&(o.dataSource.options.endless=null,o._endlessPageSize=o.dataSource.options.pageSize,o.dataSource.pageSize(o.dataSource.options.pageSize)))},c=function(t){o.trigger("filterMenuOpen",{field:t.field,container:t.container})},u=o.options.filterable;if(u&&typeof u.mode==L&&-1==u.mode.indexOf("menu")&&(u=!1),u&&!o.options.columnMenu)for(var h=0,d=(e=Mt(o.thead)).length;h<d;h++)if(n=e.eq(h),!1!==r[h].filterable&&!r[h].command&&(r[h].field||n.attr("data-"+i.ns+"field"))){(t=n.data("kendoFilterMenu"))&&t.destroy(),(t=n.data("kendoFilterMultiCheck"))&&t.destroy();var p=r[h].filterable,m=f({},u,p,{dataSource:o.dataSource,values:r[h].values,format:r[h].format,closeCallback:s,title:r[h].title||r[h].field,init:a,open:c,pane:o.pane,change:l});p&&p.messages&&(m.messages=f(!0,{},u.messages,p.messages)),p&&p.dataSource&&(m.forceUnique=!1,m.checkSource=p.dataSource),p&&p.multi?n.kendoFilterMultiCheck(m):n.kendoFilterMenu(m)}},_filterRow:function(){var e=this;if(e._hasFilterRow()){var n,r=e.options.$angular,a=jt(e.columns),s=e.options.filterable,l=e.thead.find(".k-filter-row"),c=function(t){e.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(e._clearEditableState(),e.dataSource.options.endless&&(e.dataSource.options.endless=null,e._endlessPageSize=e.dataSource.options.pageSize,e.dataSource.pageSize(e.dataSource.options.pageSize)))};this._updateHeader(this.dataSource.group().length);for(var u=0;u<a.length;u++){var h,d=a[u],p=e.options.filterable.operators,m=!1,g=t("<th/>"),v=d.field;if(d.hidden&&g.hide(),l.append(g),v&&!1!==d.filterable){var b=d.filterable&&d.filterable.cell||{};(h=e.options.dataSource)instanceof o&&(h=e.options.dataSource.options);var k=f(!0,{},s.messages);if(d.filterable&&f(!0,k,d.filterable.messages),!1===b.enabled){g.html("&nbsp;");continue}b.dataSource&&(h=b.dataSource,m=!0),d.filterable&&d.filterable.operators&&(p=d.filterable.operators),n={column:d,dataSource:e.dataSource,suggestDataSource:h,customDataSource:m,field:v,messages:k,values:d.values,template:b.template,delay:b.delay,inputWidth:b.inputWidth,suggestionOperator:b.suggestionOperator,minLength:b.minLength,dataTextField:b.dataTextField,operator:b.operator,operators:p,showOperators:b.showOperators,change:c},r&&(n.$angular=r),t("<span/>").attr(i.attr("field"),v).appendTo(g).kendoFilterCell(n)}else g.html("&nbsp;")}}},_sortable:function(){var t,e,n,o=this,r=jt(o.columns),a=o.options.sortable,s=function(t){o.trigger("sort",{sort:t.sort})?t.preventDefault():o._clearEditableState()};if(a){for(var l=Mt(o.thead),c=0,u=l.length;c<u;c++)!1!==(t=r[c]).sortable&&!t.command&&t.field&&((e=(n=l.eq(c)).data("kendoColumnSorter"))&&e.destroy(),n.attr("data-"+i.ns+"field",t.field).kendoColumnSorter(f({},a,t.sortable,{dataSource:o.dataSource,aria:!0,filter:":not(.k-column-active)",change:s})));l=null}},_columns:function(e){var n,o,r,a=this.table,s=a.find("col"),l=this.element.find("thead:first th[data-index]"),c=this.options.dataSource;if(e=e.length?e:p(a.find("th"),function(e,n){var o=(e=t(e)).attr(i.attr("sortable")),r=e.attr(i.attr("filterable")),a=e.attr(i.attr("type")),l=e.attr(i.attr("groupable")),c=e.attr(i.attr("field")),u=e.attr(i.attr("title")),h=e.attr(i.attr("menu"));return c||(c=e.text().replace(/\s|[^A-z0-9]/g,"")),{field:c,type:a,title:u,sortable:"false"!==o,filterable:"false"!==r,groupable:"false"!==l,menu:h,template:e.attr(i.attr("template")),width:s.eq(n).css("width")}}),n=!(this.table.find("tbody tr").length>0&&(!c||!c.transport)),this.options.scrollable){var u=e;if(o=xt(e),e=St(e),o.length>0&&0===e.length)throw new Error("There should be at least one non locked column");!function(t,e){var i,n,o=0,r=t.find("th:not(.k-group-cell)");for(i=0,n=e.length;i<n;i++)e[i].locked&&(r.eq(i).insertBefore(r.eq(o)),r=t.find("th:not(.k-group-cell)"),o++)}(this.element.find("tr:has(th):first"),u),e=o.concat(e)}this.columns=function t(e,n,o){return p(e,function(e){var r;lt(e=typeof e===L?{field:e}:e)&&!o||(e.attributes=It(e.attributes),e.footerAttributes=It(e.footerAttributes),e.headerAttributes=It(e.headerAttributes),r=!0),e.columns&&(e.columns=t(e.columns,n,r));var a=i.guid();return e.headerAttributes=f({id:a},e.headerAttributes),f({encoded:n,hidden:r},e)})}(e,n),l.length&&this.columns.length&&(r=jt(this.columns),p(l,function(e){var n=(e=t(e)).attr("id"),o=i.parseInt(e.attr("data-index"));n&&(r[o].headerAttributes=f(r[o].headerAttributes,{id:n}))})),t.grep(jt(this.columns),function(t){return t.selectable}).length&&(this._selectedIds={},this._checkBoxSelection=!0,this.wrapper.on(R+E,"tbody > tr "+P,k(this._checkboxClick,this)),this.wrapper.on(R+E,"thead > tr "+P,k(this._headerCheckboxClick,this)))},_headerCheckboxClick:function(e){var i=t(e.target),n=i.prop("checked"),o=i.closest(".k-grid.k-widget").getKendoGrid();this===o&&(n?this.select(o.items()):this.clearSelection())},_checkboxClick:function(e){var i=t(e.target).closest("tr"),n=!i.hasClass(O);this===i.closest(".k-grid.k-widget").getKendoGrid()&&(n?this.select(i):this._deselectCheckRows(i))},_groups:function(){var t=this.dataSource.group();return t?t.length:0},_tmpl:function(t,e,n,o){var r,a,s,l=f({},i.Template,this.options.templateSettings),c=l.paramName,u=e.length,h={storage:{},count:0},d=this._hasDetails(),p=[],m=this._groups(),g=this.options.navigatable,v=i.attr("field"),b="";if(!t){for(t="<tr",n&&p.push("k-alt"),d&&p.push("k-master-row"),p.length&&(t+=' class="'+p.join(" ")+'"'),u&&(t+=" "+i.attr("uid")+'="#='+i.expr("uid",l.paramName)+'#"'),t+=" role='row'>",m>0&&!o&&(t+=X(m)),d&&(t+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+N+'="Expand" tabindex="-1"></a></td>'),r=0;r<u;r++)(a=e[r]).template,s=a.field,"incell"===this._editMode()&&s&&(a.attributes=a.attributes||{},this.virtualScrollable&&(a.attributes[v]=s),b=this._dirtyCellTemplate(s,c),a.attributes.class=a.attributes.class||"",a.attributes.class.indexOf(b)<0&&(a.attributes.class+=b)),a.command&&(a.attributes=a.attributes||{},void 0!==a.attributes.class?a.attributes.class+=" k-command-cell":a.attributes.class="k-command-cell"),t+="<td"+J(a.attributes),g&&(t+=" aria-describedby='"+a.headerAttributes.id+"'"),t+=" role='gridcell'>",t+=this._cellTmpl(a,h),t+="</td>";t+="</tr>"}return t=i.template(t,l),h.count>0?k(t,h.storage):t},_dirtyCellTemplate:function(t,e){return t&&e?"#= "+e+" && "+e+".dirty && "+e+".dirtyFields && "+("["===t.charAt(0)?i.expr(t,e+".dirtyFields"):e+".dirtyFields['"+t+"']")+" ? ' k-dirty-cell' : '' #":""},_headerCellText:function(t){var e=f({},i.Template,this.options.templateSettings),n=t.headerTemplate,o=typeof n,r=t.title||t.field||"";return"function"===o?r=i.template(n,e)({}):o===L&&(r=n),r},_cellTmpl:function(t,e){var n,o,r=f({},i.Template,this.options.templateSettings),a=t.template,s=r.paramName,l=t.field,c="",u=t.format,h=typeof a,p=t.values;if(t.command){if(g(t.command)){for(n=0,o=t.command.length;n<o;n++)t.command[n].visible?c+=i.format("#= {0}(data)? '{1}':'' #",t.command[n].visible,this._createButton(t.command[n]).replace(q,"\\#")):c+=this._createButton(t.command[n]).replace(q,"\\#");return c}return this._createButton(t.command).replace(q,"\\#")}return t.selectable?'# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" id="#= checkboxGuid #" aria-label="Select row" aria-checked="false" type="checkbox"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">&\\#8203;</label>':(c+=this._dirtyIndicatorTemplate(l,s),"function"===h?(e.storage["tmpl"+e.count]=a,c+="#=this.tmpl"+e.count+"("+s+")#",e.count++):h===L?c+=a:p&&p.length&&d(p[0])&&"value"in p[0]&&l?(c+="#var v ="+i.stringify(Pt(p)).replace(q,"\\#")+"#",c+="#var f = v[",r.useWithBlock||(c+=s+"."),c+=l+"]#",c+="${f != null ? f : ''}"):(c+=t.encoded?"#:":"#=",u&&(c+='kendo.format("'+u.replace(B,"\\$1")+'",'),c+=l?(l=i.expr(l,s))+"==null?'':"+l:"''",u&&(c+=")"),c+="#"),c)},_dirtyIndicatorTemplate:function(t,e){return t&&e?"#= "+e+" && "+e+".dirty && "+e+".dirtyFields && "+("["===t.charAt(0)?i.expr(t,e+".dirtyFields"):e+".dirtyFields['"+t+"']")+" ? '<span class=\"k-dirty\"></span>' : '' #":""},_templates:function(){var e=this.options,i=this.dataSource,n=i.group(),o=this.footer||this.wrapper.find(".k-grid-footer"),r=i.aggregate(),a=jt(this.columns),s=jt(xt(this.columns)),l=e.scrollable?jt(St(this.columns)):a;if(e.scrollable&&s.length){if(e.rowTemplate||e.altRowTemplate)throw new Error("Having both row template and locked columns is not supported");this.rowTemplate=this._tmpl(e.rowTemplate,l,!1,!0),this.altRowTemplate=this._tmpl(e.altRowTemplate||e.rowTemplate,l,!0,!0),this.lockedRowTemplate=this._tmpl(e.rowTemplate,s),this.lockedAltRowTemplate=this._tmpl(e.altRowTemplate||e.rowTemplate,s,!0)}else this.rowTemplate=this._tmpl(e.rowTemplate,l),this.altRowTemplate=this._tmpl(e.altRowTemplate||e.rowTemplate,l,!0);this._hasDetails()&&(this.detailTemplate=this._detailTmpl(e.detailTemplate||"")),(this._group&&!w(r)||!w(r)&&!o.length||m(a,function(t){return t.footerTemplate}).length)&&(this.footerTemplate=this._footerTmpl(a,r,"footerTemplate","k-footer-template")),n&&m(a,function(t){return t.groupFooterTemplate}).length&&(r=t.map(n,function(t){return t.aggregates}),this.groupFooterTemplate=this._footerTmpl(l,r,"groupFooterTemplate","k-group-footer",s.length),e.scrollable&&s.length&&(this.lockedGroupFooterTemplate=this._footerTmpl(s,r,"groupFooterTemplate","k-group-footer"))),this.options.noRecords&&(this.noRecordsTemplate=this._noRecordsTmpl())},_noRecordsTmpl:function(){var e,n,o,r=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",a={storage:{},count:0},s=t.extend({},i.Template,this.options.templateSettings),l=s.paramName,c="";return"function"==(n=typeof(e=this.options.noRecords.template?this.options.noRecords.template:i.format('<div class="k-grid-norecords-template"{1}>{0}</div>',this.options.messages.noRecords,r)))?(a.storage["tmpl"+a.count]=e,c+="#=this.tmpl"+a.count+"("+l+")#",a.count++):"string"===n&&(c+=e),o=i.template(i.format('<div class="{0}">{1}</div>',"k-grid-norecords",c),s),a.count>0&&(o=t.proxy(o,a.storage)),o},_footerTmpl:function(t,e,n,o,r){var a,s,l,c,u,h=f({},i.Template,this.options.templateSettings),d=h.paramName,p="",m={},g=0,v={},b=this._groups(),y=this.dataSource._emptyAggregates(e);for(p+='<tr class="'+o+'">',b>0&&!r&&(p+=X(b)),this._hasDetails()&&(p+='<td class="k-hierarchy-cell">&nbsp;</td>'),a=0,s=t.length;a<s;a++)c=typeof(l=(u=t[a])[n]),p+="<td"+J(u.footerAttributes)+">",l?("function"!==c&&(v=y[u.field]?f({},h,{paramName:d+"['"+u.field+"']"}):{},l=i.template(l,v)),m["tmpl"+g]=l,p+="#=this.tmpl"+g+"("+d+")#",g++):p+="&nbsp;",p+="</td>";return p+="</tr>",p=i.template(p,h),g>0?k(p,m):p},_detailTmpl:function(t){var e="",n=f({},i.Template,this.options.templateSettings),o=n.paramName,r={},a=0,s=this._groups(),l=ct(jt(this.columns)).length,c=typeof t;return e+='<tr class="k-detail-row">',s>0&&(e+=X(s)),e+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(l?' colspan="'+l+'"':"")+">","function"===c?(r["tmpl"+a]=t,e+="#=this.tmpl"+a+"("+o+")#",a++):e+=t,e+="</td></tr>",e=i.template(e,n),a>0?k(e,r):e},_hasDetails:function(){return null!==this.options.detailTemplate||(this._events.detailInit||[]).length},_hasFilterRow:function(){var e=this.options.filterable,i=e&&typeof e.mode==L&&-1!=e.mode.indexOf("row"),n=this.columns,o=t.grep(n,function(t){return!1===t.filterable});return n.length&&o.length==n.length&&(i=!1),i},_details:function(){var e=this;if(e.options.scrollable&&e._hasDetails()&&xt(e.columns).length)throw new Error("Having both detail template and locked columns is not supported");e.table.on(R+E,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(i){var n,o,r=t(this),a=r.closest("td.k-hierarchy-cell"),s=r.hasClass("k-i-expand"),l=r.closest("tr.k-master-row"),c=e.detailTemplate,u=e._hasDetails(),h=s?F:"Expand",d=!!s;return r.toggleClass("k-i-expand",!s).toggleClass("k-i-collapse",s).attr(N,h),a.attr("aria-expanded",d),n=l.next(),u&&!n.hasClass("k-detail-row")&&(o=e.dataItem(l),n=t(c(o)).addClass(l.hasClass("k-alt")?"k-alt":"").insertAfter(l),e.angular("compile",function(){return{elements:n.get(),data:[{dataItem:o}]}}),e.trigger("detailInit",{masterRow:l,detailRow:n,data:o,detailCell:n.find(".k-detail-cell")})),e.trigger(s?"detailExpand":"detailCollapse",{masterRow:l,detailRow:n}),n.toggle(s),i.preventDefault(),!1})},dataItem:function(e){if(!(e=t(e)[0]))return null;var i,n,o=this.tbody.children(),r=/k-grouping-row|k-detail-row|k-group-footer/,a=e.sectionRowIndex;for(n=a,i=0;i<a;i++)r.test(o[i].className)&&n--;return this._data[n]},expandRow:function(e){t(e).find("> td .k-i-expand").click()},collapseRow:function(e){t(e).find("> td .k-i-collapse").click()},_createHeaderCells:function(t,n){var o,r,a,s,l,c="",u=jt(this.columns);for(o=0,s=t.length;o<s;o++){r=t[o].column||t[o],a=this._headerCellText(r),l="";var h=v(r,u);r.selectable?(c+="<th scope='col'"+J(r.headerAttributes),n&&!t[o].colSpan&&(c+=" rowspan='"+n+"'"),h>-1&&(c+=i.attr("index")+"='"+h+"'"),c+=">"+(a=r.headerTemplate?a:i.template('# var checkboxGuid = kendo.guid(); #<input class="k-checkbox" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox" id="#= checkboxGuid #"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">##&\\#8203;##</label>')({}))+"</th>"):r.command?(c+="<th scope='col'"+J(r.headerAttributes),n&&!t[o].colSpan&&(c+=" rowspan='"+n+"'"),h>-1&&(c+=i.attr("index")+"='"+h+"'"),c+=">"+a+"</th>"):(r.field&&(l=i.attr("field")+"='"+r.field+"' "),c+="<th scope='col' role='columnheader' "+l,c+=" aria-haspopup='true'",n&&!t[o].colSpan&&(c+=" rowspan='"+n+"'"),t[o].colSpan>1&&(c+='colspan="'+(t[o].colSpan-kt(r.columns))+'" ',c+=i.attr("colspan")+"='"+t[o].colSpan+"'"),r.title&&(c+=i.attr("title")+'="'+r.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),r.groupable!==e&&(c+=i.attr("groupable")+"='"+r.groupable+"' "),r.aggregates&&r.aggregates.length&&(c+=i.attr("aggregates")+"='"+r.aggregates+"'"),h>-1&&(c+=i.attr("index")+"='"+h+"'"),c+=J(r.headerAttributes),c+=">"+a+"</th>")}return c},_appendLockedColumnContent:function(){var e,i,n,o,r,a=this.columns,s=this.table.find("colgroup"),l=s.find("col:not(.k-group-col,.k-hierarchy-col)"),c=t(),u=0,h=0;for(e=0,i=a.length;e<i;e++)if(a[e].locked)if(lt(a[e])){for(o=1,a[e].columns&&(o=jt(a[e].columns).length-kt(a[e].columns)),o=o||1,r=0;r<o;r++)c=c.add(l.eq(e+h+r-u));h+=o-1}else u++;n=t('<div class="k-grid-content-locked"><table'+(G?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),s.detach(),n.find("colgroup").append(c),s.insertBefore(this.table.find("tbody")),this.lockedContent=n.insertBefore(this.content),this.lockedTable=n.children("table")},_appendLockedColumnFooter:function(){var e,i,n=this.footer,o=n.find(".k-footer-template>td"),r=n.find(".k-grid-footer-wrap>table>colgroup>col"),a=t('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),s=this._groups(),l=t(),c=t();for(l=l.add(o.filter(".k-group-cell")),e=0,i=jt(xt(this.columns)).length;e<i;e++)l=l.add(o.eq(e+s));for(c=c.add(r.filter(".k-group-col")),e=0,i=ct(jt(At(this.columns))).length;e<i;e++)c=c.add(r.eq(e+s));l.appendTo(a.find("tr")),c.appendTo(a.find("colgroup")),this.lockedFooter=a.prependTo(n)},_appendLockedColumnHeader:function(e){var i,n,o,r,a,s,l,c,u,h=this.columns,d=[],f=0,p=t(),m=this._hasFilterRow(),g=0,v=t(),b=0,k=t();r=this.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),l=this.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),c=this.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var y=0;for(i=0,o=h.length;i<o;i++){if(h[i].locked){if(u=l.eq(i),b=jt(h[i].columns||[]).length,lt(h[i])){var w=null;h[i].columns&&(w=b-kt(h[i].columns)),w=w||1;for(var _=0;_<w;_++)p=p.add(r.eq(i+y+_-f));y+=w-1}_t([h[i]],zt(u),d,0,0),b=b||1;for(var x=0;x<b;x++)v=v.add(c.eq(g+x));g+=b}h[i].columns&&(f+=kt(h[i].columns)),lt(h[i])||f++}if(d.length){for(n='<div class="k-grid-header-locked" style="width:1px"><table'+(G?' cellspacing="0"':"")+"><colgroup/><thead>",n+=new Array(d.length+1).join("<tr></tr>"),(r=(s=t(n+=(m?'<tr class="k-filter-row" />':"")+"</thead></table></div>")).find("colgroup")).append(this.thead.prev().find("col.k-group-col").add(p)),a=s.find("thead tr:not(.k-filter-row)"),i=0,o=d.length;i<o;i++)k=ut(d[i]),a.eq(i).append(this.thead.find("tr:eq("+i+") .k-group-cell").add(k));var S=wt(this.thead);return d.length<S&&function(t,e){for(var i,n=t.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),o=0;o<n.length;o++)(i=n[o].rowSpan)>1&&(n[o].rowSpan=i-e||1)}(s,S-d.length),s.find(".k-filter-row").append(this.thead.find(".k-filter-row .k-group-cell").add(v)),this.lockedHeader=s.prependTo(e),this.thead.find(".k-group-cell").remove(),!0}return!1},_removeLockedContainers:function(){var t=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);i.destroy(t),t.off(E).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var e,n,o,r=this.columns,a=this._hasDetails()&&r.length,s=this._hasFilterRow(),l="",c=this.table.find(">thead"),u=this.element.find("thead:first").length>0;if(c.length||(c=t("<thead/>").insertBefore(this.tbody)),this.lockedHeader&&this.thead?((n=this.thead.find("tr:has(th):not(.k-filter-row)").html("")).remove(),n=t(),this._removeLockedContainers()):n=u?this.element.find("thead:first tr:has(th):not(.k-filter-row)"):this.element.find("tr:has(th):first"),!n.length&&!(n=c.children().first()).length){var h=[{rowSpan:1,cells:[],index:0}];for(this._prepareColumns(h,r),e=0;e<h.length;e++)l+="<tr>",a&&(l+='<th class="k-hierarchy-cell" scope="col">'+this.options.messages.expandCollapseColumnHeader+"</th>"),l+=this._createHeaderCells(h[e].cells,h[e].rowSpan),l+="</tr>";n=t(l)}if(s){var d=t("<tr/>");d.addClass("k-filter-row"),(a||n.find(".k-hierarchy-cell").length)&&d.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>');var f=(this.thead||c).find(".k-filter-row");f.length&&(i.destroy(f),f.remove()),c.append(d)}n.children().length?a&&!n.find(".k-hierarchy-cell")[0]&&n.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'):(l="",a&&(l+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),l+=this._createHeaderCells(r),n.html(l)),n.attr("role","row").find("th").addClass("k-header"),this.options.scrollable||c.addClass("k-grid-header"),n.find("script").remove().end().prependTo(c),this.thead&&this._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:c.find("th").get()}}),this.angular("compile",function(){return{elements:c.find("th").get(),data:p(r,function(t){return{column:t}})}}),this.thead=c.attr("role","rowgroup"),this._sortable(),this._filterable(),this._filterRow(),this._scrollable(),this._updateCols(),this._columnMenu();var m=this.options.scrollable&&xt(this.columns).length;m&&(o=this._appendLockedColumnHeader(this.thead.closest(".k-grid-header")),this._appendLockedColumnContent(),this.lockedContent.bind("DOMMouseScroll"+E+" mousewheel"+E,k(this._wheelScroll,this))),this._updateColumnCellIndex(),this._updateFirstColumnClass(),this._resizable(),this._draggable(),this._reorderable(),this._updateHeader(this._groups()),m&&(o&&this._syncLockedHeaderHeight(),this._applyLockedContainersWidth()),this.groupable&&this._attachGroupable()},_retrieveFirstColumn:function(e,i){var n=t();if(i.length&&e[0]){for(var o=e[0];o.columns&&o.columns.length;)o=o.columns[0],i=i.filter(":not(:first())");n=n.add(i)}return n},_updateFirstColumnClass:function(){var e=this.columns||[];if(!(this._hasDetails()&&e.length||this._groups())){var i=this.thead.find(">tr:not(.k-filter-row):not(:first)");e=St(e);var n=this._retrieveFirstColumn(e,i);this._isLocked()&&(i=this.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),e=xt(this.columns),n=n.add(this._retrieveFirstColumn(e,i))),n.each(function(){var e=t(this).find("th");e.removeClass("k-first"),e.eq(0).addClass("k-first")})}},_prepareColumns:function(t,e,i,n){for(var o=n||t[t.length-1],r=t[o.index+1],a=0,s=0;s<e.length;s++){var l={column:e[s],colSpan:0};o.cells.push(l),e[s].columns&&e[s].columns.length&&(r||(r={rowSpan:0,cells:[],index:t.length},t.push(r)),l.colSpan=e[s].columns.length,this._prepareColumns(t,e[s].columns,l,r),a+=l.colSpan-1,o.rowSpan=t.length-o.index)}i&&(i.colSpan+=a)},_wheelScroll:function(t){if(!t.ctrlKey){var e=this.content;this.options.scrollable.virtual&&(e=this.virtualScrollable.verticalScrollbar);var n=e.scrollTop(),o=i.wheelDeltaY(t);o&&(e[0].scrollHeight>e[0].clientHeight&&(e[0].scrollTop<e[0].scrollHeight-e[0].clientHeight&&o<0||e[0].scrollTop>0&&o>0)&&t.preventDefault(),e.scrollTop(n+-o))}},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var t=this.thead.parent().add(this.table);this._isLocked()?Ot(t,Tt(Ct(this.columns)),this._hasDetails(),0):Ot(t,Tt(ct(this.columns)),this._hasDetails(),0)},_updateCols:function(t){t=t||this.thead.parent().add(this.table),this._appendCols(t,this._isLocked())},_updateLockedCols:function(t){this._isLocked()&&Ot(t=t||this.lockedHeader.find("table").add(this.lockedTable),Tt(At(this.columns)),this._hasDetails(),this._groups())},_appendCols:function(t,e){e?Ot(t,Tt(Ct(this.columns)),this._hasDetails(),0):Ot(t,Tt(ct(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(t){if(t&&t.toJSON){var e,n;for(e in t=t.toJSON(),n=!(this.table.find("tbody tr").length>0&&(!this.dataSource||!this.dataSource.transport)),t)this.columns.push({field:e,encoded:n,headerAttributes:{id:i.guid()}});this._thead(),this._templates()}},_rowsHtml:function(t,e){var i,n,o="",r=e.rowTemplate,a=e.altRowTemplate;for(i=0,n=t.length;i<n;i++)this._skipRerenderItemsCount>0?this._skipRerenderItemsCount--:o+=i%2?a(t[i]):r(t[i]),this._data.push(t[i]);return o},_groupRowHtml:function(t,e,n,o,r,a,s){var l,c,u="",h=t.field,p=m(jt(this.columns),function(t){return t.field==h})[0]||{},g=p.groupHeaderTemplate,b=(p.title||h)+": "+function(t,e,n,o){var r=n&&n.length&&d(n[0])&&"value"in n[0]?Pt(n)[t]:t;return r=null!=r?r:"",e?i.format(e,r):!1===o?r:i.htmlEncode(r)}(t.value,p.format,p.values,p.encoded),k=this._groupAggregatesDefaultObject||{},y=t.items,w=f({},k,t.aggregates),_=f({},{field:t.field,value:t.value,items:y,aggregates:w},t.aggregates[t.field]),x=r.groupFooterTemplate;if(g&&(b="function"==typeof g?g(_):i.template(g)(_)),this._skipRerenderItemsCount?o(e,n,b):u+=o(e,n,b),t.hasSubgroups)for(l=0,c=y.length;l<c;l++)u+=this._groupRowHtml(y[l],a?e:e-1,n+1,o,r,a,s&&l===y.length-1);else u+=this._rowsHtml(y,r);if(x){var S={};for(var C in w)S[C]=f({},w[C],{group:{field:t.field,value:t.value,items:y}});s?v(t.value,this._skippedGroups)||this._skippedGroups.push(t.value):(this._skippedGroups.length&&this._skippedGroups[0]===t.value&&this._skippedGroups.shift(),this._skipRerenderItemsCount||(u+=x(S)))}return u},collapseGroup:function(e){var i,n,o,r,a,s=this,l=e,c=this.options.groupable.showFooter?0:1,u=t();e=t(e),this._isLocked()&&(e.closest("div").hasClass("k-grid-content-locked")?u=this.tbody.children("tr:eq("+e.index()+")").nextAll("tr"):(u=e.nextAll("tr"),e=this.lockedTable.find(">tbody>tr:eq("+e.index()+")"))),i=e.find(".k-group-cell").length,e.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),e.find("td[aria-expanded='true']:first").attr("aria-expanded",!1).find("a").attr(N,"Expand");var h=[];for(o=0,r=(e=e.nextAll("tr")).length;o<r&&(n=(a=e.eq(o)).find(".k-group-cell").length,a.hasClass("k-grouping-row")?c++:a.hasClass("k-group-footer")&&c--,!(n<=i||a.hasClass("k-group-footer")&&c<0));o++)u.length&&h.push(u[o]),h.push(a[0]);t(h).hide(),this.options.scrollable.endless&&this.content&&setTimeout(function(){s.content.scroll(),s._groupToCollapse=l})},expandGroup:function(e){e=t(e);var i,n,o,r,a,s=this.options.groupable.showFooter,l=t(),c=[],u=1;for(this._isLocked()&&(e.closest("div").hasClass("k-grid-content-locked")?l=this.tbody.children("tr:eq("+e.index()+")").nextAll("tr"):(l=e.nextAll("tr"),e=this.lockedTable.find(">tbody>tr:eq("+e.index()+")"))),i=e.find(".k-group-cell").length,e.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),e.find("td[aria-expanded='false']:first").attr("aria-expanded",!0).find("a").attr(N,F),r=0,a=(e=e.nextAll("tr")).length;r<a&&!((o=(n=e.eq(r)).find(".k-group-cell").length)<=i);r++)o!=i+1||n.hasClass("k-detail-row")||(n.show(),l.eq(r).show(),n.hasClass("k-grouping-row")&&n.find(".k-icon").hasClass("k-i-collapse")&&this.expandGroup(n),n.hasClass("k-master-row")&&n.find(".k-icon").hasClass("k-i-collapse")&&(n.next().show(),l.eq(r+1).show())),n.hasClass("k-grouping-row")&&(s&&c.push(n.is(":visible")),u++),n.hasClass("k-group-footer")&&(s&&n.toggle(c.pop()),1==u?(n.show(),l.eq(r).show()):u--);0===i&&this.options.scrollable.endless&&this._isLocked()&&this._syncLockedContentHeight()},_updateHeader:function(e){var i=this._isLocked()?this.lockedHeader.find("thead"):this.thead,n=i.find("tr.k-filter-row").find("th.k-group-cell").length,o=i.find("tr:first").find("th.k-group-cell").length,r=i.children("tr:not(:first)").filter(function(){return!t(this).children(":visible").length});e>o?(t(new Array(e-o+1).join('<th class="k-group-cell k-header" scope="col">'+this.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(i.children("tr:not(.k-filter-row)")),this.element.is(":visible")&&r.find("th.k-group-cell").hide()):e<o&&i.find("tr").each(function(){t(this).find("th.k-group-cell").filter(":eq("+e+"),:gt("+e+")").remove()}),e>n&&t(new Array(e-n+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(i.find(".k-filter-row"))},_firstDataItem:function(t,e){return t&&e&&(t=t.hasSubgroups?this._firstDataItem(t.items[0],e):t.items[0]),t},_updateTablesWidth:function(){var e;this._isLocked()&&(e=t(">.k-grid-footer>.k-grid-footer-wrap>table",this.wrapper).add(this.thead.parent()).add(this.table),this._footerWidth=qt(e.eq(0)),e.width(this._footerWidth),(e=t(">.k-grid-footer>.k-grid-footer-locked>table",this.wrapper).add(this.lockedHeader.find(">table")).add(this.lockedTable)).width(qt(e.eq(0))))},hideColumn:function(e){var i,n,o,r,a,s,l,c,u=0,h=this.footer||this.wrapper.find(".k-grid-footer"),f=this.columns,p=this.lockedHeader?Mt(this.lockedHeader.find(">table>thead")).filter(st).length:0;if((e="number"==typeof e?f[e]:d(e)?m(bt(f),function(t){return t===e})[0]:m(bt(f),function(t){return t.field===e})[0])&&lt(e))if(e.columns&&e.columns.length){for(a=mt(e,f),at(e,!1),Rt(it(t(">table>thead",this.lockedHeader),this.thead,">tr:eq("+a.row+")>th"),a.cell,!1),n=0;n<e.columns.length;n++)this.hideColumn(e.columns[n]);this.trigger("columnHide",{column:e})}else{c=v(e,ct(jt(f))),at(e,!1),this._setParentsVisibility(e,!1),this._templates(),this._updateCols(),this._updateLockedCols();var g=this.thead;if(s=c,this.lockedHeader&&p>c?g=this.lockedHeader.find(">table>thead"):s-=p,Mt(g).filter(st).eq(s)[0].style.display="none",Rt(it(t(">table>thead",this.lockedHeader),this.thead,">tr.k-filter-row>th"),c,!1),h[0]&&(this._updateCols(h.find(">.k-grid-footer-wrap>table")),this._updateLockedCols(h.find(">.k-grid-footer-locked>table")),Rt(h.find(".k-footer-template>td"),c,!1)),this.lockedTable&&p>c?Lt(this.lockedTable.find(">tbody>tr"),c):Lt(this.tbody.children(),c-p),this.lockedTable)this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this._syncLockedFooterHeight();else{for(n=0,l=(o=this.thead.prev().find("col")).length;n<l;n+=1){if(!(r=o[n].style.width)||-1!=r.indexOf("%")){u=0;break}u+=parseInt(r,10)}i=t(">.k-grid-header table:first,>.k-grid-footer table:first",this.wrapper).add(this.table),this._footerWidth=null,u&&(i.each(function(){this.style.width=u+"px"}),this._footerWidth=u),W.msie&&8==W.version&&(i.css("display","inline-table"),setTimeout(function(){i.css("display","table")},1))}this._updateFirstColumnClass(),this.trigger("columnHide",{column:e})}},_setParentsVisibility:function(e,n){var o,r,a,s,l,c=this.columns,u=[],h=n?function(t){return ct(t.columns).length&&t.hidden}:function(t){return!ct(t.columns).length&&!t.hidden};if(rt(e,c,u)&&u.length)for(o=u.length-1;o>=0;o--)a=pt(r=u[o],c),s=it(t(">table>thead",this.lockedHeader),this.thead,">tr:eq("+a.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(a.cell),h(r)&&(at(r,n),s[0].style.display=n?"":"none"),s.filter("["+i.attr("colspan")+"]").length&&(l=parseInt(s.attr(i.attr("colspan")),10),s[0].colSpan=l-kt(r.columns)||1)},showColumn:function(e){var i,n,o,r,a,s,l,c,u,h,f,p=this.columns,m=this.footer||this.wrapper.find(".k-grid-footer"),g=this.lockedHeader?Mt(this.lockedHeader.find(">table>thead")).length:0;if("number"==typeof e?(u=e,e=p[e]):d(e)?t.each(bt(p),function(t,i){if(i===e)return e=i,u=t,!1}):t.each(bt(p),function(t,i){if(i.field===e)return e=i,u=t,!1}),e&&!lt(e))if(e.columns&&e.columns.length){for(s=pt(e,p),h=bt(this.options.columns)[u],at(e,!0),Rt(it(t(">table>thead",this.lockedHeader),this.thead,">tr:eq("+s.row+")>th"),s.cell,!0),i=0;i<e.columns.length;i++)h.columns[i].hidden||this.showColumn(e.columns[i]);this.trigger("columnShow",{column:e})}else{f=v(e,jt(p)),at(e,!0),this._setParentsVisibility(e,!0),this._templates(),this._updateCols(),this._updateLockedCols();var b=this.thead;if(a=f,this.lockedHeader&&g>f?b=this.lockedHeader.find(">table>thead"):a-=g,Mt(b).eq(a)[0].style.display="",Rt(it(t(">table>thead",this.lockedHeader),this.thead,">tr.k-filter-row>th"),f,!0),m[0]&&(this._updateCols(m.find(">.k-grid-footer-wrap>table")),this._updateLockedCols(m.find(">.k-grid-footer-locked>table")),Rt(m.find(".k-footer-template>td"),f,!0)),this.lockedTable&&g>f?Nt(this.lockedTable.find(">tbody>tr"),f):Nt(this.tbody.children(),f-g),this.lockedTable)this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight();else if(o=t(">.k-grid-header table:first,>.k-grid-footer table:first",this.wrapper).add(this.table),e.width){for(r=0,i=0,n=(c=this.thead.prev().find("col")).length;i<n;i+=1){if((l=c[i].style.width).indexOf("%")>-1){r=0;break}r+=parseInt(l,10)}this._footerWidth=null,r&&(o.each(function(){this.style.width=r+"px"}),this._footerWidth=r)}else o.width("");this._updateFirstColumnClass(),this.trigger("columnShow",{column:e})}},_progress:function(t){var e=this.element,n=this.options.scrollable&&this.options.scrollable.endless;this._editContainer&&"popup"===this._editMode()?e=this._editContainer:this.lockedContent||n?e=this.wrapper:this.element.is("table")?e=this.element.parent():this.content&&this.content.length&&(e=this.content),n&&t?i.ui.progress(e,t,{height:this.content.height(),top:this.content[0].offsetTop,opacity:!0}):i.ui.progress(e,t)},_resize:function(t,e){this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(e||this._rowHeight)&&(e&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var e=s();return!!e&&(this.table[0]===e||t.contains(this.table[0],e)||this._isLocked()&&(this.lockedTable[0]===e||t.contains(this.lockedTable[0],e)))},refresh:function(e){var n,o,r,a=this,s=a.dataSource.view(),l=a.options.navigatable,c=t(a.current()),u=!1,h=(a.dataSource.group()||[]).length,d=h+Tt(ct(a.columns)).length;e&&"itemchange"===e.action&&(a.editable||a.options.scrollable.endless)||(e&&"remove"===e.action&&a.editable&&a.editable.options.model&&v(a.editable.options.model,e.items)>-1&&a.editable.options.model.unbind(I,a._modelChangeHandler),e=e||{},a.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||("sync"===e.action&&a._isVirtualEditable()&&(a._destroyEditable(),a._clearEditableState()),a._angularItems("cleanup"),a._endlessFetchInProgress||(l&&(a._isActiveInTable()||a._editContainer&&a._editContainer.data("kendoWindow"))&&(n=(u=c.is("th"))?c.index():Math.max(a.cellIndex(c),0)),a._destroyEditable()),a.options.scrollable&&a.options.scrollable.endless?(clearTimeout(a._progressTimeOut),a._progressTimeOut=setTimeout(function(){a._endlessFetchInProgress||a._progress(!1)},100)):a._progress(!1),a._hideResizeHandle(),a._data=[],a.columns.length||(a._autoColumns(a._firstDataItem(s[0],h)),d=h+a.columns.length),a._group=h>0||a._group,a._group&&(a._templates(),a._updateCols(),a._updateLockedCols(),a._updateHeader(h),a._group=h>0,a._groupRows=Ft(s)),a.content&&(o=a.content.scrollLeft()),r=a._skipRerenderItemsCount,a._renderContent(s,d,h),a.options.scrollable&&a.options.scrollable.endless&&this.lockedContent&&(a._skipRerenderItemsCount=r),a._renderLockedContent(s,d,h),a._footer(),a._renderNoRecordsContent(),a._togglePagerVisibility(),a._setContentHeight(),a._setContentWidth(a.content&&o),a.lockedTable&&(a.options.scrollable.virtual?a.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):a.touchScroller?a.touchScroller.movable.trigger("change"):(a.wrapper.one("scroll",function(t){t.stopPropagation()}),a.content.trigger("scroll"))),a._endlessFetchInProgress||a._restoreCurrent(n,u),a.touchScroller&&a.touchScroller.contentResized(),a.selectable&&a.selectable.resetTouchEvents(),a._muteAngularRebind(function(){a._angularItems("compile")}),a._checkBoxSelection&&a._toggleHeaderCheckState(!1),a.options.persistSelection&&(a.selectable&&!i.ui.Selectable.parseOptions(a.options.selectable).cell||a._checkBoxSelection)?a._restoreSelection():a._selectedIds={},a.trigger("dataBound")))},_restoreCurrent:function(i,n){if(!(i===e||i<0)){if(this._removeCurrent(),n)this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(i));else{var o=0;this._rowVirtualIndex?o=this.virtualScrollable.position(this._rowVirtualIndex):i=0;var r=t();this.lockedTable&&(r=this.lockedTable.find(">tbody>tr").eq(o));var a=(r=r.add(this.tbody.children().eq(o))).find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i);this._setCurrent(a)}this._current&&Wt(this._current.closest("table")[0],!0)}},_restoreSelection:function(){var t,e=this,i=e.items();t=m(i,function(t){var i=e.dataItem(t)[e.dataSource.options.schema.model.id];if(e._selectedIds[i])return t}),e.select(t)},_angularItems:function(t){i.ui.DataBoundWidget.fn._angularItems.call(this,t),"cleanup"===t&&this._cleanupDetailItems(),this._angularGroupItems(t),this._angularGroupFooterItems(t)},_cleanupDetailItems:function(){var t=this;t._hasDetails()&&(t.angular("cleanup",function(){return{elements:t.tbody.children(".k-detail-row")}}),t.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(e){var i=this,n=i.tbody;i.lockedContent&&(n=i.lockedTable.find("tbody")),i._group&&i.angular(e,function(){return{elements:n.children(".k-grouping-row"),data:t.map(Ft(i.dataSource.view()),function(t){return{dataItem:t}})}})},_angularGroupFooterItems:function(e){var i=this,n=i.tbody;i.lockedContent&&(n=i.element),i._group&&i.groupFooterTemplate&&i.angular(e,function(){return{elements:n.find(".k-group-footer"),data:t.map(function t(e){for(var i,n=[],o=0;o<e.length&&"field"in(i=e[o])&&"value"in i&&"items"in i;o++)i.hasSubgroups&&(n=n.concat(t(i.items))),n.push(i.aggregates);return n}(i.dataSource.view()),function(t){return{dataItem:t}})}})},_renderContent:function(t,e,i){var n,o,r,a,s,l=this,c="",u=null!=l.lockedContent,h=l.options.scrollable,d={rowTemplate:l.rowTemplate,altRowTemplate:l.altRowTemplate,groupFooterTemplate:l.groupFooterTemplate};if(h&&h.endless&&!l.dataSource.options.endless&&(l._skipRerenderItemsCount=0,l.content&&(l.content[0].scrollTop=0)),r=l._skipRerenderItemsCount>0,e=u?e-Tt(At(l.columns)).length:e,i>0)for(e=u?e-i:e,l.detailTemplate&&e++,l.groupFooterTemplate&&(l._groupAggregatesDefaultObject=l.dataSource.aggregates()),l.options.scrollable.endless&&(s=l.dataSource.flatView().length),n=0,o=t.length;n<o;n++)l._skippedGroups||(l._skippedGroups=[]),a=s&&n===t.length-1&&s!==l.dataSource.total(),c+=l._groupRowHtml(t[n],e,0,u?Xt:Zt,d,u,a);else c+=l._rowsHtml(t,d);r?(l.tbody.append(c),setTimeout(function(){l._groupToCollapse&&(l.collapseGroup(l._groupToCollapse),l._groupToCollapse=null)}),l._endlessFetchInProgress=null):l.tbody=Et(l.tbody,l.table,c,this.options.$angular)},_renderLockedContent:function(t,e,i){var n,o,r="",a=null,s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var l=this.lockedTable;if(a=this._skipRerenderItemsCount>0,i>0)for(e-=ct(jt(St(this.columns))).length,n=0,o=t.length;n<o;n++)r+=this._groupRowHtml(t[n],e,0,Zt,s,!1,this.options.scrollable.endless&&n===t.length-1);else r=this._rowsHtml(t,s);a?l.children("tbody").append(r):Et(l.children("tbody"),l,r,this.options.$angular),this._syncLockedContentHeight()}},_togglePagerVisibility:function(){!1===this.options.pageable.alwaysVisible&&this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(t,e){var i,n=t[0].rows,o=n.length,r=e[0].rows,a=t.add(e),s=a.length,l=[];for(i=0;i<o&&r[i];i++)n[i].style.height&&(n[i].style.height=r[i].style.height="");for(i=0;i<o&&r[i];i++){var c=n[i].offsetHeight,u=r[i].offsetHeight,h=0;c>u?h=c:c<u&&(h=u),l.push(h)}for(i=0;i<s;i++)a[i].style.display="none";for(i=0;i<o;i++)l[i]&&(n[i].style.height=r[i].style.height=l[i]+1+"px");for(i=0;i<s;i++)a[i].style.display=""}});function Ht(t,e){var i,n=t.offsetHeight,o=e.offsetHeight;n>o?i=n+"px":n<o&&(i=o+"px"),i&&(t.style.height=e.style.height=i)}function Ut(t,e){var i,n,o;if(typeof t===L&&t===e)return t;if(d(t)&&t.name===e)return t;if(g(t))for(i=0,n=t.length;i<n;i++)if(typeof(o=t[i])===L&&o===e||o.name===e)return o;return null}function Wt(e,n){if(!0===n){var o=(e=t(e)).parent().scrollLeft();i.focusElement(e),e.parent().scrollLeft(o)}else t(e).one("focusin",function(t){t.preventDefault()}).focus()}function Gt(t,e){return!(!t.field||t.selectable||e.editable&&!e.editable(t.field)||t.editable&&!t.editable(e))}function Qt(e){return t(e).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown")}function Yt(e){var n=t(e.currentTarget),o=n.is("th"),r=this.table.add(this.lockedTable),a=this.thead.parent().add(t(">table",this.lockedHeader)),s=Qt(e.target),l=t(e.target),c=n.closest("table")[0];s&&n.find(i.roleSelector("filtercell")).length?this._setCurrent(n):c!==r[0]&&c!==r[1]&&c!==a[0]&&c!==a[1]||l.is("a.k-i-expand, a.k-i-collapse")||(this.options.navigatable&&this._setCurrent(n),!o&&s||setTimeout(function(){Q&&t(i._activeElement()).hasClass("k-widget")||Qt(i._activeElement())&&t.contains(c,i._activeElement())||Wt(c,!0)}),o&&e.preventDefault())}function Kt(t,e){if(!e)return 0;var n=0;return i.support.browser.webkit&&(n=t.width()),n}function Zt(t,e,i){return'<tr role="row" class="k-grouping-row">'+X(e)+'<td colspan="'+t+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1" '+N+'="'+F+'"></a>'+i+"</p></td></tr>"}function Xt(t){return'<tr role="row" class="k-grouping-row"><td colspan="'+t+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}i.ExcelMixin&&i.ExcelMixin.extend(Vt.prototype),i.PDFMixin&&(i.PDFMixin.extend(Vt.prototype),Vt.prototype._drawPDF_autoPageBreak=function(n){var o=this,r=new t.Deferred,a=o.dataSource,s=o.options.pdf.allPages,l=o.wrapper.find('table[role="grid"] > tbody'),c=t("<div>").css({position:"absolute",left:-1e4,top:-1e4}),u=o.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(c);u.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),u.find('table[role="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),u.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),u.find(".k-grid-header, .k-grid-footer").css({paddingRight:0}),this._initPDFProgress(n);var h=u.find('table[role="grid"] > tbody').empty(),d=a.page();function f(){c.appendTo(document.body);var e=t.extend({},o.options.pdf,{_destructive:!0,progress:function(t){n.notify({page:t.page,pageNumber:t.pageNum,progress:.5+t.pageNum/t.totalPages/2,totalPages:t.totalPages})}});i.drawing.drawDOM(u,e).always(function(){c.remove()}).then(function(t){r.resolve(t)}).fail(function(t){r.reject(t)})}function p(){var t=a.page(),i=s?a.totalPages():1;h.append(l.find("tr")),t<i?a.page(t+1):(a.unbind("change",p),s&&d!==e?(a.one("change",f),a.page(d)):(o.refresh(),f()))}return s?(a.bind("change",p),a.page(1)):p(),r.promise()},Vt.prototype._drawPDF=function(n){var o=this;if(o.options.pdf.paperSize&&"auto"!=o.options.pdf.paperSize)return o._drawPDF_autoPageBreak(n);var r=new t.Deferred,a=o.dataSource,s=o.options.pdf.allPages;this._initPDFProgress(n);var l=new i.drawing.Group,c=a.page();function u(){o._drawPDFShadow({width:o.wrapper.width()},{avoidLinks:o.options.pdf.avoidLinks}).done(function(t){var i=a.page(),o=s?a.totalPages():1,h={page:t,pageNumber:i,progress:i/o,totalPages:o};n.notify(h),l.append(h.page),i<o?a.page(i+1):s&&c!==e?(a.unbind("change",u),a.one("change",function(){r.resolve(l)}),a.page(c)):r.resolve(l)}).fail(function(t){r.reject(t)})}return s?(a.bind("change",u),a.page(1)):u(),r.promise()},Vt.prototype._initPDFProgress=function(e){var n=t("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");n.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(n);var o=t("<div class='k-loading-pdf-progress'>").appendTo(n).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");e.progress(function(t){o.value(t.progress)}).always(function(){i.destroy(n),n.remove()})}),n.plugin(Vt),n.plugin(K)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s,l;i(0),s=[i(4)],void 0===(l="function"==typeof(a=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?a.apply(e,s):a)||(t.exports=l),i(0),s=[i(4)],n="function"==typeof(a=function(){return kendo.pdf=kendo.pdf||{},kendo.pdf.supportsDeflate=function(){return window.pako&&"function"==typeof window.pako.deflate},kendo.pdf.deflate=function(t){return window.pako.deflate(t)},window.kendo})?a.apply(e,s):a,i(0),s=[n,i(4),i(44),i(24)],o="function"==typeof(a=function(){return function(t){window.kendo.pdf=window.kendo.pdf||{};var e=t.support.browser,i=t.pdf,n=t.drawing,o=n.util,r=t.geometry,a="undefined"!=typeof Uint8Array&&(!t.support.browser.msie||t.support.browser.version>9),s=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(e){for(var i=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,o=i.length,r=[];n<o;){var a=t.indexOf(i.charAt(n++)),s=t.indexOf(i.charAt(n++)),l=t.indexOf(i.charAt(n++)),c=t.indexOf(i.charAt(n++)),u=a<<2|s>>>4,h=(15&s)<<4|l>>>2,d=(3&l)<<6|c;r.push(u),64!=l&&r.push(h),64!=c&&r.push(d)}return r},encode:function(e){for(var i=0,n=e.length,o="";i<n;){var r=e[i++],a=e[i++],s=e[i++],l=(3&r)<<4|a>>>4,c=(15&a)<<2|s>>>6,u=63&s;i-n==2?c=u=64:i-n==1&&(u=64),o+=t.charAt(r>>>2)+t.charAt(l)+t.charAt(c)+t.charAt(u)}return o}}}();function l(t){var e=0,i=0;null==t?t=a?new Uint8Array(256):[]:i=t.length;var n=a?function(e){if(e>=t.length){var i=new Uint8Array(Math.max(e+256,2*t.length));i.set(t,0),t=i}}:function(){},o=a?function(){return new Uint8Array(t.buffer,0,i)}:function(){return t},r=a?function(o){if("string"==typeof o)return v(o);var r=o.length;n(e+r),t.set(o,e),(e+=r)>i&&(i=e)}:function(t){if("string"==typeof t)return v(t);for(var e=0;e<t.length;++e)c(t[e])};function l(){return e<i?t[e++]:0}function c(o){n(e),t[e++]=255&o,e>i&&(i=e)}function u(){return l()<<8|l()}function h(t){c(t>>8),c(t)}function d(){return 65536*u()+u()}function f(t){h(t>>>16&65535),h(65535&t)}function p(){var t=d();return t>=2147483648?t-4294967296:t}function m(t){f(t<0?t+4294967296:t)}function g(t){return b(t,l)}function v(t){for(var e=0;e<t.length;++e)c(t.charCodeAt(e))}function b(t,e){for(var i=new Array(t),n=0;n<t;++n)i[n]=e();return i}var k={eof:function(){return e>=i},readByte:l,writeByte:c,readShort:u,writeShort:h,readLong:d,writeLong:f,readFixed:function(){return d()/65536},writeFixed:function(t){f(Math.round(65536*t))},readShort_:function(){var t=u();return t>=32768?t-65536:t},writeShort_:function(t){h(t<0?t+65536:t)},readLong_:p,writeLong_:m,readFixed_:function(){return p()/65536},writeFixed_:function(t){m(Math.round(65536*t))},read:g,write:r,readString:function(t){return String.fromCharCode.apply(String,g(t))},writeString:v,times:b,get:o,slice:a?function(e,i){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+i));var n=new Uint8Array(i);return n.set(new Uint8Array(t.buffer,e,i)),n}:function(e,i){return t.slice(e,e+i)},offset:function(t){return null!=t?(e=t,k):e},skip:function(t){e+=t},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return i},saveExcursion:function(t){var i=e;try{return t()}finally{e=i}},writeBase64:function(t){window.atob?v(window.atob(t)):r(s.decode(t))},base64:function(){return s.encode(o())}};return k}function c(t){return t.map(function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}).join("")}function u(t){return window.atob?function(t){for(var e=window.atob(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}(t):function(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t[i];return e}(s.decode(t))}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t){return Object.keys(t).sort(function(t,e){return t-e}).map(parseFloat)}function f(t){this.raw=t,this.scalerType=t.readLong(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort();for(var e=this.tables={},i=0;i<this.tableCount;++i){var n={tag:t.readString(4),checksum:t.readLong(),offset:t.readLong(),length:t.readLong()};e[n.tag]=n}}function p(t){function e(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)}for(var i in e.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},t)h(t,i)&&(e[i]=e.prototype[i]=t[i]);return e}f.prototype={readTable:function(t,e){var i=this.tables[t];if(!i)throw new Error("Table "+t+" not found in directory");return this[t]=i.table=new e(this,i)},render:function(t){var e=Object.keys(t).length,i=Math.pow(2,Math.floor(Math.log(e)/Math.LN2)),n=16*i,o=Math.floor(Math.log(i)/Math.LN2),r=16*e-n,a=l();a.writeLong(this.scalerType),a.writeShort(e),a.writeShort(n),a.writeShort(o),a.writeShort(r);var s=16*e,c=a.offset()+s,u=null,d=l();for(var f in t)if(h(t,f)){var p=t[f];for(a.writeString(f),a.writeLong(this.checksum(p)),a.writeLong(c),a.writeLong(p.length),d.write(p),"head"==f&&(u=c),c+=p.length;c%4;)d.writeByte(0),c++}a.write(d.get());var m=2981146554-this.checksum(a.get());return a.offset(u+8),a.writeLong(m),a.get()},checksum:function(t){t=l(t);for(var e=0;!t.eof();)e+=t.readLong();return 4294967295&e}};var m=p({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.revision=t.readLong(),this.checkSumAdjustment=t.readLong(),this.magicNumber=t.readLong(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.read(8),this.modified=t.read(8),this.xMin=t.readShort_(),this.yMin=t.readShort_(),this.xMax=t.readShort_(),this.yMax=t.readShort_(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort_(),this.indexToLocFormat=t.readShort_(),this.glyphDataFormat=t.readShort_()},render:function(t){var e=l();return e.writeLong(this.version),e.writeLong(this.revision),e.writeLong(0),e.writeLong(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.write(this.created),e.write(this.modified),e.writeShort_(this.xMin),e.writeShort_(this.yMin),e.writeShort_(this.xMax),e.writeShort_(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort_(this.fontDirectionHint),e.writeShort_(t),e.writeShort_(this.glyphDataFormat),e.get()}}),g=p({parse:function(t){t.offset(this.offset);var e=this.file.head.indexToLocFormat;this.offsets=0===e?t.times(this.length/2,function(){return 2*t.readShort()}):t.times(this.length/4,t.readLong)},offsetOf:function(t){return this.offsets[t]},lengthOf:function(t){return this.offsets[t+1]-this.offsets[t]},render:function(t){for(var e=l(),i=t[t.length-1]>65535,n=0;n<t.length;++n)i?e.writeLong(t[n]):e.writeShort(t[n]/2);return{format:i?1:0,table:e.get()}}}),v=p({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort_(),this.minRightSideBearing=t.readShort_(),this.xMaxExtent=t.readShort_(),this.caretSlopeRise=t.readShort_(),this.caretSlopeRun=t.readShort_(),this.caretOffset=t.readShort_(),t.skip(8),this.metricDataFormat=t.readShort_(),this.numOfLongHorMetrics=t.readShort()},render:function(t){var e=l();return e.writeLong(this.version),e.writeShort_(this.ascent),e.writeShort_(this.descent),e.writeShort_(this.lineGap),e.writeShort(this.advanceWidthMax),e.writeShort_(this.minLeftSideBearing),e.writeShort_(this.minRightSideBearing),e.writeShort_(this.xMaxExtent),e.writeShort_(this.caretSlopeRise),e.writeShort_(this.caretSlopeRun),e.writeShort_(this.caretOffset),e.write([0,0,0,0,0,0,0,0]),e.writeShort_(this.metricDataFormat),e.writeShort(t.length),e.get()}}),b=p({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.numGlyphs=t.readShort(),this.maxPoints=t.readShort(),this.maxContours=t.readShort(),this.maxComponentPoints=t.readShort(),this.maxComponentContours=t.readShort(),this.maxZones=t.readShort(),this.maxTwilightPoints=t.readShort(),this.maxStorage=t.readShort(),this.maxFunctionDefs=t.readShort(),this.maxInstructionDefs=t.readShort(),this.maxStackElements=t.readShort(),this.maxSizeOfInstructions=t.readShort(),this.maxComponentElements=t.readShort(),this.maxComponentDepth=t.readShort()},render:function(t){var e=l();return e.writeLong(this.version),e.writeShort(t.length),e.writeShort(this.maxPoints),e.writeShort(this.maxContours),e.writeShort(this.maxComponentPoints),e.writeShort(this.maxComponentContours),e.writeShort(this.maxZones),e.writeShort(this.maxTwilightPoints),e.writeShort(this.maxStorage),e.writeShort(this.maxFunctionDefs),e.writeShort(this.maxInstructionDefs),e.writeShort(this.maxStackElements),e.writeShort(this.maxSizeOfInstructions),e.writeShort(this.maxComponentElements),e.writeShort(this.maxComponentDepth),e.get()}}),k=p({parse:function(t){t.offset(this.offset);var e=this.file,i=e.hhea;this.metrics=t.times(i.numOfLongHorMetrics,function(){return{advance:t.readShort(),lsb:t.readShort_()}});var n=e.maxp.numGlyphs-e.hhea.numOfLongHorMetrics;this.leftSideBearings=t.times(n,t.readShort_)},forGlyph:function(t){var e=this.metrics,i=e.length;return t<i?e[t]:{advance:e[i-1].advance,lsb:this.leftSideBearings[t-i]}},render:function(t){for(var e=l(),i=0;i<t.length;++i){var n=this.forGlyph(t[i]);e.writeShort(n.advance),e.writeShort_(n.lsb)}return e.get()}}),y=function(){function t(t){this.raw=t}t.prototype={compound:!1,render:function(){return this.raw.get()}};var e=1,i=8,n=32,o=64,r=128;function a(t){this.raw=t;for(var a=this.glyphIds=[],s=this.idOffsets=[];;){var l=t.readShort();if(s.push(t.offset()),a.push(t.readShort()),!(l&n))break;t.skip(l&e?4:2),l&r?t.skip(8):l&o?t.skip(4):l&i&&t.skip(2)}}return a.prototype={compound:!0,render:function(t){for(var e=l(this.raw.get()),i=0;i<this.glyphIds.length;++i){var n=this.glyphIds[i];e.offset(this.idOffsets[i]),e.writeShort(t[n])}return e.get()}},p({parse:function(){this.cache={}},glyphFor:function(e){var i=this.cache;if(h(i,e))return i[e];var n=this.file.loca,o=n.lengthOf(e);if(0===o)return i[e]=null;var r=this.rawData,s=this.offset+n.offsetOf(e),c=l(r.slice(s,o)),u=c.readShort_(),d=c.readShort_(),f=c.readShort_(),p=c.readShort_(),m=c.readShort_(),g=i[e]=-1==u?new a(c):new t(c);return g.numberOfContours=u,g.xMin=d,g.yMin=f,g.xMax=p,g.yMax=m,g},render:function(t,e,i){for(var n=l(),o=[],r=0;r<e.length;++r){var a=t[e[r]];o.push(n.offset()),a&&n.write(a.render(i))}return o.push(n.offset()),{table:n.get(),offsets:o}}})}(),w=function(){function t(t,e){this.text=t,this.length=t.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID}return p({parse:function(e){e.offset(this.offset),e.readShort();for(var i=e.readShort(),n=this.offset+e.readShort(),o=e.times(i,function(){return{platformID:e.readShort(),platformSpecificID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:e.readShort()+n}}),r=this.strings={},a=0;a<o.length;++a){var s=o[a];e.offset(s.offset);var l=e.readString(s.length);r[s.nameID]||(r[s.nameID]=[]),r[s.nameID].push(new t(l,s))}this.postscriptEntry=r[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(e){var i=this.strings,n=0;for(var o in i)h(i,o)&&(n+=i[o].length);var r=l(),a=l();for(o in r.writeShort(0),r.writeShort(n),r.writeShort(6+12*n),i)if(h(i,o))for(var s=6==o?[new t(e,this.postscriptEntry)]:i[o],c=0;c<s.length;++c){var u=s[c];r.writeShort(u.platformID),r.writeShort(u.platformSpecificID),r.writeShort(u.languageID),r.writeShort(u.nameID),r.writeShort(u.length),r.writeShort(a.offset()),a.writeString(u.text)}return r.write(a.get()),r.get()}})}(),_=function(){var t=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return p({parse:function(t){var e;switch(t.offset(this.offset),this.format=t.readLong(),this.italicAngle=t.readFixed_(),this.underlinePosition=t.readShort_(),this.underlineThickness=t.readShort_(),this.isFixedPitch=t.readLong(),this.minMemType42=t.readLong(),this.maxMemType42=t.readLong(),this.minMemType1=t.readLong(),this.maxMemType1=t.readLong(),this.format){case 65536:case 196608:break;case 131072:e=t.readShort(),this.glyphNameIndex=t.times(e,t.readShort),this.names=[];for(var i=this.offset+this.length;t.offset()<i;)this.names.push(t.readString(t.readByte()));break;case 151552:e=t.readShort(),this.offsets=t.read(e);break;case 262144:this.map=t.times(this.file.maxp.numGlyphs,t.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return t[e]||".notdef";case 131072:var i=this.glyphNameIndex[e];return i<t.length?t[i]:this.names[i-t.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){if(196608==this.format)return this.raw();var i=l(this.rawData.slice(this.offset,32));i.writeLong(131072),i.offset(32);for(var n=[],o=[],r=0;r<e.length;++r){var a=e[r],s=this.glyphFor(a),c=t.indexOf(s);c>=0?n.push(c):(n.push(t.length+o.length),o.push(s))}for(i.writeShort(e.length),r=0;r<n.length;++r)i.writeShort(n[r]);for(r=0;r<o.length;++r)i.writeByte(o[r].length),i.writeString(o[r]);return i.get()}})}(),x=p({parse:function(t){var e=this,i=e.offset;t.offset(i),e.codeMap={},e.version=t.readShort();var n=t.readShort();e.tables=t.times(n,function(){return new function(t,e,i){var n=this;n.platformID=t.readShort(),n.platformSpecificID=t.readShort(),n.offset=e+t.readLong(),t.saveExcursion(function(){var e;switch(t.offset(n.offset),n.format=t.readShort(),n.format){case 0:n.length=t.readShort(),n.language=t.readShort();for(var o=0;o<256;++o)i[o]=t.readByte();break;case 4:n.length=t.readShort(),n.language=t.readShort();var r=t.readShort()/2;t.skip(6);var a=t.times(r,t.readShort);t.skip(2);var s=t.times(r,t.readShort),l=t.times(r,t.readShort_),c=t.times(r,t.readShort),u=(n.length+n.offset-t.offset())/2,h=t.times(u,t.readShort);for(o=0;o<r;++o){var d=s[o],f=a[o];for(e=d;e<=f;++e){var p;0===c[o]?p=e+l[o]:0!==(p=h[c[o]/2-(r-o)+(e-d)]||0)&&(p+=l[o]),i[e]=65535&p}}break;case 6:n.length=t.readShort(),n.language=t.readShort(),e=t.readShort();for(var m=t.readShort();m-- >0;)i[e++]=t.readShort();break;case 12:t.readShort(),n.length=t.readLong(),n.language=t.readLong();for(var g=t.readLong();g-- >0;){e=t.readLong();for(var v=t.readLong(),b=t.readLong();e<=v;)i[e++]=b++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+n.format)}})}(t,i,e.codeMap)})},render:function(t,e){var i=l();return i.writeShort(0),i.writeShort(1),i.write(function(t,e){var i=d(t),n=[],o=[],r=null,a=null;function s(i){return e[t[i]]}for(var c=0;c<i.length;++c){var u=i[c],h=s(u)-u;null!=r&&h===a||(r&&o.push(r),n.push(u),a=h),r=u}r&&o.push(r),o.push(65535),n.push(65535);var f=n.length,p=2*f,m=2*Math.pow(2,Math.floor(Math.log(f)/Math.LN2)),g=Math.log(m/2)/Math.LN2,v=p-m,b=[],k=[],y=[];for(c=0;c<f;++c){var w=n[c],_=o[c];if(65535==w){b.push(0),k.push(0);break}var x=s(w);if(w-x>=32768){b.push(0),k.push(2*(y.length+f-c));for(var S=w;S<=_;++S)y.push(s(S))}else b.push(x-w),k.push(0)}var C=l();return C.writeShort(3),C.writeShort(1),C.writeLong(12),C.writeShort(4),C.writeShort(16+8*f+2*y.length),C.writeShort(0),C.writeShort(p),C.writeShort(m),C.writeShort(g),C.writeShort(v),o.forEach(C.writeShort),C.writeShort(0),n.forEach(C.writeShort),b.forEach(C.writeShort_),k.forEach(C.writeShort),y.forEach(C.writeShort),C.get()}(t,e)),i.get()}}),S=p({parse:function(t){t.offset(this.offset),this.version=t.readShort(),this.averageCharWidth=t.readShort_(),this.weightClass=t.readShort(),this.widthClass=t.readShort(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort_(),this.ySubscriptYSize=t.readShort_(),this.ySubscriptXOffset=t.readShort_(),this.ySubscriptYOffset=t.readShort_(),this.ySuperscriptXSize=t.readShort_(),this.ySuperscriptYSize=t.readShort_(),this.ySuperscriptXOffset=t.readShort_(),this.ySuperscriptYOffset=t.readShort_(),this.yStrikeoutSize=t.readShort_(),this.yStrikeoutPosition=t.readShort_(),this.familyClass=t.readShort_(),this.panose=t.times(10,t.readByte),this.charRange=t.times(4,t.readLong),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=t.times(2,t.readLong),this.version>1&&(this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()))},render:function(){return this.raw()}}),C=1e5;function A(t){this.font=t,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var t="",e=String(C),i=0;i<e.length;++i)t+=String.fromCharCode(e.charCodeAt(i)-48+65);return++C,t}()+"+"+this.font.psName}function T(t,e){var i=this,n=i.contents=l(t);if("ttcf"==n.readString(4)){var o,r=function(){n.offset(o),i.parse()};if(!e)throw new Error("Must specify a name for TTC files");n.readLong();for(var a=n.readLong(),s=0;s<a;++s)if(o=n.readLong(),n.saveExcursion(r),i.psName==e)return;throw new Error("Font "+e+" not found in collection")}n.offset(0),i.parse()}A.prototype={use:function(t){var e=this;if("string"==typeof t)return function(t){for(var e,i,n=[],o=0,r=t.length;o<r;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<r?56320==(64512&(i=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--):n.push(e);return n}(t).reduce(function(t,i){return t+String.fromCharCode(e.use(i))},"");var i=e.unicodes[t];if(!i){i=e.next++,e.subset[i]=t,e.unicodes[t]=i;var n=e.font.cmap.codeMap[t];if(n&&(e.ncid2ogid[i]=n,null==e.ogid2ngid[n])){var o=e.nextGid++;e.ogid2ngid[n]=o,e.ngid2ogid[o]=n}}return i},encodeText:function(t){return this.use(t)},glyphIds:function(){return d(this.ogid2ngid)},glyphsFor:function(t,e){e||(e={});for(var i=0;i<t.length;++i){var n=t[i];if(!e[n]){var o=e[n]=this.font.glyf.glyphFor(n);o&&o.compound&&this.glyphsFor(o.glyphIds,e)}}return e},render:function(){var t=this.glyphsFor(this.glyphIds());for(var e in t)if(h(t,e)&&(e=parseInt(e,10),null==this.ogid2ngid[e])){var i=this.nextGid++;this.ogid2ngid[e]=i,this.ngid2ogid[i]=e}var n=d(this.ngid2ogid).map(function(t){return this.ngid2ogid[t]},this),o=this.font,r=o.glyf.render(t,n,this.ogid2ngid),a=o.loca.render(r.offsets);this.lastChar=this.next-1;var s={cmap:x.render(this.ncid2ogid,this.ogid2ngid),glyf:r.table,loca:a.table,hmtx:o.hmtx.render(n),hhea:o.hhea.render(n),maxp:o.maxp.render(n),post:o.post.render(n),name:o.name.render(this.psName),head:o.head.render(a.format),"OS/2":o.os2.render()};return this.font.directory.render(s)},cidToGidMap:function(){for(var t=l(),e=0,i=this.firstChar;i<this.next;++i){for(;e<i;)t.writeShort(0),e++;var n=this.ncid2ogid[i];if(n){var o=this.ogid2ngid[n];t.writeShort(o)}else t.writeShort(0);e++}return t.get()}},T.prototype={parse:function(){var t=this.directory=new f(this.contents);this.head=t.readTable("head",m),this.loca=t.readTable("loca",g),this.hhea=t.readTable("hhea",v),this.maxp=t.readTable("maxp",b),this.hmtx=t.readTable("hmtx",k),this.glyf=t.readTable("glyf",y),this.name=t.readTable("name",w),this.post=t.readTable("post",_),this.cmap=t.readTable("cmap",x),this.os2=t.readTable("OS/2",S),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(t){return this.hmtx.forGlyph(t).advance*this.scale},makeSubset:function(){return new A(this)}};var j=t.support.browser,M="\n",z=0,E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function I(){var t=0,e=l();function i(){for(var t=arguments,n=0;n<arguments.length;++n){var o=t[n];if(void 0===o)throw new Error("Cannot output undefined to PDF");if(o instanceof Z)o.beforeRender(i),o.render(i);else if(U(o))G(o,i);else if(W(o))Q(o,i);else if("number"==typeof o){if(isNaN(o))throw new Error("Cannot output NaN to PDF");var r=o.toFixed(7);r.indexOf(".")>=0&&(r=r.replace(/\.?0+$/,"")),"-0"==r&&(r="0"),e.writeString(r)}else/string|boolean/.test(typeof o)?e.writeString(String(o)):"function"==typeof o.get?e.write(o.get()):"object"==typeof o&&(o?i(new nt(o)):e.writeString("null"))}}return i.writeData=function(t){e.write(t)},i.withIndent=function(e){++t,e(i),--t},i.indent=function(){i(M,q("",2*t,"  ")),i.apply(null,arguments)},i.offset=function(){return e.offset()},i.toString=function(){throw new Error("FIX CALLER")},i.get=function(){return e.get()},i.stream=function(){return e},i}function D(t){if("function"!=typeof t){var e=t;t=function(t,i){return t in e?e[t]:i}}var i=t("paperSize",E.a4);if(!i)return{};if("string"==typeof i&&null==(i=E[i.toLowerCase()]))throw new Error("Unknown paper size");i[0]=K(i[0]),i[1]=K(i[1]),t("landscape",!1)&&(i=[Math.max(i[0],i[1]),Math.min(i[0],i[1])]);var n=t("margin");return n&&(n="string"==typeof n||"number"==typeof n?{left:n=K(n,0),top:n,right:n,bottom:n}:{left:K(n.left,0),top:K(n.top,0),right:K(n.right,0),bottom:K(n.bottom,0)},t("addMargin")&&(i[0]+=n.left+n.right,i[1]+=n.top+n.bottom)),{paperSize:i,margin:n}}function O(t){var e=this,i=I(),n=0,o=[];function r(e,i){return t&&null!=t[e]?t[e]:i}e.getOption=r,e.attach=function(t){return o.indexOf(t)<0&&(function(t,e){var i=t.beforeRender,n=t.render;t.beforeRender=function(){},t.render=function(t){t(e," 0 R")},t.renderFull=function(o){t._offset=o.offset(),o(e," 0 obj "),i.call(t,o),n.call(t,o),o(" endobj")}}(t,++n),o.push(t)),t},e.pages=[],e.FONTS={},e.IMAGES={},e.GRAD_COL_FUNCTIONS={},e.GRAD_OPC_FUNCTIONS={},e.GRAD_COL={},e.GRAD_OPC={};var a=e.attach(new rt),s=e.attach(new at);if(r("autoPrint")){var l={};l.JavaScript=new nt({Names:[new J("JS"),e.attach(new nt({S:it("JavaScript"),JS:new J("print(true);")}))]}),a.props.Names=new nt(l)}a.setPages(s);var c=e.attach(new nt({Producer:new J(r("producer","Kendo UI PDF Generator")),Title:new J(r("title","")),Author:new J(r("author","")),Subject:new J(r("subject","")),Keywords:new J(r("keywords","")),Creator:new J(r("creator","Kendo UI PDF Generator")),CreationDate:r("date",new Date)}));e.addPage=function(t){var i=D(function(e,i){return t&&null!=t[e]?t[e]:i}),n=i.paperSize,o=i.margin,r=n[0],a=n[1];o&&(r-=o.left+o.right,a-=o.top+o.bottom);var l=new ot(I(),null,!0),c={Contents:e.attach(l),Parent:s,MediaBox:[0,0,n[0],n[1]]},u=new gt(e,c);return u._content=l,s.addPage(e.attach(u)),u.transform(1,0,0,-1,0,n[1]),o&&(u.translate(o.left,o.top),u.rect(0,0,r,a),u.clip()),e.pages.push(u),u},e.render=function(){var t;for(i("%PDF-1.4",M,"%ÂÁÚÏÎ",M,M),t=0;t<o.length;++t)o[t].renderFull(i),i(M,M);var e=i.offset();for(i("xref",M,0," ",o.length+1,M),i("0000000000 65535 f ",M),t=0;t<o.length;++t)i(V(o[t]._offset,10)," 00000 n ",M);return i(M),i("trailer",M),i(new nt({Size:o.length+1,Root:a,Info:c}),M,M),i("startxref",M,e,M),i("%%EOF",M),i.stream().offset(0)}}var P={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},R={};function L(){R={}}function F(t,e,i){var n,o,r=R[t];if(r)i(r);else if(r=new Image,/^data:/i.test(t)||(r.crossOrigin="Anonymous"),a&&!/^data:/i.test(t)){var s=new XMLHttpRequest;s.onload=function(){o=s.response,c(n=URL.createObjectURL(o))},s.onerror=h,s.open("GET",t,!0),s.responseType="blob",s.send()}else c(t);function c(t){r.src=t,r.complete&&!j.msie?d():(r.onload=d,r.onerror=h)}function u(){e||(e={width:r.width,height:r.height});var o=document.createElement("canvas");o.width=e.width,o.height=e.height;var a,s=o.getContext("2d");s.drawImage(r,0,0,e.width,e.height);try{a=s.getImageData(0,0,e.width,e.height)}catch(t){return void h()}finally{n&&URL.revokeObjectURL(n)}for(var c=!1,u=l(),d=l(),f=a.data,p=0;p<f.length;){u.writeByte(f[p++]),u.writeByte(f[p++]),u.writeByte(f[p++]);var m=f[p++];m<255&&(c=!0),d.writeByte(m)}if(c)r=new function(t,e,i,n){this.asStream=function(o){var r=new ot(n,{Type:it("XObject"),Subtype:it("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:it("DeviceGray")},!0),a=new ot(i,{Type:it("XObject"),Subtype:it("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:it("DeviceRGB"),SMask:o.attach(r)},!0);return a._resourceName=it("I"+ ++z),a}}(e.width,e.height,u,d);else{var g=o.toDataURL("image/jpeg");g=g.substr(g.indexOf(";base64,")+8);var v=l();v.writeBase64(g),r=new lt(v)}i(R[t]=r)}function h(){i(R[t]="ERROR")}function d(){if(e&&(e.width>=r.width||e.height>=r.height)&&(e=null),!e&&o&&/^image\/jpe?g$/i.test(o.type)){var a=new FileReader;a.onload=function(){try{var e=new lt(l(new Uint8Array(this.result)));URL.revokeObjectURL(n),i(R[t]=e)}catch(t){u()}},a.readAsArrayBuffer(o)}else u()}}var N=function(t){return function(e,i){var n=e.length,o=n;if(0===n)return i();function r(){0==--n&&i()}for(;o-- >0;)t(e[o],r)}}(function(t,e){var i=P[t];i?e(i):function(t,e){var i;if(j.msie&&(i=/^data:.*?;base64,/i.exec(t)))e(u(t.substr(i[0].length)));else{var n=new XMLHttpRequest;n.open("GET",t,!0),a&&(n.responseType="arraybuffer"),n.onload=function(){200==n.status||304==n.status?e(a?new Uint8Array(n.response):new window.VBArray(n.responseBody).toArray()):o()},n.onerror=o,n.send(null)}function o(){window.console&&(window.console.error?window.console.error("Cannot load URL: %s",t):window.console.log("Cannot load URL: %s",t)),e(null)}}(t,function(i){if(null==i)throw new Error("Cannot load font from "+t);var n=new T(i);P[t]=n,e(n)})}),B=function(t,e){var i=Object.keys(t),n=i.length;if(0===n)return e();function o(){0==--n&&e()}i.forEach(function(e){F(e,t[e],o)})};function q(t,e,i){for(;t.length<e;)t=i+t;return t}function V(t,e){return q(String(t),e,"0")}function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)}O.prototype={loadFonts:N,loadImages:B,getFont:function(t){var e=this.FONTS[t];if(!e){if(!(e=P[t]))throw new Error("Font "+t+" has not been loaded");e=!0===e?this.attach(new ct(t)):this.attach(new ut(this,e)),this.FONTS[t]=e}return e},getImage:function(t){var e=this.IMAGES[t];if(!e){if(!(e=R[t]))throw new Error("Image "+t+" has not been loaded");if("ERROR"===e)return null;e=this.IMAGES[t]=this.attach(e.asStream(this))}return e},getOpacityGS:function(t,e){var i=parseFloat(t).toFixed(3);t=parseFloat(i),i+=e?"S":"F";var n=this._opacityGSCache||(this._opacityGSCache={}),o=n[i];if(!o){var r={Type:it("ExtGState")};e?r.CA=t:r.ca=t,(o=this.attach(new nt(r)))._resourceName=it("GS"+ ++z),n[i]=o}return o},dict:function(t){return new nt(t)},name:function(t){return it(t)},stream:function(t,e){return new ot(e,t)}};var U=Array.isArray||function(t){return t instanceof Array};function W(t){return t instanceof Date}function G(t,e){e("["),t.length>0&&e.withIndent(function(){for(var i=0;i<t.length;++i)i>0&&i%8==0?e.indent(t[i]):e(" ",t[i])}),e(" ]")}function Q(t,e){e("(D:",V(t.getUTCFullYear(),4),V(t.getUTCMonth()+1,2),V(t.getUTCDate(),2),V(t.getUTCHours(),2),V(t.getUTCMinutes(),2),V(t.getUTCSeconds(),2),"Z)")}function Y(t){return t*(72/25.4)}function K(t,e){if("number"==typeof t)return t;var i;if("string"==typeof t&&(i=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(t))){var n=parseFloat(i[1]);if(!isNaN(n))return"pt"==i[2]?n:{mm:Y,cm:function(t){return Y(10*t)},in:function(t){return 72*t}}[i[2]](n)}if(null!=e)return e;throw new Error("Can't parse unit: "+t)}function Z(){}function X(t,e,i){for(var n in i||(i=Z),t.prototype=new i,e)H(e,n)&&(t.prototype[n]=e[n]);return t}Z.prototype.beforeRender=function(){};var J=X(function(t){this.value=t},{render:function(t){for(var e="",i=this.value,n=0;n<i.length;++n)e+=String.fromCharCode(255&i.charCodeAt(n));t("(",e.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}}),$=X(function(t){this.value=t},{render:function(t){t("<");for(var e=0;e<this.value.length;++e)t(V(this.value.charCodeAt(e).toString(16),4));t(">")}},J),tt=X(function(t){this.name=t},{render:function(t){t("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(t){return"#"+V(t.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),et={};function it(t){return H(et,t)?et[t]:et[t]=new tt(t)}tt.get=it;var nt=X(function(t){this.props=t},{render:function(t){var e=this.props,i=!0;t("<<"),t.withIndent(function(){for(var n in e)H(e,n)&&!/^_/.test(n)&&(i=!1,t.indent(it(n)," ",e[n]))}),i||t.indent(),t(">>")}}),ot=X(function(t,e,i){if("string"==typeof t){var n=l();n.write(t),t=n}this.data=t,this.props=e||{},this.compress=i},{render:function(t){var e=this.data.get(),n=this.props;this.compress&&i.supportsDeflate()&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(it("FlateDecode")),e=i.deflate(e)),n.Length=e.length,t(new nt(n)," stream",M),t.writeData(e),t(M,"endstream")}}),rt=X(function(){this.props={Type:it("Catalog")}},{setPages:function(t){this.props.Pages=t}},nt),at=X(function(){this.props={Type:it("Pages"),Kids:[],Count:0}},{addPage:function(t){this.props.Kids.push(t),this.props.Count++}},nt),st=[192,193,194,195,197,198,199,201,202,203,205,206,207];function lt(t){var e,i,n,o;if(t.offset(0),65496!=t.readShort())throw new Error("Invalid JPEG image");for(;!t.eof();){if(255!=t.readByte())throw new Error("Invalid JPEG image");var r=t.readByte(),a=t.readShort();if(st.indexOf(r)>=0){o=t.readByte(),i=t.readShort(),e=t.readShort(),n=t.readByte();break}t.skip(a-2)}if(null==n)throw new Error("Invalid JPEG image");var s={Type:it("XObject"),Subtype:it("Image"),Width:e,Height:i,BitsPerComponent:o,Filter:it("DCTDecode")};switch(n){case 1:s.ColorSpace=it("DeviceGray");break;case 3:s.ColorSpace=it("DeviceRGB");break;case 4:s.ColorSpace=it("DeviceCMYK"),s.Decode=[1,0,1,0,1,0,1,0]}this.asStream=function(){t.offset(0);var e=new ot(t,s);return e._resourceName=it("I"+ ++z),e}}var ct=X(function(t){this.props={Type:it("Font"),Subtype:it("Type1"),BaseFont:it(t)},this._resourceName=it("F"+ ++z)},{encodeText:function(t){return new J(String(t))}},nt),ut=X(function(t,e,i){(i=this.props=i||{}).Type=it("Font"),i.Subtype=it("Type0"),i.Encoding=it("Identity-H"),this._pdf=t,this._font=e,this._sub=e.makeSubset(),this._resourceName=it("F"+ ++z);var n=e.head;this.name=e.psName;var o=this.scale=e.scale;this.bbox=[n.xMin*o,n.yMin*o,n.xMax*o,n.yMax*o],this.italicAngle=e.post.italicAngle,this.ascent=e.ascent*o,this.descent=e.descent*o,this.lineGap=e.lineGap*o,this.capHeight=e.os2.capHeight||this.ascent,this.xHeight=e.os2.xHeight||0,this.stemV=0,this.familyClass=(e.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(e.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32},{encodeText:function(t){return new $(this._sub.encodeText(String(t)))},getTextWidth:function(t,e){for(var i=0,n=this._font.cmap.codeMap,o=0;o<e.length;++o){var r=n[e.charCodeAt(o)];i+=this._font.widthOfGlyph(r||0)}return i*t/1e3},beforeRender:function(){var t=this,e=t._sub,i=e.render(),n=new ot(l(i),{Length1:i.length},!0),o=t._pdf.attach(new nt({Type:it("FontDescriptor"),FontName:it(t._sub.psName),FontBBox:t.bbox,Flags:t.flags,StemV:t.stemV,ItalicAngle:t.italicAngle,Ascent:t.ascent,Descent:t.descent,CapHeight:t.capHeight,XHeight:t.xHeight,FontFile2:t._pdf.attach(n)})),r=e.ncid2ogid,a=e.firstChar,s=e.lastChar,c=[];!function e(i,n){if(i<=s){var o=r[i];null==o?e(i+1):(n||c.push(i,n=[]),n.push(t._font.widthOfGlyph(o)),e(i+1,n))}}(a);var u=new nt({Type:it("Font"),Subtype:it("CIDFontType2"),BaseFont:it(t._sub.psName),CIDSystemInfo:new nt({Registry:new J("Adobe"),Ordering:new J("Identity"),Supplement:0}),FontDescriptor:o,FirstChar:a,LastChar:s,DW:Math.round(t._font.widthOfGlyph(0)),W:c,CIDToGIDMap:t._pdf.attach(t._makeCidToGidMap())}),h=t.props;h.BaseFont=it(t._sub.psName),h.DescendantFonts=[t._pdf.attach(u)];var d=new ht(a,s,e.subset),f=new ot(I(),null,!0);f.data(d),h.ToUnicode=t._pdf.attach(f)},_makeCidToGidMap:function(){return new ot(l(this._sub.cidToGidMap()),null,!0)}},nt),ht=X(function(t,e,i){this.firstChar=t,this.lastChar=e,this.map=i},{render:function(t){t.indent("/CIDInit /ProcSet findresource begin"),t.indent("12 dict begin"),t.indent("begincmap"),t.indent("/CIDSystemInfo <<"),t.indent("  /Registry (Adobe)"),t.indent("  /Ordering (UCS)"),t.indent("  /Supplement 0"),t.indent(">> def"),t.indent("/CMapName /Adobe-Identity-UCS def"),t.indent("/CMapType 2 def"),t.indent("1 begincodespacerange"),t.indent("  <0000><ffff>"),t.indent("endcodespacerange");var e=this;t.indent(e.lastChar-e.firstChar+1," beginbfchar"),t.withIndent(function(){for(var i=e.firstChar;i<=e.lastChar;++i){var n=c([e.map[i]]);t.indent("<",V(i.toString(16),4),">","<");for(var o=0;o<n.length;++o)t(V(n.charCodeAt(o).toString(16),4));t(">")}}),t.indent("endbfchar"),t.indent("endcmap"),t.indent("CMapName currentdict /CMap defineresource pop"),t.indent("end"),t.indent("end")}});function dt(t){return t.map(function(t){return U(t)?dt(t):"number"==typeof t?(Math.round(1e3*t)/1e3).toFixed(3):t}).join(" ")}function ft(t,e,i,n,o,r,a){var s=dt([e,i,n,o,r,a]),l=t.GRAD_COL_FUNCTIONS[s];return l||(l=t.GRAD_COL_FUNCTIONS[s]=t.attach(new nt({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[e,i,n],C1:[o,r,a]}))),l}function pt(t,e,i){var n=dt([e,i]),o=t.GRAD_OPC_FUNCTIONS[n];return o||(o=t.GRAD_OPC_FUNCTIONS[n]=t.attach(new nt({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[e],C1:[i]}))),o}function mt(t,e,i){var n="radial"==e.type,o=function(t,e){var i,n,o,r,a,s=!1,l=[],c=[],u=[],h=[];for(i=1;i<e.length;++i)n=e[i-1],o=e[i],r=n.color,a=o.color,c.push(ft(t,r.r,r.g,r.b,a.r,a.g,a.b)),(r.a<1||a.a<1)&&(s=!0),u.push(o.offset),h.push(0,1);if(s)for(i=1;i<e.length;++i)n=e[i-1],o=e[i],r=n.color,a=o.color,l.push(pt(t,r.a,a.a));return u.pop(),{hasAlpha:s,colors:d(c),opacities:s?d(l):null};function d(t){return 1==t.length?t[0]:{FunctionType:3,Functions:t,Domain:[0,1],Bounds:u,Encode:h}}}(t,e.stops),r=n?[e.start.x,e.start.y,e.start.r,e.end.x,e.end.y,e.end.r]:[e.start.x,e.start.y,e.end.x,e.end.y],a=function(t,e,i,n,o,r){var a,s;if(!r){var l=[e].concat(n);i.forEach(function(t){l.push(t.offset,t.color.r,t.color.g,t.color.b)}),s=dt(l),a=t.GRAD_COL[s]}return a||(a=new nt({Type:it("Shading"),ShadingType:e?3:2,ColorSpace:it("DeviceRGB"),Coords:n,Domain:[0,1],Function:o,Extend:[!0,!0]}),t.attach(a),a._resourceName="S"+ ++z,s&&(t.GRAD_COL[s]=a)),a}(t,n,e.stops,r,o.colors,e.userSpace&&i),s=o.hasAlpha?function(t,e,i,n,o,r){var a,s;if(!r){var l=[e].concat(n);i.forEach(function(t){l.push(t.offset,t.color.a)}),s=dt(l),a=t.GRAD_OPC[s]}return a||(a=new nt({Type:it("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:it("Mask"),S:it("Luminosity"),G:t.attach(new ot("/a0 gs /s0 sh",{Type:it("XObject"),Subtype:it("Form"),FormType:1,BBox:r?[r.left,r.top+r.height,r.left+r.width,r.top]:[0,1,1,0],Group:{Type:it("Group"),S:it("Transparency"),CS:it("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:it("DeviceGray"),Coords:n,Domain:[0,1],ShadingType:e?3:2,Function:o,Extend:[!0,!0]}}}}))}}),t.attach(a),a._resourceName="O"+ ++z,s&&(t.GRAD_OPC[s]=a)),a}(t,n,e.stops,r,o.opacities,e.userSpace&&i):null;return{hasAlpha:o.hasAlpha,shading:a,opacity:s}}var gt=X(function(t,e){this._pdf=t,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(e=this.props=e||{}).Type=it("Page"),e.ProcSet=[it("PDF"),it("Text"),it("ImageB"),it("ImageC"),it("ImageI")],e.Resources=new nt({Font:new nt(this._fontResources),ExtGState:new nt(this._gsResources),XObject:new nt(this._xResources),Pattern:new nt(this._patResources),Shading:new nt(this._shResources)}),e.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(t,e,i,n,o,r){(function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]})(arguments)||(this._matrix=function(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=e[0],c=e[1],u=e[2],h=e[3],d=e[4],f=e[5];return[i*l+n*u,i*c+n*h,o*l+r*u,o*c+r*h,a*l+s*u+d,a*c+s*h+f]}(arguments,this._matrix),this._out(t," ",e," ",i," ",n," ",o," ",r," cm"),this._out(M))},translate:function(t,e){this.transform(1,0,0,1,t,e)},scale:function(t,e){this.transform(t,0,0,e,0,0)},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);this.transform(e,i,-i,e,0,0)},beginText:function(){this._textMode=!0,this._out("BT",M)},endText:function(){this._textMode=!1,this._out("ET",M)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(t,e){this._requireTextMode(),null==t?t=this._font:t instanceof ut||(t=this._pdf.getFont(t)),null==e&&(e=this._fontSize),this._fontResources[t._resourceName]=t,this._font=t,this._fontSize=e,this._out(t._resourceName," ",e," Tf",M)},setTextLeading:function(t){this._requireTextMode(),this._out(t," TL",M)},setTextRenderingMode:function(t){this._requireTextMode(),this._out(t," Tr",M)},showText:function(t,e){if(this._requireFont(),t.length>1&&e&&this._font instanceof ut){var i=e/this._font.getTextWidth(this._fontSize,t)*100;this._out(i," Tz ")}this._out(this._font.encodeText(t)," Tj",M)},showTextNL:function(t){this._requireFont(),this._out(this._font.encodeText(t)," '",M)},addLink:function(t,e){var i=this._toPage({x:e.left,y:e.bottom}),n=this._toPage({x:e.right,y:e.top});this._annotations.push(new nt({Type:it("Annot"),Subtype:it("Link"),Rect:[i.x,i.y,n.x,n.y],Border:[0,0,0],A:new nt({Type:it("Action"),S:it("URI"),URI:new J(t)})}))},setStrokeColor:function(t,e,i){this._out(t," ",e," ",i," RG",M)},setOpacity:function(t){this.setFillOpacity(t),this.setStrokeOpacity(t),this._opacity*=t},setStrokeOpacity:function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!0);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",M)}},setFillColor:function(t,e,i){this._out(t," ",e," ",i," rg",M)},setFillOpacity:function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!1);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",M)}},gradient:function(t,e){this.save(),this.rect(e.left,e.top,e.width,e.height),this.clip(),t.userSpace||this.transform(e.width,0,0,e.height,e.left,e.top);var i,n=mt(this._pdf,t,e),o=n.shading._resourceName;this._shResources[o]=n.shading,n.hasAlpha&&(i=n.opacity._resourceName,this._gsResources[i]=n.opacity,this._out("/"+i+" gs ")),this._out("/"+o+" sh",M),this.restore()},setDashPattern:function(t,e){this._out(t," ",e," d",M)},setLineWidth:function(t){this._out(t," w",M)},setLineCap:function(t){this._out(t," J",M)},setLineJoin:function(t){this._out(t," j",M)},setMitterLimit:function(t){this._out(t," M",M)},save:function(){this._contextStack.push(this._context()),this._out("q",M)},restore:function(){this._out("Q",M),this._context(this._contextStack.pop())},moveTo:function(t,e){this._out(t," ",e," m",M)},lineTo:function(t,e){this._out(t," ",e," l",M)},bezier:function(t,e,i,n,o,r){this._out(t," ",e," ",i," ",n," ",o," ",r," c",M)},bezier1:function(t,e,i,n){this._out(t," ",e," ",i," ",n," y",M)},bezier2:function(t,e,i,n){this._out(t," ",e," ",i," ",n," v",M)},close:function(){this._out("h",M)},rect:function(t,e,i,n){this._out(t," ",e," ",i," ",n," re",M)},ellipse:function(t,e,i,n){function o(e){return t+e}function r(t){return e+t}var a=.5522847498307936;this.moveTo(o(0),r(n)),this.bezier(o(i*a),r(n),o(i),r(n*a),o(i),r(0)),this.bezier(o(i),r(-n*a),o(i*a),r(-n),o(0),r(-n)),this.bezier(o(-i*a),r(-n),o(-i),r(-n*a),o(-i),r(0)),this.bezier(o(-i),r(n*a),o(-i*a),r(n),o(0),r(n))},circle:function(t,e,i){this.ellipse(t,e,i,i)},stroke:function(){this._out("S",M)},nop:function(){this._out("n",M)},clip:function(){this._out("W n",M)},clipStroke:function(){this._out("W S",M)},closeStroke:function(){this._out("s",M)},fill:function(){this._out("f",M)},fillStroke:function(){this._out("B",M)},drawImage:function(t){var e=this._pdf.getImage(t);e&&(this._xResources[e._resourceName]=e,this._out(e._resourceName," Do",M))},comment:function(t){var e=this;t.split(/\r?\n/g).forEach(function(t){e._out("% ",t,M)})},_context:function(t){if(null==t)return{opacity:this._opacity,matrix:this._matrix};this._opacity=t.opacity,this._matrix=t.matrix},_toPage:function(t){var e=this._matrix,i=e[0],n=e[1],o=e[2],r=e[3],a=e[4],s=e[5];return{x:i*t.x+o*t.y+a,y:n*t.x+r*t.y+s}}},nt);function vt(t){return t.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function bt(t){var e=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i.exec(t);if(!e)return{fontSize:12,fontFamily:"sans-serif"};var i=e[8]?parseInt(e[8],10):12;return{italic:e[2]&&"italic"==e[2].toLowerCase(),variant:e[4],bold:e[6]&&/bold|700/i.test(e[6]),fontSize:i,lineHeight:e[12]?"normal"==e[12]?i:parseInt(e[12],10):null,fontFamily:e[14].split(/\s*,\s*/g).map(vt)}}function kt(t){function e(e){return t.bold&&(e+="|bold"),t.italic&&(e+="|italic"),e.toLowerCase()}var i,n,o=t.fontFamily;if(o instanceof Array)for(var r=0;r<o.length&&(i=e(o[r]),!(n=yt[i]));++r);else n=yt[o.toLowerCase()];for(;"function"==typeof n;)n=n();return n||(n="Times-Roman"),n}var yt={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function wt(t,e){t=t.toLowerCase(),yt[t]=function(){return yt[e]},yt[t+"|bold"]=function(){return yt[e+"|bold"]},yt[t+"|italic"]=function(){return yt[e+"|italic"]},yt[t+"|bold|italic"]=function(){return yt[e+"|bold|italic"]}}wt("Times New Roman","serif"),wt("Courier New","monospace"),wt("Arial","sans-serif"),wt("Helvetica","sans-serif"),wt("Verdana","sans-serif"),wt("Tahoma","sans-serif"),wt("Georgia","sans-serif"),wt("Monaco","monospace"),wt("Andale Mono","monospace");var _t={fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7},xt=_t,St={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},Ct={butt:0,round:1,square:2},At={miter:0,round:1,bevel:2};function Tt(t,e){var i=[],o={},a=t.options;function s(t,e,i){return i||(i=a),i.pdf&&null!=i.pdf[t]?i.pdf[t]:e}var l=s("multiPage"),c=s("imgDPI");function u(){if(!(--h>0)){var i=new O({producer:s("producer"),title:s("title"),author:s("author"),subject:s("subject"),keywords:s("keywords"),creator:s("creator"),date:s("date"),autoPrint:s("autoPrint")});l?t.children.forEach(o):o(t),e(i.render(),i)}function o(t){var e=t.options,o=function(t){var e,i=!1,o=r.Matrix.unit(),a=null;do{e=!1,t=u(t)}while(t&&e);return{root:t,bbox:a};function s(t){return e=!0,t}function l(t){return t.visible()&&t.opacity()>0&&(It(t.fill())||It(t.stroke()))}function c(t){for(var e=[],i=0;i<t.length;++i){var n=u(t[i]);null!=n&&e.push(n)}return e}function u(e){return function(t,e){var n=i,a=o;t.transform()&&(o=o.multiplyCopy(t.transform().matrix()));var s=t.clip();s&&(s=s.bbox())&&(s=s.bbox(o),i=i?r.Rect.intersect(i,s):s);try{return e()}finally{i=n,o=a}}(e,function(){if(!(e instanceof n.Group||e instanceof n.MultiPath)){var u=function(t){if(null==i)return!1;var e=t.rawBBox().bbox(o);return i&&e&&(e=r.Rect.intersect(e,i)),e}(e);if(!u)return s(null);a=a?r.Rect.union(a,u):u}return zt({Path:function(t){return 0!==t.segments.length&&l(t)?t:s(null)},MultiPath:function(t){if(!l(t))return s(null);var e=new n.MultiPath(t.options);return e.paths=c(t.paths),0===e.paths.length?s(null):e},Circle:function(t){return l(t)?t:s(null)},Arc:function(t){return l(t)?t:s(null)},Text:function(t){return/\S/.test(t.content())&&l(t)?t:s(null)},Image:function(t){return t.visible()&&t.opacity()>0?t:s(null)},Group:function(e){var i=new n.Group(e.options);return i.children=c(e.children),i._pdfLink=e._pdfLink,e===t||0!==i.children.length||e._pdfLink?i:s(null)},Rect:function(t){return l(t)?t:s(null)}},e)})}}(t),a=o.bbox;t=o.root;var l=s("paperSize",s("paperSize","auto"),e),c=!1;if("auto"==l)if(a){var u=a.getSize();l=[u.width,u.height],c=!0;var h=a.getOrigin();(o=new n.Group).transform(new r.Matrix(1,0,0,1,-h.x,-h.y)),o.append(t),t=o}else l="A4";Et(t,i.addPage({paperSize:l,margin:s("margin",s("margin"),e),addMargin:c,landscape:s("landscape",s("landscape",!1),e)}),i)}}c&&L(),t.traverse(function(t){zt({Image:function(t){var e=t.src();if(c){var i=t.bbox().size,n=o[e];i={width:Math.ceil(i.width*c/72),height:Math.ceil(i.height*c/72)},n&&(i.width=Math.max(n.width,i.width),i.height=Math.max(n.height,i.height)),o[e]=i}else o[e]=null},Text:function(t){var e=kt(bt(t.options.font));i.indexOf(e)<0&&i.push(e)}},t)});var h=2;N(i,u),B(o,u)}function jt(t,e){Tt(t,function(t){e("data:application/pdf;base64,"+t.base64())})}function Mt(t,e){Tt(t,function(t){e(new window.Blob([t.get()],{type:"application/pdf"}))})}function zt(t,e){var i=t[e.nodeType];return i?i.call.apply(i,arguments):e}function Et(t,e,i){t.options._pdfDebug&&e.comment("BEGIN: "+t.options._pdfDebug);var o=t.transform(),r=t.opacity();if(e.save(),null!=r&&r<1&&e.setOpacity(r),function(t,e){var i=t.stroke&&t.stroke();if(i){var n=i.color;if(n){if(null==(n=Ut(n)))return;e.setStrokeColor(n.r,n.g,n.b),1!=n.a&&e.setStrokeOpacity(n.a)}var o=i.width;if(null!=o){if(0===o)return;e.setLineWidth(o)}var r=i.dashType;r&&e.setDashPattern(St[r],0);var a=i.lineCap;a&&e.setLineCap(Ct[a]);var s=i.lineJoin;s&&e.setLineJoin(At[s]);var l=i.opacity;null!=l&&e.setStrokeOpacity(l)}}(t,e),function(t,e){var i=t.fill&&t.fill();if(i&&!(i instanceof n.Gradient)){var o=i.color;if(o){if(null==(o=Ut(o)))return;e.setFillColor(o.r,o.g,o.b),1!=o.a&&e.setFillOpacity(o.a)}var r=i.opacity;null!=r&&e.setFillOpacity(r)}}(t,e),o){var a=o.matrix();e.transform(a.a,a.b,a.c,a.d,a.e,a.f)}!function(t,e,i){var n=t.clip();n&&(Pt(n,e),e.clip())}(t,e),zt({Path:Rt,MultiPath:Lt,Circle:Ft,Arc:Nt,Text:Bt,Image:Vt,Group:qt,Rect:Ht},t,e,i),e.restore(),t.options._pdfDebug&&e.comment("END: "+t.options._pdfDebug)}function It(t){return t&&(t instanceof n.Gradient||t.color&&!/^(none|transparent)$/i.test(t.color)&&(null==t.width||t.width>0)&&(null==t.opacity||t.opacity>0))}function Dt(t,e,i,o){var r=t.fill();if(r instanceof n.Gradient){o?e.clipStroke():e.clip();var a,s,l=r instanceof n.RadialGradient;l?(a={x:r.center().x,y:r.center().y,r:0},s={x:r.center().x,y:r.center().y,r:r.radius()}):(a={x:r.start().x,y:r.start().y},s={x:r.end().x,y:r.end().y});var c=r.stops.elements().map(function(t){var e=t.offset();e=/%$/.test(e)?parseFloat(e)/100:parseFloat(e);var i=Ut(t.color());return i.a*=t.opacity(),{offset:e,color:i}});c.unshift(c[0]),c.push(c[c.length-1]);var u={userSpace:r.userSpace(),type:l?"radial":"linear",start:a,end:s,stops:c},h=t.rawBBox(),d=h.topLeft(),f=h.getSize();return h={left:d.x,top:d.y,width:f.width,height:f.height},e.gradient(u,h),!0}}function Ot(t,e,i){It(t.fill())&&It(t.stroke())?Dt(t,e,0,!0)||e.fillStroke():It(t.fill())?Dt(t,e,0,!1)||e.fill():It(t.stroke())?e.stroke():e.nop()}function Pt(t,e,i){var n=t.segments;if(0!==n.length&&!function(t,e){var i=t.segments;if(4==i.length&&t.options.closed){for(var n=[],o=0;o<i.length;++o){if(i[o].controlIn())return!1;n[o]=i[o].anchor()}if(n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].x||n[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y)return e.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y),!0}}(t,e)){for(var o,r=0;r<n.length;++r){var a=n[r],s=a.anchor();if(o){var l=o.controlOut(),c=a.controlIn();l&&c?e.bezier(l.x,l.y,c.x,c.y,s.x,s.y):e.lineTo(s.x,s.y)}else e.moveTo(s.x,s.y);o=a}t.options.closed&&e.close()}}function Rt(t,e,i){Pt(t,e),Ot(t,e)}function Lt(t,e,i){for(var n=t.paths,o=0;o<n.length;++o)Pt(n[o],e);Ot(t,e)}function Ft(t,e,i){var n=t.geometry();e.circle(n.center.x,n.center.y,n.radius),Ot(t,e)}function Nt(t,e,i){var n=t.geometry().curvePoints();e.moveTo(n[0].x,n[0].y);for(var o=1;o<n.length;)e.bezier(n[o].x,n[o++].y,n[o].x,n[o++].y,n[o].x,n[o++].y);Ot(t,e)}function Bt(t,e){var i,n=bt(t.options.font),o=t._position;t.fill()&&t.stroke()?i=xt.fillAndStroke:t.fill()?i=xt.fill:t.stroke()&&(i=xt.stroke),e.transform(1,0,0,-1,o.x,o.y+n.fontSize),e.beginText(),e.setFont(kt(n),n.fontSize),e.setTextRenderingMode(i),e.showText(t.content(),t._pdfRect?t._pdfRect.width():null),e.endText()}function qt(t,e,i){t._pdfLink&&e.addLink(t._pdfLink.url,t._pdfLink);for(var n=t.children,o=0;o<n.length;++o)Et(n[o],e,i)}function Vt(t,e){var i=t.src();if(i){var n=t.rect(),o=n.getOrigin(),r=n.getSize();e.transform(r.width,0,0,-r.height,o.x,o.y+r.height),e.drawImage(i)}}function Ht(t,e,i){var n=t.geometry();e.rect(n.origin.x,n.origin.y,n.size.width,n.size.height),Ot(t,e)}function Ut(e){var i=t.parseColor(e,!0);return i?i.toRGB():null}t.deepExtend(t.pdf,{Document:O,BinaryStream:l,defineFont:function t(e,i){if(1==arguments.length)for(var n in e)H(e,n)&&t(n,e[n]);else switch(e=e.toLowerCase(),yt[e]=i,e){case"dejavu sans":yt["sans-serif"]=i;break;case"dejavu sans|bold":yt["sans-serif|bold"]=i;break;case"dejavu sans|italic":yt["sans-serif|italic"]=i;break;case"dejavu sans|bold|italic":yt["sans-serif|bold|italic"]=i;break;case"dejavu serif":yt.serif=i;break;case"dejavu serif|bold":yt["serif|bold"]=i;break;case"dejavu serif|italic":yt["serif|italic"]=i;break;case"dejavu serif|bold|italic":yt["serif|bold|italic"]=i;break;case"dejavu mono":yt.monospace=i;break;case"dejavu mono|bold":yt["monospace|bold"]=i;break;case"dejavu mono|italic":yt["monospace|italic"]=i;break;case"dejavu mono|bold|italic":yt["monospace|bold|italic"]=i}},parseFontDef:bt,getFontURL:kt,loadFonts:N,loadImages:B,getPaperOptions:D,clearImageCache:L,TEXT_RENDERING_MODE:_t,exportPDF:function(t,e){var i=o.createPromise();for(var n in e)"margin"==n&&t.options.pdf&&t.options.pdf._ignoreMargin||t.options.set("pdf."+n,e[n]);return jt(t,i.resolve),i},saveAs:function(i,n,o,r){window.Blob&&!e.safari?Mt(i,function(e){t.saveAs({dataURI:e,fileName:n}),r&&r(e)}):jt(i,function(e){t.saveAs({dataURI:e,fileName:n,proxyURL:o}),r&&r(e)})},toDataURL:jt,toBlob:Mt,render:Tt}),t.drawing.exportPDF=t.pdf.exportPDF,t.drawing.pdf=t.pdf}(kendo),kendo})?a.apply(e,s):a,i(0),s=[o],r="function"==typeof(a=function(){return function(t,e){kendo.PDFMixin={extend:function(t){t.events.push("pdfExport"),t.options.pdf=this.options,t.saveAsPDF=this.saveAsPDF,t._drawPDF=this._drawPDF,t._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:!1,landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+kendo.version,date:null},saveAsPDF:function(){var e=new t.Deferred,i=e.promise(),n={promise:i};if(!this.trigger("pdfExport",n)){var o=this.options.pdf;return o.multiPage=o.multiPage||o.allPages,this._drawPDF(e).then(function(t){return kendo.drawing.exportPDF(t,o)}).done(function(t){kendo.saveAs({dataURI:t,fileName:o.fileName,proxyURL:o.proxyURL,forceProxy:o.forceProxy,proxyTarget:o.proxyTarget}),e.resolve()}).fail(function(t){e.reject(t)}),i}},_drawPDF:function(e){var i=new t.Deferred;return kendo.drawing.drawDOM(this.wrapper).done(function(t){var n={page:t,pageNumber:1,progress:1,totalPages:1};e.notify(n),i.resolve(n.page)}).fail(function(t){i.reject(t)}),i},_drawPDFShadow:function(e,i){e=e||{};var n=this.wrapper,o=t("<div class='k-pdf-export-shadow'>");e.width&&o.css({width:e.width,overflow:"visible"}),n.before(o),o.append(e.content||n.clone(!0,!0));var r=t.Deferred();return setTimeout(function(){kendo.drawing.drawDOM(o,i).always(function(){o.remove()}).then(function(){r.resolve.apply(r,arguments)}).fail(function(){r.reject.apply(r,arguments)}).progress(function(){r.progress.apply(r,arguments)})},15),r.promise()}}}(window.kendo.jQuery),window.kendo})?a.apply(e,s):a,i(0),s=[i(4),i(24),o,r],void 0===(l="function"==typeof(a=function(){})?a.apply(e,s):a)||(t.exports=l)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=".kendoValidator",r=new RegExp("k-invalid-msg","i"),a=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,s=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,l=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=t.proxy,u=function(t,e){return"string"==typeof e&&(e=new RegExp("^(?:"+e+")$")),e.test(t)},h=function(t,e,i){var n=t.val();return!t.filter(e).length||""===n||u(n,i)};function d(e,n){for(var o,a=t(),s=0,l=e.length;s<l;s++)o=e[s],r.test(o.className)&&o.getAttribute(i.attr("for"))===n&&(a=a.add(o));return a}i.ui.validator||(i.ui.validator={rules:{},messages:{}});var f=n.extend({init:function(e,o){var r=function(e){var n,o=i.ui.validator.ruleResolvers||{},r={};for(n in o)t.extend(!0,r,o[n].resolve(e));return r}(e),a="["+i.attr("validate")+"!=false]";(o=o||{}).rules=t.extend({},i.ui.validator.rules,r.rules,o.rules),o.messages=t.extend({},i.ui.validator.messages,r.messages,o.messages),n.fn.init.call(this,e,o),this._errorTemplate=i.template(this.options.errorTemplate),this.element.is("form")&&this.element.attr("novalidate","novalidate"),this._inputSelector=l+a,this._checkboxSelector=":checkbox:not([disabled],[readonly])"+a,this._errors={},this._attachEvents(),this._isValidated=!1},events:["validate","change","validateInput"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-i-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(t){var e=t.filter("[type=checkbox]").length&&!t.is(":checked"),i=t.val();return!(function(t,e){return!!t.length&&null!=t[0].attributes[e]}(t,"required")&&(!i||""===i||0===i.length||e))},pattern:function(t){return!t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===t.val()||u(t.val(),t.attr("pattern"))},min:function(t){return!t.filter("[type=number],[type=range],["+i.attr("type")+"=number]").filter("[min]").length||""===t.val()||(parseFloat(t.attr("min"))||0)<=i.parseFloat(t.val())},max:function(t){return!t.filter("[type=number],[type=range],["+i.attr("type")+"=number]").filter("[max]").length||""===t.val()||(parseFloat(t.attr("max"))||0)>=i.parseFloat(t.val())},step:function(t){if(t.filter("[type=number],[type=range],["+i.attr("type")+"=number]").filter("[step]").length&&""!==t.val()){var e,n=parseFloat(t.attr("min"))||0,o=parseFloat(t.attr("step"))||1,r=parseFloat(t.val()),a=function(t){return(t=(t+"").split(".")).length>1?t[1].length:0}(o);return a?(e=Math.pow(10,a),Math.floor((r-n)*e)%(o*e)/Math.pow(100,a)==0):(r-n)%o==0}return!0},email:function(t){return h(t,"[type=email],["+i.attr("type")+"=email]",a)},url:function(t){return h(t,"[type=url],["+i.attr("type")+"=url]",s)},date:function(t){return!t.filter("[type^=date],["+i.attr("type")+"=date]").length||""===t.val()||null!==i.parseDate(t.val(),t.attr(i.attr("format")))}},validateOnBlur:!0},destroy:function(){n.fn.destroy.call(this),this.element.off(o)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(t){return!!this.validate()||(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1)},_checkElement:function(t){var e=this.value();this.validateInput(t),this.value()!==e&&this.trigger("change")},_attachEvents:function(){var e=this;e.element.is("form")&&e.element.on("submit"+o,c(e._submit,e)),e.options.validateOnBlur&&(e.element.is(l)?(e.element.on("blur"+o,function(){e._checkElement(e.element)}),e.element.is(":checkbox:not([disabled],[readonly])")&&e.element.on("click"+o,function(){e._checkElement(e.element)})):(e.element.on("blur"+o,e._inputSelector,function(){e._checkElement(t(this))}),e.element.on("click"+o,e._checkboxSelector,function(){e._checkElement(t(this))})))},validate:function(){var t,e,i,n=!1,o=this.value();if(this._errors={},this.element.is(l))n=this.validateInput(this.element);else{var r=!1;for(e=0,i=(t=this.element.find(this._inputSelector)).length;e<i;e++)this.validateInput(t.eq(e))||(r=!0);n=!r}return this.trigger("validate",{valid:n}),o!==n&&this.trigger("change"),n},validateInput:function(e){e=t(e),this._isValidated=!0;var n,o=this._errorTemplate,r=this._checkValidity(e),a=r.valid,s=e.attr("name")||"",l=this._findMessageContainer(s).add(e.next(".k-invalid-msg").filter(function(){var e=t(this);return!e.filter("["+i.attr("for")+"]").length||e.attr(i.attr("for"))===s})).hide(),c=!e.attr("aria-invalid");if(e.removeAttr("aria-invalid"),a)delete this._errors[s];else{n=this._extractMessage(e,r.key),this._errors[s]=n;var u=function(e){return t.parseHTML?t(t.parseHTML(e)):t(e)}(o({message:function(t){return t.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}(n)})),h=l.attr("id");this._decorateMessageContainer(u,s),h&&u.attr("id",h),l.replaceWith(u).length||u.insertAfter(e),u.show(),e.attr("aria-invalid",!0)}return c!==a&&this.trigger("validateInput",{valid:a,input:e}),e.toggleClass("k-invalid",!a),e.toggleClass("k-valid",a),a},hideMessages:function(){var t=this.element;t.is(l)?t.next(".k-invalid-msg").hide():t.find(".k-invalid-msg").hide()},_findMessageContainer:function(e){for(var n,o=i.ui.validator.messageLocators,r=t(),a=0,s=this.element.length;a<s;a++)r=r.add(d(this.element[a].getElementsByTagName("*"),e));for(n in o)r=r.add(o[n].locate(this.element,e));return r},_decorateMessageContainer:function(t,e){var n,o=i.ui.validator.messageLocators;for(n in t.addClass("k-invalid-msg").attr(i.attr("for"),e||""),o)o[n].decorate(t,e);t.attr("role","alert")},_extractMessage:function(t,e){var n,o=this.options.messages[e],r=t.attr("name");return i.ui.Validator.prototype.options.messages[e]||(n=i.isFunction(o)?o(t):o),o=i.isFunction(o)?o(t):o,i.format(t.attr(i.attr(e+"-msg"))||t.attr("validationMessage")||n||t.attr("title")||o||"",r,t.attr(e)||t.attr(i.attr(e)))},_checkValidity:function(t){var e,i=this.options.rules;for(e in i)if(!i[e].call(this,t))return{valid:!1,key:e};return{valid:!0}},errors:function(){var t,e=[],i=this._errors;for(t in i)e.push(i[t]);return e}});i.ui.plugin(f)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(20),i(116),i(456)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=t.proxy,r=t.extend,a=t.grep,s=t.map,l=t.inArray,c="k-state-selected",u="kendoPopup",h=".kendoColumnMenu",d=n.Widget;function f(t){for(var e=[],i=0;i<t.length;i++)t[i].columns?e=e.concat(f(t[i].columns)):e.push(t[i]);return e}function p(t,e){return"["+i.attr(t)+"='"+(e||"").replace(/'/g,'"')+"']"}function m(t,e,i){t>0?e.insertAfter(i.children().eq(t-1)):i.prepend(e)}var g=d.extend({init:function(e,n){var r;d.fn.init.call(this,e,n),e=this.element,n=this.options,this.owner=n.owner,this.dataSource=n.dataSource,this.field=e.attr(i.attr("field")),this.title=e.attr(i.attr("title")),(r=e.find(".k-header-column-menu"))[0]||(r=e.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#" title="'+n.messages.settings+'" aria-label="'+n.messages.settings+'"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")),this.link=r.attr("tabindex",-1).on("click"+h,o(this._click,this)),this.wrapper=t('<div class="k-column-menu"/>'),this._refreshHandler=o(this.refresh,this),this.dataSource.bind("change",this._refreshHandler)},_init:function(){var t=this;t.pane=t.options.pane,t.pane&&(t._isMobile=!0),t._isMobile?t._createMobileMenu():t._createMenu(),t.owner._muteAngularRebind(function(){t._angularItems("compile")}),t._sort(),t._columns(),t._filter(),t._lockColumns(),t.trigger("init",{field:t.field,container:t.wrapper})},events:["init","open","sort","filtering"],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var t=this,e=t.options;t.wrapper.html(i.template(v)({uid:i.guid(),ns:i.ns,messages:e.messages,sortable:e.sortable,filterable:e.filterable,columns:t._ownerColumns(),showColumns:e.columns,lockedColumns:e.lockedColumns})),t.popup=t.wrapper[u]({anchor:t.link,open:o(t._open,t),activate:o(t._activate,t),close:function(){t.options.closeCallback&&t.options.closeCallback(t.element)}}).data(u),t.menu=t.wrapper.children().kendoMenu({orientation:"vertical",closeOnClick:!1}).data("kendoMenu")},_createMobileMenu:function(){var t=this,e=t.options,n=i.template(b)({ns:i.ns,field:t.field,title:t.title||t.field,messages:e.messages,sortable:e.sortable,filterable:e.filterable,columns:t._ownerColumns(),showColumns:e.columns,lockedColumns:e.lockedColumns});t.view=t.pane.append(n),t.wrapper=t.view.element.find(".k-column-menu"),t.menu=new k(t.wrapper.children(),{pane:t.pane}),t.view.element.on("click",".k-done",function(e){t.close(),e.preventDefault()}),t.options.lockedColumns&&t.view.bind("show",function(){t._updateLockedColumns()})},_angularItems:function(e){var n=this;n.angular(e,function(){return{elements:n.wrapper.find(".k-columns-item input["+i.attr("field")+"]").map(function(){return t(this).closest("li")}),data:s(n._ownerColumns(),function(t){return{column:t._originalObject}})}})},destroy:function(){this._angularItems("cleanup"),d.fn.destroy.call(this),this.filterMenu&&this.filterMenu.destroy(),this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this.options.columns&&this.owner&&(this._updateColumnsMenuHandler&&(this.owner.unbind("columnShow",this._updateColumnsMenuHandler),this.owner.unbind("columnHide",this._updateColumnsMenuHandler)),this._updateColumnsLockedStateHandler&&(this.owner.unbind("columnLock",this._updateColumnsLockedStateHandler),this.owner.unbind("columnUnlock",this._updateColumnsLockedStateHandler))),this.menu&&(this.menu.element.off(h),this.menu.destroy()),this.wrapper.off(h),this.popup&&this.popup.destroy(),this.view&&this.view.purge(),this.link.off(h),this.owner=null,this.wrapper=null,this.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+h))},_click:function(t){t.preventDefault(),t.stopPropagation();var e=this.options;e.filter&&this.element.is(!e.filter)||(this.popup||this.pane?this._reorderColumnList():this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_reorderColumnList:function(){var e,i,n=this._ownerColumns()||[],o=this._isMobile&&this.view?t(this.view.element).find(".k-columns-item").children("ul"):t(this.wrapper).find(".k-menu-group").first();for(e=0;e<n.length;e++)(i=o.find(p("field",n[e].originalField)).closest("li"))[0]&&i.index()!==e&&m(e,i,o)},_open:function(){var e=this;t(".k-column-menu").not(e.wrapper).each(function(){t(this).data(u).close()}),e.popup.element.on("keydown"+h,function(t){t.keyCode==i.keys.ESC&&e.close()}),e.options.lockedColumns&&e._updateLockedColumns()},_activate:function(){this.menu.element.focus(),this.trigger("open",{field:this.field,container:this.wrapper})},_ownerColumns:function(){var e=f(this.owner.columns),i=a(e,function(e){var i=!0,n=function(e){return t.trim(e).replace(/&nbsp;/gi,"")}(e.title||"");return!1!==e.menu&&(e.field||n.length)||(i=!1),i});return s(i,function(t){return{originalField:t.field,field:t.field||t.title,title:t.title||t.field,hidden:t.hidden,index:l(t,e),locked:!!t.locked,_originalObject:t}})},_sort:function(){var e=this;e.options.sortable&&(e.refresh(),e.menu.bind("select",function(i){var n,o=t(i.item);o.hasClass("k-sort-asc")?n="asc":o.hasClass("k-sort-desc")&&(n="desc"),n&&(o.parent().find(".k-sort-"+("asc"==n?"desc":"asc")).removeClass(c),e._sortDataSource(o,n),e.close())}))},_sortDataSource:function(t,e){var i,n,o=this.options.sortable,r=null===o.compare?void 0:o.compare,a=this.dataSource,s=a.sort()||[],l=t.hasClass(c)&&o&&!1!==o.allowUnsort;if(e=l?void 0:e,!this.trigger("sort",{sort:{field:this.field,dir:e,compare:r}})){if(l?t.removeClass(c):t.addClass(c),"multiple"===o.mode){for(i=0,n=s.length;i<n;i++)if(s[i].field===this.field){s.splice(i,1);break}s.push({field:this.field,dir:e,compare:r})}else s=[{field:this.field,dir:e,compare:r}];a.sort(s)}},_columns:function(){var e=this;e.options.columns&&(e._updateColumnsMenu(),e._updateColumnsMenuHandler=o(e._updateColumnsMenu,e),e.owner.bind(["columnHide","columnShow"],e._updateColumnsMenuHandler),e._updateColumnsLockedStateHandler=o(e._updateColumnsLockedState,e),e.owner.bind(["columnUnlock","columnLock"],e._updateColumnsLockedStateHandler),e.menu.bind("select",function(n){var o,r,s,l=t(n.item),c=f(e.owner.columns);e._isMobile&&n.preventDefault(),l.parent().closest("li.k-columns-item")[0]&&((o=l.find(":checkbox")).attr("disabled")||(s=o.attr(i.attr("field")),!0===(r=a(c,function(t){return t.field==s||!t.field&&t.title==s})[0]).hidden?e.owner.showColumn(r):e.owner.hideColumn(r)))}))},_updateColumnsMenu:function(){var t,e,n,o,r,c=i.attr("field"),u=i.attr("locked"),h=a(this._ownerColumns(),function(t){return!t.hidden}),d=a(h,function(t){return t.originalField}),f=a(d,function(t){return!0===t.locked}).length,p=a(d,function(t){return!0!==t.locked}).length,m=a(this.owner.columns,function(t){return!1===t.menu}).length;h=s(h,function(t){return t.field}),this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked",!1);var g=this.wrapper.find(".k-columns-item input["+c+"]").prop("disabled",!1).prop("checked",!1);for(t=0,e=g.length;t<e;t++)r="true"===(n=g.eq(t)).attr(u),o=!1,l(n.attr(c),h)>-1&&(o=!0,n.prop("checked",o)),n.closest("[role='menuitemcheckbox']").attr("aria-checked",o),o&&(1==f&&r&&n.prop("disabled",!0),0!==m||1!=p||r||n.prop("disabled",!0))},_updateColumnsLockedState:function(){var t,e,n,o,r=i.attr("field"),a=i.attr("locked"),s=function(t,e){var i,n,o,r={};for(i=0,n=t.length;i<n;i++)r[(o=t[i])[e]]=o;return r}(this._ownerColumns(),"field"),l=this.wrapper.find(".k-columns-item input[type=checkbox]");for(t=0,e=l.length;t<e;t++)(o=s[(n=l.eq(t)).attr(r)])&&n.attr(a,o.locked);this._updateColumnsMenu()},_filter:function(){var e=this,i="kendoFilterMenu",n=e.options;!1!==n.filterable&&(n.filterable.multi&&(i="kendoFilterMultiCheck",n.filterable.dataSource&&(n.filterable.checkSource=n.filterable.dataSource,delete n.filterable.dataSource)),e.filterMenu=e.wrapper.find(".k-filterable")[i](r(!0,{},{appendToElement:!0,dataSource:n.dataSource,values:n.values,field:e.field,title:e.title,change:function(t){e.trigger("filtering",{filter:t.filter,field:t.field})&&t.preventDefault()}},n.filterable)).data(i),e._isMobile&&e.menu.bind("select",function(i){t(i.item).hasClass("k-filter-item")&&e.pane.navigate(e.filterMenu.view,e.options.animations.left)}))},_lockColumns:function(){var e=this;e.menu.bind("select",function(i){var n=t(i.item);n.hasClass("k-lock")?(e.owner.lockColumn(e.field),e.close()):n.hasClass("k-unlock")&&(e.owner.unlockColumn(e.field),e.close())})},_updateLockedColumns:function(){var t=this.field,e=this.owner.columns,i=a(e,function(e){return e.field==t||e.title==t})[0];if(i){var n=!0===i.locked,o=a(e,function(t){return!t.hidden&&(t.locked&&n||!t.locked&&!n)}).length,r=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),s=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");(n||1==o)&&r.addClass("k-state-disabled"),n&&1!=o||s.addClass("k-state-disabled"),this._updateColumnsLockedState()}},refresh:function(){var t,e,i,n=this.options.dataSource.sort()||[],o=this.field;for(this.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(c),e=0,i=n.length;e<i;e++)o==(t=n[e]).field&&this.wrapper.find(".k-sort-"+t.dir).addClass(c);this.link[this._filterExist(this.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(t){var e,i=!1;if(t){for(var n=0,o=(t=t.filters).length;n<o;n++)(e=t[n]).field==this.field?i=!0:e.filters&&(i=i||this._filterExist(e));return i}}}),v='<ul id="#=uid#">#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator" role="presentation"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li role="menuitemcheckbox" aria-checked="false"><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(filterable){#<li class="k-item k-filter-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',b='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-icon k-i-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',k=d.extend({init:function(t,e){d.fn.init.call(this,t,e),this.element.on("click"+h,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:["select"],_click:function(e){t(e.target).is("[type=checkbox]")||e.preventDefault(),this.trigger("select",{item:e.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){d.fn.destroy.call(this),this.element.off(h)}});n.plugin(g)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=i._activeElement,r=i.support.touch&&i.support.mobileOS,a=t.extend,s=t.proxy,l=t.each,c=i.template,u=i.keys,h=n.Widget,d=/^(ul|a|div)$/i,f=".kendoMenu",p="img",m="k-menu",g="k-link k-menu-link",v=".k-link",b="k-last",k="k-first",y="k-image",w="touchstart"+f+" MSPointerDown"+f+" pointerdown"+f,_=i.support.pointers,x=i.support.msPointers,S=x||_,C=_?"pointerenter":x?"MSPointerEnter":"mouseenter",A=_?"pointerleave":x?"MSPointerLeave":"mouseleave",T="DOMMouseScroll"+f+" mousewheel"+f,j=i.support.resize+f,M="group",z="groupparent",E=t(document.documentElement),I="k-state-default",D="k-state-focused",O="k-state-disabled",P=".k-animation-container",R=".k-menu-group,"+P,L=":not(.k-list) > .k-item",F=".k-item:not(.k-item.k-separator):eq(0)",N=".k-item:not(.k-item.k-separator):last",B={2:1,touch:1},q={content:c("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:c("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:c("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:c("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),scrollButton:c("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),image:c("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:c("<span class='#= arrowClass(item, group) #'></span>"),sprite:c("<span class='k-sprite #= spriteCssClass #'></span>"),empty:c("")},V={wrapperCssClass:function(t,e){var i="k-item",n=e.index;return!1===e.enabled?i+=" k-state-disabled":i+=" k-state-default",t.firstLevel&&0===n&&(i+=" k-first"),n==t.length-1&&(i+=" k-last"),e.cssClass&&(i+=" "+e.cssClass),e.attr&&e.attr.hasOwnProperty("class")&&(i+=" "+e.attr.class),e.selected&&(i+=" k-state-selected"),i},itemCssAttributes:function(t){var e="",i=t.attr||{};for(var n in i)i.hasOwnProperty(n)&&"class"!==n&&(e+=n+'="'+i[n]+'" ');return e},imageCssAttributes:function(t){var e="",i=t.imageAttr||{};for(var n in i.class?i.class+=" "+y:i.class=y,i)i.hasOwnProperty(n)&&(e+=n+'="'+i[n]+'" ');return e},contentCssAttributes:function(t){var e="",i=t.contentAttr||{};for(var n in i.class?i.class+=" k-content k-group k-menu-group":i.class="k-content k-group k-menu-group",i)i.hasOwnProperty(n)&&(e+=n+'="'+i[n]+'" ');return e},textClass:function(){return g},textAttributes:function(t){return t.url?" href='"+t.url+"'":""},arrowClass:function(t,e){var i="k-icon";return e.horizontal?i+=" k-i-arrow-60-down":i+=" k-i-arrow-60-right",i},text:function(t){return!1===t.encoded?t.text:i.htmlEncode(t.text)},tag:function(t){return t.url?"a":"span"},groupAttributes:function(t){return!0!==t.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(t){return t.content?t.content:"&nbsp;"}};function H(e,i){try{return t.contains(e,i)}catch(t){return!1}}function U(e){(e=t(e)).addClass("k-item").children(p).addClass(y),e.children("a").addClass(g).children(p).addClass(y),e.filter(":not([disabled])").addClass(I),e.filter(".k-separator").empty().append("&nbsp;"),e.filter("li[disabled]").addClass(O).removeAttr("disabled").attr("aria-disabled",!0),e.filter("[role]").length||e.attr("role","menuitem"),e.children(v).length||e.contents().filter(function(){return!(this.nodeName.match(d)||3==this.nodeType&&!t.trim(this.nodeValue))}).wrapAll("<span class='"+g+"'/>"),W(e),G(e)}function W(e){(e=t(e)).find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),e.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var e=t(this),n=function(t){var e=t.parent().parent(),n=i.support.isRtl(e);return e.hasClass(m+"-horizontal")?" k-i-arrow-60-down":n?" k-i-arrow-60-left":" k-i-arrow-60-right"}(e);e.append("<span class='k-icon"+n+" k-menu-expand-arrow'/>")})}function G(e){(e=t(e)).filter(".k-first:not(:first-child)").removeClass(k),e.filter(".k-last:not(:last-child)").removeClass(b),e.filter(":first-child").addClass(k),e.filter(":last-child").addClass(b)}function Q(t){if(t&&t.length)for(var e in t){var i=t.eq(e);i.find("ul").length?i.attr("aria-haspopup",!0):i.removeAttr("aria-haspopup")}}function Y(t){if(!t.hasClass(m))return t.parentsUntil("."+m,"li")}function K(e,n){var o=function(t){var e=t.select,n=i.isFunction;return e&&n(e)?e:null}(n);o&&function(e,i){t(e).children(".k-link").data({selectHandler:i})}(e,o),n.items&&t(e).children("ul").children("li").each(function(t){K(this,n.items[t])})}function Z(t){return t?"li[data-groupparent='"+t+"']":"li[data-groupparent]"}function X(t){return t?"ul[data-group='"+t+"']":"ul[data-group]"}function J(e,i){var n=[];return e.find(Z()).each(function(o,r){for(var a=(r=t(r)).data(z),s=e;a;)(s=i.find(X(a)+":visible")).length&&n.push(s),a=(r=s.find(Z())).data(z)}),n}function $(e,i){var n=e.data(M);return n?i.find(Z(n)):t([])}function tt(e,i){var n=e.data(z);return n?i.children(P).children(X(n)):t([])}function et(t,e){for(var i=0,n=t.parentNode;n&&!isNaN(n[e]);)i+=n[e],n=n.parentNode;return i}function it(t){return S&&t.originalEvent&&t.originalEvent.pointerType in B}function nt(t){t.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var ot=h.extend({init:function(t,e){h.fn.init.call(this,t,e),t=this.wrapper=this.element,e=this.options,this._initData(e),this._updateClasses(),this._animations(e),this.nextItemZIndex=100,this._tabindex(),this._initOverflow(e),this._attachMenuEventsHandlers(),e.openOnClick&&(this.clicked=!1),t.attr("role","menubar"),t[0].id&&(this._ariaId=i.format("{0}_mn_active",t[0].id)),i.notify(this)},events:["open","close","activate","deactivate","select"],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:void 0},_initData:function(t){var e=this;t.dataSource&&(e.angular("cleanup",function(){return{elements:e.element.children()}}),e.element.empty(),e.append(t.dataSource,e.element),e.angular("compile",function(){return{elements:e.element.children()}}))},_attachMenuEventsHandlers:function(){var e=this.element,i=this.options,n=this._overflowWrapper();(n||e).on(w,".k-item",s(this._focusHandler,this)).on("click"+f,".k-item.k-state-disabled",!1).on("click"+f,".k-item",s(this._click,this)).on(w+" mousedown"+f,".k-content",s(this._preventClose,this)).on(C+f,".k-item:not(.k-state-disabled)",s(this._mouseenter,this)).on(A+f,".k-item:not(.k-state-disabled)",s(this._mouseleave,this)).on("mousedown"+f,".k-item:not(.k-state-disabled)",s(this._mousedown,this)).on(C+f+" "+A+f+" mousedown"+f+" click"+f,".k-item:not(.k-state-disabled) > .k-link",s(this._toggleHover,this)),e.on("keydown"+f,s(this._keydown,this)).on("focus"+f,s(this._focus,this)).on("focus"+f,".k-content",s(this._focus,this)).on("blur"+f,s(this._removeHoverItem,this)).on("blur"+f,"[tabindex]",s(this._checkActiveElement,this)),n&&n.on(A+f,R,s(this._mouseleavePopup,this)).on(C+f,R,s(this._mouseenterPopup,this)),i.openOnClick&&(this._documentClickHandler=s(this._documentClick,this),t(document).click(this._documentClickHandler))},_detachMenuEventsHandlers:function(){var e=this._overflowWrapper();e&&e.off(f),this.element.off(f),this._documentClickHandler&&t(document).unbind("click",this._documentClickHandler)},_initOverflow:function(e){var n,o,r=this,a="horizontal"==e.orientation;if(e.scrollable){r._openedPopups={},r._scrollWrapper=r.element.wrap("<div class='k-menu-scroll-wrapper "+e.orientation+"'></div>").parent(),a&&nt(r.element),n=t(q.scrollButton({direction:a?"left":"up"})),o=t(q.scrollButton({direction:a?"right":"down"})),n.add(o).appendTo(r._scrollWrapper),r._initScrolling(r.element,n,o,a);var s=r.element.outerWidth(),l=r.element[0].style.width;l="auto"===l?"":l,a&&t(window).on(j,i.throttle(function(){r._setOverflowWrapperWidth(s,l),r._toggleScrollButtons(r.element,n,o,a)},100)),r._setOverflowWrapperWidth(s,l),r._toggleScrollButtons(r.element,n,o,a)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(t,e){var i=this._scrollWrapper.css("width");this._scrollWrapper.css({width:""});var n=this._scrollWrapper.outerWidth();this._scrollWrapper.css({width:i});var o=this.element.outerWidth(),r=this.element[0].offsetWidth-this.element[0].clientWidth;if(o!=n&&n>0){var a=e?Math.min(t,n):n;this.element.width(a-r),this._scrollWrapper.width(a)}},_reinitOverflow:function(t){(t.scrollable&&!this.options.scrollable||!t.scrollable&&this.options.scrollable||t.scrollable&&this.options.scrollable&&t.scrollable.distance!=this.options.scrollable.distance||t.orientation!=this.options.orientation)&&(this._detachMenuEventsHandlers(),this._destroyOverflow(),this._initOverflow(t),this._attachMenuEventsHandlers())},_destroyOverflow:function(){var e=this._overflowWrapper();e&&(e.off(f),e.find(".k-menu-scroll-button").off(f).remove(),e.children(P).each(function(i,n){var o=t(n).children(".k-menu-group");o.off(T);var r=$(o,e);r.length&&r.append(n)}),e.find(Z()).removeAttr("data-groupparent"),e.find(X()).removeAttr("data-group"),this.element.off(T),t(window).off(j),e.contents().unwrap(),this._scrollWrapper=this._popupsWrapper=this._openedPopups=void 0)},_initScrolling:function(e,n,o,a){var s=this,l=s.options.scrollable,c=t.isNumeric(l.distance)?l.distance:50,u=c/2,h="-="+c,d="+="+c,p="-="+2*c,m="+="+2*c,g=!1,v=!1,b=function(t){var i=a?{scrollLeft:t}:{scrollTop:t};e.finish().animate(i,"fast","linear",function(){g&&b(t)}),s._toggleScrollButtons(e,n,o,a)},k=function(t){g||v||(b(t.data.direction),g=!0)},y=function(i){var l=a?{scrollLeft:i.data.direction}:{scrollTop:i.data.direction};v=function(t){var e=t.originalEvent;return r&&/touch/i.test(e.type||"")}(i)||it(i),e.stop().animate(l,"fast","linear",function(){v?(s._toggleScrollButtons(e,n,o,a),g=!0):t(i.currentTarget).trigger(C)}),g=!1,i.stopPropagation(),i.preventDefault()};n.on(C+f,{direction:h},k).on(i.eventMap.down+f,{direction:p},y),o.on(C+f,{direction:d},k).on(i.eventMap.down+f,{direction:m},y),n.add(o).on(A+f,function(){e.stop(),g=!1,s._toggleScrollButtons(e,n,o,a)}),e.on(T,function(t){if(!t.ctrlKey&&!t.shiftKey&&!t.altKey){var i=function(t){var e=0;return t.wheelDelta&&(e=(e=-t.wheelDelta/120)>0?Math.ceil(e):Math.floor(e)),t.detail&&(e=Math.round(t.detail/3)),e}(t.originalEvent),r=Math.abs(i)*u,l=(i>0?"+=":"-=")+r,c=a?{scrollLeft:l}:{scrollTop:l};s._closeChildPopups(e),e.finish().animate(c,"fast","linear",function(){s._toggleScrollButtons(e,n,o,a)}),t.preventDefault()}})},_toggleScrollButtons:function(t,e,i,n){var o=n?t.scrollLeft():t.scrollTop(),r=n?"scrollWidth":"scrollHeight",a=n?"offsetWidth":"offsetHeight";e.toggle(0!==o),i.toggle(o<t[0][r]-t[0][a]-1)},setOptions:function(t){var e=this.options.animation;this._animations(t),t.animation=a(!0,e,t.animation),"dataSource"in t&&this._initData(t),this._updateClasses(),this._reinitOverflow(t),h.fn.setOptions.call(this,t)},destroy:function(){h.fn.destroy.call(this),this._detachMenuEventsHandlers(),this._destroyOverflow(),i.destroy(this.element)},enable:function(t,e){return this._toggleDisabled(t,!1!==e),this},disable:function(t){return this._toggleDisabled(t,!1),this},append:function(t,e){e=this.element.find(e);var i=this._insert(t,e,e.length?e.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return l(i.items,function(e){i.group.append(this),W(this),K(this,t[e]||t)}),W(e),G(i.group.find(".k-first, .k-last").add(i.items)),Q(Y(i.group)),this},insertBefore:function(t,e){e=this.element.find(e);var i=this._insert(t,e,e.parent());return l(i.items,function(i){e.before(this),W(this),G(this),K(this,t[i]||t)}),G(e),this},insertAfter:function(t,e){e=this.element.find(e);var i=this._insert(t,e,e.parent());return l(i.items,function(i){e.after(this),W(this),G(this),K(this,t[i]||t)}),G(e),this},_insert:function(e,i,n){var o,r;i&&i.length||(n=this.element);var s=t.isPlainObject(e),l={firstLevel:n.hasClass(m),horizontal:n.hasClass(m+"-horizontal"),expanded:!0,length:n.children().length};return i&&!n.length&&(n=t(ot.renderGroup({group:l})).appendTo(i)),s||t.isArray(e)?o=t(t.map(s?[e]:e,function(e,i){return"string"==typeof e?t(e).get():t(ot.renderItem({group:l,item:a(e,{index:i})})).get()})):(r=(o="string"==typeof e&&"<"!=e.charAt(0)?this.element.find(e):t(e)).find("> ul").addClass("k-menu-group").attr("role","menu"),(o=o.filter("li")).add(r.find("> li")).each(function(){U(this)})),{items:o,group:n}},remove:function(t){var e=(t=this.element.find(t)).parentsUntil(this.element,L),i=t.parent("ul:not(.k-menu)");if(t.remove(),i&&!i.children(L).length){var n=Y(i),o=i.parent(P);o.length?o.remove():i.remove(),Q(n)}return e.length&&(W(e=e.eq(0)),G(e)),this},open:function(e){var n=this,o=n.options,l="horizontal"==o.orientation,c=o.direction,u=i.support.isRtl(n.wrapper),h=n._overflowWrapper();e=(h||n.element).find(e),/^(top|bottom|default)$/.test(c)&&(c=u?l?(c+" left").replace("default","bottom"):"left":l?(c+" right").replace("default","bottom"):"right");var d=">.k-popup:visible,>.k-animation-container>.k-popup:visible",f=function(){t(this).data("kendoPopup")&&n.close(t(this).closest("li.k-item"),!0)};return e.siblings().find(d).each(f),h&&e.find(d).each(f),n.options.openOnClick&&(n.clicked=!0),e.each(function(){var e=t(this);clearTimeout(e.data("timer")),e.data("timer",setTimeout(function(){var d,f,p=e.find(".k-menu-group:first:hidden");if(!p[0]&&h&&(f=n._getPopup(e),p=f&&f.element),!p.is(":visible")&&p[0]&&!1===n._triggerEvent({item:e[0],type:"open"})){if(!p.find(".k-menu-group")[0]&&p.children(".k-item").length>1){var g=t(window).height(),v=function(){p.css({maxHeight:g-(i._outerHeight(p)-p.height())-i.getShadows(p).bottom,overflow:"auto"})};i.support.browser.msie&&i.support.browser.version<=7?setTimeout(v,0):v()}else p.css({maxHeight:"",overflow:""});e.data("zIndex",e.css("zIndex"));var b=n.nextItemZIndex++;e.css("zIndex",b),n.options.scrollable&&e.parent().siblings(".k-menu-scroll-button").css({zIndex:++b}),d=p.data("kendoPopup");var k=e.parent().hasClass(m),y=k&&l,w=function(t,e,n){t=t.split(" ")[!e+0]||t;var o={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]};return/left|right/.test(t)?(o.origin=["top",t],o.position[1]=i.directions[t].reverse):(o.origin[0]=t,o.position[0]=i.directions[t].reverse),o.origin=o.origin.join(" "),o.position=o.position.join(" "),o}(c,k,u),_=o.animation.open.effects,x=void 0!==_?_:"slideIn:"+function(t,e){return(t=t.split(" ")[!e+0]||t).replace("top","up").replace("bottom","down")}(c,k);d?((d=p.data("kendoPopup")).options.origin=w.origin,d.options.position=w.position,d.options.animation.open.effects=x):d=p.kendoPopup({activate:function(){n._triggerEvent({item:this.wrapper.parent(),type:"activate"})},deactivate:function(t){t.sender.element.removeData("targetTransform").css({opacity:""}),n._triggerEvent({item:this.wrapper.parent(),type:"deactivate"})},origin:w.origin,position:w.position,collision:void 0!==o.popupCollision?o.popupCollision:y?"fit":"fit flip",anchor:e,appendTo:h||e,animation:{open:a(!0,{effects:x},o.animation.open),close:o.animation.close},open:s(n._popupOpen,n),close:function(t){var e=t.sender.wrapper.parent();if(h){var i=t.sender.element.data(M);i&&(e=(h||n.element).find(Z(i))),t.sender.wrapper.children(".k-menu-scroll-button").hide()}n._triggerEvent({item:e[0],type:"close"})?t.preventDefault():(e.css("zIndex",e.data("zIndex")),e.removeData("zIndex"),n.options.scrollable&&e.parent().siblings(".k-menu-scroll-button").css({zIndex:""}),(r||S)&&(e.removeClass("k-state-hover"),n._removeHoverItem()))}}).data("kendoPopup"),p.removeAttr("aria-hidden"),n._configurePopupOverflow(d,e),d._hovered=!0,d.open(),n._initPopupScrolling(d)}},n.options.hoverDelay))}),n},_configurePopupOverflow:function(t,e){if(this.options.scrollable&&(this._wrapPopupElement(t),!e.attr("data-groupparent"))){var i=(new Date).getTime();e.attr("data-groupparent",i),t.element.attr("data-group",i)}},_wrapPopupElement:function(t){t.element.parent().is(P)||(t.wrapper=i.wrap(t.element,t.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(t,e,i){this.options.scrollable&&t.element[0].scrollHeight>t.element[0].offsetHeight&&this._initPopupScrollButtons(t,e,i)},_initPopupScrollButtons:function(e,i,n){var o=this,r=e.wrapper.children(".k-menu-scroll-button"),a=o.options.animation,s=(a&&a.open&&a.open.duration||0)+30;setTimeout(function(){if(!r.length){var a=t(q.scrollButton({direction:i?"left":"up"})),s=t(q.scrollButton({direction:i?"right":"down"}));r=a.add(s).appendTo(e.wrapper),o._initScrolling(e.element,a,s,i),n||r.on(C+f,function(){var i=o._overflowWrapper();t(J(e.element,i)).each(function(t,e){var n=i.find(Z(e.data(M)));o.close(n)})}).on(A+f,function(){setTimeout(function(){t.isEmptyObject(o._openedPopups)&&o._closeParentPopups(e.element)},30)})}o._toggleScrollButtons(e.element,r.first(),r.last(),i)},s)},_popupOpen:function(t){this._keyTriggered||t.sender.element.children("."+D).removeClass(D),this.options.scrollable&&this._setPopupHeight(t.sender)},_setPopupHeight:function(e,n){var o=e.element,r=o.add(o.parent(P));r.height(o.hasClass(m)&&this._initialHeight||"");var a=e._location(n),s=t(window).height(),l=a.height,c=n?0:Math.max(a.top,0),u=n?0:et(this._overflowWrapper()[0],"scrollTop"),h=window.innerHeight-s,d=s-i.getShadows(o).bottom+h;if(!(d+u>l+c)){var f=Math.min(d,d-c+u);r.css({overflow:"hidden",height:f+"px"})}},close:function(e,i){var n=this,o=n._overflowWrapper(),r=o||n.element;return(e=r.find(e)).length||(e=r.find(">.k-item")),e.each(function(){var r=t(this);!i&&n._isRootItem(r)&&(n.clicked=!1),clearTimeout(r.data("timer")),r.data("timer",setTimeout(function(){var i=n._getPopup(r);if(i&&(function(t){var e=t.data(z);return!o||!e||!n._openedPopups[e.toString()]}(r)||n._forceClose)){if(!n._forceClose&&function(e){var i=!1;return t.isEmptyObject(n._openedPopups)?i:(t(J(e,o)).each(function(t,e){return!(i=!!n._openedPopups[e.data(M).toString()])}),i)}(i.element))return;i.close(),i.element.attr("aria-hidden",!0),o&&n._forceClose&&e.last().is(r[0])&&delete n._forceClose}},n.options.hoverDelay))}),n},_getPopup:function(t){var e=t.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data("kendoPopup"),i=this._overflowWrapper();if(!e&&i){var n=t.data(z);n&&(e=i.find(X(n)).data("kendoPopup"))}return e},_toggleDisabled:function(e,i){this.element.find(e).each(function(){t(this).toggleClass(I,i).toggleClass(O,!i).attr("aria-disabled",!i)})},_toggleHover:function(e){var n=t(i.eventTarget(e)||e.target).closest(L),o=e.type==C||-1!=="mousedown".indexOf(e.type);n.parents("li."+O).length||n.toggleClass("k-state-hover",o||"mousedown"==e.type||"click"==e.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(e){var n=this,o=t(e?e.currentTarget:this._hoverItem()),r=n._findRootParent(o)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(H(r,i._activeElement())||!e||H(r,e.currentTarget))||n.close(r)},0),this._closurePrevented=!1},_removeHoverItem:function(){var t=this._hoverItem();t&&t.hasClass(D)&&(t.removeClass(D),this._oldHoverItem=null)},_updateClasses:function(){var t,e=this.element;e.removeClass("k-menu-horizontal k-menu-vertical"),e.addClass("k-widget k-reset k-header k-menu-init "+m).addClass(m+"-"+this.options.orientation),e.find("li > ul").filter(function(){return!i.support.matchesSelector.call(this,".k-menu-init div ul")}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",e.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),t=e.find("> li,.k-menu-group > li"),e.removeClass("k-menu-init"),t.each(function(){U(this)})},_mouseenter:function(e){var i=this,n=t(e.currentTarget),o=i._itemHasChildren(n),a=n.data(z)||n.parent().data(M),l=it(e);a&&(i._openedPopups[a.toString()]=!0),e.delegateTarget!=n.parents(".k-menu")[0]&&e.delegateTarget!=n.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(i._keyTriggered=!1,i.options.openOnClick.rootMenuItems&&i._isRootItem(n.closest(L))||i.options.openOnClick.subMenuItems&&!i._isRootItem(n.closest(L))||(!(!1===i.options.openOnClick||!1===i.options.openOnClick.rootMenuItems&&i._isRootItem(n.closest(L))||!1===i.options.openOnClick.subMenuItems&&!i._isRootItem(n.closest(L))||i.clicked)||r||l&&i._isRootItem(n.closest(L))||!H(e.currentTarget,e.relatedTarget)&&o&&i.open(n),(!0===i.options.openOnClick&&i.clicked||r)&&n.siblings().each(s(function(t,e){i.close(e,!0)},i))))},_mousedown:function(e){var i=this,n=t(e.currentTarget);(i.options.openOnClick.subMenuItems&&!i._isRootItem(n)||r)&&n.siblings().each(s(function(t,e){i.close(e,!0)},i))},_mouseleave:function(e){var n=t(e.currentTarget),o=n.data(z),a=n.children(P).length||n.children(".k-menu-group").length||o,s=t(window);o&&delete this._openedPopups[o.toString()],n.parentsUntil(P,".k-list-container,.k-calendar-container")[0]?e.stopImmediatePropagation():!1!==this.options.openOnClick&&(this.options.openOnClick.rootMenuItems||!this._isRootItem(n))&&(this.options.openOnClick.subMenuItems||this._isRootItem(n))||r||it(e)||H(e.currentTarget,e.relatedTarget||e.target)||!a||H(e.currentTarget,i._activeElement())?(i.support.browser.msie&&!e.toElement&&!e.relatedTarget&&!it(e)||e.clientX<0||e.clientY<0||e.clientY>s.height()||e.clientX>s.width())&&this.close(n):this.close(n,!0)},_mouseenterPopup:function(e){var i=t(e.currentTarget);if(!i.parent().is(P)){var n=(i=i.children("ul")).data(M);n&&(this._openedPopups[n.toString()]=!0)}},_mouseleavePopup:function(e){var i=t(e.currentTarget);!it(e)&&i.is(P)&&this._closePopups(i.children("ul"))},_closePopups:function(e){var i=this,n=i._overflowWrapper(),o=e.data(M);if(o){delete i._openedPopups[o.toString()];var r=n.find(Z(o));setTimeout(function(){if(i.options.openOnClick)i._closeChildPopups(e);else if(t.isEmptyObject(i._openedPopups)){var n=i._innerPopup(e);i._closeParentPopups(n)}else i.close(r,!0)},0)}},_closeChildPopups:function(e){var i=this,n=i._overflowWrapper();t(J(e,n)).each(function(){var t=n.find(Z(this.data(M)));i.close(t,!0)})},_innerPopup:function(t){var e=J(t,this._overflowWrapper());return e[e.length-1]||t},_closeParentPopups:function(t){var e=this._overflowWrapper(),i=t.data(M),n=e.find(Z(i));for(i=n.parent().data(M),this.close(n,!0);i&&!this._openedPopups[i]&&!n.parent().is(".k-menu");)n=e.find(Z(i)),this.close(n,!0),i=n.parent().data(M)},_click:function(e){for(var n,o,r,a,s=this.options,l=t(i.eventTarget(e)),c=l[0],u=l[0]?l[0].nodeName.toUpperCase():"",h="INPUT"==u||"SELECT"==u||"BUTTON"==u||"LABEL"==u,d=l.closest(v),f=l.closest(L),p=f[0],m=d.attr("href"),g=l.attr("href"),b=t("<a href='#' />").attr("href"),k=!!m&&m!==b,y=k&&!!m.match(/^#/),w=!!g&&g!==b,_=this._overflowWrapper();c&&c.parentNode!=p;)c=c.parentNode;if(!t(c).is("div:not(.k-animation-container,.k-list-container)"))if(f.hasClass(O))e.preventDefault();else{if(e.handled||!this._triggerSelect(l,p)||h||e.preventDefault(),e.handled=!0,o=f.children(R),_){var x=f.data(z);x&&(o=_.find(X(x)))}if(r=o.is(":visible"),a=s.openOnClick&&r&&this._isRootItem(f),s.closeOnClick&&(!k||y)&&(!o.length||a)){f.removeClass("k-state-hover").css("height"),this._oldHoverItem=this._findRootParent(f);var S=this._parentsUntil(d,this.element,L);return this._forceClose=!!_,this.close(S),this.clicked=!1,void(-1!="MSPointerUp".indexOf(e.type)&&e.preventDefault())}k&&e.enterKey&&d[0].click(),(this._isRootItem(f)&&!1!==s.openOnClick||s.openOnClick.subMenuItems||i.support.touch||it(e)&&this._isRootItem(f.closest(L)))&&(k||h||w||e.preventDefault(),this.clicked=!0,n=o.is(":visible")?"close":"open",(s.closeOnClick||"close"!=n)&&this[n](f))}},_parentsUntil:function(e,i,n){var o=this._overflowWrapper();if(o){var r=function(e,i){var n=[],o=function(t){for(;t.parentNode&&!i.is(t.parentNode);)n.push(t.parentNode),t=t.parentNode},r=e[0]||e;o(r);for(var a=n[n.length-1];t(a).is(P)&&(r=$(t(a).children("ul"),i)[0]);)n.push(r),o(r),a=n[n.length-1];return n}(e,o),a=[];return t(r).each(function(){var e=t(this);if(e.is(i))return!1;e.is(n)&&a.push(this)}),t(a)}return e.parentsUntil(i,n)},_triggerSelect:function(t,e){var i,n=(t=t.is(".k-link")?t:t.closest(".k-link")).data("selectHandler");n&&(i=this._getEventData(t),n.call(this,i));var o=i&&i.isDefaultPrevented(),r=this._triggerEvent({item:e,type:"select"});return o||r},_getEventData:function(t){return{sender:this,target:t,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(t){H((this._overflowWrapper()||this.element)[0],t.target)||(this.clicked=!1)},_focus:function(e){var i=e.target,n=this._hoverItem(),r=o();if(i!=this.wrapper[0]&&!t(i).is(":kendoFocusable"))return e.stopPropagation(),t(i).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(D),void this.wrapper.focus();r===e.currentTarget&&(n.length?this._moveHover([],n):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(t){var e,n,o,r=t.keyCode,a=this._oldHoverItem,s=i.support.isRtl(this.wrapper);if(t.target==t.currentTarget||r==u.ESC){if(a||(a=this._oldHoverItem=this._hoverItem()),n=this._itemBelongsToVertival(a),o=this._itemHasChildren(a),this._keyTriggered=!0,r==u.RIGHT)e=this[s?"_itemLeft":"_itemRight"](a,n,o);else if(r==u.LEFT)e=this[s?"_itemRight":"_itemLeft"](a,n,o);else if(r==u.DOWN)e=this._itemDown(a,n,o);else if(r==u.UP)e=this._itemUp(a,n,o);else if(r==u.HOME)this._moveHover(a,a.parent().children().first()),t.preventDefault();else if(r==u.END)this._moveHover(a,a.parent().children().last()),t.preventDefault();else if(r==u.ESC)e=this._itemEsc(a,n);else if(r==u.ENTER||r==u.SPACEBAR)(e=a.children(".k-link")).length>0&&(this._click({target:e[0],preventDefault:function(){},enterKey:!0}),o&&!a.hasClass(O)?(this.open(a),this._moveHover(a,this._childPopupElement(a).children().first())):this._moveHover(a,this._findRootParent(a)));else if(r==u.TAB)return e=this._findRootParent(a),this._moveHover(a,e),void this._checkActiveElement();e&&e[0]&&(t.preventDefault(),t.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(t){var e=this.wrapper.hasClass("k-menu-vertical");return t.length&&t.parent().hasClass("k-menu-group")||e},_itemHasChildren:function(t){return!!(t&&t.length&&t[0].nodeType)&&(t.children(".k-menu-group, div.k-animation-container").length>0||!!t.data(z)&&!!this._overflowWrapper().children(X(t.data(z))))},_moveHover:function(e,i){var n=this._ariaId;e.length&&i.length&&e.removeClass(D),i.length&&(i[0].id&&(n=i[0].id),i.addClass(D),this._oldHoverItem=i,n&&(this.element.removeAttr("aria-activedescendant"),t("#"+n).removeAttr("id"),i.attr("id",n),this.element.attr("aria-activedescendant",n)),this._scrollToItem(i))},_findRootParent:function(t){return this._isRootItem(t)?t:this._parentsUntil(t,".k-menu","li.k-item").last()},_isRootItem:function(t){return t.parent().hasClass(m)},_itemRight:function(t,e,i){var n,o,r;if(e){if(i&&!t.hasClass(O))this.open(t),n=this._childPopupElement(t).children().first();else if("horizontal"==this.options.orientation){if(o=this._findRootParent(t),r=this._overflowWrapper()){var a=tt(o,r);this._closeChildPopups(a)}this.close(o),n=o.nextAll(F)}}else(n=t.nextAll(F)).length||(n=t.prevAll(N)),this.close(t);return n&&!n.length?n=this.wrapper.children(".k-item").first():n||(n=[]),this._moveHover(t,n),n},_itemLeft:function(t,e){var i,n;return e?(i=t.parent().closest(".k-item"),n=this._overflowWrapper(),!i.length&&n&&(i=$(t.parent(),n)),this.close(i),this._isRootItem(i)&&"horizontal"==this.options.orientation&&(i=i.prevAll(F))):((i=t.prevAll(F)).length||(i=t.nextAll(N)),this.close(t)),i.length||(i=this.wrapper.children(".k-item").last()),this._moveHover(t,i),i},_itemDown:function(t,e,i){var n;if(e)n=t.nextAll(F);else{if(!i||t.hasClass(O))return;this.open(t),n=this._childPopupElement(t).children().first()}return!n.length&&t.length?n=t.parent().children().first():t.length||(n=this.wrapper.children(".k-item").first()),this._moveHover(t,n),n},_itemUp:function(t,e){var i;if(e)return!(i=t.prevAll(F)).length&&t.length?i=t.parent().children().last():t.length||(i=this.wrapper.children(".k-item").last()),this._moveHover(t,i),i},_scrollToItem:function(t){var e=this;if(e.options.scrollable&&t&&t.length){var n,o=t.parent(),r=!!o.hasClass(m)&&"horizontal"==e.options.orientation,a=r?"scrollLeft":"scrollTop",s=r?i._outerWidth:i._outerHeight,l=o[a](),c=s(t),u=t[0][r?"offsetLeft":"offsetTop"],h=s(o),d=o.siblings(".k-menu-scroll-button"),f=d.length?s(d.first()):0;if(l+h<u+c+f?n=u+c-h+f:l>u-f&&(n=u-f),!isNaN(n)){var p={};p[a]=n,o.finish().animate(p,"fast","linear",function(){e._toggleScrollButtons(o,d.first(),d.last(),r)})}}},_itemEsc:function(t,e){var i;return e?(i=t.parent().closest(".k-item"),this.close(i),this._moveHover(t,i),i):t},_childPopupElement:function(t){var e=t.find(".k-menu-group"),i=this._overflowWrapper();return!e.length&&i&&(e=tt(t,i)),e},_triggerEvent:function(t){return this.trigger(t.type,{type:t.type,item:t.item})},_focusHandler:function(e){var n=this,o=t(i.eventTarget(e)).closest(L);o.hasClass(O)||setTimeout(function(){n._moveHover([],o),o.children(".k-content")[0]&&o.parent().closest(".k-item").removeClass(D)},200)},_animations:function(t){t&&"animation"in t&&!t.animation&&(t.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});a(ot,{renderItem:function(t){t=a({menu:{},group:{}},t);var e=q.empty,i=t.item;return q.item(a(t,{image:i.imageUrl?q.image:e,sprite:i.spriteCssClass?q.sprite:e,itemWrapper:q.itemWrapper,renderContent:ot.renderContent,arrow:i.items||i.content?q.arrow:e,subGroup:ot.renderGroup},V))},renderGroup:function(t){return q.group(a({renderItems:function(t){for(var e="",i=0,n=t.items,o=n?n.length:0,r=a({length:o},t.group);i<o;i++)e+=ot.renderItem(a(t,{group:r,item:a({index:i},n[i])}));return e}},t,V))},renderContent:function(t){return q.content(a(t,V))}});var rt=ot.extend({init:function(e,n){ot.fn.init.call(this,e,n),this._marker=i.guid().substring(0,8),this.target=t(this.options.target),this._popup(),this._wire()},_initOverflow:function(t){t.scrollable&&!this._overflowWrapper()&&(this._openedPopups={},this._popupsWrapper=(this.element.parent().is(P)?this.element.parent():this.element).wrap("<div class='k-popups-wrapper "+t.orientation+"'></div>").parent(),"horizontal"==this.options.orientation&&nt(this.element),t.appendTo&&t.appendTo.append(this._popupsWrapper),this._initialHeight=this.element[0].style.height,this._initialWidth=this.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:["open","close","activate","deactivate","select"],setOptions:function(e){ot.fn.setOptions.call(this,e),this.target.off(this.showOn+f+this._marker,this._showProxy),this.userEvents&&this.userEvents.destroy(),this.target=t(this.options.target),e.orientation&&this.popup.wrapper[0]&&this.popup.element.unwrap(),this._wire(),ot.fn.setOptions.call(this,e)},destroy:function(){this.target.off(this.options.showOn+f+this._marker),E.off(i.support.mousedown+f+this._marker,this._closeProxy),this.userEvents&&this.userEvents.destroy(),ot.fn.destroy.call(this)},open:function(e,n){if(e=t(e)[0],H(this.element[0],t(e)[0])||this._itemHasChildren(t(e)))ot.fn.open.call(this,e);else if(!1===this._triggerEvent({item:this.element,type:"open"})){if(this.popup.visible()&&this.options.filter&&(this.popup.close(!0),this.popup.element.kendoStop(!0)),void 0!==n){var o=this._overflowWrapper();if(o){var r=o.offset();e-=r.left,n-=r.top}this.popup.wrapper.hide(),this._configurePopupScrolling(e,n),this.popup.open(e,n)}else this.popup.options.anchor=e||this.popup.anchor||this.target,this.popup.element.kendoStop(!0),this._configurePopupScrolling(),this.popup.open();E.off(this.popup.downEvent,this.popup._mousedownProxy),E.on(i.support.mousedown+f+this._marker,this._closeProxy)}return this},_configurePopupScrolling:function(t,e){var i=this.popup,n="horizontal"==this.options.orientation;this.options.scrollable&&(this._wrapPopupElement(i),i.element.parent().css({position:"",height:""}),i.element.css({visibility:"hidden",display:"",position:""}),n?this._setPopupWidth(i,isNaN(t)?void 0:{isFixed:!0,x:t,y:e}):this._setPopupHeight(i,isNaN(t)?void 0:{isFixed:!0,x:t,y:e}),i.element.css({visibility:"",display:"none",position:"absolute"}),this._initPopupScrollButtons(i,n,!0),i.element.siblings(".k-menu-scroll-button").hide())},_setPopupWidth:function(e,n){var o=e.element,r=o.add(o.parent(P));r.width(this._initialWidth||"");var a=e._location(n),s=t(window).width(),l=a.width,c=Math.max(a.left,0),u=n?0:et(this._overflowWrapper()[0],"scrollLeft"),h=i.getShadows(o),d=s-h.left-h.right;d+u>l+c||r.css({overflow:"hidden",width:d-c+u+"px"})},close:function(){H(this.element[0],t(arguments[0])[0])||this._itemHasChildren(arguments[0])?ot.fn.close.call(this,arguments[0]):this.popup.visible()&&!1===this._triggerEvent({item:this.element,type:"close"})&&(this.popup.close(),E.off(i.support.mousedown+f+this._marker,this._closeProxy),this.unbind("select",this._closeTimeoutProxy))},_showHandler:function(t){var e,n=t,o=this.options;t.event&&((n=t.event).pageX=t.x.location,n.pageY=t.y.location),H(this.element[0],t.relatedTarget||t.target)||(this._eventOrigin=n,n.preventDefault(),n.stopImmediatePropagation(),this.element.find("."+D).removeClass(D),(o.filter&&i.support.matchesSelector.call(n.currentTarget,o.filter)||!o.filter)&&(o.alignToAnchor?(this.popup.options.anchor=n.currentTarget,this.open(n.currentTarget)):(this.popup.options.anchor=n.currentTarget,this._targetChild?(e=this.target.offset(),this.open(n.pageX-e.left,n.pageY-e.top)):this.open(n.pageX,n.pageY))))},_closeHandler:function(e){var i=t(e.relatedTarget||e.target),n=i.closest(this.target.selector)[0]==this.target[0],o=i.closest(".k-item"),r=this._itemHasChildren(o),a=this._overflowWrapper(),s=H(this.element[0],i[0])||a&&H(a[0],i[0]);this._eventOrigin=e;var l=3!==e.which;this.popup.visible()&&(l&&n||!n)&&(this.options.closeOnClick&&!r&&s||!s)&&(s?(this.unbind("select",this._closeTimeoutProxy),this.bind("select",this._closeTimeoutProxy)):this.close())},_wire:function(){var t=this.options,e=this.target;this._showProxy=s(this._showHandler,this),this._closeProxy=s(this._closeHandler,this),this._closeTimeoutProxy=s(this.close,this),e[0]&&(i.support.mobileOS&&"contextmenu"==t.showOn?(this.userEvents=new i.UserEvents(e,{filter:t.filter,allowSelection:!1}),e.on(t.showOn+f+this._marker,!1),this.userEvents.bind("hold",this._showProxy)):t.filter?e.on(t.showOn+f+this._marker,t.filter,this._showProxy):e.on(t.showOn+f+this._marker,this._showProxy))},_triggerEvent:function(e){var i=t(this.popup.options.anchor)[0],n=this._eventOrigin;return this._eventOrigin=void 0,this.trigger(e.type,a({type:e.type,item:e.item||this.element[0],target:i},n?{event:n}:{}))},_popup:function(){var e=this._overflowWrapper();this._triggerProxy=s(this._triggerEvent,this),this.popup=this.element.addClass("k-context-menu").kendoPopup({anchor:this.target||"body",copyAnchorStyles:this.options.copyAnchorStyles,collision:this.options.popupCollision||"fit",animation:this.options.animation,activate:this._triggerProxy,deactivate:this._triggerProxy,appendTo:e||this.options.appendTo,close:e?function(i){t(J(i.sender.element,e)).each(function(t,e){var i=e.data("kendoPopup");i&&i.close(!0)})}:t.noop}).data("kendoPopup"),this._targetChild=H(this.target[0],this.popup.element[0])}});n.plugin(ot),n.plugin(rt)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=i._outerWidth,r=t.proxy,a=!1,s=".kendoGroupable",l=i.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-i-sort-${(data.dir || "asc") == "asc" ? "asc-sm" : "desc-sm"}" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})"></span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-bare"><span class="k-icon k-i-close"></span></a></div>',{useWithBlock:!1}),c=function(e){var n=e.attr(i.attr("title"));return n&&(n=i.htmlEncode(n)),t('<div class="k-header k-drag-clue" />').css({width:e.width(),paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),lineHeight:e.height()+"px",paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}).html(n||e.attr(i.attr("field"))).prepend('<span class="k-icon k-drag-status k-i-cancel" />')},u=t('<div class="k-grouping-dropclue"/>');function h(t){return t.position().top+3}var d=n.extend({init:function(e,l){var d,f,p=this,m=i.guid(),g=r(p._intializePositions,p),v=p._dropCuePositions=[];n.fn.init.call(p,e,l),a=i.support.isRtl(e),f=a?"right":"left",p.draggable=d=p.options.draggable||new i.ui.Draggable(p.element,{filter:p.options.draggableElements,hint:c,group:m}),p.groupContainer=t(p.options.groupContainer,p.element).kendoDropTarget({group:d.options.group,dragenter:function(t){p._canDrag(t.draggable.currentTarget)&&(t.draggable.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus"),u.css("top",h(p.groupContainer)).css(f,0).appendTo(p.groupContainer))},dragleave:function(t){t.draggable.hint.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"),u.remove()},drop:function(e){var n,o=e.draggable.currentTarget,r=o.attr(i.attr("field")),s=o.attr(i.attr("title")),l=p.indicator(r),c=p._dropCuePositions,h=c[c.length-1];(o.hasClass("k-group-indicator")||p._canDrag(o))&&(h?(n=p._dropCuePosition(i.getOffset(u).left+parseInt(h.element.css("marginLeft"),10)*(a?-1:1)+parseInt(h.element.css("marginRight"),10)))&&p._canDrop(t(l),n.element,n.left)&&(n.before?n.element.before(l||p.buildIndicator(r,s)):n.element.after(l||p.buildIndicator(r,s)),p._change()):(p.groupContainer.append(p.buildIndicator(r,s)),p._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:c,group:d.options.group,dragcancel:r(p._dragCancel,p),dragstart:function(t){var e=t.currentTarget,i=parseInt(e.css("marginLeft"),10),n=e.position(),r=a?n.left-i:n.left+o(e);g(),u.css({top:h(p.groupContainer),left:r}).appendTo(p.groupContainer),this.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")},dragend:function(){p._dragEnd(this)},drag:r(p._drag,p)}).on("click"+s,".k-button",function(e){e.preventDefault(),p._removeIndicator(t(this).parent())}).on("click"+s,".k-link",function(e){var n=t(this).parent(),o=p.buildIndicator(n.attr(i.attr("field")),n.attr(i.attr("title")),"asc"==n.attr(i.attr("dir"))?"desc":"asc");n.before(o).remove(),p._change(),e.preventDefault()}),d.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){p._dragEnd(this)},dragcancel:r(p._dragCancel,p),dragstart:function(t){var e;p.options.allowDrag||p._canDrag(t.currentTarget)?(g(),v.length&&(e=v[v.length-1].element,parseInt(e.css("marginRight"),10),e.position().left,o(e))):t.preventDefault()},drag:r(p._drag,p)}),p.dataSource=p.options.dataSource,p.dataSource&&p._refreshHandler?p.dataSource.unbind("change",p._refreshHandler):p._refreshHandler=r(p.refresh,p),p.dataSource&&(p.dataSource.bind("change",p._refreshHandler),p.refresh())},refresh:function(){var e=this,n=e.dataSource;e.groupContainer&&e.groupContainer.empty().append(t.map(n.group()||[],function(n){var o=n.field,r=i.attr("field"),a=e.element.find(e.options.filter).filter(function(){return t(this).attr(r)===o});return e.buildIndicator(n.field,a.attr(i.attr("title")),n.dir)}).join("")),e._invalidateGroupContainer()},destroy:function(){n.fn.destroy.call(this),this.groupContainer.off(s),this.groupContainer.data("kendoDropTarget")&&this.groupContainer.data("kendoDropTarget").destroy(),this.groupContainer.data("kendoDraggable")&&this.groupContainer.data("kendoDraggable").destroy(),this.options.draggable||this.draggable.destroy(),this.dataSource&&this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=null),this.groupContainer=this.element=this.draggable=null},events:["change"],options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(e){var n=t(".k-group-indicator",this.groupContainer);return t.grep(n,function(n){return t(n).attr(i.attr("field"))===e})[0]},buildIndicator:function(t,e,n){return l({field:t.replace(/"/g,"'"),dir:n,title:e,ns:i.ns})},descriptors:function(){var e,n,o,r,a=t(".k-group-indicator",this.groupContainer);return e=this.element.find(this.options.filter).map(function(){var e=t(this),a=e.attr(i.attr("aggregates")),s=e.attr(i.attr("field"));if(a&&""!==a)for(n=a.split(","),a=[],o=0,r=n.length;o<r;o++)a.push({field:s,aggregate:n[o]});return a}).toArray(),t.map(a,function(n){return{field:(n=t(n)).attr(i.attr("field")),dir:n.attr(i.attr("dir")),aggregates:e||[]}})},_removeIndicator:function(t){t.remove(),this._invalidateGroupContainer(),this._change()},_change:function(){if(this.dataSource){var t=this.descriptors();if(this.trigger("change",{groups:t}))return void this.refresh();this.dataSource.group(t)}},_dropCuePosition:function(e){var i=this._dropCuePositions;if(u.is(":visible")&&0!==i.length){e=Math.ceil(e);var n=i[i.length-1],r=n.left,s=n.right,l=parseInt(n.element.css("marginLeft"),10),c=parseInt(n.element.css("marginRight"),10);return e>=s&&!a||e<r&&a?e={left:n.element.position().left+(a?-l:o(n.element)+c),element:n.element,before:!1}:(e=t.grep(i,function(t){return t.left<=e&&e<=t.right||a&&e>t.right})[0])&&(e={left:a?e.element.position().left+o(e.element)+c:e.element.position().left-l,element:e.element,before:!0}),e}},_drag:function(t){var e=this._dropCuePosition(t.x.location);e&&u.css({left:e.left,right:"auto"})},_canDrag:function(t){var e=t.attr(i.attr("field"));return"false"!=t.attr(i.attr("groupable"))&&e&&(t.hasClass("k-group-indicator")||!this.indicator(e))},_canDrop:function(t,e,i){var n=t.next();return t[0]!==e[0]&&(!n[0]||e[0]!==n[0]||!a&&i>n.position().left||a&&i<n.position().left)},_dragEnd:function(e){var n=e.currentTarget.attr(i.attr("field")),o=this.indicator(n);e!==this.options.draggable&&!e.dropped&&o&&this._removeIndicator(t(o)),this._dragCancel()},_dragCancel:function(){u.remove(),this._dropCuePositions=[]},_intializePositions:function(){var e,n=t(".k-group-indicator",this.groupContainer);this._dropCuePositions=t.map(n,function(n){return n=t(n),e=i.getOffset(n).left,{left:parseInt(e,10),right:parseInt(e+o(n),10),element:n}})},_invalidateGroupContainer:function(){var t=this.groupContainer;t&&t.is(":empty")&&t.html(this.options.messages.empty)}});i.ui.plugin(d)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=i._outerWidth,r=i._outerHeight;function a(t){return t.clone()}function s(t){return t.clone().removeAttr("id").css("visibility","hidden")}var l=n.extend({init:function(t,e){n.fn.init.call(this,t,e),this.options.placeholder||(this.options.placeholder=s),this.options.hint||(this.options.hint=a),this.draggable=this._createDraggable()},events:["start","beforeMove","move","end","change","cancel"],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function(){this.draggable.destroy(),n.fn.destroy.call(this)},_createDraggable:function(){var e=this.element,n=this.options;return new i.ui.Draggable(e,{filter:n.filter,hint:i.isFunction(n.hint)?n.hint:t(n.hint),holdToDrag:n.holdToDrag,container:n.container?t(n.container):null,cursorOffset:n.cursorOffset,axis:n.axis,ignore:n.ignore,autoScroll:n.autoScroll,dragstart:t.proxy(this._dragstart,this),dragcancel:t.proxy(this._dragcancel,this),drag:t.proxy(this._drag,this),dragend:t.proxy(this._dragend,this)})},_dragstart:function(e){var n=this.draggedElement=e.currentTarget,o=this.options.disabled,r=this.options.handler,a=this.options.placeholder,s=this.placeholder=i.isFunction(a)?t(a.call(this,n)):t(a);o&&n.is(o)?e.preventDefault():r&&!t(e.initialTarget).is(r)?e.preventDefault():this.trigger("start",{item:n,draggableEvent:e})?e.preventDefault():(n.css("display","none"),n.before(s),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger("cancel",{item:this.draggedElement}),this._resetCursor()},_drag:function(e){var i,n,o,r,a,s=this.draggedElement,l=this._findTarget(e),c={left:e.x.location,top:e.y.location},u={x:e.x.delta,y:e.y.delta},h=this.options.axis,d=this.options.moveOnDragEnter,f={item:s,list:this,draggableEvent:e};if("x"!==h&&"y"!==h){if(l){if(i=this._getElementCenter(l.element),n={left:Math.round(c.left-i.left),top:Math.round(c.top-i.top)},t.extend(f,{target:l.element}),l.appendToBottom)return void this._movePlaceholder(l,null,f);if(l.appendAfterHidden&&this._movePlaceholder(l,"next",f),this._isFloating(l.element)?u.x<0&&d||!d&&n.left<0?o="prev":(u.x>0&&d||!d&&n.left>0)&&(o="next"):u.y<0&&d||!d&&n.top<0?o="prev":(u.y>0&&d||!d&&n.top>0)&&(o="next"),o){for(r=(a="prev"===o?jQuery.fn.prev:jQuery.fn.next).call(l.element);r.length&&!r.is(":visible");)r=a.call(r);r[0]!=this.placeholder[0]&&this._movePlaceholder(l,o,f)}}}else this._movementByAxis(h,c,u[h],f)},_dragend:function(e){var i,n,o,r,a=this.placeholder,s=this.draggedElement,l=this.indexOf(s),c=this.indexOf(a),u=this.options.connectWith;this._resetCursor(),o={action:"sort",item:s,oldIndex:l,newIndex:c,draggableEvent:e},c>=0?n=this.trigger("end",o):(i=a.parents(u).getKendoSortable(),o.action="remove",r=t.extend({},o,{action:"receive",oldIndex:-1,newIndex:i.indexOf(a)}),n=!(!this.trigger("end",o)&&!i.trigger("end",r))),n||c===l?this._cancel():(a.replaceWith(s),s.show(),this.draggable.dropped=!0,o={action:-1!=this.indexOf(s)?"sort":"remove",item:s,oldIndex:l,newIndex:this.indexOf(s),draggableEvent:e},this.trigger("change",o),i&&(r=t.extend({},o,{action:"receive",oldIndex:-1,newIndex:i.indexOf(s)}),i.trigger("change",r)))},_findTarget:function(e){var i,n,o=this._findElementUnderCursor(e),r=this.options.connectWith;return t.contains(this.element[0],o)?(n=(i=this.items()).filter(o)[0]||i.has(o)[0])?{element:t(n),sortable:this}:null:this.element[0]==o&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==o&&this._isLastHidden()?{element:n=this.items().eq(0),sortable:this,appendAfterHidden:!0}:r?this._searchConnectedTargets(o,e):void 0},_findElementUnderCursor:function(e){var n=i.elementUnderCursor(e),o=e.sender;return function(e,i){try{return t.contains(e,i)||e==i}catch(t){return!1}}(o.hint[0],n)&&(o.hint.hide(),(n=i.elementUnderCursor(e))||(n=i.elementUnderCursor(e)),o.hint.show()),n},_searchConnectedTargets:function(e,i){for(var n,o,r,a=t(this.options.connectWith),s=0;s<a.length;s++)if(n=a.eq(s).getKendoSortable(),t.contains(a[s],e)){if(n)return(r=(o=n.items()).filter(e)[0]||o.has(e)[0])?(n.placeholder=this.placeholder,{element:t(r),sortable:n}):null}else if(a[s]==e){if(n&&n._isEmpty())return{element:a.eq(s),sortable:n,appendToBottom:!0};if(this._isCursorAfterLast(n,i))return{element:r=n.items().last(),sortable:n}}},_isCursorAfterLast:function(t,e){var n,a=t.items().last(),s=e.x.location,l=e.y.location;return(n=i.getOffset(a)).top+=r(a),n.left+=o(a),(this._isFloating(a)?n.left-s:n.top-l)<0},_movementByAxis:function(e,i,n,o){var r,a="x"===e?i.left:i.top,s=n<0?this.placeholder.prev():this.placeholder.next();s.length&&!s.is(":visible")&&(s=n<0?s.prev():s.next()),t.extend(o,{target:s}),(r=this._getElementCenter(s))&&(r="x"===e?r.left:r.top),s.length&&n<0&&a-r<0?this._movePlaceholder({element:s,sortable:this},"prev",o):s.length&&n>0&&a-r>0&&this._movePlaceholder({element:s,sortable:this},"next",o)},_movePlaceholder:function(t,e,i){var n=this.placeholder;t.sortable.trigger("beforeMove",i)||(e?"prev"===e?t.element.before(n):"next"===e&&t.element.after(n):t.element.append(n),t.sortable.trigger("move",i))},_setCursor:function(){var e,i=this.options.cursor;i&&"auto"!==i&&(e=t(document.body),this._originalCursorType=e.css("cursor"),e.css({cursor:i}),this._cursorStylesheet||(this._cursorStylesheet=t("<style>* { cursor: "+i+" !important; }</style>")),this._cursorStylesheet.appendTo(e))},_resetCursor:function(){this._originalCursorType&&(t(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(t){var e=t.length?i.getOffset(t):null;return e&&(e.top+=r(t)/2,e.left+=o(t)/2),e},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_cancel:function(){this.draggedElement.show(),this.placeholder.remove()},_items:function(){var t=this.options.filter;return t?this.element.find(t):this.element.children()},indexOf:function(t){var e=this._items(),i=this.placeholder,n=this.draggedElement;return i&&t[0]==i[0]?e.not(n).index(t):e.not(i).index(t)},items:function(){var t=this.placeholder,e=this._items();return t&&(e=e.not(t)),e},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});i.ui.plugin(l)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i._outerWidth,o=i._outerHeight,r=i.getOffset,a=i.ui.Widget;function s(e,i){e=t(e),i?e.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"):e.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")}var l=a.extend({init:function(e,l){var c,u=this,h=i.guid()+"-reorderable";a.fn.init.call(u,e,l),e=u.element.addClass("k-reorderable"),l=u.options,u.draggable=c=l.draggable||new i.ui.Draggable(e,{group:h,autoScroll:!0,filter:l.filter,hint:l.hint}),u.reorderDropCue=t('<div class="k-reorder-cue"></div></div>'),e.find(c.options.filter).kendoDropTarget({group:c.options.group,dragenter:function(t){if(u._draggable){var e,i=this.element,a=!u._dropTargetAllowed(i)||u._isLastDraggable();if(s(t.draggable.hint,a),!a){var c=(e=r(i)).left;l.inSameContainer&&!l.inSameContainer({source:i,target:u._draggable,sourceIndex:u._index(i),targetIndex:u._index(u._draggable)})?u._dropTarget=i:u._index(i)>u._index(u._draggable)&&(c+=n(i)),u.reorderDropCue.css({height:o(i),top:e.top,left:c}).appendTo(document.body)}}},dragleave:function(t){s(t.draggable.hint,!0),u.reorderDropCue.remove(),u._dropTarget=null},drop:function(){if(u._dropTarget=null,u._draggable){var t=this.element,e=u._draggable;u._dropTargetAllowed(t)&&!u._isLastDraggable()&&u.trigger("change",{element:u._draggable,target:t,oldIndex:u._index(e),newIndex:u._index(t),position:r(u.reorderDropCue).left>r(t).left?"after":"before"})}}}),c.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){u.reorderDropCue.remove(),u._draggable=null,u._elements=null},dragend:function(){u.reorderDropCue.remove(),u._draggable=null,u._elements=null},dragstart:function(t){u._draggable=t.currentTarget,u._elements=u.element.find(u.draggable.options.filter)},drag:function(t){if(u._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-i-cancel")){var e=r(u._dropTarget).left,i=n(u._dropTarget);t.pageX>e+i/2?u.reorderDropCue.css({left:e+i}):u.reorderDropCue.css({left:e})}}})},options:{name:"Reorderable",filter:"*"},events:["change"],_isLastDraggable:function(){var t,e=this.options.inSameContainer,i=this._draggable[0],n=this._elements.get(),o=!1;if(!e)return!1;for(;!o&&n.length>0;)o=i!==(t=n.pop())&&e({source:i,target:t,sourceIndex:this._index(i),targetIndex:this._index(t)});return!o},_dropTargetAllowed:function(t){var e=this.options.inSameContainer,i=this.options.dragOverContainers,n=this._draggable;return n[0]!==t[0]&&(!e||!i||!!e({source:n,target:t,sourceIndex:this._index(n),targetIndex:this._index(t)})||i(this._index(n),this._index(t)))},_index:function(t){return this._elements.index(t)},destroy:function(){a.fn.destroy.call(this),this.element.find(this.draggable.options.filter).each(function(){var e=t(this);e.data("kendoDropTarget")&&e.data("kendoDropTarget").destroy()}),this.draggable&&(this.draggable.destroy(),this.draggable.element=this.draggable=null),this.elements=this.reorderDropCue=this._elements=this._draggable=null}});i.ui.plugin(l)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=t.proxy,a=i.isFunction,s=t.extend,l=o.extend({init:function(t,e){o.fn.init.call(this,t,e),this.orientation="vertical"!=this.options.orientation.toLowerCase()?"horizontal":"vertical",this._positionMouse="horizontal"==this.orientation?"x":"y",this._position="horizontal"==this.orientation?"left":"top",this._sizingDom="horizontal"==this.orientation?"outerWidth":"outerHeight",this.draggable=new n.Draggable(e.draggableElement||t,{distance:1,filter:e.handle,drag:r(this._resize,this),dragcancel:r(this._cancel,this),dragstart:r(this._start,this),dragend:r(this._stop,this)}),this.userEvents=this.draggable.userEvents},events:["resize","resizeend","start"],options:{name:"Resizable",orientation:"horizontal"},resize:function(){},_max:function(t){var e=this.hint?this.hint[this._sizingDom]():0,i=this.options.max;return a(i)?i(t):void 0!==i?this._initialElementPosition+i-e:i},_min:function(t){var e=this.options.min;return a(e)?e(t):void 0!==e?this._initialElementPosition+e:e},_start:function(e){var i=this.options.hint,n=t(e.currentTarget);this._initialElementPosition=n.position()[this._position],this._initialMousePosition=e[this._positionMouse].startLocation,i&&(this.hint=a(i)?t(i(n)):i,this.hint.css({position:"absolute"}).css(this._position,this._initialElementPosition).appendTo(this.element)),this.trigger("start",e),this._maxPosition=this._max(e),this._minPosition=this._min(e),t(document.body).css("cursor",n.css("cursor"))},_resize:function(t){var e,i=this._maxPosition,n=this._minPosition,o=this._initialElementPosition+(t[this._positionMouse].location-this._initialMousePosition);e=void 0!==n?Math.max(n,o):o,this.position=e=void 0!==i?Math.min(i,e):e,this.hint&&this.hint.toggleClass(this.options.invalidClass||"",e==i||e==n).css(this._position,e),this.resizing=!0,this.trigger("resize",s(t,{position:e}))},_stop:function(e){this.hint&&this.hint.remove(),this.resizing=!1,this.trigger("resizeend",s(e,{position:this.position})),t(document.body).css("cursor","")},_cancel:function(t){this.hint&&(this.position=void 0,this.hint.css(this._position,this._initialElementPosition),this._stop(t))},destroy:function(){o.fn.destroy.call(this),this.draggable&&this.draggable.destroy()},press:function(t){if(t){var e=t.position();this.userEvents.press(e.left,e.top,t[0]),this.targetPosition=e,this.target=t}},move:function(t){var e=this._position,i=this.targetPosition,n=this.position;void 0===n&&(n=i[e]),i[e]=n+t,this.userEvents.move(i.left,i.top)},end:function(){this.userEvents.end(),this.target=this.position=void 0}});i.ui.plugin(l)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s,l;i(0),s=[i(4)],n="function"==typeof(a=function(){!function(t){window.kendo.excel=window.kendo.excel||{};var e=kendo.getter,i=t.map,n={compile:function(t){return t}},o=kendo.Class.extend({});function r(t){return t.title+": "+t.value}function a(t,e){for(var i=[],n=0;n<t;n++)i.push(e(n));return i}o.register=function(t){n=t},o.compile=function(t){return n.compile(t)};var s=kendo.Class.extend({init:function(t){t.columns=this._trimColumns(t.columns||[]),this.allColumns=i(this._leafColumns(t.columns||[]),this._prepareColumn),this.columns=this.allColumns.filter(function(t){return!t.hidden}),this.options=t,this.data=t.data||[],this.aggregates=t.aggregates||{},this.groups=[].concat(t.groups||[]),this.hierarchy=t.hierarchy},workbook:function(){var t={sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};return t},_trimColumns:function(t){var e=this;return t.filter(function(t){var i=Boolean(t.field);return!i&&t.columns&&(i=e._trimColumns(t.columns).length>0),i})},_leafColumns:function(t){for(var e=[],i=0;i<t.length;i++)t[i].columns?e=e.concat(this._leafColumns(t[i].columns)):e.push(t[i]);return e},_prepareColumn:function(i){if(!i.field)return null;var n=function(t){return e(i.field,!0)(t)},a=null;return i.values&&(a={},i.values.forEach(function(t){a[t.value]=t.text}),n=function(t){return a[e(i.field,!0)(t)]}),t.extend({},i,{value:n,values:a,groupHeaderTemplate:i.groupHeaderTemplate?o.compile(i.groupHeaderTemplate):r,groupFooterTemplate:i.groupFooterTemplate?o.compile(i.groupFooterTemplate):null,footerTemplate:i.footerTemplate?o.compile(i.footerTemplate):null})},_filter:function(){if(!this.options.filterable)return null;var t=this._depth();return{from:t,to:t+this.columns.length-1}},_createPaddingCells:function(e){var i=this;return a(e,function(){return t.extend({background:"#dfdfdf",color:"#333"},i.options.paddingCellOptions)})},_dataRow:function(e,i,n){var o=this._createPaddingCells(i);if(n&&e.items){var r=this.allColumns.filter(function(t){return t.field===e.field})[0],a=r&&r.title?r.title:e.field,s=r?r.groupHeaderTemplate:null,l=t.extend({title:a,field:e.field,value:r&&r.values?r.values[e.value]:e.value,aggregates:e.aggregates,items:e.items},e.aggregates[e.field]),c=a+": "+e.value;s&&(c=s(l)),o.push(t.extend({value:c,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+n-i},(r||{}).groupHeaderCellOptions));var u=this._dataRows(e.items,i+1);return u.unshift({type:"group-header",cells:o}),u.concat(this._footer(e))}for(var h=[],d=0;d<this.columns.length;d++)h[d]=this._cell(e,this.columns[d]);return this.hierarchy&&(h[0].colSpan=n-i+1),[{type:"data",cells:o.concat(h)}]},_dataRows:function(t,e){for(var i=this._depth(),n=[],o=0;o<t.length;o++)n.push.apply(n,this._dataRow(t[o],e,i));return n},_hierarchyRows:function(){for(var t,e=this._depth(),i=this.data,n=this.hierarchy.itemLevel,o=this._hasFooterTemplate(),r=[],a=[],s=0,l=0;l<i.length;l++){var c=i[l],u=n(c);o&&(u>s?a.push({id:t,level:s}):u<s&&r.push.apply(r,this._hierarchyFooterRows(a,u,e)),s=u,t=c.id),r.push.apply(r,this._dataRow(c,u+1,e))}if(o){r.push.apply(r,this._hierarchyFooterRows(a,0,e));var h=i.length?this.aggregates[i[0].parentId]:{};r.push(this._hierarchyFooter(h,0,e))}return this._prependHeaderRows(r),r},_hierarchyFooterRows:function(t,e,i){for(var n=[];t.length&&t[t.length-1].level>=e;){var o=t.pop();n.push(this._hierarchyFooter(this.aggregates[o.id],o.level+1,i))}return n},_hasFooterTemplate:function(){for(var t=this.columns,e=0;e<t.length;e++)if(t[e].footerTemplate)return!0},_hierarchyFooter:function(e,i,n){var o=this.columns.map(function(o,r){var a=r?1:n-i+1;return o.footerTemplate?t.extend({background:"#dfdfdf",color:"#333",colSpan:a,value:o.footerTemplate(t.extend({},(e||{})[o.field]))},o.footerCellOptions):t.extend({background:"#dfdfdf",color:"#333",colSpan:a},o.footerCellOptions)});return{type:"footer",cells:this._createPaddingCells(i).concat(o)}},_footer:function(e){var i=this,n=[],o=!1,r=this.columns.map(function(n){if(n.groupFooterTemplate){var r=t.extend({},i.aggregates,e.aggregates,e.aggregates[n.field],{group:{items:e.items,field:e.field,value:e.value}});return r[e.field]=r,o=!0,t.extend({background:"#dfdfdf",color:"#333",value:n.groupFooterTemplate(r)},n.groupFooterCellOptions)}return t.extend({background:"#dfdfdf",color:"#333"},n.groupFooterCellOptions)});return o&&n.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(r)}),n},_isColumnVisible:function(t){return this._visibleColumns([t]).length>0&&(t.field||t.columns)},_visibleColumns:function(t){var e=this;return t.filter(function(t){var i=!t.hidden;return i&&t.columns&&(i=e._visibleColumns(t.columns).length>0),i})},_headerRow:function(e,i){var n=this,o=e.cells.map(function(i){return t.extend(i,{colSpan:i.colSpan>1?i.colSpan:1,rowSpan:e.rowSpan>1&&!i.colSpan?e.rowSpan:1})});return this.hierarchy&&(o[0].colSpan=this._depth()+1),{type:"header",cells:a(i.length,function(){return t.extend({background:"#7a7a7a",color:"#fff"},n.options.headerPaddingCellOptions)}).concat(o)}},_prependHeaderRows:function(t){var e=this.groups,i=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(i,this.options.columns);for(var n=i.length-1;n>=0;n--)t.unshift(this._headerRow(i[n],e))},_prepareHeaderRows:function(e,i,n,o){for(var r=o||e[e.length-1],a=e[r.index+1],s=0,l=0;l<i.length;l++){var c=i[l];if(this._isColumnVisible(c)){var u=t.extend({background:"#7a7a7a",color:"#fff",value:c.title||c.field,colSpan:0},c.headerCellOptions);r.cells.push(u),c.columns&&c.columns.length&&(a||(a={rowSpan:0,cells:[],index:e.length},e.push(a)),u.colSpan=this._trimColumns(this._visibleColumns(c.columns)).length,this._prepareHeaderRows(e,c.columns,u,a),s+=u.colSpan-1,r.rowSpan=e.length-r.index)}}n&&(n.colSpan+=s)},_rows:function(){var e=this,i=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(i);var n=!1,o=this.columns.map(function(i){return i.footerTemplate?(n=!0,t.extend({background:"#dfdfdf",color:"#333",value:i.footerTemplate(t.extend({},e.aggregates,e.aggregates[i.field]))},i.footerCellOptions)):t.extend({background:"#dfdfdf",color:"#333"},i.footerCellOptions)});n&&i.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(o)})}return i},_headerDepth:function(t){for(var e=0,i=0;i<t.length;i++)if(t[i].columns){var n=this._headerDepth(t[i].columns);n>e&&(e=n)}return 1+e},_freezePane:function(){var t=this._visibleColumns(this.options.columns||[]),e=this._visibleColumns(this._trimColumns(this._leafColumns(t.filter(function(t){return t.locked})))).length;return{rowSplit:this._headerDepth(t),colSplit:e?e+this.groups.length:0}},_cell:function(e,i){return t.extend({value:i.value(e)},i.cellOptions)},_depth:function(){return this.hierarchy?this.hierarchy.depth:this.groups.length},_columns:function(){var t=this._depth(),e=a(t,function(){return{width:20}});return e.concat(this.columns.map(function(t){return{width:parseInt(t.width,10),autoWidth:!t.width}}))}});kendo.deepExtend(kendo.excel,{ExcelExporter:s,TemplateService:o})}(window.kendo.jQuery)})?a.apply(e,s):a,i(0),s=[i(4),i(17),n],o="function"==typeof(a=function(){return function(t,e){var i=e.excel.ExcelExporter,n=t.extend;e.excel.TemplateService.register({compile:e.template}),e.ExcelExporter=e.Class.extend({init:function(t){this.options=t;var i=t.dataSource;if(i instanceof e.data.DataSource){i.filter()||(i.options.filter=void 0),this.dataSource=new i.constructor(n({},i.options,{page:t.allPages?0:i.page(),filter:i.filter(),pageSize:t.allPages?i.total():i.pageSize(),sort:i.sort(),group:i.group(),aggregate:i.aggregate()}));var o=i.data();if(o.length>0){this.dataSource._data=o;var r=this.dataSource.transport;i._isServerGrouped()&&r.options&&r.options.data&&(r.options.data=null)}}else this.dataSource=e.data.DataSource.create(i)},_hierarchy:function(){var t=this.options.hierarchy,e=this.dataSource;if(t&&e.level){t={itemLevel:function(t){return e.level(t)}};for(var i,n=e.view(),o=0,r=0;r<n.length;r++)(i=e.level(n[r]))>o&&(o=i);t.depth=o+1}else t=!1;return{hierarchy:t}},workbook:function(){return t.Deferred(t.proxy(function(e){this.dataSource.fetch().then(t.proxy(function(){var t=new i(n({},this.options,this._hierarchy(),{data:this.dataSource.view(),groups:this.dataSource.group(),aggregates:this.dataSource.aggregates()})).workbook();e.resolve(t,this.dataSource.view())},this))},this)).promise()}})}(kendo.jQuery,kendo),kendo})?a.apply(e,s):a,i(0),s=[o,i(165)],r="function"==typeof(a=function(){return function(t,e){e.ExcelMixin={extend:function(e){e.events.push("excelExport"),e.options.excel=t.extend(e.options.excel,this.options),e.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var i=this.options.excel||{};new e.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:i.allPages,filterable:i.filterable,hierarchy:i.hierarchy}).workbook().then(t.proxy(function(t,n){this.trigger("excelExport",{workbook:t,data:n})||new e.ooxml.Workbook(t).toDataURLAsync().then(function(n){e.saveAs({dataURI:n,fileName:t.fileName||i.fileName,proxyURL:i.proxyURL,forceProxy:i.forceProxy})})},this))}}}(kendo.jQuery,kendo),kendo})?a.apply(e,s):a,i(0),s=[o,r],void 0===(l="function"==typeof(a=function(){})?a.apply(e,s):a)||(t.exports=l)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(20)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=t.proxy,r=t.extend,a=window.setTimeout,s="click",l=".k-notification-wrap .k-i-close",c="top",u=".kendoNotification",h='<div class="k-notification-wrap"><span class="k-icon k-i-#=typeIcon#" title="#=typeIcon#"></span>#=content#<span class="k-icon k-i-close" title="Hide"></span></div>',d=h.replace("#=content#","#:content#"),f=n.extend({init:function(e,o){n.fn.init.call(this,e,o),(o=this.options).appendTo&&t(o.appendTo).is(e)||this.element.hide(),this._compileTemplates(o.templates),this._guid="_"+i.guid(),this._isRtl=i.support.isRtl(e),this._compileStacking(o.stacking,o.position.top,o.position.left),i.notify(this)},events:["show","hide"],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(e){var n=this,o=i.template;n._compiled={},t.each(e,function(e,i){n._compiled[i.type]=o(i.template||t("#"+i.templateId).html())}),n._defaultCompiled=o(h),n._safeCompiled=o(d)},_getCompiled:function(t,e){var i=e?this._safeCompiled:this._defaultCompiled;return t&&this._compiled[t]||i},_compileStacking:function(t,e,i){var n,o,r={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},a=null!==i?"left":"right";switch(t){case"down":n="bottom "+a,o="top "+a,delete r.paddingBottom;break;case"right":n="top right",o="top left",delete r.paddingRight;break;case"left":n="top left",o="top right",delete r.paddingLeft;break;case"up":n="top "+a,o="bottom "+a,delete r.paddingTop;break;default:null!==e?(n="bottom "+a,o="top "+a,delete r.paddingBottom):(n="top "+a,o="bottom "+a,delete r.paddingTop)}this._popupOrigin=n,this._popupPosition=o,this._popupPaddings=r},_attachPopupEvents:function(t,e){var i,n=this,o=t.allowHideAfter,r=!isNaN(o)&&o>0;function c(t){t.on(s+u,function(){n._hidePopup(e)})}t.hideOnClick?e.bind("activate",function(){r?a(function(){c(e.element)},o):c(e.element)}):t.button&&(i=e.element.find(l),r?a(function(){c(i)},o):c(i))},_showPopup:function(e,n){var o,s,c=this,h=n.autoHideAfter,d=n.position.left,f=n.position.top;s=t("."+c._guid+":not(.k-hiding)").last(),o=new i.ui.Popup(e,{anchor:s[0]?s:document.body,origin:c._popupOrigin,position:c._popupPosition,animation:n.animation,modal:!0,collision:"",isRtl:c._isRtl,close:function(){c._triggerHide(this.element)},deactivate:function(t){t.sender.element.off(u),t.sender.element.find(l).off(u),t.sender.destroy()}}),c._attachPopupEvents(n,o),e.removeClass("k-group k-reset"),s[0]?o.open():(null===d&&(d=t(window).width()-e.width()-n.position.right),null===f&&(f=t(window).height()-e.height()-n.position.bottom),o.open(d,f)),o.wrapper.addClass(c._guid).css(r({margin:0,zIndex:10050},c._popupPaddings)),n.position.pinned?(o.wrapper.css("position","fixed"),s[0]&&c._togglePin(o.wrapper,!0)):s[0]||c._togglePin(o.wrapper,!1),h>0&&a(function(){c._hidePopup(o)},h)},_hidePopup:function(t){t.wrapper.addClass("k-hiding"),t.close()},_togglePin:function(e,i){var n=t(window),o=i?-1:1;e.css({top:parseInt(e.css(c),10)+o*n.scrollTop(),left:parseInt(e.css("left"),10)+o*n.scrollLeft()})},_attachStaticEvents:function(t,e){var i=this,n=t.allowHideAfter,r=!isNaN(n)&&n>0;function c(t){t.on(s+u,o(i._hideStatic,i,e))}t.hideOnClick?r?a(function(){c(e)},n):c(e):t.button&&(r?a(function(){c(e.find(l))},n):c(e.find(l)))},_showStatic:function(t,e){var i=this,n=e.autoHideAfter,o=e.animation,r="up"==e.stacking||"left"==e.stacking?"prependTo":"appendTo";t.removeClass("k-popup").addClass(i._guid)[r](e.appendTo).hide().kendoAnimate(o.open||!1),i._attachStaticEvents(e,t),n>0&&a(function(){i._hideStatic(t)},n)},_hideStatic:function(t){t.kendoAnimate(r(this.options.animation.close||!1,{complete:function(){t.off(u).find(l).off(u),t.remove()}})),this._triggerHide(t)},_triggerHide:function(t){this.trigger("hide",{element:t}),this.angular("cleanup",function(){return{elements:t}})},show:function(e,n,o){var a,s,l=this.options,c=t('<div class="k-widget k-popup k-notification"></div>');return n||(n="info"),null!==e&&void 0!==e&&""!==e&&(i.isFunction(e)&&(e=e()),s={typeIcon:n,content:""},a=t.isPlainObject(e)?r(s,e):r(s,{content:e}),c.addClass("k-notification-"+n).toggleClass("k-notification-button",l.button).attr("data-role","alert").css({width:l.width,height:l.height}).append(this._getCompiled(n,o)(a)),this.angular("compile",function(){return{elements:c,data:[{dataItem:a}]}}),t(l.appendTo)[0]?this._showStatic(c,l):this._showPopup(c,l),this.trigger("show",{element:c})),this},showText:function(t,e){this.show(t,e,!0)},info:function(t){return this.show(t,"info")},success:function(t){return this.show(t,"success")},warning:function(t){return this.show(t,"warning")},error:function(t){return this.show(t,"error")},hide:function(){var e=this,i=e.getNotifications();return e.options.appendTo?i.each(function(i,n){e._hideStatic(t(n))}):i.each(function(i,n){var o=t(n).data("kendoPopup");o&&e._hidePopup(o)}),e},getNotifications:function(){var e=t("."+this._guid+":not(.k-hiding)");return this.options.appendTo?e:e.children(".k-notification")},setOptions:function(t){var e;n.fn.setOptions.call(this,t),e=this.options,void 0!==t.templates&&this._compileTemplates(e.templates),void 0===t.stacking&&void 0===t.position||this._compileStacking(e.stacking,e.position.top,e.position.left)},destroy:function(){n.fn.destroy.call(this),this.getNotifications().off(u).find(l).off(u)}});i.ui.plugin(f)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r,a,s;i(0),a=[i(4)],void 0===(s="function"==typeof(r=function(){!function(t){window.kendo.util=window.kendo.util||{};var e=kendo.Class.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}}),i=/\r?\n|\r|\t/g,n=" ";function o(t){return String(t).replace(i,n)}function r(t){var e=[];for(var i in t)e.push(i+t[i]);return e.sort().join("")}function a(t){for(var e=2166136261,i=0;i<t.length;++i)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(i);return e>>>0}var s,l={baselineMarkerSize:1};"undefined"!=typeof document&&((s=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var c=kendo.Class.extend({init:function(i){this._cache=new e(1e3),this.options=t.extend({},l,i)},measure:function(t,e,i){if(void 0===i&&(i={}),!t)return{width:0,height:0,baseline:0};var n=r(e),l=a(t+n),c=this._cache.get(l);if(c)return c;var u={width:0,height:0,baseline:0},h=i.box||s,d=this._baselineMarker().cloneNode(!1);for(var f in e){var p=e[f];void 0!==p&&(h.style[f]=p)}var m=!1!==i.normalizeText?o(t):String(t);return h.textContent=m,h.appendChild(d),document.body.appendChild(h),m.length&&(u.width=h.offsetWidth-this.options.baselineMarkerSize,u.height=h.offsetHeight,u.baseline=d.offsetTop+this.options.baselineMarkerSize),u.width>0&&u.height>0&&this._cache.put(l,u),h.parentNode.removeChild(h),u},_baselineMarker:function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}});c.current=new c,kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:c,measureText:function(t,e,i){return c.current.measure(t,e,i)},objectKey:r,hashKey:a,normalizeText:o})}(window.kendo.jQuery)})?r.apply(e,a):r)||(t.exports=s),i(0),a=[i(4),i(44),i(24),i(45)],n="function"==typeof(r=function(){!function(t){window.kendo.dataviz=window.kendo.dataviz||{};var e=kendo.dataviz,i=e.Class,n=e.isNumber,o=e.constants,r=o.MAX_VALUE,a=o.MIN_VALUE,s=o.VALUE,l=o.CENTER,c=o.TOP,u=o.BOTTOM,h=o.LEFT,d=o.WHITE,f=o.CIRCLE,p=o.X,m=o.Y,g=o.RIGHT,v=o.BLACK,b=o.DATE,k=o.DEFAULT_PRECISION,y=o.ARC,w=e.defined,_=e.getter,x=e.isArray,S=e.ChartElement,C=e.Point,A=e.Box,T=e.alignPathToPixel,j=e.setDefaultOptions,M=e.inArray,z=e.isFunction,E=e.valueOrDefault,I=e.isObject,D=e.deepExtend,O=e.last,P=e.eventElement,R=e.getTemplate,L=e.TextBox,F=e.ShapeElement,N=e.getSpacing,B=e.CurveProcessor,q=e.append,V=e.isString,H=e.parseDate,U=e.styleValue,W=e.CategoryAxis,G=e.BoxElement,Q=e.round,Y=e.grep,K=e.DateCategoryAxis,Z=e.elementStyles,X=e.hasClasses,J=e.bindEvents,$=e.services,tt=e.unbindEvents,et=e.limitValue,it=kendo.support,nt=kendo.drawing,ot=nt.Path,rt=nt.Animation,at=nt.AnimationFactory,st=nt.Group,lt=kendo.Color,ct=kendo.geometry,ut=ct.Point,ht=ct.transform,dt=i.extend({init:function(t){this._axis=t,this.options=t.options},value:function(t){var e=this._axis,i=e.getCategory?e.getCategory(t):e.getValue(t);return i},slot:function(t,e,i){return void 0===i&&(i=!0),this._axis.slot(t,e,i)},range:function(){return this._axis.range()},valueRange:function(){return this._axis.valueRange()}}),ft=kendo.Class.extend({init:function(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual}}),pt=i.extend({init:function(t){this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}});function mt(t){for(var e=t.length,i=0,o=0;o<e;o++){var r=t[o];n(r)&&i++}return i}var gt={min:function(t){for(var e=t.length,i=r,o=0;o<e;o++){var a=t[o];n(a)&&(i=Math.min(i,a))}return i===r?t[0]:i},max:function(t){for(var e=t.length,i=a,o=0;o<e;o++){var r=t[o];n(r)&&(i=Math.max(i,r))}return i===a?t[0]:i},sum:function(t){for(var e=t.length,i=0,o=0;o<e;o++){var r=t[o];n(r)&&(i+=r)}return i},sumOrNull:function(t){var e=null;return mt(t)&&(e=gt.sum(t)),e},count:function(t){for(var e=t.length,i=0,n=0;n<e;n++){var o=t[n];null!==o&&w(o)&&i++}return i},avg:function(t){var e=mt(t),i=t[0];return e>0&&(i=gt.sum(t)/e),i},first:function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];if(null!==n&&w(n))return n}return t[0]}};function vt(t,e){if(null===e)return e;var i=_(t,!0);return i(e)}var bt=i.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(t,e,i){void 0===e&&(e=[s]),void 0===i&&(i={});for(var n=0;n<t.length;n++){var o=t[n];this._valueFields[o]=e,this._otherFields[o]=i,this._nullValue[o]=this._makeValue(e,null),this._undefinedValue[o]=this._makeValue(e,void 0)}},canonicalFields:function(t){return this.valueFields(t).concat(this.otherFields(t))},valueFields:function(t){return this._valueFields[t.type]||[s]},otherFields:function(t){return this._otherFields[t.type]||[s]},bindPoint:function(t,e,i){var n,o,r=t.data,a=w(i)?i:r[e],s={valueFields:{value:a}},l=this.valueFields(t),c=this._otherFields[t.type];if(null===a)o=this._nullValue[t.type];else if(w(a)){if(Array.isArray(a)){var u=a.slice(l.length);o=this._bindFromArray(a,l),n=this._bindFromArray(u,c)}else if("object"==typeof a){var h=this.sourceFields(t,l),d=this.sourceFields(t,c);o=this._bindFromObject(a,l,h),n=this._bindFromObject(a,c,d)}}else o=this._undefinedValue[t.type];return w(o)&&(1===l.length?s.valueFields.value=o[l[0]]:s.valueFields=o),s.fields=n||{},s},_makeValue:function(t,e){for(var i={},n=t.length,o=0;o<n;o++){var r=t[o];i[r]=e}return i},_bindFromArray:function(t,e){var i={};if(e)for(var n=Math.min(e.length,t.length),o=0;o<n;o++)i[e[o]]=t[o];return i},_bindFromObject:function(t,e,i){void 0===i&&(i=e);var n={};if(e)for(var o=e.length,r=0;r<o;r++){var a=e[r],s=i[r];n[a]=vt(s,t)}return n},sourceFields:function(t,e){var i=[];if(e)for(var n=e.length,o=0;o<n;o++){var r=e[o],a=r===s?"field":r+"Field";i.push(t[a]||r)}return i}});bt.current=new bt;var kt=/percent(?:\w*)\((\d+)\)/,yt=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),wt=i.extend({init:function(t,e,i){this.initGlobalRanges(t,e,i)},initGlobalRanges:function(t,e,i){var n=e.data,o=yt.exec(t);if(o){this.valueGetter=this.createValueGetter(e,i);var r=this.getAverage(n),a=this.getStandardDeviation(n,r,!1),s=o[1]?parseFloat(o[1]):1,l={low:r.value-a*s,high:r.value+a*s};this.globalRange=function(){return l}}else if(t.indexOf&&t.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,i);var c=this.getStandardError(n,this.getAverage(n));this.globalRange=function(t){return{low:t-c,high:t+c}}}},createValueGetter:function(t,e){var i,r=t.data,a=bt.current,s=a.valueFields(t),l=w(r[0])?r[0]:{};if(x(l)){var c=e?s.indexOf(e):0;i=_("["+c+"]")}else if(n(l))i=_();else if(typeof l===o.OBJECT){var u=a.sourceFields(t,s);i=_(u[s.indexOf(e)])}return i},getErrorRange:function(t,e){var i,o,r;if(!w(e))return null;if(this.globalRange)return this.globalRange(t);if(x(e))i=t-e[0],o=t+e[1];else if(n(r=parseFloat(e)))i=t-r,o=t+r;else{if(!(r=kt.exec(e)))throw new Error("Invalid ErrorBar value: "+e);var a=t*(parseFloat(r[1])/100);i=t-Math.abs(a),o=t+Math.abs(a)}return{low:i,high:o}},getStandardError:function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},getStandardDeviation:function(t,e,i){for(var o=t.length,r=i?e.count-1:e.count,a=0,s=0;s<o;s++){var l=this.valueGetter(t[s]);n(l)&&(a+=Math.pow(l-e.value,2))}return Math.sqrt(a/r)},getAverage:function(t){for(var e=t.length,i=0,o=0,r=0;r<e;r++){var a=this.valueGetter(t[r]);n(a)&&(i+=a,o++)}return{value:i/o,count:o}}}),_t=it.browser||{},xt="fadeIn",St=_t.msie?.001:0,Ct="zero",At="bar",Tt="column",jt="line",Mt="pie",zt="verticalLine",Et=[At,Tt,"ohlc","candlestick","boxPlot","verticalBoxPlot","bullet","rangeColumn","rangeBar","waterfall","horizontalWaterfall"],It="category",Dt="DOMMouseScroll mousewheel",Ot={INITIAL_ANIMATION_DURATION:600,FADEIN:xt,LEGEND_ITEM_CLICK:"legendItemClick",LEGEND_ITEM_HOVER:"legendItemHover",SERIES_CLICK:"seriesClick",SERIES_HOVER:"seriesHover",GLASS:"glass",BORDER_BRIGHTNESS:.8,TOOLTIP_OFFSET:5,START_SCALE:St,ERROR_LOW_FIELD:"errorLow",ERROR_HIGH_FIELD:"errorHigh",X_ERROR_LOW_FIELD:"xErrorLow",X_ERROR_HIGH_FIELD:"xErrorHigh",Y_ERROR_LOW_FIELD:"yErrorLow",Y_ERROR_HIGH_FIELD:"yErrorHigh",LINE_MARKER_SIZE:8,INTERPOLATE:"interpolate",ZERO:Ct,SMOOTH:"smooth",STEP:"step",CATEGORY:It,FUNNEL:"funnel",BAR:At,CANDLESTICK:"candlestick",PIE:Mt,COLUMN:Tt,AREA:"area",VERTICAL_BULLET:"verticalBullet",BOX_PLOT:"boxPlot",OHLC:"ohlc",WATERFALL:"waterfall",LINE:jt,BULLET:"bullet",VERTICAL_LINE:zt,VERTICAL_AREA:"verticalArea",RANGE_AREA:"rangeArea",VERTICAL_RANGE_AREA:"verticalRangeArea",RANGE_COLUMN:"rangeColumn",VERTICAL_BOX_PLOT:"verticalBoxPlot",RANGE_BAR:"rangeBar",HORIZONTAL_WATERFALL:"horizontalWaterfall",SCATTER:"scatter",SCATTER_LINE:"scatterLine",BUBBLE:"bubble",RADAR_AREA:"radarArea",RADAR_LINE:"radarLine",RADAR_COLUMN:"radarColumn",POLAR_LINE:"polarLine",POLAR_AREA:"polarArea",POLAR_SCATTER:"polarScatter",RENDER:"render",PLOT_AREA_CLICK:"plotAreaClick",PLOT_AREA_HOVER:"plotAreaHover",LOGARITHMIC:"log",DRAG:"drag",DRAG_START:"dragStart",DRAG_END:"dragEnd",ZOOM_START:"zoomStart",ZOOM:"zoom",ZOOM_END:"zoomEnd",SELECT_START:"selectStart",SELECT:"select",SELECT_END:"selectEnd",GAP:"gap",DONUT:"donut",INSIDE_END:"insideEnd",INSIDE_BASE:"insideBase",OUTSIDE_END:"outsideEnd",MOUSEWHEEL:Dt,MOUSEWHEEL_DELAY:150,SHOW_TOOLTIP:"showTooltip",HIDE_TOOLTIP:"hideTooltip",EQUALLY_SPACED_SERIES:Et,ABOVE:"above",BELOW:"below"},Pt=S.extend({init:function(t,e,i,n,o,r){S.fn.init.call(this,r),this.low=t,this.high=e,this.isVertical=i,this.chart=n,this.series=o},reflow:function(t){var e,i=this.options.endCaps,n=this.isVertical,o=this.getAxis(),r=o.getSlot(this.low,this.high),a=t.center(),s=this.getCapsWidth(t,n),l=n?a.x:a.y,c=l-s,u=l+s;n?(e=[new C(a.x,r.y1),new C(a.x,r.y2)],i&&e.push(new C(c,r.y1),new C(u,r.y1),new C(c,r.y2),new C(u,r.y2)),this.box=new A(c,r.y1,u,r.y2)):(e=[new C(r.x1,a.y),new C(r.x2,a.y)],i&&e.push(new C(r.x1,c),new C(r.x1,u),new C(r.x2,c),new C(r.x2,u)),this.box=new A(r.x1,c,r.x2,u)),this.linePoints=e},getCapsWidth:function(t,e){var i=e?t.width():t.height(),n=Math.min(Math.floor(i/2),4)||4;return n},createVisual:function(){var t=this,e=this.options,i=e.visual;i?this.visual=i({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;return delete t.visual,e}}):this.createDefaultVisual()},createDefaultVisual:function(){var t=this.options,e=this.linePoints,i={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};S.fn.createVisual.call(this);for(var n=0;n<e.length;n+=2){var o=new ot(i).moveTo(e[n].x,e[n].y).lineTo(e[n+1].x,e[n+1].y);T(o),this.visual.append(o)}}});j(Pt,{animation:{type:xt,delay:600},endCaps:!0,line:{width:2},zIndex:1});var Rt=Pt.extend({getAxis:function(){var t=this.chart.seriesValueAxis(this.series);return t}}),Lt=5;function Ft(t,e,i,n){void 0===i&&(i={}),void 0===n&&(n=!1);var o=i.defaults=i.defaults||{},r=i.depth=i.depth||0,a=!1;if(i.excluded=i.excluded||[],r>Lt)return null;for(var s in t)if(!M(s,i.excluded)&&t.hasOwnProperty(s)){var l=t[s];z(l)?(a=!0,n||(t[s]=E(l(e),o[s]))):I(l)&&(n||(i.defaults=o[s]),i.depth++,a=Ft(l,e,i,n)||a,i.depth--)}return a}function Nt(t){for(var e=t.length,i=0,n=0;n<e;n++)i=Math.max(i,t[n].data.length);return i}var Bt=S.extend({init:function(t,e){S.fn.init.call(this,e),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},pointOptions:function(t,e){var i=this.seriesOptions[e];if(!i){var n=this.pointType().prototype.defaults;this.seriesOptions[e]=i=D({},n,{vertical:!this.options.invertAxes},t)}return i},plotValue:function(t){if(!t)return 0;if(this.options.isStacked100&&n(t.value)){for(var e=t.categoryIx,i=this.categoryPoints[e],o=[],r=0,a=0;a<i.length;a++){var s=i[a];if(s){var l=t.series.stack,c=s.series.stack;if(l&&c&&l.group!==c.group)continue;n(s.value)&&(r+=Math.abs(s.value),o.push(Math.abs(s.value)))}}if(r>0)return t.value/r}return t.value},plotRange:function(t,i){void 0===i&&(i=0);var n=this.categoryPoints[t.categoryIx];if(this.options.isStacked){for(var r=this.plotValue(t),a=r>=0,s=i,l=!1,c=0;c<n.length;c++){var u=n[c];if(t===u)break;var h=t.series.stack,d=u.series.stack;if(h&&d){if(typeof h===o.STRING&&h!==d)continue;if(h.group&&h.group!==d.group)continue}var f=this.plotValue(u);(f>=0&&a||f<0&&!a)&&(s+=f,r+=f,l=!0,this.options.isStacked100&&(r=Math.min(r,1)))}return l&&(s-=i),[s,r]}var p=t.series,m=this.seriesValueAxis(p),g=this.categoryAxisCrossingValue(m);return[g,e.convertableToNumber(t.value)?t.value:g]},stackLimits:function(t,e){for(var i=r,n=a,o=0;o<this.categoryPoints.length;o++){var s=this.categoryPoints[o];if(s)for(var l=0;l<s.length;l++){var c=s[l];if(c&&(c.series.stack===e||c.series.axis===t)){var u=this.plotRange(c,0)[1];w(u)&&isFinite(u)&&(n=Math.max(n,u),i=Math.min(i,u))}}}return{min:i,max:n}},updateStackRange:function(){var t=this.options,i=t.isStacked,n=t.series,o={};if(i)for(var s=0;s<n.length;s++){var l=n[s],c=l.axis,u=c+l.stack,h=o[u];if(!h){h=this.stackLimits(c,l.stack);var d=this.errorTotals;d&&(d.negative.length&&(h.min=Math.min(h.min,e.sparseArrayLimits(d.negative).min)),d.positive.length&&(h.max=Math.max(h.max,e.sparseArrayLimits(d.positive).max))),h.min!==r||h.max!==a?o[u]=h:h=null}h&&(this.valueAxisRanges[c]=h)}},addErrorBar:function(t,e,i){var o,r=t.value,a=t.series,l=t.seriesIx,c=t.options.errorBars,u=e.fields.errorLow,h=e.fields.errorHigh;n(u)&&n(h)?o={low:u,high:h}:c&&w(c.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[l]=this.seriesErrorRanges[l]||new wt(c.value,a,s),o=this.seriesErrorRanges[l].getErrorRange(r,c.value)),o&&(t.low=o.low,t.high=o.high,this.addPointErrorBar(t,i))},addPointErrorBar:function(t,e){var i=!this.options.invertAxes,n=t.options.errorBars,o=t.series,r=t.low,a=t.high;if(this.options.isStacked){var s=this.stackedErrorRange(t,e);r=s.low,a=s.high}else{var l={categoryIx:e,series:o};this.updateRange({value:r},l),this.updateRange({value:a},l)}var c=new Rt(r,a,i,this,o,n);t.errorBars=[c],t.append(c)},stackedErrorRange:function(t,e){var i=this.plotRange(t,0)[1]-t.value,n=t.low+i,o=t.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},n<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,n)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:n,high:o}},addValue:function(e,i){var n=i.categoryIx,o=i.series,r=i.seriesIx,a=this.categoryPoints[n];a||(this.categoryPoints[n]=a=[]);var s=this.seriesPoints[r];s||(this.seriesPoints[r]=s=[]);var l=this.createPoint(e,i);l&&(t.extend(l,i),l.owner=this,l.noteText=e.fields.noteText,w(l.dataItem)||(l.dataItem=o.data[n]),this.addErrorBar(l,e,n)),this.points.push(l),s.push(l),a.push(l),this.updateRange(e.valueFields,i)},evalPointOptions:function(t,e,i,n,o,r){var a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[r];w(s)||(this._evalSeries[r]=s=Ft(t,{},a,!0));var l=t;return s&&Ft(l=D({},l),{value:e,category:i,index:n,series:o,dataItem:o.data[n]},a),l},updateRange:function(t,e){var i=e.series.axis,n=t.value,o=this.valueAxisRanges[i];isFinite(n)&&null!==n&&((o=this.valueAxisRanges[i]=o||{min:r,max:a}).min=Math.min(o.min,n),o.max=Math.max(o.max,n))},seriesValueAxis:function(t){var e=this.plotArea,i=t.axis,n=i?e.namedValueAxes[i]:e.valueAxis;if(!n)throw new Error("Unable to locate value axis with name "+i);return n},reflow:function(t){var e=this,i=this.categorySlots=[],n=this.points,o=this.categoryAxis,r=0;this.traverseDataPoints(function(t,a){var s=a.categoryIx,l=a.series,c=e.seriesValueAxis(l),u=n[r++],h=i[s];if(h||(i[s]=h=e.categorySlot(o,s,c)),u){var d=e.plotRange(u,c.startValue()),f=e.valueSlot(c,d);if(f){var p=e.pointSlot(h,f);u.aboveAxis=e.aboveAxis(u,c),u.stackValue=d[1],e.options.isStacked100&&(u.percentage=e.plotValue(u)),e.reflowPoint(u,p)}else u.visible=!1}}),this.reflowCategories(i),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},valueSlot:function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},limitPoints:function(){for(var t=this.categoryPoints,e=t[0].concat(O(t)),i=0;i<e.length;i++)e[i]&&this.limitPoint(e[i])},limitPoint:function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},aboveAxis:function(t,e){var i=this.categoryAxisCrossingValue(e),n=t.value;return e.options.reverse?n<i:n>=i},categoryAxisCrossingValue:function(t){var e=this.categoryAxis,i=t.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue);return n[e.axisIndex||0]||0},reflowPoint:function(t,e){t.reflow(e)},reflowCategories:function(){},pointSlot:function(t,e){var i=this.options,n=i.invertAxes,o=n?e:t,r=n?t:e;return new A(o.x1,r.y1,o.x2,r.y2)},categorySlot:function(t,e){return t.getSlot(e)},traverseDataPoints:function(t){for(var e=this.options.series,i=this.categoryAxis.options.categories||[],n=Nt(e),o=e.length,r=0;r<o;r++)this._outOfRangeCallback(e[r],"_outOfRangeMinPoint",r,t);for(var a=0;a<n;a++)for(var s=0;s<o;s++){var l=e[s],c=i[a],u=this._bindPoint(l,s,a);t(u,{category:c,categoryIx:a,series:l,seriesIx:s})}for(var h=0;h<o;h++)this._outOfRangeCallback(e[h],"_outOfRangeMaxPoint",h,t)},_outOfRangeCallback:function(t,e,i,n){var o=t[e];if(o){var r=o.categoryIx,a=this._bindPoint(t,i,r,o.item);n(a,{category:o.category,categoryIx:r,series:t,seriesIx:i,dataItem:o.item})}},_bindPoint:function(t,e,i,n){this._bindCache||(this._bindCache=[]);var o=this._bindCache[e];o||(o=this._bindCache[e]=[]);var r=o[i];return r||(r=o[i]=bt.current.bindPoint(t,i,n)),r},formatPointValue:function(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)},pointValue:function(t){return t.valueFields.value}});j(Bt,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var qt={click:function(t,e){return t.trigger("seriesClick",this.eventArgs(e))},hover:function(t,e){return t.trigger("seriesHover",this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:P(t),originalEvent:t,point:this}}},Vt={createNote:function(){var t=this.options.notes,i=this.noteText||t.label.text;!1!==t.visible&&w(i)&&null!==i&&(this.note=new e.Note({value:this.value,text:i,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},Ht=S.extend({init:function(t,e){S.fn.init.call(this),this.value=t,this.options=e,this.aboveAxis=E(this.options.aboveAxis,!0),this.tooltipTracking=!0},render:function(){var t=this.options,e=t.markers,i=t.labels;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),i.visible){var n=R(i),o=this.value;n?o=n({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}):i.format&&(o=this.formatValue(i.format)),this.label=new L(o,D({align:l,vAlign:l,margin:{left:5,right:5},zIndex:E(i.zIndex,this.series.zIndex)},i)),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},markerBorder:function(){var t=this.options.markers,e=t.background,i=D({color:this.color},t.border);return w(i.color)||(i.color=new lt(e).brightness(.8).toHex()),i},createVisual:function(){},createMarker:function(){var t=this.options.markers,e=new F({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:t.opacity,zIndex:E(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return e},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(t){var e=this.options,i=this.aboveAxis,n=e.vertical;this.render(),this.box=t;var o=t.clone();if(n?i?o.y1-=o.height():o.y2+=o.height():i?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(var r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(o);if(this.note){var a=this.markerBox();if(!e.markers.visible||!e.markers.size){var s=a.center();a=new A(s.x,s.y,s.x,s.y)}this.note.reflow(a)}},reflowLabel:function(t){var e=this.options,i=this.label,n=e.labels.position;i&&(n="below"===(n="above"===n?c:n)?u:n,i.reflow(t),i.box.alignTo(this.markerBox(),n),i.reflow(i.box))},createHighlight:function(){var t=this.options.highlight.markers,e=this.markerBorder().color,i=this.options.markers,n=i.size+(i.border.width||0)+(t.border.width||0),o=new F({type:i.type,width:n,height:n,rotation:i.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:E(t.border.opacity,1)},opacity:E(t.opacity,1)});return o.reflow(this._childBox),o.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var t,e,i=this.marker;if(i)e=i.paddingBox.toRect(),t=i.visual;else{var n=this.options.markers.size,o=n/2,r=this.box.center();e=new ct.Rect([r.x-o,r.y-o],[n,n])}return{options:this.options,rect:e,visual:t}},tooltipAnchor:function(){var t=this.markerBox(),e=this.owner.pane.clipBox(),i=!e||e.overlaps(t);if(i){var n,o,r=t.x2+5,a=h;return this.aboveAxis?(n=t.y1,o=u):(n=t.y2,o=c),{point:new C(r,n),align:{horizontal:a,vertical:o}}}},formatValue:function(t){return this.owner.formatPointValue(this,t)},overlapsBox:function(t){var e=this.markerBox();return e.overlaps(t)},unclipElements:function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}});Ht.prototype.defaults={vertical:!0,markers:{visible:!0,background:d,size:8,type:f,border:{width:2},opacity:1},labels:{visible:!1,position:"above",margin:N(3),padding:N(4),animation:{type:xt,delay:600}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:o.HIGHLIGHT_ZINDEX},errorBars:{line:{width:1}}},D(Ht.prototype,qt),D(Ht.prototype,Vt);var Ut=S.extend({init:function(t,e,i){S.fn.init.call(this),this.linePoints=t,this.series=e,this.seriesIx=i},points:function(){return this.toGeometryPoints(this.linePoints)},toGeometryPoints:function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&!1!==t[i].visible&&e.push(t[i]._childBox.toRect().center());return e},createVisual:function(){var t=this.options,e=this.series,i=e.color,n=e._defaults;z(i)&&n&&(i=n.color);var o=ot.fromPoints(this.points(),{stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&o.close(),this.visual=o},aliasFor:function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}});j(Ut,{closed:!1});var Wt={calculateStepPoints:function(t){for(var e=this.parent.plotArea.seriesCategoryAxis(this.series),i=e.options,n=i.justified,o=i.vertical,r=i.reverse,a=o?p:m,s=o?m:p,l=r?2:1,c=l,u=Gt(t[0],a,l,s,c),h=[u],d=1;d<t.length;d++){var f=Gt(t[d],a,l,s,c);if(u[a]!==f[a]){var g=new ut;g[a]=u[a],g[s]=f[s],h.push(g,f)}u=f}return n?u!==O(h)&&h.push(u):h.push(Gt(O(t),a,l,s,r?1:2)),h}};function Gt(t,e,i,n,o){var r=t.box,a=new ut;return a[e]=r[e+i],a[n]=r[n+o],a}var Qt=Ut.extend({points:function(){return this.calculateStepPoints(this.linePoints)}});D(Qt.prototype,Wt);var Yt=Ut.extend({createVisual:function(){var t=this.series,e=t._defaults,i=t.color;z(i)&&e&&(i=e.color);var n=new B(this.options.closed),o=n.process(this.points()),r=new ot({stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});r.segments.push.apply(r.segments,o),this.visual=r}}),Kt={renderSegments:function(){var t,e=this.options,i=this.seriesPoints,n=e.series,o=i.length;this._segments=[];for(var r=0;r<o;r++){for(var a=n[r],s=this.sortPoints(i[r]),l=s.length,c=[],u=0;u<l;u++){var h=s[u];h?c.push(h):"interpolate"!==this.seriesMissingValues(a)&&(c.length>1&&(t=this.createSegment(c,a,r,t),this._addSegment(t)),c=[])}c.length>1&&(t=this.createSegment(c,a,r,t),this._addSegment(t))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues,i=!e&&this.options.isStacked;return i?Ct:e||"interpolate"},getNearestPoint:function(t,e,i){for(var n,o=new C(t,e),a=this.seriesPoints[i],s=r,l=0;l<a.length;l++){var c=a[l];if(c&&w(c.value)&&null!==c.value&&!1!==c.visible){var u=c.box,h=u.center().distanceTo(o);h<s&&(n=c,s=h)}}return n}},Zt=rt.extend({setup:function(){this._setEnd(this.options.box.x1)},step:function(t){var i=this.options.box;this._setEnd(e.interpolateValue(i.x1,i.x2,t))},_setEnd:function(t){var e=this.element,i=e.segments,n=i[1].anchor(),o=i[2].anchor();e.suspend(),n.setX(t),e.resume(),o.setX(t)}});function Xt(t){for(var e=0;e<t.length;e++)if(w(t[e].zIndex))return!0}j(Zt,{duration:600}),at.current.register("clip",Zt);var Jt={createAnimation:function(){var t=this.getRoot();if(t&&!1!==(t.options||{}).transitions){var e=t.box,i=ot.fromRect(e.toRect());this.visual.clip(i),this.animation=new Zt(i,{box:e}),Xt(this.options.series)&&this._setChildrenAnimation(i)}},_setChildrenAnimation:function(t){for(var e=this.animationPoints(),i=0;i<e.length;i++){var n=e[i];n&&n.visual&&w(n.visual.options.zIndex)&&n.visual.clip(t)}}},$t=Bt.extend({render:function(){Bt.fn.render.call(this),this.updateStackRange(),this.renderSegments()},pointType:function(){return Ht},createPoint:function(t,e){var i=e.categoryIx,n=e.category,o=e.series,r=e.seriesIx,a=this.seriesMissingValues(o),s=t.valueFields.value;if(!w(s)||null===s){if(a!==Ct)return null;s=0}var l=this.pointOptions(o,r);l=this.evalPointOptions(l,s,n,i,o,r);var c=t.fields.color||o.color;z(o.color)&&(c=l.color);var u=new Ht(s,l);return u.color=c,this.append(u),u},plotRange:function(t){var e=this.plotValue(t);if(this.options.isStacked)for(var i=t.categoryIx,n=this.categoryPoints[i],o=0;o<n.length;o++){var r=n[o];if(t===r)break;e+=this.plotValue(r),this.options.isStacked100&&(e=Math.min(e,1))}return[e,e]},createSegment:function(t,e,i){var n=e.style;return new("step"===n?Qt:"smooth"===n?Yt:Ut)(t,e,i)},animationPoints:function(){for(var t=this.points,e=[],i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e.concat(this._segments)}});D($t.prototype,Kt,Jt);var te=Ut.extend({init:function(t,e,i,n,o){Ut.fn.init.call(this,t,e,i),this.prevSegment=n,this.stackPoints=o},createVisual:function(){var t=this.series,e=t._defaults,i=t.line||{},n=t.color;z(n)&&e&&(n=e.color),this.visual=new st({zIndex:t.zIndex}),this.createFill({fill:{color:n,opacity:t.opacity},stroke:null}),i.width>0&&!1!==i.visible&&this.createStroke({stroke:D({color:n,opacity:t.opacity,lineCap:"butt"},i)})},strokeSegments:function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},createStrokeSegments:function(){return this.segmentsFromPoints(this.points())},stackSegments:function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},createStackSegments:function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},segmentsFromPoints:function(t){return t.map(function(t){return new ct.Segment(t)})},createStroke:function(t){var e=new ot(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},hasStackSegment:function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},createFill:function(t){var e=this.strokeSegments(),i=e.slice(0),n=this.hasStackSegment();if(n){var o=this.stackSegments();q(i,o)}var r=new ot(t);r.segments.push.apply(r.segments,i),!n&&e.length>1&&this.fillToAxes(r),this.visual.append(r)},fillToAxes:function(t){var e=this.parent,i=e.options.invertAxes,n=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(n),r=n.getSlot(o,o,!0),a=this.strokeSegments(),s=a[0].anchor(),l=O(a).anchor(),c=i?r.x1:r.y1;i?t.lineTo(c,l.y).lineTo(c,s.y):t.lineTo(l.x,c).lineTo(s.x,c)}}),ee=te.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},createStackSegments:function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()}});D(ee.prototype,Wt);var ie=te.extend({createStrokeSegments:function(){var t=new B(this.options.closed),e=this.points();return t.process(e)},createStackSegments:function(){for(var t=this.strokeSegments(),e=[],i=t.length-1;i>=0;i--){var n=t[i];e.push(new ct.Segment(n.anchor(),n.controlOut(),n.controlIn()))}return e}}),ne=$t.extend({createSegment:function(t,e,i,n){var o,r,a=this.options.isStacked,s=(e.line||{}).style;if(a&&i>0&&n){var l=this.seriesMissingValues(e);"gap"!==l?(r=n.linePoints,o=n):r=this._gapStackPoints(t,i,s)}return new("step"===s?ee:"smooth"===s?ie:te)(t,e,i,o,r)},reflow:function(t){$t.fn.reflow.call(this,t);var e=this._stackPoints;if(e)for(var i=0;i<e.length;i++){var n=e[i],o=this.categoryAxis.getSlot(n.categoryIx);n.reflow(o)}},_gapStackPoints:function(t,e,i){var n=this.seriesPoints,o=t[0].categoryIx,r=t.length;o<0&&(o=0,r--);var a=o+r,s=this.seriesOptions[0]._outOfRangeMinPoint?1:0,l=[];this._stackPoints=this._stackPoints||[];for(var c=o;c<a;c++){var u=c+s,h=e,d=void 0;do{d=n[--h][u]}while(h>0&&!d);if(d)"step"!==i&&c>o&&!n[h][u-1]&&l.push(this._previousSegmentPoint(c,u,u-1,h)),l.push(d),"step"!==i&&c+1<a&&!n[h][u+1]&&l.push(this._previousSegmentPoint(c,u,u+1,h));else{var f=this._createGapStackPoint(c);this._stackPoints.push(f),l.push(f)}}return l},_previousSegmentPoint:function(t,e,i,n){for(var o,r=this.seriesPoints,a=n;a>0&&!o;)o=r[--a][i];return o?o=r[a][e]:(o=this._createGapStackPoint(t),this._stackPoints.push(o)),o},_createGapStackPoint:function(t){var e=this.pointOptions({},0),i=new Ht(0,e);return i.categoryIx=t,i.series={},i},seriesMissingValues:function(t){return t.missingValues||Ct}}),oe=i.extend({init:function(){this.axisRanges={}},update:function(t){var e=this.axisRanges;for(var i in t){var n=t[i],o=e[i];e[i]=o=o||{min:r,max:a},o.min=Math.min(o.min,n.min),o.max=Math.max(o.max,n.max)}},reset:function(t){this.axisRanges[t]=void 0},query:function(t){return this.axisRanges[t]}}),re=S.extend({init:function(t,e){S.fn.init.call(this,e),this.textBox=new L(t,this.options),this.append(this.textBox)},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(t){var e=this.options,i=e.vertical,n=e.aboveAxis,o=this.children[0],r=o.options,a=o.box,s=o.options.padding,d=t;r.align=i?l:h,r.vAlign=i?c:l,"insideEnd"===e.position?i?(r.vAlign=c,!n&&a.height()<t.height()&&(r.vAlign=u)):r.align=n?g:h:e.position===l?(r.vAlign=l,r.align=l):"insideBase"===e.position?i?r.vAlign=n?u:c:r.align=n?h:g:"outsideEnd"===e.position&&(i?d=n?new A(t.x1,t.y1-a.height(),t.x2,t.y1):new A(t.x1,t.y2,t.x2,t.y2+a.height()):(r.align=l,d=n?new A(t.x2,t.y1,t.x2+a.width(),t.y2):new A(t.x1-a.width(),t.y1,t.x1,t.y2))),e.rotation||(i?s.left=s.right=(d.width()-o.contentBox.width())/2:s.top=s.bottom=(d.height()-o.contentBox.height())/2),o.reflow(d)},alignToClipBox:function(t){var e=this.options.vertical,i=e?m:p,n=i+"1",o=i+"2",r=this.children[0],a=this.parent.box;if(a[n]<t[n]||t[o]<a[o]){var s=r.paddingBox.clone();s[n]=Math.max(a[n],t[n]),s[o]=Math.min(a[o],t[o]),this.reflow(s)}}});function ae(t){var e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}j(re,{position:"outsideEnd",margin:N(3),padding:N(4),color:v,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:xt,delay:600},zIndex:2});var se=S.extend({init:function(t,e){S.fn.init.call(this),this.options=e,this.color=e.color||d,this.aboveAxis=E(this.options.aboveAxis,!0),this.value=t},render:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabel:function(){var t=this.options,e=t.labels;if(e.visible){var i,n=R(e);i=n?n({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}):this.formatValue(e.format),this.label=new re(i,D({vertical:t.vertical},e)),this.append(this.label)}},formatValue:function(t){return this.owner.formatPointValue(this,t)},reflow:function(t){this.render();var e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(t)},createVisual:function(){var t=this,e=this.box,i=this.options,n=i.visual;if(!1!==this.visible)if(S.fn.createVisual.call(this),n){var o=this.rectVisual=n({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:e.toRect(),createVisual:function(){var e=new st;return t.createRect(e),e},options:i});o&&this.visual.append(o)}else e.width()>0&&e.height()>0&&this.createRect(this.visual)},createRect:function(t){var e=this.options,i=e.border,n=w(i.opacity)?i.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);var r=this.rectVisual=ot.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:n,dashType:i.dashType}}),a=this.box.width(),s=this.box.height(),l=e.vertical?a:s;if(l>6&&(T(r),(a<1||s<1)&&(r.options.stroke.lineJoin="round")),t.append(r),ae(e)){var c=this.createGradientOverlay(r,{baseColor:this.color},D({end:e.vertical?void 0:[0,1]},e.overlay));t.append(c)}},createHighlight:function(t){var e=ot.fromRect(this.box.toRect(),t);return T(e)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var t=this.color,e=this.options.border,i=e._brightness||.8,n=e.color;return w(n)||(n=new lt(t).brightness(i).toHex()),n},tooltipAnchor:function(){var t,e,i=this.options,n=this.box,o=this.aboveAxis,r=this.owner.pane.clipBox()||n,a=h,s=c;if(i.vertical)t=Math.min(n.x2,r.x2)+5,o?e=Math.max(n.y1,r.y1):(e=Math.min(n.y2,r.y2),s=u);else{var l=Math.max(n.x1,r.x1),d=Math.min(n.x2,r.x2);i.isStacked?(s=u,o?(a=g,t=d):t=l,e=Math.max(n.y1,r.y1)-5):(o?t=d+5:(t=l-5,a=g),e=Math.max(n.y1,r.y1))}return{point:new C(t,e),align:{horizontal:a,vertical:s}}},overlapsBox:function(t){return this.box.overlaps(t)}});function le(t,e){t.forEach(e)}function ce(t,e){for(var i=t.length,n=i-1;n>=0;n--)e(t[n],n-i-1)}D(se.prototype,qt),D(se.prototype,Vt),se.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var ue=S.extend({init:function(t){S.fn.init.call(this,t),this.forEach=t.rtl?ce:le},reflow:function(t){var e=this.options,i=e.vertical,n=e.gap,o=e.spacing,r=this.children,a=r.length,s=i?m:p,l=a+n+o*(a-1),c=(i?t.height():t.width())/l,u=t[s+1]+c*(n/2);this.forEach(r,function(e,i){var n=(e.box||t).clone();n[s+1]=u,n[s+2]=u+c,e.reflow(n),i<a-1&&(u+=c*o),u+=c})}});j(ue,{vertical:!1,gap:0,spacing:0});var he=S.extend({reflow:function(t){for(var e=this.options.vertical?p:m,i=this.children,n=i.length,o=this.box=new A,r=0;r<n;r++){var a=i[r];if(!1!==a.visible){var s=a.box.clone();s.snapTo(t,e),0===r&&(o=this.box=s.clone()),a.reflow(s),o.wrap(s)}}}});j(he,{vertical:!0});var de=Bt.extend({render:function(){Bt.fn.render.call(this),this.updateStackRange()},pointType:function(){return se},clusterType:function(){return ue},stackType:function(){return he},stackLimits:function(t,e){var i=Bt.fn.stackLimits.call(this,t,e);return i},createPoint:function(t,e){var i=e.categoryIx,n=e.category,o=e.series,r=e.seriesIx,a=this.options,s=this.children,l=a.isStacked,c=this.pointValue(t),u=this.pointOptions(o,r),h=u.labels;l&&"outsideEnd"===h.position&&(h.position="insideEnd"),u.isStacked=l;var d=t.fields.color||o.color;c<0&&u.negativeColor&&(d=u.negativeColor),u=this.evalPointOptions(u,c,n,i,o,r),z(o.color)&&(d=u.color);var f=this.pointType(),p=new f(c,u);p.color=d;var m=s[i];if(!m){var g=this.clusterType();m=new g({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(m)}if(l){var v=this.getStackWrap(o,m);v.append(p)}else m.append(p);return p},getStackWrap:function(t,e){var i,n=t.stack,r=n&&n.group||n,a=e.children;if(typeof r===o.STRING){for(var s=0;s<a.length;s++)if(a[s]._stackGroup===r){i=a[s];break}}else i=a[0];if(!i){var l=this.stackType();(i=new l({vertical:!this.options.invertAxes}))._stackGroup=r,e.append(i)}return i},categorySlot:function(t,e,i){var n=this.options,o=t.getSlot(e),r=i.startValue();if(n.isStacked){var a=i.getSlot(r,r,!0),s=n.invertAxes?p:m;o[s+1]=o[s+2]=a[s+1]}return o},reflowCategories:function(t){for(var e=this.children,i=e.length,n=0;n<i;n++)e[n].reflow(t[n])},createAnimation:function(){this._setAnimationOptions(),Bt.fn.createAnimation.call(this),Xt(this.options.series)&&this._setChildrenAnimation()},_setChildrenAnimation:function(){for(var t=this.points,e=0;e<t.length;e++){var i=t[e],n=i.visual;n&&w(n.options.zIndex)&&(i.options.animation=this.options.animation,i.createAnimation())}},_setAnimationOptions:function(){var t,e=this.options,i=e.animation||{};if(e.isStacked){var n=this.seriesValueAxis(e.series[0]);t=n.getSlot(n.startValue())}else t=this.categoryAxis.getSlot(0);i.origin=new ut(t.x1,t.y1),i.vertical=!e.invertAxes}});j(de,{animation:{type:At}});var fe=S.extend({init:function(t,e){S.fn.init.call(this,e),this.value=t},reflow:function(t){var e=this.options,i=this.value,n=this.owner,o=n.seriesValueAxis(e),r=o.getSlot(i.open,i.close),a=o.getSlot(i.low,i.high);r.x1=a.x1=t.x1,r.x2=a.x2=t.x2,this.realBody=r;var s=a.center().x,l=[];l.push([[s,a.y1],[s,r.y1]]),l.push([[s,r.y2],[s,a.y2]]),this.lines=l,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},reflowNote:function(){this.note&&this.note.reflow(this.box)},createVisual:function(){S.fn.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},mainVisual:function(t){var e=new st;return this.createBody(e,t),this.createLines(e,t),e},createBody:function(t,e){var i=ot.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:E(e.border.opacity,e.opacity)}),T(i),t.append(i),ae(e)&&t.append(this.createGradientOverlay(i,{baseColor:this.color},D({end:e.vertical?void 0:[0,1]},e.overlay)))},createLines:function(t,e){this.drawLines(t,e,this.lines,e.line)},drawLines:function(t,e,i,n){if(i)for(var o={stroke:{color:n.color||this.color,opacity:E(n.opacity,e.opacity),width:n.width,dashType:n.dashType,lineCap:"butt"}},r=0;r<i.length;r++){var a=ot.fromPoints(i[r],o);T(a),t.append(a)}},getBorderColor:function(){var t=this.options.border,e=t.color;return w(e)||(e=new lt(this.color).brightness(t._brightness).toHex()),e},createOverlay:function(){var t=ot.fromRect(this.box.toRect(),{fill:{color:d,opacity:0},stroke:null});this.visual.append(t)},createHighlight:function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var i=this.mainVisual(D({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,i},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new C(t.x2+5,Math.max(t.y1,e.y1)+5),align:{horizontal:h,vertical:c}}},formatValue:function(t){return this.owner.formatPointValue(this,t)},overlapsBox:function(t){return this.box.overlaps(t)}});function pe(t){return mt(t)===t.length}j(fe,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),D(fe.prototype,qt),D(fe.prototype,Vt);var me=Bt.extend({reflowCategories:function(t){for(var e=this.children,i=e.length,n=0;n<i;n++)e[n].reflow(t[n])},addValue:function(t,e){var i,n=e.categoryIx,o=e.category,r=e.series,a=e.seriesIx,s=this.children,l=this.options,c=t.valueFields,u=this.splitValue(c),h=pe(u),d=r.data[n],f=this.categoryPoints[n];f||(this.categoryPoints[n]=f=[]),h&&(i=this.createPoint(t,e));var p=s[n];p||(p=new ue({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),i&&(this.updateRange(c,e),p.append(i),i.categoryIx=n,i.category=o,i.series=r,i.seriesIx=a,i.owner=this,i.dataItem=d,i.noteText=t.fields.noteText),this.points.push(i),f.push(i)},pointType:function(){return fe},createPoint:function(t,e){var i=e.categoryIx,n=e.category,o=e.series,r=e.seriesIx,a=this.pointType(),s=t.valueFields,l=D({},o),c=t.fields.color||o.color;l=this.evalPointOptions(l,s,n,i,o,r),"candlestick"===o.type&&s.open>s.close&&(c=t.fields.downColor||o.downColor||o.color),z(o.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var u=new a(s,l);return u.color=c,u},splitValue:function(t){return[t.low,t.open,t.close,t.high]},updateRange:function(t,e){var i=e.series.axis,n=this.splitValue(t),o=this.valueAxisRanges[i];o=this.valueAxisRanges[i]=o||{min:r,max:a},o=this.valueAxisRanges[i]={min:Math.min.apply(Math,n.concat([o.min])),max:Math.max.apply(Math,n.concat([o.max]))}},formatPointValue:function(t,e){var i=t.value;return this.chartService.format.auto(e,i.open,i.high,i.low,i.close,t.category)},animationPoints:function(){return this.points}});D(me.prototype,Jt);var ge=fe.extend({init:function(t,e){fe.fn.init.call(this,t,e),this.createNote()},reflow:function(t){var e,i,n=this.options,o=this.value,r=this.owner,a=r.seriesValueAxis(n);this.boxSlot=i=a.getSlot(o.q1,o.q3),this.realBody=i,this.reflowBoxSlot(t),this.whiskerSlot=e=a.getSlot(o.lower,o.upper),this.reflowWhiskerSlot(t);var s=a.getSlot(o.median);if(o.mean){var l=a.getSlot(o.mean);this.meanPoints=this.calcMeanPoints(t,l)}this.whiskerPoints=this.calcWhiskerPoints(i,e),this.medianPoints=this.calcMedianPoints(t,s),this.box=e.clone().wrap(i),this.reflowNote()},reflowBoxSlot:function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},reflowWhiskerSlot:function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},calcMeanPoints:function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},calcWhiskerPoints:function(t,e){var i=e.center().x;return[[[i-5,e.y1],[i+5,e.y1],[i,e.y1],[i,t.y1]],[[i-5,e.y2],[i+5,e.y2],[i,e.y2],[i,t.y2]]]},calcMedianPoints:function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},renderOutliers:function(t){for(var e=this.value,i=e.outliers||[],n=3*Math.abs(e.q3-e.q1),o=[],r=t.markers||{},a=0;a<i.length;a++){var s=i[a];r=s<e.q3+n&&s>e.q1-n?t.outliers:t.extremes;var l=D({},r.border);w(l.color)||(w(this.color)?l.color=this.color:l.color=new lt(r.background).brightness(.8).toHex());var c=new F({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:l,opacity:r.opacity});c.value=s,o.push(c)}return this.reflowOutliers(o),o},reflowOutliers:function(t){for(var e=this.owner.seriesValueAxis(this.options),i=this.box.center(),n=0;n<t.length;n++){var o=t[n].value,r=e.getSlot(o);this.options.vertical?r.move(i.x):r.move(void 0,i.y),this.box=this.box.wrap(r),t[n].reflow(r)}},mainVisual:function(t){for(var e=fe.fn.mainVisual.call(this,t),i=this.renderOutliers(t),n=0;n<i.length;n++){var o=i[n].getElement();o&&e.append(o)}return e},createLines:function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},getBorderColor:function(){return this.color?this.color:fe.fn.getBorderColor.call(this)}});j(ge,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:o.CROSS,background:d,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:f,background:d,border:{width:2,opacity:1},opacity:0}}),D(ge.prototype,qt);var ve=ge.extend({reflowBoxSlot:function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},reflowWhiskerSlot:function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},calcMeanPoints:function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},calcWhiskerPoints:function(t,e){var i=e.center().y;return[[[e.x1,i-5],[e.x1,i+5],[e.x1,i],[t.x1,i]],[[e.x2,i-5],[e.x2,i+5],[e.x2,i],[t.x2,i]]]},calcMedianPoints:function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}}),be=me.extend({addValue:function(t,e){var i,n=e.categoryIx,o=e.category,r=e.series,a=e.seriesIx,s=this.children,l=this.options,c=t.valueFields,u=this.splitValue(c),h=pe(u),d=r.data[n],f=this.categoryPoints[n];f||(this.categoryPoints[n]=f=[]),h&&(i=this.createPoint(t,e));var p=s[n];p||(p=new ue({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),i&&(this.updateRange(c,e),p.append(i),i.categoryIx=n,i.category=o,i.series=r,i.seriesIx=a,i.owner=this,i.dataItem=d),this.points.push(i),f.push(i)},pointType:function(){return this.options.invertAxes?ve:ge},splitValue:function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},updateRange:function(t,e){var i=e.series.axis,n=this.valueAxisRanges[i],o=this.splitValue(t).concat(this.filterOutliers(t.outliers));w(t.mean)&&(o=o.concat(t.mean)),n=this.valueAxisRanges[i]=n||{min:r,max:a},n=this.valueAxisRanges[i]={min:Math.min.apply(Math,o.concat([n.min])),max:Math.max.apply(Math,o.concat([n.max]))}},formatPointValue:function(t,e){var i=t.value;return this.chartService.format.auto(e,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,t.category)},filterOutliers:function(t){for(var e=(t||[]).length,i=[],n=0;n<e;n++){var o=t[n];w(o)&&null!==o&&i.push(o)}return i}}),ke=Pt.extend({getAxis:function(){var t=this.chart.seriesAxes(this.series),e=this.isVertical?t.y:t.x;return e}});function ye(t){return w(t)&&null!==t}var we=S.extend({init:function(t,e){S.fn.init.call(this,e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()},_initFields:function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},render:function(){this.traverseDataPoints(this.addValue.bind(this))},addErrorBar:function(t,e,i){var o,r=t.value[e],a=e+"Value",s=e+"ErrorLow",l=e+"ErrorHigh",c=i.seriesIx,u=i.series,h=t.options.errorBars,d=i[s],f=i[l];n(r)&&(n(d)&&n(f)&&(o={low:d,high:f}),h&&w(h[a])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][c]=this.seriesErrorRanges[e][c]||new wt(h[a],u,e),o=this.seriesErrorRanges[e][c].getErrorRange(r,h[a])),o&&this.addPointErrorBar(o,t,e))},addPointErrorBar:function(t,e,i){var n=t.low,o=t.high,r=e.series,a=e.options.errorBars,s=i===m,l={};e[i+"Low"]=n,e[i+"High"]=o,e.errorBars=e.errorBars||[];var c=new ke(n,o,s,this,r,a);e.errorBars.push(c),e.append(c),l[i]=n,this.updateRange(l,r),l[i]=o,this.updateRange(l,r)},addValue:function(e,i){var n,o=e.x,r=e.y,a=i.seriesIx,s=this.options.series[a],l=this.seriesMissingValues(s),c=this.seriesPoints[a],u=e;ye(o)&&ye(r)||(u=this.createMissingValue(u,l)),u&&((n=this.createPoint(u,i))&&(t.extend(n,i),this.addErrorBar(n,p,i),this.addErrorBar(n,m,i)),this.updateRange(u,i.series)),this.points.push(n),c.push(n)},seriesMissingValues:function(t){return t.missingValues},createMissingValue:function(){},updateRange:function(t,e){var i=this.chartService.intl,n=e.xAxis,o=e.yAxis,s=t.x,l=t.y,c=this.xAxisRanges[n],u=this.yAxisRanges[o];ye(s)&&(c=this.xAxisRanges[n]=c||{min:r,max:a},V(s)&&(s=H(i,s)),c.min=Math.min(c.min,s),c.max=Math.max(c.max,s)),ye(l)&&(u=this.yAxisRanges[o]=u||{min:r,max:a},V(l)&&(l=H(i,l)),u.min=Math.min(u.min,l),u.max=Math.max(u.max,l))},evalPointOptions:function(t,e,i){var n=i.series,o=i.seriesIx,r={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[o];w(a)||(this._evalSeries[o]=a=Ft(t,{},r,!0));var s=t;return a&&Ft(s=D({},t),{value:e,series:n,dataItem:i.dataItem},r),s},pointType:function(){return Ht},pointOptions:function(t,e){var i=this.seriesOptions[e];if(!i){var n=this.pointType().prototype.defaults;this.seriesOptions[e]=i=D({},n,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i},createPoint:function(t,e){var i=e.series,n=this.pointOptions(i,e.seriesIx),o=e.color||i.color;n=this.evalPointOptions(n,t,e),z(i.color)&&(o=n.color);var r=new Ht(t,n);return r.color=o,this.append(r),r},seriesAxes:function(t){var e=t.xAxis,i=t.yAxis,n=this.plotArea,o=e?n.namedXAxes[e]:n.axisX,r=i?n.namedYAxes[i]:n.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{x:o,y:r}},reflow:function(t){var e=this,i=this.points,n=!this.options.clip,o=0;this.traverseDataPoints(function(t,r){var a=i[o++],s=e.seriesAxes(r.series),l=s.x.getSlot(t.x,t.x,n),c=s.y.getSlot(t.y,t.y,n);if(a)if(l&&c){var u=e.pointSlot(l,c);a.reflow(u)}else a.visible=!1}),this.box=t},pointSlot:function(t,e){return new A(t.x1,e.y1,t.x2,e.y2)},traverseDataPoints:function(t){for(var e=this.options.series,i=this.seriesPoints,n=0;n<e.length;n++){var o=e[n],r=i[n];r||(i[n]=[]);for(var a=0;a<o.data.length;a++){var s=this._bindPoint(o,n,a),l=s.valueFields,c=s.fields;t(l,D({pointIx:a,series:o,seriesIx:n,dataItem:o.data[a],owner:this},c))}}},formatPointValue:function(t,e){var i=t.value;return this.chartService.format.auto(e,i.x,i.y)},animationPoints:function(){for(var t=this.points,e=[],i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}});j(we,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),D(we.prototype,Jt,{_bindPoint:Bt.prototype._bindPoint});var _e=Ht.extend({init:function(t,e){Ht.fn.init.call(this,t,e),this.category=t.category},createHighlight:function(){var t=this.options.highlight,e=t.border,i=this.options.markers,n=this.box.center(),o=(i.size+i.border.width+e.width)/2,r=new st,a=new nt.Circle(new ct.Circle([n.x,n.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),s=new nt.Circle(new ct.Circle([n.x,n.y],o),{stroke:{color:e.color||new lt(i.background).brightness(.8).toHex(),width:e.width,opacity:e.opacity},fill:{color:i.background,opacity:t.opacity}});return r.append(a,s),r}});_e.prototype.defaults=D({},_e.prototype.defaults,{labels:{position:l},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),_e.prototype.defaults.highlight.zIndex=void 0;var xe=we.extend({_initFields:function(){this._maxSize=a,we.fn._initFields.call(this)},addValue:function(t,e){null!==t.size&&(t.size>0||t.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),we.fn.addValue.call(this,t,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))},reflow:function(t){this.updateBubblesSize(t),we.fn.reflow.call(this,t)},pointType:function(){return _e},createPoint:function(t,e){var i=e.series,n=i.data.length,o=e.pointIx*(600/n),r={delay:o,duration:600-o,type:"bubble"},a=e.color||i.color;t.size<0&&i.negativeValues.visible&&(a=E(i.negativeValues.color,a));var s=D({labels:{animation:{delay:o,duration:600-o}}},this.pointOptions(i,e.seriesIx),{markers:{type:f,border:i.border,opacity:i.opacity,animation:r}});s=this.evalPointOptions(s,t,e),z(i.color)&&(a=s.color),s.markers.background=a;var l=new _e(t,s);return l.color=a,this.append(l),l},updateBubblesSize:function(t){for(var e=this.options.series,i=Math.min(t.width(),t.height()),n=0;n<e.length;n++)for(var o=e[n],r=this.seriesPoints[n],a=o.minSize||Math.max(.02*i,10),s=o.maxSize||.2*i,l=a/2,c=s/2,u=Math.PI*l*l,h=Math.PI*c*c,d=h-u,f=d/this._maxSize,p=0;p<r.length;p++){var m=r[p];if(m){var g=Math.abs(m.value.size)*f,v=Math.sqrt((u+g)/Math.PI),b=E(m.options.zIndex,0),k=b+(1-v/c);D(m.options,{zIndex:k,markers:{size:2*v,zIndex:k},labels:{zIndex:k+1}})}}},formatPointValue:function(t,e){var i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.size,t.category)},createAnimation:function(){},createVisual:function(){}});j(xe,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var Se=F.extend({});D(Se.prototype,qt);var Ce=S.extend({init:function(t,e){S.fn.init.call(this,e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||d,this.value=t},render:function(){var t=this.options;this._rendered||(this._rendered=!0,w(this.value.target)&&(this.target=new Se({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:c,align:g}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},reflow:function(t){this.render();var e=this.options,i=this.target,n=this.owner,o=e.invertAxes,r=n.seriesValueAxis(this.options),a=n.categorySlot(n.categoryAxis,e.categoryIx,r),s=r.getSlot(this.value.target),l=o?s:a,c=o?a:s;if(i){var u=new A(l.x1,c.y1,l.x2,c.y2);i.options.height=o?u.height():e.target.line.width,i.options.width=o?e.target.line.width:u.width(),i.reflow(u)}this.note&&this.note.reflow(t),this.box=t},createVisual:function(){S.fn.createVisual.call(this);var t=this.options,e=ot.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&e.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:E(t.border.opacity,t.opacity)}),this.bodyVisual=e,T(e),this.visual.append(e)},createAnimation:function(){this.bodyVisual&&(this.animation=rt.create(this.bodyVisual,this.options.animation))},createHighlight:function(t){return ot.fromRect(this.box.toRect(),t)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(t){return this.owner.formatPointValue(this,t)}});Ce.prototype.tooltipAnchor=se.prototype.tooltipAnchor,j(Ce,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),D(Ce.prototype,qt),D(Ce.prototype,Vt);var Ae=Bt.extend({init:function(t,e){!function(t){for(var e=t.series,i=0;i<e.length;i++){var n=e[i],o=n.data;!o||x(o[0])||I(o[0])||(n.data=[o])}}(e),Bt.fn.init.call(this,t,e)},reflowCategories:function(t){for(var e=this.children,i=e.length,n=0;n<i;n++)e[n].reflow(t[n])},plotRange:function(t){var e=t.series,i=this.seriesValueAxis(e),n=this.categoryAxisCrossingValue(i);return[n,t.value.current||n]},createPoint:function(t,e){var i=e.categoryIx,n=e.category,o=e.series,r=e.seriesIx,a=this.options,s=this.children,l=t.valueFields,c=D({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:i,invertAxes:a.invertAxes},o),u=t.fields.color||o.color;c=this.evalPointOptions(c,l,n,i,o,r),z(o.color)&&(u=c.color);var h=new Ce(l,c);h.color=u;var d=s[i];return d||(d=new ue({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),d.append(h),h},updateRange:function(t,e){var i=t.current,n=t.target,o=e.series.axis,s=this.valueAxisRanges[o];w(i)&&!isNaN(i)&&w(n&&!isNaN(n))&&((s=this.valueAxisRanges[o]=s||{min:r,max:a}).min=Math.min(s.min,i,n),s.max=Math.max(s.max,i,n))},formatPointValue:function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},pointValue:function(t){return t.valueFields.current},aboveAxis:function(t){var e=t.value.current;return e>0},createAnimation:function(){var t=this.points;this._setAnimationOptions();for(var e=0;e<t.length;e++){var i=t[e];i.options.animation=this.options.animation,i.createAnimation()}}});Ae.prototype._setAnimationOptions=de.prototype._setAnimationOptions,j(Ae,{animation:{type:At}});var Te=i.extend({init:function(t,e){this.chartService=t,this.options=D({},this.options,e)},getStyle:function(t,e){var i=t.background,n=t.border.color;if(e){var o=e.color||e.options.color;i=E(i,o),n=E(n,o)}var r=N(t.padding||{},"auto");return{backgroundColor:i,borderColor:n,font:t.font,color:t.color,opacity:t.opacity,borderWidth:U(t.border.width),paddingTop:U(r.top),paddingBottom:U(r.bottom),paddingLeft:U(r.left),paddingRight:U(r.right)}},show:function(t,e,i){t.format=e.format;var n=this.getStyle(e,i);t.style=n,!w(e.color)&&new lt(n.backgroundColor).percBrightness()>180&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify("showTooltip",t)},hide:function(){this.chartService&&this.chartService.notify("hideTooltip")},destroy:function(){delete this.chartService}});j(Te,{border:{width:1},opacity:1});var je=Te.extend({init:function(t,e,i){Te.fn.init.call(this,t,i),this.crosshair=e,this.formatService=t.format,this.initAxisName()},initAxisName:function(){var t,e=this.crosshair.axis,i=e.plotArea;t=i.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=t},showAt:function(t){var e=this.crosshair.axis,i=this.options,n=e[i.stickyMode?"getCategory":"getValue"](t),o=n;i.format?o=this.formatService.auto(i.format,n):e.options.type===b&&(o=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],n)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},hide:function(){this.chartService.notify("hideTooltip",{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},getAnchor:function(){var t,e,i,n=this.crosshair,o=this.options,r=o.position,a=o.padding,s=!n.axis.options.vertical,d=n.line.bbox();return s?(t=l,r===u?(e=c,i=d.bottomLeft().translate(0,a)):(e=u,i=d.topLeft().translate(0,-a))):(e=l,r===h?(t=g,i=d.topLeft().translate(-a,0)):(t=h,i=d.topRight().translate(a,0))),{point:i,align:{horizontal:t,vertical:e}}}});j(je,{padding:10});var Me=S.extend({init:function(t,e,i){S.fn.init.call(this,i),this.axis=e,this.stickyMode=e instanceof W;var n=this.options.tooltip;n.visible&&(this.tooltip=new je(t,this,D({},n,{stickyMode:this.stickyMode})))},showAt:function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},hide:function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},moveLine:function(){var t,e=this.axis,i=this.point,n=e.options.vertical,o=this.getBox(),r=n?m:p,a=new ut(o.x1,o.y1);if(t=n?new ut(o.x2,o.y1):new ut(o.x1,o.y2),i)if(this.stickyMode){var s=e.getSlot(e.pointCategoryIndex(i));a[r]=t[r]=s.center()[r]}else a[r]=t[r]=i[r];this.box=o,this.line.moveTo(a).lineTo(t)},getBox:function(){for(var t,e=this.axis,i=e.pane.axes,n=i.length,o=e.options.vertical,r=e.lineBox().clone(),a=o?p:m,s=0;s<n;s++){var l=i[s];l.options.vertical!==o&&(t?t.wrap(l.lineBox()):t=l.lineBox().clone())}return r[a+1]=t[a+1],r[a+2]=t[a+2],r},createVisual:function(){S.fn.createVisual.call(this);var t=this.options;this.line=new ot({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},destroy:function(){this.tooltip&&this.tooltip.destroy(),S.fn.destroy.call(this)}});j(Me,{color:v,width:2,zIndex:-1,tooltip:{visible:!1}});var ze=S.extend({init:function(t,e){S.fn.init.call(this,t),this.pane=e},shouldClip:function(){for(var t=this.children,e=t.length,i=0;i<e;i++)if(!0===t[i].options.clip)return!0;return!1},_clipBox:function(){return this.pane.chartsBox()},createVisual:function(){if(this.visual=new st({zIndex:0}),this.shouldClip()){var t=this.clipBox=this._clipBox(),e=t.toRect(),i=ot.fromRect(e);this.visual.clip(i),this.unclipLabels()}},stackRoot:function(){return this},unclipLabels:function(){for(var t=this.children,e=this.clipBox,i=0;i<t.length;i++)for(var n=t[i].points||{},o=n.length,r=0;r<o;r++){var a=n[r];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(e))if(a.unclipElements)a.unclipElements();else{var s=a.label,l=a.note;s&&s.options.visible&&(s.alignToClipBox&&s.alignToClipBox(e),s.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}},destroy:function(){S.fn.destroy.call(this),delete this.parent}});ze.prototype.isStackRoot=!0;var Ee=G.extend({init:function(t){G.fn.init.call(this,t),this.id="pane"+Ie++,this.createTitle(),this.content=new S,this.chartContainer=new ze({},this),this.append(this.content),this.axes=[],this.charts=[]},createTitle:function(){var t=this.options.title;I(t)&&(t=D({},t,{align:t.position,position:c})),this.title=e.Title.buildTitle(t,this,Ee.prototype.options.title)},appendAxis:function(t){this.content.append(t),this.axes.push(t),t.pane=this},appendChart:function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},empty:function(){var t=this.parent;if(t){for(var e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(var i=0;i<this.charts.length;i++)t.removeChart(this.charts[i])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},reflow:function(t){var e;O(this.children)===this.content&&(e=this.children.pop()),G.fn.reflow.call(this,t),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())},visualStyle:function(){var t=G.fn.visualStyle.call(this);return t.zIndex=-10,t},renderComplete:function(){this.options.visible&&this.createGridLines()},stackRoot:function(){return this},clipRoot:function(){return this},createGridLines:function(){for(var t=this.axes,e=t.concat(this.parent.axes),i=[],n=[],o=0;o<t.length;o++)for(var r=t[o],a=r.options.vertical,s=a?i:n,l=0;l<e.length;l++)if(0===s.length){var c=e[l];a!==c.options.vertical&&q(s,r.createGridLines(c))}},refresh:function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete()},chartsBox:function(){for(var t=this.axes,e=t.length,i=new A,n=0;n<e;n++){var o=t[n],r=o.options.vertical?m:p,a=o.lineBox();i[r+1]=a[r+1],i[r+2]=a[r+2]}if(0===i.x2)for(var s=this.parent.axes,l=s.length,c=0;c<l;c++){var u=s[c];if(!u.options.vertical){var h=u.lineBox();i.x1=h.x1,i.x2=h.x2}}return i},clipBox:function(){return this.chartContainer.clipBox}}),Ie=1;function De(t,e,i){var n=e.visible;if(w(n))return n;var o=t.pointVisibility;return o?o[i]:void 0}function Oe(t){for(var e=t.data,i=[],o=0,r=0,a=0;a<e.length;a++){var s=bt.current.bindPoint(t,a),l=s.valueFields.value;V(l)&&(l=parseFloat(l)),n(l)?(s.visible=!1!==De(t,s.fields,a),s.value=Math.abs(l),i.push(s),s.visible&&(o+=s.value),0!==l&&r++):i.push(null)}return{total:o,points:i,count:r}}function Pe(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function Re(t,e){for(var i=[],n=[].concat(e),o=0;o<t.length;o++){var r=t[o];M(r.type,n)&&i.push(r)}return i}function Le(t,e,i){if(null===e)return e;var n="_date_"+t,o=e[n];return o||(o=H(i,_(t,!0)(e)),e[n]=o),o}function Fe(t,e){var i=t.type,n=e instanceof Date;return!i&&n||Pe(i,b)}function Ne(t){return 1===t.length?t[0]:t}Ee.prototype.isStackRoot=!0,j(Ee,{zIndex:-1,shrinkToFit:!0,title:{align:h},visible:!0});var Be=S.extend({init:function(t,e,i){S.fn.init.call(this,e),this.initFields(t,e),this.series=t,this.initSeries(),this.charts=[],this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=i,this.originalOptions=e,this.createPanes(),this.render(),this.createCrosshairs()},initFields:function(){},initSeries:function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},createPanes:function(){var t={title:{color:(this.options.title||{}).color}},e=[],i=this.options.panes||[],n=Math.max(i.length,1);function o(t,e){V(t.title)&&(t.title={text:t.title}),t.title=D({},e.title,t.title)}for(var r=0;r<n;r++){var a=i[r]||{};o(a,t);var s=new Ee(a);s.paneIndex=r,e.push(s),this.append(s)}this.panes=e},createCrosshairs:function(t){void 0===t&&(t=this.panes);for(var e=0;e<t.length;e++)for(var i=t[e],n=0;n<i.axes.length;n++){var o=i.axes[n];if(o.options.crosshair&&o.options.crosshair.visible){var r=new Me(this.chartService,o,o.options.crosshair);this.crosshairs.push(r),i.content.append(r)}}},removeCrosshairs:function(t){for(var e=this.crosshairs,i=t.axes,n=e.length-1;n>=0;n--)for(var o=0;o<i.length;o++)if(e[n].axis===i[o]){e.splice(n,1);break}},hideCrosshairs:function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},findPane:function(t){for(var e,i=this.panes,n=0;n<i.length;n++)if(i[n].options.name===t){e=i[n];break}return e||i[0]},findPointPane:function(t){for(var e,i=this.panes,n=0;n<i.length;n++)if(i[n].box.containsPoint(t)){e=i[n];break}return e},appendAxis:function(t){var e=this.findPane(t.options.pane);e.appendAxis(t),this.axes.push(t),t.plotArea=this},removeAxis:function(t){for(var e=[],i=0;i<this.axes.length;i++){var n=this.axes[i];t!==n?e.push(n):n.destroy()}this.axes=e},appendChart:function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},removeChart:function(t){for(var e=[],i=0;i<this.charts.length;i++){var n=this.charts[i];n!==t?e.push(n):n.destroy()}this.charts=e},addToLegend:function(t){for(var e=t.length,i=this.options.legend,n=i.labels||{},o=i.inactiveItems||{},r=o.labels||{},a=[],s=0;s<e;s++){var l=t[s],c=!1!==l.visible;if(!1!==l.visibleInLegend){var u=l.name,h=c?R(n):R(r)||R(n);h&&(u=h({text:ye(u)?u:"",series:l}));var d=l._defaults,f=l.color;z(f)&&d&&(f=d.color);var p=void 0,m=void 0;c?(p={},m=f):(p={color:r.color,font:r.font},m=o.markers.color),ye(u)&&""!==u&&a.push({text:u,labels:p,markerColor:m,series:l,active:c})}}q(i.items,a)},groupAxes:function(t){for(var e=[],i=[],n=0;n<t.length;n++)for(var o=t[n].axes,r=0;r<o.length;r++){var a=o[r];a.options.vertical?i.push(a):e.push(a)}return{x:e,y:i,any:e.concat(i)}},groupSeriesByPane:function(){for(var t=this.series,e={},i=0;i<t.length;i++){var n=t[i],o=this.seriesPaneName(n);e[o]?e[o].push(n):e[o]=[n]}return e},filterVisibleSeries:function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];!1!==n.visible&&e.push(n)}return e},reflow:function(t){var e=this.options.plotArea,i=this.panes,n=N(e.margin);this.box=t.clone().unpad(n),this.reflowPanes(),this.reflowAxes(i),this.reflowCharts(i)},redraw:function(t){var e=[].concat(t);this.initSeries();for(var i=0;i<e.length;i++)this.removeCrosshairs(e[i]),e[i].empty();this.render(e),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(var n=0;n<e.length;n++)e[n].refresh()},axisCrossingValues:function(t,e){for(var i=t.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue),o=e.length-n.length,r=n[0]||0,a=0;a<o;a++)n.push(r);return n},alignAxisTo:function(t,e,i,n){var o=t.getSlot(i,i,!0),r=t.options.reverse?2:1,a=e.getSlot(n,n,!0),s=e.options.reverse?2:1,l=t.box.translate(a[p+s]-o[p+r],a[m+s]-o[m+r]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},alignAxes:function(t,e){for(var i=t[0],n=e[0],r=this.axisCrossingValues(i,e),a=this.axisCrossingValues(n,t),s={},l={},d={},f={},p=0;p<e.length;p++){var m=e[p],v=m.pane,b=v.id,k=!1!==m.options.visible,y=Ve(t,v)||i,w=r;y!==i&&(w=this.axisCrossingValues(y,e)),this.alignAxisTo(m,y,a[p],w[p]),m.options._overlap||(Q(m.lineBox().x1)===Q(y.lineBox().x1)&&(s[b]&&m.reflow(m.box.alignTo(s[b].box,h).translate(-m.options.margin,0)),k&&(s[b]=m)),Q(m.lineBox().x2)===Q(y.lineBox().x2)&&(m._mirrored||(m.options.labels.mirror=!m.options.labels.mirror,m._mirrored=!0),this.alignAxisTo(m,y,a[p],w[p]),l[b]&&m.reflow(m.box.alignTo(l[b].box,g).translate(m.options.margin,0)),k&&(l[b]=m)),0!==p&&n.pane===m.pane&&(m.alignTo(n),m.reflow(m.box)))}for(var _=0;_<t.length;_++){var x=t[_],S=x.pane,C=S.id,A=!1!==x.options.visible,T=Ve(e,S)||n,j=a;T!==n&&(j=this.axisCrossingValues(T,t)),this.alignAxisTo(x,T,r[_],j[_]),x.options._overlap||(Q(x.lineBox().y1)===Q(T.lineBox().y1)&&(x._mirrored||(x.options.labels.mirror=!x.options.labels.mirror,x._mirrored=!0),this.alignAxisTo(x,T,r[_],j[_]),d[C]&&x.reflow(x.box.alignTo(d[C].box,c).translate(0,-x.options.margin)),A&&(d[C]=x)),Q(x.lineBox().y2,o.COORD_PRECISION)===Q(T.lineBox().y2,o.COORD_PRECISION)&&(f[C]&&x.reflow(x.box.alignTo(f[C].box,u).translate(0,x.options.margin)),A&&(f[C]=x)),0!==_&&(x.alignTo(i),x.reflow(x.box)))}},shrinkAxisWidth:function(t){for(var e=this.groupAxes(t).any,i=qe(e),n=0,o=0;o<t.length;o++){var r=t[o];r.axes.length>0&&(n=Math.max(n,i.width()-r.contentBox.width()))}if(0!==n)for(var a=0;a<e.length;a++){var s=e[a];s.options.vertical||s.reflow(s.box.shrink(n,0))}},shrinkAxisHeight:function(t){for(var e,i=0;i<t.length;i++){var n=t[i],o=n.axes,r=Math.max(0,qe(o).height()-n.contentBox.height());if(0!==r){for(var a=0;a<o.length;a++){var s=o[a];s.options.vertical&&s.reflow(s.box.shrink(0,r))}e=!0}}return e},fitAxes:function(t){for(var e=this.groupAxes(t).any,i=0,n=0;n<t.length;n++){var o=t[n],r=o.axes,a=o.contentBox;if(r.length>0){var s=qe(r),l=Math.max(a.y1-s.y1,a.y2-s.y2);i=Math.max(i,a.x1-s.x1);for(var c=0;c<r.length;c++){var u=r[c];u.reflow(u.box.translate(0,l))}}}for(var h=0;h<e.length;h++){var d=e[h];d.reflow(d.box.translate(i,0))}},reflowAxes:function(t){for(var e=this.groupAxes(t),i=0;i<t.length;i++)this.reflowPaneAxes(t[i]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))},autoRotateAxisLabels:function(t){for(var e,i=this.axes,n=this.panes,o=0;o<i.length;o++){var r=i[o];r.autoRotateLabels()&&(e=!0)}if(e){for(var a=0;a<n.length;a++)this.reflowPaneAxes(n[a]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(n))}},reflowPaneAxes:function(t){var e=t.axes,i=e.length;if(i>0)for(var n=0;n<i;n++)e[n].reflow(t.contentBox)},reflowCharts:function(t){for(var e=this.charts,i=e.length,n=this.box,o=0;o<i;o++){var r=e[o].pane;r&&!M(r,t)||e[o].reflow(n)}},reflowPanes:function(){for(var t=this.box,e=this.panes,i=e.length,n=t.height(),o=0,r=t.y1,a=0;a<i;a++){var s=e[a],l=s.options.height;if(s.options.width=t.width(),s.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;s.options.height=c*t.height()}s.reflow(t.clone()),n-=s.options.height}else o++}for(var u=0;u<i;u++){var h=e[u];h.options.height||(h.options.height=n/o)}for(var d=0;d<i;d++){var f=e[d],p=t.clone().move(t.x1,r);f.reflow(p),r+=f.options.height}},backgroundBox:function(){for(var t,e=this.axes,i=e.length,n=0;n<i;n++)for(var o=e[n],r=0;r<i;r++){var a=e[r];if(o.options.vertical!==a.options.vertical){var s=o.lineBox().clone().wrap(a.lineBox());t=t?t.wrap(s):s}}return t||this.box},chartsBoxes:function(){for(var t=this.panes,e=[],i=0;i<t.length;i++)e.push(t[i].chartsBox());return e},addBackgroundPaths:function(t){for(var e=this.chartsBoxes(),i=0;i<e.length;i++)t.paths.push(ot.fromRect(e[i].toRect()))},backgroundContainsPoint:function(t){for(var e=this.chartsBoxes(),i=0;i<e.length;i++)if(e[i].containsPoint(t))return!0},createVisual:function(){S.fn.createVisual.call(this);var t=this.options.plotArea,e=t.opacity,i=t.background,n=t.border;void 0===n&&(n={}),function(t){return""===t||null===t||"none"===t||"transparent"===t||!w(t)}(i)&&(i=d,e=0);var o=this._bgVisual=new nt.MultiPath({fill:{color:i,opacity:e},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType},zIndex:-1});this.addBackgroundPaths(o),this.appendVisual(o)},pointsByCategoryIndex:function(t){var e=this.charts,i=[];if(null!==t)for(var n=0;n<e.length;n++){var o=e[n];if("_navigator"!==o.pane.options.name){var r=e[n].categoryPoints[t];if(r&&r.length)for(var a=0;a<r.length;a++){var s=r[a];s&&w(s.value)&&null!==s.value&&i.push(s)}}}return i},pointsBySeriesIndex:function(t){return this.filterPoints(function(e){return e.series.index===t})},pointsBySeriesName:function(t){return this.filterPoints(function(e){return e.series.name===t})},filterPoints:function(t){for(var e=this.charts,i=[],n=0;n<e.length;n++)for(var o=e[n],r=o.points,a=0;a<r.length;a++){var s=r[a];s&&!1!==s.visible&&t(s)&&i.push(s)}return i},findPoint:function(t){for(var e=this.charts,i=0;i<e.length;i++)for(var n=e[i],o=n.points,r=0;r<o.length;r++){var a=o[r];if(a&&!1!==a.visible&&t(a))return a}},paneByPoint:function(t){for(var e=this.panes,i=0;i<e.length;i++){var n=e[i];if(n.box.containsPoint(t))return n}}});function qe(t){var e,i=t.length;if(i>0)for(var n=0;n<i;n++){var o=t[n].contentBox();e?e.wrap(o):e=o.clone()}return e||new A}function Ve(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n&&n.pane===e)return n}}j(Be,{series:[],plotArea:{margin:{}},background:"",border:{color:v,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var He={hover:function(t,e){this._dispatchEvent(t,e,"plotAreaHover")},click:function(t,e){this._dispatchEvent(t,e,"plotAreaClick")}},Ue=i.extend({init:function(t,e,i){var n=e.canonicalFields(t),o=e.valueFields(t),r=e.sourceFields(t,n),a=this._seriesFields=[],s=i.query(t.type),l=t.aggregate||s;this._series=t,this._binder=e;for(var c=0;c<n.length;c++){var u=n[c],h=void 0;if(I(l))h=l[u];else{if(0!==c&&!M(u,o))break;h=l}h&&a.push({canonicalName:u,name:r[c],transform:z(h)?h:gt[h]})}},aggregatePoints:function(t,e){var i=this._series,o=this._seriesFields,r=this._bindPoints(t||[]),a=r.dataItems[0],s={};if(a&&!n(a)&&!x(a)){var l=function(){};l.prototype=a,s=new l}for(var c=0;c<o.length;c++){var u=o[c],h=this._bindField(r.values,u.canonicalName),d=u.transform(h,i,r.dataItems,e);if(!(null===d||!I(d)||w(d.length)||d instanceof Date)){s=d;break}w(d)&&We(u.name,s,d)}return s},_bindPoints:function(t){for(var e=this._binder,i=this._series,n=[],o=[],r=0;r<t.length;r++){var a=t[r];n.push(e.bindPoint(i,a)),o.push(i.data[a])}return{values:n,dataItems:o}},_bindField:function(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var r=t[o],a=r.valueFields,s=void 0;s=w(a[e])?a[e]:r.fields[e],i.push(s)}return i}});function We(t,e,i){var n=e,o=t;if(t.indexOf(".")>-1){for(var r=t.split(".");r.length>1;)o=r.shift(),w(n[o])||(n[o]={}),n=n[o];o=r.shift()}n[o]=i}var Ge=i.extend({init:function(){this._defaults={}},register:function(t,e){for(var i=0;i<t.length;i++)this._defaults[t[i]]=e},query:function(t){return this._defaults[t]}});Ge.current=new Ge;var Qe=se.extend({createLabel:function(){var t=this.options.labels,e=D({},t,t.from),i=D({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),i.visible&&(this.labelTo=this._createLabel(i),this.append(this.labelTo))},_createLabel:function(t){var e,i=R(t);return e=i?i({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series}):this.formatValue(t.format),new re(e,D({vertical:this.options.vertical},t))},reflow:function(t){this.render();var e=this.labelFrom,i=this.labelTo,n=this.value;this.box=t,e&&(e.options.aboveAxis=n.from>n.to,e.reflow(t)),i&&(i.options.aboveAxis=n.to>n.from,i.reflow(t)),this.note&&this.note.reflow(t)}});Qe.prototype.defaults=D({},Qe.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var Ye=de.extend({pointType:function(){return Qe},pointValue:function(t){return t.valueFields},formatPointValue:function(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)},plotRange:function(t){return t?[t.value.from,t.value.to]:0},updateRange:function(t,e){var i=e.series.axis,o=t.from,s=t.to,l=this.valueAxisRanges[i];null!==t&&n(o)&&n(s)&&((l=this.valueAxisRanges[i]=l||{min:r,max:a}).min=Math.min(l.min,o),l.max=Math.max(l.max,o),l.min=Math.min(l.min,s),l.max=Math.max(l.max,s))},aboveAxis:function(t){var e=t.value;return e.from<e.to}});Ye.prototype.plotLimits=Bt.prototype.plotLimits;var Ke=Ht.extend({aliasFor:function(){return this.parent}}),Ze=S.extend({init:function(t,e){S.fn.init.call(this),this.value=t,this.options=e,this.aboveAxis=E(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()},render:function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,i=t.labels,n=this.value,o=this.fromPoint=new Ke(n,D({},this.options,{labels:i.from,markers:e.from})),r=this.toPoint=new Ke(n,D({},this.options,{labels:i.to,markers:e.to}));this.copyFields(o),this.copyFields(r),this.append(o),this.append(r)}},reflow:function(t){this.render();var e=t.from,i=t.to;this.positionLabels(e,i),this.fromPoint.reflow(e),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},createHighlight:function(){var t=new st;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},highlightVisual:function(){return this.visual},highlightVisualArgs:function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},tooltipAnchor:function(){var t=this.owner.pane.clipBox(),e=!t||t.overlaps(this.box);if(e){var i,n,o,r=this.box,a=r.center(),s=h;return this.options.vertical?(i=a.x,n=r.y1-5,o=u):(i=r.x2+5,n=a.y,o=l),{point:new C(i,n),align:{horizontal:s,vertical:o}}}},formatValue:function(t){return this.owner.formatPointValue(this,t)},overlapsBox:function(t){return this.box.overlaps(t)},unclipElements:function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},initLabelsFormat:function(){var e=this.options.labels;e.format||(e.from&&e.from.format||(e.from=t.extend({},e.from,{format:"{0}"})),e.to&&e.to.format||(e.to=t.extend({},e.to,{format:"{1}"})))},positionLabels:function(t,e){var i,n,o=this.options,r=o.labels,a=o.vertical;"auto"===r.position&&(a?e.y1<=t.y1?(n="above",i="below"):(n="below",i="above"):e.x1<=t.x1?(n=h,i=g):(n=g,i=h),r.from&&r.from.position||(this.fromPoint.options.labels.position=i),r.to&&r.to.position||(this.toPoint.options.labels.position=n))},copyFields:function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner}});D(Ze.prototype,qt),D(Ze.prototype,Vt),Ze.prototype.defaults={markers:{visible:!1,background:d,size:8,type:f,border:{width:2},opacity:1},labels:{visible:!1,margin:N(3),padding:N(4),animation:{type:xt,delay:600},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:d,width:2}},zIndex:o.HIGHLIGHT_ZINDEX},tooltip:{format:"{0} - {1}"}};var Xe=te.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},stackSegments:function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},createStroke:function(t){var e=new ot(t),i=new ot(t);e.segments.push.apply(e.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(e),this.visual.append(i)},hasStackSegment:function(){return!0},fromPoints:function(){return this.linePoints.map(function(t){return t.fromPoint})},toPoints:function(){return this.linePoints.map(function(t){return t.toPoint})}}),Je=Xe.extend({createStrokeSegments:function(){return this.createCurveSegments(this.toPoints())},stackSegments:function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},createCurveSegments:function(t){var e=new B;return e.process(this.toGeometryPoints(t))}}),$e=Xe.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},stackSegments:function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),t}});D($e.prototype,Wt);var ti=Bt.extend({render:function(){Bt.fn.render.call(this),this.renderSegments()},pointType:function(){return Ze},createPoint:function(t,e){var i=e.categoryIx,n=e.category,o=e.series,r=e.seriesIx,a=t.valueFields;if(!ye(a.from)&&!ye(a.to)){if(this.seriesMissingValues(o)!==Ct)return null;a={from:0,to:0}}var s=this.pointOptions(o,r);s=this.evalPointOptions(s,a,n,i,o,r);var l=t.fields.color||o.color;z(o.color)&&(l=s.color);var c=new Ze(a,s);return c.color=l,this.append(c),c},createSegment:function(t,e,i){var n=(e.line||{}).style;return new("smooth"===n?Je:"step"===n?$e:Xe)(t,e,i)},plotRange:function(t,e){return t?[t.value.from,t.value.to]:[e,e]},valueSlot:function(t,e){var i=t.getSlot(e[0],e[0],!this.options.clip),n=t.getSlot(e[1],e[1],!this.options.clip);if(i&&n)return{from:i,to:n}},pointSlot:function(t,e){var i,n,o=e.from,r=e.to;return this.options.invertAxes?(i=new A(o.x1,t.y1,o.x2,t.y2),n=new A(r.x1,t.y1,r.x2,t.y2)):(i=new A(t.x1,o.y1,t.x2,o.y2),n=new A(t.x1,r.y1,t.x2,r.y2)),{from:i,to:n}},addValue:function(t,e){var i=t.valueFields;n(i.from)||(i.from=i.to),n(i.to)||(i.to=i.from),Bt.fn.addValue.call(this,t,e)},updateRange:function(t,e){if(null!==t&&n(t.from)&&n(t.to)){var i=e.series.axis,o=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:r,max:a},s=t.from,l=t.to;o.min=Math.min(o.min,s,l),o.max=Math.max(o.max,s,l)}},formatPointValue:function(t,e){var i=t.value;return this.chartService.format.auto(e,i.from,i.to)},animationPoints:function(){for(var t=this.points,e=[],i=0;i<t.length;i++){var n=t[i];n&&(e.push((n.fromPoint||{}).marker),e.push((n.toPoint||{}).marker))}return e.concat(this._segments)}});D(ti.prototype,Kt,Jt);var ei=fe.extend({reflow:function(t){var e=this.options,i=this.value,n=this.owner,o=n.seriesValueAxis(e),r=[],a=[],s=[],l=o.getSlot(i.low,i.high),c=o.getSlot(i.open,i.open),u=o.getSlot(i.close,i.close);c.x1=u.x1=l.x1=t.x1,c.x2=u.x2=l.x2=t.x2;var h=l.center().x;r.push([c.x1,c.y1]),r.push([h,c.y1]),a.push([h,u.y1]),a.push([u.x2,u.y1]),s.push([h,l.y1]),s.push([h,l.y2]),this.lines=[r,a,s],this.box=l.clone().wrap(c.clone().wrap(u)),this.reflowNote()},createBody:function(){}}),ii=me.extend({pointType:function(){return ei}}),ni=S.extend({init:function(t,e,i){S.fn.init.call(this),this.from=t,this.to=e,this.series=i},linePoints:function(){var t=this.from,e=this.from.box,i=this.to.box,n=[];if(t.isVertical){var o=t.aboveAxis?e.y1:e.y2;n.push([e.x1,o],[i.x2,o])}else{var r=t.aboveAxis?e.x2:e.x1;n.push([r,e.y1],[r,i.y2])}return n},createVisual:function(){S.fn.createVisual.call(this);var t=this.series.line||{},e=ot.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});T(e),this.visual.append(e)}});j(ni,{animation:{type:xt,delay:600}});var oi=de.extend({render:function(){de.fn.render.call(this),this.createSegments()},traverseDataPoints:function(t){for(var e=this.options.series,i=this.categoryAxis.options.categories||[],o=Nt(e),r=!this.options.invertAxes,a=0;a<e.length;a++)for(var s=e[a],l=0,c=0,u=0;u<o;u++){var h=bt.current.bindPoint(s,u),d=h.valueFields.value,f=h.fields.summary,p=l,m=void 0;f?"total"===f.toLowerCase()?(h.valueFields.value=l,p=0,m=l):(h.valueFields.value=c,m=p-c,c=0):n(d)&&(c+=d,m=l+=d),t(h,{category:i[u],categoryIx:u,series:s,seriesIx:a,total:l,runningTotal:c,from:p,to:m,isVertical:r})}},updateRange:function(t,e){de.fn.updateRange.call(this,{value:e.to},e)},aboveAxis:function(t){return t.value>=0},plotRange:function(t){return[t.from,t.to]},createSegments:function(){for(var t=this.options.series,e=this.seriesPoints,i=this.segments=[],n=0;n<t.length;n++){var o=t[n],r=e[n];if(r)for(var a=void 0,s=0;s<r.length;s++){var l=r[s];if(l&&a){var c=new ni(a,l,o);i.push(c),this.append(c)}a=l}}}});function ri(t,e){null!==e&&t.push(e)}var ai=["area","verticalArea","rangeArea","verticalRangeArea"],si=[jt,zt].concat(ai),li=Be.extend({initFields:function(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new oe,t.length>0){this.invertAxes=M(t[0].type,[At,"bullet",zt,"verticalArea","verticalRangeArea","rangeBar","horizontalWaterfall","verticalBoxPlot"]);for(var e=0;e<t.length;e++){var i=t[e].stack;if(i&&"100%"===i.type){this.stack100=!0;break}}}},render:function(t){void 0===t&&(t=this.panes),this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},removeAxis:function(t){var e=t.options.name;Be.fn.removeAxis.call(this,t),t instanceof W?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis},createCharts:function(t){for(var e=this.groupSeriesByPane(),i=0;i<t.length;i++){var n=t[i],o=e[n.options.name||"default"]||[];this.addToLegend(o);var r=this.filterVisibleSeries(o);if(r)for(var a=this.groupSeriesByCategoryAxis(r),s=0;s<a.length;s++)this.createChartGroup(a[s],n)}},createChartGroup:function(t,e){this.createAreaChart(Re(t,["area","verticalArea"]),e),this.createRangeAreaChart(Re(t,["rangeArea","verticalRangeArea"]),e),this.createBarChart(Re(t,[Tt,At]),e),this.createRangeBarChart(Re(t,["rangeColumn","rangeBar"]),e),this.createBulletChart(Re(t,["bullet","verticalBullet"]),e),this.createCandlestickChart(Re(t,"candlestick"),e),this.createBoxPlotChart(Re(t,["boxPlot","verticalBoxPlot"]),e),this.createOHLCChart(Re(t,"ohlc"),e),this.createWaterfallChart(Re(t,["waterfall","horizontalWaterfall"]),e),this.createLineChart(Re(t,[jt,zt]),e)},aggregateCategories:function(t){for(var e=this.srcSeries||this.series,i=[],o=0;o<e.length;o++){var r=e[o],a=this.seriesCategoryAxis(r),s=this.findPane(a.options.pane),l=Pe(a.options.type,b);(l||r.categoryField)&&M(s,t)?r=this.aggregateSeries(r,a):(n(a.options.min)||n(a.options.max))&&(r=this.filterSeries(r,a)),i.push(r)}this.srcSeries=e,this.series=i},filterSeries:function(t,e){var i=e.totalRangeIndices(),o=e.options.justified,r=M(t.type,si);i.min=n(e.options.min)?Math.floor(i.min):0,n(e.options.max)?i.max=o?Math.floor(i.max)+1:Math.ceil(i.max):i.max=t.data.length;var a=D({},t);if(r){var s=i.min-1,l=e.options.srcCategories||[];s>=0&&s<a.data.length&&(a._outOfRangeMinPoint={item:a.data[s],category:l[s],categoryIx:-1}),i.max<a.data.length&&(a._outOfRangeMaxPoint={item:a.data[i.max],category:l[i.max],categoryIx:i.max-i.min})}return e._seriesMax=Math.max(e._seriesMax||0,a.data.length),a.data=(a.data||[]).slice(i.min,i.max),a},aggregateSeries:function(t,e){var i=M(t.type,si),n=e.options,o=n.categories,s=n.srcCategories;void 0===s&&(s=o);var l=n.dataItems;void 0===l&&(l=[]);var c,u,h=Pe(e.options.type,b),d=D({},t),f=D({},t),p=t.data,m=[],g=a,v=r,k=vt;h&&(k=Le);for(var y=0;y<p.length;y++){var _=void 0;if(_=t.categoryField?k(t.categoryField,p[y],this.chartService.intl):s[y],w(_)){var x=e.categoryIndex(_);0<=x&&x<o.length?(m[x]=m[x]||[],m[x].push(y)):i&&(x<0?x===g?c.points.push(y):x>g&&(g=x,c={category:_,points:[y]}):x>=o.length&&(x===v?u.points.push(y):x<v&&(v=x,u={category:_,points:[y]})))}}for(var S=new Ue(d,bt.current,Ge.current),C=f.data=[],A=0;A<o.length;A++)C[A]=S.aggregatePoints(m[A],o[A]),m[A]&&(l[A]=C[A]);return c&&C.length&&(f._outOfRangeMinPoint={item:S.aggregatePoints(c.points,c.category),categoryIx:g,category:c.category}),u&&C.length&&(f._outOfRangeMaxPoint={item:S.aggregatePoints(u.points,u.category),categoryIx:v,category:u.category}),e.options.dataItems=l,f},appendChart:function(t,e){for(var i=t.options.series,n=this.seriesCategoryAxis(i[0]),o=n.options.categories,r=Math.max(0,Nt(i)-o.length);r--;)o.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),Be.fn.appendChart.call(this,t,e)},seriesPaneName:function(t){var e=this.options,i=t.axis,n=[].concat(e.valueAxis),o=Y(n,function(t){return t.name===i})[0],r=e.panes||[{}],a=(r[0]||{}).name||"default",s=(o||{}).pane||a;return s},seriesCategoryAxis:function(t){var e=t.categoryAxis,i=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+e);return i},stackableChartOptions:function(t,e){var i=t.stack,n=i&&"100%"===i.type,o=e.options.clip;return{isStacked:i,isStacked100:n,clip:o}},groupSeriesByCategoryAxis:function(t){for(var e=[],i={},n=0;n<t.length;n++){var o=t[n].categoryAxis||"$$default$$";i.hasOwnProperty(o)||(i[o]=!0,e.push(o))}for(var r=[],a=0;a<e.length;a++){var s=e[a],l=ui(t,s,a);0!==l.length&&r.push(l)}return r},createBarChart:function(e,i){if(0!==e.length){var n=e[0],o=new de(this,t.extend({series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,i)));this.appendChart(o,i)}},createRangeBarChart:function(t,e){if(0!==t.length){var i=t[0],n=new Ye(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(n,e)}},createBulletChart:function(t,e){if(0!==t.length){var i=t[0],n=new Ae(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}},createLineChart:function(e,i){if(0!==e.length){var n=e[0],o=new $t(this,t.extend({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(n,i)));this.appendChart(o,i)}},createAreaChart:function(e,i){if(0!==e.length){var n=e[0],o=new ne(this,t.extend({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(n,i)));this.appendChart(o,i)}},createRangeAreaChart:function(t,e){if(0!==t.length){var i=new ti(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(i,e)}},createOHLCChart:function(t,e){if(0!==t.length){var i=t[0],n=new ii(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}},createCandlestickChart:function(t,e){if(0!==t.length){var i=t[0],n=new me(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}},createBoxPlotChart:function(t,e){if(0!==t.length){var i=t[0],n=new be(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}},createWaterfallChart:function(t,e){if(0!==t.length){var i=t[0],n=new oi(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(n,e)}},axisRequiresRounding:function(t,e){for(var i=Re(this.series,Et),n=0;n<this.series.length;n++){var o=this.series[n];if(M(o.type,ai)){var r=o.line;r&&"step"===r.style&&i.push(o)}}for(var a=0;a<i.length;a++){var s=i[a].categoryAxis||"";if(s===t||!s&&0===e)return!0}},aggregatedAxis:function(t,e){for(var i=this.series,n=0;n<i.length;n++){var o=i[n].categoryAxis||"";if((o===t||!o&&0===e)&&i[n].categoryField)return!0}},createCategoryAxesLabels:function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof W&&t[e].createLabels()},createCategoryAxes:function(t){for(var e=this.invertAxes,i=[].concat(this.options.categoryAxis),n=[],o=0;o<i.length;o++){var a=i[o],s=this.findPane(a.pane);if(M(s,t)){var l=a.name,c=a.categories;void 0===c&&(c=[]),a=D({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?r:0},a),w(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(l,o)&&(a.justified=!1);var u=void 0;if(u=Fe(a,c[0])?new K(a,this.chartService):new W(a,this.chartService),l){if(this.namedCategoryAxes[l])throw new Error("Category axis with name "+l+" is already defined");this.namedCategoryAxes[l]=u}u.axisIndex=o,n.push(u),this.appendAxis(u)}}var h=this.categoryAxis||n[0];this.categoryAxis=h,e?this.axisY=h:this.axisX=h},isJustified:function(){for(var t=this.series,e=0;e<t.length;e++){var i=t[e];if(!M(i.type,ai))return!1}return!0},createValueAxes:function(t){var i=this.valueAxisRangeTracker,n=i.query(),o=[].concat(this.options.valueAxis),r=this.invertAxes,a={vertical:!r,reverse:r&&this.chartService.rtl},s=[];this.stack100&&(a.roundToMajorUnit=!1,a.labels={format:"P0"});for(var l=0;l<o.length;l++){var c=o[l],u=this.findPane(c.pane);if(M(u,t)){var h=c.name,d=Pe(c.type,"log")?{min:.1,max:1}:{min:0,max:1},f=i.query(h)||n||d;0===l&&f&&n&&(f.min=Math.min(f.min,n.min),f.max=Math.max(f.max,n.max));var p=new(Pe(c.type,"log")?e.LogarithmicAxis:e.NumericAxis)(f.min,f.max,D({},a,c),this.chartService);if(h){if(this.namedValueAxes[h])throw new Error("Value axis with name "+h+" is already defined");this.namedValueAxes[h]=p}p.axisIndex=l,s.push(p),this.appendAxis(p)}}var m=this.valueAxis||s[0];this.valueAxis=m,r?this.axisX=m:this.axisY=m},_dispatchEvent:function(t,e,i){var n=t._eventCoordinates(e),o=new C(n.x,n.y),r=this.pointPane(o),a=[],s=[];if(r){for(var l=r.axes,c=0;c<l.length;c++){var u=l[c];u.getValue?ri(s,u.getValue(o)):ri(a,u.getCategory(o))}0===a.length&&ri(a,this.categoryAxis.getCategory(o)),a.length>0&&s.length>0&&t.trigger(i,{element:P(e),originalEvent:e,category:Ne(a),value:Ne(s)})}},pointPane:function(t){for(var e=this.panes,i=0;i<e.length;i++){var n=e[i];if(n.contentBox.containsPoint(t))return n}},updateAxisOptions:function(t,e){ci(this.options,t,e),ci(this.originalOptions,t,e)}});function ci(t,e,i){var n=[].concat(e instanceof W?t.categoryAxis:t.valueAxis);D(n[e.axisIndex],i)}function ui(t,e,i){return Y(t,function(t){return 0===i&&!t.categoryAxis||t.categoryAxis===e})}j(li,{categoryAxis:{categories:[]},valueAxis:{}}),D(li.prototype,He);var hi=i.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(t){var e=[].concat(t);this.hide();for(var i=0;i<e.length;i++){var n=e[i];n&&n.toggleHighlight&&n.hasHighlight()&&(this.togglePointHighlight(n,!0),this._points.push(n))}},togglePointHighlight:function(t,e){var i=(t.options.highlight||{}).toggle;if(i){var n={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:di,visual:t.highlightVisual(),show:e};i(n),n._defaultPrevented||t.toggleHighlight(e)}else t.toggleHighlight(e)},hide:function(){for(var t=this._points;t.length;)this.togglePointHighlight(t.pop(),!1)},isHighlighted:function(t){for(var e=this._points,i=0;i<e.length;i++){var n=e[i];if(t===n)return!0}return!1}});function di(){this._defaultPrevented=!0}function fi(t,e){var i=(e||"").toLowerCase(),n=t.event,o="none"===i&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[i+"Key"];return o}function pi(t){for(var e={},i=0;i<t.length;i++){var n=t[i];n.axis.options.name&&(e[n.axis.options.name]={min:n.range.min,max:n.range.max})}return e}var mi=i.extend({init:function(t,e){this.plotArea=t,this.options=D({},this.options,e)},start:function(t){return this._active=fi(t,this.options.key),this._active},move:function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,p).concat(this._panAxes(t,m));if(e.length)return this.axisRanges=e,pi(e)}},end:function(){var t=this._active;return this._active=!1,t},pan:function(){var t=this.plotArea,e=this.axisRanges;if(e.length){for(var i=0;i<e.length;i++){var n=e[i];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}},destroy:function(){delete this.plotArea},_panAxes:function(t,e){var i=this.plotArea,n=-t[e].delta,o=(this.options.lock||"").toLowerCase(),r=[];if(0!==n&&(o||"").toLowerCase()!==e)for(var a=i.axes,s=0;s<a.length;s++){var l=a[s];if(e===p&&!l.options.vertical||e===m&&l.options.vertical){var c=l.pan(n);c&&(c.limitRange=!0,r.push({axis:l,range:c}))}}return r}});mi.prototype.options={key:"none",lock:"none"};var gi=i.extend({init:function(t,e){this.chart=t,this.options=D({},this.options,e),this.createElement()},createElement:function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},removeElement:function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},setStyles:function(t){Z(this._marquee,t)},start:function(t){if(fi(t,this.options.key)){var e=this.chart,i=e._eventCoordinates(t),n=this._zoomPane=e._plotArea.paneByPoint(i);if(n&&n.clipBox()){var o=n.clipBox().clone(),r=this._elementOffset();return o.translate(r.left,r.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},_elementOffset:function(){var t=this.chart.element,i=Z(t,["paddingLeft","paddingTop"]),n=i.paddingLeft,o=i.paddingTop,r=e.elementOffset(t);return{left:n+r.left,top:o+r.top}},move:function(t){var e=this._zoomPane;e&&this.setStyles(this._selectionPosition(t))},end:function(t){var e=this._zoomPane;if(e){var i=this._elementOffset(),n=this._selectionPosition(t);n.left-=i.left,n.top-=i.top;var o={x:n.left,y:n.top},r={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(o,r),this.removeElement(),delete this._zoomPane,pi(this.axisRanges)}},zoom:function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,i=0;i<t.length;i++){var n=t[i];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}},destroy:function(){this.removeElement(),delete this._marquee,delete this.chart},_updateAxisRanges:function(t,e){for(var i=(this.options.lock||"").toLowerCase(),n=[],o=this._zoomPane.axes,r=0;r<o.length;r++){var a=o[r],s=a.options.vertical;if((i!==p||s)&&(i!==m||!s)){var l=a.pointsRange(t,e);l&&n.push({axis:a,range:l})}}this.axisRanges=n},_selectionPosition:function(t){var e=this._zoomPaneClipBox,i={x:t.x.startLocation,y:t.y.startLocation},n=t.x.location,o=t.y.location,r=(this.options.lock||"").toLowerCase(),a=Math.min(i.x,n),s=Math.min(i.y,o),l=Math.abs(i.x-n),c=Math.abs(i.y-o);return r===p&&(a=e.x1,l=e.width()),r===m&&(s=e.y1,c=e.height()),n>e.x2&&(l=e.x2-i.x),n<e.x1&&(l=i.x-e.x1),o>e.y2&&(c=e.y2-i.y),o<e.y1&&(c=i.y-e.y1),{left:Math.max(a,e.x1),top:Math.max(s,e.y1),width:l,height:c}}});gi.prototype.options={key:"shift",lock:"none"};var vi=i.extend({init:function(t,e){this.chart=t,this.options=D({},this.options,e)},updateRanges:function(t){for(var e=(this.options.lock||"").toLowerCase(),i=[],n=this.chart._plotArea.axes,o=0;o<n.length;o++){var r=n[o],a=r.options.vertical;if((e!==p||a)&&(e!==m||!a)){var s=r.zoomRange(-t);s&&i.push({axis:r,range:s})}}return this.axisRanges=i,pi(i)},zoom:function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,i=0;i<t.length;i++){var n=t[i];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}},destroy:function(){delete this.chart}}),bi=S.extend({init:function(t,e){S.fn.init.call(this,t),this.chartService=e},render:function(){var t=this.children,e=this.options,i=e.vertical;this.visual=new nt.Layout(null,{spacing:i?0:e.spacing,lineSpacing:i?e.spacing:0,orientation:i?"vertical":"horizontal",reverse:e.rtl,alignItems:i?"start":"center"});for(var n=0;n<t.length;n++){var o=t[n];o.reflow(new A),o.renderVisual()}},reflow:function(t){this.visual.rect(t.toRect()),this.visual.reflow();var i=this.visual.clippedBBox();this.box=i?e.rectToBox(i):new A},renderVisual:function(){this.addVisual()},createVisual:function(){}}),ki=G.extend({init:function(t){G.fn.init.call(this,t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())},createContainer:function(){this.container=new e.FloatElement({vertical:!1,wrap:!1,align:l,spacing:this.options.spacing}),this.append(this.container)},createMarker:function(){this.container.append(new F(this.markerOptions()))},markerOptions:function(){var t=this.options,e=t.markerColor;return D({},t.markers,{background:e,border:{color:e}})},createLabel:function(){var t=this.options,e=D({},t.labels);this.container.append(new L(t.text,e))},renderComplete:function(){G.fn.renderComplete.call(this);var t=this.options.cursor||{},e=this._itemOverlay=ot.fromRect(this.container.box.toRect(),{fill:{color:d,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(e)},click:function(t,e){var i=this.eventArgs(e);t.trigger("legendItemClick",i)||e.preventDefault()},hover:function(t,e){var i=this.eventArgs(e);return t.trigger("legendItemHover",i)||(e.preventDefault(),t._legendItemHover(i.seriesIndex,i.pointIndex)),!0},leave:function(t){t._unsetActivePoint()},eventArgs:function(t){var e=this.options;return{element:P(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},renderVisual:function(){var t=this,e=this.options,i=e.visual;i?(this.visual=i({active:e.active,series:e.series,sender:this.getSender(),pointIndex:e.pointIndex,options:{markers:this.markerOptions(),labels:e.labels},createVisual:function(){t.createVisual(),t.renderChildren(),t.renderComplete();var e=t.visual;return delete t.visual,e}}),this.addVisual()):G.fn.renderVisual.call(this)}}),yi=S.extend({init:function(t,e){void 0===e&&(e={}),S.fn.init.call(this,t),this.chartService=e,M(this.options.position,[c,g,u,h,"custom"])||(this.options.position=g),this.createContainer(),this.createItems()},createContainer:function(){var t=this.options,e=t.position,i=t.align,n=e,o=l;"custom"===e?n=h:M(e,[c,u])?(n="start"===i?h:"end"===i?g:l,o=e):i&&("start"===i?o=c:"end"===i&&(o=u)),this.container=new G({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:n,zIndex:t.zIndex,shrinkToFit:!0}),this.append(this.container)},createItems:function(){var t=this.getService(),e=this.options,i=this.isVertical(),n=new bi({vertical:i,spacing:e.spacing,rtl:t.rtl},t),o=e.items;e.reverse&&(o=o.slice(0).reverse());for(var r=o.length,a=0;a<r;a++){var s=o[a];n.append(new ki(D({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,s)))}n.render(),this.container.append(n)},isVertical:function(){var t=this.options,e=t.orientation,i=t.position,n="custom"===i&&"horizontal"!==e||(w(e)?"horizontal"!==e:M(i,[h,g]));return n},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(t){var e=this.options,i=t.clone();this.hasItems()?"custom"===e.position?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i):this.box=i},containerReflow:function(t){var e=this.options,i=this.container,n=e.position,o=e.width,r=e.height,a=n===c||n===u?p:m,s=this.isVertical(),l=t.clone(),d=t.clone();n!==h&&n!==g||(d.y1=l.y1=0),s&&r?(d.y2=d.y1+r,d.align(l,m,i.options.vAlign)):!s&&o&&(d.x2=d.x1+o,d.align(l,p,i.options.align)),i.reflow(d);var f=(d=i.box).clone();(e.offsetX||e.offsetY)&&(d.translate(e.offsetX,e.offsetY),this.container.reflow(d)),f[a+1]=t[a+1],f[a+2]=t[a+2],this.box=f},containerCustomReflow:function(t){var e=this.options,i=this.container,n=e.offsetX,o=e.offsetY,r=e.width,a=e.height,s=this.isVertical(),l=t.clone();s&&a?l.y2=l.y1+a:!s&&r&&(l.x2=l.x1+r),i.reflow(l),l=i.box,i.reflow(new A(n,o,n+l.width(),o+l.height()))},renderVisual:function(){this.hasItems()&&S.fn.renderVisual.call(this)}});j(yi,{position:g,items:[],offsetX:0,offsetY:0,margin:N(5),padding:N(5),border:{color:v,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:h,vAlign:l}});var wi=i.extend({init:function(){this._registry=[]},register:function(t,e){this._registry.push({type:t,seriesTypes:e})},create:function(t,e,i){for(var n,o=this._registry,r=o[0],a=0;a<o.length;a++){var s=o[a];if((n=Re(t,s.seriesTypes)).length>0){r=s;break}}return new r.type(n,e,i)}});function _i(t){var e=document.createElement("div");return t&&(e.className=t),e}function xi(t){for(var e=t;e&&!X(e,"k-handle");)e=e.parentNode;return e}wi.current=new wi;var Si=i.extend({init:function(t,e,i,n){var o=t.element;this.options=D({},this.options,i),this.chart=t,this.observer=n,this.chartElement=o,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof K,this.initOptions(),this.options.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())},createElements:function(){var t=this.options,e=this.wrapper=_i("k-selector");Z(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var i=this.selection=_i("k-selection");this.leftMask=_i("k-mask"),this.rightMask=_i("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(i),i.appendChild(_i("k-selection-bg"));var n=this.leftHandle=_i("k-handle k-left-handle"),o=this.rightHandle=_i("k-handle k-right-handle");n.appendChild(_i()),o.appendChild(_i()),i.appendChild(n),i.appendChild(o),this.chartElement.appendChild(e);var r=Z(i,["borderLeftWidth","borderRightWidth","height"]),a=Z(n,"height").height,s=Z(o,"height").height;t.selection={border:{left:r.borderLeftWidth,right:r.borderRightWidth}},Z(n,{top:(r.height-a)/2}),Z(o,{top:(r.height-s)/2}),e.style.cssText=e.style.cssText},bindEvents:function(){var t;this._mousewheelHandler=!1!==this.options.mousewheel?this._mousewheel.bind(this):Ci,J(this.wrapper,((t={})[Dt]=this._mousewheelHandler,t)),this._domEvents=$.DomEventsBuilder.create(this.wrapper,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},initOptions:function(){var t=this.options,e=this.categoryAxis,i=e.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&D(t,{min:H(n,t.min),max:H(n,t.max),from:H(n,t.from),to:H(n,t.to)});var o=Z(this.chartElement,["paddingLeft","paddingTop"]),r=o.paddingLeft,a=o.paddingTop;this.options=D({},{width:i.width(),height:i.height()+.1,padding:{left:r,top:a},offset:{left:i.x1+r,top:i.y1+a},from:t.min,to:t.max},t)},destroy:function(){var t;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(tt(this.wrapper,((t={})[Dt]=this._mousewheelHandler,t)),this.chartElement.removeChild(this.wrapper))},_rangeEventArgs:function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},_start:function(t){var e=this.options,i=P(t);if(!this._state&&i){this.chart._unsetActivePoint(),this._state={moveTarget:xi(i)||i,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};var n=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger("selectStart",n)&&(this._state=null)}},_press:function(t){var i;(i=this._state?this._state.moveTarget:xi(P(t)))&&e.addClass(i,"k-handle-active")},_move:function(t){if(this._state){var e=this._state,i=this.options,n=this.categoryAxis.options,o=e.range,r=e.moveTarget,a=n.reverse,s=this._index(i.from),l=this._index(i.to),c=this._index(i.min),u=this._index(i.max),h=e.startLocation-t.x.location,d={from:o.from,to:o.to},f=o.to-o.from,p=Z(this.wrapper,"width").width/(n.categories.length-1),m=Math.round(h/p)*(a?-1:1);if(r){var g=X(r,"k-left-handle"),v=X(r,"k-right-handle");X(r,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(c,s-m),u-f),o.to=Math.min(o.from+f,u)):g&&!a||v&&a?(o.from=Math.min(Math.max(c,s-m),u-1),o.to=Math.max(o.from+1,o.to)):(g&&a||v&&!a)&&(o.to=Math.min(Math.max(c+1,l-m),u),o.from=Math.min(o.to-1,o.from)),o.from===d.from&&o.to===d.to||(this.move(o.from,o.to),this.trigger("select",this._rangeEventArgs(o)))}}},_end:function(){if(this._state){var t=this._state.moveTarget;t&&e.removeClass(t,"k-handle-active");var i=this._state.range;this.set(i.from,i.to),this.trigger("selectEnd",this._rangeEventArgs(i)),delete this._state}},_tap:function(t){var e=this.options,i=this.categoryAxis,n=this.chart._eventCoordinates(t),o=i.pointCategoryIndex(new C(n.x,i.box.y1)),r=this._index(e.from),a=this._index(e.to),s=this._index(e.min),l=this._index(e.max),c=a-r,u=r+c/2,h={},d=3===t.event.which,f=Math.round(u-o);this._state||d||(this.chart._unsetActivePoint(),i.options.justified||f--,h.from=Math.min(Math.max(s,r-f),l-c),h.to=Math.min(h.from+c,l),this._start(t),this._state&&(this._state.range=h,this.trigger("select",this._rangeEventArgs(h)),this._end()))},_mousewheel:function(t){var i=this,n=e.mousewheelDelta(t);if(this._start({target:this.selection}),this._state){var o=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(n)>1&&(n*=3),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger("select",{axis:this.categoryAxis.options,delta:n,originalEvent:t,from:this._value(o.from),to:this._value(o.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){i._end()},150)}},_gesturestart:function(t){var e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var i=this._rangeEventArgs(this._state.range);this.trigger("selectStart",i)?this._state=null:t.preventDefault()},_gestureend:function(){this._state&&(this.trigger("selectEnd",this._rangeEventArgs(this._state.range)),delete this._state)},_gesturechange:function(t){var e=this.chart,i=this._state,n=this.options,o=this.categoryAxis,r=i.range,a=e._toModelCoordinates(t.touches[0].x.location).x,s=e._toModelCoordinates(t.touches[1].x.location).x,l=Math.min(a,s),c=Math.max(a,s);t.preventDefault(),r.from=o.pointCategoryIndex(new C(l))||n.min,r.to=o.pointCategoryIndex(new C(c))||n.max,this.move(r.from,r.to),this.trigger("select",this._rangeEventArgs(r))},_index:function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},_value:function(t){var e=this.categoryAxis.options.categories,i=t;return this._dateAxis&&(i=t>e.length-1?this.options.max:e[Math.ceil(t)]),i},_slot:function(t){var e=this.categoryAxis,i=this._index(t);return e.getSlot(i,i,!0)},move:function(t,e){var i=this.options,n=this.categoryAxis.options.reverse,o=i.offset,r=i.padding,a=i.selection.border,s=n?e:t,l=n?t:e,c="x"+(n?2:1),u=this._slot(s),h=Q(u[c]-o.left+r.left);Z(this.leftMask,{width:h}),Z(this.selection,{left:h}),u=this._slot(l);var d=Q(i.width-(u[c]-o.left+r.left));Z(this.rightMask,{width:d});var f=i.width-d;f!==i.width&&(f+=a.right),Z(this.rightMask,{left:f}),Z(this.selection,{width:Math.max(i.width-(h+d)-a.right,0)})},set:function(t,e){var i=this.options,n=this._index(i.min),o=this._index(i.max),r=et(this._index(t),n,o),a=et(this._index(e),r+1,o);i.visible&&this.move(r,a),i.from=this._value(r),i.to=this._value(a)},expand:function(t){var e=this.options,i=this._index(e.min),n=this._index(e.max),o=e.mousewheel.zoom,r=this._index(e.from),a=this._index(e.to),s={from:r,to:a},l=D({},s);if(this._state&&(s=this._state.range),o!==g&&(s.from=et(et(r-t,0,a-1),i,n)),o!==h&&(s.to=et(et(a+t,s.from+1,n),i,n)),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},trigger:function(t,e){return(this.observer||this.chart).trigger(t,e)}});function Ci(t){t.stopPropagation()}j(Si,{visible:!0,mousewheel:{zoom:"both"},min:a,max:r});var Ai=Te.extend({show:function(t){if(t&&t.tooltipAnchor&&(!this._current||this._current!==t)){var e=D({},this.options,t.options.tooltip),i=t.tooltipAnchor();i?(this._current=t,Te.fn.show.call(this,{point:t,anchor:i},e,t)):this.hide()}},hide:function(){delete this._current,Te.fn.hide.call(this)}}),Ti=Te.extend({init:function(t,e){Te.fn.init.call(this,t.chartService,e),this.plotArea=t,this.formatService=t.chartService.format},showAt:function(t,e){var i=Y(t,function(t){var e=t.series.tooltip,i=e&&!1===e.visible;return!i});if(i.length>0){var n=i[0],o=this.plotArea.categoryAxis.getSlot(n.categoryIx),r=e?this._slotAnchor(e,o):this._defaultAnchor(n,o);this.show({anchor:r,shared:!0,points:t,category:n.category,categoryText:this.formatService.auto(this.options.categoryFormat,n.category),series:this.plotArea.series},this.options)}},_slotAnchor:function(t,e){var i=this.plotArea.categoryAxis;return i.options.vertical||(t.x=e.center().x),{point:t,align:{horizontal:"left",vertical:"center"}}},_defaultAnchor:function(t,e){var i=t.owner.pane.chartsBox(),n=this.plotArea.categoryAxis.options.vertical,o=i.center(),r=e.center();return{point:n?new C(o.x,r.y):new C(r.x,o.y),align:{horizontal:"center",vertical:"center"}}}});j(Ti,{categoryFormat:"{0:d}"});var ji=rt.extend({setup:function(){var t=this.element,e=this.options,i=t.bbox();if(i){this.origin=e.origin;var n=e.vertical?m:p,o=this.fromScale=new ut(1,1);o[n]=St,t.transform(ht().scale(o.x,o.y))}else this.abort()},step:function(t){var i=e.interpolateValue(this.fromScale.x,1,t),n=e.interpolateValue(this.fromScale.y,1,t);this.element.transform(ht().scale(i,n,this.origin))},abort:function(){rt.fn.abort.call(this),this.element.transform(null)}});j(ji,{duration:600}),at.current.register(At,ji);var Mi=rt.extend({setup:function(){var t=this.center=this.element.bbox().center();this.element.transform(ht().scale(St,St,t))},step:function(t){this.element.transform(ht().scale(t,t,this.center))}});j(Mi,{easing:"easeOutElastic"}),at.current.register("bubble",Mi);var zi=rt.extend({setup:function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},step:function(t){this.element.opacity(t*this.fadeTo)}});j(zi,{duration:200,easing:"linear"}),at.current.register(xt,zi);var Ei=rt.extend({setup:function(){this.element.transform(ht().scale(St,St,this.options.center))},step:function(t){this.element.transform(ht().scale(t,t,this.options.center))}});j(Ei,{easing:"easeOutElastic",duration:600}),at.current.register(Mt,Ei);var Ii=we.extend({render:function(){we.fn.render.call(this),this.renderSegments()},createSegment:function(t,e,i){var n=e.style;return new("smooth"===n?Yt:Ut)(t,e,i)},animationPoints:function(){var t=we.fn.animationPoints.call(this);return t.concat(this._segments)},createMissingValue:function(t,e){if(e===Ct){var i={x:t.x,y:t.y};return ye(i.x)||(i.x=0),ye(i.y)||(i.y=0),i}}});D(Ii.prototype,Kt);var Di=Be.extend({initFields:function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new oe,this.yAxisRangeTracker=new oe},render:function(t){void 0===t&&(t=this.panes);for(var e=this.groupSeriesByPane(),i=0;i<t.length;i++){var n=t[i],o=e[n.options.name||"default"]||[];this.addToLegend(o);var r=this.filterVisibleSeries(o);r&&(this.createScatterChart(Re(r,"scatter"),n),this.createScatterLineChart(Re(r,"scatterLine"),n),this.createBubbleChart(Re(r,"bubble"),n))}this.createAxes(t)},appendChart:function(t,e){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),Be.fn.appendChart.call(this,t,e)},removeAxis:function(t){var e=t.options.name;Be.fn.removeAxis.call(this,t),t.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},seriesPaneName:function(t){var e=this.options,i=t.xAxis,n=[].concat(e.xAxis),o=Y(n,function(t){return t.name===i})[0],r=t.yAxis,a=[].concat(e.yAxis),s=Y(a,function(t){return t.name===r})[0],l=e.panes||[{}],c=l[0].name||"default",u=(o||{}).pane||(s||{}).pane||c;return u},createScatterChart:function(t,e){t.length>0&&this.appendChart(new we(this,{series:t,clip:e.options.clip}),e)},createScatterLineChart:function(t,e){t.length>0&&this.appendChart(new Ii(this,{series:t,clip:e.options.clip}),e)},createBubbleChart:function(t,e){t.length>0&&this.appendChart(new xe(this,{series:t,clip:e.options.clip}),e)},createXYAxis:function(t,i,n){for(var o,r=t.name,a=i?this.namedYAxes:this.namedXAxes,s=i?this.yAxisRangeTracker:this.xAxisRangeTracker,l=D({reverse:!i&&this.chartService.rtl},t,{vertical:i}),c=Pe(l.type,"log"),u=s.query(),h=c?{min:.1,max:1}:{min:0,max:1},d=s.query(r)||u||h,f=[l.min,l.max],p=this.series,m=0;m<p.length;m++){var g=p[m],v=g[i?"yAxis":"xAxis"];if(v===l.name||0===n&&!v){var k=bt.current.bindPoint(g,0).valueFields;f.push(k[i?"y":"x"]);break}}0===n&&u&&(d.min=Math.min(d.min,u.min),d.max=Math.max(d.max,u.max));for(var y=0;y<f.length;y++)if(f[y]instanceof Date){o=!0;break}var w=new(Pe(l.type,b)||!l.type&&o?e.DateValueAxis:c?e.LogarithmicAxis:e.NumericAxis)(d.min,d.max,l,this.chartService);if(w.axisIndex=n,r){if(a[r])throw new Error((i?"Y":"X")+" axis with name "+r+" is already defined");a[r]=w}return this.appendAxis(w),w},createAxes:function(t){for(var e=this.options,i=[].concat(e.xAxis),n=[],o=[].concat(e.yAxis),r=[],a=0;a<i.length;a++){var s=this.findPane(i[a].pane);M(s,t)&&n.push(this.createXYAxis(i[a],!1,a))}for(var l=0;l<o.length;l++){var c=this.findPane(o[l].pane);M(c,t)&&r.push(this.createXYAxis(o[l],!0,l))}this.axisX=this.axisX||n[0],this.axisY=this.axisY||r[0]},_dispatchEvent:function(t,e,i){for(var n=t._eventCoordinates(e),o=new C(n.x,n.y),r=this.axes,a=r.length,s=[],l=[],c=0;c<a;c++){var u=r[c],h=u.options.vertical?l:s,d=u.getValue(o);null!==d&&h.push(d)}s.length>0&&l.length>0&&t.trigger(i,{element:P(e),originalEvent:e,x:Ne(s),y:Ne(l)})},updateAxisOptions:function(t,e){var i=t.options.vertical,n=this.groupAxes(this.panes),o=(i?n.y:n.x).indexOf(t);Oi(this.options,o,i,e),Oi(this.originalOptions,o,i,e)}});function Oi(t,e,i,n){var o=[].concat(i?t.yAxis:t.xAxis)[e];D(o,n)}j(Di,{xAxis:{},yAxis:{}}),D(Di.prototype,He);var Pi=S.extend({init:function(t,e,i){S.fn.init.call(this,i),this.value=t,this.sector=e},render:function(){var t=this.options.labels,e=this.owner.chartService,i=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var n=R(t);if(n?i=n({dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}):t.format&&(i=e.format.auto(t.format,i)),t.visible&&(i||0===i)){if(t.position===l||"insideEnd"===t.position){if(!t.color){var o=new lt(this.options.color).percBrightness();t.color=o>180?v:d}t.background||(t.background=this.options.color)}else{var r=e.theme.seriesDefaults.labels;t.color=t.color||r.color,t.background=t.background||r.background}this.label=new L(i,D({},t,{align:l,vAlign:"",animation:{type:xt,delay:this.animationDelay}})),this.append(this.label)}}},reflow:function(t){this.render(),this.box=t,this.reflowLabel()},reflowLabel:function(){var t=this.options.labels,e=this.label,i=this.sector.clone(),n=t.distance,o=i.middle();if(e){var r,a=e.box.height(),s=e.box.width();if(t.position===l)i.radius=Math.abs((i.radius-a)/2)+a,r=i.point(o),e.reflow(new A(r.x,r.y-a/2,r.x,r.y));else if("insideEnd"===t.position)i.radius=i.radius-a/2,r=i.point(o),e.reflow(new A(r.x,r.y-a/2,r.x,r.y));else{var c;(r=i.clone().expand(n).point(o)).x>=i.center.x?(c=r.x+s,e.orientation=g):(c=r.x-s,e.orientation=h),e.reflow(new A(c,r.y-a,r.x,r.y))}}},createVisual:function(){var t=this,e=this.sector,i=this.options;if(S.fn.createVisual.call(this),this.value)if(i.visual){var n=(e.startAngle+180)%360,o=i.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new ut(e.center.x,e.center.y),radius:e.radius,innerRadius:e.innerRadius,startAngle:n,endAngle:n+e.angle,options:i,sender:this.getSender(),createVisual:function(){var e=new st;return t.createSegmentVisual(e),e}});o&&this.visual.append(o)}else this.createSegmentVisual(this.visual)},createSegmentVisual:function(t){var e=this.sector,i=this.options,n=i.border||{},o=n.width>0?{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}:{},r=i.color,a={color:r,opacity:i.opacity},s=this.createSegment(e,D({fill:a,stroke:{opacity:i.opacity},zIndex:i.zIndex},o));t.append(s),ae(i)&&t.append(this.createGradientOverlay(s,{baseColor:r,fallbackFill:a},D({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},i.overlay)))},createSegment:function(t,i){return i.singleSegment?new nt.Circle(new ct.Circle(new ut(t.center.x,t.center.y),t.radius),i):e.ShapeBuilder.current.createRing(t,i)},createAnimation:function(){var t=this.options,e=this.sector.center;D(t,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),S.fn.createAnimation.call(this)},createHighlight:function(t){var e=this.options.highlight||{},i=e.border||{};return this.createSegment(this.sector,D({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new ut(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},tooltipAnchor:function(){var t=this.sector.clone().expand(5),i=t.middle(),n=t.point(i);return{point:n,align:function(t){var i,n,o=e.rad(t),r=Q(Math.sin(o),k),a=Q(Math.cos(o),k);return i=Math.abs(r)>Li?l:a<0?g:h,n=Math.abs(r)<Ri?l:r<0?u:c,{horizontal:i,vertical:n}}(i+180)}},formatValue:function(t){return this.owner.formatPointValue(this,t)}}),Ri=Q(e.rad(30),k),Li=Q(e.rad(60),k);j(Pi,{color:d,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:o.DEFAULT_FONT,margin:N(.5),align:f,zIndex:1,position:"outsideEnd"},animation:{type:Mt},highlight:{visible:!0,border:{width:1}},visible:!0}),D(Pi.prototype,qt);var Fi={createLegendItem:function(t,e,i){var n=this.options.legend||{},o=n.labels||{},r=n.inactiveItems||{},a=r.labels||{};if(i&&!1!==i.visibleInLegend){var s,l,c=!1!==i.visible,u=c?R(o):R(a)||R(o),h=i.category;u&&(h=u({text:h,series:i.series,dataItem:i.dataItem,percentage:i.percentage,value:t})),c?(s={},l=e.color):(s={color:a.color,font:a.font},l=(r.markers||{}).color),ye(h)&&""!==h&&this.legendItems.push({pointIndex:i.index,text:h,series:i.series,markerColor:l,labels:s})}}},Ni=S.extend({init:function(t,e){S.fn.init.call(this,e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},traverseDataPoints:function(t){var i=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);for(var o=n.length,r=i.series,a=r.length,s=0;s<a;s++){var c=r[s],u=c.data,h=Oe(c),d=h.total,f=h.points,p=h.count,m=360/d,g=void 0;isFinite(m)||(g=360/p);var v=void 0;v=w(c.startAngle)?c.startAngle:i.startAngle,s!==a-1&&"outsideEnd"===c.labels.position&&(c.labels.position=l);for(var b=0;b<f.length;b++){var k=f[b];if(k){var y=k.fields,_=k.value,x=k.visible,S=0!==_?g||_*m:0,C=1!==u.length&&Boolean(y.explode);z(c.color)||(c.color=y.color||n[b%o]),t(k.valueFields.value,new e.Ring(null,0,0,v,S),{owner:this,category:w(y.category)?y.category:"",index:b,series:c,seriesIx:s,dataItem:u[b],percentage:0!==d?_/d:0,explode:C,visibleInLegend:y.visibleInLegend,visible:x,zIndex:a-s,animationDelay:this.animationDelay(b,s,a)}),!1!==x&&(v+=S)}}}},evalSegmentOptions:function(t,e,i){var n=i.series;Ft(t,{value:e,series:n,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:n._defaults,excluded:["data","content","template","visual","toggle"]})},addValue:function(e,i,n){var o=D({},n.series,{index:n.index});if(this.evalSegmentOptions(o,e,n),this.createLegendItem(e,o,n),!1!==n.visible){var r=new Pi(e,i,o);t.extend(r,n),this.append(r),this.points.push(r)}},reflow:function(t){var e=this.options,i=this.points,n=this.seriesConfigs;void 0===n&&(n=[]);var o=i.length,r=t.clone(),a=Math.min(r.width(),r.height()),s=a/2,l=a-.85*a,c=new A(r.x1,r.y1,r.x1+a,r.y1+a),u=c.center(),h=r.center(),d=e.series.length,f=[],p=[],m=E(e.padding,l);m=m>s-5?s-5:m,c.translate(h.x-u.x,h.y-u.y);for(var v=s-m,b=new C(v+c.x1+m,v+c.y1+m),k=0;k<o;k++){var y=i[k],w=y.sector,_=y.seriesIx;if(w.radius=v,w.center=b,n.length){var x=n[_];w.innerRadius=x.innerRadius,w.radius=x.radius}_===d-1&&y.explode&&(w.center=w.clone().setRadius(.15*w.radius).point(w.middle())),y.reflow(c);var S=y.label;S&&"outsideEnd"===S.options.position&&_===d-1&&(S.orientation===g?p.push(S):f.push(S))}f.length>0&&(f.sort(this.labelComparator(!0)),this.leftLabelsReflow(f)),p.length>0&&(p.sort(this.labelComparator(!1)),this.rightLabelsReflow(p)),this.box=c},leftLabelsReflow:function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},rightLabelsReflow:function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},distanceBetweenLabels:function(t){var e=O(this.points),i=e.sector,n=t.length-1,o=i.radius+e.options.labels.distance,r=[],a=t[0].box,s=Q(a.y1-(i.center.y-o-a.height()-a.height()/2));r.push(s);for(var l=0;l<n;l++){var c=t[l+1].box;a=t[l].box,s=Q(c.y1-a.y2),r.push(s)}return s=Q(i.center.y+o-t[n].box.y2-t[n].box.height()/2),r.push(s),r},distributeLabels:function(t,e){for(var i,n,o,r=t.length,a=0;a<r;a++)for(o=-t[a],i=n=a;o>0&&(i>=0||n<r);)o=this._takeDistance(t,a,--i,o),o=this._takeDistance(t,a,++n,o);this.reflowLabels(t,e)},_takeDistance:function(t,e,i,n){var o=n;if(t[i]>0){var r=Math.min(t[i],o);o-=r,t[i]-=r,t[e]+=r}return o},reflowLabels:function(t,e){var i,n=O(this.points),o=n.sector,r=n.options.labels,a=e.length,s=r.distance,l=o.center.y-(o.radius+s)-e[0].box.height();t[0]+=2;for(var c=0;c<a;c++){var u=e[c],h=u.box;l+=t[c],i=this.hAlignLabel(h.x2,o.clone().expand(s),l,l+h.height(),u.orientation===g),u.orientation===g?(r.align!==f&&(i=o.radius+o.center.x+s),u.reflow(new A(i+h.width(),l,i,l))):(r.align!==f&&(i=o.center.x-o.radius-s),u.reflow(new A(i-h.width(),l,i,l))),l+=h.height()}},createVisual:function(){var t=this.options.connectors,e=this.points,i=e.length;S.fn.createVisual.call(this),this._connectorLines=[];for(var n=0;n<i;n++){var o=e[n],r=o.sector,a=o.label,s=r.middle(),l=(o.options.connectors||{}).color||t.color;if(a){var c=new ot({stroke:{color:l,width:t.width},animation:{type:xt,delay:o.animationDelay}});if("outsideEnd"===a.options.position){var u=a.box,h=r.center,d=r.point(s),f=new C(u.x1,u.center().y),p=void 0,m=void 0,v=void 0;d=r.clone().expand(t.padding).point(s),c.moveTo(d.x,d.y),a.orientation===g?(m=new C(u.x1-t.padding,u.center().y),v=Bi(h,d,f,m),f=new C(m.x-4,m.y),(v=v||f).x=Math.min(v.x,f.x),this.pointInCircle(v,r.center,r.radius+4)||v.x<r.center.x?(p=r.center.x+r.radius+4,o.options.labels.align!==Tt?p<f.x?c.lineTo(p,d.y):c.lineTo(d.x+8,d.y):c.lineTo(p,d.y),c.lineTo(f.x,m.y)):(v.y=m.y,c.lineTo(v.x,v.y))):(m=new C(u.x2+t.padding,u.center().y),v=Bi(h,d,f,m),f=new C(m.x+4,m.y),(v=v||f).x=Math.max(v.x,f.x),this.pointInCircle(v,r.center,r.radius+4)||v.x>r.center.x?(p=r.center.x-r.radius-4,o.options.labels.align!==Tt?p>f.x?c.lineTo(p,d.y):c.lineTo(d.x-8,d.y):c.lineTo(p,d.y),c.lineTo(f.x,m.y)):(v.y=m.y,c.lineTo(v.x,v.y))),c.lineTo(m.x,m.y),this._connectorLines.push(c),this.visual.append(c)}}}},labelComparator:function(t){var e=t?-1:1;return function(t,i){var n=(t.parent.sector.middle()+270)%360,o=(i.parent.sector.middle()+270)%360;return(n-o)*e}},hAlignLabel:function(t,e,i,n,o){var r=e.radius,a=e.center,s=a.x,l=a.y,c=Math.min(Math.abs(l-i),Math.abs(l-n));return c>r?t:s+Math.sqrt(r*r-c*c)*(o?1:-1)},pointInCircle:function(t,e,i){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(i,2)},formatPointValue:function(t,e){return this.chartService.format.auto(e,t.value)},animationDelay:function(t){return 70*t}});function Bi(t,e,i,n){var o,r=(n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x),a=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!==a){var s=r/a;o=new C(t.x+s*(e.x-t.x),t.y+s*(e.y-t.y))}return o}j(Ni,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),D(Ni.prototype,Fi);var qi=Be.extend({render:function(){this.createPieChart(this.series)},createPieChart:function(t){var e=t[0],i=new Ni(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)},appendChart:function(t,e){Be.fn.appendChart.call(this,t,e),q(this.options.legend.items,t.legendItems)}}),Vi=Pi.extend({reflowLabel:function(){var t=this.options.labels,e=this.label,i=this.sector.clone(),n=i.middle();if(e){var o=e.box.height();if(t.position===l){i.radius-=(i.radius-i.innerRadius)/2;var r=i.point(n);e.reflow(new A(r.x,r.y-o/2,r.x,r.y))}else Pi.fn.reflowLabel.call(this)}},createSegment:function(t,i){return e.ShapeBuilder.current.createRing(t,i)}});j(Vi,{overlay:{gradient:"roundedGlass"},labels:{position:l},animation:{type:Mt}}),D(Vi.prototype,qt);var Hi=Ni.extend({addValue:function(e,i,n){var o=D({},n.series,{index:n.index});if(this.evalSegmentOptions(o,e,n),this.createLegendItem(e,o,n),e&&!1!==n.visible){var r=new Vi(e,i,o);t.extend(r,n),this.append(r),this.points.push(r)}},reflow:function(t){for(var e,i=this.options,n=t.clone(),o=Math.min(n.width(),n.height()),r=o/2,a=o-.85*o,s=i.series,l=s.length,c=E(i.padding,a),u=r-(c=c>r-5?r-5:c),h=0,d=0;d<l;d++){var f=s[d];0===d&&w(f.holeSize)&&(e=f.holeSize,u-=f.holeSize),w(f.size)?u-=f.size:h++,w(f.margin)&&d!==l-1&&(u-=f.margin)}if(!w(e)){var p=(r-c)/(l+.75);u-=e=.75*p}var m,g,v=e,b=0;this.seriesConfigs=[];for(var k=0;k<l;k++){var y=s[k];m=E(y.size,u/h),g=(v+=b)+m,this.seriesConfigs.push({innerRadius:v,radius:g}),b=y.margin||0,v=g}Ni.fn.reflow.call(this,t)},animationDelay:function(t,e,i){return 50*t+600*(e+1)/(i+1)}});j(Hi,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var Ui=qi.extend({render:function(){this.createDonutChart(this.series)},createDonutChart:function(t){var e=t[0],i=new Hi(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}}),Wi=Be.extend({initFields:function(){this.valueAxisRangeTracker=new oe},render:function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},alignAxes:function(){var t=this.valueAxis,e=t.range(),i=t.options.reverse?e.max:e.min,n=t.getSlot(i),o=this.polarAxis.getSlot(0).center,r=t.box.translate(o.x-n.x1,o.y-n.y1);t.reflow(r)},createValueAxis:function(){var t,i,n=this.valueAxisRangeTracker,o=n.query(),r=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});"log"===r.type?(t=e.RadarLogarithmicAxis,i={min:.1,max:1}):(t=e.RadarNumericAxis,i={min:0,max:1});var a=n.query(name)||o||i;a&&o&&(a.min=Math.min(a.min,o.min),a.max=Math.max(a.max,o.max));var s=new t(a.min,a.max,r,this.chartService);this.valueAxis=s,this.appendAxis(s)},reflowAxes:function(){var t=this.options.plotArea,e=this.valueAxis,i=this.polarAxis,n=this.box,o=.15*Math.min(n.width(),n.height()),r=N(t.padding||{},o),a=n.clone().unpad(r),s=a.clone();s.y2=s.y1+Math.min(s.width(),s.height()),s.align(a,m,l);var c=s.clone().shrink(0,s.height()/2);i.reflow(s),e.reflow(c);var u=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:u})),this.axisBox=s,this.alignAxes(s)},backgroundBox:function(){return this.box}}),Gi=we.extend({pointSlot:function(t,e){var i=t.center.y-e.y1,n=C.onCircle(t.center,t.startAngle,i);return new A(n.x,n.y,n.x,n.y)}});j(Gi,{clip:!1});var Qi=Ii.extend({});Qi.prototype.pointSlot=Gi.prototype.pointSlot,j(Qi,{clip:!1});var Yi=ie.extend({fillToAxes:function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},_polarAxisCenter:function(){var t=this.parent.plotArea.polarAxis,e=t.box.center();return e},strokeSegments:function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),i=new B(!1),n=this.points();n.push(e),(t=this._strokeSegments=i.process(n)).pop()}return t}}),Ki=te.extend({fillToAxes:function(t){var e=this.parent.plotArea.polarAxis,i=e.box.center(),n=new ct.Segment([i.x,i.y]);t.segments.unshift(n),t.segments.push(n)}}),Zi=Qi.extend({createSegment:function(t,e,i){var n=(e.line||{}).style;return"smooth"===n?new Yi(t,e,i):new Ki(t,e,i)},createMissingValue:function(t,e){var i;return ye(t.x)&&"interpolate"!==e&&(i={x:t.x,y:t.y},e===Ct&&(i.y=0)),i},seriesMissingValues:function(t){return t.missingValues||Ct},_hasMissingValuesGap:function(){for(var t=this.options.series,e=0;e<t.length;e++)if("gap"===this.seriesMissingValues(t[e]))return!0},sortPoints:function(t){if(t.sort(Xi),this._hasMissingValuesGap())for(var e=0;e<t.length;e++){var i=t[e];if(i){var n=i.value;ye(n.y)||"gap"!==this.seriesMissingValues(i.series)||delete t[e]}}return t}});function Xi(t,e){return t.value.x-e.value.x}var Ji=Wi.extend({createPolarAxis:function(){var t=new e.PolarAxis(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},valueAxisOptions:function(t){return D(t,{majorGridLines:{type:y},minorGridLines:{type:y}},this.options.yAxis)},createValueAxis:function(){Wi.fn.createValueAxis.call(this),this.axisY=this.valueAxis},appendChart:function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Be.prototype.appendChart.call(this,t,e)},createCharts:function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(Re(t,["polarLine"]),e),this.createScatterChart(Re(t,["polarScatter"]),e),this.createAreaChart(Re(t,["polarArea"]),e)},createLineChart:function(t,e){if(0!==t.length){var i=new Qi(this,{series:t});this.appendChart(i,e)}},createScatterChart:function(t,e){if(0!==t.length){var i=new Gi(this,{series:t});this.appendChart(i,e)}},createAreaChart:function(t,e){if(0!==t.length){var i=new Zi(this,{series:t});this.appendChart(i,e)}},_dispatchEvent:function(t,e,i){var n=t._eventCoordinates(e),o=new C(n.x,n.y),r=this.axisX.getValue(o),a=this.axisY.getValue(o);null!==r&&null!==a&&t.trigger(i,{element:P(e),x:r,y:a})},createCrosshairs:function(){}});j(Ji,{xAxis:{},yAxis:{}}),D(Ji.prototype,He);var $i=$t.extend({pointSlot:function(t,e){var i=t.center.y-e.y1,n=C.onCircle(t.center,t.middle(),i);return new A(n.x,n.y,n.x,n.y)},createSegment:function(t,e,i){var n=e.style,o=new("smooth"===n?Yt:Ut)(t,e,i);return t.length===e.data.length&&(o.options.closed=!0),o}});j($i,{clip:!1,limitPoints:!1});var tn=ie.extend({fillToAxes:function(){}}),en=te.extend({fillToAxes:function(){}}),nn=$i.extend({createSegment:function(t,e,i,n){var o,r,a,s=this.options.isStacked,l=(e.line||{}).style;return s&&i>0&&n&&(r=n.linePoints.slice(0),o=n),"smooth"===l?(a=new tn(t,e,i,o,r)).options.closed=!0:(t.push(t[0]),a=new en(t,e,i,o,r)),a},seriesMissingValues:function(t){return t.missingValues||Ct}}),on=Vi.extend({init:function(t,e){Vi.fn.init.call(this,t,null,e)}});j(on,{overlay:{gradient:"none"},labels:{distance:10}});var rn=S.extend({init:function(t){S.fn.init.call(this,t),this.forEach=t.rtl?ce:le},reflow:function(t){var e=this.options,i=this.children,n=e.gap,o=e.spacing,r=i.length,a=r+n+o*(r-1),s=t.angle/a,l=t.startAngle+s*(n/2);this.forEach(i,function(e){var i=t.clone();i.startAngle=l,i.angle=s,e.sector&&(i.radius=e.sector.radius),e.reflow(i),e.sector=i,l+=s+s*o})}});j(rn,{gap:1,spacing:0});var an=S.extend({reflow:function(t){var e=this.options.reverse,i=this.children,n=i.length,o=e?n-1:0,r=e?-1:1;this.box=new A;for(var a=o;a>=0&&a<n;a+=r){var s=i[a].sector;s.startAngle=t.startAngle,s.angle=t.angle}}}),sn=de.extend({pointType:function(){return on},clusterType:function(){return rn},stackType:function(){return an},categorySlot:function(t,e){return t.getSlot(e)},pointSlot:function(t,e){var i=t.clone(),n=t.center.y;return i.radius=n-e.y1,i.innerRadius=n-e.y2,i},reflowPoint:function(t,e){t.sector=e,t.reflow()},createAnimation:function(){this.options.animation.center=this.box.toRect().center(),de.fn.createAnimation.call(this)}});sn.prototype.reflow=Bt.prototype.reflow,j(sn,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var ln=Wi.extend({createPolarAxis:function(){var t=new e.RadarCategoryAxis(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()},valueAxisOptions:function(t){return this._hasBarCharts&&D(t,{majorGridLines:{type:y},minorGridLines:{type:y}}),this._isStacked100&&D(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),D(t,this.options.valueAxis)},aggregateCategories:function(){li.prototype.aggregateCategories.call(this,this.panes)},createCategoryAxesLabels:function(){li.prototype.createCategoryAxesLabels.call(this,this.panes)},filterSeries:function(t){return t},createCharts:function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(Re(t,["radarArea"]),e),this.createLineChart(Re(t,["radarLine"]),e),this.createBarChart(Re(t,["radarColumn"]),e)},chartOptions:function(t){var e={series:t},i=t[0];if(i){var n=this.filterVisibleSeries(t),o=i.stack;e.isStacked=o&&n.length>1,e.isStacked100=o&&"100%"===o.type&&n.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},createAreaChart:function(t,e){if(0!==t.length){var i=new nn(this,this.chartOptions(t));this.appendChart(i,e)}},createLineChart:function(t,e){if(0!==t.length){var i=new $i(this,this.chartOptions(t));this.appendChart(i,e)}},createBarChart:function(t,e){if(0!==t.length){var i=t[0],n=this.chartOptions(t);n.gap=i.gap,n.spacing=i.spacing;var o=new sn(this,n);this.appendChart(o,e),this._hasBarCharts=!0}},seriesCategoryAxis:function(){return this.categoryAxis},_dispatchEvent:function(t,e,i){var n=t._eventCoordinates(e),o=new C(n.x,n.y),r=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);null!==r&&null!==a&&t.trigger(i,{element:P(e),category:r,value:a})},createCrosshairs:function(){}});D(ln.prototype,He,{appendChart:li.prototype.appendChart,aggregateSeries:li.prototype.aggregateSeries}),j(ln,{categoryAxis:{categories:[]},valueAxis:{}});var cn=S.extend({init:function(t,e,i){S.fn.init.call(this,e),this.value=t,this.options.index=i.index},reflow:function(t){var e=this.points,i=this.children[0];this.box=new A(e[0].x,e[0].y,e[1].x,e[2].y),i&&i.reflow(new A(t.x1,e[0].y,t.x2,e[2].y))},createVisual:function(){var t,e=this,i=this.options;S.fn.createVisual.call(this),(t=i.visual?i.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:i,sender:this.getSender(),createVisual:function(){return e.createPath()}}):this.createPath())&&this.visual.append(t)},createPath:function(){var t=this.options,e=t.border,i=ot.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close();return i},createHighlight:function(t){return ot.fromPoints(this.points,t)},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var t=ot.fromPoints(this.points).close();return{options:this.options,path:t}},tooltipAnchor:function(){var t=this.box;return{point:new C(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},formatValue:function(t){return this.owner.formatPointValue(this,t)}});j(cn,{color:d,border:{width:1}}),D(cn.prototype,qt);var un=S.extend({init:function(t,e){S.fn.init.call(this,e),this.plotArea=t,this.points=[],this.labels=[],this.legendItems=[],this.render()},formatPointValue:function(t,e){return this.chartService.format.auto(e,t.value)},render:function(){var t=this.options,e=this.plotArea.options.seriesColors;void 0===e&&(e=[]);var i=t.series[0],n=i.data;if(n)for(var o=Oe(i),r=o.total,a=o.points,s=0;s<a.length;s++){var l=a[s];if(l){var c=l.fields;z(i.color)||(i.color=c.color||e[s%e.length]),c=D({index:s,owner:this,series:i,dataItem:n[s],percentage:l.value/r},c,{visible:l.visible});var u=l.valueFields.value,h=this.createSegment(u,c),d=this.createLabel(u,c);h&&d&&h.append(d)}}},evalSegmentOptions:function(t,e,i){var n=i.series;Ft(t,{value:e,series:n,dataItem:i.dataItem,index:i.index},{defaults:n._defaults,excluded:["data","content","template","toggle","visual"]})},createSegment:function(e,i){var n=D({},i.series);if(this.evalSegmentOptions(n,e,i),this.createLegendItem(e,n,i),!1!==i.visible){var o=new cn(e,n,i);return t.extend(o,i),this.append(o),this.points.push(o),o}},createLabel:function(t,e){var i=e.series,n=e.dataItem,o=D({},this.options.labels,i.labels),r=t;if(o.visible){var a=R(o);if(a?r=a({dataItem:n,value:t,percentage:e.percentage,category:e.category,series:i}):o.format&&(r=this.plotArea.chartService.format.auto(o.format,r)),!o.color){var s=new lt(i.color).percBrightness();o.color=s>180?v:d,o.background||(o.background=i.color)}this.evalSegmentOptions(o,t,e);var l=new L(r,D({vAlign:o.position},o));return this.labels.push(l),l}},labelPadding:function(){for(var t=this.labels,e={left:0,right:0},i=0;i<t.length;i++){var n=t[i],o=n.options.align;if(o!==l){var r=t[i].box.width();o===h?e.left=Math.max(e.left,r):e.right=Math.max(e.right,r)}}return e},dynamicSlopeReflow:function(t,e,i){for(var n=this.options,o=this.points,r=o.length,a=o[0],s=a,l=0;l<o.length;l++)o[l].percentage>s.percentage&&(s=o[l]);for(var c=a.percentage/s.percentage*e,u=(e-c)/2,h=0,d=0;d<r;d++){var f=o[d].percentage,p=o[d+1],m=p?p.percentage:f,g=o[d].points=[],v=n.dynamicHeight?i*f:i/r,b=void 0;b=et(b=f?(e-c*(m/f))/2:m?0:e/2,0,e),g.push(new ut(t.x1+u,t.y1+h)),g.push(new ut(t.x1+e-u,t.y1+h)),g.push(new ut(t.x1+e-b,t.y1+v+h)),g.push(new ut(t.x1+b,t.y1+v+h)),u=b,h+=v+n.segmentSpacing,c=et(e-2*b,0,e)}},constantSlopeReflow:function(t,e,i){for(var n=this.options,o=this.points,r=o.length,a=n.neckRatio<=1,s=a?n.neckRatio*e:e,l=a?0:(e-e/n.neckRatio)/2,c=a?e:e-2*l,u=(c-s)/2,h=0,d=0;d<r;d++){var f=o[d].points=[],p=o[d].percentage,m=n.dynamicHeight?u*p:u/r,g=n.dynamicHeight?i*p:i/r;f.push(new ut(t.x1+l,t.y1+h)),f.push(new ut(t.x1+e-l,t.y1+h)),f.push(new ut(t.x1+e-l-m,t.y1+g+h)),f.push(new ut(t.x1+l+m,t.y1+g+h)),l+=m,h+=g+n.segmentSpacing}},reflow:function(t){var e=this.points,i=e.length;if(i){var n=this.options,o=t.clone().unpad(this.labelPadding()),r=o.height()-n.segmentSpacing*(i-1),a=o.width();n.dynamicSlope?this.dynamicSlopeReflow(o,a,r):this.constantSlopeReflow(o,a,r);for(var s=0;s<i;s++)e[s].reflow(t)}}});j(un,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:l,position:l,zIndex:1}}),D(un.prototype,Fi);var hn=Be.extend({render:function(){this.createFunnelChart(this.series)},createFunnelChart:function(t){var e=t[0],i=new un(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(i)},appendChart:function(t,e){Be.fn.appendChart.call(this,t,e),q(this.options.legend.items,t.legendItems)}}),dn="color",fn="first",pn="max";wi.current.register(li,[At,Tt,jt,zt,"area","verticalArea","candlestick","ohlc","bullet","verticalBullet","boxPlot","verticalBoxPlot","rangeColumn","rangeBar","waterfall","horizontalWaterfall","rangeArea","verticalRangeArea"]),wi.current.register(Di,["scatter","scatterLine","bubble"]),wi.current.register(qi,[Mt]),wi.current.register(Ui,["donut"]),wi.current.register(hn,["funnel"]),wi.current.register(Ji,["polarArea","polarLine","polarScatter"]),wi.current.register(ln,["radarArea","radarColumn","radarLine"]),bt.current.register([At,Tt,jt,zt,"area","verticalArea"],[s],[It,dn,"noteText","errorLow","errorHigh"]),bt.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],["from","to"],[It,dn,"noteText"]),bt.current.register(["waterfall","horizontalWaterfall"],[s],[It,dn,"noteText","summary"]),bt.current.register(["polarArea","polarLine","polarScatter"],[p,m],[dn]),bt.current.register(["radarArea","radarColumn","radarLine"],[s],[dn]),bt.current.register(["funnel"],[s],[It,dn,"visibleInLegend","visible"]),Ge.current.register([At,Tt,jt,zt,"area","verticalArea","waterfall","horizontalWaterfall"],{value:pn,color:fn,noteText:fn,errorLow:"min",errorHigh:pn}),Ge.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],{from:"min",to:pn,color:fn,noteText:fn}),Ge.current.register(["radarArea","radarColumn","radarLine"],{value:pn,color:fn}),bt.current.register(["scatter","scatterLine","bubble"],[p,m],[dn,"noteText","xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),bt.current.register(["bubble"],[p,m,"size"],[dn,It,"noteText"]),bt.current.register(["candlestick","ohlc"],["open","high","low","close"],[It,dn,"downColor","noteText"]),Ge.current.register(["candlestick","ohlc"],{open:pn,high:pn,low:"min",close:pn,color:fn,downColor:fn,noteText:fn}),bt.current.register(["boxPlot","verticalBoxPlot"],["lower","q1","median","q3","upper","mean","outliers"],[It,dn,"noteText"]),Ge.current.register(["boxPlot","verticalBoxPlot"],{lower:pn,q1:pn,median:pn,q3:pn,upper:pn,mean:pn,outliers:fn,color:fn,noteText:fn}),bt.current.register(["bullet","verticalBullet"],["current","target"],[It,dn,"visibleInLegend","noteText"]),Ge.current.register(["bullet","verticalBullet"],{current:pn,target:pn,color:fn,noteText:fn}),bt.current.register([Mt,"donut"],[s],[It,dn,"explode","visibleInLegend","visible"]);var mn=[It,s,p,m],gn=i.extend({init:function(t,i,n,o){var r=this;void 0===o&&(o={}),this.observers=[],this.addObserver(o.observer),this.chartService=new $.ChartService(this,o),this.chartService.theme=n,this._initElement(t);var a=D({},this.options,i);this._originalOptions=D({},a),this._theme=n,this._initTheme(a,n),this._initSurface(),this._initHandlers(),this.bindCategories(),e.FontLoader.preloadFonts(i,function(){r._destroyed||(r.trigger("init"),r._redraw(),r._attachEvents())})},_initElement:function(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t},_setElementClass:function(t){e.addClass(t,"k-chart")},_initTheme:function(e,i){for(var n=[],o=e.series||[],r=0;r<o.length;r++)n.push(t.extend({},o[r]));e.series=n,function(t){for(var e=mn,i=0;i<e.length;i++){var n=e[i]+"Axes";t[n]&&(t[e[i]+"Axis"]=t[n],delete t[n])}}(e),this.applyDefaults(e,i),null===e.seriesColors&&delete e.seriesColors,this.options=D({},i,e),this.applySeriesColors()},getSize:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},resize:function(t){var e=this.getSize(),i=this._size;(t||(e.width>0||e.height>0)&&(!i||e.width!==i.width||e.height!==i.height))&&(this._size=e,this._resize(e,t),this.trigger("resize",e))},_resize:function(){this._noTransitionsRedraw()},redraw:function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,i=e.findPane(t);e.redraw(i)}else this._redraw()},getAxis:function(t){for(var e=this._plotArea.axes,i=0;i<e.length;i++)if(e[i].options.name===t)return new dt(e[i])},findAxisByName:function(t){return this.getAxis(t)},findPaneByName:function(t){for(var e=this._plotArea.panes,i=0;i<e.length;i++)if(e[i].options.name===t)return new ft(e[i])},findPaneByIndex:function(t){var e=this._plotArea.panes;if(e[t])return new ft(e[t])},plotArea:function(){return new pt(this._plotArea)},toggleHighlight:function(t,e){var i,n,o,r=this._plotArea,a=(r.srcSeries||r.series||[])[0];z(e)?i=r.filterPoints(e):(I(e)?(n=e.series,o=e.category):n=o=e,i="donut"===a.type?vn(r.pointsBySeriesName(n),o):a.type===Mt||"funnel"===a.type?vn((r.charts[0]||{}).points,o):r.pointsBySeriesName(n)),i&&this.togglePointsHighlight(t,i)},togglePointsHighlight:function(t,e){for(var i=this._highlight,n=0;n<e.length;n++)i.togglePointHighlight(e[n],t)},showTooltip:function(t){var e,i,n=this._sharedTooltip(),o=this._tooltip,r=this._plotArea;if(z(t)?(e=r.findPoint(t))&&n&&(i=e.categoryIx):n&&w(t)&&(i=r.categoryAxis.categoryIndex(t)),n){if(i>=0){var a=this._plotArea.pointsByCategoryIndex(i);o.showAt(a)}}else e&&o.show(e)},hideTooltip:function(){this._tooltip.hide()},_initSurface:function(){var t=this.surface,i=this._surfaceWrap(),n=this.options.chartArea;n.width&&e.elementSize(i,{width:n.width}),n.height&&e.elementSize(i,{height:n.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=nt.Surface.create(i,{type:this.options.renderAs}))},_surfaceWrap:function(){return this.element},_redraw:function(){var t=this._getModel();this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),!1!==this.options.transitions&&t.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),!1!==this.options.transitions&&t.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new hi,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),this._navState||this._cancelDomEvents()},exportVisual:function(t){var e;if(t&&(t.width||t.height||t.options)){var i=this.options,n=D({},t.options,{chartArea:{width:t.width,height:t.height}});yn(this._originalOptions,n),this.options=D({},this._originalOptions,n),this._initTheme(this.options,this._theme),this.bindCategories();var o=this._getModel();o.renderVisual(),e=o.visual,this.options=i}else e=this.surface.exportVisual();return e},_sharedTooltip:function(){return this._plotArea instanceof li&&this.options.tooltip.shared},_createPannable:function(){var t=this.options;!1!==t.pannable&&(this._pannable=new mi(this._plotArea,t.pannable))},_createZoomSelection:function(){var t=this.options.zoomable,e=(t||{}).selection;!1!==t&&!1!==e&&(this._zoomSelection=new gi(this,e))},_toggleDomDrag:function(){if(this.domEvents&&this.domEvents.toggleDrag){var t=this.options.pannable,e=this.options.zoomable,i=(e||{}).selection;t||!1!==e&&!1!==i||this.requiresHandlers(["dragStart","drag","dragEnd"])?this.domEvents.toggleDrag(!0):this.domEvents.toggleDrag(!1)}},_createMousewheelZoom:function(){var t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e&&(this._mousewheelZoom=new vi(this,e))},_toggleDomZoom:function(){if(this.domEvents&&this.domEvents.toggleZoom){var t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e||this.requiresHandlers(["zoomStart","zoom","zoomEnd"])?this.domEvents.toggleZoom(!0):this.domEvents.toggleZoom(!1)}},_createTooltip:function(){var t=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(t):new Ai(this.chartService,t)},_createSharedTooltip:function(t){return new Ti(this._plotArea,t)},applyDefaults:function(t,e){!function(t,e){var i,n,o,r=(e||{}).axisDefaults||{};function a(t){var e=(t||{}).color||n.color,o=D({},r,r[i],n,n[i],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete o[i],o}for(var s=0;s<mn.length;s++)i=mn[s]+"Axis",n=t.axisDefaults||{},o=(o=[].concat(t[i])).map(a),t[i]=o.length>1?o:o[0]}(t,e),function(t,e){var i=t.series,n=i.length,o=t.seriesDefaults,r=D({},t.seriesDefaults),a=e?D({},e.seriesDefaults):{},s=D({},a);bn(r),bn(s);for(var l=0;l<n;l++){var c=i[l].type||t.seriesDefaults.type,u=D({data:[]},s,a[c],{tooltip:t.tooltip},r,o[c]);i[l]._defaults=u,i[l]=D({},u,i[l])}}(t,e)},applySeriesColors:function(){for(var t=this.options,e=t.series,i=t.seriesColors||[],n=0;n<e.length;n++){var o=e[n],r=i[n%i.length],a=o._defaults;o.color=o.color||r,a&&(a.color=a.color||r)}},_getModel:function(){var t=this.options,i=this._createPlotArea(),n=new e.RootElement(this._modelOptions());return n.chart=this,n._plotArea=i,e.Title.buildTitle(t.title,n),t.legend.visible&&n.append(new yi(i.options.legend,this.chartService)),n.append(i),n.reflow(),n},_modelOptions:function(){var t=this.options,i=this.element,n=e.elementSize(i);return this._size=null,D({width:Math.floor(n.width)||o.DEFAULT_WIDTH,height:Math.floor(n.height)||o.DEFAULT_HEIGHT,transitions:t.transitions},t.chartArea)},_createPlotArea:function(t){var e=this.options,i=wi.current.create(t?[]:e.series,e,this.chartService);return i},_hasSelection:function(){return this._selections&&this._selections.length},_setupSelection:function(){for(var t=this._plotArea.axes,i=this._selections=[],n=0;n<t.length;n++){var o=t[n],r=o.options;if(o instanceof W&&r.select&&!r.vertical){var a=0,s=r.categories.length-1;o instanceof K&&(a=r.categories[a],s=r.categories[s]),r.justified||(o instanceof K?s=e.addDuration(s,1,r.baseUnit,r.weekStartDay):s++);var l=new Si(this,o,D({min:a,max:s},r.select));i.push(l)}}},_selectStart:function(t){return this.trigger("selectStart",t)},_select:function(t){return this.trigger("select",t)},_selectEnd:function(t){return this.trigger("selectEnd",t)},_initHandlers:function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=kendo.throttle(this._mousemove.bind(this),20)},addObserver:function(t){t&&this.observers.push(t)},removeObserver:function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},requiresHandlers:function(t){for(var e=this.observers,i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0},trigger:function(t,e){void 0===e&&(e={}),"showTooltip"===t&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;for(var i=this.observers,n=!1,o=0;o<i.length;o++)i[o].trigger(t,e)&&(n=!0);return n},_attachEvents:function(){var t,e,i=this.element,n=this.surface;n.bind("mouseenter",this._surfaceMouseenterHandler),n.bind("mouseleave",this._surfaceMouseleaveHandler),J(i,((t={}).contextmenu=this._clickHandler,t[Dt]=this._mousewheelHandler,t)),this._shouldAttachMouseMove()&&J(i,((e={}).mousemove=this._mousemove,e)),this.domEvents=$.DomEventsBuilder.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDomDrag(),this._toggleDomZoom()},_cancelDomEvents:function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},_gesturestart:function(t){this._mousewheelZoom&&!this._stopDragEvent(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())},_gestureend:function(t){this._zooming&&!this._stopDragEvent(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger("zoomEnd",{}))},_gesturechange:function(t){var e=this._mousewheelZoom;if(e&&!this._stopDragEvent(t)){t.preventDefault();var i=this._gestureDistance,n=-t.distance/i+1;if(Math.abs(n)>=.1){n=Math.round(10*n),this._gestureDistance=t.distance;var o={delta:n,axisRanges:kn(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger("zoomStart",o)){this._zooming||(this._zooming=!0);var r=o.axisRanges=e.updateRanges(n);r&&!this.trigger("zoom",o)&&e.zoom()}}}},_mouseout:function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},_start:function(t){var e=this._eventCoordinates(t);!this._stopDragEvent(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers(["dragStart","drag","dragEnd"])&&this._startNavigation(t,e,"dragStart"),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger("zoomStart",{axisRanges:kn(this._plotArea.axes),originalEvent:t}))},_move:function(t){var e=this._navState,i=this._pannable;if(!this._stopDragEvent(t)){if(i){var n=i.move(t);n&&!this.trigger("drag",{axisRanges:n,originalEvent:t})&&i.pan()}else if(e){for(var o={},r=e.axes,a=0;a<r.length;a++){var s=r[a],l=s.options.name;if(l){var c=s.options.vertical?t.y:t.x,u=c.startLocation-c.location;0!==u&&(o[s.options.name]=s.translateRange(u))}}e.axisRanges=o,this.trigger("drag",{axisRanges:o,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},_end:function(t){if(!this._stopDragEvent(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger("dragEnd",{axisRanges:kn(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1):this._endNavigation(t,"dragEnd"),this._zoomSelection){var i=this._zoomSelection.end(t);i&&!this.trigger("zoom",{axisRanges:i,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger("zoomEnd",{axisRanges:i,originalEvent:t}))}}},_stopDragEvent:function(){return this._hasSelection()},_mousewheel:function(t){var i=this,n=e.mousewheelDelta(t),o=this._mousewheelZoom,r=this._eventCoordinates(t);if(this._plotArea.backgroundContainsPoint(r))if(o){var a={delta:n,axisRanges:kn(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger("zoomStart",a)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),a.axisRanges=o.updateRanges(n),a.axisRanges&&!this.trigger("zoom",a)&&o.zoom(),this._mwTimeout=setTimeout(function(){i.trigger("zoomEnd",a),i._zooming=!1,i.surface&&i.surface.resumeTracking()},150))}else{var s=this._navState;if(!s){var l=this._startNavigation(t,r,"zoomStart");l||(s=this._navState)}if(s){var c=s.totalDelta||n;s.totalDelta=c+n;for(var u=this._navState.axes,h={},d=0;d<u.length;d++){var f=u[d],p=f.options.name;p&&(h[p]=f.scaleRange(-c))}this.trigger("zoom",{delta:n,axisRanges:h,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){i._endNavigation(t,"zoomEnd")},150)}}},_startNavigation:function(t,e,i){var n=this._model._plotArea,o=n.findPointPane(e),r=n.axes.slice(0);if(o){var a=kn(r),s=this.trigger(i,{axisRanges:a,originalEvent:t});s?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:o,axes:r})}},_endNavigation:function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},_getChartElement:function(t,e){var i=this.surface.eventTarget(t);if(i)return this._drawingChartElement(i,t,e)},_drawingChartElement:function(t,e,i){for(var n,o=t;o&&!n;)n=o.chartElement,o=o.parent;if(n)return n.aliasFor&&(n=n.aliasFor(e,this._eventCoordinates(e))),i&&(n=n.closest(i))&&n.aliasFor&&(n=n.aliasFor()),n},_eventCoordinates:function(t){var i=e.eventCoordinates(t);return this._toModelCoordinates(i.x,i.y)},_elementPadding:function(){if(!this._padding){var t=Z(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,i=t.paddingTop;this._padding={top:i,left:e}}return this._padding},_toDocumentCoordinates:function(t){var i=this._elementPadding(),n=e.elementOffset(this.element);return{left:Q(t.x+i.left+n.left),top:Q(t.y+i.top+n.top)}},_toModelCoordinates:function(t,i){var n=this.element,o=e.elementOffset(n),r=this._elementPadding();return new C(t-o.left-r.left,i-o.top-r.top)},_tap:function(t){var e=this,i=this.surface.eventTarget(t),n=this._drawingChartElement(i,t);this._activePoint===n?this._propagateClick(n,t):(this._startHover(i,t)||this._unsetActivePoint(),this._propagateClick(n,t)),this.handlingTap=!0,setTimeout(function(){e.handlingTap=!1},0)},_click:function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},_propagateClick:function(t,e){for(var i=t;i;)i.click&&i.click(this,e),i=i.parent},_startHover:function(t,e){var i=this._drawingChartElement(t,e),n=this._tooltip,o=this._highlight;if(this._suppressHover||!o||o.isHighlighted(i)||this._sharedTooltip())return!1;var r=this._drawingChartElement(t,e,function(t){return t.hover&&!(t instanceof Be)});if(r&&!r.hover(this,e)){this._activePoint=r;var a=D({},a,r.options.tooltip);return a.visible&&n.show(r),o.show(r),r}},_mouseover:function(t){var e,i=this._startHover(t.element,t.originalEvent);i&&i.tooltipTracking&&(this._mouseMoveTrackHandler=this._mouseMoveTrackHandler||this._mouseMoveTracking.bind(this),J(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)))},_mouseMoveTracking:function(t){var e,i=this.options,n=this._tooltip,o=this._highlight,r=this._activePoint,a=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(a)){if(r&&r.tooltipTracking&&r.series&&r.parent.getNearestPoint){var s=r.parent.getNearestPoint(a.x,a.y,r.seriesIx);if(s&&s!==r){s.hover(this,t),this._activePoint=s;var l=D({},i.tooltip,r.options.tooltip);l.visible&&n.show(s),o.show(s)}}}else tt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._unsetActivePoint()},_mousemove:function(t){var e=this._eventCoordinates(t);this._trackCrosshairs(e),this._plotArea.hover&&this._plotArea.hover(this,t),this._sharedTooltip()&&this._trackSharedTooltip(e,t)},_trackCrosshairs:function(t){for(var e=this._plotArea.crosshairs,i=0;i<e.length;i++){var n=e[i];n.box.containsPoint(t)?n.showAt(t):n.hide()}},_trackSharedTooltip:function(t,e){var i=this.options.tooltip,n=this._plotArea,o=this._plotArea.categoryAxis,r=this._tooltip,a=this._highlight;if(n.box.containsPoint(t)){var s=o.pointCategoryIndex(t);if(s!==this._tooltipCategoryIx){var l=n.pointsByCategoryIndex(s),c=l.map(function(t){return t.eventArgs(e)}),u=c[0]||{};u.categoryPoints=c,l.length>0&&!this.trigger("seriesHover",u)?(i.visible&&r.showAt(l,t),a.show(l)):r.hide(),this._tooltipCategoryIx=s}}},hideElements:function(){var t=this._plotArea,e=this._tooltip,i=this._highlight;this._mousemove.cancel(),t.hideCrosshairs(),i.hide(),e.hide(),delete this._tooltipCategoryIx},_unsetActivePoint:function(){var t=this._tooltip,e=this._highlight;this._activePoint=null,t&&t.hide(),e&&e.hide()},_deferRedraw:function(){this._redraw()},_clearRedrawTimeout:function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},bindCategories:function(){for(var t=this.options,e=[].concat(t.categoryAxis),i=0;i<e.length;i++){var n=e[i];!1!==n.autoBind&&this.bindCategoryAxisFromSeries(n,i)}},bindCategoryAxisFromSeries:function(t,i){for(var n,o=this.options.series,r=o.length,a={},s=[],l=0;l<r;l++){var c=o[l],u=c.categoryAxis===t.name||!c.categoryAxis&&0===i,h=c.data,d=h.length;if(c.categoryField&&u&&d>0)for(var f=(n=Fe(t,vt(c.categoryField,h[0])))?Le:vt,p=0;p<d;p++){var m=h[p],g=f(c.categoryField,m,this.chartService.intl);!n&&a[g]||(s.push([g,m]),n||(a[g]=!0))}}if(s.length>0){n&&(s=function(t,i){void 0===i&&(i=e.dateComparer);for(var n=function(t,i){void 0===i&&(i=e.dateComparer);for(var n=1,o=t.length;n<o;n++)if(i(t[n],t[n-1])<0){t.sort(i);break}return t}(t,i),o=n.length,r=o>0?[n[0]]:[],a=1;a<o;a++)0!==i(n[a],O(r))&&r.push(n[a]);return r}(s,function(t,i){return e.dateComparer(t[0],i[0])}));var v=function(t){for(var e=t.length,i=[],n=0;n<e;n++)for(var o=t[n],r=o.length,a=0;a<r;a++)i[a]=i[a]||[],i[a].push(o[a]);return i}(s);t.categories=v[0]}},_isBindable:function(t){for(var e=bt.current.valueFields(t),i=!0,n=0;n<e.length;n++){var o=e[n];if(o===s?o="field":o+="Field",!w(t[o])){i=!1;break}}return i},_noTransitionsRedraw:function(){var t,e=this.options;e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)},_legendItemHover:function(t,e){var i,n=this._plotArea,o=this._highlight,r=(n.srcSeries||n.series)[t];i=M(r.type,[Mt,"donut","funnel"])?n.findPoint(function(i){return i.series.index===t&&i.index===e}):n.pointsBySeriesIndex(t),o.show(i)},_shouldAttachMouseMove:function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers(["plotAreaHover"])},updateMouseMoveHandler:function(){var t,e;tt(this.element,((t={}).mousemove=this._mousemove,t)),this._shouldAttachMouseMove()&&J(this.element,((e={}).mousemove=this._mousemove,e))},applyOptions:function(t,e){yn(this._originalOptions,t),this._originalOptions=D(this._originalOptions,t),this.options=D({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme)},setOptions:function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler(),this._toggleDomDrag(),this._toggleDomZoom()},destroy:function(){var t,e;this._destroyed=!0,tt(this.element,((t={}).contextmenu=this._clickHandler,t[Dt]=this._mousewheelHandler,t.mousemove=this._mousemove,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),tt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._destroyView(),this.surface&&(this.surface.destroy(),this.surface=null),this._clearRedrawTimeout()},_destroyView:function(){var t=this._model,e=this._selections;if(t&&(t.destroy(),this._model=null),e)for(;e.length>0;)e.shift().destroy();this._unsetActivePoint(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}});function vn(t,e){if(t)for(var i=0;i<t.length;i++)if(t[i].category===e)return[t[i]]}function bn(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function kn(t){for(var e={},i=0;i<t.length;i++){var n=t[i],o=n.options.name;o&&(e[o]=n.range())}return e}function yn(t,e){for(var i in e){var n=e[i],o=t[i];if(w(o)){var r=null===n;r||!w(n)?(delete t[i],r&&delete e[i]):o&&I(n)&&I(o)&&yn(o,n)}}}j(gn,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Tt,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1}),kendo.deepExtend(kendo.dataviz,{constants:Ot,Aggregates:gt,AreaChart:ne,AreaSegment:te,AxisGroupRangeTracker:oe,Bar:se,BarChart:de,BarLabel:re,BoxPlotChart:be,BoxPlot:ge,BubbleChart:xe,Bullet:Ce,BulletChart:Ae,CandlestickChart:me,Candlestick:fe,CategoricalChart:Bt,CategoricalErrorBar:Rt,CategoricalPlotArea:li,Chart:gn,ChartContainer:ze,ClipAnimation:Zt,ClusterLayout:ue,Crosshair:Me,CrosshairTooltip:je,DefaultAggregates:Ge,DonutChart:Hi,DonutPlotArea:Ui,DonutSegment:Vi,ErrorBarBase:Pt,ErrorRangeCalculator:wt,Highlight:hi,SharedTooltip:Ti,Legend:yi,LegendItem:ki,LegendLayout:bi,LineChart:$t,LinePoint:Ht,LineSegment:Ut,Pane:Ee,PieAnimation:Ei,PieChart:Ni,PieChartMixin:Fi,PiePlotArea:qi,PieSegment:Pi,PlotAreaBase:Be,PlotAreaEventsMixin:He,PlotAreaFactory:wi,PointEventsMixin:qt,RangeBar:Qe,RangeBarChart:Ye,RangeAreaPoint:Ze,RangeAreaChart:ti,ScatterChart:we,ScatterErrorBar:ke,ScatterLineChart:Ii,Selection:Si,SeriesAggregator:Ue,SeriesBinder:bt,SplineSegment:Yt,SplineAreaSegment:ie,StackWrap:he,Tooltip:Ai,OHLCChart:ii,OHLCPoint:ei,WaterfallChart:oi,WaterfallSegment:ni,XYPlotArea:Di,MousewheelZoom:vi,ZoomSelection:gi,Pannable:mi,ChartAxis:dt,ChartPane:ft,ChartPlotArea:pt,anyHasZIndex:Xt,appendIfNotNull:pe,areNumbers:pe,bindSegments:Oe,categoriesCount:Nt,countNumbers:mt,equalsIgnoreCase:Pe,evalOptions:Ft,filterSeriesByType:Re,getDateField:Le,getField:vt,hasGradientOverlay:ae,hasValue:ye,isDateAxis:Fe,segmentVisible:De,singleItemOrArray:Ne})}(window.kendo.jQuery)})?r.apply(e,a):r,i(0),a=[n,i(17),i(45),i(119),i(24),i(21)],o="function"==typeof(r=function(){return function(t,e){var i=".kendoChart",n=window.kendo,o=n.Class,r=n._outerWidth,a=n._outerHeight,s=n.dataviz,l=s.constants,c=s.Chart,u=s.SeriesBinder,h=n.ui.Widget,d=n.data.DataSource,f=n.deepExtend,p=s.defined,m=s.getField,g=s.InstanceObserver,v=s.inArray,b=s.services,k=t.proxy,y=t.isArray,w=t.extend,_=n.template,x="mouseleave"+i,S=l.AXIS_LABEL_CLICK,C=l.LEGEND_ITEM_CLICK,A=l.LEGEND_ITEM_HOVER,T=l.SERIES_CLICK,j=l.SERIES_HOVER,M=l.PLOT_AREA_CLICK,z=l.PLOT_AREA_HOVER,E=l.DRAG,I=l.DRAG_END,D=l.DRAG_START,O=l.ZOOM_START,P=l.ZOOM,R=l.ZOOM_END,L=l.SELECT_START,F=l.SELECT,N=l.SELECT_END,B=l.RENDER,q=l.NOTE_CLICK,V=l.NOTE_HOVER,H=l.VALUE,U=l.PIE,W=l.DONUT,G=l.FUNNEL,Q=n.Observable;b.DomEventsBuilder.register({create:function(t,e){return new n.UserEvents(t,f({global:!0,multiTouch:!0,fastTap:!0},e))}});var Y=g.extend({handlerMap:{showTooltip:"_showTooltip",hideTooltip:"_hideTooltip",legendItemClick:"_onLegendItemClick",render:"_onRender",init:"_onInit"}}),K=h.extend({init:function(t,e){var i;n.destroy(t),h.fn.init.call(this,t),e&&(i=e.dataSource,delete e.dataSource),this.options=f({},this.options,e),this.wrapper=this.element,this._attachEvents(),e&&(e.dataSource=i),this._seriesVisibility=new tt,this.bind(this.events,this.options),this._initDataSource(e),n.notify(this,s.ui)},events:["dataBound",T,j,S,C,A,M,z,D,E,I,O,P,R,L,F,N,q,V,B],options:{name:"Chart",renderAs:"",theme:"default",axisDefaults:{},chartArea:{},legend:{},categoryAxis:{},autoBind:!0,seriesDefaults:{},series:[],seriesColors:null,tooltip:{},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1},items:function(){return t()},refresh:function(){var t=this._instance;t.applyDefaults(this.options),t.applySeriesColors(),this._bindSeries(),this._bindCategories(),this.trigger("dataBound"),this._redraw()},getSize:function(){return n.dimensions(this.element)},redraw:function(t){this._size=null,this._instance.redraw(t)},setOptions:function(t){var e=t.dataSource;delete t.dataSource,h.fn._setEvents.call(this,t),this._instance.applyOptions(t,this._getThemeOptions(t)),this.options=this._instance.options,this._tooltip.setOptions(this.options.tooltip),this._seriesVisibility.setOptions(this.options),this._sourceSeries=null,e&&this.setDataSource(e),this._hasDataSource?this._onDataChanged():(this._bindCategories(),this.redraw()),this._instance.updateMouseMoveHandler()},setDataSource:function(t){this.dataSource.unbind("change",this._dataChangeHandler),this.dataSource=t=d.create(t),this._hasDataSource=!0,this._hasData=!1,t.bind("change",this._dataChangeHandler),this.options.autoBind&&t.fetch()},destroy:function(){var t=this.dataSource;this.element.off(i),t&&t.unbind("change",this._dataChangeHandler),this._instance&&(this._instance.destroy(),delete this._instance),this._tooltip&&(this._tooltip.destroy(),delete this._tooltip),this._destroyCrosshairTooltips(),h.fn.destroy.call(this)},findPaneByName:function(t){for(var e=this._plotArea.panes,i=0;i<e.length;i++)if(e[i].options.name===t)return new ot(this,e[i])},findPaneByIndex:function(t){var e=this._plotArea.panes;if(e[t])return new ot(this,e[t])},findSeries:function(t){for(var e=this._plotArea,i=e.srcSeries||e.series,n=0;n<i.length;n++)if(t(i[n]))return new rt(this,i[n])},findSeriesByName:function(t){return this._createSeries({name:t})},findSeriesByIndex:function(t){return this._createSeries({index:t})},exportVisual:function(t){var e=this._instance;if(e){var i;if(t&&(t.width||t.height)){var n=e.options.chartArea,o=e._originalOptions.chartArea;f(n,t);var r=e._getModel();n.width=o.width,n.height=o.height,r.renderVisual(),i=r.visual}else i=e.exportVisual();return i}},_createSeries:function(t){var e=this._seriesOptions(t);if(e)return new rt(this,e)},_seriesOptions:function(t){var e,i=this._plotArea,n=i.srcSeries||i.series;if(p(t.index))e=n[t.index];else if(p(t.name))for(var o=0;o<n.length;o++)if(n[o].name===t.name){e=n[o];break}return e},_attachEvents:function(){this.element.on(x,k(this._mouseleave,this))},_mouseleave:function(e){var i=this._instance,n=this._tooltip,o=e.relatedTarget;o&&t(o).closest(n.element).length||!i||i.handlingTap||i.hideElements()},_getThemeOptions:function(t){var e=(t||{}).theme;if("sass"===e||"default-v2"===e||"bootstrap-v4"===e)return s.autoTheme().chart;if(p(e)){var i=s.ui.themes||{};return(i[e]||i[e.toLowerCase()]||{}).chart||{}}},_initChart:function(){this._createChart(this.options,this._getThemeOptions(this.options)),this.options=this._instance.options,this._seriesVisibility.setOptions(this.options)},_createChart:function(t,e){this._instance=new c(this.element[0],t,e,{observer:new Y(this),sender:this,rtl:this._isRtl()})},_onInit:function(t){this._instance=t.sender},_initDataSource:function(t){var e=(t||{}).dataSource;this._dataChangeHandler=k(this._onDataChanged,this),this.dataSource=d.create(e).bind("change",this._dataChangeHandler),this._bindCategories(),e&&(this._hasDataSource=!0),this._initChart(),this._initTooltip(),e&&this.options.autoBind&&this.dataSource.fetch()},_destroyCrosshairTooltips:function(){var t=this._crosshairTooltips;if(t)for(var e in t)t[e].destroy();this._crosshairTooltips={}},_getCrosshairTooltip:function(t,e){var i=this._crosshairTooltips=this._crosshairTooltips||{},n=t+e,o=i[n];return o||(o=i[n]=new nt(this.element)),o},_showTooltip:function(t){t.crosshair?this._getCrosshairTooltip(t.axisName,t.axisIndex).show(t):this._tooltip&&this._tooltip.show(t)},_hideTooltip:function(t){t.crosshair?this._getCrosshairTooltip(t.axisName,t.axisIndex).hide():this._tooltip&&this._tooltip.hide(t)},_onRender:function(t){this._destroyCrosshairTooltips(),this._copyMembers(t.sender),this._hasDataSource&&!this._hasData&&this.options.autoBind||this.trigger(B)},_copyMembers:function(t){this.options=t.options,this._originalOptions=t._originalOptions,this.surface=t.surface,this._plotArea=t._plotArea,this._model=t._model,this._highlight=t._highlight,this._selections=t._selections,this._pannable=t._pannable,this._zoomSelection=t._zoomSelection,this._mousewheelZoom=t._mousewheelZoom},requiresHandlers:function(t){for(var e=this._events,i=0;i<t.length;i++)if(p(e[t[i]]))return!0},_initTooltip:function(){this._tooltip=this._createTooltip(),this._tooltip.bind("leave",k(this._tooltipleave,this))},_onLegendItemClick:function(t){this.trigger(C,t)||this._legendItemClick(t.seriesIndex,t.pointIndex)},_legendItemClick:function(e,i){var n=this._instance,o=n._plotArea,r=(o.srcSeries||o.series)[e];if(t.inArray(r.type,[U,W,G])>=0){var a=r.data[i];if(a&&p(a.visible))a.visible=!a.visible;else{var s=r.pointVisibility=r.pointVisibility||{},l=s[i];s[i]=!!p(l)&&!l}}else r.visible=!r.visible,this._seriesVisibility.save(r);n._noTransitionsRedraw()},_createTooltip:function(){return new it(this.element,w({},this.options.tooltip,{rtl:this._isRtl()}))},_tooltipleave:function(){this._instance&&this._instance.hideElements()},_bindData:function(t){var e,i,n,o=this.options,r=this._sourceSeries||o.series,a=r.length,s=this.dataSource.view(),l=(this.dataSource.group()||[]).length>0,c=[],u=this._seriesVisibility;for(u.read(),e=0;e<a;e++)i=r[e],this._isBindable(i)&&l?(n=$(i,s),c=c.concat(n),u.applyByGroup(n,t)):(i=w({},i),c.push(i),u.applyByIndex(i,t));this._sourceSeries=r,o.series=c,this._instance.applySeriesColors(),this._bindSeries(),this._bindCategories(),this._hasData=!0},_onDataChanged:function(t){this._bindData(t),this.trigger("dataBound"),this._redraw()},_bindSeries:function(){var t,e,i,n,o=this.dataSource.view(),r=this.options.series,a=r.length;for(t=0;t<a;t++)e=r[t],this._isBindable(e)&&(i=e._groupIx,n=p(i)?(o[i]||{}).items:o,!1!==e.autoBind&&(e.data=n))},_bindCategories:function(){var t,e,i=this.dataSource.view()||[],n=(this.dataSource.group()||[]).length>0,o=i,r=this.options,a=[].concat(r.categoryAxis);for(n&&i.length&&(o=i[0].items),t=0;t<a.length;t++)!1!==(e=a[t]).autoBind&&this._bindCategoryAxis(e,o,t)},_bindCategoryAxis:function(t,e,i){var n,o,r,a=(e||[]).length;if(t.field)for(t.categories=[],n=0;n<a;n++)r=e[n],o=m(t.field,r),0===n?(t.categories=[o],t.dataItems=[r]):(t.categories.push(o),t.dataItems.push(r));else this._instance&&this._instance.bindCategoryAxisFromSeries(t,i)},_isBindable:function(t){var e,i,n=u.current.valueFields(t),o=!0;for(i=0;i<n.length;i++)if((e=n[i])===H?e="field":e+="Field",!p(t[e])){o=!1;break}return o},_isRtl:function(){return n.support.isRtl(this.element)&&"rtl"===this.element.css("direction")}}),Z=["getAxis","findAxisByName","plotArea","toggleHighlight","showTooltip","hideTooltip","_resize","_redraw","_noTransitionsRedraw","_legendItemHover","_eventCoordinates"];function X(t){K.fn[t]=function(){var e=this._instance;if(e)return e[t].apply(e,arguments)}}for(var J=0;J<Z.length;J++)X(Z[J]);function $(t,i){var o,r,a,s=[],l=t.groupNameTemplate,c=i.length;if(0===c)return(a=f({},t)).visibleInLegend=!1,[a];for(p(l)?(n.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),l&&(o=_(l))):0===(o=_(t.name||""))._slotCount&&(o=_(p(t.name)?"#= group.value #: #= series.name #":"#= group.value #")),r=0;r<c;r++)a=f({},t),n.isFunction(a.color)||(a.color=e),a._groupIx=r,a._groupValue=i[r].value,s.push(a),o&&(a.name=o({series:a,group:i[r]}));return s}s.ExportMixin.extend(K.fn),n.PDFMixin&&n.PDFMixin.extend(K.fn),s.ui.plugin(K);var tt=o.extend({init:function(){this.groups={},this.index={},this.options={}},applyByGroup:function(t,e){if(e&&e.action||this.options.persistSeriesVisibility)for(var i=0;i<t.length;i++)!1===this.groups[t[i]._groupValue]&&(t[i].visible=!1);else this.groups={}},applyByIndex:function(t,e){e&&e.action||this.options.persistSeriesVisibility?!1===this.index[t.index]&&(t.visible=!1):this.index={}},save:function(t){t&&(this.options.persistSeriesVisibility?this.options.series[t.index].visible=t.visible:this.saveState(t))},setOptions:function(t){this.options=t,this.groups={},this.index={}},read:function(){var t=this.options;if(t.persistSeriesVisibility)for(var e=t.series,i=0;i<e.length;i++)this.saveState(e[i])},saveState:function(t){p(t._groupValue)?this.groups[t._groupValue]=t.visible:this.index[t.index]=t.visible}}),et=n.geometry,it=Q.extend({init:function(e,i){Q.fn.init.call(this),this.setOptions(i),this.chartElement=e,this.template=it.template,this.template||(this.template=it.template=n.template("<div class='k-tooltip k-chart-tooltip#= d.rtl ? \" k-rtl\" : \"\"#' style='display:none; position: absolute; font: #= d.font #;#if (d.border) {# border: #= d.border.width #px solid; #}#opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>",{useWithBlock:!1,paramName:"d"})),this.element=t(this.template(this.options)),this.move=k(this.move,this),this._mouseleave=k(this._mouseleave,this);var o=n.format("[{0}='content'],[{0}='scroller']",n.attr("role"));this._mobileScroller=e.closest(o).data("kendoMobileScroller")},destroy:function(){this._clearShowTimeout(),this.element&&(this.element.off(x).remove(),this.element=null)},setOptions:function(t){this.options=f({},this.options,t)},options:{opacity:1,animation:{duration:150},sharedTemplate:"<table><th colspan='#= colspan #'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(colorMarker) { # <td><span class='k-chart-shared-tooltip-marker' style='background-color:#:point.series.color#'></span></td># } ## if(nameColumn) { # <td> #if (point.series.name) {# #: point.series.name #: #} else {# &nbsp; #}#</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},move:function(){var t,e=this.options,i=this.element;this.anchor&&this.element&&(t=this._offset(),this.visible||i.css({top:t.top,left:t.left}),this.visible=!0,this._ensureElement(document.body),i.stop(!0,!0).show().animate({left:t.left,top:t.top},e.animation.duration))},_clearShowTimeout:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},getAnchor:function(t){var e=this.anchor,i=e.point,n=e.align,o=i.left,r=i.top;return"center"===n.horizontal?o-=t.width/2:"right"===n.horizontal&&(o-=t.width),"center"===n.vertical?r-=t.height/2:"bottom"===n.vertical&&(r-=t.height),{x:o,y:r}},_offset:function(){var e=this._measure(),i=this.getAnchor(e),o=i.y,s=i.x,l=n.support.zoomLevel(),c=t(window),u=window.pageYOffset||document.documentElement.scrollTop||0,h=window.pageXOffset||document.documentElement.scrollLeft||0,d=(this._mobileScroller||{}).movable;if(d&&1!==d.scale){var f=et.transform().scale(d.scale,d.scale,[d.x,d.y]),p=new et.Point(s,o).transform(f);s=p.x,o=p.y}else o+=this._fit(o-u,e.height,a(c)/l),s+=this._fit(s-h,e.width,r(c)/l);return{top:o,left:s}},show:function(t){this.anchor=t.anchor,this.element.css(function(t){for(var i in t)t[i]===e&&(t[i]="");return t}(t.style)),this.element.toggleClass("k-chart-tooltip-inverse",!!t.className),this.element.toggleClass("k-chart-shared-tooltip",!!t.shared);var i=t.shared?this._sharedContent(t):this._pointContent(t.point);this.element.html(i),this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,100)},hide:function(){clearTimeout(this.showTimeout),this._hideElement(),this.visible&&(this.point=null,this.visible=!1,this.index=null)},_sharedContent:function(t){var e=t.points,i=s.grep(e,function(t){return p(t.series.name)}).length,o=t.series.length>1,r=1;return i&&r++,o&&r++,n.template(this.options.sharedTemplate)({points:e,category:t.category,categoryText:t.categoryText,content:this._pointContent,colorMarker:o,nameColumn:i,colspan:r})},_measure:function(){return this._ensureElement(),{width:r(this.element),height:a(this.element)}},_ensureElement:function(){this.element&&this.element.appendTo(document.body).on(x,this._mouseleave)},_mouseleave:function(e){var i=e.relatedTarget,n=this.chartElement[0];i&&i!==n&&!t.contains(n,i)&&this.trigger("leave")},_hideElement:function(){var t=this,e=this.element;e&&e.fadeOut({always:function(){t.visible||e.off(x).remove()}})},_pointContent:function(t){var e,i=f({},this.options,t.options.tooltip);return p(t.value)&&(e=t.value.toString()),i.template?e=_(i.template)({value:t.value,category:t.category,series:t.series,dataItem:t.dataItem,percentage:t.percentage,runningTotal:t.runningTotal,total:t.total,low:t.low,high:t.high,xLow:t.xLow,xHigh:t.xHigh,yLow:t.yLow,yHigh:t.yHigh}):i.format&&(e=t.formatValue(i.format)),e},_fit:function(t,e,i){var n=0;return t+e>i&&(n=i-(t+e)),t<0&&(n=-t),n}}),nt=it.extend({init:function(t,e){it.fn.init.call(this,t,e),this.element.addClass("k-chart-crosshair-tooltip")},show:function(t){this.element&&(this.anchor=t.anchor,this.element.css(t.style),this.element.html(this.content(t)),this.move())},move:function(){var t=this.element,e=this._offset();this._ensureElement(),t.css({top:e.top,left:e.left}).show()},content:function(t){var e=t.value,i=t.crosshair.options.tooltip;return i.template&&(e=_(i.template)({value:e})),e},hide:function(){this.element.hide()}}),ot=o.extend({init:function(t,e){this._chart=t,this._pane=e,this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this.name=e.options.name},series:function(){var t=this._chart,e=t._plotArea.groupSeriesByPane()[this.name||"default"],i=[];if(e)for(var n=0;n<e.length;n++)i.push(new rt(t,e[n]));return i}}),rt=o.extend({init:function(t,e){this._chart=t,this._options=e},points:function(t){var e=this._points;if(!e){var i=this._seriesOptions(),o=this._chart._plotArea;this._points=e=o.pointsBySeriesIndex(i.index)}return n.isFunction(t)&&(e=this._filterPoints(e,t)),e},data:function(t){var e=this._seriesOptions();if(t){var i=this._chart,n=i._plotArea;if(e.data=t,e.categoryField){var o=n.seriesCategoryAxis(e),r=[].concat(i.options.categoryAxis);i._instance.bindCategoryAxisFromSeries(r[o.axisIndex],o.axisIndex)}i._noTransitionsRedraw(),this._clearFields()}return e.data},findPoint:function(t){for(var e=this.points(),i=0;i<e.length;i++)if(t(e[i]))return e[i]},toggleHighlight:function(t,e){e=e?n.isFunction(e)?this.points(e):y(e)?e:[e]:this.points(),this._chart._instance.togglePointsHighlight(t,e)},toggleVisibility:function(t,e){var i=this._chart,o=this._seriesOptions();if(n.isFunction(e))if(v(o.type,[U,W,G]))for(var r=this._filterData(e),a=0;a<r.length;a++)r[a].visible=t;else o.visible=function(i){return!e(i.dataItem)||t};else o.visible=t,i._seriesVisibility.save(o);i._noTransitionsRedraw(),this._clearFields()},_filterData:function(t){for(var e=this._seriesOptions().data,i=e.length,n=[],o=0;o<i;o++)t(e[o])&&n.push(e[o]);return n},_filterPoints:function(t,e){for(var i=[],n=t.length,o=0;o<n;o++)e(t[o])&&i.push(t[o]);return i},_seriesOptions:function(){var t=this._series;return t||(t=this._series=this._chart._seriesOptions(this._options)),t},_clearFields:function(){delete this._points,delete this._series}});s.Tooltip=it,s.CrosshairTooltip=nt,s.ChartInstanceObserver=Y,s.ChartPane=ot,s.ChartSeries=rt}(window.kendo.jQuery),window.kendo})?r.apply(e,a):r,i(0),a=[n,o],void 0===(s="function"==typeof(r=function(){})?r.apply(e,a):r)||(t.exports=s)},function(t,e,i){var n,o,r;i(0),o=[i(83),i(168)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile,o=i.support,r=n.ui.Widget,a=n.ui.Pane,s=o.mobileOS,l="blackberry"==s.device&&s.flatVersion>=600&&s.flatVersion<1e3&&s.appMode,c="km-vertical",u="chrome"===s.browser,h=s.ios&&s.flatVersion>=700&&s.flatVersion<800&&(s.appMode||u),d=Math.abs(window.orientation)/90==1,f="km-horizontal",p={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},m=i.template('<meta content="initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),g=i.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),v=i.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),b=s.android&&"chrome"!=s.browser||s.blackberry,k=i.template('<link rel="apple-touch-icon'+(s.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),y=("iphone"==s.device||"ipod"==s.device)&&s.majorVersion<7,w=("iphone"==s.device||"ipod"==s.device)&&s.majorVersion>=7?"none":null,_="mobilesafari"==s.browser?60:0,x=t(window),S=window.screen,C=t("head"),A=t.proxy;function T(t){return s.wp?"-kendo-landscape"==t.css("animation-name"):Math.abs(window.orientation)/90==1}function j(t){return T(t)?f:c}function M(t){t.parent().addBack().css("min-height",window.innerHeight)}function z(){t("meta[name=viewport]").remove(),C.append(m({height:", width=device-width"+(T()?", height="+window.innerHeight+"px":o.mobileOS.flatVersion>=600&&o.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var E=r.extend({init:function(e,i){n.application=this,t(t.proxy(this,"bootstrap",e,i))},bootstrap:function(e,n){(e=t(e))[0]||(e=t(document.body)),r.fn.init.call(this,e,n),this.element.removeAttr("data-"+i.ns+"role"),this._setupPlatform(),this._attachMeta(),this._setupElementClass(),this._attachHideBarHandlers();var o=t.extend({},this.options);delete o.name;var s=this,l=function(){s.pane=new a(s.element,o),s.pane.navigateToInitial(),s.options.updateDocumentTitle&&s._setupDocumentTitle(),s._startHistory(),s.trigger("init")};this.options.$angular?setTimeout(l):l()},options:{name:"Application",hideAddressBar:!0,browserHistory:!0,historyTransition:w,modelScope:window,statusBarStyle:"black",transition:"",retina:!1,platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:["init"],navigate:function(t,e){this.pane.navigate(t,e)},replace:function(t,e){this.pane.replace(t,e)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},changeLoadingMessage:function(t){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");this.pane.changeLoadingMessage(t)},view:function(){return this.pane.view()},skin:function(t){return arguments.length?(this.options.skin=t||"",this.element[0].className="km-pane",this._setupPlatform(),this._setupElementClass(),this.options.skin):this.options.skin},destroy:function(){r.fn.destroy.call(this),this.pane.destroy(),this.options.browserHistory&&this.router.destroy()},_setupPlatform:function(){var e=this,i=e.options.platform,n=e.options.skin,o=[],r=s||p.ios7;i&&(r.setDefaultPlatform=!0,"string"==typeof i?(o=i.split("-"),r=t.extend({variant:o[1]},r,p[o[0]])):r=i),n&&(o=n.split("-"),s||(r.setDefaultPlatform=!1),r=t.extend({},r,{skin:o[0],variant:o[1]})),r.variant||(r.noVariantSet=!0,r.variant="dark"),e.os=r,e.osCssClass=function(t,e){var i=[];return s&&i.push("km-on-"+s.name),t.skin?i.push("km-"+t.skin):"ios"==t.name&&t.majorVersion>6?i.push("km-ios7"):i.push("km-"+t.name),("ios"==t.name&&t.majorVersion<7||"ios"!=t.name)&&i.push("km-"+t.name+t.majorVersion),i.push("km-"+t.majorVersion),i.push("km-m"+(t.minorVersion?t.minorVersion[0]:0)),t.variant&&(t.skin&&t.skin===t.name||!t.skin||!1===t.setDefaultPlatform)&&i.push("km-"+(t.skin?t.skin:t.name)+"-"+t.variant),t.cordova&&i.push("km-cordova"),t.appMode?i.push("km-app"):i.push("km-web"),e&&e.statusBarStyle&&i.push("km-"+e.statusBarStyle+"-status-bar"),i.join(" ")}(e.os,e.options),"wp"==r.name&&(e.refreshBackgroundColorProxy||(e.refreshBackgroundColorProxy=t.proxy(function(){(e.os.variant&&e.os.skin&&e.os.skin===e.os.name||!e.os.skin)&&e.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(function(e){return"km-wp-"+(e.noVariantSet?0===parseInt(t("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light":e.variant+" km-wp-"+e.variant+"-force")}(e.os))},e)),t(document).off("visibilitychange",e.refreshBackgroundColorProxy),t(document).off("resume",e.refreshBackgroundColorProxy),r.skin||(e.element.parent().css("overflow","hidden"),t(document).on("visibilitychange",e.refreshBackgroundColorProxy),t(document).on("resume",e.refreshBackgroundColorProxy),e.refreshBackgroundColorProxy()))},_startHistory:function(){this.options.browserHistory?(this.router=new i.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()):this.options.initial||this.pane.navigate("")},_resizeToScreenHeight:function(){var e,i=t("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),n=this.element;e=u?window.innerHeight:T(n)?i?d?S.availWidth+20:S.availWidth:d?S.availWidth:S.availWidth-20:i?d?S.availHeight:S.availHeight+20:d?S.availHeight-20:S.availHeight,n.height(e)},_setupElementClass:function(){var e,n=this,r=n.element;r.parent().addClass("km-root km-"+(n.os.tablet?"tablet":"phone")),r.addClass(n.osCssClass+" "+j(r)),this.options.useNativeScrolling&&r.parent().addClass("km-native-scrolling"),u&&r.addClass("km-ios-chrome"),o.wpDevicePixelRatio&&r.parent().css("font-size",o.wpDevicePixelRatio+"em"),this.options.retina&&(r.parent().addClass("km-retina"),r.parent().css("font-size",.93*o.devicePixelRatio+"em")),l&&z(),n.options.useNativeScrolling?r.parent().addClass("km-native-scrolling"):b&&(e=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,t(v({width:e,height:e})).appendTo(C)),h&&n._resizeToScreenHeight(),i.onResize(function(){r.removeClass("km-horizontal km-vertical").addClass(j(r)),n.options.useNativeScrolling&&M(r),h&&n._resizeToScreenHeight(),l&&z(),i.resize(r)})},_clearExistingMeta:function(){C.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var t,e=this.options,i=e.icon;if(this._clearExistingMeta(),l||C.prepend(m({height:"",scale:this.options.retina?1/o.devicePixelRatio:"1.0"})),C.prepend(g(e)),i)for(t in"string"==typeof i&&(i={"":i}),i)C.prepend(k({icon:i[t],size:t}));e.useNativeScrolling&&M(this.element)},_attachHideBarHandlers:function(){var t=A(this,"_hideBar");!o.mobileOS.appMode&&this.options.hideAddressBar&&y&&!this.options.useNativeScrolling&&(this._initialHeight={},x.on("load",t),i.onResize(function(){setTimeout(window.scrollTo,0,0,1)}))},_setupDocumentTitle:function(){var t=document.title;this.pane.bind("viewShow",function(e){var i=e.view.title;document.title=void 0!==i?i:t})},_hideBar:function(){this.element.height(i.support.transforms.css+"calc(100% + "+_+"px)"),t(window).trigger(i.support.resize)}});i.mobile.Application=E,i.ui.plugin(E,i.mobile,"Mobile")}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=n.Widget,r="state-active",a="state-disabled";function s(t){return"k-"+t+" km-"+t}function l(e){return t('<span class="'+s("badge")+'">'+e+"</span>")}var c=o.extend({init:function(t,e){o.fn.init.call(this,t,e),this.element.addClass("km-buttongroup k-widget k-button-group").find("li").each(this._button),this.element.on(this.options.selectOn,"li:not(.km-state-active)","_select"),this._enable=!0,this.select(this.options.index),this.options.enable||(this._enable=!1,this.wrapper.addClass(s(a)))},events:["select"],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:!0},current:function(){return this.element.find(".km-"+r)},select:function(e){var i=-1;void 0!==e&&-1!==e&&this._enable&&!t(e).is(".km-"+a)&&(this.current().removeClass(s(r)),"number"==typeof e?(i=e,e=t(this.element[0].children[e])):e.nodeType&&(i=(e=t(e)).index()),e.addClass(s(r)),this.selectedIndex=i)},badge:function(e,i){var n,o=this.element;return isNaN(e)||(e=o.children().get(e)),e=o.find(e),n=t(e.children(".km-badge")[0]||l(i).appendTo(e)),i||0===i?(n.html(i),this):!1===i?(n.empty().remove(),this):n.html()},enable:function(t){void 0===t&&(t=!0),this.wrapper.toggleClass(s(a),!t),this._enable=this.options.enable=t},_button:function(){var e=t(this).addClass(s("button")),n=i.attrValue(e,"icon"),o=i.attrValue(e,"badge"),r=e.children("span"),a=e.find("img").addClass(s("image"));r[0]||(r=e.wrapInner("<span/>").children("span")),r.addClass(s("text")),!a[0]&&n&&e.prepend(t('<span class="'+s("icon")+" "+s(n)+'"/>')),(o||0===o)&&l(o).appendTo(e)},_select:function(t){t.which>1||t.isDefaultPrevented()||!this._enable||(this.select(t.currentTarget),this.trigger("select",{index:this.selectedIndex}))}});n.plugin(c)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(117),i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile,o=i.support.mobileOS,r=i.effects.Transition,a=i.roleSelector,s=n.ui,l=!(o.ios&&7==o.majorVersion&&!o.appMode),c={enable:t.noop},u=s.View.extend({init:function(e,o){t(e).parent().prepend(e),n.ui.Widget.fn.init.call(this,e,o),this.options.$angular||(this._layout(),this._scroller()),this._model();var r,s=this.element.closest(a("pane")).data("kendoMobilePane");if(s)this.pane=s,this.pane.bind("viewShow",function(t){h._viewShow(t)}),this.pane.bind("sameViewRequested",function(){h.hide()}),r=this.userEvents=new i.UserEvents(s.element,{fastTap:!0,filter:a("view splitview"),allowSelection:!0});else{this.currentView=c;var u=t(this.options.container);if(!u)throw new Error("The drawer needs a container configuration option set.");r=this.userEvents=new i.UserEvents(u,{fastTap:!0,allowSelection:!0}),this._attachTransition(u)}var h=this,d=function(t){h.visible&&(h.hide(),t.preventDefault())};this.options.swipeToOpen&&l?(r.bind("press",function(){h.transition.cancel()}),r.bind("start",function(t){h._start(t)}),r.bind("move",function(t){h._update(t)}),r.bind("end",function(t){h._end(t)}),r.bind("tap",d)):r.bind("press",d),this.leftPositioned="left"===this.options.position,this.visible=!1,this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer"),this.trigger("init")},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:!0,title:"",container:null},events:["beforeShow","hide","afterHide","init","show"],show:function(){this._activate()&&this._show()},hide:function(){this.currentView&&(this.currentView.enable(),u.current=null,this._moveViewTo(0),this.trigger("hide",{view:this}))},openFor:function(){this.visible?this.hide():this.show()},destroy:function(){s.View.fn.destroy.call(this),this.userEvents.destroy()},_activate:function(){return!!this.visible||!(!this._currentViewIncludedIn(this.options.views)||this.trigger("beforeShow",{view:this}))&&(this._setAsCurrent(),this.element.show(),this.trigger("show",{view:this}),this._invokeNgController(),!0)},_currentViewIncludedIn:function(e){if(!this.pane||!e.length)return!0;var i=this.pane.view();return t.inArray(i.id.replace("#",""),e)>-1||t.inArray(i.element.attr("id"),e)>-1},_show:function(){this.currentView.enable(!1),this.visible=!0;var t=this.element.width();this.leftPositioned||(t=-t),this._moveViewTo(t)},_setAsCurrent:function(){u.last!==this&&(u.last&&u.last.element.hide(),this.element.show()),u.last=this,u.current=this},_moveViewTo:function(t){this.userEvents.cancel(),this.transition.moveTo({location:t,duration:400,ease:r.easeOutExpo})},_viewShow:function(t){this.currentView&&this.currentView.enable(),this.currentView!==t.view?(this.currentView=t.view,this._attachTransition(t.view.element)):this.hide()},_attachTransition:function(t){var e=this,n=this.movable,o=n&&n.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis("x",0)),n=this.movable=new i.ui.Movable(t),this.transition=new r({axis:"x",movable:this.movable,onEnd:function(){0===n.x&&(t[0].style.cssText="",e.element.hide(),e.trigger("afterHide"),e.visible=!1)}}),o&&(t.addClass("k-fx-hidden"),i.animationFrame(function(){t.removeClass("k-fx-hidden"),e.movable.moveAxis("x",o),e.hide()}))},_start:function(t){var e=t.sender;if(Math.abs(t.x.velocity)<Math.abs(t.y.velocity)||i.triggeredByInput(t.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews))e.cancel();else{var n=this.leftPositioned,o=this.visible,r=n&&o||!n&&!u.current,a=!n&&o||n&&!u.current,s=t.x.velocity<0;(r&&s||a&&!s)&&this._activate()?e.capture():e.cancel()}},_update:function(t){var e,i=this.movable.x+t.x.delta;e=this.leftPositioned?Math.min(Math.max(0,i),this.element.width()):Math.max(Math.min(0,i),-this.element.width()),this.movable.moveAxis("x",e),t.event.preventDefault(),t.event.stopPropagation()},_end:function(t){var e=t.x.velocity,i=Math.abs(this.movable.x)>this.element.width()/2;(this.leftPositioned?e>-.8&&(e>.8||i):e<.8&&(e<-.8||i))?this._show():this.hide()}});s.plugin(u)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(17),i(21),i(169)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=window.Node,o=i.mobile,r=o.ui,a=i._outerHeight,s=i.data.DataSource,l=r.DataBoundWidget,c="["+i.attr("icon")+"]",u=t.proxy,h=i.attrValue,d=i.template('<li><div class="km-group-title"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),f=i.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),p=".kendoMobileListView",m=/^\s+$/,g=/button/;function v(){return this.nodeType===n.TEXT_NODE&&this.nodeValue.match(m)}function b(t,e){e&&!t[0].querySelector(".km-icon")&&t.prepend('<span class="km-icon km-'+e+'"/>')}function k(e,i){t(e).css("transform","translate3d(0px, "+i+"px, 0px)")}var y=i.Class.extend({init:function(t){var e=t.scroller();if(e){this.options=t.options,this.element=t.element,this.scroller=t.scroller(),this._shouldFixHeaders();var i=this,n=function(){i._cacheHeaders()};t.bind("resize",n),t.bind("styled",n),t.bind("dataBound",n),this._scrollHandler=function(t){i._fixHeader(t)},e.bind("scroll",this._scrollHandler)}},destroy:function(){this.scroller&&this.scroller.unbind("scroll",this._scrollHandler)},_fixHeader:function(e){if(this.fixedHeaders){var i,n,o,r=0,a=this.scroller,s=this.headers,l=e.scrollTop;do{if(!(i=s[r++])){o=t("<div />");break}n=i.offset,o=i.header}while(n+1>l);this.currentHeader!=r&&(a.fixedContainer.html(o.clone()),this.currentHeader=r)}},_shouldFixHeaders:function(){this.fixedHeaders="group"===this.options.type&&this.options.fixedHeaders},_cacheHeaders:function(){if(this._shouldFixHeaders(),this.fixedHeaders){var e=[],i=this.scroller.scrollTop;this.element.find(".km-group-title").each(function(n,o){o=t(o),e.unshift({offset:o.position().top+i,header:o})}),this.headers=e,this._fixHeader({scrollTop:i})}}}),w=function(){return{page:1}},_=i.Class.extend({init:function(t){var e=this,i=t.options,n=t.scroller(),o=i.pullParameters||w;this.listView=t,this.scroller=n,t.bind("_dataSource",function(t){e.setDataSource(t.dataSource)}),n.setOptions({pullToRefresh:!0,pull:function(){e._pulled||(e._pulled=!0,e.dataSource.read(o.call(t,e._first)))},messages:{pullTemplate:i.messages.pullTemplate,releaseTemplate:i.messages.releaseTemplate,refreshTemplate:i.messages.refreshTemplate}})},setDataSource:function(t){var e=this;this._first=t.view()[0],this.dataSource=t,t.bind("change",function(){e._change()}),t.bind("error",function(){e._change()})},_change:function(){var t=this.scroller,e=this.dataSource;if(this._pulled&&t.pullHandled(),this._pulled||!this._first){var i=e.view();i[0]&&(this._first=i[0])}this._pulled=!1}}),x=i.Observable.extend({init:function(t){var e=this;i.Observable.fn.init.call(e),e.buffer=t.buffer,e.height=t.height,e.item=t.item,e.items=[],e.footer=t.footer,e.buffer.bind("reset",function(){e.refresh()})},refresh:function(){for(var t=this.buffer,e=this.items,i=!1;e.length;)e.pop().destroy();this.offset=t.offset;for(var n,o,r=this.item,a=0;a<t.viewSize;a++){if(a===t.total()){i=!0;break}(o=r(this.content(this.offset+e.length))).below(n),n=o,e.push(o)}this.itemCount=e.length,this.trigger("reset"),this._resize(),i&&this.trigger("endReached")},totalHeight:function(){if(!this.items[0])return 0;var t=this.items,e=t[0].top,i=t[t.length-1].bottom,n=(i-e)/this.itemCount,o=this.buffer.length-this.offset-this.itemCount;return(this.footer?this.footer.height:0)+i+o*n},batchUpdate:function(t){var e,i=this.height(),n=this.items,o=this.offset;if(n[0]){if(this.lastDirection)for(;n[n.length-1].bottom>t+2*i&&0!==this.offset;)this.offset--,(e=n.pop()).update(this.content(this.offset)),e.above(n[0]),n.unshift(e);else for(;n[0].top<t-i;){var r=this.offset+this.itemCount;if(r===this.buffer.total()){this.trigger("endReached");break}if(r===this.buffer.length)break;(e=n.shift()).update(this.content(this.offset+this.itemCount)),e.below(n[n.length-1]),n.push(e),this.offset++}o!==this.offset&&this._resize()}},update:function(t){var e,i,n,o=this.items,r=this.height(),a=this.itemCount,s=r/2,l=(this.lastTop||0)>t,c=t-s,u=t+r+s;if(o[0])if(this.lastTop=t,this.lastDirection=l,l)o[0].top>c&&o[o.length-1].bottom>u+s&&this.offset>0&&(this.offset--,e=o.pop(),i=o[0],e.update(this.content(this.offset)),o.unshift(e),e.above(i),this._resize());else if(o[o.length-1].bottom<u&&o[0].top<c-s){var h=this.offset+a;h===this.buffer.total()?this.trigger("endReached"):h!==this.buffer.length&&(e=o.shift(),n=o[o.length-1],o.push(e),e.update(this.content(this.offset+this.itemCount)),this.offset++,e.below(n),this._resize())}},content:function(t){return this.buffer.at(t)},destroy:function(){this.unbind()},_resize:function(){var t=this.items,e=0,i=0,n=t[0],o=t[t.length-1];n&&(e=n.top,i=o.bottom),this.trigger("resize",{top:e,bottom:i}),this.footer&&this.footer.below(o)}});i.mobile.ui.VirtualList=x;var S=i.Class.extend({init:function(e,i){var n=e.append([i],!0)[0],o=n.offsetHeight;t.extend(this,{top:0,element:n,listView:e,height:o,bottom:o})},update:function(t){this.element=this.listView.setDataItem(this.element,t)},above:function(t){t&&(this.height=this.element.offsetHeight,this.top=t.top-this.height,this.bottom=t.top,k(this.element,this.top))},below:function(t){t&&(this.height=this.element.offsetHeight,this.top=t.bottom,this.bottom=this.top+this.height,k(this.element,this.top))},destroy:function(){i.destroy(this.element),t(this.element).remove()}}),C='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>',A=i.Class.extend({init:function(e){this.element=t('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(e.element),this._loadIcon=t(C).appendTo(this.element)},enable:function(){this.element.show(),this.height=a(this.element,!0)},disable:function(){this.element.hide(),this.height=0},below:function(t){t&&(this.top=t.bottom,this.bottom=this.height+this.top,k(this.element,this.top))}}),T=A.extend({init:function(e,i){this._loadIcon=t(C).hide(),this._loadButton=t('<a class="km-load">'+e.options.messages.loadMoreText+"</a>").hide(),this.element=t('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(e.element);var n=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){n._hideShowButton(),i.next()}),i.bind("resize",function(){n._showLoadButton()}),this.height=a(this.element,!0),this.disable()},_hideShowButton:function(){this._loadButton.hide(),this.element.addClass("km-scroller-refresh"),this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show(),this.element.removeClass("km-scroller-refresh"),this._loadIcon.hide()}}),j=i.Class.extend({init:function(t){var e=this;this.chromeHeight=a(t.wrapper.children().not(t.element)),this.listView=t,this.scroller=t.scroller(),this.options=t.options,t.bind("_dataSource",function(t){e.setDataSource(t.dataSource,t.empty)}),t.bind("resize",function(){e.list.items.length&&(e.scroller.reset(),e.buffer.range(0),e.list.refresh())}),this.scroller.makeVirtual(),this._scroll=function(t){e.list.update(t.scrollTop)},this.scroller.bind("scroll",this._scroll),this._scrollEnd=function(t){e.list.batchUpdate(t.scrollTop)},this.scroller.bind("scrollEnd",this._scrollEnd)},destroy:function(){this.list.unbind(),this.buffer.unbind(),this.scroller.unbind("scroll",this._scroll),this.scroller.unbind("scrollEnd",this._scrollEnd)},setDataSource:function(e,n){var o,r,a,s=this,l=this.options,c=this.listView,u=c.scroller(),h=l.loadMore;if(this.dataSource=e,!(o=e.pageSize()||l.virtualViewSize)&&!n)throw new Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.");this.buffer&&this.buffer.destroy(),r=new i.data.Buffer(e,Math.floor(o/2),h),a=h?new T(c,r):new A(c),this.list&&this.list.destroy();var d=new x({buffer:r,footer:a,item:function(t){return new S(c,t)},height:function(){return u.height()}});d.bind("resize",function(){s.updateScrollerSize(),c.updateSize()}),d.bind("reset",function(){s.footer.enable()}),d.bind("endReached",function(){a.disable(),s.updateScrollerSize()}),r.bind("expand",function(){d.lastDirection=!1,d.batchUpdate(u.scrollTop)}),t.extend(this,{buffer:r,scroller:u,list:d,footer:a})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0),this.list.refresh()}}),M=i.Class.extend({init:function(t){var e=this;this.listView=t,this.options=t.options;var i=this;this._refreshHandler=function(t){i.refresh(t)},this._progressHandler=function(){t.showLoading()},t.bind("_dataSource",function(t){e.setDataSource(t.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(t){var e,i,n,o,a=t&&t.action,s=t&&t.items,l=this.listView,c=this.dataSource,u=this.options.appendOnRefresh,h=c.view(),d=c.group(),f=d&&d[0];if("itemchange"!==a)if("add"===a&&!f||u&&!l._filter?i=[]:"remove"===a&&!f&&(i=l.findByDataItem(s)),l.trigger("dataBinding",{action:a||"rebind",items:s,removedItems:i,index:t&&t.index}))this._shouldShowLoading()&&l.hideLoading();else{if("add"!==a||f)"remove"!==a||f?f?l.replaceGrouped(h):u&&!l._filter?(n=l.prepend(h),o=h):l.replace(h):(n=[],l.remove(s));else{var p=h.indexOf(s[0]);p>-1&&(n=l.insertAt(s,p),o=s)}this._shouldShowLoading()&&l.hideLoading(),l.trigger("dataBound",{ns:r,addedItems:n,addedDataItems:o})}else l._hasBindingTarget()||(e=l.findByDataItem(s)[0])&&l.setDataItem(e,s[0])},setDataSource:function(t){this.dataSource&&this._unbindDataSource(),this.dataSource=t,t.bind("change",this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind("progress",this._progressHandler)},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler)},_shouldShowLoading:function(){var t=this.options;return!t.pullToRefresh&&!t.loadMore&&!t.endlessScroll}}),z=i.Class.extend({init:function(e){var i=this,n=e.options.filterable,o="change paste",r=this;this.listView=e,this.options=n,e.element.before(f({placeholder:n.placeholder||"Search..."})),!1!==n.autoFilter&&(o+=" keyup"),this.element=e.wrapper.find(".km-search-form"),this.searchInput=e.wrapper.find("input[type=search]").closest("form").on("submit"+p,function(t){t.preventDefault()}).end().on("focus"+p,function(){i._oldFilter=i.searchInput.val()}).on(o.split(" ").join(p+" ")+p,u(this._filterChange,this)),this.clearButton=e.wrapper.find(".km-filter-reset").on("click",u(this,"_clearFilter")).hide(),this._dataSourceChange=t.proxy(this._refreshInput,this),e.bind("_dataSource",function(t){t.dataSource.bind("change",r._dataSourceChange)})},_refreshInput:function(){var t=this.listView.dataSource.filter(),e=this.listView._filter.searchInput;t&&t.filters[0].field===this.listView.options.filterable.field?e.val(t.filters[0].value):e.val("")},_search:function(t){this._filter=!0,this.clearButton[t?"show":"hide"](),this.listView.dataSource.filter(t)},_filterChange:function(t){var e=this;"paste"==t.type&&!1!==this.options.autoFilter?setTimeout(function(){e._applyFilter()},1):this._applyFilter()},_applyFilter:function(){var t=this.options,e=this.searchInput.val(),i=e.length?{field:t.field,operator:t.operator||"startswith",ignoreCase:t.ignoreCase,value:e}:null;e!==this._oldFilter&&(this._oldFilter=e,this._search(i))},_clearFilter:function(t){this.searchInput.val(""),this._search(null),t.preventDefault()}}),E=l.extend({init:function(e,n){var o=this;l.fn.init.call(this,e,n),e=this.element,(n=this.options).scrollTreshold&&(n.scrollThreshold=n.scrollTreshold),e.on("down",".km-listview-link, .km-listview-label","_highlight").on("move up cancel",".km-listview-link, .km-listview-label","_dim"),this._userEvents=new i.UserEvents(e,{fastTap:!0,filter:".km-list > li, > li:not(.km-group-container)",allowSelection:!0,tap:function(t){o._click(t)}}),e.css("-ms-touch-action","auto"),e.wrap('<div class="km-listview-wrapper" />'),this.wrapper=this.element.parent(),this._headerFixer=new y(this),this._itemsCache={},this._templates(),this.virtual=n.endlessScroll||n.loadMore,this._style(),this.options.$angular&&(this.virtual||this.options.pullToRefresh)?setTimeout(t.proxy(this,"_start")):this._start()},_start:function(){var t=this.options;this.options.filterable&&(this._filter=new z(this)),this.virtual?this._itemBinder=new j(this):this._itemBinder=new M(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new _(this)),this.setDataSource(t.dataSource),this._enhanceItems(this.items()),i.notify(this,r)},events:["click","dataBinding","dataBound","itemChange"],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:!1,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(t){var e=!t;this.dataSource=s.create(t),this.trigger("_dataSource",{dataSource:this.dataSource,empty:e}),this.options.autoBind&&!e&&(this.items().remove(),this.dataSource.fetch())},destroy:function(){l.fn.destroy.call(this),i.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),this._headerFixer&&this._headerFixer.destroy(),this.element.unwrap(),delete this.element,delete this.wrapper,delete this._userEvents},items:function(){return"group"===this.options.type?this.element.find(".km-list").children():this.element.children().not(".km-load-more")},scroller:function(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance},showLoading:function(){var t=this.view();t&&t.loader&&t.loader.show()},hideLoading:function(){var t=this.view();t&&t.loader&&t.loader.hide()},insertAt:function(t,e,i){var n=this;return n._renderItems(t,function(o){if(0===e?n.element.prepend(o):-1===e?n.element.append(o):n.items().eq(e-1).after(o),i)for(var a=0;a<o.length;a++)n.trigger("itemChange",{item:o.eq(a),data:t[a],ns:r})})},append:function(t,e){return this.insertAt(t,-1,e)},prepend:function(t,e){return this.insertAt(t,0,e)},replace:function(t){return this.options.type="flat",this._angularItems("cleanup"),i.destroy(this.element.children()),this.element.empty(),this._userEvents.cancel(),this._style(),this.insertAt(t,0)},replaceGrouped:function(e){this.options.type="group",this._angularItems("cleanup"),this.element.empty();var n=t(i.render(this.groupTemplate,e));this._enhanceItems(n.children("ul").children("li")),this.element.append(n),o.init(n),this._style(),this._angularItems("compile")},remove:function(t){var e=this.findByDataItem(t);this.angular("cleanup",function(){return{elements:e}}),i.destroy(e),e.remove()},findByDataItem:function(t){for(var e=[],n=0,o=t.length;n<o;n++)e[n]="[data-"+i.ns+"uid="+t[n].uid+"]";return this.element.find(e.join(","))},setDataItem:function(e,n){var o=this;return this._renderItems([n],function(a){var s=t(a[0]);i.destroy(e),o.angular("cleanup",function(){return{elements:[t(e)]}}),t(e).replaceWith(s),o.trigger("itemChange",{item:s,data:n,ns:r})})[0]},updateSize:function(){this._size=this.getSize()},_renderItems:function(e,n){var r=t(i.render(this.template,e));return n(r),this.angular("compile",function(){return{elements:r,data:e.map(function(t){return{dataItem:t}})}}),o.init(r),this._enhanceItems(r),r},_dim:function(t){this._toggle(t,!1)},_highlight:function(t){this._toggle(t,!0)},_toggle:function(e,i){if(!(e.which>1)){var n=t(e.currentTarget),o=n.parent(),r=!(h(n,"role")||"").match(g),a=e.isDefaultPrevented();r&&o.toggleClass("km-state-active",i&&!a)}},_templates:function(){var t=this.options.template,e=this.options.headerTemplate,n={},o={};"function"==typeof t&&(n.template=t,t="#=this.template(data)#"),this.template=u(i.template('<li data-uid="#=arguments[0].uid || ""#">'+t+"</li>"),n),o.template=this.template,"function"==typeof e&&(o._headerTemplate=e,e="#=this._headerTemplate(data)#"),o.headerTemplate=i.template(e),this.groupTemplate=u(d,o)},_click:function(e){if(!(e.event.which>1||e.event.isDefaultPrevented())){var n,o=e.target,a=t(e.event.target),s=a.closest(i.roleSelector("button","detailbutton","backbutton")),l=i.widgetInstance(s,r),c=o.attr(i.attr("uid"));c&&(n=this.dataSource.getByUid(c)),this.trigger("click",{target:a,item:o,dataItem:n,button:l})&&e.preventDefault()}},_styleGroups:function(){var e=this.element.children();e.children("ul").addClass("km-list"),e.each(function(){var e=t(this),i=e.contents().first();e.addClass("km-group-container"),i.is("ul")||i.is("div.km-group-title")||i.wrap('<div class="km-group-title"><div class="km-text"></div></div>')})},_style:function(){var t=this.options,e="group"===t.type,i=this.element,n="inset"===t.style;i.addClass("km-listview").toggleClass("km-list",!e).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!e&&n).toggleClass("km-listgroup",e&&!n).toggleClass("km-listgroupinset",e&&n),i.parents(".km-listview")[0]||i.closest(".km-content").toggleClass("km-insetcontent",n),e&&this._styleGroups(),this.trigger("styled")},_enhanceItems:function(e){e.each(function(){var e,n=t(this),o=!1;n.children().each(function(){(e=t(this)).is("a")?(function(t){var e=t.parent(),n=t.add(e.children(i.roleSelector("detailbutton")));e.contents().not(n).not(v).length||(t.addClass("km-listview-link").attr(i.attr("role"),"listview-link"),b(t,h(e,"icon")),b(t,h(t,"icon")))}(e),o=!0):e.is("label")&&(function(t){t[0].querySelector("input[type=checkbox],input[type=radio]")&&(t.parent().contents().not(t).not(function(){return 3==this.nodeType})[0]||(t.addClass("km-listview-label"),t.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check")))}(e),o=!0)}),o||function(t){b(t,h(t,"icon")),b(t,h(t.children(c),"icon"))}(n)})}});r.plugin(E)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=n.Widget;function r(e,n){var o=n.find("["+i.attr("align")+"="+e+"]");if(o[0])return t('<div class="km-'+e+'item" />').append(o).prependTo(n)}var a=o.extend({init:function(e,i){o.fn.init.call(this,e,i),e=this.element,this.container().bind("show",t.proxy(this,"refresh")),e.addClass("km-navbar").wrapInner(t('<div class="km-view-title km-show-title" />')),this.leftElement=r("left",e),this.rightElement=r("right",e),this.centerElement=e.find(".km-view-title")},options:{name:"NavBar"},title:function(e){this.element.find(i.roleSelector("view-title")).text(e),function(e){var n=e.siblings(),o=!!e.children("ul")[0],r=!!n[0]&&""===t.trim(e.text()),a=!(!i.mobile.application||!i.mobile.application.element.is(".km-android"));e.prevAll().toggleClass("km-absolute",o),e.toggleClass("km-show-title",r),e.toggleClass("km-fill-title",r&&!t.trim(e.html())),e.toggleClass("km-no-title",o),e.toggleClass("km-hide-title",a&&!n.children().is(":visible"))}(this.centerElement)},refresh:function(t){var e=t.view;this.title(e.options.title)},destroy:function(){o.fn.destroy.call(this),i.destroy(this.element)}});n.plugin(a)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(63),i(17),i(29)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=t.proxy,r=i.effects.Transition,a=i.ui.Pane,s=i.ui.PaneDimensions,l=n.DataBoundWidget,c=i.data.DataSource,u=i.data.Buffer,h=i.data.BatchBuffer,d=Math,f=d.abs,p=d.ceil,m=d.round,g=d.max,v=d.min,b=d.floor;function k(t){return"k-"+t+" km-"+t}var y=i.Class.extend({init:function(e){var i=t("<ol class='"+k("pages")+"'/>");e.element.append(i),this._changeProxy=o(this,"_change"),this._refreshProxy=o(this,"_refresh"),e.bind("change",this._changeProxy),e.bind("refresh",this._refreshProxy),t.extend(this,{element:i,scrollView:e})},items:function(){return this.element.children()},_refresh:function(t){for(var e="",i=0;i<t.pageCount;i++)e+="<li/>";this.element.html(e),this.items().eq(t.page).addClass(k("current-page"))},_change:function(t){this.items().removeClass(k("current-page")).eq(t.page).addClass(k("current-page"))},destroy:function(){this.scrollView.unbind("change",this._changeProxy),this.scrollView.unbind("refresh",this._refreshProxy),this.element.remove()}});i.mobile.ui.ScrollViewPager=y;var w=i.Observable.extend({init:function(e,n){var o,l,c,u,h,d,p=this;i.Observable.fn.init.call(this),this.element=e,this.container=e.parent(),o=new i.ui.Movable(p.element),l=new r({axis:"x",movable:o,onEnd:function(){p.trigger("transitionEnd")}}),c=new i.UserEvents(e,{fastTap:!0,start:function(t){2*f(t.x.velocity)>=f(t.y.velocity)?c.capture():c.cancel(),p.trigger("dragStart",t),l.cancel()},allowSelection:!0,end:function(t){p.trigger("dragEnd",t)}}),(h=(u=new s({element:p.element,container:p.container})).x).bind("change",function(){p.trigger("change")}),d=new a({dimensions:u,userEvents:c,movable:o,elastic:!0}),t.extend(p,{duration:n&&n.duration||1,movable:o,transition:l,userEvents:c,dimensions:u,dimension:h,pane:d}),this.bind(["transitionEnd","dragStart","dragEnd","change"],n)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh()},moveTo:function(t){this.movable.moveAxis("x",-t)},transitionTo:function(t,e,i){i?this.moveTo(-t):this.transition.moveTo({location:t,duration:this.duration,ease:e})}});i.mobile.ui.ScrollViewElasticPane=w;var _=i.Observable.extend({init:function(t,e,n){i.Observable.fn.init.call(this),this.element=t,this.pane=e,this._getPages(),this.page=0,this.pageSize=n.pageSize||1,this.contentHeight=n.contentHeight,this.enablePager=n.enablePager,this.pagerOverlay=n.pagerOverlay},scrollTo:function(t,e){this.page=t,this.pane.transitionTo(-t*this.pane.size().width,r.easeOutExpo,e)},paneMoved:function(t,e,i,n){var o,a,s=this.pane,l=s.size().width*this.pageSize,c=m,u=e?r.easeOutBack:r.easeOutExpo;-1===t?c=p:1===t&&(c=b),a=c(s.offset()/l),o=g(this.minSnap,v(-a*l,this.maxSnap)),a!=this.page&&i&&i({currentPage:this.page,nextPage:a})&&(o=-this.page*s.size().width),s.transitionTo(o,u,n)},updatePage:function(){var t=this.pane,e=m(t.offset()/t.size().width);return e!=this.page&&(this.page=e,!0)},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(t){var e=this.pane,n=t.width;if(this.pageElements.width(n),"100%"===this.contentHeight){var o=this.element.parent().height();if(!0===this.enablePager){var r=this.element.parent().find("ol.km-pages");!this.pagerOverlay&&r.length&&(o-=i._outerHeight(r,!0))}this.element.css("height",o),this.pageElements.css("height",o)}e.updateDimension(),this._paged||(this.page=b(e.offset()/n)),this.scrollTo(this.page,!0),this.pageCount=p(e.total()/n),this.minSnap=-(this.pageCount-1)*n,this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(i.roleSelector("page")),this._paged=this.pageElements.length>0}});i.mobile.ui.ScrollViewContent=_;var x=i.Observable.extend({init:function(t,e,n){i.Observable.fn.init.call(this),this.element=t,this.pane=e,this.options=n,this._templates(),this.page=n.page||0,this.pages=[],this._initPages(),this.resizeTo(this.pane.size()),this.pane.dimension.forceEnabled()},setDataSource:function(t){this.dataSource=c.create(t),this._buffer(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1},_viewShow:function(){var t=this;t._pendingWidgetRefresh&&(setTimeout(function(){t._resetPages()},0),t._pendingWidgetRefresh=!1)},_buffer:function(){var t=this.options.itemsPerPage;this.buffer&&this.buffer.destroy(),this.buffer=t>1?new h(this.dataSource,t):new u(this.dataSource,3*t),this._resizeProxy=o(this,"_onResize"),this._resetProxy=o(this,"_onReset"),this._endReachedProxy=o(this,"_onEndReached"),this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var t=this.options.template,e=this.options.emptyTemplate,n={},r={};"function"==typeof t&&(n.template=t,t="#=this.template(data)#"),this.template=o(i.template(t),n),"function"==typeof e&&(r.emptyTemplate=e,e="#=this.emptyTemplate(data)#"),this.emptyTemplate=o(i.template(e),r)},_initPages:function(){for(var t,e=this.pages,i=this.element,n=0;n<3;n++)t=new S(i),e.push(t);this.pane.updateDimension()},resizeTo:function(t){for(var e=this.pages,n=this.pane,o=0;o<e.length;o++)e[o].setWidth(t.width);if("auto"===this.options.contentHeight)this.element.css("height",this.pages[1].element.height());else if("100%"===this.options.contentHeight){var r=this.element.parent().height();if(!0===this.options.enablePager){var a=this.element.parent().find("ol.km-pages");!this.options.pagerOverlay&&a.length&&(r-=i._outerHeight(a,!0))}this.element.css("height",r),e[0].element.css("height",r),e[1].element.css("height",r),e[2].element.css("height",r)}n.updateDimension(),this._repositionPages(),this.width=t.width},scrollTo:function(t){var e=this.buffer;e.syncDataSource(),e.at(t)&&(this._updatePagesContent(t),this.page=t)},paneMoved:function(t,e,n,o){var r,a=this.pane,s=a.size().width,l=a.offset(),c=Math.abs(l)>=s/3,u=e?i.effects.Transition.easeOutBack:i.effects.Transition.easeOutExpo,h=this.page+2>this.buffer.total(),d=0;1===t?0!==this.page&&(d=-1):-1!==t||h?l>0&&c&&!h?d=1:l<0&&c&&0!==this.page&&(d=-1):d=1,r=this.page,d&&(r=d>0?r+1:r-1),n&&n({currentPage:this.page,nextPage:r})&&(d=0),0===d?this._cancelMove(u,o):-1===d?this._moveBackward(o):1===d&&this._moveForward(o)},updatePage:function(){var t=this.pages;return 0!==this.pane.offset()&&(this.pane.offset()>0?(t.push(this.pages.shift()),this.page++,this.setPageContent(t[2],this.page+1)):(t.unshift(this.pages.pop()),this.page--,this.setPageContent(t[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var t=this.pane.offset(),e=3*this.pane.size().width/4;return f(t)>e&&this.updatePage()},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(t){this.pane.transitionTo(-this.width,i.effects.Transition.easeOutExpo,t)},_moveBackward:function(t){this.pane.transitionTo(this.width,i.effects.Transition.easeOutExpo,t)},_cancelMove:function(t,e){this.pane.transitionTo(0,t,e)},_resetPages:function(){this.page=this.options.page||0,this._updatePagesContent(this.page),this._repositionPages(),this.trigger("reset")},_onResize:function(){this.pageCount=p(this.dataSource.total()/this.options.itemsPerPage),this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1),this.trigger("resize")},_onReset:function(){this.pageCount=p(this.dataSource.total()/this.options.itemsPerPage),this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=!0},_repositionPages:function(){var t=this.pages;t[0].position(-1),t[1].position(0),t[2].position(1)},_updatePagesContent:function(t){var e=this.pages,i=t||0;this.setPageContent(e[0],i-1),this.setPageContent(e[1],i),this.setPageContent(e[2],i+1)},setPageContent:function(e,n){var o=this.buffer,r=this.template,a=this.emptyTemplate,s=null;n>=0&&(s=o.at(n),t.isArray(s)&&!s.length&&(s=null)),this.trigger("cleanup",{item:e.element}),null!==s?e.content(r(s)):e.content(a({})),i.mobile.init(e.element),this.trigger("itemChange",{item:e.element,data:s,ns:i.mobile.ui})}});i.mobile.ui.VirtualScrollViewContent=x;var S=i.Class.extend({init:function(e){this.element=t("<div class='"+k("virtual-page")+"'></div>"),this.width=e.width(),this.element.width(this.width),e.append(this.element)},content:function(t){this.element.html(t)},position:function(t){this.element.css("transform","translate3d("+this.width*t+"px, 0, 0)")},setWidth:function(t){this.width=t,this.element.width(t)}});i.mobile.ui.VirtualPage=S;var C=l.extend({init:function(t,e){var n=this;l.fn.init.call(n,t,e),e=n.options,t=n.element,i.stripWhitespace(t[0]),t.wrapInner("<div/>").addClass("k-widget "+k("scrollview")),this.options.enablePager&&(this.pager=new y(this),this.options.pagerOverlay&&t.addClass(k("scrollview-overlay"))),n.inner=t.children().first(),n.page=0,n.inner.css("height",e.contentHeight),n.pane=new w(n.inner,{duration:this.options.duration,transitionEnd:o(this,"_transitionEnd"),dragStart:o(this,"_dragStart"),dragEnd:o(this,"_dragEnd"),change:o(this,"refresh")}),n.bind("resize",function(){n.pane.refresh()}),n.page=e.page;var r=0===this.inner.children().length?new x(n.inner,n.pane,e):new _(n.inner,n.pane,e);r.page=n.page,r.bind("reset",function(){this._pendingPageRefresh=!1,n._syncWithContent(),n.trigger("refresh",{pageCount:r.pageCount,page:r.page})}),r.bind("resize",function(){n.trigger("refresh",{pageCount:r.pageCount,page:r.page})}),r.bind("itemChange",function(t){n.trigger("itemChange",t),n.angular("compile",function(){return{elements:t.item,data:[{dataItem:t.data}]}})}),r.bind("cleanup",function(t){n.angular("cleanup",function(){return{elements:t.item}})}),n._content=r,n.setDataSource(e.dataSource);var a=n.container();a.nullObject?(n.viewInit(),n.viewShow()):a.bind("show",o(this,"viewShow")).bind("init",o(this,"viewInit"))},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,pagerOverlay:!1,autoBind:!0,template:"",emptyTemplate:""},events:["changing","change","refresh"],destroy:function(){l.fn.destroy.call(this),i.destroy(this.element)},viewInit:function(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var t=this._content;t.resizeTo(this.pane.size()),this.page=t.page,this.trigger("refresh",{pageCount:t.pageCount,page:t.page})},content:function(t){this.element.children().first().html(t),this._content._getPages(),this.pane.refresh()},value:function(t){var e=this.dataSource;if(!t)return e.at(this.page);this.scrollTo(e.indexOf(t),!0)},scrollTo:function(t,e){this._content.scrollTo(t,e),this._syncWithContent()},prev:function(){var t=this,e=t.page-1;t._content instanceof x?t._content.paneMoved(1,void 0,function(e){return t.trigger("changing",e)}):e>-1&&t.scrollTo(e)},next:function(){var t=this,e=t.page+1;t._content instanceof x?t._content.paneMoved(-1,void 0,function(e){return t.trigger("changing",e)}):e<t._content.pageCount&&t.scrollTo(e)},setDataSource:function(t){if(this._content instanceof x){var e=!t;this.dataSource=c.create(t),this._content.setDataSource(this.dataSource),this.options.autoBind&&!e&&this.dataSource.fetch()}},items:function(){return this.element.find(".km-virtual-page")},_syncWithContent:function(){var t,e,i=this._content.pages,n=this._content.buffer;this.page=this._content.page,(t=n?n.at(this.page):void 0)instanceof Array||(t=[t]),e=i?i[1].element:void 0,this.trigger("change",{page:this.page,element:e,data:t})},_dragStart:function(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEnd:function(t){var e=this,i=t.x.velocity,n=this.options.velocityThreshold,o=0,r=f(i)>this.options.bounceVelocityThreshold;i>n?o=1:i<-n&&(o=-1),this._content.paneMoved(o,r,function(t){return e.trigger("changing",t)})},_transitionEnd:function(){this._content.updatePage()&&this._syncWithContent()}});n.plugin(C)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(63),i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.mobile.ui,o=i._outerWidth,r=n.Widget,a=i.support,s=(void 0===a.transitions.css?"":a.transitions.css)+"transform",l=t.proxy;function c(t){return"k-"+t+" km-"+t}var u='<span class="'+c("switch")+" "+c("widget")+'">        <span class="'+c("switch-wrapper")+'">            <span class="'+c("switch-background")+'"></span>        </span>         <span class="'+c("switch-container")+'">            <span class="'+c("switch-handle")+'">                 <span class="'+c("switch-label-on")+'">{0}</span>                 <span class="'+c("switch-label-off")+'">{1}</span>             </span>         </span>    </span>',h=r.extend({init:function(e,n){var o;r.fn.init.call(this,e,n),n=this.options,this.wrapper=t(i.format(u,n.onLabel,n.offLabel)),this.handle=this.wrapper.find(".km-switch-handle"),this.background=this.wrapper.find(".km-switch-background"),this.wrapper.insertBefore(this.element).prepend(this.element),this._drag(),this.origin=parseInt(this.background.css("margin-left"),10),this.constrain=0,this.snapPoint=0,(e=this.element[0]).type="checkbox",this._animateBackground=!0,null===(o=this.options.checked)&&(o=e.checked),this.check(o),this.options.enable=this.options.enable&&!this.element.attr("disabled"),this.enable(this.options.enable),this.refresh(),i.notify(this,i.mobile.ui)},refresh:function(){var t=o(this.handle,!0);this.width=this.wrapper.width(),this.constrain=this.width-t,this.snapPoint=this.constrain/2,"number"!=typeof this.origin&&(this.origin=parseInt(this.background.css("margin-left"),10)),this.background.data("origin",this.origin),this.check(this.element[0].checked)},events:["change"],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:!0},check:function(t){var e=this.element[0];if(void 0===t)return e.checked;this._position(t?this.constrain:0),e.checked=t,this.wrapper.toggleClass(c("switch-on"),t).toggleClass(c("switch-off"),!t)},value:function(){return this.check.apply(this,arguments)},destroy:function(){r.fn.destroy.call(this),this.userEvents.destroy()},toggle:function(){this.check(!this.element[0].checked)},enable:function(t){var e=this.element,i=this.wrapper;void 0===t&&(t=!0),this.options.enable=t,t?e.removeAttr("disabled"):e.attr("disabled","disabled"),i.toggleClass(c("state-disabled"),!t)},_resize:function(){this.refresh()},_move:function(t){t.preventDefault(),this._position(function(t,e,i){return Math.max(e,Math.min(i,t))}(this.position+t.x.delta,0,this.width-o(this.handle,!0)))},_position:function(t){this.position=t,this.handle.css(s,"translatex("+t+"px)"),this._animateBackground&&this.background.css("margin-left",this.origin+t)},_start:function(){this.options.enable?(this.userEvents.capture(),this.handle.addClass(c("state-active"))):this.userEvents.cancel()},_stop:function(){this.handle.removeClass(c("state-active")),this._toggle(this.position>this.snapPoint)},_toggle:function(t){var e,n=this,o=n.handle,r=n.element[0],a=r.checked,s=i.mobile.application&&i.mobile.application.os.wp?100:200;n.wrapper.toggleClass(c("switch-on"),t).toggleClass(c("switch-off"),!t),n.position=e=t*n.constrain,n._animateBackground&&n.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:e,reset:!0,reverse:!t,axis:"left",duration:s}),o.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:s,offset:e+"px,0",reset:!0,complete:function(){a!==t&&(r.checked=t,n.trigger("change",{checked:t}))}})},_drag:function(){var t=this;t.userEvents=new i.UserEvents(t.wrapper,{fastTap:!0,tap:function(){t.options.enable&&t._toggle(!t.element[0].checked)},start:l(t._start,t),move:l(t._move,t),end:l(t._stop,t)})}});n.plugin(h)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(4),i(21)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=t.proxy,r=Math.abs,a=n.extend({init:function(t,e){var r=this;function a(t){return function(e){r._triggerTouch(t,e)}}function s(t){return function(e){r.trigger(t,{touches:e.touches,distance:e.distance,center:e.center,event:e.event})}}n.fn.init.call(r,t,e),e=r.options,t=r.element,r.wrapper=t,r.events=new i.UserEvents(t,{filter:e.filter,surface:e.surface,minHold:e.minHold,multiTouch:e.multiTouch,allowSelection:!0,fastTap:e.fastTap,press:a("touchstart"),hold:a("hold"),tap:o(r,"_tap"),gesturestart:s("gesturestart"),gesturechange:s("gesturechange"),gestureend:s("gestureend")}),e.enableSwipe?(r.events.bind("start",o(r,"_swipestart")),r.events.bind("move",o(r,"_swipemove"))):(r.events.bind("start",o(r,"_dragstart")),r.events.bind("move",a("drag")),r.events.bind("end",a("dragend"))),i.notify(r)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,fastTap:!1,filter:null,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},destroy:function(){n.fn.destroy.call(this),this.events.destroy()},_triggerTouch:function(t,e){this.trigger(t,{touch:e.touch,event:e.event})&&e.preventDefault()},_tap:function(t){var e=this.lastTap,n=t.touch;e&&n.endTime-e.endTime<this.options.doubleTapTimeout&&i.touchDelta(n,e).distance<20?(this._triggerTouch("doubletap",t),this.lastTap=null):(this._triggerTouch("tap",t),this.lastTap=n)},_dragstart:function(t){this._triggerTouch("dragstart",t)},_swipestart:function(t){2*r(t.x.velocity)>=r(t.y.velocity)&&t.sender.capture()},_swipemove:function(t){var e=this.options,i=t.touch,n=t.event.timeStamp-i.startTime,o=i.x.initialDelta>0?"right":"left";r(i.x.initialDelta)>=e.minXDelta&&r(i.y.initialDelta)<e.maxYDelta&&n<e.maxDuration&&(this.trigger("swipe",{direction:o,touch:t.touch}),i.cancel())}});i.ui.plugin(a)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){"use strict";i.r(e),i.d(e,"useCordovaPlugIn",function(){return p}),i.d(e,"useWebSpeechSynthesis",function(){return m}),i.d(e,"getVoice",function(){return g}),i.d(e,"clearMarkdown",function(){return v}),i.d(e,"splitChunks",function(){return b}),i.d(e,"speechSynthesisPromise",function(){return k}),i.d(e,"doSpeak",function(){return y}),i.d(e,"cancelSpeak",function(){return w});var n=i(5),o=i.n(n),r=i(1),a=i(3);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=new(i(6).default)("window.tts"),c=175,u=/i(phone|pad|pod)/i,h=[];function d(){(h=window.speechSynthesis.getVoices()||[])._list&&(h=h._list)}function f(){"speechSynthesis"in window&&o.a.isFunction(window.speechSynthesis.getVoices)&&(d(),"onvoiceschanged"in window.speechSynthesis?window.speechSynthesis.onvoiceschanged=d:setTimeout(d,3e3))}function p(){return!!(window.cordova&&window.device&&"browser"!==window.device.platform&&window.TTS&&o.a.isFunction(window.TTS.speak))}function m(){return!!("speechSynthesis"in window&&o.a.isFunction(window.SpeechSynthesisUtterance)&&o.a.isFunction(window.speechSynthesis.speak))}function g(t){r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"language",a.a.STRING));var e,i=(h||[]).filter(function(e){return e.lang.toLowerCase().startsWith(t.toLowerCase())}),n=i.filter(function(t){return t.default&&t.localService});if(Array.isArray(n)&&n.length)e=s(n,1)[0];else if(Array.isArray(i)&&i.length){e=s(i,1)[0]}return e}function v(t){return r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"markdown",a.a.STRING)),t.replace(/[#`>_*]/g,"").replace(/!?\[([^\]]+)]\([^)]+\)/g,"$1")}function b(t,e){r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"text",a.a.STRING)),r.default.type(a.a.NUMBER,e,r.default.format(r.default.messages.type.default,"size",a.a.NUMBER));var i=[];if("chrome"in window&&o.a.type(window.StyleMedia)===a.a.UNDEFINED){var n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),s=Array.isArray(n)&&3===n.length&&parseInt(n[2],10);if(o.a.type(s)===a.a.NUMBER&&s<56)for(var l=new RegExp("^[\\s\\S]{".concat(Math.floor(e/2),",").concat(e,"[.!?,]{1}|^[\\s\\S]{1,' + size + '}$|^[\\s\\S]{1,").concat(e,"} ")),c=t;c.length>0;){var u=c.match(l)[0];i.push(u.trim()),c=c.substring(u.length)}else i.push(t)}else i.push(t);return i}function k(t,e){r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"text",a.a.STRING)),r.default.type(a.a.STRING,e,r.default.format(r.default.messages.type.default,"language",a.a.STRING));var i=o.a.Deferred();if(m()){var n=g(e);if(n&&n.lang){var s=new window.SpeechSynthesisUtterance;s.text=t,"voice"in s?s.voice=n:(s.voiceURI=n.voiceURI,s.lang=n.lang),s.rate=1,s.onend=function(t){"error"===t.type?(i.reject(new Error("Speech synthesis error.")),l.error({method:"tts.speechSynthesisPromise",message:"Speech synthesis error.."})):i.resolve(t)},s.onerror=i.reject,window.speechSynthesis.speak(s),"console"in window&&window.console.log(s)}else i.reject(new Error("No voice available to speak text.")),l.error({method:"tts.speechSynthesisPromise",message:"No voice available to speak text."})}else i.resolve();return i.promise()}function y(t,e,i){r.default.type(a.a.STRING,t,r.default.format(r.default.messages.type.default,"text",a.a.STRING)),r.default.type(a.a.STRING,e,r.default.format(r.default.messages.type.default,"language",a.a.STRING)),r.default.type(a.a.BOOLEAN,i,r.default.format(r.default.messages.type.default,"clear",a.a.BOOLEAN));var n=o.a.Deferred(),s=t;if(i&&(s=v(t)),p())window.TTS.speak({txt:s,locale:"fr"===e?"fr-FR":"en-GB",rate:u.test(window.navigator.userAgent)&&!window.MSStream?.7:2},n.resolve,n.reject),l.debug({method:"tts.doSpeak",message:"Text spoken with Cordova TTS Plugin"});else if(m()){var h=[];b(s,c).forEach(function(t){h.push(k(t,e))}),o.a.when.apply(o.a,h).done(n.resolve).fail(n.reject),l.debug({method:"tts.doSpeak",message:"Text spoken with W3C Speech API"})}else n.resolve();return n.promise()}function w(){var t=o.a.Deferred();return p()?(window.TTS.speak("",t.resolve,t.reject),l.debug({method:"tts.cancelSpeak",message:"Text canceled with Cordova TTS Plugin"})):m()?(window.speechSynthesis.cancel(),t.resolve(),l.debug({method:"tts.cancelSpeak",message:"Text canceled with W3C Speech API"})):t.resolve(),t.promise()}window.cordova?document.addEventListener("deviceready",f,!1):f(),window.app=window.app||{},window.app.tts=window.app.tts||{},window.app.tts._useCordovaPlugIn=p,window.app.tts._useSpeechSynthesis=m,window.app.tts._getVoice=g,window.app.tts._clearMarkdown=v,window.app.tts._chunk=b,window.app.tts._speechSynthesisPromise=k,window.app.tts.doSpeak=y,window.app.tts.cancelSpeak=w},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(44),i(24),i(40)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.drawing,o=i.geometry,r=i.ui.Widget,a=window.assert,s=new window.Logger("kidoju.widgets.chargrid"),l=window.kidoju.util,c="number",u=".kendoCharGrid",h=r.extend({init:function(t,e){e=e||{},r.fn.init.call(this,t,e),s.debug({method:"init",message:"widget initialized"}),this._setValue(this.options.value),this._layout()},options:{name:"CharGrid",scaler:"div.kj-stage",container:"div.kj-stage>div[data-"+i.ns+'role="stage"]',rotator:".kj-element",columns:6,rows:4,blank:".",whitelist:"1-9",gridFill:"#cce6ff",gridStroke:"#000000",blankFill:"#000000",selectedFill:"#ffffcc",lockedFill:"#e6e6e6",lockedColor:"#9999b6",valueColor:"#9999b6",locked:[],value:[],enable:!0},events:["change"],_setValue:function(t){var e=this.options,n=e.columns,o=e.rows,r=e.locked,a=(e.blank,(e.whitelist||"").trim()),s=new RegExp(i.format("^[{0}]$",a),"i");this._value=[];for(var c=0;c<o;c++){this._value.push(new Array(o));for(var u=0;u<n;u++)l.isAnyArray(r)&&l.isAnyArray(r[c])&&r[c][u]?this._value[c][u]=""+r[c][u]:l.isAnyArray(t)&&l.isAnyArray(t[c])&&s.test(""+t[c][u])?this._value[c][u]=""+t[c][u]:this._value[c][u]=null}},_compareValues:function(t,e){if(!l.isAnyArray(t)||!l.isAnyArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++){if(!l.isAnyArray(t[i])||!l.isAnyArray(e[i]))return!1;if(t[i].length!==e[i].length)return!1;for(var o=0,r=t[i].length;o<r;o++)if(t[i][o]!==e[i][o])return!1}return!0},value:function(e){if("undefined"===t.type(e))return this._compareValues(this._value,this.options.locked)?null:this._value;this._compareValues(this._value,e)||(this._setValue(e||""),this.refresh())},cellValue:function(e,n,o){a.type(c,e,a.format(a.messages.type.default,"r",c)),a.type(c,n,a.format(a.messages.type.default,"c",c));var r=(this.options.whitelist||"").trim(),s=new RegExp(i.format("^[{0}]$",r),"i"),u=this._value[e];if("undefined"===t.type(o)){if(l.isAnyArray(u)&&s.test(u[n]))return u[n]}else if("null"===t.type(o))null!==u[n]&&(u[n]=null,this.refresh(),this.trigger("change"));else{if("string"!==t.type(o)||1!==o.length)throw new TypeError("`value` is expected to be a single char string");if(this.isLocked(e,n))throw new Error("Cannot assign a new value to a locked cell");u[n]!==o&&s.test(o)&&(u[n]=o.toUpperCase(),this.refresh(),this.trigger("change"))}},isLocked:function(t,e){a.type(c,t,a.format(a.messages.type.default,"r",c)),a.type(c,e,a.format(a.messages.type.default,"c",c));var i=this.options,n=i.columns,o=i.rows,r=i.blank,s=i.locked;return t>=0&&t<o&&e>=0&&e<n&&l.isAnyArray(s)&&l.isAnyArray(s[t])&&!!s[t][e]&&this.cellValue(t,e)!==r},_layout:function(){var e=this.element,i=this.options;this.wrapper=e,e.addClass("kj-chargrid").addClass("kj-interactive"),this.surface=n.Surface.create(this.element),this.input=t('<input type="text" style="position:absolute;left:-5000px;">').prependTo(this.element),this.enable(i.enable),this.refresh()},enable:function(e){var i=this.element,n=this.input;i.off(u),n.off(u),e&&(i.on("mouseup"+u+" touchend"+u,t.proxy(this._onMouseUp,this)),n.on("keydown"+u,t.proxy(this._onKeyDown,this)).on("keypress"+u,t.proxy(this._onKeyPress,this)).on("input"+u,t.proxy(this._onInput,this)).on("blur"+u,t.proxy(this._onBlur,this)))},_drawGrid:function(){var t=this.element,e=t.height(),i=t.width(),r=this.options,a=r.rows,s=r.columns,l=new n.Group,c=new o.Rect([0,0],[i,e]);l.append(new n.Rect(c,{fill:{color:r.gridFill},stroke:{color:r.gridStroke,width:2}}));for(var u=1;u<a;u++)l.append(new n.Path({stroke:{color:r.gridStroke,width:2}}).moveTo(0,e*u/a).lineTo(i,e*u/a));for(var h=1;h<s;h++)l.append(new n.Path({stroke:{color:r.gridStroke,width:2}}).moveTo(i*h/s,0).lineTo(i*h/s,e));this.surface.draw(l)},_drawSelectedCell:function(){var t=this.options,e=this._selectedCell&&this._selectedCell.row,i=this._selectedCell&&this._selectedCell.col,n=this._getCellRect(e,i,t.selectedFill);n&&this.surface.draw(n)},_getCellRect:function(e,i,r){var a=this.element,s=a.height(),l=a.width(),u=this.options,h=u.rows,d=u.columns;if(t.type(e)===c&&e>=0&&e<h&&t.type(i)===c&&i>=0&&i<d){var f=new o.Rect([i*l/d,e*s/h],[l/d,s/h]);return new n.Rect(f,{fill:{color:r},stroke:{color:u.gridStroke,width:2}})}},_getCharText:function(e,i,r){var a=this.element,s=a.height(),l=a.width(),u=this.options,h=u.columns,d=u.rows;if(t.type(i)===c&&i>=0&&i<h&&t.type(e)===c&&e>=0&&e<d&&"string"===t.type(r)&&1===r.length){var f={font:Math.floor(.75*s/d)+'px "Open Sans", sans-serif',stroke:this.isLocked(e,i)?{color:u.lockedColor,width:1}:{color:u.valueColor,width:1},fill:this.isLocked(e,i)?{color:u.lockedColor}:{color:u.valueColor}},p=new n.Text(r,new o.Point(0,0),f),m=p.bbox().size,g=new o.Point((i+.5)*l/h-m.width/2,(e+.5)*s/d-m.height/2);return p.position(g),p}},_drawCellValues:function(){for(var t=this.options,e=t.rows,o=t.columns,r=t.locked,a=new n.Group,s=0;s<e;s++){var c=this._value[s];if(l.isAnyArray(c))for(var u=0;u<o;u++)if(c[u]===t.blank){var h=this._getCellRect(s,u,t.blankFill);h instanceof i.drawing.Rect&&a.append(h)}else{this.isLocked(s,u)&&(r=this._getCellRect(s,u,t.lockedFill))instanceof i.drawing.Rect&&a.append(r);var d=this._getCharText(s,u,c[u]);d instanceof i.drawing.Text&&a.append(d)}}this.surface.draw(a)},refresh:function(){a.instanceof(n.Surface,this.surface,a.format(a.messages.instanceof.default,"this.surface","kendo.drawing.Surface")),this.surface.clear(),this._drawGrid(),this._drawSelectedCell(),this._drawCellValues()},select:function(e,i){a.type(c,e,a.format(a.messages.type.default,"r",c)),a.type(c,i,a.format(a.messages.type.default,"c",c));var n=this.options,o=n.rows,r=n.columns;if(e>=0&&e<o&&i>=0&&i<r&&!this.isLocked(e,i)){var s={left:t(window).scrollLeft(),top:t(window).scrollTop()};this._selectedCell={col:i,row:e},this.input.focus(),t(window).scrollLeft(s.left),t(window).scrollTop(s.top)}else this._selectedCell=void 0,this.input.is(":focus")&&this.input.blur();this.refresh()},_onMouseUp:function(t){var e=this.element,i=e.height(),n=e.width(),o=this.options,r=o.rows,s=o.columns,c=this.element.closest(o.container);a.hasLength(c,a.format(a.messages.hasLength.default,"container"));var u=this.element.closest(o.rotator),h=l.getTransformRotation(u)*Math.PI/180,d=this.element.closest(o.scaler),f=d.length?l.getTransformScale(d):1,p=l.getElementCenter(e,c,f),m=l.getMousePosition(t,c),g=m.x/f-p.left,v=m.y/f-p.top,b=Math.floor((i/2-g*Math.sin(h)+v*Math.cos(h))*r/i),k=Math.floor((n/2+g*Math.cos(h)+v*Math.sin(h))*s/n);return this.select(b,k),t.preventDefault(),t.stopPropagation(),!1},_onKeyDown:function(e){a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),a.ok(this.input.is(":focus"),"`this.input` is expected to have focus");var i=this.options,n=i.columns,o=i.rows,r=this._selectedCell&&this._selectedCell.col,s=this._selectedCell&&this._selectedCell.row;if(t.type(s)===c&&s>=0&&s<o&&t.type(r)===c&&r>=0&&r<n){var l=!1;37===e.which&&r>0&&!this.isLocked(s,r-1)?(this.select(s,r-1),l=!0):38===e.which&&s>0&&!this.isLocked(s-1,r)?(this.select(s-1,r),l=!0):39===e.which&&r<n-1&&!this.isLocked(s,r+1)?(this.select(s,r+1),l=!0):40===e.which&&s<o-1&&!this.isLocked(s+1,r)?(this.select(s+1,r),l=!0):8!==e.which&&32!==e.which&&46!==e.which||this.isLocked(s,r)||(this.cellValue(s,r,null),l=!0),l&&(e.preventDefault(),e.stopPropagation())}},_onKeyPress:function(e){a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),a.ok(this.input.is(":focus"),"`this.input` is expected to have focus");var n=this.options,o=n.columns,r=n.rows,s=this._selectedCell&&this._selectedCell.col,l=this._selectedCell&&this._selectedCell.row;if(t.type(s)===c&&s>=0&&s<o&&t.type(l)===c&&l>=0&&l<r){var u=(n.whitelist||"").trim(),h=new RegExp(i.format("^[{0}]$",u),"i"),d=String.fromCharCode(e.which);h.test(d)&&this.cellValue(l,s,d)}e.preventDefault(),e.stopPropagation()},_onInput:function(e){a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),a.ok(this.input.is(":focus"),"`this.input` is expected to have focus");var i=t(e.currentTarget).val();i.length&&(e.which=i.charCodeAt(0),this._onKeyPress(e),t(e.currentTarget).val(""))},_onBlur:function(t){this.select(-1,-1)},destroy:function(){var t=this.element;this.enable(!1),i.unbind(t),this.surface=void 0,this.input=void 0,this._selectedCell=void 0,r.fn.destroy.call(this),i.destroy(t),t.removeClass("kj-chargrid")}});h._getCharGridArray=function(e,n,o,r,s){a.type(c,e,a.format(a.messages.type.default,"rowTotal",c)),a.type(c,n,a.format(a.messages.type.default,"colTotal",c)),a.type("string",o,a.format(a.messages.type.default,"whitelist","string"));for(var u=[],h=new RegExp(i.format("^[{0}]$",o),"i"),d=0;d<e;d++){u[d]=[];for(var f=0;f<n;f++)u[d][f]=null,l.isAnyArray(s)&&l.isAnyArray(s[d])&&h.test(s[d][f])&&(u[d][f]=s[d][f]),l.isAnyArray(r)&&l.isAnyArray(r[d])&&"string"===t.type(r[d][f])&&(u[d][f]=r[d][f])}return u},i.ui.plugin(h)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(44),i(24),i(40)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.data,o=i.drawing,r=i.geometry,a=n.DataSource,s=o.Surface,l=i.ui.Widget,c=window.assert,u=new window.Logger("kidoju.widgets.connector"),h=window.kidoju.util,d="kendoConnector",f="."+d,p="mouseup"+f+" touchend"+f,m="id",g=l.extend({init:function(t,e){e=e||{},l.fn.init.call(this,t,e),u.debug({method:"init",message:"widget initialized"}),this._enabled=!this.element.prop("disabled")&&this.options.enable,this._layout(),this._ensureSurface(),this._dataSource(),this._drawConnector(),this._addMouseHandlers(),this.value(this.options.value),i.notify(this)},options:{name:"Connector",id:null,value:null,targetValue:null,autoBind:!0,dataSource:[],scaler:"div.kj-stage",container:"div.kj-stage>div[data-"+i.ns+'role="stage"]',color:"#FF0000",createSurface:!0,enable:!0},events:["change"],value:function(e){if("string"!==t.type(e)&&"null"!==t.type(e)){if("undefined"===t.type(e))return this._value;throw new TypeError("`value` is expected to be a nullable string if not undefined")}this._value=e},_layout:function(){this.wrapper=this.element,this.element.addClass("kj-connector").addClass("kj-interactive").css({touchAction:"none"}),this.surface=o.Surface.create(this.element)},_ensureSurface:function(){var e=this.options,n=this.element.closest(e.container);c.hasLength(n,i.format(c.messages.hasLength.default,e.container));var o=n.data("surface");if(e.createSurface&&!(o instanceof s)){var r=n.find(".kj-connector-surface");if(0===r.length){var a=n.children().has(".kj-interactive").first();c.hasLength(a,i.format(c.messages.hasLength.default,"firstElementWithDraggable")),(r=t("<div/>").addClass("kj-connector-surface").css({position:"absolute",top:0,left:0}).height(n.height()).width(n.width())).insertBefore(a),r.empty(),o=i.drawing.Surface.create(r),n.data("surface",o)}}},_drawConnector:function(){c.instanceof(s,this.surface,i.format(c.messages.instanceof.default,"this.surface","kendo.drawing.Surface"));var t=this.options.color,e=this.element,n=e.width()/2,a=e.height()/2,l=Math.max(0,Math.min(n,a)-10),u=new o.Group,h=new r.Circle([n,a],.8*l),d=new o.Circle(h).stroke(t,.2*l);u.append(d);var f=new r.Circle([n,a],.5*l),p=new o.Circle(f).stroke(t,.1*l).fill(t);u.append(p),this.surface.clear(),this.surface.draw(u)},_addMouseHandlers:function(){var e,n,r;t(document).off(f).on("mousedown.kendoConnector touchstart.kendoConnector",".kj-connector",function(r){r.preventDefault();var a=(e=t(r.currentTarget)).data(d);if(a instanceof g&&a._enabled){a._dropConnection();var l=e.closest(a.options.scaler),u=l.length?h.getTransformScale(l):1,f=e.closest(a.options.container);c.hasLength(f,i.format(c.messages.hasLength.default,a.options.container));var p=h.getMousePosition(r,f),m=h.getElementCenter(e,f,u),v=f.data("surface");c.instanceof(s,v,i.format(c.messages.instanceof.default,"surface","kendo.drawing.Surface")),(n=new o.Path({stroke:{color:a.options.color,lineCap:"round",width:10}})).moveTo(m.left,m.top),n.lineTo(p.x/u,p.y/u),v.draw(n)}}).on("mousemove.kendoConnector touchmove.kendoConnector",function(o){if(e instanceof t&&n instanceof i.drawing.Path){var r=e.data(d);c.instanceof(g,r,i.format(c.messages.instanceof.default,"elementWidget","kendo.ui.Connector"));var a=e.closest(r.options.scaler),s=a.length?h.getTransformScale(a):1,l=e.closest(r.options.container);c.hasLength(l,i.format(c.messages.hasLength.default,r.options.container));var u=h.getMousePosition(o,l);n.segments[1].anchor().move(u.x/s,u.y/s)}}).on(p,".kj-connector",function(o){if(e instanceof t&&n instanceof i.drawing.Path){var a=o.originalEvent&&o.originalEvent.changedTouches?document.elementFromPoint(o.originalEvent.changedTouches[0].clientX,o.originalEvent.changedTouches[0].clientY):o.currentTarget,s=(r=t(a).closest(".kj-connector")).data(d);if(e.attr(i.attr(m))!==r.attr(i.attr(m))&&s instanceof g&&s._enabled){var l=e.data(d);c.instanceof(g,l,i.format(c.messages.instanceof.default,"elementWidget","kendo.ui.Connector"));var u=e.closest(l.options.container);c.hasLength(u,i.format(c.messages.hasLength.default,l.options.container));var h=r.closest(s.options.container);c.hasLength(h,i.format(c.messages.hasLength.default,s.options.container)),u[0]===h[0]?l._addConnection(r):l.refresh()}else r=void 0}}).on(p,function(o){if(n instanceof i.drawing.Path&&n.close(),e instanceof t&&"undefined"===t.type(r)){var a=e.data(d);a instanceof g&&a.refresh()}n=void 0,e=void 0,r=void 0})},_dataSource:function(){this.dataSource=a.create(this.options.dataSource),this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=t.proxy(this.refresh,this),this.dataSource.bind("change",this._refreshHandler),this.dataSource.filter({field:"type",operator:"eq",value:"connection"}),this.options.autoBind&&this.dataSource.fetch()},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},_addConnection:function(e){e=t(e);var n=!1,o=this.options,r=this.element.attr(i.attr(m)),s=this.element.closest(o.container);c.hasLength(s,i.format(c.messages.hasLength.default,o.container));var l=e.attr(i.attr(m)),u=e.data(d);if(r!==l&&u instanceof g){var f=e.closest(u.options.container);if(c.hasLength(f,i.format(c.messages.hasLength.default,u.options.container)),s[0]===f[0]){c.instanceof(a,this.dataSource,i.format(c.messages.instanceof.default,"this.dataSource","kendo.data.DataSource"));var p=r<l?r:l,v=r<l?l:r,b=r<l?this:u,k=r<l?u:this,y=this.dataSource.view(),w=y.find(function(t){return"connection"===t.type&&(t.id===p||t.data.target===p)}),_=y.find(function(t){return"connection"===t.type&&(t.id===v||t.data.target===v)});("undefined"===t.type(w)&&"undefined"===t.type(_)||w!==_)&&(w&&(this.dataSource.remove(w),b._dropConnection()),_&&(this.dataSource.remove(_),k._dropConnection()),this.dataSource.add({type:"connection",id:p,data:{target:v,color:h.getRandomColor()}}),b._value=k.options.targetValue,k._value=b.options.targetValue,!b.element[0].kendoBindingTarget||b.element[0].kendoBindingTarget.source instanceof i.data.Model||b.trigger("change",{value:b._value}),!k.element[0].kendoBindingTarget||k.element[0].kendoBindingTarget.source instanceof i.data.Model||k.trigger("change",{value:k._value})),n=!0}}return n},_dropConnection:function(){var t=this.options,e=this.element.attr(i.attr(m)),n=this.element.closest(t.container);c.hasLength(n,i.format(c.messages.hasLength.default,t.container)),c.instanceof(a,this.dataSource,i.format(c.messages.instanceof.default,"this.dataSource","kendo.data.DataSource"));var o=this.dataSource.view().find(function(t){return"connection"===t.type&&(t.id===e||t.data.target===e)});if(o){var r=o.id===e?o.data.target:o.id,s=n.find(i.format('[{0}="{1}"]',i.attr(m),r)).data(d);this.dataSource.remove(o),this._value=null,s instanceof g&&(s._value=null),this.trigger("change",{value:null}),s instanceof g&&s.trigger("change",{value:null})}},refresh:function(){var e=this.options,n=this.element.closest(e.container);c.instanceof(t,n,i.format(c.messages.instanceof.default,"container","jQuery")),c.instanceof(a,this.dataSource,i.format(c.messages.instanceof.default,"this.dataSource","kendo.data.DataSource"));var r=n.data("surface");r instanceof i.drawing.Surface&&(r.clear(),this.dataSource.view().forEach(function(t){var e=n.find(i.format('[{0}="{1}"]',i.attr(m),t.id)),a=e.data(d),s=n.find(i.format('[{0}="{1}"]',i.attr(m),t.data.target)),l=s.data(d);if(a instanceof g&&l instanceof g){var c=e.closest(a.options.scaler),u=c.length?h.getTransformScale(c):1,f=h.getElementCenter(e,n,u),p=h.getElementCenter(s,n,u),v=new o.Path({stroke:{color:t.data.color,lineCap:"round",width:10}}).moveTo(f.left,f.top).lineTo(p.left,p.top);r.draw(v)}})),u.debug({method:"refresh",message:"widget refreshed"})},enable:function(t){this._enabled=t},destroy:function(){var e=this.element,n=e.closest(this.options.container),o=n.data("surface");l.fn.destroy.call(this),t(document).off(f),i.unbind(e),i.destroy(e),e.find("*").off(),e.off(),e.empty(),e.removeClass("kj-connector"),0===n.find(".kj-connector").length&&o instanceof s&&(i.destroy(o.element),o.element.remove(),n.removeData("surface"))}});i.ui.plugin(g)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(40)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.data.DataSource,o=i.ui,r=o.Widget,a=window.assert,s=new window.Logger("kidoju.widgets.dropzone"),l=window.kidoju.util,c="string",u=".kendoDropZone",h=i.Class.extend({init:function(t){a.isPlainObject(t,a.format(a.messages.isPlainObject.default,"options")),a(c,t.container,a.format(a.messages.type.default,"options.container",c)),a(c,t.draggable,a.format(a.messages.type.default,"options.draggable",c)),a(c,t.scaler,a.format(a.messages.type.default,"options.scaler",c)),this._container=t.container,this._draggable=t.draggable,this._scaler=t.scaler},enable:function(e){e="undefined"===t.type(e)||!!e;var i={};t(document).off(u),e&&t(document).on("mousedown.kendoDropZone touchstart.kendoDropZone",this._container,i,this._onMouseDown.bind(this)).on("mousemove.kendoDropZone touchmove.kendoDropZone",this._container,i,this._onMouseMove.bind(this)).on("mouseleave.kendoDropZone touchleave.kendoDropZone",this._container,i,this._onMouseEnd.bind(this)).on("mouseup.kendoDropZone touchend.kendoDropZone",i,this._onMouseEnd.bind(this))},enabled:function(e){var n=e instanceof t?e.closest(this._container):t(document.body),o=n.find(i.roleSelector("dropzone"));n.find(this._draggable).css("cursor","");for(var r=0,a=o.length;r<a;r++){var s=t(o[r]).data("kendoDropZone");if(s instanceof d&&s._enabled)return n.find(this._draggable).css("cursor","move"),!0}return!1},_getStagePoint:function(e){a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),a.instanceof(window.Element,e.target,a.format(a.messages.instanceof.default,"e.target","Element")),a.type(c,this._container,a.format(a.messages.type.default,"this._container",c)),a.type(c,this._scaler,a.format(a.messages.type.default,"this._scaler",c));var i=t(e.target).closest(this._container);a.hasLength(i,a.format(a.messages.hasLength.default,"container"));var n=i.closest(this._scaler),o=n.length?l.getTransformScale(n):1,r=l.getMousePosition(e,i);return{x:r.x/o,y:r.y/o}},_getStageElement:function(e){var i=t(e).closest(this._draggable);if(this.enabled(i))return i},_onMouseDown:function(e){a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),a.instanceof(window.Element,e.target,a.format(a.messages.instanceof.default,"e.target","Element"));var i=this._getStageElement(e.target);i instanceof t&&i.length&&(e.preventDefault(),e.data.initial={top:parseFloat(i.css("top"))||0,left:parseFloat(i.css("left"))||0},e.data.mousedown=this._getStagePoint(e),e.data.stageElement=i,e.data.type="draggable")},_onMouseMove:function(e){if(a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),t.isPlainObject(e.data)&&"draggable"===e.data.type&&e.data.stageElement instanceof t){e.preventDefault();var i=e.data.stageElement,n=i.closest(this._container),o=e.data.initial,r=e.data.mousedown,s=this._getStagePoint(e),c=l.snap(o.left+s.x-r.x,0),u=l.snap(o.top+s.y-r.y,0);c=Math.round(Math.max(0,Math.min(c,n.width()-i.width()))),u=Math.round(Math.max(0,Math.min(u,n.height()-i.height()))),e.data.position={left:c,top:u},window.requestAnimationFrame(function(){i.css({left:c,top:u})})}},_onMouseEnd:function(e){a.instanceof(t.Event,e,a.format(a.messages.instanceof.default,"e","jQuery.Event")),t.isPlainObject(e.data)&&"draggable"===e.data.type&&t.isPlainObject(e.data.position)&&e.data.stageElement instanceof t&&(this._onMouseMove(e),this._setDataItem(e.data.stageElement,e.data.position),e.data.initial=void 0,e.data.mousedown=void 0,e.data.position=void 0,e.data.stageElement=void 0,e.data.type=void 0)},_setDataItem:function(e,n){a.instanceof(t,e,a.format(a.messages.instanceof.default,"element","jQuery")),a.hasLength(e,a.format(a.messages.hasLength.default,"stageElement")),a.isPlainObject(n,a.format(a.messages.isPlainObject.default,"position")),a.type("number",n.left,a.format(a.messages.type.default,"position.left","number")),a.type("number",n.top,a.format(a.messages.type.default,"position.top","number"));var o=e.children("["+i.attr("id")+"]").attr(i.attr("id"));a.type(c,o,a.format(a.messages.type.default,"id",c));var r=e.closest(this._container);a.instanceof(t,r,a.format(a.messages.instanceof.default,"this.container","jQuery")),a.hasLength(r,a.format(a.messages.hasLength.default,"this.container")),r.find(i.roleSelector("dropzone")).each(function(r,s){var l=t(s).data("kendoDropZone");if(l instanceof d&&l.dataSource instanceof i.data.DataSource){var c=l.dataSource,u=c.get(o);if(l.options.center&&l._checkHit(e)){var h=l.element.parent();a.ok(h.hasClass("kj-element"),"`dropZoneParent` should be a satge element"),n={left:Math.round(parseInt(h.css("left"),10)+(h.width()-e.width())/2),top:Math.round(parseInt(h.css("top"),10)+(h.height()-e.height())/2)}}"undefined"===t.type(u)?c.add({type:"draggable",id:o,data:{left:n.left,top:n.top}}):u instanceof i.data.ObservableObject&&(a.equal("draggable",u.type,a.format(a.messages.type.default,"dataItem.type","draggable")),u.data.left!==n.left&&(u.data.left=n.left),u.data.top!==n.top&&(u.data.top=n.top),c.trigger("change")),l.trigger("change")}})}});h.getSingleton=function(t){return a.isPlainObject(t,a.format(a.messages.isPlainObject.default,"options")),a(c,t.container,a.format(a.messages.type.default,"options.container",c)),a(c,t.draggable,a.format(a.messages.type.default,"options.draggable",c)),a(c,t.scaler,a.format(a.messages.type.default,"options.scaler",c)),h._instance||(h._instance=new h(t)),a.equal(t.container,h._instance._container,a.format(a.messages.equal.default,"SelectorEvents._instance._container","options.container")),a.equal(t.draggable,h._instance._draggable,a.format(a.messages.equal.default,"SelectorEvents._instance._draggable","options.draggable")),a.equal(t.scaler,h._instance._scaler,a.format(a.messages.equal.default,"SelectorEvents._instance._scaler","options.scaler")),h._instance};var d=r.extend({init:function(t,e){e=e||{},r.fn.init.call(this,t,e),s.debug({method:"init",message:"widget initialized"}),this._layout(),this._dataSource(),this.enable(this.options.enable),i.notify(this)},options:{name:"DropZone",autoBind:!0,dataSource:[],value:[],scaler:"div.kj-stage",container:"div.kj-stage>div[data-"+i.ns+'role="stage"]',draggable:"div.kj-element:has([data-"+i.ns+'behavior="draggable"])',center:!1,empty:"",enable:!0},events:["change"],value:function(e){if("undefined"===t.type(e)){var n,o=this,r=o.element.closest(o.options.container);return a.instanceof(t,r,a.format(a.messages.instanceof.default,"container","jQuery")),a.hasLength(r,a.format(a.messages.hasLength.default,"container")),o.dataSource.view().forEach(function(e){if(e&&"draggable"===e.type&&t.type(e.id)===c){n=n||[];var a=r.find(o.options.draggable).children(i.format('[{0}="{1}"]',i.attr("id"),e.id));if(a.length>0){var s=a.parent();o._checkHit(s)&&n.push(a.attr(i.attr("constant")))}}}),0===n.length&&o.options.empty&&n.push(o.options.empty),n}},_layout:function(){this.wrapper=this.element,this.element.addClass("kj-dropzone");var t=this.element.closest(this.options.container).data("kendoStage");this._dataBoundHandler=this._resetEvents.bind(this),o.Stage&&t instanceof o.Stage?t.bind("dataBound",this._dataBoundHandler):window.app&&window.app.DEBUG&&setTimeout(this._dataBoundHandler,100)},_resetEvents:function(){var t=h.getSingleton(this.options);t.enable(t.enabled())},enable:function(e){e="undefined"===t.type(e)||!!e,this._enabled!==e&&(this._enabled=e,this._resetEvents())},_dataSource:function(){this.dataSource=n.create(this.options.dataSource),this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=t.proxy(this.refresh,this),this.dataSource.bind("change",this._refreshHandler),this.options.autoBind&&this.dataSource.filter({field:"type",operator:"eq",value:"draggable"})},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},_checkHit:function(t){var e=t[0].getBoundingClientRect(),i=this.element[0].getBoundingClientRect(),n=e.top+e.height/2,o=e.left+e.width/2;return o>=i.left&&o<=i.left+i.width&&n>=i.top&&n<=i.top+i.height},_initDraggables:t.noop,refresh:function(e){var n=this;setTimeout(function(){var o=n.element.closest(n.options.container),r=n.dataSource.view();t.isPlainObject(e)&&Array.isArray(e.items)&&(r=e.items),t.each(r,function(e,r){if(r&&"draggable"===r.type&&t.type(r.id)===c){var a=o.find(n.options.draggable).children(i.format('[{0}="{1}"]',i.attr("id"),r.id));a.length>0&&a.parent().css({left:r.data.left,top:r.data.top})}})},100)},destroy:function(){t.isFunction(this._refreshHandler)&&(this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=void 0),i.unbind(this.element);var e=this.element.closest(this.options.container).data("kendoStage");t.isFunction(this._dataBoundHandler)&&o.Stage&&e instanceof o.Stage&&(e.unbind("dataBound",this._dataBoundHandler),this._dataBoundHandler=void 0),this.enable(!1),r.fn.destroy.call(this),i.destroy(this.element)}});i.ui.plugin(d)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(29),i(64)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=(window.assert,new window.Logger("kidoju.widgets.floating")),a=n.extend({init:function(t,e){e=e||{},n.fn.init.call(this,t,e),r.debug({method:"init",message:"widget initialized"}),this._layout(),this._setMutationObserver(),i.notify(this)},options:{name:"Floating",observed:"",attributeFilter:[]},_layout:function(){var e=this.element;e.addClass("k-toolbar kj-floating"),e.append('<div class="kj-floating-handle"><span class="k-icon k-i-handler-drag"></span></div>'),e.append('<div class="kj-floating-content"></div>'),e.kendoWindow({resizable:!1,scrollable:!1,title:!1}),this.window=e.data("kendoWindow"),this.wrapper=this.window.wrapper,e.kendoDraggable({group:"kidoju.widgets.floating",ignore:".kj-floating-content, .kj-floating-content *",hint:t.proxy(this._hint,this),dragstart:t.proxy(this._onDragStart,this),dragend:t.proxy(this._onDragEnd,this)}),this.draggable=e.data("kendoDraggable")},_hint:function(){return this.window.wrapper.clone()},_onDragStart:function(){var t=this.draggable.hint,e=this.window.wrapper,i=e.position();e.hide(),t.css({top:i.top,left:i.left}),t.show()},_onDragEnd:function(){var t=this.draggable.hint,e=this.window.wrapper,i=t.position();t.hide(),e.css({position:"absolute",zIndex:15e3,top:i.top,left:i.left}),e.show()},_setMutationObserver:function(){var e=this.wrapper,i=e.find(".kj-floating-content"),n=this.options,r=n.observed,a=n.attributeFilter;if(r){e.hide(),this.observer=new o(function(){e.is(":visible")&&!i.find(r).length?e.hide():e.is(":not(:visible)")&&i.find(r).length&&e.show()});var s={childList:!0,subtree:!0};t.isArray(a)&&a.length&&(s.attributes=!0,s.attributeFilter=a),this.observer.observe(i.get(0),s)}else e.show()},show:function(){this.wrapper.show()},hide:function(){this.wrapper.hide()},destroy:function(){n.fn.destroy.call(this),i.destroy(this.element),this.observer instanceof o&&this.observer.disconnect()}});i.ui.plugin(a)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(40)],void 0===(r="function"==typeof(n=function(t){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=window.assert,r=new window.Logger("kidoju.widgets.highlighter"),a=window.kidoju.util,s="number",l=".kendoHighLighter",c="<span "+i.attr("index")+'="{0}">',u=".kj-highlighter-active",h=".kj-highlighter-hover",d=n.extend({init:function(t,e){e=e||{},n.fn.init.call(this,t,e),r.debug({method:"init",message:"widget initialized"}),this.setOptions(this.options),i.notify(this)},options:{name:"HighLighter",value:"",text:"",highlightStyle:"",split:"",enable:!0},setOptions:function(e){this._split="string"===t.type(e.split)&&e.split.length?new RegExp(e.split):"",this._layout(),this.value(e.value||""),this.enable(e.enable)},events:["change"],value:function(e){if("null"===t.type(e)&&(e=""),"string"!==t.type(e)){if("undefined"===t.type(e))return this._format(this._value);throw new TypeError("`value` is expected to be a string if not null or undefined")}if(this._format(this._value||[])!==e){for(var i=this._parse(e),n=0,o=i.length;n<o;n++)this._add(i[n]);this.refresh()}},_format:function(e){o.isArray(e,o.format(o.messages.isArray.default,"array"));for(var n="",r=0,a=e.length;r<a;r++){var l=e[r];if(t.isPlainObject(l)&&t.type(l.start)===s&&t.type(l.end)===s&&l.start<=l.end){var c=l.start,u=l.end;this._split instanceof RegExp&&(c=parseInt(t(this.items.get(c)).attr(i.attr("index")),10),o.ok(!isNaN(c),"`start` should be the index of a word"),u=parseInt(t(this.items.get(u)).attr(i.attr("index")),10),o.ok(!isNaN(u),"`end` should be the index of a word")),n+=c,c<u&&(n+="-"+u),n+=","}}return","===n.slice(-",".length)&&(n=n.slice(0,-",".length)),n},_parse:function(e){o.type("string",e,o.format(o.messages.type.default,"value","string"));for(var n=e.split(","),r=0,a=n.length;r<a;r++){var s=n[r].split("-"),l=parseInt(s[0],10),c="undefined"===t.type(s[1])?l:parseInt(s[1],10);if(!isNaN(l)&&!isNaN(c)&&l<=c){if(this._split instanceof RegExp){var u=this.items.filter(i.format('[{0}="{1}"]',i.attr("index"),l));o.equal(1,u.length,o.format(o.messages.equal.default,"startWord.length",1)),l=this.items.index(u);var h=this.items.filter(i.format('[{0}="{1}"]',i.attr("index"),c));o.equal(1,h.length,o.format(o.messages.equal.default,"endWord.length",1)),c=this.items.index(h)}n[r]={start:l,end:c}}}return n},_roundUp:function(e){var n;o.type(s,e,o.format(o.messages.type.default,"index",s));var r=e;if(this._split instanceof RegExp){for(;isNaN(n)&&r<this.items.length;)n=parseInt(t(this.items.get(r)).attr(i.attr("index")),10),r++;r--}return r},_roundDown:function(e){var n;o.type(s,e,o.format(o.messages.type.default,"index",s));var r=e;if(this._split instanceof RegExp){for(;isNaN(n)&&r>=0;)n=parseInt(t(this.items.get(r)).attr(i.attr("index")),10),r--;r++}return r},_add:function(t){o.isPlainObject(t,o.format(o.messages.isPlainObject.default,"selection")),o.type(s,t.start,o.format(o.messages.type.default,"selection.start",s)),o.type(s,t.end,o.format(o.messages.type.default,"selection.end",s)),t={start:this._roundUp(t.start),end:this._roundDown(t.end)};for(var e=[],i=this._value||[],n=!1,r=0,a=i.length;r<a;r++){var l=i[r];this._roundUp(l.end+1)<t.start?e.push(l):this._roundUp(t.end+1)<l.start?(n||(e.push(t),n=!0),e.push(l)):t={start:Math.min(t.start,l.start),end:Math.max(t.end,l.end)}}n||e.push(t),this._value=e},_remove:function(t){o.isPlainObject(t,o.format(o.messages.isPlainObject.default,"selection")),o.type(s,t.start,o.format(o.messages.type.default,"selection.start",s)),o.type(s,t.end,o.format(o.messages.type.default,"selection.end",s)),t={start:this._roundUp(t.start),end:this._roundDown(t.end)};for(var e=[],i=this._value||[],n=0,r=i.length;n<r;n++){var a=i[n];t.end<a.start?e.push(a):a.end<t.start?e.push(a):(t.start>a.start&&e.push({start:a.start,end:this._roundDown(t.start-1)}),t.end<a.end&&e.push({start:this._roundUp(t.end+1),end:a.end}))}this._value=e},_layout:function(){var t=this.options;if(this.wrapper=this.element,this.element.empty(),this.element.addClass("kj-highlighter"),this._split instanceof RegExp){for(var e=t.text.split(this._split),n="",o=0,r=0,a=e.length;r<a;r++)this._split.test(e[r])?n+="<span>"+e[r]+"</span>":e[r].length&&(n+=i.format(c,o)+e[r]+"</span>",o++);this.element.html(n)}else this.element.html("<span>"+t.text.split("").join("</span><span>")+"</span>");this.items=this.element.children("span")},enable:function(e){if(this._enabled="undefined"===t.type(e)||!!e,this.element.off(l),t.isFunction(this._onMouseUpHandler)&&(t(document).off(l,this._onMouseUpHandler),this._onMouseUpHandler=void 0),this._enabled){var i={};this.element.on("mousedown"+l+" touchstart"+l,i,this._onMouseDown.bind(this)).on("mousemove"+l+" touchmove"+l,i,this._onMouseMove.bind(this)),this._onMouseUpHandler=this._onMouseUp.bind(this),t(document).on("mouseup"+l+" touchend"+l,i,this._onMouseUpHandler)}},_spanFromEvent:function(e){var i,n,o=e.originalEvent;if(o&&o.touches&&o.touches.length?(i=o.touches[0].clientX,n=o.touches[0].clientY):o&&o.changedTouches&&o.changedTouches.length?(i=o.changedTouches[0].clientX,n=o.changedTouches[0].clientY):(i=e.clientX,n=e.clientY),t.type(i)===s&&t.type(n)===s){var r=t(document.elementFromPoint(i,n));if(r.is("span")&&t.contains(this.element.get(0),r.get(0)))return r}},_onMouseDown:function(e){if(("mousedown"!==e.type||!e.data||!e.data.touched)&&e.data&&"undefined"===t.type(e.data.initial)){var i=this._spanFromEvent(e);if(i instanceof t){var n=this.items.index(i);e.data.active=!i.hasClass(u.substr(1)),e.data.highlighter=this,e.data.initial=n,e.data.selection={start:this._roundUp(n),end:this._roundDown(n)},e.data.touched="touchstart"===e.type}}},_onMouseMove:function(e){if(e.data&&e.data.highlighter===this){var i=this._spanFromEvent(e);if(i instanceof t){var n=this.items.index(i);n<e.data.initial?(e.data.selection.start=this._roundUp(n),e.data.selection.end=this._roundDown(e.data.initial)):(e.data.selection.start=this._roundUp(e.data.initial),e.data.selection.end=this._roundDown(n)),this._highlight(e.data.selection,e.data.active,!0)}}},_onMouseUp:function(t){"mouseup"===t.type&&t.data&&t.data.touched?t.data.touched=void 0:t.data&&t.data.highlighter===this&&(t.data.active?this._add(t.data.selection):this._remove(t.data.selection),t.data.active=void 0,t.data.highlighter=void 0,t.data.initial=void 0,t.data.selection=void 0,t.data.touched="touchend"===t.type,this.refresh(),this.trigger("change"))},_highlight:function(t,e,i){o.isPlainObject(t,o.format(o.messages.isPlainObject.default,"selection")),o.type(s,t.start,o.format(o.messages.type.default,"selection.start",s)),o.type(s,t.end,o.format(o.messages.type.default,"selection.end",s)),o.type("boolean",e,o.format(o.messages.type.default,"active","boolean"));var n=u.substr(1),r=h.substr(1);i=!!i,e?(i&&this.items.filter(h).removeClass(n),t.end>=t.start&&this.items.slice(t.start,t.end+1).addClass(i?n+" "+r:n)):(i&&this.items.filter(h).addClass(n),t.end>=t.start&&this.items.slice(t.start,t.end+1).removeClass(i?n+" "+r:n)),this.items.filter(":not("+u+")").removeAttr("style"),this.items.filter(u).css(a.styleString2CssObject(this.options.highlightStyle))},refresh:function(){this.items.filter(h).removeClass(h.substr(1)),this.items.filter(u).removeClass(u.substr(1));for(var t=0,e=this._value.length;t<e;t++)this._highlight(this._value[t],!0,!1);r.debug({method:"refresh",message:"widget refreshed"})},destroy:function(){var t=this.wrapper;i.unbind(t),this.items=void 0,this.element.off(l),n.fn.destroy.call(this),i.destroy(t)}});i.ui.plugin(d)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=window.assert,a=new window.Logger("kidoju.widgets.imageset"),s=".kendoImageSet",l=40,c=37,u=39,h=38,d=35,f=36,p=34,m=33,g=32,v=o.extend({init:function(t,e){o.fn.init.call(this,t,e),a.debug({method:"init",message:"Widget initialized"}),this._preload(),this._layout(),this.value(this.options.value||""),this.enable(!this.element.prop("disabled")&&this.options.enabled),i.notify(this)},options:{name:"ImageSet",value:null,images:[],enabled:!0},events:["change"],value:function(e){var i=this.options.images;if("undefined"===t.type(e)){if(t.isArray(i)&&i[this._index])return i[this._index].text}else{if("string"!==t.type(e)&&"null"!==t.type(e))throw new TypeError("`value` should be a nullable string or undefined.");this._index=0;for(var n=0,o=i.length;n<o;n++)if(e===i[n].text){this._index=n;break}this.refresh()}},_preload:function(){for(var e=this.options.images,i=0,n=e.length;i<n;i++)t("<img>").attr("src",window.encodeURI(e[i].image))},_layout:function(){var t=this.element;if(!t.is("div"))throw new Error("Use a div tag to instantiate an ImageSet widget.");this.wrapper=t.css({cursor:"pointer",outline:0,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}).attr({role:"button",tabindex:0}).addClass("kj-imageset kj-interactive")},enable:function(e){var i=this.element;i.off(s),("undefined"===t.type(e)||e)&&(i.on("click"+s,t.proxy(this._onClick,this)),i.on("keydown"+s,t.proxy(this._onKeyDown,this)))},_onClick:function(e){r.instanceof(t.Event,e,i.format(r.messages.instanceof.default,"e","jQuery.Event"));var n=this.options.images;e.altKey||e.ctrlKey||e.shiftKey?this._index=0===this._index?n.length-1:this._index-1:this._index=this._index===n.length-1?0:this._index+1,this.refresh(),this.trigger("change")},_onKeyDown:function(e){r.instanceof(t.Event,e,i.format(r.messages.instanceof.default,"e","jQuery.Event"));var n=this.options.images;switch(e.which){case l:case c:this._index=0===this._index?n.length-1:this._index-1;break;case u:case h:case g:this._index=this._index===n.length-1?0:this._index+1;break;case d:case m:this._index=n.length-1;break;case f:case p:this._index=0}this.refresh(),this.trigger("change")},refresh:function(){var e=this.element,i=this.options.images;this._index=Math.round(Math.abs(this._index))%i.length||0,t.isArray(i)&&i[this._index]&&e.css({backgroundImage:"url("+window.encodeURI(i[this._index].image)+")"}),a.debug({method:"refresh",message:"Widget refreshed"})},destroy:function(){var t=this.wrapper;this.element.off(s),i.unbind(t),o.fn.destroy.call(this),i.destroy(t)}});n.plugin(v)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(480),i(481),i(482),i(483),i(484),i(1),i(6),i(11)],void 0===(r="function"==typeof(n=function(t,e,i,n,o){return function(r,a){var s=window.kendo,l=s.ui.Widget,c=window.markdownit||t,u=window.markdownItKatex||e,h=window.markdownitEmoji||i,d=window.hljs||n,f=window.twemoji||o,p=(window.assert,new window.Logger("kidoju.widgets.markdown")),m="",g=/^---\n([\s\S]*)\n---/,v=/([^:\n]+):([^\n]+)/g,b=/[-\s]/g,k=l.extend({init:function(t,e){e=e||{},l.fn.init.call(this,t,e),p.debug({method:"init",message:"widget initialized"}),this._initMarkdownIt(),this._layout(),s.notify(this)},options:{name:"Markdown",url:null,value:null,schemes:{}},value:function(t){if("string"!==r.type(t)&&"null"!==r.type(t)){if("undefined"===r.type(t))return"string"===r.type(this._value)||"null"===r.type(this._value)?this._value:void 0;throw new TypeError("`value` is expected to be a string if not undefined")}this._value!==t&&(this._value=t,this.refresh())},_initMarkdownIt:function(){this.md=new c({html:!1,linkify:!0,typographer:!0,highlight:function(t,e){try{return d.highlight(e,t).value}catch(e){return d.highlightAuto(t).value}}}),this._initHljs(),this._initLinkOpener(),this._initImageRule(),this._initKatex(),this._initEmojis()},_initHljs:function(){var t=this;t.md.renderer.rules.fence=function(e,i,n,o,r){var a,s=t.md.utils.escapeHtml,l=t.md.utils.unescapeAll,c=e[i],u=c.info?l(c.info).trim():"",h="";return u&&(h=u.split(/\s+/g)[0],c.attrPush(["class",n.langPrefix+h])),a=n.highlight&&n.highlight(c.content,h)||s(c.content),'<pre class="hljs"><code'+r.renderAttrs(c)+">"+a+"</code></pre>\n"}},_initLinkOpener:function(){var t=this.md.renderer.rules.link_open||function(t,e,i,n,o){return o.renderToken(t,e,i)};this.md.renderer.rules.link_open=function(e,i,n,o,r){var a=e[i].attrIndex("target");a<0?e[i].attrPush(["target",window.cordova?"_system":"_blank"]):e[i].attrs[a][1]=window.cordova?"_system":"_blank";var s=e[i].attrIndex("rel");return s<0?e[i].attrPush(["rel","noopener"]):e[i].attrs[s][1]="noopener",t(e,i,n,o,r)}},_initImageRule:function(){var t=this,e=t.md.renderer.rules.image||function(t,e,i,n,o){return o.renderToken(t,e,i)};t.md.renderer.rules.image=function(i,n,o,r,a){var s=i[n].attrIndex("src"),l=i[n].attrs[s][1],c=t.options.schemes;for(var u in c||{})if(Object.prototype.hasOwnProperty.call(c,u)&&new RegExp("^"+u+"://").test(l)){l=l.replace(u+"://",c[u]);break}i[n].attrs[s][1]=l;var h=i[n].attrIndex("class");return h<0?i[n].attrPush(["class","img-responsive"]):i[n].attrs[h][1]="img-responsive",e(i,n,o,r,a)}},_initKatex:function(){u&&this.md.use(u)},_initEmojis:function(){h&&this.md.use(h),f&&(this.md.renderer.rules.emoji=function(t,e){return f.parse(t[e].content)})},_layout:function(){var t=this.options;this.wrapper=this.element,this.element.addClass("kj-markdown"),"string"===r.type(t.url)?this.url(t.url):"string"===r.type(t.value)?this.value(t.value):this.inline()},inline:function(){var t=this.element.find('script[type="text/plain"]');t.length&&this.value(t.text())},url:function(t){var e=this;if("null"!==r.type(t)){if("string"!==r.type(t))throw new TypeError("`url` is expected to be a string");r.get(t).done(function(t){e.value(t)}).fail(function(){e.value(null)})}},metadata:function(){return function(t){var e={},i=t.match(g);if(r.isArray(i)&&i.length>1){var n=i[1].match(v);if(r.isArray(n)&&n.length)for(var o=0;o<n.length;o++){var a=n[o],s=a.indexOf(":"),l=a.substr(0,s).trim().replace(b,"_"),c=a.substr(s+1).trim();e[l]=c}}return e}((this.value()||"").trim())},html:function(){var t=function(t){return t.replace(g,m).trim()}((this.value()||"").trim());return this.md.render(t)},refresh:function(){var t=this.element,e=t.find('script[type="text/plain"]'),i=m;e.length&&(i=r('<script type="text/plain"><\/script>').text(e.text()).wrapAll("<wrap></wrap>").parent().html()),t.html(i+this.html())},destroy:function(){var t=this.wrapper;s.unbind(t),this.md=void 0,l.fn.destroy.call(this),s.destroy(t)}});s.ui.plugin(k)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){(function(e){var i;t.exports=function t(e,n,o){function r(s,l){if(!n[s]){if(!e[s]){var c="function"==typeof i&&i;if(!l&&c)return i(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,i){"use strict";e.exports=t("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(t,e,i){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(t,e,i){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+n+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+n+"|"+o+")");e.exports.HTML_TAG_RE=r,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},{}],4:[function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty;function o(t,e){return n.call(t,e)}function r(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function a(t){if(t>65535){var e=55296+((t-=65536)>>10),i=56320+(1023&t);return String.fromCharCode(e,i)}return String.fromCharCode(t)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=t("./entities"),h=/[&<>"]/,d=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function p(t){return f[t]}var m=/[.?*+^$[\]\\(){}|-]/g,g=t("uc.micro/categories/P/regex");i.lib={},i.lib.mdurl=t("mdurl"),i.lib.ucmicro=t("uc.micro"),i.assign=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach(function(i){t[i]=e[i]})}}),t},i.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},i.has=o,i.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(s,"$1")},i.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(l,function(t,e,i){return e||function(t,e){var i=0;return o(u,e)?u[e]:35===e.charCodeAt(0)&&c.test(e)&&r(i="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?a(i):t}(t,i)})},i.isValidEntityCode=r,i.fromCodePoint=a,i.escapeHtml=function(t){return h.test(t)?t.replace(d,p):t},i.arrayReplaceAt=function(t,e,i){return[].concat(t.slice(0,e),i,t.slice(e+1))},i.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},i.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},i.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},i.isPunctChar=function(t){return g.test(t)},i.escapeRE=function(t){return t.replace(m,"\\$&")},i.normalizeReference=function(t){return t.trim().replace(/\s+/g," ").toUpperCase()}},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(t,e,i){"use strict";i.parseLinkLabel=t("./parse_link_label"),i.parseLinkDestination=t("./parse_link_destination"),i.parseLinkTitle=t("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace,o=t("../common/utils").unescapeAll;e.exports=function(t,e,i){var r,a,s=e,l={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<i;){if(10===(r=t.charCodeAt(e))||n(r))return l;if(62===r)return l.pos=e+1,l.str=o(t.slice(s+1,e)),l.ok=!0,l;92===r&&e+1<i?e+=2:e++}return l}for(a=0;e<i&&32!==(r=t.charCodeAt(e))&&!(r<32||127===r);)if(92===r&&e+1<i)e+=2;else{if(40===r&&a++,41===r){if(0===a)break;a--}e++}return s===e?l:0!==a?l:(l.str=o(t.slice(s,e)),l.lines=0,l.pos=e,l.ok=!0,l)}},{"../common/utils":4}],7:[function(t,e,i){"use strict";e.exports=function(t,e,i){var n,o,r,a,s=-1,l=t.posMax,c=t.pos;for(t.pos=e+1,n=1;t.pos<l;){if(93===(r=t.src.charCodeAt(t.pos))&&0==--n){o=!0;break}if(a=t.pos,t.md.inline.skipToken(t),91===r)if(a===t.pos-1)n++;else if(i)return t.pos=c,-1}return o&&(s=t.pos),t.pos=c,s}},{}],8:[function(t,e,i){"use strict";var n=t("../common/utils").unescapeAll;e.exports=function(t,e,i){var o,r,a=0,s=e,l={ok:!1,pos:0,lines:0,str:""};if(e>=i)return l;if(34!==(r=t.charCodeAt(e))&&39!==r&&40!==r)return l;for(e++,40===r&&(r=41);e<i;){if((o=t.charCodeAt(e))===r)return l.pos=e+1,l.lines=a,l.str=n(t.slice(s+1,e)),l.ok=!0,l;10===o?a++:92===o&&e+1<i&&(e++,10===t.charCodeAt(e)&&a++),e++}return l}},{"../common/utils":4}],9:[function(t,e,i){"use strict";var n=t("./common/utils"),o=t("./helpers"),r=t("./renderer"),a=t("./parser_core"),s=t("./parser_block"),l=t("./parser_inline"),c=t("linkify-it"),u=t("mdurl"),h=t("punycode"),d={default:t("./presets/default"),zero:t("./presets/zero"),commonmark:t("./presets/commonmark")},f=/^(vbscript|javascript|file|data):/,p=/^data:image\/(gif|png|jpeg|webp);/;function m(t){var e=t.trim().toLowerCase();return!f.test(e)||!!p.test(e)}var g=["http:","https:","mailto:"];function v(t){var e=u.parse(t,!0);if(e.hostname&&(!e.protocol||g.indexOf(e.protocol)>=0))try{e.hostname=h.toASCII(e.hostname)}catch(t){}return u.encode(u.format(e))}function b(t){var e=u.parse(t,!0);if(e.hostname&&(!e.protocol||g.indexOf(e.protocol)>=0))try{e.hostname=h.toUnicode(e.hostname)}catch(t){}return u.decode(u.format(e))}function k(t,e){if(!(this instanceof k))return new k(t,e);e||n.isString(t)||(e=t||{},t="default"),this.inline=new l,this.block=new s,this.core=new a,this.renderer=new r,this.linkify=new c,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=b,this.utils=n,this.helpers=n.assign({},o),this.options={},this.configure(t),e&&this.set(e)}k.prototype.set=function(t){return n.assign(this.options,t),this},k.prototype.configure=function(t){var e,i=this;if(n.isString(t)&&!(t=d[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&i.set(t.options),t.components&&Object.keys(t.components).forEach(function(e){t.components[e].rules&&i[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&i[e].ruler2.enableOnly(t.components[e].rules2)}),this},k.prototype.enable=function(t,e){var i=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){i=i.concat(this[e].ruler.enable(t,!0))},this),i=i.concat(this.inline.ruler2.enable(t,!0));var n=t.filter(function(t){return i.indexOf(t)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},k.prototype.disable=function(t,e){var i=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){i=i.concat(this[e].ruler.disable(t,!0))},this),i=i.concat(this.inline.ruler2.disable(t,!0));var n=t.filter(function(t){return i.indexOf(t)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},k.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},k.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var i=new this.core.State(t,this,e);return this.core.process(i),i.tokens},k.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},k.prototype.parseInline=function(t,e){var i=new this.core.State(t,this,e);return i.inlineMode=!0,this.core.process(i),i.tokens},k.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},e.exports=k},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(t,e,i){"use strict";var n=t("./ruler"),o=[["table",t("./rules_block/table"),["paragraph","reference"]],["code",t("./rules_block/code")],["fence",t("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",t("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",t("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",t("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",t("./rules_block/reference")],["heading",t("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",t("./rules_block/lheading")],["html_block",t("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",t("./rules_block/paragraph")]];function r(){this.ruler=new n;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1],{alt:(o[t][2]||[]).slice()})}r.prototype.tokenize=function(t,e,i){for(var n,o=this.ruler.getRules(""),r=o.length,a=e,s=!1,l=t.md.options.maxNesting;a<i&&(t.line=a=t.skipEmptyLines(a),!(a>=i))&&!(t.sCount[a]<t.blkIndent);){if(t.level>=l){t.line=i;break}for(n=0;n<r&&!o[n](t,a,i,!1);n++);t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),(a=t.line)<i&&t.isEmpty(a)&&(s=!0,a++,t.line=a)}},r.prototype.parse=function(t,e,i,n){var o;t&&(o=new this.State(t,e,i,n),this.tokenize(o,o.line,o.lineMax))},r.prototype.State=t("./rules_block/state_block"),e.exports=r},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(t,e,i){"use strict";var n=t("./ruler"),o=[["normalize",t("./rules_core/normalize")],["block",t("./rules_core/block")],["inline",t("./rules_core/inline")],["linkify",t("./rules_core/linkify")],["replacements",t("./rules_core/replacements")],["smartquotes",t("./rules_core/smartquotes")]];function r(){this.ruler=new n;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1])}r.prototype.process=function(t){var e,i,n;for(n=this.ruler.getRules(""),e=0,i=n.length;e<i;e++)n[e](t)},r.prototype.State=t("./rules_core/state_core"),e.exports=r},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(t,e,i){"use strict";var n=t("./ruler"),o=[["text",t("./rules_inline/text")],["newline",t("./rules_inline/newline")],["escape",t("./rules_inline/escape")],["backticks",t("./rules_inline/backticks")],["strikethrough",t("./rules_inline/strikethrough").tokenize],["emphasis",t("./rules_inline/emphasis").tokenize],["link",t("./rules_inline/link")],["image",t("./rules_inline/image")],["autolink",t("./rules_inline/autolink")],["html_inline",t("./rules_inline/html_inline")],["entity",t("./rules_inline/entity")]],r=[["balance_pairs",t("./rules_inline/balance_pairs")],["strikethrough",t("./rules_inline/strikethrough").postProcess],["emphasis",t("./rules_inline/emphasis").postProcess],["text_collapse",t("./rules_inline/text_collapse")]];function a(){var t;for(this.ruler=new n,t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1]);for(this.ruler2=new n,t=0;t<r.length;t++)this.ruler2.push(r[t][0],r[t][1])}a.prototype.skipToken=function(t){var e,i,n=t.pos,o=this.ruler.getRules(""),r=o.length,a=t.md.options.maxNesting,s=t.cache;if(void 0===s[n]){if(t.level<a)for(i=0;i<r&&(t.level++,e=o[i](t,!0),t.level--,!e);i++);else t.pos=t.posMax;e||t.pos++,s[n]=t.pos}else t.pos=s[n]},a.prototype.tokenize=function(t){for(var e,i,n=this.ruler.getRules(""),o=n.length,r=t.posMax,a=t.md.options.maxNesting;t.pos<r;){if(t.level<a)for(i=0;i<o&&!(e=n[i](t,!1));i++);if(e){if(t.pos>=r)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},a.prototype.parse=function(t,e,i,n){var o,r,a,s=new this.State(t,e,i,n);for(this.tokenize(s),r=this.ruler2.getRules(""),a=r.length,o=0;o<a;o++)r[o](s)},a.prototype.State=t("./rules_inline/state_inline"),e.exports=a},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(t,e,i){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(t,e,i){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(t,e,i){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(t,e,i){"use strict";var n=t("./common/utils").assign,o=t("./common/utils").unescapeAll,r=t("./common/utils").escapeHtml,a={};function s(){this.rules=n({},a)}a.code_inline=function(t,e,i,n,o){var a=t[e];return"<code"+o.renderAttrs(a)+">"+r(t[e].content)+"</code>"},a.code_block=function(t,e,i,n,o){var a=t[e];return"<pre"+o.renderAttrs(a)+"><code>"+r(t[e].content)+"</code></pre>\n"},a.fence=function(t,e,i,n,a){var s,l,c,u,h=t[e],d=h.info?o(h.info).trim():"",f="";return d&&(f=d.split(/\s+/g)[0]),0===(s=i.highlight&&i.highlight(h.content,f)||r(h.content)).indexOf("<pre")?s+"\n":d?(l=h.attrIndex("class"),c=h.attrs?h.attrs.slice():[],l<0?c.push(["class",i.langPrefix+f]):c[l][1]+=" "+i.langPrefix+f,u={attrs:c},"<pre><code"+a.renderAttrs(u)+">"+s+"</code></pre>\n"):"<pre><code"+a.renderAttrs(h)+">"+s+"</code></pre>\n"},a.image=function(t,e,i,n,o){var r=t[e];return r.attrs[r.attrIndex("alt")][1]=o.renderInlineAsText(r.children,i,n),o.renderToken(t,e,i)},a.hardbreak=function(t,e,i){return i.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(t,e,i){return i.breaks?i.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(t,e){return r(t[e].content)},a.html_block=function(t,e){return t[e].content},a.html_inline=function(t,e){return t[e].content},s.prototype.renderAttrs=function(t){var e,i,n;if(!t.attrs)return"";for(n="",e=0,i=t.attrs.length;e<i;e++)n+=" "+r(t.attrs[e][0])+'="'+r(t.attrs[e][1])+'"';return n},s.prototype.renderToken=function(t,e,i){var n,o="",r=!1,a=t[e];return a.hidden?"":(a.block&&-1!==a.nesting&&e&&t[e-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&i.xhtmlOut&&(o+=" /"),a.block&&(r=!0,1===a.nesting&&e+1<t.length&&("inline"===(n=t[e+1]).type||n.hidden?r=!1:-1===n.nesting&&n.tag===a.tag&&(r=!1))),o+=r?">\n":">")},s.prototype.renderInline=function(t,e,i){for(var n,o="",r=this.rules,a=0,s=t.length;a<s;a++)n=t[a].type,void 0!==r[n]?o+=r[n](t,a,e,i,this):o+=this.renderToken(t,a,e);return o},s.prototype.renderInlineAsText=function(t,e,i){for(var n="",o=0,r=t.length;o<r;o++)"text"===t[o].type?n+=t[o].content:"image"===t[o].type&&(n+=this.renderInlineAsText(t[o].children,e,i));return n},s.prototype.render=function(t,e,i){var n,o,r,a="",s=this.rules;for(n=0,o=t.length;n<o;n++)"inline"===(r=t[n].type)?a+=this.renderInline(t[n].children,e,i):void 0!==s[r]?a+=s[t[n].type](t,n,e,i,this):a+=this.renderToken(t,n,e,i);return a},e.exports=s},{"./common/utils":4}],17:[function(t,e,i){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},n.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),t.__cache__={},e.forEach(function(e){t.__cache__[e]=[],t.__rules__.forEach(function(i){i.enabled&&(e&&i.alt.indexOf(e)<0||t.__cache__[e].push(i.fn))})})},n.prototype.at=function(t,e,i){var n=this.__find__(t),o=i||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=o.alt||[],this.__cache__=null},n.prototype.before=function(t,e,i,n){var o=this.__find__(t),r=n||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:i,alt:r.alt||[]}),this.__cache__=null},n.prototype.after=function(t,e,i,n){var o=this.__find__(t),r=n||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:i,alt:r.alt||[]}),this.__cache__=null},n.prototype.push=function(t,e,i){var n=i||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var i=[];return t.forEach(function(t){var n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!0,i.push(t)},this),this.__cache__=null,i},n.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(t,e)},n.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var i=[];return t.forEach(function(t){var n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!1,i.push(t)},this),this.__cache__=null,i},n.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},e.exports=n},{}],18:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e,i,o){var r,a,s,l,c,u,h,d,f,p,m,g,v,b,k,y,w,_,x,S,C=t.lineMax,A=t.bMarks[e]+t.tShift[e],T=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(A++))return!1;if(o)return!0;for(l=f=t.sCount[e]+A-(t.bMarks[e]+t.tShift[e]),32===t.src.charCodeAt(A)?(A++,l++,f++,r=!1,y=!0):9===t.src.charCodeAt(A)?(y=!0,(t.bsCount[e]+f)%4==3?(A++,l++,f++,r=!1):r=!0):y=!1,p=[t.bMarks[e]],t.bMarks[e]=A;A<T&&(a=t.src.charCodeAt(A),n(a));)9===a?f+=4-(f+t.bsCount[e]+(r?1:0))%4:f++,A++;for(m=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(y?1:0),u=A>=T,b=[t.sCount[e]],t.sCount[e]=f-l,k=[t.tShift[e]],t.tShift[e]=A-t.bMarks[e],_=t.md.block.ruler.getRules("blockquote"),v=t.parentType,t.parentType="blockquote",S=!1,d=e+1;d<i&&(t.sCount[d]<t.blkIndent&&(S=!0),A=t.bMarks[d]+t.tShift[d],T=t.eMarks[d],!(A>=T));d++)if(62!==t.src.charCodeAt(A++)||S){if(u)break;for(w=!1,s=0,c=_.length;s<c;s++)if(_[s](t,d,i,!0)){w=!0;break}if(w){t.lineMax=d,0!==t.blkIndent&&(p.push(t.bMarks[d]),m.push(t.bsCount[d]),k.push(t.tShift[d]),b.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}p.push(t.bMarks[d]),m.push(t.bsCount[d]),k.push(t.tShift[d]),b.push(t.sCount[d]),t.sCount[d]=-1}else{for(l=f=t.sCount[d]+A-(t.bMarks[d]+t.tShift[d]),32===t.src.charCodeAt(A)?(A++,l++,f++,r=!1,y=!0):9===t.src.charCodeAt(A)?(y=!0,(t.bsCount[d]+f)%4==3?(A++,l++,f++,r=!1):r=!0):y=!1,p.push(t.bMarks[d]),t.bMarks[d]=A;A<T&&(a=t.src.charCodeAt(A),n(a));)9===a?f+=4-(f+t.bsCount[d]+(r?1:0))%4:f++,A++;u=A>=T,m.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(y?1:0),b.push(t.sCount[d]),t.sCount[d]=f-l,k.push(t.tShift[d]),t.tShift[d]=A-t.bMarks[d]}for(g=t.blkIndent,t.blkIndent=0,(x=t.push("blockquote_open","blockquote",1)).markup=">",x.map=h=[e,0],t.md.block.tokenize(t,e,d),(x=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=C,t.parentType=v,h[1]=t.line,s=0;s<k.length;s++)t.bMarks[s+e]=p[s],t.tShift[s+e]=k[s],t.sCount[s+e]=b[s],t.bsCount[s+e]=m[s];return t.blkIndent=g,!0}},{"../common/utils":4}],19:[function(t,e,i){"use strict";e.exports=function(t,e,i){var n,o,r;if(t.sCount[e]-t.blkIndent<4)return!1;for(o=n=e+1;n<i;)if(t.isEmpty(n))n++;else{if(!(t.sCount[n]-t.blkIndent>=4))break;o=++n}return t.line=o,(r=t.push("code_block","code",0)).content=t.getLines(e,o,4+t.blkIndent,!0),r.map=[e,t.line],!0}},{}],20:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){var o,r,a,s,l,c,u,h=!1,d=t.bMarks[e]+t.tShift[e],f=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(d+3>f)return!1;if(126!==(o=t.src.charCodeAt(d))&&96!==o)return!1;if(l=d,d=t.skipChars(d,o),(r=d-l)<3)return!1;if(u=t.src.slice(l,d),(a=t.src.slice(d,f)).indexOf(String.fromCharCode(o))>=0)return!1;if(n)return!0;for(s=e;!(++s>=i||(d=l=t.bMarks[s]+t.tShift[s],f=t.eMarks[s],d<f&&t.sCount[s]<t.blkIndent));)if(t.src.charCodeAt(d)===o&&!(t.sCount[s]-t.blkIndent>=4||(d=t.skipChars(d,o))-l<r||(d=t.skipSpaces(d))<f)){h=!0;break}return r=t.sCount[e],t.line=s+(h?1:0),(c=t.push("fence","code",0)).info=a,c.content=t.getLines(e+1,s,r,!0),c.markup=u,c.map=[e,t.line],!0}},{}],21:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e,i,o){var r,a,s,l,c=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(35!==(r=t.src.charCodeAt(c))||c>=u)return!1;for(a=1,r=t.src.charCodeAt(++c);35===r&&c<u&&a<=6;)a++,r=t.src.charCodeAt(++c);return!(a>6||c<u&&!n(r)||!o&&(u=t.skipSpacesBack(u,c),(s=t.skipCharsBack(u,35,c))>c&&n(t.src.charCodeAt(s-1))&&(u=s),t.line=e+1,(l=t.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),l.map=[e,t.line],(l=t.push("inline","",0)).content=t.src.slice(c,u).trim(),l.map=[e,t.line],l.children=[],(l=t.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a),0))}},{"../common/utils":4}],22:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e,i,o){var r,a,s,l,c=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(42!==(r=t.src.charCodeAt(c++))&&45!==r&&95!==r)return!1;for(a=1;c<u;){if((s=t.src.charCodeAt(c++))!==r&&!n(s))return!1;s===r&&a++}return!(a<3||!o&&(t.line=e+1,(l=t.push("hr","hr",0)).map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(r)),0))}},{"../common/utils":4}],23:[function(t,e,i){"use strict";var n=t("../common/html_blocks"),o=t("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,r=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(t,e,i,n){var o,a,s,l,c=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(c))return!1;for(l=t.src.slice(c,u),o=0;o<r.length&&!r[o][0].test(l);o++);if(o===r.length)return!1;if(n)return r[o][2];if(a=e+1,!r[o][1].test(l))for(;a<i&&!(t.sCount[a]<t.blkIndent);a++)if(c=t.bMarks[a]+t.tShift[a],u=t.eMarks[a],l=t.src.slice(c,u),r[o][1].test(l)){0!==l.length&&a++;break}return t.line=a,(s=t.push("html_block","",0)).map=[e,a],s.content=t.getLines(e,a,t.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(t,e,i){"use strict";e.exports=function(t,e,i){var n,o,r,a,s,l,c,u,h,d,f=e+1,p=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(d=t.parentType,t.parentType="paragraph";f<i&&!t.isEmpty(f);f++)if(!(t.sCount[f]-t.blkIndent>3)){if(t.sCount[f]>=t.blkIndent&&(l=t.bMarks[f]+t.tShift[f],c=t.eMarks[f],l<c&&(45===(h=t.src.charCodeAt(l))||61===h)&&(l=t.skipChars(l,h),(l=t.skipSpaces(l))>=c))){u=61===h?1:2;break}if(!(t.sCount[f]<0)){for(o=!1,r=0,a=p.length;r<a;r++)if(p[r](t,f,i,!0)){o=!0;break}if(o)break}}return!!u&&(n=t.getLines(e,f,t.blkIndent,!1).trim(),t.line=f+1,(s=t.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(h),s.map=[e,t.line],(s=t.push("inline","",0)).content=n,s.map=[e,t.line-1],s.children=[],(s=t.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(h),t.parentType=d,!0)}},{}],25:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace;function o(t,e){var i,o,r,a;return o=t.bMarks[e]+t.tShift[e],r=t.eMarks[e],42!==(i=t.src.charCodeAt(o++))&&45!==i&&43!==i?-1:o<r&&(a=t.src.charCodeAt(o),!n(a))?-1:o}function r(t,e){var i,o=t.bMarks[e]+t.tShift[e],r=o,a=t.eMarks[e];if(r+1>=a)return-1;if((i=t.src.charCodeAt(r++))<48||i>57)return-1;for(;;){if(r>=a)return-1;if(!((i=t.src.charCodeAt(r++))>=48&&i<=57)){if(41===i||46===i)break;return-1}if(r-o>=10)return-1}return r<a&&(i=t.src.charCodeAt(r),!n(i))?-1:r}e.exports=function(t,e,i,n){var a,s,l,c,u,h,d,f,p,m,g,v,b,k,y,w,_,x,S,C,A,T,j,M,z,E,I,D,O=!1,P=!0;if(t.sCount[e]-t.blkIndent>=4)return!1;if(n&&"paragraph"===t.parentType&&t.tShift[e]>=t.blkIndent&&(O=!0),(j=r(t,e))>=0){if(d=!0,z=t.bMarks[e]+t.tShift[e],b=Number(t.src.substr(z,j-z-1)),O&&1!==b)return!1}else{if(!((j=o(t,e))>=0))return!1;d=!1}if(O&&t.skipSpaces(j)>=t.eMarks[e])return!1;if(v=t.src.charCodeAt(j-1),n)return!0;for(g=t.tokens.length,d?(D=t.push("ordered_list_open","ol",1),1!==b&&(D.attrs=[["start",b]])):D=t.push("bullet_list_open","ul",1),D.map=m=[e,0],D.markup=String.fromCharCode(v),y=e,M=!1,I=t.md.block.ruler.getRules("list"),S=t.parentType,t.parentType="list";y<i;){for(T=j,k=t.eMarks[y],h=w=t.sCount[y]+j-(t.bMarks[e]+t.tShift[e]);T<k;){if(9===(a=t.src.charCodeAt(T)))w+=4-(w+t.bsCount[y])%4;else{if(32!==a)break;w++}T++}if((u=(s=T)>=k?1:w-h)>4&&(u=1),c=h+u,(D=t.push("list_item_open","li",1)).markup=String.fromCharCode(v),D.map=f=[e,0],_=t.blkIndent,A=t.tight,C=t.tShift[e],x=t.sCount[e],t.blkIndent=c,t.tight=!0,t.tShift[e]=s-t.bMarks[e],t.sCount[e]=w,s>=k&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,i):t.md.block.tokenize(t,e,i,!0),t.tight&&!M||(P=!1),M=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=_,t.tShift[e]=C,t.sCount[e]=x,t.tight=A,(D=t.push("list_item_close","li",-1)).markup=String.fromCharCode(v),y=e=t.line,f[1]=y,s=t.bMarks[e],y>=i)break;if(t.sCount[y]<t.blkIndent)break;for(E=!1,l=0,p=I.length;l<p;l++)if(I[l](t,y,i,!0)){E=!0;break}if(E)break;if(d){if((j=r(t,y))<0)break}else if((j=o(t,y))<0)break;if(v!==t.src.charCodeAt(j-1))break}return(D=d?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=y,t.line=y,t.parentType=S,P&&function(t,e){var i,n,o=t.level+2;for(i=e+2,n=t.tokens.length-2;i<n;i++)t.tokens[i].level===o&&"paragraph_open"===t.tokens[i].type&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}(t,g),!0}},{"../common/utils":4}],26:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,o,r,a,s,l=e+1,c=t.md.block.ruler.getRules("paragraph"),u=t.lineMax;for(s=t.parentType,t.parentType="paragraph";l<u&&!t.isEmpty(l);l++)if(!(t.sCount[l]-t.blkIndent>3||t.sCount[l]<0)){for(n=!1,o=0,r=c.length;o<r;o++)if(c[o](t,l,u,!0)){n=!0;break}if(n)break}return i=t.getLines(e,l,t.blkIndent,!1).trim(),t.line=l,(a=t.push("paragraph_open","p",1)).map=[e,t.line],(a=t.push("inline","",0)).content=i,a.map=[e,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=s,!0}},{}],27:[function(t,e,i){"use strict";var n=t("../common/utils").normalizeReference,o=t("../common/utils").isSpace;e.exports=function(t,e,i,r){var a,s,l,c,u,h,d,f,p,m,g,v,b,k,y,w,_=0,x=t.bMarks[e]+t.tShift[e],S=t.eMarks[e],C=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(x))return!1;for(;++x<S;)if(93===t.src.charCodeAt(x)&&92!==t.src.charCodeAt(x-1)){if(x+1===S)return!1;if(58!==t.src.charCodeAt(x+1))return!1;break}for(c=t.lineMax,y=t.md.block.ruler.getRules("reference"),m=t.parentType,t.parentType="reference";C<c&&!t.isEmpty(C);C++)if(!(t.sCount[C]-t.blkIndent>3||t.sCount[C]<0)){for(k=!1,h=0,d=y.length;h<d;h++)if(y[h](t,C,c,!0)){k=!0;break}if(k)break}for(b=t.getLines(e,C,t.blkIndent,!1).trim(),S=b.length,x=1;x<S;x++){if(91===(a=b.charCodeAt(x)))return!1;if(93===a){p=x;break}10===a?_++:92===a&&++x<S&&10===b.charCodeAt(x)&&_++}if(p<0||58!==b.charCodeAt(p+1))return!1;for(x=p+2;x<S;x++)if(10===(a=b.charCodeAt(x)))_++;else if(!o(a))break;if(!(g=t.md.helpers.parseLinkDestination(b,x,S)).ok)return!1;if(u=t.md.normalizeLink(g.str),!t.md.validateLink(u))return!1;for(x=g.pos,_+=g.lines,s=x,l=_,v=x;x<S;x++)if(10===(a=b.charCodeAt(x)))_++;else if(!o(a))break;for(g=t.md.helpers.parseLinkTitle(b,x,S),x<S&&v!==x&&g.ok?(w=g.str,x=g.pos,_+=g.lines):(w="",x=s,_=l);x<S&&(a=b.charCodeAt(x),o(a));)x++;if(x<S&&10!==b.charCodeAt(x)&&w)for(w="",x=s,_=l;x<S&&(a=b.charCodeAt(x),o(a));)x++;return!(x<S&&10!==b.charCodeAt(x)||!(f=n(b.slice(1,p)))||!r&&(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[f]&&(t.env.references[f]={title:w,href:u}),t.parentType=m,t.line=e+_+1,0))}},{"../common/utils":4}],28:[function(t,e,i){"use strict";var n=t("../token"),o=t("../common/utils").isSpace;function r(t,e,i,n){var r,a,s,l,c,u,h,d;for(this.src=t,this.md=e,this.env=i,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",a=this.src,d=!1,s=l=u=h=0,c=a.length;l<c;l++){if(r=a.charCodeAt(l),!d){if(o(r)){u++,9===r?h+=4-h%4:h++;continue}d=!0}10!==r&&l!==c-1||(10!==r&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(h),this.bsCount.push(0),d=!1,u=0,h=0,s=l+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}r.prototype.push=function(t,e,i){var o=new n(t,e,i);return o.block=!0,i<0&&this.level--,o.level=this.level,i>0&&this.level++,this.tokens.push(o),o},r.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},r.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},r.prototype.skipSpaces=function(t){for(var e,i=this.src.length;t<i&&(e=this.src.charCodeAt(t),o(e));t++);return t},r.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!o(this.src.charCodeAt(--t)))return t+1;return t},r.prototype.skipChars=function(t,e){for(var i=this.src.length;t<i&&this.src.charCodeAt(t)===e;t++);return t},r.prototype.skipCharsBack=function(t,e,i){if(t<=i)return t;for(;t>i;)if(e!==this.src.charCodeAt(--t))return t+1;return t},r.prototype.getLines=function(t,e,i,n){var r,a,s,l,c,u,h,d=t;if(t>=e)return"";for(u=new Array(e-t),r=0;d<e;d++,r++){for(a=0,h=l=this.bMarks[d],c=d+1<e||n?this.eMarks[d]+1:this.eMarks[d];l<c&&a<i;){if(s=this.src.charCodeAt(l),o(s))9===s?a+=4-(a+this.bsCount[d])%4:a++;else{if(!(l-h<this.tShift[d]))break;a++}l++}u[r]=a>i?new Array(a-i+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return u.join("")},r.prototype.Token=n,e.exports=r},{"../common/utils":4,"../token":51}],29:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace;function o(t,e){var i=t.bMarks[e]+t.blkIndent,n=t.eMarks[e];return t.src.substr(i,n-i)}function r(t){var e,i=[],n=0,o=t.length,r=0,a=0,s=!1,l=0;for(e=t.charCodeAt(n);n<o;)96===e?s?(s=!1,l=n):r%2==0&&(s=!0,l=n):124!==e||r%2!=0||s||(i.push(t.substring(a,n)),a=n+1),92===e?r++:r=0,++n===o&&s&&(s=!1,n=l+1),e=t.charCodeAt(n);return i.push(t.substring(a)),i}e.exports=function(t,e,i,a){var s,l,c,u,h,d,f,p,m,g,v,b;if(e+2>i)return!1;if(h=e+1,t.sCount[h]<t.blkIndent)return!1;if(t.sCount[h]-t.blkIndent>=4)return!1;if((c=t.bMarks[h]+t.tShift[h])>=t.eMarks[h])return!1;if(124!==(s=t.src.charCodeAt(c++))&&45!==s&&58!==s)return!1;for(;c<t.eMarks[h];){if(124!==(s=t.src.charCodeAt(c))&&45!==s&&58!==s&&!n(s))return!1;c++}for(l=o(t,e+1),d=l.split("|"),m=[],u=0;u<d.length;u++){if(!(g=d[u].trim())){if(0===u||u===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(l=o(t,e).trim()).indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(d=r(l.replace(/^\||\|$/g,"")),(f=d.length)>m.length)return!1;if(a)return!0;for((p=t.push("table_open","table",1)).map=v=[e,0],(p=t.push("thead_open","thead",1)).map=[e,e+1],(p=t.push("tr_open","tr",1)).map=[e,e+1],u=0;u<d.length;u++)(p=t.push("th_open","th",1)).map=[e,e+1],m[u]&&(p.attrs=[["style","text-align:"+m[u]]]),(p=t.push("inline","",0)).content=d[u].trim(),p.map=[e,e+1],p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),(p=t.push("tbody_open","tbody",1)).map=b=[e+2,0],h=e+2;h<i&&!(t.sCount[h]<t.blkIndent)&&-1!==(l=o(t,h).trim()).indexOf("|")&&!(t.sCount[h]-t.blkIndent>=4);h++){for(d=r(l.replace(/^\||\|$/g,"")),p=t.push("tr_open","tr",1),u=0;u<f;u++)p=t.push("td_open","td",1),m[u]&&(p.attrs=[["style","text-align:"+m[u]]]),(p=t.push("inline","",0)).content=d[u]?d[u].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return p=t.push("tbody_close","tbody",-1),p=t.push("table_close","table",-1),v[1]=b[1]=h,t.line=h,!0}},{"../common/utils":4}],30:[function(t,e,i){"use strict";e.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},{}],31:[function(t,e,i){"use strict";e.exports=function(t){var e,i,n,o=t.tokens;for(i=0,n=o.length;i<n;i++)"inline"===(e=o[i]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},{}],32:[function(t,e,i){"use strict";var n=t("../common/utils").arrayReplaceAt;function o(t){return/^<a[>\s]/i.test(t)}function r(t){return/^<\/a\s*>/i.test(t)}e.exports=function(t){var e,i,a,s,l,c,u,h,d,f,p,m,g,v,b,k,y,w=t.tokens;if(t.md.options.linkify)for(i=0,a=w.length;i<a;i++)if("inline"===w[i].type&&t.md.linkify.pretest(w[i].content))for(s=w[i].children,g=0,e=s.length-1;e>=0;e--)if("link_close"!==(c=s[e]).type){if("html_inline"===c.type&&(o(c.content)&&g>0&&g--,r(c.content)&&g++),!(g>0)&&"text"===c.type&&t.md.linkify.test(c.content)){for(d=c.content,y=t.md.linkify.match(d),u=[],m=c.level,p=0,h=0;h<y.length;h++)v=y[h].url,b=t.md.normalizeLink(v),t.md.validateLink(b)&&(k=y[h].text,k=y[h].schema?"mailto:"!==y[h].schema||/^mailto:/i.test(k)?t.md.normalizeLinkText(k):t.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,""),(f=y[h].index)>p&&((l=new t.Token("text","",0)).content=d.slice(p,f),l.level=m,u.push(l)),(l=new t.Token("link_open","a",1)).attrs=[["href",b]],l.level=m++,l.markup="linkify",l.info="auto",u.push(l),(l=new t.Token("text","",0)).content=k,l.level=m,u.push(l),(l=new t.Token("link_close","a",-1)).level=--m,l.markup="linkify",l.info="auto",u.push(l),p=y[h].lastIndex);p<d.length&&((l=new t.Token("text","",0)).content=d.slice(p),l.level=m,u.push(l)),w[i].children=s=n(s,e,u)}}else for(e--;s[e].level!==c.level&&"link_open"!==s[e].type;)e--}},{"../common/utils":4}],33:[function(t,e,i){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function(t){var e;e=(e=t.src.replace(n,"\n")).replace(o,"�"),t.src=e}},{}],34:[function(t,e,i){"use strict";var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,r=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};function s(t,e){return a[e.toLowerCase()]}function l(t){var e,i,n=0;for(e=t.length-1;e>=0;e--)"text"!==(i=t[e]).type||n||(i.content=i.content.replace(r,s)),"link_open"===i.type&&"auto"===i.info&&n--,"link_close"===i.type&&"auto"===i.info&&n++}function c(t){var e,i,o=0;for(e=t.length-1;e>=0;e--)"text"!==(i=t[e]).type||o||n.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===i.type&&"auto"===i.info&&o--,"link_close"===i.type&&"auto"===i.info&&o++}e.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(o.test(t.tokens[e].content)&&l(t.tokens[e].children),n.test(t.tokens[e].content)&&c(t.tokens[e].children))}},{}],35:[function(t,e,i){"use strict";var n=t("../common/utils").isWhiteSpace,o=t("../common/utils").isPunctChar,r=t("../common/utils").isMdAsciiPunct,a=/['"]/,s=/['"]/g,l="’";function c(t,e,i){return t.substr(0,e)+i+t.substr(e+1)}function u(t,e){var i,a,u,h,d,f,p,m,g,v,b,k,y,w,_,x,S,C,A,T,j;for(A=[],i=0;i<t.length;i++){for(a=t[i],p=t[i].level,S=A.length-1;S>=0&&!(A[S].level<=p);S--);if(A.length=S+1,"text"===a.type){u=a.content,d=0,f=u.length;t:for(;d<f&&(s.lastIndex=d,h=s.exec(u));){if(_=x=!0,d=h.index+1,C="'"===h[0],g=32,h.index-1>=0)g=u.charCodeAt(h.index-1);else for(S=i-1;S>=0&&"softbreak"!==t[S].type&&"hardbreak"!==t[S].type;S--)if("text"===t[S].type){g=t[S].content.charCodeAt(t[S].content.length-1);break}if(v=32,d<f)v=u.charCodeAt(d);else for(S=i+1;S<t.length&&"softbreak"!==t[S].type&&"hardbreak"!==t[S].type;S++)if("text"===t[S].type){v=t[S].content.charCodeAt(0);break}if(b=r(g)||o(String.fromCharCode(g)),k=r(v)||o(String.fromCharCode(v)),y=n(g),(w=n(v))?_=!1:k&&(y||b||(_=!1)),y?x=!1:b&&(w||k||(x=!1)),34===v&&'"'===h[0]&&g>=48&&g<=57&&(x=_=!1),_&&x&&(_=!1,x=k),_||x){if(x)for(S=A.length-1;S>=0&&(m=A[S],!(A[S].level<p));S--)if(m.single===C&&A[S].level===p){m=A[S],C?(T=e.md.options.quotes[2],j=e.md.options.quotes[3]):(T=e.md.options.quotes[0],j=e.md.options.quotes[1]),a.content=c(a.content,h.index,j),t[m.token].content=c(t[m.token].content,m.pos,T),d+=j.length-1,m.token===i&&(d+=T.length-1),u=a.content,f=u.length,A.length=S;continue t}_?A.push({token:i,pos:h.index,single:C,level:p}):x&&C&&(a.content=c(a.content,h.index,l))}else C&&(a.content=c(a.content,h.index,l))}}}}e.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&a.test(t.tokens[e].content)&&u(t.tokens[e].children,t)}},{"../common/utils":4}],36:[function(t,e,i){"use strict";var n=t("../token");function o(t,e,i){this.src=t,this.env=i,this.tokens=[],this.inlineMode=!1,this.md=e}o.prototype.Token=n,e.exports=o},{"../token":51}],37:[function(t,e,i){"use strict";var n=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,o=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(t,e){var i,r,a,s,l,c,u=t.pos;return!(60!==t.src.charCodeAt(u)||(i=t.src.slice(u)).indexOf(">")<0||(o.test(i)?(r=i.match(o),s=r[0].slice(1,-1),l=t.md.normalizeLink(s),!t.md.validateLink(l)||(e||((c=t.push("link_open","a",1)).attrs=[["href",l]],c.markup="autolink",c.info="auto",(c=t.push("text","",0)).content=t.md.normalizeLinkText(s),(c=t.push("link_close","a",-1)).markup="autolink",c.info="auto"),t.pos+=r[0].length,0)):!n.test(i)||(a=i.match(n),s=a[0].slice(1,-1),l=t.md.normalizeLink("mailto:"+s),!t.md.validateLink(l)||(e||((c=t.push("link_open","a",1)).attrs=[["href",l]],c.markup="autolink",c.info="auto",(c=t.push("text","",0)).content=t.md.normalizeLinkText(s),(c=t.push("link_close","a",-1)).markup="autolink",c.info="auto"),t.pos+=a[0].length,0))))}},{}],38:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,o,r,a,s,l=t.pos,c=t.src.charCodeAt(l);if(96!==c)return!1;for(i=l,l++,n=t.posMax;l<n&&96===t.src.charCodeAt(l);)l++;for(o=t.src.slice(i,l),r=a=l;-1!==(r=t.src.indexOf("`",a));){for(a=r+1;a<n&&96===t.src.charCodeAt(a);)a++;if(a-r===o.length)return e||((s=t.push("code_inline","code",0)).markup=o,s.content=t.src.slice(l,r).replace(/[ \n]+/g," ").trim()),t.pos=a,!0}return e||(t.pending+=o),t.pos+=o.length,!0}},{}],39:[function(t,e,i){"use strict";e.exports=function(t){var e,i,n,o,r=t.delimiters,a=t.delimiters.length;for(e=0;e<a;e++)if((n=r[e]).close)for(i=e-n.jump-1;i>=0;){if((o=r[i]).open&&o.marker===n.marker&&o.end<0&&o.level===n.level){var s=(o.close||n.open)&&void 0!==o.length&&void 0!==n.length&&(o.length+n.length)%3==0;if(!s){n.jump=e-i,n.open=!1,o.end=e,o.jump=0;break}}i-=o.jump+1}}},{}],40:[function(t,e,i){"use strict";e.exports.tokenize=function(t,e){var i,n,o=t.pos,r=t.src.charCodeAt(o);if(e)return!1;if(95!==r&&42!==r)return!1;for(n=t.scanDelims(t.pos,42===r),i=0;i<n.length;i++)t.push("text","",0).content=String.fromCharCode(r),t.delimiters.push({marker:r,length:n.length,jump:i,token:t.tokens.length-1,level:t.level,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},e.exports.postProcess=function(t){var e,i,n,o,r,a,s=t.delimiters,l=t.delimiters.length;for(e=l-1;e>=0;e--)95!==(i=s[e]).marker&&42!==i.marker||-1!==i.end&&(n=s[i.end],a=e>0&&s[e-1].end===i.end+1&&s[e-1].token===i.token-1&&s[i.end+1].token===n.token+1&&s[e-1].marker===i.marker,r=String.fromCharCode(i.marker),(o=t.tokens[i.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?r+r:r,o.content="",(o=t.tokens[n.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?r+r:r,o.content="",a&&(t.tokens[s[e-1].token].content="",t.tokens[s[i.end+1].token].content="",e--))}},{}],41:[function(t,e,i){"use strict";var n=t("../common/entities"),o=t("../common/utils").has,r=t("../common/utils").isValidEntityCode,a=t("../common/utils").fromCodePoint,s=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(t,e){var i,c,u=t.pos,h=t.posMax;if(38!==t.src.charCodeAt(u))return!1;if(u+1<h)if(35===t.src.charCodeAt(u+1)){if(c=t.src.slice(u).match(s))return e||(i="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),t.pending+=r(i)?a(i):a(65533)),t.pos+=c[0].length,!0}else if((c=t.src.slice(u).match(l))&&o(n,c[1]))return e||(t.pending+=n[c[1]]),t.pos+=c[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(t,e,i){"use strict";for(var n=t("../common/utils").isSpace,o=[],r=0;r<256;r++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){o[t.charCodeAt(0)]=1}),e.exports=function(t,e){var i,r=t.pos,a=t.posMax;if(92!==t.src.charCodeAt(r))return!1;if(++r<a){if((i=t.src.charCodeAt(r))<256&&0!==o[i])return e||(t.pending+=t.src[r]),t.pos+=2,!0;if(10===i){for(e||t.push("hardbreak","br",0),r++;r<a&&(i=t.src.charCodeAt(r),n(i));)r++;return t.pos=r,!0}}return e||(t.pending+="\\"),t.pos++,!0}},{"../common/utils":4}],43:[function(t,e,i){"use strict";var n=t("../common/html_re").HTML_TAG_RE;e.exports=function(t,e){var i,o,r,a=t.pos;return!(!t.md.options.html||(r=t.posMax,60!==t.src.charCodeAt(a)||a+2>=r||33!==(i=t.src.charCodeAt(a+1))&&63!==i&&47!==i&&!function(t){var e=32|t;return e>=97&&e<=122}(i)||!(o=t.src.slice(a).match(n))||(e||(t.push("html_inline","",0).content=t.src.slice(a,a+o[0].length)),t.pos+=o[0].length,0)))}},{"../common/html_re":3}],44:[function(t,e,i){"use strict";var n=t("../common/utils").normalizeReference,o=t("../common/utils").isSpace;e.exports=function(t,e){var i,r,a,s,l,c,u,h,d,f,p,m,g,v="",b=t.pos,k=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(c=t.pos+2,(l=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((u=l+1)<k&&40===t.src.charCodeAt(u)){for(u++;u<k&&(r=t.src.charCodeAt(u),o(r)||10===r);u++);if(u>=k)return!1;for(g=u,(d=t.md.helpers.parseLinkDestination(t.src,u,t.posMax)).ok&&(v=t.md.normalizeLink(d.str),t.md.validateLink(v)?u=d.pos:v=""),g=u;u<k&&(r=t.src.charCodeAt(u),o(r)||10===r);u++);if(d=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<k&&g!==u&&d.ok)for(f=d.str,u=d.pos;u<k&&(r=t.src.charCodeAt(u),o(r)||10===r);u++);else f="";if(u>=k||41!==t.src.charCodeAt(u))return t.pos=b,!1;u++}else{if(void 0===t.env.references)return!1;if(u<k&&91===t.src.charCodeAt(u)?(g=u+1,(u=t.md.helpers.parseLinkLabel(t,u))>=0?s=t.src.slice(g,u++):u=l+1):u=l+1,s||(s=t.src.slice(c,l)),!(h=t.env.references[n(s)]))return t.pos=b,!1;v=h.href,f=h.title}return e||(a=t.src.slice(c,l),t.md.inline.parse(a,t.md,t.env,m=[]),(p=t.push("image","img",0)).attrs=i=[["src",v],["alt",""]],p.children=m,p.content=a,f&&i.push(["title",f])),t.pos=u,t.posMax=k,!0}},{"../common/utils":4}],45:[function(t,e,i){"use strict";var n=t("../common/utils").normalizeReference,o=t("../common/utils").isSpace;e.exports=function(t,e){var i,r,a,s,l,c,u,h,d,f="",p=t.pos,m=t.posMax,g=t.pos,v=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(l=t.pos+1,(s=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((c=s+1)<m&&40===t.src.charCodeAt(c)){for(v=!1,c++;c<m&&(r=t.src.charCodeAt(c),o(r)||10===r);c++);if(c>=m)return!1;for(g=c,(u=t.md.helpers.parseLinkDestination(t.src,c,t.posMax)).ok&&(f=t.md.normalizeLink(u.str),t.md.validateLink(f)?c=u.pos:f=""),g=c;c<m&&(r=t.src.charCodeAt(c),o(r)||10===r);c++);if(u=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&g!==c&&u.ok)for(d=u.str,c=u.pos;c<m&&(r=t.src.charCodeAt(c),o(r)||10===r);c++);else d="";(c>=m||41!==t.src.charCodeAt(c))&&(v=!0),c++}if(v){if(void 0===t.env.references)return!1;if(c<m&&91===t.src.charCodeAt(c)?(g=c+1,(c=t.md.helpers.parseLinkLabel(t,c))>=0?a=t.src.slice(g,c++):c=s+1):c=s+1,a||(a=t.src.slice(l,s)),!(h=t.env.references[n(a)]))return t.pos=p,!1;f=h.href,d=h.title}return e||(t.pos=l,t.posMax=s,t.push("link_open","a",1).attrs=i=[["href",f]],d&&i.push(["title",d]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0}},{"../common/utils":4}],46:[function(t,e,i){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e){var i,o,r=t.pos;if(10!==t.src.charCodeAt(r))return!1;for(i=t.pending.length-1,o=t.posMax,e||(i>=0&&32===t.pending.charCodeAt(i)?i>=1&&32===t.pending.charCodeAt(i-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),r++;r<o&&n(t.src.charCodeAt(r));)r++;return t.pos=r,!0}},{"../common/utils":4}],47:[function(t,e,i){"use strict";var n=t("../token"),o=t("../common/utils").isWhiteSpace,r=t("../common/utils").isPunctChar,a=t("../common/utils").isMdAsciiPunct;function s(t,e,i,n){this.src=t,this.env=i,this.md=e,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}s.prototype.pushPending=function(){var t=new n("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},s.prototype.push=function(t,e,i){this.pending&&this.pushPending();var o=new n(t,e,i);return i<0&&this.level--,o.level=this.level,i>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(o),o},s.prototype.scanDelims=function(t,e){var i,n,s,l,c,u,h,d,f,p=t,m=!0,g=!0,v=this.posMax,b=this.src.charCodeAt(t);for(i=t>0?this.src.charCodeAt(t-1):32;p<v&&this.src.charCodeAt(p)===b;)p++;return s=p-t,n=p<v?this.src.charCodeAt(p):32,h=a(i)||r(String.fromCharCode(i)),f=a(n)||r(String.fromCharCode(n)),u=o(i),(d=o(n))?m=!1:f&&(u||h||(m=!1)),u?g=!1:h&&(d||f||(g=!1)),e?(l=m,c=g):(l=m&&(!g||h),c=g&&(!m||f)),{can_open:l,can_close:c,length:s}},s.prototype.Token=n,e.exports=s},{"../common/utils":4,"../token":51}],48:[function(t,e,i){"use strict";e.exports.tokenize=function(t,e){var i,n,o,r,a=t.pos,s=t.src.charCodeAt(a);if(e)return!1;if(126!==s)return!1;if(n=t.scanDelims(t.pos,!0),o=n.length,r=String.fromCharCode(s),o<2)return!1;for(o%2&&(t.push("text","",0).content=r,o--),i=0;i<o;i+=2)t.push("text","",0).content=r+r,t.delimiters.push({marker:s,jump:i,token:t.tokens.length-1,level:t.level,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},e.exports.postProcess=function(t){var e,i,n,o,r,a=[],s=t.delimiters,l=t.delimiters.length;for(e=0;e<l;e++)126===(n=s[e]).marker&&-1!==n.end&&(o=s[n.end],(r=t.tokens[n.token]).type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",(r=t.tokens[o.token]).type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="","text"===t.tokens[o.token-1].type&&"~"===t.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(e=a.pop(),i=e+1;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;e!==--i&&(r=t.tokens[i],t.tokens[i]=t.tokens[e],t.tokens[e]=r)}}},{}],49:[function(t,e,i){"use strict";function n(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(t,e){for(var i=t.pos;i<t.posMax&&!n(t.src.charCodeAt(i));)i++;return i!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,i)),t.pos=i,!0)}},{}],50:[function(t,e,i){"use strict";e.exports=function(t){var e,i,n=0,o=t.tokens,r=t.tokens.length;for(e=i=0;e<r;e++)n+=o[e].nesting,o[e].level=n,"text"===o[e].type&&e+1<r&&"text"===o[e+1].type?o[e+1].content=o[e].content+o[e+1].content:(e!==i&&(o[i]=o[e]),i++);e!==i&&(o.length=i)}},{}],51:[function(t,e,i){"use strict";function n(t,e,i){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=i,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(t){var e,i,n;if(!this.attrs)return-1;for(e=this.attrs,i=0,n=e.length;i<n;i++)if(e[i][0]===t)return i;return-1},n.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},n.prototype.attrSet=function(t,e){var i=this.attrIndex(t),n=[t,e];i<0?this.attrPush(n):this.attrs[i]=n},n.prototype.attrGet=function(t){var e=this.attrIndex(t),i=null;return e>=0&&(i=this.attrs[e][1]),i},n.prototype.attrJoin=function(t,e){var i=this.attrIndex(t);i<0?this.attrPush([t,e]):this.attrs[i][1]=this.attrs[i][1]+" "+e},e.exports=n},{}],52:[function(t,e,i){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},{}],53:[function(t,e,i){"use strict";function n(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){e&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t}function o(t){return Object.prototype.toString.call(t)}function r(t){return"[object Function]"===o(t)}function a(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},l={"http:":{validate:function(t,e,i){var n=t.slice(e);return i.re.http||(i.re.http=new RegExp("^\\/\\/"+i.re.src_auth+i.re.src_host_port_strict+i.re.src_path,"i")),i.re.http.test(n)?n.match(i.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,i){var n=t.slice(e);return i.re.no_http||(i.re.no_http=new RegExp("^"+i.re.src_auth+"(?:localhost|(?:(?:"+i.re.src_domain+")\\.)+"+i.re.src_domain_root+")"+i.re.src_port+i.re.src_host_terminator+i.re.src_path,"i")),i.re.no_http.test(n)?e>=3&&":"===t[e-3]?0:e>=3&&"/"===t[e-3]?0:n.match(i.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,i){var n=t.slice(e);return i.re.mailto||(i.re.mailto=new RegExp("^"+i.re.src_email_name+"@"+i.re.src_host_strict,"i")),i.re.mailto.test(n)?n.match(i.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function h(e){var i=e.re=t("./lib/re")(e.__opts__),n=e.__tlds__.slice();function s(t){return t.replace("%TLDS%",i.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(c),n.push(i.src_xn),i.src_tlds=n.join("|"),i.email_fuzzy=RegExp(s(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(s(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(s(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(s(i.tpl_host_fuzzy_test),"i");var l=[];function u(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var i=e.__schemas__[t];if(null!==i){var n={validate:null,link:null};if(e.__compiled__[t]=n,function(t){return"[object Object]"===o(t)}(i))return function(t){return"[object RegExp]"===o(t)}(i.validate)?n.validate=function(t){return function(e,i){var n=e.slice(i);return t.test(n)?n.match(t)[0].length:0}}(i.validate):r(i.validate)?n.validate=i.validate:u(t,i),void(r(i.normalize)?n.normalize=i.normalize:i.normalize?u(t,i):n.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===o(t)}(i)?u(t,i):l.push(t)}}),l.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var h=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+h+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(e)}function d(t,e){var i=new function(t,e){var i=t.__index__,n=t.__last_index__,o=t.__text_cache__.slice(i,n);this.schema=t.__schema__.toLowerCase(),this.index=i+e,this.lastIndex=n+e,this.raw=o,this.text=o,this.url=o}(t,e);return t.__compiled__[i.schema].normalize(i,t),i}function f(t,e){if(!(this instanceof f))return new f(t,e);e||function(t){return Object.keys(t||{}).reduce(function(t,e){return t||s.hasOwnProperty(e)},!1)}(t)&&(e=t,t={}),this.__opts__=n({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},l,t),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},h(this)}f.prototype.add=function(t,e){return this.__schemas__[t]=e,h(this),this},f.prototype.set=function(t){return this.__opts__=n(this.__opts__,t),this},f.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,i,n,o,r,a,s,l;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(o=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(i=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=i.index+i[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=i.index+i[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(r=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=a)),this.__index__>=0},f.prototype.pretest=function(t){return this.re.pretest.test(t)},f.prototype.testSchemaAt=function(t,e,i){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,i,this):0},f.prototype.match=function(t){var e=0,i=[];this.__index__>=0&&this.__text_cache__===t&&(i.push(d(this,e)),e=this.__last_index__);for(var n=e?t.slice(e):t;this.test(n);)i.push(d(this,e)),n=n.slice(this.__last_index__),e+=this.__last_index__;return i.length?i:null},f.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,i){return t!==i[e-1]}).reverse(),h(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,h(this),this)},f.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},f.prototype.onCompile=function(){},e.exports=f},{"./lib/re":54}],54:[function(t,e,i){"use strict";e.exports=function(e){var i={};return i.src_Any=t("uc.micro/properties/Any/regex").source,i.src_Cc=t("uc.micro/categories/Cc/regex").source,i.src_Z=t("uc.micro/categories/Z/regex").source,i.src_P=t("uc.micro/categories/P/regex").source,i.src_ZPCc=[i.src_Z,i.src_P,i.src_Cc].join("|"),i.src_ZCc=[i.src_Z,i.src_Cc].join("|"),i.src_pseudo_letter="(?:(?![><｜]|"+i.src_ZPCc+")"+i.src_Any+")",i.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",i.src_auth="(?:(?:(?!"+i.src_ZCc+"|[@/\\[\\]()]).)+@)?",i.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",i.src_host_terminator="(?=$|[><｜]|"+i.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+i.src_ZPCc+"))",i.src_path="(?:[/?#](?:(?!"+i.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+i.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+i.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+i.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+i.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+i.src_ZCc+"|[']).)+\\'|\\'(?="+i.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+i.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+i.src_ZCc+").|\\!(?!"+i.src_ZCc+"|[!]).|\\?(?!"+i.src_ZCc+"|[?]).)+|\\/)?",i.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',i.src_xn="xn--[a-z0-9\\-]{1,59}",i.src_domain_root="(?:"+i.src_xn+"|"+i.src_pseudo_letter+"{1,63})",i.src_domain="(?:"+i.src_xn+"|(?:"+i.src_pseudo_letter+")|(?:"+i.src_pseudo_letter+"(?:-(?!-)|"+i.src_pseudo_letter+"){0,61}"+i.src_pseudo_letter+"))",i.src_host="(?:(?:(?:(?:"+i.src_domain+")\\.)*"+i.src_domain+"))",i.tpl_host_fuzzy="(?:"+i.src_ip4+"|(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%)))",i.tpl_host_no_ip_fuzzy="(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%))",i.src_host_strict=i.src_host+i.src_host_terminator,i.tpl_host_fuzzy_strict=i.tpl_host_fuzzy+i.src_host_terminator,i.src_host_port_strict=i.src_host+i.src_port+i.src_host_terminator,i.tpl_host_port_fuzzy_strict=i.tpl_host_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_port_no_ip_fuzzy_strict=i.tpl_host_no_ip_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+i.src_ZPCc+"|>|$))",i.tpl_email_fuzzy="(^|[><｜]|\\(|"+i.src_ZCc+")("+i.src_email_name+"@"+i.tpl_host_fuzzy_strict+")",i.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+i.src_ZPCc+"))((?![$+<=>^`|｜])"+i.tpl_host_port_fuzzy_strict+i.src_path+")",i.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+i.src_ZPCc+"))((?![$+<=>^`|｜])"+i.tpl_host_port_no_ip_fuzzy_strict+i.src_path+")",i}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(t,e,i){"use strict";var n={};function o(t,e){var i;return"string"!=typeof e&&(e=o.defaultChars),i=function(t){var e,i,o=n[t];if(o)return o;for(o=n[t]=[],e=0;e<128;e++)i=String.fromCharCode(e),o.push(i);for(e=0;e<t.length;e++)i=t.charCodeAt(e),o[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2);return o}(e),t.replace(/(%[a-f0-9]{2})+/gi,function(t){var e,n,o,r,a,s,l,c="";for(e=0,n=t.length;e<n;e+=3)(o=parseInt(t.slice(e+1,e+3),16))<128?c+=i[o]:192==(224&o)&&e+3<n&&128==(192&(r=parseInt(t.slice(e+4,e+6),16)))?(c+=(l=o<<6&1984|63&r)<128?"��":String.fromCharCode(l),e+=3):224==(240&o)&&e+6<n&&(r=parseInt(t.slice(e+4,e+6),16),a=parseInt(t.slice(e+7,e+9),16),128==(192&r)&&128==(192&a))?(c+=(l=o<<12&61440|r<<6&4032|63&a)<2048||l>=55296&&l<=57343?"���":String.fromCharCode(l),e+=6):240==(248&o)&&e+9<n&&(r=parseInt(t.slice(e+4,e+6),16),a=parseInt(t.slice(e+7,e+9),16),s=parseInt(t.slice(e+10,e+12),16),128==(192&r)&&128==(192&a)&&128==(192&s))?((l=o<<18&1835008|r<<12&258048|a<<6&4032|63&s)<65536||l>1114111?c+="����":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),e+=9):c+="�";return c})}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},{}],56:[function(t,e,i){"use strict";var n={};function o(t,e,i){var r,a,s,l,c,u="";for("string"!=typeof e&&(i=e,e=o.defaultChars),void 0===i&&(i=!0),c=function(t){var e,i,o=n[t];if(o)return o;for(o=n[t]=[],e=0;e<128;e++)i=String.fromCharCode(e),/^[0-9a-z]$/i.test(i)?o.push(i):o.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)o[t.charCodeAt(e)]=t[e];return o}(e),r=0,a=t.length;r<a;r++)if(s=t.charCodeAt(r),i&&37===s&&r+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3)))u+=t.slice(r,r+3),r+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&r+1<a&&(l=t.charCodeAt(r+1))>=56320&&l<=57343){u+=encodeURIComponent(t[r]+t[r+1]),r++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(t[r]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},{}],57:[function(t,e,i){"use strict";e.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||""}},{}],58:[function(t,e,i){"use strict";e.exports.encode=t("./encode"),e.exports.decode=t("./decode"),e.exports.format=t("./format"),e.exports.parse=t("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(t,e,i){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(s),c=["%","/","?",";","#"].concat(l),u=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(t,e){var i,n,r,s,l,m=t;if(m=m.trim(),!e&&1===t.split("#").length){var g=a.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=o.exec(m);if(v&&(v=v[0],r=v.toLowerCase(),this.protocol=v,m=m.substr(v.length)),(e||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(l="//"===m.substr(0,2))||v&&f[v]||(m=m.substr(2),this.slashes=!0)),!f[v]&&(l||v&&!p[v])){var b,k,y=-1;for(i=0;i<u.length;i++)-1!==(s=m.indexOf(u[i]))&&(-1===y||s<y)&&(y=s);for(-1!==(k=-1===y?m.lastIndexOf("@"):m.lastIndexOf("@",y))&&(b=m.slice(0,k),m=m.slice(k+1),this.auth=b),y=-1,i=0;i<c.length;i++)-1!==(s=m.indexOf(c[i]))&&(-1===y||s<y)&&(y=s);-1===y&&(y=m.length),":"===m[y-1]&&y--;var w=m.slice(0,y);m=m.slice(y),this.parseHost(w),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_){var x=this.hostname.split(/\./);for(i=0,n=x.length;i<n;i++){var S=x[i];if(S&&!S.match(h)){for(var C="",A=0,T=S.length;A<T;A++)S.charCodeAt(A)>127?C+="x":C+=S[A];if(!C.match(h)){var j=x.slice(0,i),M=x.slice(i+1),z=S.match(d);z&&(j.push(z[1]),M.unshift(z[2])),M.length&&(m=M.join(".")+m),this.hostname=j.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var E=m.indexOf("#");-1!==E&&(this.hash=m.substr(E),m=m.slice(0,E));var I=m.indexOf("?");return-1!==I&&(this.search=m.substr(I),m=m.slice(0,I)),m&&(this.pathname=m),p[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(t){var e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.exports=function(t,e){if(t&&t instanceof n)return t;var i=new n;return i.parse(t,e),i}},{}],60:[function(t,i,n){(function(t){!function(e){var o="object"==typeof n&&n&&!n.nodeType&&n,r="object"==typeof i&&i&&!i.nodeType&&i,a="object"==typeof t&&t;a.global!==a&&a.window!==a&&a.self!==a||(e=a);var s,l,c=2147483647,u=36,h=1,d=26,f=38,p=700,m=72,g=128,v="-",b=/^xn--/,k=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-h,x=Math.floor,S=String.fromCharCode;function C(t){throw new RangeError(w[t])}function A(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function T(t,e){var i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]);var o=(t=t.replace(y,".")).split("."),r=A(o,e).join(".");return n+r}function j(t){for(var e,i,n=[],o=0,r=t.length;o<r;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<r?56320==(64512&(i=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--):n.push(e);return n}function M(t){return A(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function z(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,i){var n=0;for(t=i?x(t/p):t>>1,t+=x(t/e);t>_*d>>1;n+=u)t=x(t/_);return x(n+(_+1)*t/(t+f))}function D(t){var e,i,n,o,r,a,s,l,f,p,b=[],k=t.length,y=0,w=g,_=m;for((i=t.lastIndexOf(v))<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&C("not-basic"),b.push(t.charCodeAt(n));for(o=i>0?i+1:0;o<k;){for(r=y,a=1,s=u;o>=k&&C("invalid-input"),((l=z(t.charCodeAt(o++)))>=u||l>x((c-y)/a))&&C("overflow"),y+=l*a,!(l<(f=s<=_?h:s>=_+d?d:s-_));s+=u)a>x(c/(p=u-f))&&C("overflow"),a*=p;e=b.length+1,_=I(y-r,e,0==r),x(y/e)>c-w&&C("overflow"),w+=x(y/e),y%=e,b.splice(y++,0,w)}return M(b)}function O(t){var e,i,n,o,r,a,s,l,f,p,b,k,y,w,_,A=[];for(t=j(t),k=t.length,e=g,i=0,r=m,a=0;a<k;++a)(b=t[a])<128&&A.push(S(b));for(n=o=A.length,o&&A.push(v);n<k;){for(s=c,a=0;a<k;++a)(b=t[a])>=e&&b<s&&(s=b);for(s-e>x((c-i)/(y=n+1))&&C("overflow"),i+=(s-e)*y,e=s,a=0;a<k;++a)if((b=t[a])<e&&++i>c&&C("overflow"),b==e){for(l=i,f=u;!(l<(p=f<=r?h:f>=r+d?d:f-r));f+=u)_=l-p,w=u-p,A.push(S(E(p+_%w,0))),l=x(_/w);A.push(S(E(l,0))),r=I(i,y,n==o),i=0,++n}++i,++e}return A.join("")}if(s={version:"1.4.1",ucs2:{decode:j,encode:M},decode:D,encode:O,toASCII:function(t){return T(t,function(t){return k.test(t)?"xn--"+O(t):t})},toUnicode:function(t){return T(t,function(t){return b.test(t)?D(t.slice(4).toLowerCase()):t})}},o&&r)if(i.exports==o)r.exports=s;else for(l in s)s.hasOwnProperty(l)&&(o[l]=s[l]);else e.punycode=s}(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(t,e,i){e.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(t,e,i){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(t,e,i){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(t,e,i){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(t,e,i){"use strict";i.Any=t("./properties/Any/regex"),i.Cc=t("./categories/Cc/regex"),i.Cf=t("./categories/Cf/regex"),i.P=t("./categories/P/regex"),i.Z=t("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(t,e,i){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(t,e,i){"use strict";e.exports=t("./lib/")},{"./lib/":9}]},{},[67])(67)}).call(this,i(122))},function(t,e,i){var n,o;!function(r,a){n=[i(170)],void 0===(o=function(t){return r.markdownItKatex=function(t){function e(t,e){var i=t.pos;if(92!==t.src.charCodeAt(i))return!1;var n=t.src.substr(i).match(/^(?:\\\[|\\\(|\\begin\{([^}]*)\})/);if(!n)return!1;var o,r="inline_math",a=n[0];i+=a.length,"\\["===a?(o="\\]",r="display_math"):"\\("===a?o="\\)":n[1]&&(o="\\end{"+n[1]+"}","math"!==n[1]&&(r="display_math"));var s=t.src.indexOf(o,i);if(-1===s)return!1;var l=s+o.length;if(!e){var c=t.push(r,"",0);c.content=t.src.slice(i,s).replace(/\s/g," ")}return t.pos=l,!0}function i(t,e){var i=t.pos;if(36!==t.src.charCodeAt(i))return!1;var n="$",o=t.src.charCodeAt(++i);if(36===o){if(n="$$",36===t.src.charCodeAt(++i))return!1}else if(32===o||9===o||10===o)return!1;var r=t.src.indexOf(n,i);if(-1===r)return!1;if(92===t.src.charCodeAt(r-1))return!1;var a=r+n.length;if(1===n.length){var s=t.src.charCodeAt(r-1);if(32===s||9===s||10===s)return!1;var l=t.src.charCodeAt(a);if(l>=48&&l<58)return!1}if(!e){var c=t.push(1===n.length?"inline_math":"display_math","",0);c.content=t.src.slice(i,r).replace(/\s/g," ")}return t.pos=a,!0}function n(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return function(o){o.inline.ruler.before("escape","backslash",e),o.inline.ruler.push("dollar",i),o.renderer.rules.inline_math=function(e,i){try{return t.renderToString(e[i].content,{displayMode:!1})}catch(t){return'<span style="color:#cc0000">'+n(t.message)+"</span>"}},o.renderer.rules.display_math=function(e,i){try{return t.renderToString(e[i].content,{displayMode:!0})}catch(t){return'<span style="color:#cc0000">'+n(t.message)+"</span>"}}}}(t)}.apply(e,n))||(t.exports=o)}(this)},function(t,e,i){var n;t.exports=function t(e,i,o){function r(s,l){if(!i[s]){if(!e[s]){var c="function"==typeof n&&n;if(!l&&c)return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i||t)},h,h.exports,t,e,i,o)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,i){e.exports={100:"💯",1234:"🔢",grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",satisfied:"😆",sweat_smile:"😅",joy:"😂",rofl:"🤣",relaxed:"☺️",blush:"😊",innocent:"😇",slightly_smiling_face:"🙂",upside_down_face:"🙃",wink:"😉",relieved:"😌",heart_eyes:"😍",kissing_heart:"😘",kissing:"😗",kissing_smiling_eyes:"😙",kissing_closed_eyes:"😚",yum:"😋",stuck_out_tongue_winking_eye:"😜",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue:"😛",money_mouth_face:"🤑",hugs:"🤗",nerd_face:"🤓",sunglasses:"😎",clown_face:"🤡",cowboy_hat_face:"🤠",smirk:"😏",unamused:"😒",disappointed:"😞",pensive:"😔",worried:"😟",confused:"😕",slightly_frowning_face:"🙁",frowning_face:"☹️",persevere:"😣",confounded:"😖",tired_face:"😫",weary:"😩",triumph:"😤",angry:"😠",rage:"😡",pout:"😡",no_mouth:"😶",neutral_face:"😐",expressionless:"😑",hushed:"😯",frowning:"😦",anguished:"😧",open_mouth:"😮",astonished:"😲",dizzy_face:"😵",flushed:"😳",scream:"😱",fearful:"😨",cold_sweat:"😰",cry:"😢",disappointed_relieved:"😥",drooling_face:"🤤",sob:"😭",sweat:"😓",sleepy:"😪",sleeping:"😴",roll_eyes:"🙄",thinking:"🤔",lying_face:"🤥",grimacing:"😬",zipper_mouth_face:"🤐",nauseated_face:"🤢",sneezing_face:"🤧",mask:"😷",face_with_thermometer:"🤒",face_with_head_bandage:"🤕",smiling_imp:"😈",imp:"👿",japanese_ogre:"👹",japanese_goblin:"👺",hankey:"💩",poop:"💩",shit:"💩",ghost:"👻",skull:"💀",skull_and_crossbones:"☠️",alien:"👽",space_invader:"👾",robot:"🤖",jack_o_lantern:"🎃",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",open_hands:"👐",raised_hands:"🙌",clap:"👏",pray:"🙏",handshake:"🤝","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",fist_oncoming:"👊",facepunch:"👊",punch:"👊",fist_raised:"✊",fist:"✊",fist_left:"🤛",fist_right:"🤜",crossed_fingers:"🤞",v:"✌️",metal:"🤘",ok_hand:"👌",point_left:"👈",point_right:"👉",point_up_2:"👆",point_down:"👇",point_up:"☝️",hand:"✋",raised_hand:"✋",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",vulcan_salute:"🖖",wave:"👋",call_me_hand:"🤙",muscle:"💪",middle_finger:"🖕",fu:"🖕",writing_hand:"✍️",selfie:"🤳",nail_care:"💅",ring:"💍",lipstick:"💄",kiss:"💋",lips:"👄",tongue:"👅",ear:"👂",nose:"👃",footprints:"👣",eye:"👁",eyes:"👀",speaking_head:"🗣",bust_in_silhouette:"👤",busts_in_silhouette:"👥",baby:"👶",boy:"👦",girl:"👧",man:"👨",woman:"👩",blonde_woman:"👱‍♀",blonde_man:"👱",person_with_blond_hair:"👱",older_man:"👴",older_woman:"👵",man_with_gua_pi_mao:"👲",woman_with_turban:"👳‍♀",man_with_turban:"👳",policewoman:"👮‍♀",policeman:"👮",cop:"👮",construction_worker_woman:"👷‍♀",construction_worker_man:"👷",construction_worker:"👷",guardswoman:"💂‍♀",guardsman:"💂",female_detective:"🕵️‍♀️",male_detective:"🕵",detective:"🕵",woman_health_worker:"👩‍⚕",man_health_worker:"👨‍⚕",woman_farmer:"👩‍🌾",man_farmer:"👨‍🌾",woman_cook:"👩‍🍳",man_cook:"👨‍🍳",woman_student:"👩‍🎓",man_student:"👨‍🎓",woman_singer:"👩‍🎤",man_singer:"👨‍🎤",woman_teacher:"👩‍🏫",man_teacher:"👨‍🏫",woman_factory_worker:"👩‍🏭",man_factory_worker:"👨‍🏭",woman_technologist:"👩‍💻",man_technologist:"👨‍💻",woman_office_worker:"👩‍💼",man_office_worker:"👨‍💼",woman_mechanic:"👩‍🔧",man_mechanic:"👨‍🔧",woman_scientist:"👩‍🔬",man_scientist:"👨‍🔬",woman_artist:"👩‍🎨",man_artist:"👨‍🎨",woman_firefighter:"👩‍🚒",man_firefighter:"👨‍🚒",woman_pilot:"👩‍✈",man_pilot:"👨‍✈",woman_astronaut:"👩‍🚀",man_astronaut:"👨‍🚀",woman_judge:"👩‍⚖",man_judge:"👨‍⚖",mrs_claus:"🤶",santa:"🎅",princess:"👸",prince:"🤴",bride_with_veil:"👰",man_in_tuxedo:"🤵",angel:"👼",pregnant_woman:"🤰",bowing_woman:"🙇‍♀",bowing_man:"🙇",bow:"🙇",tipping_hand_woman:"💁",information_desk_person:"💁",sassy_woman:"💁",tipping_hand_man:"💁‍♂",sassy_man:"💁‍♂",no_good_woman:"🙅",no_good:"🙅",ng_woman:"🙅",no_good_man:"🙅‍♂",ng_man:"🙅‍♂",ok_woman:"🙆",ok_man:"🙆‍♂",raising_hand_woman:"🙋",raising_hand:"🙋",raising_hand_man:"🙋‍♂",woman_facepalming:"🤦‍♀",man_facepalming:"🤦‍♂",woman_shrugging:"🤷‍♀",man_shrugging:"🤷‍♂",pouting_woman:"🙎",person_with_pouting_face:"🙎",pouting_man:"🙎‍♂",frowning_woman:"🙍",person_frowning:"🙍",frowning_man:"🙍‍♂",haircut_woman:"💇",haircut:"💇",haircut_man:"💇‍♂",massage_woman:"💆",massage:"💆",massage_man:"💆‍♂",business_suit_levitating:"🕴",dancer:"💃",man_dancing:"🕺",dancing_women:"👯",dancers:"👯",dancing_men:"👯‍♂",walking_woman:"🚶‍♀",walking_man:"🚶",walking:"🚶",running_woman:"🏃‍♀",running_man:"🏃",runner:"🏃",running:"🏃",couple:"👫",two_women_holding_hands:"👭",two_men_holding_hands:"👬",couple_with_heart_woman_man:"💑",couple_with_heart:"💑",couple_with_heart_woman_woman:"👩‍❤️‍👩",couple_with_heart_man_man:"👨‍❤️‍👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩‍❤️‍💋‍👩",couplekiss_man_man:"👨‍❤️‍💋‍👨",family_man_woman_boy:"👪",family:"👪",family_man_woman_girl:"👨‍👩‍👧",family_man_woman_girl_boy:"👨‍👩‍👧‍👦",family_man_woman_boy_boy:"👨‍👩‍👦‍👦",family_man_woman_girl_girl:"👨‍👩‍👧‍👧",family_woman_woman_boy:"👩‍👩‍👦",family_woman_woman_girl:"👩‍👩‍👧",family_woman_woman_girl_boy:"👩‍👩‍👧‍👦",family_woman_woman_boy_boy:"👩‍👩‍👦‍👦",family_woman_woman_girl_girl:"👩‍👩‍👧‍👧",family_man_man_boy:"👨‍👨‍👦",family_man_man_girl:"👨‍👨‍👧",family_man_man_girl_boy:"👨‍👨‍👧‍👦",family_man_man_boy_boy:"👨‍👨‍👦‍👦",family_man_man_girl_girl:"👨‍👨‍👧‍👧",family_woman_boy:"👩‍👦",family_woman_girl:"👩‍👧",family_woman_girl_boy:"👩‍👧‍👦",family_woman_boy_boy:"👩‍👦‍👦",family_woman_girl_girl:"👩‍👧‍👧",family_man_boy:"👨‍👦",family_man_girl:"👨‍👧",family_man_girl_boy:"👨‍👧‍👦",family_man_boy_boy:"👨‍👦‍👦",family_man_girl_girl:"👨‍👧‍👧",womans_clothes:"👚",shirt:"👕",tshirt:"👕",jeans:"👖",necktie:"👔",dress:"👗",bikini:"👙",kimono:"👘",high_heel:"👠",sandal:"👡",boot:"👢",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",womans_hat:"👒",tophat:"🎩",mortar_board:"🎓",crown:"👑",rescue_worker_helmet:"⛑",school_satchel:"🎒",pouch:"👝",purse:"👛",handbag:"👜",briefcase:"💼",eyeglasses:"👓",dark_sunglasses:"🕶",closed_umbrella:"🌂",open_umbrella:"☂️",dog:"🐶",cat:"🐱",mouse:"🐭",hamster:"🐹",rabbit:"🐰",fox_face:"🦊",bear:"🐻",panda_face:"🐼",koala:"🐨",tiger:"🐯",lion:"🦁",cow:"🐮",pig:"🐷",pig_nose:"🐽",frog:"🐸",monkey_face:"🐵",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",monkey:"🐒",chicken:"🐔",penguin:"🐧",bird:"🐦",baby_chick:"🐤",hatching_chick:"🐣",hatched_chick:"🐥",duck:"🦆",eagle:"🦅",owl:"🦉",bat:"🦇",wolf:"🐺",boar:"🐗",horse:"🐴",unicorn:"🦄",bee:"🐝",honeybee:"🐝",bug:"🐛",butterfly:"🦋",snail:"🐌",shell:"🐚",beetle:"🐞",ant:"🐜",spider:"🕷",spider_web:"🕸",turtle:"🐢",snake:"🐍",lizard:"🦎",scorpion:"🦂",crab:"🦀",squid:"🦑",octopus:"🐙",shrimp:"🦐",tropical_fish:"🐠",fish:"🐟",blowfish:"🐡",dolphin:"🐬",flipper:"🐬",shark:"🦈",whale:"🐳",whale2:"🐋",crocodile:"🐊",leopard:"🐆",tiger2:"🐅",water_buffalo:"🐃",ox:"🐂",cow2:"🐄",deer:"🦌",dromedary_camel:"🐪",camel:"🐫",elephant:"🐘",rhinoceros:"🦏",gorilla:"🦍",racehorse:"🐎",pig2:"🐖",goat:"🐐",ram:"🐏",sheep:"🐑",dog2:"🐕",poodle:"🐩",cat2:"🐈",rooster:"🐓",turkey:"🦃",dove:"🕊",rabbit2:"🐇",mouse2:"🐁",rat:"🐀",chipmunk:"🐿",feet:"🐾",paw_prints:"🐾",dragon:"🐉",dragon_face:"🐲",cactus:"🌵",christmas_tree:"🎄",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",seedling:"🌱",herb:"🌿",shamrock:"☘️",four_leaf_clover:"🍀",bamboo:"🎍",tanabata_tree:"🎋",leaves:"🍃",fallen_leaf:"🍂",maple_leaf:"🍁",mushroom:"🍄",ear_of_rice:"🌾",bouquet:"💐",tulip:"🌷",rose:"🌹",wilted_flower:"🥀",sunflower:"🌻",blossom:"🌼",cherry_blossom:"🌸",hibiscus:"🌺",earth_americas:"🌎",earth_africa:"🌍",earth_asia:"🌏",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",new_moon_with_face:"🌚",full_moon_with_face:"🌝",sun_with_face:"🌞",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",crescent_moon:"🌙",dizzy:"💫",star:"⭐️",star2:"🌟",sparkles:"✨",zap:"⚡️",fire:"🔥",boom:"💥",collision:"💥",comet:"☄",sunny:"☀️",sun_behind_small_cloud:"🌤",partly_sunny:"⛅️",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",rainbow:"🌈",cloud:"☁️",cloud_with_rain:"🌧",cloud_with_lightning_and_rain:"⛈",cloud_with_lightning:"🌩",cloud_with_snow:"🌨",snowman_with_snow:"☃️",snowman:"⛄️",snowflake:"❄️",wind_face:"🌬",dash:"💨",tornado:"🌪",fog:"🌫",ocean:"🌊",droplet:"💧",sweat_drops:"💦",umbrella:"☔️",green_apple:"🍏",apple:"🍎",pear:"🍐",tangerine:"🍊",orange:"🍊",mandarin:"🍊",lemon:"🍋",banana:"🍌",watermelon:"🍉",grapes:"🍇",strawberry:"🍓",melon:"🍈",cherries:"🍒",peach:"🍑",pineapple:"🍍",kiwi_fruit:"🥝",avocado:"🥑",tomato:"🍅",eggplant:"🍆",cucumber:"🥒",carrot:"🥕",corn:"🌽",hot_pepper:"🌶",potato:"🥔",sweet_potato:"🍠",chestnut:"🌰",peanuts:"🥜",honey_pot:"🍯",croissant:"🥐",bread:"🍞",baguette_bread:"🥖",cheese:"🧀",egg:"🥚",fried_egg:"🍳",bacon:"🥓",pancakes:"🥞",fried_shrimp:"🍤",poultry_leg:"🍗",meat_on_bone:"🍖",pizza:"🍕",hotdog:"🌭",hamburger:"🍔",fries:"🍟",stuffed_flatbread:"🥙",taco:"🌮",burrito:"🌯",green_salad:"🥗",shallow_pan_of_food:"🥘",spaghetti:"🍝",ramen:"🍜",stew:"🍲",fish_cake:"🍥",sushi:"🍣",bento:"🍱",curry:"🍛",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",oden:"🍢",dango:"🍡",shaved_ice:"🍧",ice_cream:"🍨",icecream:"🍦",cake:"🍰",birthday:"🎂",custard:"🍮",lollipop:"🍭",candy:"🍬",chocolate_bar:"🍫",popcorn:"🍿",doughnut:"🍩",cookie:"🍪",milk_glass:"🥛",baby_bottle:"🍼",coffee:"☕️",tea:"🍵",sake:"🍶",beer:"🍺",beers:"🍻",clinking_glasses:"🥂",wine_glass:"🍷",tumbler_glass:"🥃",cocktail:"🍸",tropical_drink:"🍹",champagne:"🍾",spoon:"🥄",fork_and_knife:"🍴",plate_with_cutlery:"🍽",soccer:"⚽️",basketball:"🏀",football:"🏈",baseball:"⚾️",tennis:"🎾",volleyball:"🏐",rugby_football:"🏉","8ball":"🎱",ping_pong:"🏓",badminton:"🏸",goal_net:"🥅",ice_hockey:"🏒",field_hockey:"🏑",cricket:"🏏",golf:"⛳️",bow_and_arrow:"🏹",fishing_pole_and_fish:"🎣",boxing_glove:"🥊",martial_arts_uniform:"🥋",ice_skate:"⛸",ski:"🎿",skier:"⛷",snowboarder:"🏂",weight_lifting_woman:"🏋️‍♀️",weight_lifting_man:"🏋",person_fencing:"🤺",women_wrestling:"🤼‍♀",men_wrestling:"🤼‍♂",woman_cartwheeling:"🤸‍♀",man_cartwheeling:"🤸‍♂",basketball_woman:"⛹️‍♀️",basketball_man:"⛹",woman_playing_handball:"🤾‍♀",man_playing_handball:"🤾‍♂",golfing_woman:"🏌️‍♀️",golfing_man:"🏌",surfing_woman:"🏄‍♀",surfing_man:"🏄",surfer:"🏄",swimming_woman:"🏊‍♀",swimming_man:"🏊",swimmer:"🏊",woman_playing_water_polo:"🤽‍♀",man_playing_water_polo:"🤽‍♂",rowing_woman:"🚣‍♀",rowing_man:"🚣",rowboat:"🚣",horse_racing:"🏇",biking_woman:"🚴‍♀",biking_man:"🚴",bicyclist:"🚴",mountain_biking_woman:"🚵‍♀",mountain_biking_man:"🚵",mountain_bicyclist:"🚵",running_shirt_with_sash:"🎽",medal_sports:"🏅",medal_military:"🎖","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉",trophy:"🏆",rosette:"🏵",reminder_ribbon:"🎗",ticket:"🎫",tickets:"🎟",circus_tent:"🎪",woman_juggling:"🤹‍♀",man_juggling:"🤹‍♂",performing_arts:"🎭",art:"🎨",clapper:"🎬",microphone:"🎤",headphones:"🎧",musical_score:"🎼",musical_keyboard:"🎹",drum:"🥁",saxophone:"🎷",trumpet:"🎺",guitar:"🎸",violin:"🎻",game_die:"🎲",dart:"🎯",bowling:"🎳",video_game:"🎮",slot_machine:"🎰",car:"🚗",red_car:"🚗",taxi:"🚕",blue_car:"🚙",bus:"🚌",trolleybus:"🚎",racing_car:"🏎",police_car:"🚓",ambulance:"🚑",fire_engine:"🚒",minibus:"🚐",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",kick_scooter:"🛴",bike:"🚲",motor_scooter:"🛵",motorcycle:"🏍",rotating_light:"🚨",oncoming_police_car:"🚔",oncoming_bus:"🚍",oncoming_automobile:"🚘",oncoming_taxi:"🚖",aerial_tramway:"🚡",mountain_cableway:"🚠",suspension_railway:"🚟",railway_car:"🚃",train:"🚋",mountain_railway:"🚞",monorail:"🚝",bullettrain_side:"🚄",bullettrain_front:"🚅",light_rail:"🚈",steam_locomotive:"🚂",train2:"🚆",metro:"🚇",tram:"🚊",station:"🚉",helicopter:"🚁",small_airplane:"🛩",airplane:"✈️",flight_departure:"🛫",flight_arrival:"🛬",rocket:"🚀",artificial_satellite:"🛰",seat:"💺",canoe:"🛶",boat:"⛵️",sailboat:"⛵️",motor_boat:"🛥",speedboat:"🚤",passenger_ship:"🛳",ferry:"⛴",ship:"🚢",anchor:"⚓️",construction:"🚧",fuelpump:"⛽️",busstop:"🚏",vertical_traffic_light:"🚦",traffic_light:"🚥",world_map:"🗺",moyai:"🗿",statue_of_liberty:"🗽",fountain:"⛲️",tokyo_tower:"🗼",european_castle:"🏰",japanese_castle:"🏯",stadium:"🏟",ferris_wheel:"🎡",roller_coaster:"🎢",carousel_horse:"🎠",parasol_on_ground:"⛱",beach_umbrella:"🏖",desert_island:"🏝",mountain:"⛰",mountain_snow:"🏔",mount_fuji:"🗻",volcano:"🌋",desert:"🏜",camping:"🏕",tent:"⛺️",railway_track:"🛤",motorway:"🛣",building_construction:"🏗",factory:"🏭",house:"🏠",house_with_garden:"🏡",houses:"🏘",derelict_house:"🏚",office:"🏢",department_store:"🏬",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",hotel:"🏨",convenience_store:"🏪",school:"🏫",love_hotel:"🏩",wedding:"💒",classical_building:"🏛",church:"⛪️",mosque:"🕌",synagogue:"🕍",kaaba:"🕋",shinto_shrine:"⛩",japan:"🗾",rice_scene:"🎑",national_park:"🏞",sunrise:"🌅",sunrise_over_mountains:"🌄",stars:"🌠",sparkler:"🎇",fireworks:"🎆",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",night_with_stars:"🌃",milky_way:"🌌",bridge_at_night:"🌉",foggy:"🌁",watch:"⌚️",iphone:"📱",calling:"📲",computer:"💻",keyboard:"⌨️",desktop_computer:"🖥",printer:"🖨",computer_mouse:"🖱",trackball:"🖲",joystick:"🕹",clamp:"🗜",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",vhs:"📼",camera:"📷",camera_flash:"📸",video_camera:"📹",movie_camera:"🎥",film_projector:"📽",film_strip:"🎞",telephone_receiver:"📞",phone:"☎️",telephone:"☎️",pager:"📟",fax:"📠",tv:"📺",radio:"📻",studio_microphone:"🎙",level_slider:"🎚",control_knobs:"🎛",stopwatch:"⏱",timer_clock:"⏲",alarm_clock:"⏰",mantelpiece_clock:"🕰",hourglass:"⌛️",hourglass_flowing_sand:"⏳",satellite:"📡",battery:"🔋",electric_plug:"🔌",bulb:"💡",flashlight:"🔦",candle:"🕯",wastebasket:"🗑",oil_drum:"🛢",money_with_wings:"💸",dollar:"💵",yen:"💴",euro:"💶",pound:"💷",moneybag:"💰",credit_card:"💳",gem:"💎",balance_scale:"⚖️",wrench:"🔧",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",pick:"⛏",nut_and_bolt:"🔩",gear:"⚙️",chains:"⛓",gun:"🔫",bomb:"💣",hocho:"🔪",knife:"🔪",dagger:"🗡",crossed_swords:"⚔️",shield:"🛡",smoking:"🚬",coffin:"⚰️",funeral_urn:"⚱️",amphora:"🏺",crystal_ball:"🔮",prayer_beads:"📿",barber:"💈",alembic:"⚗️",telescope:"🔭",microscope:"🔬",hole:"🕳",pill:"💊",syringe:"💉",thermometer:"🌡",toilet:"🚽",potable_water:"🚰",shower:"🚿",bathtub:"🛁",bath:"🛀",bellhop_bell:"🛎",key:"🔑",old_key:"🗝",door:"🚪",couch_and_lamp:"🛋",bed:"🛏",sleeping_bed:"🛌",framed_picture:"🖼",shopping:"🛍",shopping_cart:"🛒",gift:"🎁",balloon:"🎈",flags:"🎏",ribbon:"🎀",confetti_ball:"🎊",tada:"🎉",dolls:"🎎",izakaya_lantern:"🏮",lantern:"🏮",wind_chime:"🎐",email:"✉️",envelope:"✉️",envelope_with_arrow:"📩",incoming_envelope:"📨","e-mail":"📧",love_letter:"💌",inbox_tray:"📥",outbox_tray:"📤",package:"📦",label:"🏷",mailbox_closed:"📪",mailbox:"📫",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",postal_horn:"📯",scroll:"📜",page_with_curl:"📃",page_facing_up:"📄",bookmark_tabs:"📑",bar_chart:"📊",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",spiral_notepad:"🗒",spiral_calendar:"🗓",calendar:"📆",date:"📅",card_index:"📇",card_file_box:"🗃",ballot_box:"🗳",file_cabinet:"🗄",clipboard:"📋",file_folder:"📁",open_file_folder:"📂",card_index_dividers:"🗂",newspaper_roll:"🗞",newspaper:"📰",notebook:"📓",notebook_with_decorative_cover:"📔",ledger:"📒",closed_book:"📕",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",book:"📖",open_book:"📖",bookmark:"🔖",link:"🔗",paperclip:"📎",paperclips:"🖇",triangular_ruler:"📐",straight_ruler:"📏",pushpin:"📌",round_pushpin:"📍",scissors:"✂️",pen:"🖊",fountain_pen:"🖋",black_nib:"✒️",paintbrush:"🖌",crayon:"🖍",memo:"📝",pencil:"📝",pencil2:"✏️",mag:"🔍",mag_right:"🔎",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",lock:"🔒",unlock:"🔓",heart:"❤️",yellow_heart:"💛",green_heart:"💚",blue_heart:"💙",purple_heart:"💜",black_heart:"🖤",broken_heart:"💔",heavy_heart_exclamation:"❣️",two_hearts:"💕",revolving_hearts:"💞",heartbeat:"💓",heartpulse:"💗",sparkling_heart:"💖",cupid:"💘",gift_heart:"💝",heart_decoration:"💟",peace_symbol:"☮️",latin_cross:"✝️",star_and_crescent:"☪️",om:"🕉",wheel_of_dharma:"☸️",star_of_david:"✡️",six_pointed_star:"🔯",menorah:"🕎",yin_yang:"☯️",orthodox_cross:"☦️",place_of_worship:"🛐",ophiuchus:"⛎",aries:"♈️",taurus:"♉️",gemini:"♊️",cancer:"♋️",leo:"♌️",virgo:"♍️",libra:"♎️",scorpius:"♏️",sagittarius:"♐️",capricorn:"♑️",aquarius:"♒️",pisces:"♓️",id:"🆔",atom_symbol:"⚛️",accept:"🉑",radioactive:"☢️",biohazard:"☣️",mobile_phone_off:"📴",vibration_mode:"📳",eight_pointed_black_star:"✴️",vs:"🆚",white_flower:"💮",ideograph_advantage:"🉐",secret:"㊙️",congratulations:"㊗️",u6e80:"🈵",a:"🅰️",b:"🅱️",ab:"🆎",cl:"🆑",o2:"🅾️",sos:"🆘",x:"❌",o:"⭕️",stop_sign:"🛑",no_entry:"⛔️",name_badge:"📛",no_entry_sign:"🚫",anger:"💢",hotsprings:"♨️",no_pedestrians:"🚷",do_not_litter:"🚯",no_bicycles:"🚳","non-potable_water":"🚱",underage:"🔞",no_mobile_phones:"📵",no_smoking:"🚭",exclamation:"❗️",heavy_exclamation_mark:"❗️",grey_exclamation:"❕",question:"❓",grey_question:"❔",bangbang:"‼️",interrobang:"⁉️",low_brightness:"🔅",high_brightness:"🔆",part_alternation_mark:"〽️",warning:"⚠️",children_crossing:"🚸",trident:"🔱",fleur_de_lis:"⚜️",beginner:"🔰",recycle:"♻️",white_check_mark:"✅",chart:"💹",sparkle:"❇️",eight_spoked_asterisk:"✳️",negative_squared_cross_mark:"❎",globe_with_meridians:"🌐",diamond_shape_with_a_dot_inside:"💠",m:"Ⓜ️",cyclone:"🌀",zzz:"💤",atm:"🏧",wc:"🚾",wheelchair:"♿️",parking:"🅿️",sa:"🈂️",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",mens:"🚹",womens:"🚺",baby_symbol:"🚼",restroom:"🚻",put_litter_in_its_place:"🚮",cinema:"🎦",signal_strength:"📶",koko:"🈁",symbols:"🔣",information_source:"ℹ️",abc:"🔤",abcd:"🔡",capital_abcd:"🔠",ng:"🆖",ok:"🆗",up:"🆙",cool:"🆒",new:"🆕",free:"🆓",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",keycap_ten:"🔟",hash:"#️⃣",asterisk:"*️⃣",arrow_forward:"▶️",pause_button:"⏸",play_or_pause_button:"⏯",stop_button:"⏹",record_button:"⏺",next_track_button:"⏭",previous_track_button:"⏮",fast_forward:"⏩",rewind:"⏪",arrow_double_up:"⏫",arrow_double_down:"⏬",arrow_backward:"◀️",arrow_up_small:"🔼",arrow_down_small:"🔽",arrow_right:"➡️",arrow_left:"⬅️",arrow_up:"⬆️",arrow_down:"⬇️",arrow_upper_right:"↗️",arrow_lower_right:"↘️",arrow_lower_left:"↙️",arrow_upper_left:"↖️",arrow_up_down:"↕️",left_right_arrow:"↔️",arrow_right_hook:"↪️",leftwards_arrow_with_hook:"↩️",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrows_counterclockwise:"🔄",arrows_clockwise:"🔃",musical_note:"🎵",notes:"🎶",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",heavy_multiplication_x:"✖️",heavy_dollar_sign:"💲",currency_exchange:"💱",tm:"™️",copyright:"©️",registered:"®️",wavy_dash:"〰️",curly_loop:"➰",loop:"➿",end:"🔚",back:"🔙",on:"🔛",top:"🔝",soon:"🔜",heavy_check_mark:"✔️",ballot_box_with_check:"☑️",radio_button:"🔘",white_circle:"⚪️",black_circle:"⚫️",red_circle:"🔴",large_blue_circle:"🔵",small_red_triangle:"🔺",small_red_triangle_down:"🔻",small_orange_diamond:"🔸",small_blue_diamond:"🔹",large_orange_diamond:"🔶",large_blue_diamond:"🔷",white_square_button:"🔳",black_square_button:"🔲",black_small_square:"▪️",white_small_square:"▫️",black_medium_small_square:"◾️",white_medium_small_square:"◽️",black_medium_square:"◼️",white_medium_square:"◻️",black_large_square:"⬛️",white_large_square:"⬜️",speaker:"🔈",mute:"🔇",sound:"🔉",loud_sound:"🔊",bell:"🔔",no_bell:"🔕",mega:"📣",loudspeaker:"📢",eye_speech_bubble:"👁‍🗨",speech_balloon:"💬",thought_balloon:"💭",right_anger_bubble:"🗯",spades:"♠️",clubs:"♣️",hearts:"♥️",diamonds:"♦️",black_joker:"🃏",flower_playing_cards:"🎴",mahjong:"🀄️",clock1:"🕐",clock2:"🕑",clock3:"🕒",clock4:"🕓",clock5:"🕔",clock6:"🕕",clock7:"🕖",clock8:"🕗",clock9:"🕘",clock10:"🕙",clock11:"🕚",clock12:"🕛",clock130:"🕜",clock230:"🕝",clock330:"🕞",clock430:"🕟",clock530:"🕠",clock630:"🕡",clock730:"🕢",clock830:"🕣",clock930:"🕤",clock1030:"🕥",clock1130:"🕦",clock1230:"🕧",white_flag:"🏳️",black_flag:"🏴",checkered_flag:"🏁",triangular_flag_on_post:"🚩",rainbow_flag:"🏳️‍🌈",afghanistan:"🇦🇫",aland_islands:"🇦🇽",albania:"🇦🇱",algeria:"🇩🇿",american_samoa:"🇦🇸",andorra:"🇦🇩",angola:"🇦🇴",anguilla:"🇦🇮",antarctica:"🇦🇶",antigua_barbuda:"🇦🇬",argentina:"🇦🇷",armenia:"🇦🇲",aruba:"🇦🇼",australia:"🇦🇺",austria:"🇦🇹",azerbaijan:"🇦🇿",bahamas:"🇧🇸",bahrain:"🇧🇭",bangladesh:"🇧🇩",barbados:"🇧🇧",belarus:"🇧🇾",belgium:"🇧🇪",belize:"🇧🇿",benin:"🇧🇯",bermuda:"🇧🇲",bhutan:"🇧🇹",bolivia:"🇧🇴",caribbean_netherlands:"🇧🇶",bosnia_herzegovina:"🇧🇦",botswana:"🇧🇼",brazil:"🇧🇷",british_indian_ocean_territory:"🇮🇴",british_virgin_islands:"🇻🇬",brunei:"🇧🇳",bulgaria:"🇧🇬",burkina_faso:"🇧🇫",burundi:"🇧🇮",cape_verde:"🇨🇻",cambodia:"🇰🇭",cameroon:"🇨🇲",canada:"🇨🇦",canary_islands:"🇮🇨",cayman_islands:"🇰🇾",central_african_republic:"🇨🇫",chad:"🇹🇩",chile:"🇨🇱",cn:"🇨🇳",christmas_island:"🇨🇽",cocos_islands:"🇨🇨",colombia:"🇨🇴",comoros:"🇰🇲",congo_brazzaville:"🇨🇬",congo_kinshasa:"🇨🇩",cook_islands:"🇨🇰",costa_rica:"🇨🇷",cote_divoire:"🇨🇮",croatia:"🇭🇷",cuba:"🇨🇺",curacao:"🇨🇼",cyprus:"🇨🇾",czech_republic:"🇨🇿",denmark:"🇩🇰",djibouti:"🇩🇯",dominica:"🇩🇲",dominican_republic:"🇩🇴",ecuador:"🇪🇨",egypt:"🇪🇬",el_salvador:"🇸🇻",equatorial_guinea:"🇬🇶",eritrea:"🇪🇷",estonia:"🇪🇪",ethiopia:"🇪🇹",eu:"🇪🇺",european_union:"🇪🇺",falkland_islands:"🇫🇰",faroe_islands:"🇫🇴",fiji:"🇫🇯",finland:"🇫🇮",fr:"🇫🇷",french_guiana:"🇬🇫",french_polynesia:"🇵🇫",french_southern_territories:"🇹🇫",gabon:"🇬🇦",gambia:"🇬🇲",georgia:"🇬🇪",de:"🇩🇪",ghana:"🇬🇭",gibraltar:"🇬🇮",greece:"🇬🇷",greenland:"🇬🇱",grenada:"🇬🇩",guadeloupe:"🇬🇵",guam:"🇬🇺",guatemala:"🇬🇹",guernsey:"🇬🇬",guinea:"🇬🇳",guinea_bissau:"🇬🇼",guyana:"🇬🇾",haiti:"🇭🇹",honduras:"🇭🇳",hong_kong:"🇭🇰",hungary:"🇭🇺",iceland:"🇮🇸",india:"🇮🇳",indonesia:"🇮🇩",iran:"🇮🇷",iraq:"🇮🇶",ireland:"🇮🇪",isle_of_man:"🇮🇲",israel:"🇮🇱",it:"🇮🇹",jamaica:"🇯🇲",jp:"🇯🇵",crossed_flags:"🎌",jersey:"🇯🇪",jordan:"🇯🇴",kazakhstan:"🇰🇿",kenya:"🇰🇪",kiribati:"🇰🇮",kosovo:"🇽🇰",kuwait:"🇰🇼",kyrgyzstan:"🇰🇬",laos:"🇱🇦",latvia:"🇱🇻",lebanon:"🇱🇧",lesotho:"🇱🇸",liberia:"🇱🇷",libya:"🇱🇾",liechtenstein:"🇱🇮",lithuania:"🇱🇹",luxembourg:"🇱🇺",macau:"🇲🇴",macedonia:"🇲🇰",madagascar:"🇲🇬",malawi:"🇲🇼",malaysia:"🇲🇾",maldives:"🇲🇻",mali:"🇲🇱",malta:"🇲🇹",marshall_islands:"🇲🇭",martinique:"🇲🇶",mauritania:"🇲🇷",mauritius:"🇲🇺",mayotte:"🇾🇹",mexico:"🇲🇽",micronesia:"🇫🇲",moldova:"🇲🇩",monaco:"🇲🇨",mongolia:"🇲🇳",montenegro:"🇲🇪",montserrat:"🇲🇸",morocco:"🇲🇦",mozambique:"🇲🇿",myanmar:"🇲🇲",namibia:"🇳🇦",nauru:"🇳🇷",nepal:"🇳🇵",netherlands:"🇳🇱",new_caledonia:"🇳🇨",new_zealand:"🇳🇿",nicaragua:"🇳🇮",niger:"🇳🇪",nigeria:"🇳🇬",niue:"🇳🇺",norfolk_island:"🇳🇫",northern_mariana_islands:"🇲🇵",north_korea:"🇰🇵",norway:"🇳🇴",oman:"🇴🇲",pakistan:"🇵🇰",palau:"🇵🇼",palestinian_territories:"🇵🇸",panama:"🇵🇦",papua_new_guinea:"🇵🇬",paraguay:"🇵🇾",peru:"🇵🇪",philippines:"🇵🇭",pitcairn_islands:"🇵🇳",poland:"🇵🇱",portugal:"🇵🇹",puerto_rico:"🇵🇷",qatar:"🇶🇦",reunion:"🇷🇪",romania:"🇷🇴",ru:"🇷🇺",rwanda:"🇷🇼",st_barthelemy:"🇧🇱",st_helena:"🇸🇭",st_kitts_nevis:"🇰🇳",st_lucia:"🇱🇨",st_pierre_miquelon:"🇵🇲",st_vincent_grenadines:"🇻🇨",samoa:"🇼🇸",san_marino:"🇸🇲",sao_tome_principe:"🇸🇹",saudi_arabia:"🇸🇦",senegal:"🇸🇳",serbia:"🇷🇸",seychelles:"🇸🇨",sierra_leone:"🇸🇱",singapore:"🇸🇬",sint_maarten:"🇸🇽",slovakia:"🇸🇰",slovenia:"🇸🇮",solomon_islands:"🇸🇧",somalia:"🇸🇴",south_africa:"🇿🇦",south_georgia_south_sandwich_islands:"🇬🇸",kr:"🇰🇷",south_sudan:"🇸🇸",es:"🇪🇸",sri_lanka:"🇱🇰",sudan:"🇸🇩",suriname:"🇸🇷",swaziland:"🇸🇿",sweden:"🇸🇪",switzerland:"🇨🇭",syria:"🇸🇾",taiwan:"🇹🇼",tajikistan:"🇹🇯",tanzania:"🇹🇿",thailand:"🇹🇭",timor_leste:"🇹🇱",togo:"🇹🇬",tokelau:"🇹🇰",tonga:"🇹🇴",trinidad_tobago:"🇹🇹",tunisia:"🇹🇳",tr:"🇹🇷",turkmenistan:"🇹🇲",turks_caicos_islands:"🇹🇨",tuvalu:"🇹🇻",uganda:"🇺🇬",ukraine:"🇺🇦",united_arab_emirates:"🇦🇪",gb:"🇬🇧",uk:"🇬🇧",us:"🇺🇸",us_virgin_islands:"🇻🇮",uruguay:"🇺🇾",uzbekistan:"🇺🇿",vanuatu:"🇻🇺",vatican_city:"🇻🇦",venezuela:"🇻🇪",vietnam:"🇻🇳",wallis_futuna:"🇼🇫",western_sahara:"🇪🇭",yemen:"🇾🇪",zambia:"🇿🇲",zimbabwe:"🇿🇼"}},{}],2:[function(t,e,i){"use strict";e.exports={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]}},{}],3:[function(t,e,i){"use strict";e.exports=function(t){var e,i=t.defs;t.enabled.length&&(i=Object.keys(i).reduce(function(e,n){return t.enabled.indexOf(n)>=0&&(e[n]=i[n]),e},{})),e=Object.keys(t.shortcuts).reduce(function(e,n){return i[n]?Array.isArray(t.shortcuts[n])?(t.shortcuts[n].forEach(function(t){e[t]=n}),e):(e[t.shortcuts[n]]=n,e):e},{});var n=Object.keys(i).map(function(t){return":"+t+":"}).concat(Object.keys(e)).sort().reverse().map(function(t){return function(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}(t)}).join("|"),o=RegExp(n),r=RegExp(n,"g");return{defs:i,shortcuts:e,scanRE:o,replaceRE:r}}},{}],4:[function(t,e,i){"use strict";e.exports=function(t,e){return t[e].content}},{}],5:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,o){var r=t.utils.arrayReplaceAt,a=t.utils.lib.ucmicro,s=new RegExp([a.Z.source,a.P.source,a.Cc.source].join("|"));function l(t,n,r){var a,l=0,c=[];return t.replace(o,function(n,o,u){var h;if(i.hasOwnProperty(n)){if(h=i[n],o>0&&!s.test(u[o-1]))return;if(o+n.length<u.length&&!s.test(u[o+n.length]))return}else h=n.slice(1,-1);o>l&&((a=new r("text","",0)).content=t.slice(l,o),c.push(a)),(a=new r("emoji","",0)).markup=h,a.content=e[h],c.push(a),l=o+n.length}),l<t.length&&((a=new r("text","",0)).content=t.slice(l),c.push(a)),c}return function(t){var e,i,o,a,s,c=t.tokens,u=0;for(i=0,o=c.length;i<o;i++)if("inline"===c[i].type)for(a=c[i].children,e=a.length-1;e>=0;e--)"link_open"!==(s=a[e]).type&&"link_close"!==s.type||"auto"===s.info&&(u-=s.nesting),"text"===s.type&&0===u&&n.test(s.content)&&(c[i].children=a=r(a,e,l(s.content,s.level,t.Token)))}}},{}],6:[function(t,e,i){"use strict";var n=t("./lib/data/full.json"),o=t("./lib/data/shortcuts"),r=t("./lib/render"),a=t("./lib/replace"),s=t("./lib/normalize_opts");e.exports=function(t,e){var i={defs:n,shortcuts:o,enabled:[]},l=s(t.utils.assign({},i,e||{}));t.renderer.rules.emoji=r,t.core.ruler.push("emoji",a(t,l.defs,l.shortcuts,l.scanRE,l.replaceRE))}},{"./lib/data/full.json":1,"./lib/data/shortcuts":2,"./lib/normalize_opts":3,"./lib/render":4,"./lib/replace":5}]},{},[6])(6)},function(t,e,i){
/*! highlight.js v9.12.0 | BSD3 License | git.io/hljslicense */
!function(t){"object"==typeof window&&window||"object"==typeof self&&self;!function(t){function e(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(t){return t.nodeName.toLowerCase()}function n(t,e){var i=t&&t.exec(e);return i&&0===i.index}function o(t){return y.test(t)}function r(t){var e,i={},n=Array.prototype.slice.call(arguments,1);for(e in t)i[e]=t[e];return n.forEach(function(t){for(e in t)i[e]=t[e]}),i}function a(t){var e=[];return function t(n,o){for(var r=n.firstChild;r;r=r.nextSibling)3===r.nodeType?o+=r.nodeValue.length:1===r.nodeType&&(e.push({event:"start",offset:o,node:r}),o=t(r,o),i(r).match(/br|hr|img|input/)||e.push({event:"stop",offset:o,node:r}));return o}(t,0),e}function s(t,n,o){function r(){return t.length&&n.length?t[0].offset!==n[0].offset?t[0].offset<n[0].offset?t:n:"start"===n[0].event?t:n:t.length?t:n}function a(t){u+="<"+i(t)+g.map.call(t.attributes,function(t){return" "+t.nodeName+'="'+e(t.value).replace('"',"&quot;")+'"'}).join("")+">"}function s(t){u+="</"+i(t)+">"}function l(t){("start"===t.event?a:s)(t.node)}for(var c=0,u="",h=[];t.length||n.length;){var d=r();if(u+=e(o.substring(c,d[0].offset)),c=d[0].offset,d===t){h.reverse().forEach(s);do{l(d.splice(0,1)[0]),d=r()}while(d===t&&d.length&&d[0].offset===c);h.reverse().forEach(a)}else"start"===d[0].event?h.push(d[0].node):h.pop(),l(d.splice(0,1)[0])}return u+e(o.substr(c))}function l(t){return t.v&&!t.cached_variants&&(t.cached_variants=t.v.map(function(e){return r(t,{v:null},e)})),t.cached_variants||t.eW&&[r(t)]||[t]}function c(t){function e(t){return t&&t.source||t}function i(i,n){return new RegExp(e(i),"m"+(t.cI?"i":"")+(n?"g":""))}!function n(o,r){if(!o.compiled){if(o.compiled=!0,o.k=o.k||o.bK,o.k){var a={},s=function(e,i){t.cI&&(i=i.toLowerCase()),i.split(" ").forEach(function(t){var i=t.split("|");a[i[0]]=[e,i[1]?Number(i[1]):1]})};"string"==typeof o.k?s("keyword",o.k):v(o.k).forEach(function(t){s(t,o.k[t])}),o.k=a}o.lR=i(o.l||/\w+/,!0),r&&(o.bK&&(o.b="\\b("+o.bK.split(" ").join("|")+")\\b"),o.b||(o.b=/\B|\b/),o.bR=i(o.b),o.e||o.eW||(o.e=/\B|\b/),o.e&&(o.eR=i(o.e)),o.tE=e(o.e)||"",o.eW&&r.tE&&(o.tE+=(o.e?"|":"")+r.tE)),o.i&&(o.iR=i(o.i)),null==o.r&&(o.r=1),o.c||(o.c=[]),o.c=Array.prototype.concat.apply([],o.c.map(function(t){return l("self"===t?o:t)})),o.c.forEach(function(t){n(t,o)}),o.starts&&n(o.starts,r);var c=o.c.map(function(t){return t.bK?"\\.?("+t.b+")\\.?":t.b}).concat([o.tE,o.i]).map(e).filter(Boolean);o.t=c.length?i(c.join("|"),!0):{exec:function(){return null}}}}(t)}function u(t,i,o,r){function a(t,e){var i,o;for(i=0,o=e.c.length;o>i;i++)if(n(e.c[i].bR,t))return e.c[i]}function s(t,e){if(n(t.eR,e)){for(;t.endsParent&&t.parent;)t=t.parent;return t}return t.eW?s(t.parent,e):void 0}function l(t,e){return!o&&n(e.iR,t)}function d(t,e){var i=k.cI?e[0].toLowerCase():e[0];return t.k.hasOwnProperty(i)&&t.k[i]}function f(t,e,i,n){var o=n?"":S.classPrefix,r='<span class="'+o,a=i?"":x;return(r+=t+'">')+e+a}function p(){C+=null!=w.sL?function(){var t="string"==typeof w.sL;if(t&&!b[w.sL])return e(A);var i=t?u(w.sL,A,!0,_[w.sL]):h(A,w.sL.length?w.sL:void 0);return w.r>0&&(T+=i.r),t&&(_[w.sL]=i.top),f(i.language,i.value,!1,!0)}():function(){var t,i,n,o;if(!w.k)return e(A);for(o="",i=0,w.lR.lastIndex=0,n=w.lR.exec(A);n;)o+=e(A.substring(i,n.index)),(t=d(w,n))?(T+=t[1],o+=f(t[0],e(n[0]))):o+=e(n[0]),i=w.lR.lastIndex,n=w.lR.exec(A);return o+e(A.substr(i))}(),A=""}function g(t){C+=t.cN?f(t.cN,"",!0):"",w=Object.create(t,{parent:{value:w}})}function v(t,e){if(A+=t,null==e)return p(),0;var i=a(e,w);if(i)return i.skip?A+=e:(i.eB&&(A+=e),p(),i.rB||i.eB||(A=e)),g(i),i.rB?0:e.length;var n=s(w,e);if(n){var o=w;o.skip?A+=e:(o.rE||o.eE||(A+=e),p(),o.eE&&(A=e));do{w.cN&&(C+=x),w.skip||(T+=w.r),w=w.parent}while(w!==n.parent);return n.starts&&g(n.starts),o.rE?0:e.length}if(l(e,w))throw new Error('Illegal lexeme "'+e+'" for mode "'+(w.cN||"<unnamed>")+'"');return A+=e,e.length||1}var k=m(t);if(!k)throw new Error('Unknown language: "'+t+'"');c(k);var y,w=r||k,_={},C="";for(y=w;y!==k;y=y.parent)y.cN&&(C=f(y.cN,"",!0)+C);var A="",T=0;try{for(var j,M,z=0;w.t.lastIndex=z,j=w.t.exec(i);)M=v(i.substring(z,j.index),j[0]),z=j.index+M;for(v(i.substr(z)),y=w;y.parent;y=y.parent)y.cN&&(C+=x);return{r:T,value:C,language:t,top:w}}catch(t){if(t.message&&-1!==t.message.indexOf("Illegal"))return{r:0,value:e(i)};throw t}}function h(t,i){i=i||S.languages||v(b);var n={r:0,value:e(t)},o=n;return i.filter(m).forEach(function(e){var i=u(e,t,!1);i.language=e,i.r>o.r&&(o=i),i.r>n.r&&(o=n,n=i)}),o.language&&(n.second_best=o),n}function d(t){return S.tabReplace||S.useBR?t.replace(_,function(t,e){return S.useBR&&"\n"===t?"<br>":S.tabReplace?e.replace(/\t/g,S.tabReplace):""}):t}function f(t){var e,i,n,r,l,c=function(t){var e,i,n,r,a=t.className+" ";if(a+=t.parentNode?t.parentNode.className:"",i=w.exec(a))return m(i[1])?i[1]:"no-highlight";for(a=a.split(/\s+/),e=0,n=a.length;n>e;e++)if(o(r=a[e])||m(r))return r}(t);o(c)||(S.useBR?(e=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):e=t,l=e.textContent,n=c?u(c,l,!0):h(l),(i=a(e)).length&&((r=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=n.value,n.value=s(i,a(r),l)),n.value=d(n.value),t.innerHTML=n.value,t.className=function(t,e,i){var n=e?k[e]:i,o=[t.trim()];return t.match(/\bhljs\b/)||o.push("hljs"),-1===t.indexOf(n)&&o.push(n),o.join(" ").trim()}(t.className,c,n.language),t.result={language:n.language,re:n.r},n.second_best&&(t.second_best={language:n.second_best.language,re:n.second_best.r}))}function p(){if(!p.called){p.called=!0;var t=document.querySelectorAll("pre code");g.forEach.call(t,f)}}function m(t){return t=(t||"").toLowerCase(),b[t]||b[k[t]]}var g=[],v=Object.keys,b={},k={},y=/^(no-?highlight|plain|text)$/i,w=/\blang(?:uage)?-([\w-]+)\b/i,_=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,x="</span>",S={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};t.highlight=u,t.highlightAuto=h,t.fixMarkup=d,t.highlightBlock=f,t.configure=function(t){S=r(S,t)},t.initHighlighting=p,t.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",p,!1),addEventListener("load",p,!1)},t.registerLanguage=function(e,i){var n=b[e]=i(t);n.aliases&&n.aliases.forEach(function(t){k[t]=e})},t.listLanguages=function(){return v(b)},t.getLanguage=m,t.inherit=r,t.IR="[a-zA-Z]\\w*",t.UIR="[a-zA-Z_]\\w*",t.NR="\\b\\d+(\\.\\d+)?",t.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",t.BNR="\\b(0b[01]+)",t.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",t.BE={b:"\\\\[\\s\\S]",r:0},t.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[t.BE]},t.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[t.BE]},t.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},t.C=function(e,i,n){var o=t.inherit({cN:"comment",b:e,e:i,c:[]},n||{});return o.c.push(t.PWM),o.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),o},t.CLCM=t.C("//","$"),t.CBCM=t.C("/\\*","\\*/"),t.HCM=t.C("#","$"),t.NM={cN:"number",b:t.NR,r:0},t.CNM={cN:"number",b:t.CNR,r:0},t.BNM={cN:"number",b:t.BNR,r:0},t.CSSNM={cN:"number",b:t.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},t.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[t.BE,{b:/\[/,e:/\]/,r:0,c:[t.BE]}]},t.TM={cN:"title",b:t.IR,r:0},t.UTM={cN:"title",b:t.UIR,r:0},t.METHOD_GUARD={b:"\\.\\s*"+t.UIR,r:0},t.registerLanguage("apache",function(t){var e={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[t.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,r:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",e]},e,t.QSM]}}],i:/\S/}}),t.registerLanguage("bash",function(t){var e={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},i={cN:"string",b:/"/,e:/"/,c:[t.BE,e,{cN:"variable",b:/\$\(/,e:/\)/,c:[t.BE]}]};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[t.inherit(t.TM,{b:/\w[\w\d_]*/})],r:0},t.HCM,i,{cN:"string",b:/'/,e:/'/},e]}}),t.registerLanguage("coffeescript",function(t){var e={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},i="[A-Za-z$_][0-9A-Za-z$_]*",n={cN:"subst",b:/#\{/,e:/}/,k:e},o=[t.BNM,t.inherit(t.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[t.BE]},{b:/'/,e:/'/,c:[t.BE]},{b:/"""/,e:/"""/,c:[t.BE,n]},{b:/"/,e:/"/,c:[t.BE,n]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[n,t.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{b:"@"+i},{sL:"javascript",eB:!0,eE:!0,v:[{b:"```",e:"```"},{b:"`",e:"`"}]}];n.c=o;var r=t.inherit(t.TM,{b:i}),a="(\\(.*\\))?\\s*\\B[-=]>",s={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:e,c:["self"].concat(o)}]};return{aliases:["coffee","cson","iced"],k:e,i:/\/\*/,c:o.concat([t.C("###","###"),t.HCM,{cN:"function",b:"^\\s*"+i+"\\s*=\\s*"+a,e:"[-=]>",rB:!0,c:[r,s]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:a,e:"[-=]>",rB:!0,c:[s]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[r]},r]},{b:i+":",e:":",rB:!0,rE:!0,r:0}])}}),t.registerLanguage("cpp",function(t){var e={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},i={cN:"string",v:[{b:'(u8?|U)?L?"',e:'"',i:"\\n",c:[t.BE]},{b:'(u8?|U)?R"',e:'"',c:[t.BE]},{b:"'\\\\?.",e:"'",i:"."}]},n={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],r:0},o={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,r:0},t.inherit(i,{cN:"meta-string"}),{cN:"meta-string",b:/<[^\n>]*>/,e:/$/,i:"\\n"},t.CLCM,t.CBCM]},r=t.IR+"\\s*\\(",a={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},s=[e,t.CLCM,t.CBCM,n,i];return{aliases:["c","cc","h","c++","h++","hpp"],k:a,i:"</",c:s.concat([o,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,c:["self",e]},{b:t.IR+"::",k:a},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:a,c:s.concat([{b:/\(/,e:/\)/,k:a,c:s.concat(["self"]),r:0}]),r:0},{cN:"function",b:"("+t.IR+"[\\*&\\s]+)+"+r,rB:!0,e:/[{;=]/,eE:!0,k:a,i:/[^\w\s\*&]/,c:[{b:r,rB:!0,c:[t.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:a,r:0,c:[t.CLCM,t.CBCM,i,n,e]},t.CLCM,t.CBCM,o]},{cN:"class",bK:"class struct",e:/[{;:]/,c:[{b:/</,e:/>/,c:["self"]},t.TM]}]),exports:{preprocessor:o,strings:i,k:a}}}),t.registerLanguage("cs",function(t){var e={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long nameof object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let on orderby partial remove select set value var where yield",literal:"null false true"},i={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},n=t.inherit(i,{i:/\n/}),o={cN:"subst",b:"{",e:"}",k:e},r=t.inherit(o,{i:/\n/}),a={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},t.BE,r]},s={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},o]},l=t.inherit(s,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},r]});o.c=[s,a,i,t.ASM,t.QSM,t.CNM,t.CBCM],r.c=[l,a,n,t.ASM,t.QSM,t.CNM,t.inherit(t.CBCM,{i:/\n/})];var c={v:[s,a,i,t.ASM,t.QSM]},u=t.IR+"(<"+t.IR+"(\\s*,\\s*"+t.IR+")*>)?(\\[\\])?";return{aliases:["csharp"],k:e,i:/::/,c:[t.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",r:0},{b:"\x3c!--|--\x3e"},{b:"</?",e:">"}]}]}),t.CLCM,t.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},c,t.CNM,{bK:"class interface",e:/[{;=]/,i:/[^\s:]/,c:[t.TM,t.CLCM,t.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[t.inherit(t.TM,{b:"[a-zA-Z](\\.?\\w)*"}),t.CLCM,t.CBCM]},{cN:"meta",b:"^\\s*\\[",eB:!0,e:"\\]",eE:!0,c:[{cN:"meta-string",b:/"/,e:/"/}]},{bK:"new return throw await else",r:0},{cN:"function",b:"("+u+"\\s+)+"+t.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:e,c:[{b:t.IR+"\\s*\\(",rB:!0,c:[t.TM],r:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:e,r:0,c:[c,t.CNM,t.CBCM]},t.CLCM,t.CBCM]}]}}),t.registerLanguage("css",function(t){var e={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[t.ASM,t.QSM]}]},t.CSSNM,t.QSM,t.ASM,t.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[t.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[t.ASM,t.QSM,t.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[t.CBCM,e]}]}}),t.registerLanguage("diff",function(t){return{aliases:["patch"],c:[{cN:"meta",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),t.registerLanguage("http",function(t){var e="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+e,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+e+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:e},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",r:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),t.registerLanguage("ini",function(t){var e={cN:"string",c:[t.BE],v:[{b:"'''",e:"'''",r:10},{b:'"""',e:'"""',r:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[t.C(";","$"),t.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},e,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},t.NM]}]}]}}),t.registerLanguage("java",function(t){var e="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",i={cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",r:0};return{aliases:["jsp"],k:e,i:/<\/|#/,c:[t.C("/\\*\\*","\\*/",{r:0,c:[{b:/\w+@/,r:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),t.CLCM,t.CBCM,t.ASM,t.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},t.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+"+t.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:e,c:[{b:t.UIR+"\\s*\\(",rB:!0,r:0,c:[t.UTM]},{cN:"params",b:/\(/,e:/\)/,k:e,r:0,c:[t.ASM,t.QSM,t.CNM,t.CBCM]},t.CLCM,t.CBCM]},i,{cN:"meta",b:"@[A-Za-z]+"}]}}),t.registerLanguage("javascript",function(t){var e="[A-Za-z$_][0-9A-Za-z$_]*",i={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},n={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:t.CNR}],r:0},o={cN:"subst",b:"\\$\\{",e:"\\}",k:i,c:[]},r={cN:"string",b:"`",e:"`",c:[t.BE,o]};o.c=[t.ASM,t.QSM,r,n,t.RM];var a=o.c.concat([t.CBCM,t.CLCM]);return{aliases:["js","jsx"],k:i,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},t.ASM,t.QSM,r,t.CLCM,t.CBCM,n,{b:/[{,]\s*/,r:0,c:[{b:e+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:e,r:0}]}]},{b:"("+t.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[t.CLCM,t.CBCM,t.RM,{cN:"function",b:"(\\(.*?\\)|"+e+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:e},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:i,c:a}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[t.inherit(t.TM,{b:e}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:a}],i:/\[|%/},{b:/\$[(.]/},t.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},t.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),t.registerLanguage("json",function(t){var e={literal:"true false null"},i=[t.QSM,t.CNM],n={e:",",eW:!0,eE:!0,c:i,k:e},o={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[t.BE],i:"\\n"},t.inherit(n,{b:/:/})],i:"\\S"},r={b:"\\[",e:"\\]",c:[t.inherit(n)],i:"\\S"};return i.splice(i.length,0,o,r),{c:i,k:e,i:"\\S"}}),t.registerLanguage("makefile",function(t){var e={cN:"variable",v:[{b:"\\$\\("+t.UIR+"\\)",c:[t.BE]},{b:/\$[@%<?\^\+\*]/}]},i={cN:"string",b:/"/,e:/"/,c:[t.BE,e]},n={cN:"variable",b:/\$\([\w-]+\s/,e:/\)/,k:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},c:[e]},o={b:"^"+t.UIR+"\\s*[:+?]?=",i:"\\n",rB:!0,c:[{b:"^"+t.UIR,e:"[:+?]?=",eE:!0}]},r={cN:"section",b:/^[^\s]+:/,e:/$/,c:[e]};return{aliases:["mk","mak"],k:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",l:/[\w-]+/,c:[t.HCM,e,i,n,o,{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},r]}}),t.registerLanguage("xml",function(t){var e={eW:!0,i:/</,r:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},t.C("\x3c!--","--\x3e",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[e],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[e],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},e]}]}}),t.registerLanguage("markdown",function(t){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}}),t.registerLanguage("nginx",function(t){var e={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+t.UIR}]},i={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[t.HCM,{cN:"string",c:[t.BE,e],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[e]},{cN:"regexp",c:[t.BE,e],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},e]};return{aliases:["nginxconf"],c:[t.HCM,{b:t.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:t.UIR}],r:0},{b:t.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:t.UIR,starts:i}],r:0}],i:"[^\\s\\}]"}}),t.registerLanguage("objectivec",function(t){var e=/[a-zA-Z@][a-zA-Z0-9_]*/,i="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:{keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},l:e,i:"</",c:[{cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t.CLCM,t.CBCM,t.CNM,t.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[t.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+i.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:i,l:e,c:[t.UTM]},{b:"\\."+t.UIR,r:0}]}}),t.registerLanguage("perl",function(t){var e="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",i={cN:"subst",b:"[$@]\\{",e:"\\}",k:e},n={b:"->{",e:"}"},o={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,r:0}]},r=[t.BE,i,o],a=[o,t.HCM,t.C("^\\=\\w","\\=cut",{eW:!0}),n,{cN:"string",c:r,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[t.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[t.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+t.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[t.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[t.BE],r:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,r:5,c:[t.TM]},{b:"-\\w\\b",r:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return i.c=a,n.c=a,{aliases:["pl","pm"],l:/[\w\.]+/,k:e,c:a}}),t.registerLanguage("php",function(t){var e={b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},i={cN:"meta",b:/<\?(php)?|\?>/},n={cN:"string",c:[t.BE,i],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},t.inherit(t.ASM,{i:null}),t.inherit(t.QSM,{i:null})]},o={v:[t.BNM,t.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[t.HCM,t.C("//","$",{c:[i]}),t.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),t.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:t.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[t.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},i,{cN:"keyword",b:/\$this\b/},e,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[t.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",e,t.CBCM,n,o]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},t.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[t.UTM]},{bK:"use",e:";",c:[t.UTM]},{b:"=>"},n,o]}}),t.registerLanguage("python",function(t){var e={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i={cN:"meta",b:/^(>>>|\.\.\.) /},n={cN:"subst",b:/\{/,e:/\}/,k:e,i:/#/},o={cN:"string",c:[t.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[i],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[i],r:10},{b:/(fr|rf|f)'''/,e:/'''/,c:[i,n]},{b:/(fr|rf|f)"""/,e:/"""/,c:[i,n]},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},{b:/(fr|rf|f)'/,e:/'/,c:[n]},{b:/(fr|rf|f)"/,e:/"/,c:[n]},t.ASM,t.QSM]},r={cN:"number",r:0,v:[{b:t.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:t.CNR+"[lLjJ]?"}]},a={cN:"params",b:/\(/,e:/\)/,c:["self",i,r,o]};return n.c=[o,r,i],{aliases:["py","gyp"],k:e,i:/(<\/|->|\?)|=>/,c:[i,r,o,t.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[t.UTM,a,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),t.registerLanguage("ruby",function(t){var e="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",i={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},n={cN:"doctag",b:"@[A-Za-z]+"},o={b:"#<",e:">"},r=[t.C("#","$",{c:[n]}),t.C("^\\=begin","^\\=end",{c:[n],r:10}),t.C("^__END__","\\n$")],a={cN:"subst",b:"#\\{",e:"}",k:i},s={cN:"string",c:[t.BE,a],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<(-?)\w+$/,e:/^\s*\w+$/}]},l={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:i},c=[s,o,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[t.inherit(t.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+t.IR+"::)?"+t.IR}]}].concat(r)},{cN:"function",bK:"def",e:"$|;",c:[t.inherit(t.TM,{b:e}),l].concat(r)},{b:t.IR+"::"},{cN:"symbol",b:t.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":(?!\\s)",c:[s,{b:e}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:i},{b:"("+t.RSR+"|unless)\\s*",k:"unless",c:[o,{cN:"regexp",c:[t.BE,a],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(r),r:0}].concat(r);a.c=c,l.c=c;var u=[{b:/^\s*=>/,starts:{e:"$",c:c}},{cN:"meta",b:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{e:"$",c:c}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:i,i:/\/\*/,c:r.concat(u).concat(c)}}),t.registerLanguage("shell",function(t){return{aliases:["console"],c:[{cN:"meta",b:"^\\s{0,3}[\\w\\d\\[\\]()@-]*[>%$#]",starts:{e:"$",sL:"bash"}}]}}),t.registerLanguage("sql",function(t){var e=t.C("--","$");return{cI:!0,i:/[<>{}*#]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},c:[{cN:"string",b:"'",e:"'",c:[t.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[t.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[t.BE]},t.CNM,t.CBCM,e]},t.CBCM,e]}})}(e)}()},function(t,e,i){var n;void 0===(n=function(){return function(){"use strict";var t={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(t){var e="string"==typeof t?parseInt(t,16):t;if(e<65536)return s(e);return s(55296+((e-=65536)>>10),56320+(1023&e))},toCodePoint:m},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:function(e,n){n&&"function"!=typeof n||(n={callback:n});return("string"==typeof e?function(t,e){return p(t,function(t){var i,n,o=t,r=h(t),a=e.callback(r,e);if(a){for(n in o="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',t,'"',' src="',a,'"'),i=e.attributes(t,r))i.hasOwnProperty(n)&&0!==n.indexOf("on")&&-1===o.indexOf(" "+n+"=")&&(o=o.concat(" ",n,'="',c(i[n]),'"'));o=o.concat("/>")}return o})}:function(t,e){var n,o,r,s,c,u,d,f,p,m,g,v,b,k=function t(e,i){var n,o,r=e.childNodes,s=r.length;for(;s--;)n=r[s],3===(o=n.nodeType)?i.push(n):1!==o||"ownerSVGElement"in n||a.test(n.nodeName.toLowerCase())||t(n,i);return i}(t,[]),y=k.length;for(;y--;){for(r=!1,s=document.createDocumentFragment(),c=k[y],u=c.nodeValue,f=0;d=i.exec(u);){if((p=d.index)!==f&&s.appendChild(l(u.slice(f,p),!0)),g=d[0],v=h(g),f=p+g.length,b=e.callback(v,e)){for(o in(m=new Image).onerror=e.onerror,m.setAttribute("draggable","false"),n=e.attributes(g,v))n.hasOwnProperty(o)&&0!==o.indexOf("on")&&!m.hasAttribute(o)&&m.setAttribute(o,n[o]);m.className=e.className,m.alt=g,m.src=b,r=!0,s.appendChild(m)}m||s.appendChild(l(g,!1)),m=null}r&&(f<u.length&&s.appendChild(l(u.slice(f),!0)),c.parentNode.replaceChild(s,c))}return t})(e,{callback:n.callback||u,attributes:"function"==typeof n.attributes?n.attributes:f,base:"string"==typeof n.base?n.base:t.base,ext:n.ext||t.ext,size:n.folder||function(t){return"number"==typeof t?t+"x"+t:t}(n.size||t.size),className:n.className||t.className,onerror:n.onerror||t.onerror})},replace:p,test:function(t){i.lastIndex=0;var e=i.test(t);return i.lastIndex=0,e}},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},i=/\ud83d[\udc68-\udc69](?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)(?:\ufe0f|\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]\ufe0f|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|(?:\u002a)\ufe0f?\u20e3|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca-\udfcc]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd74\udd75\udd7a\udd90\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddd1-\udddd]|[\u261d\u26f7\u26f9\u270a-\u270d])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\u0023\u20e3|\u0030\u20e3|\u0031\u20e3|\u0032\u20e3|\u0033\u20e3|\u0034\u20e3|\u0035\u20e3|\u0036\u20e3|\u0037\u20e3|\u0038\u20e3|\u0039\u20e3|\ud800\udc00|\ud83c[\udc04\udccf\udd70\udd71\udd7e\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude02\ude1a\ude2f\ude32-\ude3a\ude50\ude51\udf00-\udf21\udf24-\udf84\udf86-\udf93\udf96\udf97\udf99-\udf9b\udf9e-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcd-\udff0\udff3-\udff5\udff7-\udfff]|\ud83d[\udc00-\udc41\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfd\udcff-\udd3d\udd49-\udd4e\udd50-\udd67\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda4\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\udecb\udecd-\uded2\udee0-\udee5\udee9\udeeb\udeec\udef0\udef3-\udef8]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd4c\udd50-\udd6b\udd80-\udd97\uddc0\uddd0\uddde-\udde6]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26ce\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2705\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2728\u2733\u2734\u2744\u2747\u274c\u274e\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27a1\u27b0\u27bf\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299\ue50a]|(?:\u2639)(?:\ufe0f|(?!\ufe0e))/g,n=/\uFE0F/g,o=String.fromCharCode(8205),r=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,s=String.fromCharCode;return t;function l(t,e){return document.createTextNode(e?t.replace(n,""):t)}function c(t){return t.replace(r,d)}function u(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function h(t){return m(t.indexOf(o)<0?t.replace(n,""):t)}function d(t){return e[t]}function f(){return null}function p(t,e){return String(t).replace(i,e)}function m(t,e){for(var i=[],n=0,o=0,r=0;r<t.length;)n=t.charCodeAt(r++),o?(i.push((65536+(o-55296<<10)+(n-56320)).toString(16)),o=0):55296<=n&&n<=56319?o=n:i.push(n.toString(16));return i.join(e||"-")}}()}.call(e,i,e,t))||(t.exports=n)},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(170),i(1),i(6),i(11)],void 0===(r="function"==typeof(n=function(t){var e=window.katex||t;return function(t,i){var n=window.kendo,o=n.ui.Widget,r=window.assert,a=new window.Logger("kidoju.widgets.mathexpression"),s=o.extend({init:function(t,e){e=e||{},o.fn.init.call(this,t,e),a.debug({method:"init",message:"widget initialized"}),this._layout(),this.value(this.options.value),n.notify(this)},options:{name:"MathExpression",value:null,errorColor:"#cc0000",inline:!1},value:function(e){if("string"!==t.type(e)&&"null"!==t.type(e)){if("undefined"===t.type(e))return this._value;throw new TypeError("`value` is expected to be a string if not undefined")}this._value!==e&&(this._value=e,this.refresh())},_layout:function(){this.wrapper=this.element,this.element.addClass("kj-mathexpression")},refresh:function(){r.type("function",e&&e.render,"Make sure KaTeX is available.");var t=this.element,i=this.options;try{e.render(this.value()||"",t[0],{displayMode:!i.inline})}catch(e){t.html('<span style="color:'+i.errorColor+'">'+n.htmlEncode(e.message)+"</span>")}a.debug({method:"refresh",message:"widget refreshed"})},destroy:function(){var t=this.wrapper;n.unbind(t),o.fn.destroy.call(this),n.destroy(t)}});n.ui.plugin(s)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(487),i(1),i(6),i(11),i(64),i(488)],void 0===(r="function"==typeof(n=function(t){return t=window.MathQuill||t,function(e,i){var n=window.kendo,o=n.ui,r=o.Widget,a=o.MathInputToolBar,s=t.getInterface(t.getInterface.MAX),l=window.assert,c=new window.Logger("kidoju.widgets.mathinput"),u=".kendoMathInput",h="<div/>",d=/^[\s\[\]\{\}\(\)\|]$/,f=/^\\[a-z]+$/,p=/^\\mathbb{[^\}]+}$/,m=/\\MathQuillMathField/,g="Backspace",v=["backspace","field","keypad","basic","greek","operators","expressions","sets","matrices","statistics"],b=r.extend({init:function(t,e){e=e||{},r.fn.init.call(this,t,e),c.debug({method:"init",message:"Widget initialized"}),this.options.toolbar.tools=(e.toolbar||{}).tools||v,this._enabled=!this.element.prop("disabled")&&this.options.enable,this._layout(),this.value(this.options.value),this.enable(this._enabled),n.notify(this)},options:{name:"MathInput",value:null,enable:!0,errorColor:"#cc0000",mathquill:{spaceBehavesLikeTab:!1,leftRightIntoCmdGoes:"up",restrictMismatchedBrackets:!1,sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>",autoSubscriptNumerals:!1,autoCommands:"int pi sqrt sum",autoOperatorNames:"arccos arcsin arctan cos deg det dim exp lim log ln sin tan",substituteTextarea:function(){return document.createElement("textarea")},mouseEvents:!0},toolbar:{container:"",resizable:!0,tools:v}},events:["change"],value:function(t){return this._hasInnerFields()?this._arrayValue(t):this._stringValue(t)},_hasInnerFields:function(){return m.test(this.innerHTML)},_arrayValue:function(t){var i,o;if(e.isArray(t)||t instanceof n.data.ObservableArray)for(i=0,o=this.mathFields.length;i<o;i++)this.mathFields[i]instanceof s.MathField&&this.mathFields[i].latex()!==(t[i]||this.defaults[i])&&(c.debug({method:"value",message:"Setting value",data:{value:t}}),"string"===e.type(t[i])?this.mathFields[i].latex(t[i]):this.mathFields[i].latex(this.defaults[i]));else{if("null"!==e.type(t)){if("undefined"===e.type(t)){var r=this.mathFields.map(function(t){return t.latex()}),a=!0;for(i=0,o=r.length;i<o;i++)if(r[i]!==this.defaults[i]){a=!1;break}return a&&(r=[]),r}throw new TypeError("`value` is expected to be an array if not undefined")}this._arrayValue([])}},_stringValue:function(t){var i=this.mathFields[0].latex();if("string"===e.type(t))t!==i&&this.mathFields[0].latex(t);else{if("null"!==e.type(t)){if("undefined"===e.type(t))return i;throw new TypeError("`value` is expected to be a string if not undefined")}this._stringValue("")}},_layout:function(){this.wrapper=this.element,this.element.addClass("kj-mathinput kj-interactive"),this._initMathInput(),this._initToolBar()},_getConfig:function(){var t=this.options;"undefined"===e.type(this._handlers)&&(this._handlers={deleteOutOf:this._onOutOf.bind(this),downOutOf:this._onOutOf.bind(this),edit:this._onEdit.bind(this),enter:this._onEnter.bind(this),moveOutOf:this._onOutOf.bind(this),selectOutOf:this._onOutOf.bind(this),upOutOf:this._onOutOf.bind(this)});var i=e.extend({},t.mathquill);return i.substituteTextarea=t.mathquill.substituteTextarea,i.handlers=this._handlers,i},_initMathInput:function(){var t=this.element;this.options,this.innerHTML=this.element.text().trim(),this._hasInnerFields()?(this.staticMath=s.StaticMath(t.get(0)),this.mathFields=this.staticMath.innerFields):this.mathFields=[s.MathField(t.get(0))],this.defaults=this.mathFields.map(function(t){return t.latex()})},_initHandlers:function(){for(var t=this,i=(t.options,0),n=t.mathFields.length;i<n;i++)t.mathFields[i].config(t._enabled?t._getConfig():{});t.element.find("textarea").each(function(){e(this).prop("disabled",!t._enabled)}),t.element.off(u),t._enabled&&t.element.on("focusin"+u,t._onFocusIn.bind(t)).on("focusout"+u,t._onFocusOut.bind(t))},_onEdit:function(t){this.trigger("change"),c.debug({method:"_onEdit",message:"Edit"})},_onEnter:function(t){this.trigger("change"),c.debug({method:"_onEnter",message:"Enter"})},_onOutOf:function(t,e){c.debug({method:"_onOutOf",message:"Not implemented"})},_onFocusIn:function(t){var i=this,o=i.options;i._activeField=void 0;for(var r=0,l=i.mathFields.length;r<l;r++)this.mathFields[r].__controller.textarea.is(t.target)&&(i._activeField=i.mathFields[r]);var u=e(o.toolbar.container);u.length&&(u.children(n.roleSelector("mathinputtoolbar")).hide(),i._activeField instanceof s.MathField&&i.toolBar instanceof a&&setTimeout(function(){i.toolBar.wrapper.show()})),i.toolBar instanceof a&&i.toolBar.resize(),c.debug({method:"_onFocusIn",message:"Focus in"})},_onFocusOut:function(t){var i=this,n=i.options;e(n.toolbar.container).length&&setTimeout(function(){i.toolBar instanceof a&&0===i.toolBar.wrapper.has(document.activeElement).length&&!e(document.activeElement).is(".kj-floating")&&i.toolBar.wrapper.hide()},10),c.debug({method:"_onFocusOut",message:"Focus out"})},_initToolBar:function(){var t=this.options,i=e(t.toolbar.container);i.length?(this.toolBar=e(h).appendTo(i).kendoMathInputToolBar({tools:t.toolbar.tools,resizable:t.toolbar.resizable,action:this._onToolBarAction.bind(this),dialog:this._onToolBarDialog.bind(this)}).data("kendoMathInputToolBar"),this.toolBar.wrapper.hide()):t.toolbar.container||(this.element.wrap(h),this.wrapper=i=this.element.parent(),this.wrapper.addClass("kj-mathinput-wrap"),this.toolBar=e(h).prependTo(i).kendoMathInputToolBar({tools:t.toolbar.tools,resizable:t.toolbar.resizable,action:this._onToolBarAction.bind(this),dialog:this._onToolBarDialog.bind(this)}).data("kendoMathInputToolBar"))},_onToolBarAction:function(t){switch(t.command){case"ToolbarBackspaceCommand":this._activeField.keystroke(g);break;case"ToolbarFieldCommand":this._activeField.write("\\MathQuillMathField{}");break;case"ToolbarKeyPadCommand":case"ToolbarBasicCommand":case"ToolbarGreekCommand":case"ToolbarOperatorsCommand":case"ToolbarExpressionsCommand":case"ToolbarSetsCommand":case"ToolbarMatricesCommand":case"ToolbarStatisticsCommand":case"ToolbarUnitsCommand":case"ToolbarChemistryCommand":d.test(t.params.value)?this._activeField.typedText(t.params.value):f.test(t.params.value)||p.test(t.params.value)?this._activeField.cmd(t.params.value):"string"===e.type(t.params.value)&&this._activeField.write(t.params.value)}this._activeField.focus()},_onToolBarDialog:function(t){l.isPlainObject(t,n.format(l.messages.isPlainObject.default,"e")),this._openDialog(t.name,t.options)},_openDialog:function(t,i){var o=n.mathinput.dialogs.create(t,i);if(e.isArray(this._dialogs)||(this._dialogs=[]),o)return o.bind("action",this._onToolBarAction.bind(this)),o.bind("deactivate",this._destroyDialog.bind(this)),this._dialogs.push(o),o.open(),o},_destroyDialog:function(){this._dialogs.pop()},enable:function(t){var i=this;i._enabled="undefined"===e.type(t)||!!t,i._initHandlers(),i.toolBar instanceof a&&i.toolBar.element.children("a.k-button").each(function(e,n){i.toolBar.enable(n,t)})},refresh:function(){c.debug({method:"refresh",message:"Widget refreshed"})},text:function(){return this.staticMath instanceof s.StaticMath?this.staticMath.text():e.isArray(this.mathFields)&&1===this.mathFields.length&&this.mathFields[0]instanceof s.MathField?this.mathFields[0].text():void 0},destroy:function(){var t=this.wrapper;this.enable(!1),n.unbind(t),this.toolBar instanceof a&&(this.toolBar.destroy(),this.toolBar.wrapper.remove(),this.toolBar=void 0),this.staticMath instanceof s.StaticMath?(this.staticMath.revert(),this.staticMath=void 0):e.isArray(this.mathFields)&&1===this.mathFields.length&&this.mathFields[0]instanceof s.MathField&&(this.mathFields[0].revert(),this.mathFields=void 0),r.fn.destroy.call(this),n.destroy(t)}});n.ui.plugin(b)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e){!function(){var e,i=window.jQuery,n="mathquill-block-id",o=Math.min,r=Math.max;if(!i)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";function a(){}var s=[].slice;function l(t){var e=t.length-1;return function(){var i=s.call(arguments,0,e),n=s.call(arguments,e);return t.apply(this,i.concat([n]))}}var c=l(function(t,e){return l(function(i,n){if(t in i)return i[t].apply(i,e.concat(n))})});function u(t){return l(function(e,i){"function"!=typeof e&&(e=c(e));return t.call(this,function(t){return e.apply(t,[t].concat(i))})})}function h(t){var e=s.call(arguments,1);return function(){return t.apply(this,e)}}function d(t,e){if(!e)throw new Error("prayer failed: "+t)}var f=function(t,e,i){function n(t){return"object"==typeof t}function o(t){return"function"==typeof t}function r(){}return function t(i,a){function s(){var t=new l;return o(t.init)&&t.init.apply(t,arguments),t}function l(){}void 0===a&&(a=i,i=Object),s.Bare=l;var c,u=r.prototype=i.prototype,h=l.prototype=s.prototype=s.p=new r;return h.constructor=s,s.extend=function(e){return t(s,e)},(s.open=function(t){if(c={},o(t)?c=t.call(s,h,u,s,i):n(t)&&(c=t),n(c))for(var r in c)e.call(c,r)&&(h[r]=c[r]);return o(h.init)||(h.init=i),s})(a)}}(0,{}.hasOwnProperty),p=-1,m=1;function g(t){d("a direction was passed",t===p||t===m)}var v=f(i,function(t){t.insDirOf=function(t,e){return t===p?this.insertBefore(e.first()):this.insertAfter(e.last())},t.insAtDirEnd=function(t,e){return t===p?this.prependTo(e):this.appendTo(e)}}),b=f(function(t){t.parent=0,t[p]=0,t[m]=0,t.init=function(t,e,i){this.parent=t,this[p]=e,this[m]=i},this.copy=function(t){return b(t.parent,t[p],t[m])}}),k=f(function(t){t[p]=0,t[m]=0,t.parent=0;var e=0;this.byId={},t.init=function(){this.id=e+=1,k.byId[this.id]=this,this.ends={},this.ends[p]=0,this.ends[m]=0},t.dispose=function(){delete k.byId[this.id]},t.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},t.jQ=v(),t.jQadd=function(t){return this.jQ=this.jQ.add(t)},t.jQize=function(t){t=v(t||this.html());function e(t){if(t.getAttribute){var i=t.getAttribute("mathquill-command-id"),n=t.getAttribute("mathquill-block-id");i&&k.byId[i].jQadd(t),n&&k.byId[n].jQadd(t)}for(t=t.firstChild;t;t=t.nextSibling)e(t)}for(var i=0;i<t.length;i+=1)e(t[i]);return t},t.createDir=function(t,e){g(t);return this.jQize(),this.jQ.insDirOf(t,e.jQ),e[t]=this.adopt(e.parent,e[p],e[m]),this},t.createLeftOf=function(t){return this.createDir(p,t)},t.selectChildren=function(t,e){return C(t,e)},t.bubble=u(function(t){for(var e=this;e;e=e.parent){if(!1===t(e))break}return this}),t.postOrder=u(function(t){return function e(i){i.eachChild(e),t(i)}(this),this}),t.isEmpty=function(){return 0===this.ends[p]&&0===this.ends[m]},t.isStyleBlock=function(){return!1},t.children=function(){return w(this.ends[p],this.ends[m])},t.eachChild=function(){var t=this.children();return t.each.apply(t,arguments),this},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.withDirAdopt=function(t,e,i,n){return w(this,this).withDirAdopt(t,e,i,n),this},t.adopt=function(t,e,i){return w(this,this).adopt(t,e,i),this},t.disown=function(){return w(this,this).disown(),this},t.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}});function y(t,e,i){d("a parent is always present",t),d("leftward is properly set up",e?e[m]===i&&e.parent===t:t.ends[p]===i),d("rightward is properly set up",i?i[p]===e&&i.parent===t:t.ends[m]===e)}var w=f(function(t){t.init=function(t,i,n){if(n===e&&(n=p),g(n),d("no half-empty fragments",!t==!i),this.ends={},t){d("withDir is passed to Fragment",t instanceof k),d("oppDir is passed to Fragment",i instanceof k),d("withDir and oppDir have the same parent",t.parent===i.parent),this.ends[n]=t,this.ends[-n]=i;var o=this.fold([],function(t,e){return t.push.apply(t,e.jQ.get()),t});this.jQ=this.jQ.add(o)}},t.jQ=v(),t.withDirAdopt=function(t,e,i,n){return t===p?this.adopt(e,i,n):this.adopt(e,n,i)},t.adopt=function(t,e,i){y(t,e,i);this.disowned=!1;var n=this.ends[p];if(!n)return this;var o=this.ends[m];return e||(t.ends[p]=n),i?i[p]=o:t.ends[m]=o,this.ends[m][m]=i,this.each(function(i){i[p]=e,i.parent=t,e&&(e[m]=i),e=i}),this},t.disown=function(){var t=this.ends[p];if(!t||this.disowned)return this;this.disowned=!0;var e=this.ends[m],i=t.parent;return y(i,t[p],t),y(i,e,e[m]),t[p]?t[p][m]=e[m]:i.ends[p]=e[m],e[m]?e[m][p]=t[p]:i.ends[m]=t[p],this},t.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},t.each=u(function(t){var e=this.ends[p];if(!e)return this;for(;e!==this.ends[m][m];e=e[m]){if(!1===t(e))break}return this}),t.fold=function(t,e){return this.each(function(i){t=e.call(this,t,i)}),t}}),_={},x={},S=f(b,function(t){t.init=function(t,e){this.parent=t,this.options=e;var i=this.jQ=this._jQ=v('<span class="mq-cursor">&#8203;</span>');this.blink=function(){i.toggleClass("mq-blink")},this.upDownCache={}},t.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[m]?this.selection&&this.selection.ends[p][p]===this[p]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[m].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=v(),this},t.withDirInsertAt=function(t,e,i,n){var o=this.parent;this.parent=e,this[t]=i,this[-t]=n,o!==e&&o.blur&&o.blur(this)},t.insDirOf=function(t,e){return g(t),this.jQ.insDirOf(t,e.jQ),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.jQ.addClass("mq-hasCursor"),this},t.insLeftOf=function(t){return this.insDirOf(p,t)},t.insRightOf=function(t){return this.insDirOf(m,t)},t.insAtDirEnd=function(t,e){return g(t),this.jQ.insAtDirEnd(t,e.jQ),this.withDirInsertAt(t,e,0,e.ends[t]),e.focus(),this},t.insAtLeftEnd=function(t){return this.insAtDirEnd(p,t)},t.insAtRightEnd=function(t){return this.insAtDirEnd(m,t)},t.jumpUpDown=function(t,e){this.upDownCache[t.id]=b.copy(this);var i=this.upDownCache[e.id];if(i)i[m]?this.insLeftOf(i[m]):this.insAtRightEnd(i.parent);else{var n=this.offset().left;e.seek(n,this)}},t.offset=function(){var t=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),t},t.unwrapGramp=function(){var t=this.parent.parent,e=t.parent,i=t[m],n=t[p];if(t.disown().eachChild(function(o){o.isEmpty()||(o.children().adopt(e,n,i).each(function(e){e.jQ.insertBefore(t.jQ.first())}),n=o.ends[m])}),!this[m])if(this[p])this[m]=this[p][m];else for(;!this[m];){if(this.parent=this.parent[m],!this.parent){this[m]=t[m],this.parent=e;break}this[m]=this.parent.ends[p]}this[m]?this.insLeftOf(this[m]):this.insAtRightEnd(e),t.jQ.remove(),t[p].siblingDeleted&&t[p].siblingDeleted(this.options,m),t[m].siblingDeleted&&t[m].siblingDeleted(this.options,p)},t.startSelection=function(){for(var t=this.anticursor=b.copy(this),e=t.ancestors={},i=t;i.parent;i=i.parent)e[i.parent.id]=i},t.endSelection=function(){delete this.anticursor},t.select=function(){var t=this.anticursor;if(this[p]===t[p]&&this.parent===t.parent)return!1;for(var e=this;e.parent;e=e.parent)if(e.parent.id in t.ancestors){var i=e.parent;break}d("cursor and anticursor in the same tree",i);var n,o,r=t.ancestors[i.id],a=m;if(e[p]!==r)for(var s=e;s;s=s[m])if(s[m]===r[m]){a=p,n=e,o=r;break}return a===m&&(n=r,o=e),n instanceof b&&(n=n[m]),o instanceof b&&(o=o[p]),this.hide().selection=i.selectChildren(n,o),this.insDirOf(a,this.selection.ends[a]),this.selectionChanged(),!0},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},t.deleteSelection=function(){this.selection&&(this[p]=this.selection.ends[p][p],this[m]=this.selection.ends[m][m],this.selection.remove(),this.selectionChanged(),delete this.selection)},t.replaceSelection=function(){var t=this.selection;return t&&(this[p]=t.ends[p][p],this[m]=t.ends[m][m],delete this.selection),t}}),C=f(w,function(t,e){t.init=function(){e.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},t.join=function(t){return this.fold("",function(e,i){return e+i[t]()})}}),A=f(function(t){t.init=function(t,e,i){this.id=t.id,this.data={},this.root=t,this.container=e,this.options=i,t.controller=this,this.cursor=t.cursor=S(t,i)},t.handle=function(t,e){var i=this.options.handlers;if(i&&i.fns[t]){var n=i.APIClasses[this.KIND_OF_MQ](this);e===p||e===m?i.fns[t](e,n):i.fns[t](n)}};var e=[];this.onNotify=function(t){e.push(t)},t.notify=function(){for(var t=0;t<e.length;t+=1)e[t].apply(this.cursor,arguments);return this}}),T={},j=f(),M={},z=f(),E={};function I(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function D(t){return I(),Bt(t)}D.prototype=z.p,D.VERSION="v0.10.1",D.interfaceVersion=function(t){if(1!==t)throw"Only interface version 1 supported. You specified: "+t;return(I=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),D},D.getInterface=R;var O=R.MIN=1,P=R.MAX=2;function R(t){if(!(O<=t&&t<=P))throw"Only interface versions between "+O+" and "+P+" supported. You specified: "+t;function e(t){if(!t||!t.nodeType)return null;var e=v(t).children(".mq-root-block").attr(n),i=e&&k.byId[e].controller;return i?o[i.KIND_OF_MQ](i):null}var o={};function r(t,e){for(var i in e&&e.handlers&&(e.handlers={fns:e.handlers,APIClasses:o}),e)if(e.hasOwnProperty(i)){var n=e[i],r=M[i];t[i]=r?r(n):n}}e.L=p,e.R=m,e.saneKeyboardEvents=B,e.config=function(t){return r(j.p,t),this},e.registerEmbed=function(t,e){if(!/^[a-z][a-z0-9]*$/i.test(t))throw"Embed name must start with letter and be only letters and digits";E[t]=e};var s=o.AbstractMathQuill=f(z,function(t){t.init=function(t){this.__controller=t,this.__options=t.options,this.id=t.id,this.data=t.data},t.__mathquillify=function(t){var e=this.__controller,i=e.root,o=e.container;e.createTextarea();var r=o.addClass(t).contents().detach();i.jQ=v('<span class="mq-root-block"/>').attr(n,i.id).appendTo(o),this.latex(r.text()),this.revert=function(){return o.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(r)}},t.config=function(t){return r(this.__options,t),this},t.el=function(){return this.__controller.container[0]},t.text=function(){return this.__controller.exportText()},t.latex=function(t){return arguments.length>0?(this.__controller.renderLatexMath(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},t.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.reflow=function(){return this.__controller.root.postOrder("reflow"),this}});for(var l in e.prototype=s.prototype,o.EditableField=f(s,function(t,e){t.__mathquillify=function(){return e.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},t.focus=function(){return this.__controller.textarea.focus(),this},t.blur=function(){return this.__controller.textarea.blur(),this},t.write=function(t){return this.__controller.writeLatex(t),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},t.empty=function(){var t=this.__controller.root,e=this.__controller.cursor;return t.eachChild("postOrder","dispose"),t.ends[p]=t.ends[m]=0,t.jQ.empty(),delete e.selection,e.insAtRightEnd(t),this},t.cmd=function(t){var e=this.__controller.notify(),i=e.cursor;if(/^\\[a-z]+$/i.test(t)){t=t.slice(1);var n=_[t]||Rt[t];n&&(t=n(t),i.selection&&t.replaces(i.replaceSelection()),t.createLeftOf(i.show()),this.__controller.scrollHoriz())}else i.parent.write(i,t);return e.blurred&&i.hide().parent.blur(),this},t.select=function(){var t=this.__controller;for(t.notify("move").cursor.insAtRightEnd(t.root);t.cursor[p];)t.selectLeft();return this},t.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.moveToDirEnd=function(t){return this.__controller.notify("move").cursor.insAtDirEnd(t,this.__controller.root),this},t.moveToLeftEnd=function(){return this.moveToDirEnd(p)},t.moveToRightEnd=function(){return this.moveToDirEnd(m)},t.keystroke=function(t){t=t.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var e=0;e<t.length;e+=1)this.__controller.keystroke(t[e],{preventDefault:a});return this},t.typedText=function(t){for(var e=0;e<t.length;e+=1)this.__controller.typedText(t.charAt(e));return this},t.dropEmbedded=function(t,e,i){var n=t-v(window).scrollLeft(),o=e-v(window).scrollTop(),r=document.elementFromPoint(n,o);this.__controller.seek(v(r),t,e),Pt().setOptions(i).createLeftOf(this.__controller.cursor)},t.clickAt=function(t,e,n){n=n||document.elementFromPoint(t,e);var o=this.__controller,r=o.root;return i.contains(r.jQ[0],n)||(n=r.jQ[0]),o.seek(v(n),t+pageXOffset,e+pageYOffset),o.blurred&&this.focus(),this},t.ignoreNextMousedown=function(t){return this.__controller.cursor.options.ignoreNextMousedown=t,this}}),e.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},e.EditableField.prototype=o.EditableField.prototype,T)!function(i,n){var r=o[i]=n(o);e[i]=function(n,o){var a=e(n);if(a instanceof r||!n||!n.nodeType)return a;var s=A(r.RootBlock(),v(n),j());return s.KIND_OF_MQ=i,r(s).__mathquillify(o,t)},e[i].prototype=r.prototype}(l,T[l]);return e}D.noConflict=function(){return window.MathQuill=L,D};var L=window.MathQuill;function F(t){for(var e="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),i=0;i<e.length;i+=1)!function(e){t[e]=function(t){this.controller.handle(e,t)}}(e[i]);t.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}window.MathQuill=D;var N=f(function(t,e,i){function n(t,e){throw"Parse Error: "+e+" at "+(t=t?"'"+t+"'":"EOF")}t.init=function(t){this._=t},t.parse=function(t){return this.skip(a)._(""+t,function(t,e){return e},n)},t.or=function(t){d("or is passed a parser",t instanceof i);var e=this;return i(function(i,n,o){return e._(i,n,function(e){return t._(i,n,o)})})},t.then=function(t){var e=this;return i(function(n,o,r){return e._(n,function(e,n){var a=t instanceof i?t:t(n);return d("a parser is returned",a instanceof i),a._(e,o,r)},r)})},t.many=function(){var t=this;return i(function(e,i,n){for(var o=[];t._(e,r,a););return i(e,o);function r(t,i){return e=t,o.push(i),!0}function a(){return!1}})},t.times=function(t,e){arguments.length<2&&(e=t);var n=this;return i(function(i,o,r){for(var a,s=[],l=!0,c=0;c<t;c+=1)if(!(l=n._(i,u,h)))return r(i,a);for(;c<e&&l;c+=1)l=n._(i,u,d);return o(i,s);function u(t,e){return s.push(e),i=t,!0}function h(t,e){return a=e,i=t,!1}function d(t,e){return!1}})},t.result=function(t){return this.then(r(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var e=this;return e.times(t).then(function(t){return e.many().map(function(e){return t.concat(e)})})},t.map=function(t){return this.then(function(e){return r(t(e))})},t.skip=function(t){return this.then(function(e){return t.result(e)})};this.string=function(t){var e=t.length,n="expected '"+t+"'";return i(function(i,o,r){var a=i.slice(0,e);return a===t?o(i.slice(e),a):r(i,n)})};var o=this.regex=function(t){d("regexp parser is anchored","^"===t.toString().charAt(1));var e="expected "+t;return i(function(i,n,o){var r=t.exec(i);if(r){var a=r[0];return n(i.slice(a.length),a)}return o(i,e)})},r=i.succeed=function(t){return i(function(e,i){return i(e,t)})},a=(i.fail=function(t){return i(function(e,i,n){return n(e,t)})},i.letter=o(/^[a-z]/i),i.letters=o(/^[a-z]*/i),i.digit=o(/^[0-9]/),i.digits=o(/^[0-9]*/),i.whitespace=o(/^\s+/),i.optWhitespace=o(/^\s*/),i.any=i(function(t,e,i){return t?e(t.slice(1),t.charAt(0)):i(t,"expected any character")}),i.all=i(function(t,e,i){return e("",t)}),i.eof=i(function(t,e,i){return t?i(t,"expected EOF"):e(t,t)}))}),B=function(){var t={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(e,n){var o,r=null,s=null,l=i(e),c=i(n.container||l),u=a;function h(t){u=t,clearTimeout(o),o=setTimeout(t)}function d(t){h(function(e){u=a,clearTimeout(o),t(e)})}c.bind("keydown keypress input keyup focusout paste",function(t){u(t)});var f=!1;function p(){n.keystroke(function(e){var i,n=e.which||e.keyCode,o=t[n],r=[];return e.ctrlKey&&r.push("Ctrl"),e.originalEvent&&e.originalEvent.metaKey&&r.push("Meta"),e.altKey&&r.push("Alt"),e.shiftKey&&r.push("Shift"),i=o||String.fromCharCode(n),r.length||o?(r.push(i),r.join("-")):i}(r),r)}function m(){if(!function(){var t=l[0];return"selectionStart"in t&&t.selectionStart!==t.selectionEnd}()){var t=l.val();1===t.length?(l.val(""),n.typedText(t)):t&&l[0].select&&l[0].select()}}function g(){var t=l.val();l.val(""),t&&n.paste(t)}return c.bind({keydown:function(t){r=t,s=null,f&&d(function(t){t&&"focusout"===t.type||!l[0].select||l[0].select()}),p()},keypress:function(t){r&&s&&p(),s=t,h(m)},keyup:function(t){r&&!s&&h(m)},focusout:function(){r=s=null},cut:function(){d(function(){n.cut()})},copy:function(){d(function(){n.copy()})},paste:function(t){l.focus(),h(g)}}),{select:function(t){u(),u=a,clearTimeout(o),l.val(t),t&&l[0].select&&l[0].select(),f=!!t}}}}();A.open(function(t,e){t.exportText=function(){return this.root.foldChildren("",function(t,e){return t+e.text()})}}),A.open(function(t){t.focusBlurEvents=function(){var t,e=this,i=e.root,n=e.cursor;function o(){clearTimeout(t),n.selection&&n.selection.jQ.addClass("mq-blur"),r()}function r(){n.hide().parent.blur(),e.container.removeClass("mq-focused"),v(window).unbind("blur",o)}e.textarea.focus(function(){e.blurred=!1,clearTimeout(t),e.container.addClass("mq-focused"),n.parent||n.insAtRightEnd(i),n.selection?(n.selection.jQ.removeClass("mq-blur"),e.selectionChanged()):n.show()}).blur(function(){e.blurred=!0,t=setTimeout(function(){i.postOrder("intentionalBlur"),n.clearSelection().endSelection(),r()}),v(window).bind("blur",o)}),e.blurred=!0,n.hide().parent.blur()}}),A.open(function(t){t.keystroke=function(t,e){this.cursor.parent.keystroke(t,e,this)}}),k.open(function(t){t.keystroke=function(t,e,i){var n=i.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":i.ctrlDeleteDir(p);break;case"Shift-Backspace":case"Backspace":i.backspace();break;case"Esc":case"Tab":return void i.escapeDir(m,t,e);case"Shift-Tab":case"Shift-Esc":return void i.escapeDir(p,t,e);case"End":i.notify("move").cursor.insAtRightEnd(n.parent);break;case"Ctrl-End":i.notify("move").cursor.insAtRightEnd(i.root);break;case"Shift-End":for(;n[m];)i.selectRight();break;case"Ctrl-Shift-End":for(;n[m]||n.parent!==i.root;)i.selectRight();break;case"Home":i.notify("move").cursor.insAtLeftEnd(n.parent);break;case"Ctrl-Home":i.notify("move").cursor.insAtLeftEnd(i.root);break;case"Shift-Home":for(;n[p];)i.selectLeft();break;case"Ctrl-Shift-Home":for(;n[p]||n.parent!==i.root;)i.selectLeft();break;case"Left":i.moveLeft();break;case"Shift-Left":i.selectLeft();break;case"Ctrl-Left":break;case"Right":i.moveRight();break;case"Shift-Right":i.selectRight();break;case"Ctrl-Right":break;case"Up":i.moveUp();break;case"Down":i.moveDown();break;case"Shift-Up":if(n[p])for(;n[p];)i.selectLeft();else i.selectLeft();case"Shift-Down":if(n[m])for(;n[m];)i.selectRight();else i.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":i.ctrlDeleteDir(m);break;case"Shift-Del":case"Del":i.deleteForward();break;case"Meta-A":case"Ctrl-A":for(i.notify("move").cursor.insAtRightEnd(i.root);n[p];)i.selectLeft();break;default:return}e.preventDefault(),i.scrollHoriz()},t.moveOutOf=t.moveTowards=t.deleteOutOf=t.deleteTowards=t.unselectInto=t.selectOutOf=t.selectTowards=function(){d("overridden or never called on this node")}}),A.open(function(t){function e(t,e){var i=t.notify("upDown").cursor,n=e+"Into",o=e+"OutOf";return i[m][n]?i.insAtLeftEnd(i[m][n]):i[p][n]?i.insAtRightEnd(i[p][n]):i.parent.bubble(function(t){var e=t[o];if(e&&("function"==typeof e&&(e=t[o](i)),e instanceof k&&i.jumpUpDown(t,e),!0!==e))return!1}),t}this.onNotify(function(t){"move"!==t&&"upDown"!==t||this.show().clearSelection()}),t.escapeDir=function(t,e,i){g(t);var n=this.cursor;if(n.parent!==this.root&&i.preventDefault(),n.parent!==this.root)return n.parent.moveOutOf(t,n),this.notify("move")},M.leftRightIntoCmdGoes=function(t){if(t&&"up"!==t&&"down"!==t)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+t+'"';return t},t.moveDir=function(t){g(t);var e=this.cursor,i=e.options.leftRightIntoCmdGoes;return e.selection?e.insDirOf(t,e.selection.ends[t]):e[t]?e[t].moveTowards(t,e,i):e.parent.moveOutOf(t,e,i),this.notify("move")},t.moveLeft=function(){return this.moveDir(p)},t.moveRight=function(){return this.moveDir(m)},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},this.onNotify(function(t){"upDown"!==t&&(this.upDownCache={})}),this.onNotify(function(t){"edit"===t&&this.show().deleteSelection()}),t.deleteDir=function(t){g(t);var e=this.cursor,i=e.selection;return this.notify("edit"),i||(e[t]?e[t].deleteTowards(t,e):e.parent.deleteOutOf(t,e)),e[p].siblingDeleted&&e[p].siblingDeleted(e.options,m),e[m].siblingDeleted&&e[m].siblingDeleted(e.options,p),e.parent.bubble("reflow"),this},t.ctrlDeleteDir=function(t){g(t);var e=this.cursor;return!e[t]||e.selection?this.deleteDir(t):(this.notify("edit"),t===p?w(e.parent.ends[p],e[p]).remove():w(e[m],e.parent.ends[m]).remove(),e.insAtDirEnd(t,e.parent),e[p].siblingDeleted&&e[p].siblingDeleted(e.options,m),e[m].siblingDeleted&&e[m].siblingDeleted(e.options,p),e.parent.bubble("reflow"),this)},t.backspace=function(){return this.deleteDir(p)},t.deleteForward=function(){return this.deleteDir(m)},this.onNotify(function(t){"select"!==t&&this.endSelection()}),t.selectDir=function(t){var e=this.notify("select").cursor,i=e.selection;g(t),e.anticursor||e.startSelection();var n=e[t];n?i&&i.ends[t]===n&&e.anticursor[-t]!==n?n.unselectInto(t,e):n.selectTowards(t,e):e.parent.selectOutOf(t,e),e.clearSelection(),e.select()||e.show()},t.selectLeft=function(){return this.selectDir(p)},t.selectRight=function(){return this.selectDir(m)}});var q=function(){function t(t){for(var e=t[0]||Q(),i=1;i<t.length;i+=1)t[i].children().adopt(e,e.ends[m],0);return e}var e=N.string,i=N.regex,n=N.letter,o=N.any,r=N.optWhitespace,a=N.succeed,s=N.fail,l=n.map(function(t){return it(t)}),c=i(/^[^${}\\_^]/).map(function(t){return W(t)}),u=i(/^[^\\a-eg-zA-Z]/).or(e("\\").then(i(/^[a-z]+/i).or(i(/^\s+/).result(" ")).or(o))).then(function(t){var e=_[t];return e?e(t).parser():s("unknown command: \\"+t)}).or(l).or(c),h=e("{").then(function(){return f}).skip(e("}")),d=r.then(h.or(u.map(function(t){var e=Q();return t.adopt(e,0,0),e}))),f=d.many().map(t).skip(r),p=e("[").then(d.then(function(t){return"]"!==t.join("latex")?a(t):s()}).many().map(t).skip(r)).skip(e("]")),g=f;return g.block=d,g.optBlock=p,g}();A.open(function(t,e){t.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},t.writeLatex=function(t){var e=this.notify("edit").cursor,i=N.all,n=N.eof,o=q.skip(n).or(i.result(!1)).parse(t);o&&!o.isEmpty()&&(o.children().adopt(e.parent,e[p],e[m]),o.jQize().insertBefore(e.jQ),e[p]=o.ends[m],o.finalizeInsert(e.options,e),o.ends[m][m].siblingCreated&&o.ends[m][m].siblingCreated(e.options,p),o.ends[p][p].siblingCreated&&o.ends[p][p].siblingCreated(e.options,m),e.parent.bubble("reflow"));return this},t.renderLatexMath=function(t){var e=this.root,i=this.cursor,n=N.all,o=N.eof,r=q.skip(o).or(n.result(!1)).parse(t);e.eachChild("postOrder","dispose"),e.ends[p]=e.ends[m]=0,r&&r.children().adopt(e,0,0);var a=e.jQ;if(r){var s=r.join("html");a.html(s),e.jQize(a.children()),e.finalizeInsert(i.options)}else a.empty();delete i.selection,i.insAtRightEnd(e)},t.renderLatexText=function(t){var e=this.root,i=this.cursor;e.jQ.children().slice(1).remove(),e.eachChild("postOrder","dispose"),e.ends[p]=e.ends[m]=0,delete i.selection,i.show().insAtRightEnd(e);var n=N.regex,o=N.string,r=N.eof,a=N.all,s=o("$").then(q).skip(o("$").or(r)).map(function(t){var e=J(i);e.createBlocks();var n=e.ends[p];return t.children().adopt(n,0,0),e}),l=o("\\$").result("$").or(n(/^[^$]/)).map(W),c=s.or(l).many().skip(r).or(a.result(!1)).parse(t);if(c){for(var u=0;u<c.length;u+=1)c[u].adopt(e,e.ends[m],0);e.jQize().appendTo(e.jQ),e.finalizeInsert(i.options)}}}),A.open(function(t){j.p.ignoreNextMousedown=a,t.delegateMouseEvents=function(){var t=this.root.jQ;this.container.bind("mousedown.mathquill",function(i){var o,r=v(i.target).closest(".mq-root-block"),s=k.byId[r.attr(n)||t.attr(n)].controller,l=s.cursor,c=l.blink,u=s.textareaSpan,h=s.textarea;(i.preventDefault(),i.target.unselectable=!0,l.options.ignoreNextMousedown(i))||(l.options.ignoreNextMousedown=a,s.blurred&&(s.editable||r.prepend(u),h.focus()),l.blink=a,s.seek(v(i.target),i.pageX,i.pageY).cursor.startSelection(),r.mousemove(d),v(i.target.ownerDocument).mousemove(f).mouseup(function t(e){l.blink=c,l.selection||(s.editable?l.show():u.detach()),r.unbind("mousemove",d),v(e.target.ownerDocument).unbind("mousemove",f).unbind("mouseup",t)}));function d(t){o=v(t.target)}function f(t){l.anticursor||l.startSelection(),s.seek(o,t.pageX,t.pageY).cursor.select(),o=e}})}}),A.open(function(t){t.seek=function(t,e,i){var o=this.notify("select").cursor;if(t){var r=t.attr(n)||t.attr("mathquill-command-id");if(!r){var a=t.parent();r=a.attr(n)||a.attr("mathquill-command-id")}}var s=r?k.byId[r]:this.root;return d("nodeId is the id of some Node that exists",s),o.clearSelection().show(),s.seek(e,o),this.scrollHoriz(),this}}),A.open(function(t){t.scrollHoriz=function(){var t=this.cursor,e=t.selection,i=this.root.jQ[0].getBoundingClientRect();if(e){var n=e.jQ[0].getBoundingClientRect(),o=n.left-(i.left+20),r=n.right-(i.right-20);if(e.ends[p]===t[m])if(o<0)s=o;else{if(!(r>0))return;if(n.left-r<i.left+20)s=o;else s=r}else if(r>0)s=r;else{if(!(o<0))return;if(n.right-o>i.right-20)s=r;else s=o}}else{var a=t.jQ[0].getBoundingClientRect().left;if(a>i.right-20)var s=a-(i.right-20);else{if(!(a<i.left+20))return;var s=a-(i.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+s},100)}}),A.open(function(t){j.p.substituteTextarea=function(){return v("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},t.createTextarea=function(){var t=this.textareaSpan=v('<span class="mq-textarea"></span>'),e=this.options.substituteTextarea();if(!e.nodeType)throw"substituteTextarea() must return a DOM element, got "+e;e=this.textarea=v(e).appendTo(t);var i=this;i.cursor.selectionChanged=function(){i.selectionChanged()}},t.selectionChanged=function(){var t=this;vt(t.container[0]),t.textareaSelectionTimeout===e&&(t.textareaSelectionTimeout=setTimeout(function(){t.setTextareaSelection()}))},t.setTextareaSelection=function(){this.textareaSelectionTimeout=e;var t="";this.cursor.selection&&(t=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},t.staticMathTextareaEvents=function(){var t=this,e=(t.root,t.cursor),n=t.textarea,o=t.textareaSpan;function r(){o.detach(),t.blurred=!0}this.container.prepend(i('<span class="mq-selectable">').text("$"+t.exportLatex()+"$")),t.blurred=!0,n.bind("cut paste",!1).bind("copy",function(){t.setTextareaSelection()}).focus(function(){t.blurred=!1}).blur(function(){e.selection&&e.selection.clear(),setTimeout(r)}),t.selectFn=function(t){n.val(t),t&&n.select()}},j.p.substituteKeyboardEvents=B,t.editablesTextareaEvents=function(){var t=this.textarea,e=this.textareaSpan,i=this.options.substituteKeyboardEvents(t,this);this.selectFn=function(t){i.select(t)},this.container.prepend(e),this.focusBlurEvents()},t.typedText=function(t){if("\n"===t)return this.handle("enter");var e=this.notify().cursor;e.parent.write(e,t),this.scrollHoriz()},t.cut=function(){var t=this,e=t.cursor;e.selection&&setTimeout(function(){t.notify("edit"),e.parent.bubble("reflow")})},t.copy=function(){this.setTextareaSelection()},t.paste=function(t){this.options.statelessClipboard&&(t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}"),this.writeLatex(t).cursor.show()}});var V=f(k,function(t,e){t.finalizeInsert=function(t,e){this.postOrder("finalizeTree",t),this.postOrder("contactWeld",e),this.postOrder("blur"),this.postOrder("reflow"),this[m].siblingCreated&&this[m].siblingCreated(t,p),this[p].siblingCreated&&this[p].siblingCreated(t,m),this.bubble("reflow")}}),H=f(V,function(t,e){t.init=function(t,i,n){e.init.call(this),this.ctrlSeq||(this.ctrlSeq=t),i&&(this.htmlTemplate=i),n&&(this.textTemplate=n)},t.replaces=function(t){t.disown(),this.replacedFragment=t},t.isEmpty=function(){return this.foldChildren(!0,function(t,e){return t&&e.isEmpty()})},t.parser=function(){var t=this;return q.block.times(t.numBlocks()).map(function(e){t.blocks=e;for(var i=0;i<e.length;i+=1)e[i].adopt(t,t.ends[m],0);return t})},t.createLeftOf=function(t){var i=this.replacedFragment;this.createBlocks(),e.createLeftOf.call(this,t),i&&(i.adopt(this.ends[p],0,0),i.jQ.appendTo(this.ends[p].jQ)),this.finalizeInsert(t.options),this.placeCursor(t)},t.createBlocks=function(){for(var t=this.numBlocks(),e=this.blocks=Array(t),i=0;i<t;i+=1){(e[i]=Q()).adopt(this,this.ends[m],0)}},t.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.ends[p],function(t,e){return t.isEmpty()?t:e}))},t.moveTowards=function(t,e,i){var n=i&&this[i+"Into"];e.insAtDirEnd(-t,n||this.ends[-t])},t.deleteTowards=function(t,e){this.isEmpty()?e[t]=this.remove()[t]:this.moveTowards(t,e,null)},t.selectTowards=function(t,e){e[-t]=this,e[t]=this[t]},t.selectChildren=function(){return C(this,this)},t.unselectInto=function(t,e){e.insAtDirEnd(-t,e.anticursor.ancestors[this.id])},t.seek=function(t,e){function i(t){var e={};return e[p]=t.jQ.offset().left,e[m]=e[p]+t.jQ.outerWidth(),e}var n=this,o=i(n);if(t<o[p])return e.insLeftOf(n);if(t>o[m])return e.insRightOf(n);var r=o[p];n.eachChild(function(a){var s=i(a);return t<s[p]?(t-r<s[p]-t?a[p]?e.insAtRightEnd(a[p]):e.insLeftOf(n):e.insAtLeftEnd(a),!1):t>s[m]?void(a[m]?r=s[m]:o[m]-t<t-s[m]?e.insRightOf(n):e.insAtRightEnd(a)):(a.seek(t,e),!1)})},t.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},t.html=function(){var t=this.blocks,e=" mathquill-command-id="+this.id,i=this.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);d("no unmatched angle brackets",i.join("")===this.htmlTemplate);for(var n=0,o=i[0];o;o=i[n+=1])if("/>"===o.slice(-2))i[n]=o.slice(0,-2)+e+"/>";else if("<"===o.charAt(0)){d("not an unmatched top-level close tag","/"!==o.charAt(1)),i[n]=o.slice(0,-1)+e+">";var r=1;do{d("no missing close tags",o=i[n+=1]),"</"===o.slice(0,2)?r-=1:"<"===o.charAt(0)&&"/>"!==o.slice(-2)&&(r+=1)}while(r>0)}return i.join("").replace(/>&(\d+)/g,function(e,i){return" mathquill-block-id="+t[i].id+">"+t[i].join("html")})},t.latex=function(){return this.foldChildren(this.ctrlSeq,function(t,e){return t+"{"+(e.latex()||" ")+"}"})},t.textTemplate=[""],t.text=function(){var t=this,e=0;return t.foldChildren(t.textTemplate[e],function(i,n){e+=1;var o=n.text();return i&&"("===t.textTemplate[e]&&"("===o[0]&&")"===o.slice(-1)?i+o.slice(1,-1)+t.textTemplate[e]:i+n.text()+(t.textTemplate[e]||"")})}}),U=f(H,function(t,e){t.init=function(t,i,n){n||(n=t&&t.length>1?t.slice(1):t),e.init.call(this,t,i,[n])},t.parser=function(){return N.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(t){t.remove()},t.createBlocks=a,t.moveTowards=function(t,e){e.jQ.insDirOf(t,this.jQ),e[-t]=this,e[t]=this[t]},t.deleteTowards=function(t,e){e[t]=this.remove()[t]},t.seek=function(t,e){t-this.jQ.offset().left<this.jQ.outerWidth()/2?e.insLeftOf(this):e.insRightOf(this)},t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate},t.placeCursor=a,t.isEmpty=function(){return!0}}),W=f(U,function(t,e){t.init=function(t,i){e.init.call(this,t,"<span>"+(i||t)+"</span>")}}),G=f(U,function(t,e){t.init=function(t,i,n){e.init.call(this,t,'<span class="mq-binary-operator">'+i+"</span>",n)}}),Q=f(V,function(t,e){t.join=function(t){return this.foldChildren("",function(e,i){return e+i[t]()})},t.html=function(){return this.join("html")},t.latex=function(){return this.join("latex")},t.text=function(){return this.ends[p]===this.ends[m]&&0!==this.ends[p]?this.ends[p].text():this.join("text")},t.keystroke=function(t,i,n){return!n.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?e.keystroke.apply(this,arguments):(i.preventDefault(),void n.escapeDir("Shift-Spacebar"===t?p:m,t,i))},t.moveOutOf=function(t,e,i){!(i&&this.parent[i+"Into"])&&this[t]?e.insAtDirEnd(-t,this[t]):e.insDirOf(t,this.parent)},t.selectOutOf=function(t,e){e.insDirOf(t,this.parent)},t.deleteOutOf=function(t,e){e.unwrapGramp()},t.seek=function(t,e){var i=this.ends[m];if(!i||i.jQ.offset().left+i.jQ.outerWidth()<t)return e.insAtRightEnd(this);if(t<this.ends[p].jQ.offset().left)return e.insAtLeftEnd(this);for(;t<i.jQ.offset().left;)i=i[p];return i.seek(t,e)},t.chToCmd=function(t,e){var i;return t.match(/^[a-eg-zA-Z]$/)?it(t):/^\d$/.test(t)?tt(t):e&&e.typingSlashWritesDivisionSymbol&&"/"===t?_["÷"](t):e&&e.typingAsteriskWritesTimesSymbol&&"*"===t?_["×"](t):(i=x[t]||_[t])?i(t):W(t)},t.write=function(t,e){var i=this.chToCmd(e,t.options);t.selection&&i.replaces(t.replaceSelection()),i.createLeftOf(t.show())},t.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},t.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}});j.p.mouseEvents=!0,T.StaticMath=function(t){return f(t.AbstractMathQuill,function(e,i){this.RootBlock=Q,e.__mathquillify=function(t,e){return this.config(t),i.__mathquillify.call(this,"mq-math-mode"),this.__options.mouseEvents&&(this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents()),this},e.init=function(){i.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.MathField)},e.latex=function(){var e=i.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.MathField),e}})};var Y=f(Q,F);T.MathField=function(t){return f(t.EditableField,function(t,e){this.RootBlock=Y,t.__mathquillify=function(t,i){return this.config(t),i>1&&(this.__controller.root.reflow=a),e.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})};var K=f(k,function(t,e){function i(t){t.jQ[0].normalize();var e=t.jQ[0].firstChild;if(e){d("only node in TextBlock span is Text node",3===e.nodeType);var i=Z(e.data);return i.jQadd(e),t.children().disown(),i.adopt(t,0,0)}}t.ctrlSeq="\\text",t.replaces=function(t){t instanceof w?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.jQadd=function(t){e.jQadd.call(this,t),this.ends[p]&&this.ends[p].jQadd(this.jQ[0].firstChild)},t.createLeftOf=function(t){if(e.createLeftOf.call(this,t),this[m].siblingCreated&&this[m].siblingCreated(t.options,p),this[p].siblingCreated&&this[p].siblingCreated(t.options,m),this.bubble("reflow"),t.insAtRightEnd(this),this.replacedText)for(var i=0;i<this.replacedText.length;i+=1)this.write(t,this.replacedText.charAt(i))},t.parser=function(){var t=this,e=N.string,i=N.regex;return N.optWhitespace.then(e("{")).then(i(/^[^}]*/)).skip(e("}")).map(function(e){return 0===e.length?w():(Z(e).adopt(t,0,0),t)})},t.textContents=function(){return this.foldChildren("",function(t,e){return t+e.text})},t.text=function(){return'"'+this.textContents()+'"'},t.latex=function(){var t=this.textContents();return 0===t.length?"":"\\text{"+t.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&")+"}"},t.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},t.moveTowards=function(t,e){e.insAtDirEnd(-t,this)},t.moveOutOf=function(t,e){e.insDirOf(t,this)},t.unselectInto=t.moveTowards,t.selectTowards=H.prototype.selectTowards,t.deleteTowards=H.prototype.deleteTowards,t.selectOutOf=function(t,e){e.insDirOf(t,this)},t.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this)},t.write=function(t,i){if(t.show().deleteSelection(),"$"!==i)t[p]?t[p].appendText(i):Z(i).createLeftOf(t);else if(this.isEmpty())t.insRightOf(this),W("\\$","$").createLeftOf(t);else if(t[m])if(t[p]){var n=K(),o=this.ends[p];o.disown().jQ.detach(),o.adopt(n,0,0),t.insLeftOf(this),e.createLeftOf.call(n,t)}else t.insLeftOf(this);else t.insRightOf(this)},t.seek=function(t,e){e.hide();var n=i(this),o=this.jQ.width()/this.text.length,r=Math.round((t-this.jQ.offset().left)/o);r<=0?e.insAtLeftEnd(this):r>=n.text.length?e.insAtRightEnd(this):e.insLeftOf(n.splitRight(r));for(var a=t-e.show().offset().left,s=a&&a<0?p:m,l=s;e[s]&&a*l>0;)e[s].moveTowards(s,e),l=a,a=t-e.offset().left;if(s*a<-s*l&&e[-s].moveTowards(-s,e),e.anticursor){if(e.anticursor.parent===this){var c=e[p]&&e[p].text.length;if(this.anticursorPosition===c)e.anticursor=b.copy(e);else{if(this.anticursorPosition<c){var u=e[p].splitRight(this.anticursorPosition);e[p]=u}else u=e[m].splitRight(this.anticursorPosition-c);e.anticursor=b(this,u[p],u)}}}else this.anticursorPosition=e[p]&&e[p].text.length},t.blur=function(t){Q.prototype.blur.call(this),t&&(""===this.textContents()?(this.remove(),t[p]===this?t[p]=this[p]:t[m]===this&&(t[m]=this[m])):i(this))},t.focus=Q.prototype.focus}),Z=f(k,function(t,e){function i(t,e){return e.charAt(t===p?0:-1+e.length)}t.init=function(t){e.init.call(this),this.text=t},t.jQadd=function(t){this.dom=t,this.jQ=v(t)},t.jQize=function(){return this.jQadd(document.createTextNode(this.text))},t.appendText=function(t){this.text+=t,this.dom.appendData(t)},t.prependText=function(t){this.text=t+this.text,this.dom.insertData(0,t)},t.insTextAtDirEnd=function(t,e){g(e),e===m?this.appendText(t):this.prependText(t)},t.splitRight=function(t){var e=Z(this.text.slice(t)).adopt(this.parent,this,this[m]);return e.jQadd(this.dom.splitText(t)),this.text=this.text.slice(0,t),e},t.moveTowards=function(t,e){g(t);var n=i(-t,this.text),o=this[-t];return o?o.insTextAtDirEnd(n,t):Z(n).createDir(-t,e),this.deleteTowards(t,e)},t.latex=function(){return this.text},t.deleteTowards=function(t,e){this.text.length>1?t===m?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),e[t]=this[t])},t.selectTowards=function(t,e){g(t);var n=e.anticursor,o=i(-t,this.text);if(n[t]===this){var r=Z(o).createDir(t,e);n[t]=r,e.insDirOf(t,r)}else{var a=this[-t];if(a)a.insTextAtDirEnd(o,t);else(r=Z(o).createDir(-t,e)).jQ.insDirOf(-t,e.selection.jQ);1===this.text.length&&n[-t]===this&&(n[-t]=this[-t])}return this.deleteTowards(t,e)}});function X(t,e,i){return f(K,{ctrlSeq:t,htmlTemplate:"<"+e+" "+i+">&0</"+e+">"})}_.text=_.textnormal=_.textrm=_.textup=_.textmd=K,_.em=_.italic=_.italics=_.emph=_.textit=_.textsl=X("\\textit","i",'class="mq-text-mode"'),_.strong=_.bold=_.textbf=X("\\textbf","b",'class="mq-text-mode"'),_.sf=_.textsf=X("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),_.tt=_.texttt=X("\\texttt","span",'class="mq-monospace mq-text-mode"'),_.textsc=X("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),_.uppercase=X("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),_.lowercase=X("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var J=f(H,function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mq-math-mode">&0</span>',t.createBlocks=function(){e.createBlocks.call(this),this.ends[p].cursor=this.cursor,this.ends[p].write=function(t,e){"$"!==e?Q.prototype.write.call(this,t,e):this.isEmpty()?(t.insRightOf(this.parent),this.parent.deleteTowards(dir,t),W("\\$","$").createLeftOf(t.show())):t[m]?t[p]?Q.prototype.write.call(this,t,e):t.insLeftOf(this.parent):t.insRightOf(this.parent)}},t.latex=function(){return"$"+this.ends[p].latex()+"$"}}),$=f(Y,function(t,e){t.keystroke=function(t){if("Spacebar"!==t&&"Shift-Spacebar"!==t)return e.keystroke.apply(this,arguments)},t.write=function(t,e){var i;(t.show().deleteSelection(),"$"===e)?J(t).createLeftOf(t):("<"===e?i="&lt;":">"===e&&(i="&gt;"),W(e,i).createLeftOf(t))}});T.TextField=function(t){return f(t.EditableField,function(t,e){this.RootBlock=$,t.__mathquillify=function(){return e.__mathquillify.call(this,"mq-editable-field mq-text-mode")},t.latex=function(t){return arguments.length>0?(this.__controller.renderLatexText(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})},_.notin=_.cong=_.equiv=_.oplus=_.otimes=f(G,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),_["≠"]=_.ne=_.neq=h(G,"\\ne ","&ne;"),_["∗"]=_.ast=_.star=_.loast=_.lowast=h(G,"\\ast ","&lowast;"),_.therefor=_.therefore=h(G,"\\therefore ","&there4;"),_.cuz=_.because=h(G,"\\because ","&#8757;"),_.prop=_.propto=h(G,"\\propto ","&prop;"),_["≈"]=_.asymp=_.approx=h(G,"\\approx ","&asymp;"),_.isin=_.in=h(G,"\\in ","&isin;"),_.ni=_.contains=h(G,"\\ni ","&ni;"),_.notni=_.niton=_.notcontains=_.doesnotcontain=h(G,"\\not\\ni ","&#8716;"),_.sub=_.subset=h(G,"\\subset ","&sub;"),_.sup=_.supset=_.superset=h(G,"\\supset ","&sup;"),_.nsub=_.notsub=_.nsubset=_.notsubset=h(G,"\\not\\subset ","&#8836;"),_.nsup=_.notsup=_.nsupset=_.notsupset=_.nsuperset=_.notsuperset=h(G,"\\not\\supset ","&#8837;"),_.sube=_.subeq=_.subsete=_.subseteq=h(G,"\\subseteq ","&sube;"),_.supe=_.supeq=_.supsete=_.supseteq=_.supersete=_.superseteq=h(G,"\\supseteq ","&supe;"),_.nsube=_.nsubeq=_.notsube=_.notsubeq=_.nsubsete=_.nsubseteq=_.notsubsete=_.notsubseteq=h(G,"\\not\\subseteq ","&#8840;"),_.nsupe=_.nsupeq=_.notsupe=_.notsupeq=_.nsupsete=_.nsupseteq=_.notsupsete=_.notsupseteq=_.nsupersete=_.nsuperseteq=_.notsupersete=_.notsuperseteq=h(G,"\\not\\supseteq ","&#8841;"),_.N=_.naturals=_.Naturals=h(W,"\\mathbb{N}","&#8469;"),_.P=_.primes=_.Primes=_.projective=_.Projective=_.probability=_.Probability=h(W,"\\mathbb{P}","&#8473;"),_.Z=_.integers=_.Integers=h(W,"\\mathbb{Z}","&#8484;"),_.Q=_.rationals=_.Rationals=h(W,"\\mathbb{Q}","&#8474;"),_.R=_.reals=_.Reals=h(W,"\\mathbb{R}","&#8477;"),_.C=_.complex=_.Complex=_.complexes=_.Complexes=_.complexplane=_.Complexplane=_.ComplexPlane=h(W,"\\mathbb{C}","&#8450;"),_.H=_.Hamiltonian=_.quaternions=_.Quaternions=h(W,"\\mathbb{H}","&#8461;"),_.quad=_.emsp=h(W,"\\quad ","    "),_.qquad=h(W,"\\qquad ","        "),_.diamond=h(W,"\\diamond ","&#9671;"),_.bigtriangleup=h(W,"\\bigtriangleup ","&#9651;"),_.ominus=h(W,"\\ominus ","&#8854;"),_.uplus=h(W,"\\uplus ","&#8846;"),_.bigtriangledown=h(W,"\\bigtriangledown ","&#9661;"),_.sqcap=h(W,"\\sqcap ","&#8851;"),_.triangleleft=h(W,"\\triangleleft ","&#8882;"),_.sqcup=h(W,"\\sqcup ","&#8852;"),_.triangleright=h(W,"\\triangleright ","&#8883;"),_.odot=_.circledot=h(W,"\\odot ","&#8857;"),_.bigcirc=h(W,"\\bigcirc ","&#9711;"),_.dagger=h(W,"\\dagger ","&#0134;"),_.ddagger=h(W,"\\ddagger ","&#135;"),_.wr=h(W,"\\wr ","&#8768;"),_.amalg=h(W,"\\amalg ","&#8720;"),_.models=h(W,"\\models ","&#8872;"),_.prec=h(W,"\\prec ","&#8826;"),_.succ=h(W,"\\succ ","&#8827;"),_.preceq=h(W,"\\preceq ","&#8828;"),_.succeq=h(W,"\\succeq ","&#8829;"),_.simeq=h(W,"\\simeq ","&#8771;"),_.mid=h(W,"\\mid ","&#8739;"),_.ll=h(W,"\\ll ","&#8810;"),_.gg=h(W,"\\gg ","&#8811;"),_.parallel=h(W,"\\parallel ","&#8741;"),_.nparallel=h(W,"\\nparallel ","&#8742;"),_.bowtie=h(W,"\\bowtie ","&#8904;"),_.sqsubset=h(W,"\\sqsubset ","&#8847;"),_.sqsupset=h(W,"\\sqsupset ","&#8848;"),_.smile=h(W,"\\smile ","&#8995;"),_.sqsubseteq=h(W,"\\sqsubseteq ","&#8849;"),_.sqsupseteq=h(W,"\\sqsupseteq ","&#8850;"),_.doteq=h(W,"\\doteq ","&#8784;"),_.frown=h(W,"\\frown ","&#8994;"),_.vdash=h(W,"\\vdash ","&#8870;"),_.dashv=h(W,"\\dashv ","&#8867;"),_.nless=h(W,"\\nless ","&#8814;"),_.ngtr=h(W,"\\ngtr ","&#8815;"),_.longleftarrow=h(W,"\\longleftarrow ","&#8592;"),_.longrightarrow=h(W,"\\longrightarrow ","&#8594;"),_.Longleftarrow=h(W,"\\Longleftarrow ","&#8656;"),_.Longrightarrow=h(W,"\\Longrightarrow ","&#8658;"),_.longleftrightarrow=h(W,"\\longleftrightarrow ","&#8596;"),_.updownarrow=h(W,"\\updownarrow ","&#8597;"),_.Longleftrightarrow=h(W,"\\Longleftrightarrow ","&#8660;"),_.Updownarrow=h(W,"\\Updownarrow ","&#8661;"),_.mapsto=h(W,"\\mapsto ","&#8614;"),_.nearrow=h(W,"\\nearrow ","&#8599;"),_.hookleftarrow=h(W,"\\hookleftarrow ","&#8617;"),_.hookrightarrow=h(W,"\\hookrightarrow ","&#8618;"),_.searrow=h(W,"\\searrow ","&#8600;"),_.leftharpoonup=h(W,"\\leftharpoonup ","&#8636;"),_.rightharpoonup=h(W,"\\rightharpoonup ","&#8640;"),_.swarrow=h(W,"\\swarrow ","&#8601;"),_.leftharpoondown=h(W,"\\leftharpoondown ","&#8637;"),_.rightharpoondown=h(W,"\\rightharpoondown ","&#8641;"),_.nwarrow=h(W,"\\nwarrow ","&#8598;"),_.ldots=h(W,"\\ldots ","&#8230;"),_.cdots=h(W,"\\cdots ","&#8943;"),_.vdots=h(W,"\\vdots ","&#8942;"),_.ddots=h(W,"\\ddots ","&#8945;"),_.surd=h(W,"\\surd ","&#8730;"),_.triangle=h(W,"\\triangle ","&#9651;"),_.ell=h(W,"\\ell ","&#8467;"),_.top=h(W,"\\top ","&#8868;"),_.flat=h(W,"\\flat ","&#9837;"),_.natural=h(W,"\\natural ","&#9838;"),_.sharp=h(W,"\\sharp ","&#9839;"),_.wp=h(W,"\\wp ","&#8472;"),_.bot=h(W,"\\bot ","&#8869;"),_.clubsuit=h(W,"\\clubsuit ","&#9827;"),_.diamondsuit=h(W,"\\diamondsuit ","&#9826;"),_.heartsuit=h(W,"\\heartsuit ","&#9825;"),_.spadesuit=h(W,"\\spadesuit ","&#9824;"),_.parallelogram=h(W,"\\parallelogram ","&#9649;"),_.square=h(W,"\\square ","&#11036;"),_.oint=h(W,"\\oint ","&#8750;"),_.bigcap=h(W,"\\bigcap ","&#8745;"),_.bigcup=h(W,"\\bigcup ","&#8746;"),_.bigsqcup=h(W,"\\bigsqcup ","&#8852;"),_.bigvee=h(W,"\\bigvee ","&#8744;"),_.bigwedge=h(W,"\\bigwedge ","&#8743;"),_.bigodot=h(W,"\\bigodot ","&#8857;"),_.bigotimes=h(W,"\\bigotimes ","&#8855;"),_.bigoplus=h(W,"\\bigoplus ","&#8853;"),_.biguplus=h(W,"\\biguplus ","&#8846;"),_.lfloor=h(W,"\\lfloor ","&#8970;"),_.rfloor=h(W,"\\rfloor ","&#8971;"),_.lceil=h(W,"\\lceil ","&#8968;"),_.rceil=h(W,"\\rceil ","&#8969;"),_.opencurlybrace=_.lbrace=h(W,"\\lbrace ","{"),_.closecurlybrace=_.rbrace=h(W,"\\rbrace ","}"),_.lbrack=h(W,"["),_.rbrack=h(W,"]"),_.slash=h(W,"/"),_.vert=h(W,"|"),_.perp=_.perpendicular=h(W,"\\perp ","&perp;"),_.nabla=_.del=h(W,"\\nabla ","&nabla;"),_.hbar=h(W,"\\hbar ","&#8463;"),_.AA=_.Angstrom=_.angstrom=h(W,"\\text\\AA ","&#8491;"),_.ring=_.circ=_.circle=h(W,"\\circ ","&#8728;"),_.bull=_.bullet=h(W,"\\bullet ","&bull;"),_.setminus=_.smallsetminus=h(W,"\\setminus ","&#8726;"),_["¬"]=_.neg=h(W,"\\neg ","&not;"),_.not=f(W,function(t,e){t.suffixes={"\\in":"notin","\\ni":"notni","\\subset":"notsubset","\\subseteq":"notsubseteq","\\supset":"notsupset","\\supseteq":"notsupseteq"},t.init=function(){return e.init.call(this,"\\neg ","&not;")},t.parser=function(){var e=N.succeed,i=N.optWhitespace;return function t(e){var i=N.string(e.shift());return e.length?i.or(t(e)):i}(Object.keys(t.suffixes).sort(function(t,e){return e.length-t.length})).then(function(n){return i.then(e(_[t.suffixes[n]]()))}).or(i.then(e(this)))}}),_["…"]=_.dots=_.ellip=_.hellip=_.ellipsis=_.hellipsis=h(W,"\\dots ","&hellip;"),_.converges=_.darr=_.dnarr=_.dnarrow=_.downarrow=h(W,"\\downarrow ","&darr;"),_.dArr=_.dnArr=_.dnArrow=_.Downarrow=h(W,"\\Downarrow ","&dArr;"),_.diverges=_.uarr=_.uparrow=h(W,"\\uparrow ","&uarr;"),_.uArr=_.Uparrow=h(W,"\\Uparrow ","&uArr;"),_.to=h(G,"\\to ","&rarr;"),_.rarr=_.rightarrow=h(W,"\\rightarrow ","&rarr;"),_.implies=h(G,"\\Rightarrow ","&rArr;"),_.rArr=_.Rightarrow=h(W,"\\Rightarrow ","&rArr;"),_.gets=h(G,"\\gets ","&larr;"),_.larr=_.leftarrow=h(W,"\\leftarrow ","&larr;"),_.impliedby=h(G,"\\Leftarrow ","&lArr;"),_.lArr=_.Leftarrow=h(W,"\\Leftarrow ","&lArr;"),_.harr=_.lrarr=_.leftrightarrow=h(W,"\\leftrightarrow ","&harr;"),_.iff=h(G,"\\Leftrightarrow ","&hArr;"),_.hArr=_.lrArr=_.Leftrightarrow=h(W,"\\Leftrightarrow ","&hArr;"),_.Re=_.Real=_.real=h(W,"\\Re ","&real;"),_.Im=_.imag=_.image=_.imagin=_.imaginary=_.Imaginary=h(W,"\\Im ","&image;"),_.part=_.partial=h(W,"\\partial ","&part;"),_.infty=_.infin=_.infinity=h(W,"\\infty ","&infin;"),_.alef=_.alefsym=_.aleph=_.alephsym=h(W,"\\aleph ","&alefsym;"),_.xist=_.xists=_.exist=_.exists=h(W,"\\exists ","&exist;"),_.nexists=_.nexist=h(W,"\\nexists ","&#8708;"),_.and=_.land=_.wedge=h(G,"\\wedge ","&and;"),_.or=_.lor=_.vee=h(G,"\\vee ","&or;"),_.o=_.O=_.empty=_.emptyset=_.oslash=_.Oslash=_.nothing=_.varnothing=h(G,"\\varnothing ","&empty;"),_.cup=_.union=h(G,"\\cup ","&cup;"),_.cap=_.intersect=_.intersection=h(G,"\\cap ","&cap;"),_.deg=_.degree=h(W,"\\degree ","&deg;"),_.ang=_.angle=h(W,"\\angle ","&ang;"),_.measuredangle=h(W,"\\measuredangle ","&#8737;");var tt=f(W,function(t,e){t.createLeftOf=function(t){t.options.autoSubscriptNumerals&&t.parent!==t.parent.parent.sub&&(t[p]instanceof et&&!1!==t[p].isItalic||t[p]instanceof _t&&t[p][p]instanceof et&&!1!==t[p][p].isItalic)?(_._().createLeftOf(t),e.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):e.createLeftOf.call(this,t)}}),et=f(U,function(t,e){t.init=function(t,i){e.init.call(this,t,"<var>"+(i||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return this.isPartOfOperator?"\\"==t[0]?t=t.slice(1,t.length):" "==t[t.length-1]&&(t=t.slice(0,-1)):(!this[p]||this[p]instanceof et||this[p]instanceof G||"\\ "===this[p].ctrlSeq||(t="*"+t),!this[m]||this[m]instanceof G||this[m]instanceof _t||(t+="*")),t}});j.p.autoCommands={_maxLength:0},M.autoCommands=function(t){if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),i={},n=0,o=0;o<e.length;o+=1){var a=e[o];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';if(_[a]===at)throw'"'+a+'" is a built-in operator name';i[a]=1,n=r(n,a.length)}return i._maxLength=n,i};var it=f(et,function(t,e){function i(t){return!t||t instanceof G||t instanceof St}t.init=function(t){return e.init.call(this,this.letter=t)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments);var i=t.options.autoCommands,n=i._maxLength;if(n>0){for(var o="",r=this,a=0;r instanceof it&&r.ctrlSeq===r.letter&&a<n;)o=r.letter+o,r=r[p],a+=1;for(;o.length;){if(i.hasOwnProperty(o)){for(a=1,r=this;a<o.length;a+=1,r=r[p]);return w(r,this).remove(),t[p]=r[p],_[o](o).createLeftOf(t)}o=o.slice(1)}}},t.italicize=function(t){return this.isItalic=t,this.isPartOfOperator=!t,this.jQ.toggleClass("mq-operator-name",!t),this},t.finalizeTree=t.siblingDeleted=t.siblingCreated=function(t,e){e!==p&&this[m]instanceof it||this.autoUnItalicize(t)},t.autoUnItalicize=function(t){var e=t.autoOperatorNames;if(0!==e._maxLength){for(var n=this.letter,r=this[p];r instanceof it;r=r[p])n=r.letter+n;for(var a=this[m];a instanceof it;a=a[m])n+=a.letter;w(r[m]||this.parent.ends[p],a[p]||this.parent.ends[m]).each(function(t){t.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),t.ctrlSeq=t.letter});t:for(var s=0,l=r[m]||this.parent.ends[p];s<n.length;s+=1,l=l[m])for(var c=o(e._maxLength,n.length-s);c>0;c-=1){var u=n.slice(s,s+c);if(e.hasOwnProperty(u)){for(var h=0,d=l;h<c;h+=1,d=d[m]){d.italicize(!1);var f=d}var g=nt.hasOwnProperty(u);if(l.ctrlSeq=(g?"\\":"\\operatorname{")+l.ctrlSeq,f.ctrlSeq+=g?" ":"}",rt.hasOwnProperty(u)&&f[p][p][p].jQ.addClass("mq-last"),i(l[p])||l.jQ.addClass("mq-first"),!i(f[m]))if(f[m]instanceof _t){var v=f[m];(v.siblingCreated=v.siblingDeleted=function(){v.jQ.toggleClass("mq-after-operator-name",!(v[m]instanceof Et))})()}else f.jQ.toggleClass("mq-last",!(f[m]instanceof Et));s+=c-1,l=f;continue t}}}}}),nt={},ot=j.p.autoOperatorNames={_maxLength:9},rt={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var t="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),e=0;e<t.length;e+=1)nt[t[e]]=ot[t[e]]=1;var i="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(e=0;e<i.length;e+=1)nt[i[e]]=1;var n="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(e=0;e<n.length;e+=1)ot[n[e]]=ot["arc"+n[e]]=ot[n[e]+"h"]=ot["ar"+n[e]+"h"]=ot["arc"+n[e]+"h"]=1;var o="gcf hcf lcm proj span".split(" ");for(e=0;e<o.length;e+=1)ot[o[e]]=1}(),M.autoOperatorNames=function(t){if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),i={},n=0,o=0;o<e.length;o+=1){var a=e[o];if(a.length<2)throw'"'+a+'" not minimum length of 2';i[a]=1,n=r(n,a.length)}return i._maxLength=n,i};var at=f(U,function(t,e){t.init=function(t){this.ctrlSeq=t},t.createLeftOf=function(t){for(var e=this.ctrlSeq,i=0;i<e.length;i+=1)it(e.charAt(i)).createLeftOf(t)},t.parser=function(){for(var t=this.ctrlSeq,e=Q(),i=0;i<t.length;i+=1)it(t.charAt(i)).adopt(e,e.ends[m],0);return N.succeed(e.children())}});for(var st in ot)ot.hasOwnProperty(st)&&(_[st]=at);_.operatorname=f(H,function(t){t.createLeftOf=a,t.numBlocks=function(){return 1},t.parser=function(){return q.block.map(function(t){return t.children()})}}),_.f=f(it,function(t,e){t.init=function(){U.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},t.italicize=function(t){return this.jQ.html("f").toggleClass("mq-f",t),e.italicize.apply(this,arguments)}}),_[" "]=_.space=h(W,"\\ ","&nbsp;"),_["'"]=_.prime=h(W,"'","&prime;"),_["″"]=_.dprime=h(W,"″","&Prime;"),_.backslash=h(W,"\\backslash ","\\"),x["\\"]||(x["\\"]=_.backslash),_.$=h(W,"\\$","$");var lt=f(U,function(t,e){t.init=function(t,i){e.init.call(this,t,'<span class="mq-nonSymbola">'+(i||t)+"</span>")}});_["@"]=lt,_["&"]=h(lt,"\\&","&amp;"),_["%"]=h(lt,"\\%","%"),_.alpha=_.beta=_.gamma=_.delta=_.zeta=_.eta=_.theta=_.iota=_.kappa=_.mu=_.nu=_.xi=_.omicron=_.rho=_.sigma=_.tau=_.chi=_.psi=_.omega=f(et,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}),_.phi=h(et,"\\phi ","&#981;"),_.phiv=_.varphi=h(et,"\\varphi ","&phi;"),_.epsilon=h(et,"\\epsilon ","&#1013;"),_.epsiv=_.varepsilon=h(et,"\\varepsilon ","&epsilon;"),_.piv=_.varpi=h(et,"\\varpi ","&piv;"),_.sigmaf=_.sigmav=_.varsigma=h(et,"\\varsigma ","&sigmaf;"),_.thetav=_.vartheta=_.thetasym=h(et,"\\vartheta ","&thetasym;"),_.upsilon=_.upsi=h(et,"\\upsilon ","&upsilon;"),_.gammad=_.Gammad=_.digamma=h(et,"\\digamma ","&#989;"),_.kappav=_.varkappa=h(et,"\\varkappa ","&#1008;"),_.rhov=_.varrho=h(et,"\\varrho ","&#1009;"),_.pi=_["π"]=h(lt,"\\pi ","&pi;"),_.lambda=h(lt,"\\lambda ","&lambda;"),_.Upsilon=_.Upsi=_.upsih=_.Upsih=h(U,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),_.Gamma=_.Delta=_.Theta=_.Lambda=_.Xi=_.Pi=_.Sigma=_.Phi=_.Psi=_.Omega=_.forall=f(W,function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}});var ct=f(H,function(t){t.init=function(t){this.latex=t},t.createLeftOf=function(t){var e=q.parse(this.latex);e.children().adopt(t.parent,t[p],t[m]),t[p]=e.ends[m],e.jQize().insertBefore(t.jQ),e.finalizeInsert(t.options,t),e.ends[m][m].siblingCreated&&e.ends[m][m].siblingCreated(t.options,p),e.ends[p][p].siblingCreated&&e.ends[p][p].siblingCreated(t.options,m),t.parent.bubble("reflow")},t.parser=function(){var t=q.parse(this.latex).children();return N.succeed(t)}});_["¹"]=h(ct,"^1"),_["²"]=h(ct,"^2"),_["³"]=h(ct,"^3"),_["¼"]=h(ct,"\\frac14"),_["½"]=h(ct,"\\frac12"),_["¾"]=h(ct,"\\frac34");var ut=f(G,function(t){t.init=W.prototype.init,t.contactWeld=t.siblingCreated=t.siblingDeleted=function(t,e){if(e!==m)return this.jQ[0].className=function t(e){return e[p]?e[p]instanceof G||/^[,;:\(\[]$/.test(e[p].ctrlSeq)?"":"mq-binary-operator":e.parent&&e.parent.parent&&e.parent.parent.isStyleBlock()?t(e.parent.parent):""}(this),this}});_["+"]=h(ut,"+","+"),_["–"]=_["-"]=h(ut,"-","&minus;"),_["±"]=_.pm=_.plusmn=_.plusminus=h(ut,"\\pm ","&plusmn;"),_.mp=_.mnplus=_.minusplus=h(ut,"\\mp ","&#8723;"),x["*"]=_.sdot=_.cdot=h(G,"\\cdot ","&middot;","*");var ht=f(G,function(t,e){t.init=function(t,i){this.data=t,this.strict=i;var n=i?"Strict":"";e.init.call(this,t["ctrlSeq"+n],t["html"+n],t["text"+n])},t.swap=function(t){this.strict=t;var e=t?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+e],this.jQ.html(this.data["html"+e]),this.textTemplate=[this.data["text"+e]]},t.deleteTowards=function(t,i){if(t===p&&!this.strict)return this.swap(!0),void this.bubble("reflow");e.deleteTowards.apply(this,arguments)}}),dt={ctrlSeq:"\\le ",html:"&le;",text:"≤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},ft={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};_["<"]=_.lt=h(ht,dt,!0),_[">"]=_.gt=h(ht,ft,!0),_["≤"]=_.le=_.leq=h(ht,dt,!1),_["≥"]=_.ge=_.geq=h(ht,ft,!1);var pt=f(G,function(t,e){t.init=function(){e.init.call(this,"=","=")},t.createLeftOf=function(t){if(t[p]instanceof ht&&t[p].strict)return t[p].swap(!1),void t[p].bubble("reflow");e.createLeftOf.apply(this,arguments)}});_["="]=pt,_["×"]=_.times=h(G,"\\times ","&times;","[x]"),_["÷"]=_.div=_.divide=_.divides=h(G,"\\div ","&divide;","[/]"),x["~"]=_.sim=h(G,"\\sim ","~","~");var mt,gt,vt=a,bt=document.createElement("div").style;for(var kt in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(kt in bt){gt=kt;break}gt?mt=function(t,e,i){t.css(gt,"scale("+e+","+i+")")}:"filter"in bt?(vt=function(t){t.className=t.className},mt=function(t,e,i){e/=1+(i-1)/2,t.css("fontSize",i+"em"),t.hasClass("mq-matrixed-container")||t.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var n=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')");function o(){t.css("marginRight",(n.width()-1)*(e-1)/e+"px")}o();var r=setInterval(o);v(window).load(function(){clearTimeout(r),o()})}):mt=function(t,e,i){t.css("fontSize",i+"em")};var yt=f(H,function(t,e){t.init=function(t,i,n){e.init.call(this,t,"<"+i+" "+n+">&0</"+i+">")}}),wt=f(et,function(t,e){t.symbols={C:"&#8450;",H:"&#8461;",N:"&#8469;",P:"&#8473;",Q:"&#8474;",R:"&#8477;",Z:"&#8484;"},t.init=function(t){var i=t;this.symbols[t]&&(i='<span class="mq-original">'+t+"</span>"+this.symbols[t]),e.init.call(this,t,i)}});_.mathrm=h(yt,"\\mathrm","span",'class="mq-roman mq-font"'),_.mathit=h(yt,"\\mathit","i",'class="mq-font"'),_.mathbf=h(yt,"\\mathbf","b",'class="mq-font"'),_.mathsf=h(yt,"\\mathsf","span",'class="mq-sans-serif mq-font"'),_.mathtt=h(yt,"\\mathtt","span",'class="mq-monospace mq-font"'),_.mathbb=f(H,function(t,e){t.init=function(){e.init.call(this,"\\mathbb",'<span class="mq-mathbb mq-font">&0</span>')},t.adopt=function(){return this.eachChild(function(t){if(!t.writeOverride){var e=t.write,i=t.deleteOutOf;t.write=t.writeOverride=function(i,n,o){var r;if(!wt.prototype.symbols[n])return e.apply(t,arguments);r=wt(n),o&&r.replaces(o),r.createLeftOf(i)},t.deleteOutOf=function(e,n){var o=[];return t.eachChild(function(e){var i=e.ctrlSeq;o.push(et(i).adopt(t,t.ends[m],0)),e.remove()}),o.length&&(n[m]=o[0]),t.jQize().appendTo(t.jQ),i.apply(t,arguments)}}}),e.adopt.apply(this,arguments)},t.finalizeTree=function(){this.eachChild(function(t){t.eachChild(function(e){var i=e.ctrlSeq,n=et;wt.prototype.symbols[i]&&(n=wt),n(i).adopt(t,t.ends[m],0),e.remove()}),t.jQize().appendTo(t.jQ)})}}),_.underline=h(yt,"\\underline","span",'class="mq-non-leaf mq-underline"'),_.overline=_.bar=h(yt,"\\overline","span",'class="mq-non-leaf mq-overline"'),_.overrightarrow=h(yt,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),_.overleftarrow=h(yt,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),_.overleftrightarrow=h(yt,"\\overleftrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-both"'),_.overarc=h(yt,"\\overarc","span",'class="mq-non-leaf mq-overarc"'),_.dot=f(H,function(t,e){t.init=function(){e.init.call(this,"\\dot",'<span class="mq-non-leaf"><span class="mq-dot-recurring-inner"><span class="mq-dot-recurring">&#x2d9;</span><span class="mq-empty-box">&0</span></span></span>')}});_.textcolor=f(H,function(t,e){t.setColor=function(t){this.color=t,this.htmlTemplate='<span class="mq-textcolor" style="color:'+t+'">&0</span>'},t.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},t.parser=function(){var t=this,i=N.optWhitespace,n=N.string,o=N.regex;return i.then(n("{")).then(o(/^[#\w\s.,()%-]*/)).skip(n("}")).then(function(i){return t.setColor(i),e.parser.call(t)})},t.isStyleBlock=function(){return!0}}),_.class=f(H,function(t,e){t.parser=function(){var t=this,i=N.string,n=N.regex;return N.optWhitespace.then(i("{")).then(n(/^[-\w\s\\\xA0-\xFF]*/)).skip(i("}")).then(function(i){return t.cls=i||"",t.htmlTemplate='<span class="mq-class '+i+'">&0</span>',e.parser.call(t)})},t.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},t.isStyleBlock=function(){return!0}});var _t=f(H,function(t,e){t.ctrlSeq="_{...}^{...}",t.createLeftOf=function(t){if(this.replacedFragment||t[p]||!t.options.supSubsRequireOperand)return e.createLeftOf.apply(this,arguments)},t.contactWeld=function(t){for(var e=p;e;e=e===p&&m)if(this[e]instanceof _t){for(var i="sub";i;i="sub"===i&&"sup"){var n=this[i],o=this[e][i];if(n){if(o)if(n.isEmpty())a=b(o,0,o.ends[p]);else{n.jQ.children().insAtDirEnd(-e,o.jQ);var r=n.children().disown(),a=b(o,r.ends[m],o.ends[p]);e===p?r.adopt(o,o.ends[m],0):r.adopt(o,0,o.ends[p])}else this[e].addBlock(n.disown());this.placeCursor=function(t,i){return function(n){n.insAtDirEnd(-e,t||i)}}(o,n)}}this.remove(),t&&t[p]===this&&(e===m&&a?a[p]?t.insRightOf(a[p]):t.insAtLeftEnd(a.parent):t.insRightOf(this[e]));break}},j.p.charsThatBreakOutOfSupSub="",t.finalizeTree=function(){this.ends[p].write=function(t,e){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===e)return;var i=this.chToCmd(e,t.options);return i instanceof U?t.deleteSelection():t.clearSelection().insRightOf(this.parent),i.createLeftOf(t.show())}t[p]&&!t[m]&&!t.selection&&t.options.charsThatBreakOutOfSupSub.indexOf(e)>-1&&t.insRightOf(this.parent),Q.p.write.apply(this,arguments)}},t.moveTowards=function(t,i,n){i.options.autoSubscriptNumerals&&!this.sup?i.insDirOf(t,this):e.moveTowards.apply(this,arguments)},t.deleteTowards=function(t,i){if(i.options.autoSubscriptNumerals&&this.sub){var n=this.sub.ends[-t];n instanceof U?n.remove():n&&n.deleteTowards(t,i.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(p,i.insAtLeftEnd(this.sub)),this.sup&&i.insDirOf(-t,this))}else e.deleteTowards.apply(this,arguments)},t.latex=function(){function t(t,e){var i=e&&e.latex();return e?t+(1===i.length?i:"{"+(i||" ")+"}"):""}return t("_",this.sub)+t("^",this.sup)},t.addBlock=function(t){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=t,t.adopt(this,this.sub,0).downOutOf=this.sub,t.jQ=v('<span class="mq-sup"/>').append(t.jQ.children()).attr(n,t.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=t,t.adopt(this,0,this.sup).upOutOf=this.sup,t.jQ=v('<span class="mq-sub"></span>').append(t.jQ.children()).attr(n,t.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var e=0;e<2;e+=1)!function(t,e,i,n){t[e].deleteOutOf=function(o,r){if(r.insDirOf(this[o]?-o:o,this.parent),!this.isEmpty()){var a=this.ends[o];this.children().disown().withDirAdopt(o,r.parent,r[o],r[-o]).jQ.insDirOf(-o,r.jQ),r[-o]=a}t.supsub=i,delete t[e],delete t[n+"Into"],t[i][n+"OutOf"]=xt,delete t[i].deleteOutOf,"sub"===e&&v(t.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[e],"sup sub".split(" ")[e],"down up".split(" ")[e])}});function xt(t){var e=this.parent,i=t;do{if(i[m])return t.insLeftOf(e);i=i.parent.parent}while(i!==e);t.insRightOf(e)}_.subscript=_._=f(_t,function(t,e){t.supsub="sub",t.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["_"],t.finalizeTree=function(){this.downInto=this.sub=this.ends[p],this.sub.upOutOf=xt,e.finalizeTree.call(this)}}),_.superscript=_.supscript=_["^"]=f(_t,function(t,e){t.supsub="sup",t.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',t.textTemplate=["^"],t.finalizeTree=function(){this.upInto=this.sup=this.ends[m],this.sup.downOutOf=xt,e.finalizeTree.call(this)},t.reflow=function(){var t=this.jQ,e=t.prev().innerHeight();e*=.6,t.css("vertical-align",e+"px")}});var St=f(H,function(t,e){t.init=function(t,e){var i='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+e+'</big><span class="mq-from"><span>&0</span></span></span>';U.prototype.init.call(this,t,i)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments),t.options.sumStartsWithNEquals&&(it("n").createLeftOf(t),pt().createLeftOf(t))},t.latex=function(){function t(t){return 1===t.length?t:"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[p].latex())+"^"+t(this.ends[m].latex())},t.parser=function(){for(var t=N.string,e=N.optWhitespace,i=N.succeed,n=q.block,o=this,r=o.blocks=[Q(),Q()],a=0;a<r.length;a+=1)r[a].adopt(o,o.ends[m],0);return e.then(t("_").or(t("^"))).then(function(t){var e=r["_"===t?0:1];return n.then(function(t){return t.children().adopt(e,e.ends[m],0),i(o)})}).many().result(o)},t.finalizeTree=function(){this.downInto=this.ends[p],this.upInto=this.ends[m],this.ends[p].upOutOf=this.ends[m],this.ends[m].downOutOf=this.ends[p]}});_["∑"]=_.sum=_.summation=h(St,"\\sum ","&sum;"),_["∏"]=_.prod=_.product=h(St,"\\prod ","&prod;"),_.coprod=_.coproduct=h(St,"\\coprod ","&#8720;"),_["∫"]=_.int=_.integral=f(St,function(t,e){t.init=function(){U.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},t.createLeftOf=H.p.createLeftOf});var Ct=_.frac=_.dfrac=_.cfrac=_.fraction=f(H,function(t,e){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["(",")/(",")"],t.finalizeTree=function(){this.upInto=this.ends[m].upOutOf=this.ends[p],this.downInto=this.ends[p].downOutOf=this.ends[m]}}),At=_.over=x["/"]=f(Ct,function(t,e){t.createLeftOf=function(t){if(!this.replacedFragment){for(var i=t[p];i&&!(i instanceof G||i instanceof(_.text||a)||i instanceof St||"\\ "===i.ctrlSeq||/^[,;:]$/.test(i.ctrlSeq));)i=i[p];i instanceof St&&i[m]instanceof _t&&(i=i[m])[m]instanceof _t&&i[m].ctrlSeq!=i.ctrlSeq&&(i=i[m]),i!==t[p]&&(this.replaces(w(i[m]||t.parent.ends[p],t[p])),t[p]=i)}e.createLeftOf.call(this,t)}}),Tt=_.sqrt=_["√"]=f(H,function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return q.optBlock.then(function(t){return q.block.map(function(e){var i=jt();return i.blocks=[t,e],t.adopt(i,0,0),e.adopt(i,t,0),i})}).or(e.parser.call(this))},t.reflow=function(){var t=this.ends[m].jQ;mt(t.prev(),1,t.innerHeight()/+t.css("fontSize").slice(0,-2)-.1)}}),jt=(_.hat=f(H,function(t,e){t.ctrlSeq="\\hat",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-hat-prefix">^</span><span class="mq-hat-stem">&0</span></span>',t.textTemplate=["hat(",")"]}),_.nthroot=f(Tt,function(t,e){t.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.ends[p].latex()+"]{"+this.ends[m].latex()+"}"}})),Mt=f(H,function(t,e){t.init=function(t,i,n){var o='<span class="mq-non-leaf"><span class="mq-diacritic-above">'+i+'</span><span class="mq-diacritic-stem">&0</span></span>';e.init.call(this,t,o,n)}});function zt(t,e){t.jQadd=function(){e.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},t.reflow=function(){var t=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));mt(this.delimjQs,o(1+.2*(t-1),1.2),1.2*t)}}_.vec=h(Mt,"\\vec","&rarr;",["vec(",")"]),_.tilde=h(Mt,"\\tilde","~",["tilde(",")"]);var Et=f(f(H,zt),function(t,i){t.init=function(t,n,o,r,a){i.init.call(this,"\\left"+r,e,[n,o]),this.side=t,this.sides={},this.sides[p]={ch:n,ctrlSeq:r},this.sides[m]={ch:o,ctrlSeq:a}},t.numBlocks=function(){return 1},t.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===m?" mq-ghost":"")+'">'+this.sides[p].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===p?" mq-ghost":"")+'">'+this.sides[m].ch+"</span></span>",i.html.call(this)},t.latex=function(){return"\\left"+this.sides[p].ctrlSeq+this.ends[p].latex()+"\\right"+this.sides[m].ctrlSeq},t.matchBrack=function(t,e,i){return i instanceof Et&&i.side&&i.side!==-e&&(!t.restrictMismatchedBrackets||It[this.sides[this.side].ch]===i.sides[i.side].ch||{"(":"]","[":")"}[this.sides[p].ch]===i.sides[m].ch)&&i},t.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side],t.delimjQs.eq(this.side===p?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},t.createLeftOf=function(t){if(!this.replacedFragment){var e=t.options;if("|"===this.sides[p].ch)var n=this.matchBrack(e,m,t[m])||this.matchBrack(e,p,t[p])||this.matchBrack(e,0,t.parent.parent);else n=this.matchBrack(e,-this.side,t[-this.side])||this.matchBrack(e,-this.side,t.parent.parent)}if(n){var o=this.side=-n.side;this.closeOpposing(n),n===t.parent.parent&&t[o]&&w(t[o],t.parent.ends[o],-o).disown().withDirAdopt(-o,n.parent,n,n[o]).jQ.insDirOf(o,n.jQ),n.bubble("reflow")}else o=(n=this).side,n.replacedFragment?n.side=0:t[-o]&&(n.replaces(w(t[-o],t.parent.ends[-o],o)),t[-o]=0),i.createLeftOf.call(n,t);o===p?t.insAtLeftEnd(n.ends[p]):t.insRightOf(n)},t.placeCursor=a,t.unwrap=function(){this.ends[p].children().disown().adopt(this.parent,this,this[m]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(t,e,i){var n=this.parent,o=this[t],r=n.ends[t];if(t===this.side)return this.unwrap(),void(o?i.insDirOf(-t,o):i.insAtDirEnd(t,n));var a=i.options,s=!this.side;if(this.side=-t,this.matchBrack(a,t,this.ends[p].ends[this.side])){this.closeOpposing(this.ends[p].ends[this.side]);var l=this.ends[p].ends[t];this.unwrap(),l.siblingCreated&&l.siblingCreated(i.options,t),o?i.insDirOf(-t,o):i.insAtDirEnd(t,n)}else{if(this.matchBrack(a,t,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(e&&s)return this.unwrap(),void(o?i.insDirOf(-t,o):i.insAtDirEnd(t,n));this.sides[t]={ch:It[this.sides[this.side].ch],ctrlSeq:It[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(t===p?0:1).addClass("mq-ghost").html(this.sides[t].ch)}if(o){l=this.ends[p].ends[t];w(o,r,-t).disown().withDirAdopt(-t,this.ends[p],l,0).jQ.insAtDirEnd(t,this.ends[p].jQ.removeClass("mq-empty")),l.siblingCreated&&l.siblingCreated(i.options,t),i.insDirOf(-t,o)}else e?i.insDirOf(t,this):i.insAtDirEnd(t,this.ends[p])}},t.deleteTowards=function(t,e){this.deleteSide(-t,!1,e)},t.finalizeTree=function(){this.ends[p].deleteOutOf=function(t,e){this.parent.deleteSide(t,!0,e)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===p?1:0).removeClass("mq-ghost"),this.side=0}},t.siblingCreated=function(t,e){e===-this.side&&this.finalizeTree()}}),It={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "};function Dt(t,e){e=e||t;var i=It[t],n=It[e];x[t]=h(Et,p,t,i,e,n),x[i]=h(Et,m,t,i,e,n)}Dt("("),Dt("["),Dt("{","\\{"),_.langle=h(Et,p,"&lang;","&rang;","\\langle ","\\rangle "),_.rangle=h(Et,m,"&lang;","&rang;","\\langle ","\\rangle "),x["|"]=h(Et,p,"|","|","|","|"),_.lVert=h(Et,p,"&#8741;","&#8741;","\\lVert ","\\rVert "),_.rVert=h(Et,m,"&#8741;","&#8741;","\\lVert ","\\rVert "),_.left=f(H,function(t){t.parser=function(){var t=N.regex,e=N.string,i=(N.succeed,N.optWhitespace);return i.then(t(/^(?:[([|]|\\\{|\\langle\b|\\lVert\b)/)).then(function(n){var o="\\"===n.charAt(0)?n.slice(1):n;return"\\langle"==n&&(o="&lang;",n+=" "),"\\lVert"==n&&(o="&#8741;",n+=" "),q.then(function(r){return e("\\right").skip(i).then(t(/^(?:[\])|]|\\\}|\\rangle\b|\\rVert\b)/)).map(function(t){var e="\\"===t.charAt(0)?t.slice(1):t;"\\rangle"==t&&(e="&rang;",t+=" "),"\\rVert"==t&&(e="&#8741;",t+=" ");var i=Et(0,o,e,n,t);return i.blocks=[r],r.adopt(i,0,0),i})})})}}),_.right=f(H,function(t){t.parser=function(){return N.fail("unmatched \\right")}});var Ot=_.binom=_.binomial=f(f(H,zt),function(t,e){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',t.textTemplate=["choose(",",",")"]});_.choose=f(Ot,function(t){t.createLeftOf=At.prototype.createLeftOf});_.editable=_.MathQuillMathField=f(H,function(t,e){t.ctrlSeq="\\MathQuillMathField",t.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',t.parser=function(){var t=this,i=N.string,n=N.regex,o=N.succeed;return i("[").then(n(/^[a-z][a-z0-9]*/i)).skip(i("]")).map(function(e){t.name=e}).or(o()).then(e.parser.call(t))},t.finalizeTree=function(t){var e=A(this.ends[p],this.jQ,t);e.KIND_OF_MQ="MathField",e.editable=!0,e.createTextarea(),e.editablesTextareaEvents(),e.cursor.insAtRightEnd(e.root),F(e.root)},t.registerInnerField=function(t,e){t.push(t[this.name]=e(this.ends[p].controller))},t.text=function(){return this.ends[p].text()}});var Pt=_.embed=f(U,function(t,e){t.setOptions=function(t){function e(){return""}return this.text=t.text||e,this.htmlTemplate=t.htmlString||"",this.latex=t.latex||e,this},t.parser=function(){var t=this,e=N.string,i=N.regex,n=N.succeed;return e("{").then(i(/^[a-z][a-z0-9]*/i)).skip(e("}")).then(function(o){return e("[").then(i(/^[-\w\s]*/)).skip(e("]")).or(n()).map(function(e){return t.setOptions(E[o](e))})})}}),Rt={};_.begin=f(H,function(t,e){t.parser=function(){var t=N.string,e=N.regex;return t("{").then(e(/^[a-z]+/i)).skip(t("}")).then(function(e){return(Rt[e]?Rt[e]().parser():N.fail("unknown environment type: "+e)).skip(t("\\end{"+e+"}"))})}});var Lt=f(H,function(t,e){t.template=[["\\begin{","}"],["\\end{","}"]],t.wrappers=function(){return[t.template[0].join(this.environment),t.template[1].join(this.environment)]}}),Ft=Rt.matrix=f(Lt,function(t,e){var i="&",r="\\\\";t.parentheses={left:null,right:null},t.environment="matrix",t.reflow=function(){var t=this.jQ.children("table"),e=t.outerHeight()/+t.css("fontSize").slice(0,-2),i=this.jQ.children(".mq-paren");i.length&&mt(i,o(1+.2*(e-1),1.2),1.05*e)},t.latex=function(){var t,e="";return this.eachChild(function(n){void 0!==t&&(e+=t!==n.row?r:i),t=n.row,e+=n.latex()}),this.wrappers().join(e)},t.html=function(){var t,i=[],n="",o=0;function r(t){return t?'<span class="mq-scaled mq-paren">'+t+"</span>":""}return this.eachChild(function(e){t!==e.row&&(t=e.row,n+="<tr>$tds</tr>",i[t]=[]),i[t].push("<td>&"+o+++"</td>")}),this.htmlTemplate='<span class="mq-matrix mq-non-leaf">'+r(this.parentheses.left)+'<table class="mq-non-leaf">'+n.replace(/\$tds/g,function(){return i.shift().join("")})+"</table>"+r(this.parentheses.right)+"</span>",e.html.call(this)},t.createBlocks=function(){this.blocks=[Nt(0,this),Nt(0,this),Nt(1,this),Nt(1,this)]},t.parser=function(){var t=this,e=N.optWhitespace,n=N.string;return e.then(n(i).or(n(r)).or(q.block)).many().skip(e).then(function(e){var i=[],n=0;function o(){t.blocks.push(Nt(n,t,i)),i=[]}t.blocks=[];for(var a=0;a<e.length;a+=1)e[a]instanceof Q?i.push(e[a]):(o(),e[a]===r&&(n+=1));return o(),t.autocorrect(),N.succeed(t)})},t.finalizeTree=function(){var t=this.jQ.find("table");t.toggleClass("mq-rows-1",1===t.find("tr").length),this.relink()},t.relink=function(){for(var t,e,i,n=this.blocks,o=[],r=0;r<n.length;r+=1)t!==(i=n[r]).row&&(o[t=i.row]=[],e=0),o[t][e]=i,i[m]=n[r+1],i[p]=n[r-1],o[t-1]&&o[t-1][e]&&(i.upOutOf=o[t-1][e],o[t-1][e].downOutOf=i),e+=1;this.ends[p]=n[0],this.ends[m]=n[n.length-1]},t.autocorrect=function(t){var e,i,n,o,r,a=[],s=(t=[],this.blocks);for(r=0;r<s.length;r+=1)t[o=s[r].row]=t[o]||[],t[o].push(s[r]),a[o]=t[o].length;if((e=Math.max.apply(null,a))!==Math.min.apply(null,a)){for(r=0;r<t.length;r+=1)for(i=e-t[r].length;i;)n=e*r+t[r].length,s.splice(n,0,Nt(r,this)),i-=1;this.relink()}},t.deleteCell=function(t){var e,i,n=[],o=[],r=[],a=[],s=this.blocks;function l(t){for(var e=[],i=0;i<t.length;i+=1)t[i].isEmpty()&&e.push(t[i]);return e.length===t.length}function c(t){for(var e=0;e<t.length;e+=1)s.indexOf(t[e])>-1&&(t[e].remove(),s.splice(s.indexOf(t[e]),1))}this.eachChild(function(s){e!==s.row&&(e=s.row,n[e]=[],i=0),o[i]=o[i]||[],o[i].push(s),n[e].push(s),s===t&&(r=n[e],a=o[i]),i+=1}),l(r)&&a.length>1&&(e=n.indexOf(r),this.eachChild(function(t){t.row>e&&(t.row-=1)}),c(r),this.jQ.find("tr").eq(e).remove()),l(a)&&r.length>1&&c(a),this.finalizeTree()},t.addRow=function(t){var e,i,o=[],r=[],a=[],s=v("<tr></tr>"),l=t.row,c=0;this.eachChild(function(e){e.row<=l&&o.push(e),e.row===l&&(e===t&&(i=c),c+=1),e.row>l&&(e.row+=1,a.push(e))});for(var u=0;u<c;u+=1)(e=Nt(l+1)).parent=this,r.push(e),e.jQ=v('<td class="mq-empty">').attr(n,e.id).appendTo(s);return this.jQ.find("tr").eq(l).after(s),this.blocks=o.concat(r,a),r[i]},t.addColumn=function(t){var e,i,o=[],r=[];this.eachChild(function(i){o[i.row]=o[i.row]||[],o[i.row].push(i),i===t&&(e=o[i.row].length)});for(var a=0;a<o.length;a+=1)(i=Nt(a)).parent=this,r.push(i),o[a].splice(e,0,i),i.jQ=v('<td class="mq-empty">').attr(n,i.id);return this.jQ.find("tr").each(function(t){v(this).find("td").eq(e-1).after(o[t][e].jQ)}),this.blocks=[].concat.apply([],o),r[t.row]},t.insert=function(t,e){var i=this[t](e);this.cursor=this.cursor||this.parent.cursor,this.finalizeTree(),this.bubble("reflow").cursor.insAtRightEnd(i)},t.backspace=function(t,e,i,n){var o=t[e];if(t.isEmpty()){for(this.deleteCell(t);o&&o[e]&&-1===this.blocks.indexOf(o);)o=o[e];o&&i.insAtDirEnd(-e,o),1===this.blocks.length&&this.blocks[0].isEmpty()&&(n(),this.finalizeTree()),this.bubble("edited")}}});Rt.pmatrix=f(Ft,function(t,e){t.environment="pmatrix",t.parentheses={left:"(",right:")"}}),Rt.bmatrix=f(Ft,function(t,e){t.environment="bmatrix",t.parentheses={left:"[",right:"]"}}),Rt.Bmatrix=f(Ft,function(t,e){t.environment="Bmatrix",t.parentheses={left:"{",right:"}"}}),Rt.vmatrix=f(Ft,function(t,e){t.environment="vmatrix",t.parentheses={left:"|",right:"|"}}),Rt.Vmatrix=f(Ft,function(t,e){t.environment="Vmatrix",t.parentheses={left:"&#8214;",right:"&#8214;"}});var Nt=f(Q,function(t,e){t.init=function(t,i,n){if(e.init.call(this),this.row=t,i&&this.adopt(i,i.ends[m],0),n)for(var o=0;o<n.length;o++)n[o].children().adopt(this,this.ends[m],0)},t.keystroke=function(t,i,n){switch(t){case"Shift-Spacebar":return i.preventDefault(),this.parent.insert("addColumn",this);case"Shift-Enter":return this.parent.insert("addRow",this)}return e.keystroke.apply(this,arguments)},t.deleteOutOf=function(t,i){var n=this,o=arguments;this.parent.backspace(this,t,i,function(){return e.deleteOutOf.apply(n,o)})}}),Bt=(x["\\"]=f(H,function(t,e){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){e.createBlocks.call(this),this.ends[p].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[p].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[p].write=function(t,e){t.show().deleteSelection(),e.match(/[a-z]/i)?W(e).createLeftOf(t):(this.parent.renderCommand(t),"\\"===e&&this.isEmpty()||t.parent.write(t,e))},this.ends[p].keystroke=function(t,i,n){return"Tab"===t||"Enter"===t||"Spacebar"===t?(this.parent.renderCommand(n.cursor),void i.preventDefault()):e.keystroke.apply(this,arguments)}},t.createLeftOf=function(t){if(e.createLeftOf.call(this,t),this._replacedFragment){var i=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(t){return v(t.target=i).trigger(t),!1}).insertBefore(this.jQ).add(this.jQ)}},t.latex=function(){return"\\"+this.ends[p].latex()+" "},t.renderCommand=function(t){this.jQ=this.jQ.last(),this.remove(),this[m]?t.insLeftOf(this[m]):t.insAtRightEnd(this.parent);var e=this.ends[p].latex();e||(e=" ");var i=_[e]||Rt[e];i?(i=i(e),this._replacedFragment&&i.replaces(this._replacedFragment),i.createLeftOf(t)):((i=K()).replaces(e),i.createLeftOf(t),t.insRightOf(i),this._replacedFragment&&this._replacedFragment.remove())}}),R(1));for(var qt in Bt)!function(t,e){"function"==typeof e?(D[t]=function(){return I(),e.apply(this,arguments)},D[t].prototype=e.prototype):D[t]=e}(qt,Bt[qt]);void 0!==t&&t.exports&&(t.exports=D)}()},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(20),i(69),i(84)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.ToolBar,o=(window.assert,new window.Logger("kidoju.widgets.mathinput.toolbar"));i.mathinput={messages:{}};var r=i.mathinput.messages.toolbar={field:{title:"Field"},backspace:{title:"Backspace"},keypad:{title:"KeyPad",buttons:{comma:",",stop:".",n0:"0",n1:"1",n2:"2",n3:"3",n4:"4",n5:"5",n6:"6",n7:"7",n8:"8",n9:"9",a:"a",b:"b",c:"c",i:"i",j:"j",k:"k",n:"n",p:"p",q:"q",x:"x",y:"y",z:"z",pi:"Pi",infty:"Infinity",space:"Space",subscript:"Subscript"}},basic:{title:"Basic",buttons:{equal:"Equal",plus:"Plus",minus:"Minus",cdot:"Times",times:"Times",div:"Divide",pleft:"Left parenthesis (",pright:"Right parenthesis )",frac:"Fraction",sqrt:"Square root",pow2:"Power of 2",pow3:"Power of 3",sin:"Sine",cos:"Cosine",tan:"Tangent"}},greek:{title:"Greek",buttons:{alpha:"Alpha",beta:"Beta",gamma:"Gamma",delta:"Delta",epsilon:"Epsilon",zeta:"Zeta",eta:"Eta",theta:"Theta",iota:"Iota",kappa:"Kappa",lambda:"Lambda",mu:"Mu",nu:"Nu",xi:"Xi",omicron:"Omicron",pi:"Pi",rho:"Rho",sigma:"Sigma",tau:"Tau",upsilon:"Upsilon",phi:"Phi",chi:"Chi",psi:"Psi",omega:"Omega"}},operators:{title:"Operators",buttons:{equal:"Equal",plus:"Plus",minus:"Minus",cdot:"Times",times:"Times",div:"Divide",pleft:"Left parenthesis (",pright:"Right parenthesis )",bleft:"Left square bracket [",bright:"Right square bracket ]",cleft:"Left curly bracket {",cright:"Right curly bracket }",vleft:"Left vertical line |",vright:"Right vertical line |",lt:"Lower than",le:"Lower than or equal",gt:"Greater than",ge:"Greater than or equal",neq:"Not equal",approx:"Approximate",propto:"Proportional",plusminus:"Plus-Minus",percent:"Percent",not:"Not",and:"And",or:"Or",circ:"Composition",nabla:"Nabla"}},expressions:{title:"Functions",buttons:{sqrt:"Square root",cubert:"Cube root",nthroot:"Nth root",pow2:"Power of 2",pow3:"Power of 3",pow:"Power",log:"Logarithm",log10:"Logarithm base 10",ln:"Naperian logarithm",sin:"Sine",cos:"Cosine",tan:"Tangent",arcsin:"Arc sine",arccos:"Arc cosine",arctan:"Arc tangent",deriv:"Derivative",partial:"Partial derivative",int:"Integral",oint:"Contour integral",sum:"Sum",prod:"Product",lim:"Limit"}},sets:{title:"Sets",buttons:{cset:"Complexes",pset:"Primes",nset:"Naturals",qset:"Rationals",rset:"Reals",zset:"Integers",emptyset:"Empty set",forall:"For all",exists:"Exists",nexists:"Not exists",in:"In",nin:"Not in",subset:"Subset",supset:"Superset",nsubset:"Not subset",nsupset:"Not superset",intersection:"Intersection",union:"Union",to:"To",implies:"Implies",impliedby:"Implied by",nimplies:"Not implies",iff:"Equivalent to"}},matrices:{title:"Matrices",buttons:{vector:"Vector",widehat:"Widehat (angle)",matrix:"Matrix",pmatrix:"Matrix with parentheses",bmatrix:"Matrix with square brackets",bbmatrix:"Matrix with curly braces",vmatrix:"Matrix with vertical lines",vvmatrix:"Matrix with double vertical lines",column:"Add column",row:"Add row"}},statistics:{title:"Statistics",buttons:{factorial:"Factorial",binomial:"Binomial",overline:"Overline (mean)"}}},a={separator:{type:"separator"},field:{type:"button",command:"ToolbarFieldCommand",iconClass:"field"},backspace:{type:"button",command:"ToolbarBackspaceCommand",iconClass:"backspace"},keypad:{type:"keypad",iconClass:"keypad"},basic:{type:"basic",iconClass:"basic"},greek:{type:"greek",iconClass:"greek"},operators:{type:"operators",iconClass:"operators"},expressions:{type:"expressions",iconClass:"expressions"},sets:{type:"sets",iconClass:"sets"},matrices:{type:"matrices",iconClass:"matrices"},statistics:{type:"statistics",iconClass:"statistics"}},s=n.extend({init:function(t,e){(e=e||{}).items=this._expandTools(e.tools||s.prototype.options.tools),n.fn.init.call(this,t,e),o.debug({method:"init",message:"Widget initialized"});var i=this._click.bind(this);this.element.addClass("k-spreadsheet-toolbar kj-mathinput-toolbar"),this._addSeparators(this.element),this.bind({click:i,toggle:i})},_addSeparators:function(t){t.children(".k-widget, a.k-button, .k-button-group").before('<span class="k-separator" />')},_expandTools:function(e){function n(e){var o=t.isPlainObject(e)?e:a[e]||{},s="k-icon k-font-icon k-i-"+o.iconClass,l=o.type,c={splitButton:{spriteCssClass:s},button:{showText:"overflow"},colorPicker:{toolIcon:s}},u=t.extend({name:o.name||e,text:r[o.name||e].title,spriteCssClass:s,attributes:{title:r[o.name||e].title}},c[l],o);return"splitButton"===l&&(u.menuButtons=u.menuButtons.map(n)),u.attributes[i.attr("tool")]=e,o.property&&(u.attributes[i.attr("property")]=o.property),u}return e.reduce(function(e,i){return t.isArray(i)?e.push({type:"buttonGroup",buttons:i.map(n)}):e.push(n.call(this,i)),e},[])},_click:function(t){var e=t.target.attr(i.attr("tool")),n=a[e]||{},o=n.command;if(o){var r={command:o,options:{property:n.property||null,value:n.value||null}};"boolean"==typeof r.options.value&&(r.options.value=!!t.checked||null),this.action(r)}},events:["click","toggle","open","close","overflowOpen","overflowClose","action","dialog"],options:{name:"MathInputToolBar",resizable:!0,tools:["backspace","field","keypad","basic","greek","operators","expressions","sets","matrices","statistics"]},focused:function(){return this.element.find(".k-state-focused").length>0},action:function(t){this.trigger("action",t)},dialog:function(t){this.trigger("dialog",t)},refresh:function(t){var e=t,n=this._tools();function o(t,e){var i=t.toolbar,n=t.overflow;if(i&&i.options.togglable||n&&n.options.togglable){var o=!1;"boolean"==typeof e?o=e:"string"==typeof e&&(o=i.options.value===e),i.toggle(o),n&&n.toggle(o)}}function r(t,e){var i=t.toolbar,n=t.overflow;i&&i.update&&i.update(e),n&&n.update&&n.update(e)}for(var a=0;a<n.length;a++){var s=n[a].property,l=n[a].tool,c=i.isFunction(e[s])?e[s]():e;"gridLines"===s&&(c=e.sheet().showGridLines()),"button"===l.type?o(l,c):r(l,c)}},_tools:function(){return this.element.find("["+i.attr("property")+"]").toArray().map(function(e){return{property:(e=t(e)).attr("data-property"),tool:this._getItem(e)}}.bind(this))},destroy:function(){this.element.find("[data-command],.k-button").each(function(){var e=t(this).data("instance");e&&e.destroy&&e.destroy()}),n.fn.destroy.call(this)}});i.ui.plugin(s);var l=i.toolbar.Item.extend({init:function(e,i){this.element=t('<a href="#" class="k-button k-button-icon"><span class="'+e.spriteCssClass+'"></span><span class="k-icon k-i-arrow-60-down"></span></a>'),this.element.on("click touchend",this.open.bind(this)).attr("data-command",e.command),this.options=e,this.toolbar=i,this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this._popup()},destroy:function(){this.popup.destroy()},open:function(t){t.preventDefault(),this.popup.toggle()},_popup:function(){var e=this.element;this.popup=t('<div class="k-spreadsheet-popup kj-mathinput-popup" />').appendTo(e).kendoPopup({anchor:e}).data("kendoPopup")}}),c=i.toolbar.OverflowButton.extend({init:function(t,e){i.toolbar.OverflowButton.fn.init.call(this,t,e),this.element.on("click touchend",this._click.bind(this)),this.message=this.options.text;var n=this.element.data("button");this.element.data(this.options.type,n)},_click:t.noop}),u=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"keypad",keypad:this,instance:this})},buttons:[{value:"7",iconClass:"n7",text:r.keypad.buttons.n7},{value:"8",iconClass:"n8",text:r.keypad.buttons.n8},{value:"9",iconClass:"n9",text:r.keypad.buttons.n9},{value:"a",iconClass:"a",text:r.keypad.buttons.a},{value:"b",iconClass:"b",text:r.keypad.buttons.b},{value:"c",iconClass:"c",text:r.keypad.buttons.c},{value:"4",iconClass:"n4",text:r.keypad.buttons.n4},{value:"5",iconClass:"n5",text:r.keypad.buttons.n5},{value:"6",iconClass:"n6",text:r.keypad.buttons.n6},{value:"i",iconClass:"i",text:r.keypad.buttons.i},{value:"j",iconClass:"j",text:r.keypad.buttons.j},{value:"k",iconClass:"k",text:r.keypad.buttons.k},{value:"1",iconClass:"n1",text:r.keypad.buttons.n1},{value:"2",iconClass:"n2",text:r.keypad.buttons.n2},{value:"3",iconClass:"n3",text:r.keypad.buttons.n3},{value:"n",iconClass:"n",text:r.keypad.buttons.n},{value:"p",iconClass:"p",text:r.keypad.buttons.p},{value:"q",iconClass:"q",text:r.keypad.buttons.q},{value:",",iconClass:"comma",text:r.keypad.buttons.comma},{value:"0",iconClass:"n0",text:r.keypad.buttons.n0},{value:".",iconClass:"stop",text:r.keypad.buttons.stop},{value:"x",iconClass:"x",text:r.keypad.buttons.x},{value:"y",iconClass:"y",text:r.keypad.buttons.y},{value:"z",iconClass:"z",text:r.keypad.buttons.z},{value:"\\pi",iconClass:"pi",text:r.keypad.buttons.pi},{value:"\\infty",iconClass:"infty",text:r.keypad.buttons.infty},{value:" ",iconClass:"space",text:r.keypad.buttons.space},{value:"_{ }",iconClass:"subscript",text:r.keypad.buttons.subscript}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarKeyPadCommand",params:{value:e}})}}),h=c.extend({_click:function(){this.toolbar.dialog({name:"keypad"})}});i.toolbar.registerComponent("keypad",u,h);var d=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"basic",basic:this,instance:this})},buttons:[{value:"=",iconClass:"equal",text:r.basic.buttons.equal},{value:"+",iconClass:"plus",text:r.basic.buttons.plus},{value:"-",iconClass:"minus",text:r.basic.buttons.minus},{value:"\\cdot",iconClass:"cdot",text:r.basic.buttons.cdot},{value:"\\times",iconClass:"times",text:r.basic.buttons.times},{value:"\\div",iconClass:"div",text:r.basic.buttons.div},{value:"(",iconClass:"pleft",text:r.basic.buttons.pleft},{value:"\\right)",iconClass:"pright",text:r.basic.buttons.pright},{value:"\\frac",iconClass:"frac",text:r.basic.buttons.frac},{value:"\\sqrt",iconClass:"sqrt",text:r.basic.buttons.sqrt},{value:"^2",iconClass:"pow2",text:r.basic.buttons.pow2},{value:"^3",iconClass:"pow3",text:r.basic.buttons.pow3},{value:"\\sin\\left(\\right)",iconClass:"sin",text:r.basic.buttons.sin},{value:"\\cos\\left(\\right)",iconClass:"cos",text:r.basic.buttons.cos},{value:"\\tan\\left(\\right)",iconClass:"tan",text:r.basic.buttons.tan}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarBasicCommand",params:{value:e}})}}),f=c.extend({_click:function(){this.toolbar.dialog({name:"basic"})}});i.toolbar.registerComponent("basic",d,f);var p=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"greek",greek:this,instance:this})},buttons:[{value:"\\alpha",iconClass:"alpha",text:r.greek.buttons.alpha},{value:"\\beta",iconClass:"beta",text:r.greek.buttons.beta},{value:"\\gamma",iconClass:"gamma",text:r.greek.buttons.gamma},{value:"\\delta",iconClass:"delta",text:r.greek.buttons.delta},{value:"\\epsilon",iconClass:"epsilon",text:r.greek.buttons.epsilon},{value:"\\zeta",iconClass:"zeta",text:r.greek.buttons.zeta},{value:"\\eta",iconClass:"eta",text:r.greek.buttons.eta},{value:"\\theta",iconClass:"theta",text:r.greek.buttons.theta},{value:"\\iota",iconClass:"iota",text:r.greek.buttons.iota},{value:"\\kappa",iconClass:"kappa",text:r.greek.buttons.kappa},{value:"\\lambda",iconClass:"lambda",text:r.greek.buttons.lambda},{value:"\\mu",iconClass:"mu",text:r.greek.buttons.mu},{value:"\\nu",iconClass:"nu",text:r.greek.buttons.nu},{value:"\\xi",iconClass:"xi",text:r.greek.buttons.xi},{value:"o",iconClass:"omicron",text:r.greek.buttons.omicron},{value:"\\pi",iconClass:"pi",text:r.greek.buttons.pi},{value:"\\rho",iconClass:"rho",text:r.greek.buttons.rho},{value:"\\sigma",iconClass:"sigma",text:r.greek.buttons.sigma},{value:"\\tau",iconClass:"tau",text:r.greek.buttons.tau},{value:"\\upsilon",iconClass:"upsilon",text:r.greek.buttons.upsilon},{value:"\\phi",iconClass:"phi",text:r.greek.buttons.phi},{value:"\\chi",iconClass:"chi",text:r.greek.buttons.chi},{value:"\\psi",iconClass:"psi",text:r.greek.buttons.psi},{value:"\\omega",iconClass:"omega",text:r.greek.buttons.omega},{value:"\\Gamma",iconClass:"gamma-maj",text:r.greek.buttons.gamma},{value:"\\Delta",iconClass:"delta-maj",text:r.greek.buttons.delta},{value:"\\Theta",iconClass:"theta-maj",text:r.greek.buttons.theta},{value:"\\Lambda",iconClass:"lambda-maj",text:r.greek.buttons.lambda},{value:"\\Xi",iconClass:"xi-maj",text:r.greek.buttons.xi},{value:"\\Pi",iconClass:"pi-maj",text:r.greek.buttons.pi},{value:"\\Sigma",iconClass:"sigma-maj",text:r.greek.buttons.sigma},{value:"\\Upsilon",iconClass:"upsilon-maj",text:r.greek.buttons.upsilon},{value:"\\Phi",iconClass:"phi-maj",text:r.greek.buttons.phi},{value:"\\Psi",iconClass:"psi-maj",text:r.greek.buttons.psi},{value:"\\Omega",iconClass:"omega-maj",text:r.greek.buttons.omega}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarGreekCommand",params:{value:e}})}}),m=c.extend({_click:function(){this.toolbar.dialog({name:"greek"})}});i.toolbar.registerComponent("greek",p,m);var g=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"operators",operators:this,instance:this})},buttons:[{value:"=",iconClass:"equal",text:r.operators.buttons.equal},{value:"+",iconClass:"plus",text:r.operators.buttons.plus},{value:"-",iconClass:"minus",text:r.operators.buttons.minus},{value:"\\cdot",iconClass:"cdot",text:r.operators.buttons.cdot},{value:"\\times",iconClass:"times",text:r.operators.buttons.times},{value:"\\div",iconClass:"div",text:r.operators.buttons.div},{value:"(",iconClass:"pleft",text:r.operators.buttons.pleft},{value:"\\right)",iconClass:"pright",text:r.operators.buttons.pright},{value:"[",iconClass:"bleft",text:r.operators.buttons.bleft},{value:"\\right]",iconClass:"bright",text:r.operators.buttons.bright},{value:"\\left{",iconClass:"cleft",text:r.operators.buttons.cleft},{value:"\\right}",iconClass:"cright",text:r.operators.buttons.cright},{value:"\\left|",iconClass:"vleft",text:r.operators.buttons.vleft},{value:"\\right|",iconClass:"vright",text:r.operators.buttons.vright},{value:"<",iconClass:"lt",text:r.operators.buttons.lt},{value:"\\le",iconClass:"le",text:r.operators.buttons.le},{value:">",iconClass:"gt",text:r.operators.buttons.gt},{value:"\\ge",iconClass:"ge",text:r.operators.buttons.ge},{value:"\\neq",iconClass:"neq",text:r.operators.buttons.neq},{value:"\\approx",iconClass:"approx",text:r.operators.buttons.approx},{value:"\\propto",iconClass:"propto",text:r.operators.buttons.propto},{value:"\\pm",iconClass:"plusminus",text:r.operators.buttons.plusminus},{value:"%",iconClass:"percent",text:r.operators.buttons.percent},{value:"\\neg",iconClass:"not",text:r.operators.buttons.not},{value:"\\wedge",iconClass:"and",text:r.operators.buttons.and},{value:"\\vee",iconClass:"or",text:r.operators.buttons.or},{value:"\\circ",iconClass:"circ",text:r.operators.buttons.circ},{value:"\\nabla",iconClass:"nabla",text:r.operators.buttons.nabla}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarOperatorsCommand",params:{value:e}})}}),v=c.extend({_click:function(){this.toolbar.dialog({name:"operators"})}});i.toolbar.registerComponent("operators",g,v);var b=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"expressions",expressions:this,instance:this})},buttons:[{value:"\\sqrt",iconClass:"sqrt",text:r.expressions.buttons.sqrt},{value:"\\sqrt[3]{ }",iconClass:"cbrt",text:r.expressions.buttons.cubert},{value:"\\sqrt[]{ }",iconClass:"nthroot",text:r.expressions.buttons.nthroot},{value:"^{ }",iconClass:"pow",text:r.expressions.buttons.pow},{value:"^2",iconClass:"pow2",text:r.expressions.buttons.pow2},{value:"^3",iconClass:"pow3",text:r.expressions.buttons.pow3},{value:"\\log_{}\\left(\\right)",iconClass:"log",text:r.expressions.buttons.log},{value:"\\log\\left(\\right)",iconClass:"log10",text:r.expressions.buttons.log10},{value:"\\ln\\left(\\right)",iconClass:"ln",text:r.expressions.buttons.ln},{value:"\\sin\\left(\\right)",iconClass:"sin",text:r.expressions.buttons.sin},{value:"\\cos\\left(\\right)",iconClass:"cos",text:r.expressions.buttons.cos},{value:"\\tan\\left(\\right)",iconClass:"tan",text:r.expressions.buttons.tan},{value:"\\arcsin\\left(\\right)",iconClass:"arcsin",text:r.expressions.buttons.arcsin},{value:"\\arccos\\left(\\right)",iconClass:"arccos",text:r.expressions.buttons.arccos},{value:"\\arctan\\left(\\right)",iconClass:"arctan",text:r.expressions.buttons.arctan},{value:"\\frac{d}{dx}\\left(\\right)",iconClass:"deriv",text:r.expressions.buttons.deriv},{value:"\\frac{\\partial}{\\partial x}\\left(\\right)",iconClass:"partial",text:r.expressions.buttons.partial},{value:"\\int",iconClass:"int",text:r.expressions.buttons.int},{value:"\\sum",iconClass:"sum-ex",text:r.expressions.buttons.sum},{value:"\\prod",iconClass:"prod",text:r.expressions.buttons.prod},{value:"\\lim_{\\to}\\left(\\right)",iconClass:"lim",text:r.expressions.buttons.lim}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarExpressionsCommand",params:{value:e}})}}),k=c.extend({_click:function(){this.toolbar.dialog({name:"expressions"})}});i.toolbar.registerComponent("expressions",b,k);var y=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"sets",sets:this,instance:this})},buttons:[{value:"\\C",iconClass:"cset",text:r.sets.buttons.cset},{value:"\\N",iconClass:"nset",text:r.sets.buttons.nset},{value:"\\P",iconClass:"pset",text:r.sets.buttons.pset},{value:"\\Q",iconClass:"qset",text:r.sets.buttons.qset},{value:"\\R",iconClass:"rset",text:r.sets.buttons.rset},{value:"\\Z",iconClass:"zset",text:r.sets.buttons.zset},{value:"\\varnothing",iconClass:"emptyset",text:r.sets.buttons.emptyset},{value:"\\forall",iconClass:"forall",text:r.sets.buttons.forall},{value:"\\exists",iconClass:"exists",text:r.sets.buttons.exists},{value:"\\nexists",iconClass:"nexists",text:r.sets.buttons.nexists},{value:"\\in",iconClass:"in",text:r.sets.buttons.in},{value:"\\notin",iconClass:"nin",text:r.sets.buttons.nin},{value:"\\subset",iconClass:"subset",text:r.sets.buttons.subset},{value:"\\supset",iconClass:"supset",text:r.sets.buttons.supset},{value:"\\cap",iconClass:"intersection",text:r.sets.buttons.intersection},{value:"\\cup",iconClass:"union",text:r.sets.buttons.union},{value:"\\to",iconClass:"to",text:r.sets.buttons.to},{value:"\\Rightarrow",iconClass:"implies",text:r.sets.buttons.implies},{value:"\\Leftarrow",iconClass:"impliedby",text:r.sets.buttons.impliedby},{value:"\\iff",iconClass:"iff",text:r.sets.buttons.iff}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarSetsCommand",params:{value:e}})}}),w=c.extend({_click:function(){this.toolbar.dialog({name:"sets"})}});i.toolbar.registerComponent("sets",y,w);var _=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"matrices",matrices:this,instance:this})},buttons:[{value:"\\vec",iconClass:"vector",text:r.matrices.buttons.vector},{value:"\\widehat",iconClass:"widehat",text:r.matrices.buttons.widehat},{value:"\\begin{matrix}&amp;\\\\&amp;\\end{matrix}",iconClass:"matrix",text:r.matrices.buttons.matrix},{value:"\\begin{pmatrix}&amp;\\\\&amp;\\end{pmatrix}",iconClass:"pmatrix",text:r.matrices.buttons.pmatrix},{value:"\\begin{bmatrix}1&amp;2\\\\x&amp;y\\end{bmatrix}",iconClass:"bmatrix",text:r.matrices.buttons.bmatrix},{value:"\\begin{Bmatrix}1&amp;2\\\\x&amp;y\\end{Bmatrix}",iconClass:"bbmatrix",text:r.matrices.buttons.bbmatrix},{value:"\\begin{vmatrix}1&amp;2\\\\x&amp;y\\end{vmatrix}",iconClass:"vmatrix",text:r.matrices.buttons.vmatrix},{value:"\\begin{Vmatrix}&amp;\\\\&amp;\\end{Vmatrix}",iconClass:"vvmatrix",text:r.matrices.buttons.vvmatrix},{value:"\\begin{Vmatrix}&amp;\\\\&amp;\\end{Vmatrix}",iconClass:"column",text:r.matrices.buttons.column},{value:"\\begin{Vmatrix}&amp;\\\\&amp;\\end{Vmatrix}",iconClass:"row",text:r.matrices.buttons.row}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarMatricesCommand",params:{value:e}})}}),x=c.extend({_click:function(){this.toolbar.dialog({name:"matrices"})}});i.toolbar.registerComponent("matrices",_,x);var S=l.extend({init:function(e,i){l.fn.init.call(this,e,i),this._commandPalette(),this.popup.element.on("click",".k-button",function(e){this._action(t(e.currentTarget)),this.popup.close()}.bind(this)),this.element.data({type:"statistics",statistics:this,instance:this})},buttons:[{value:"!",iconClass:"factorial",text:r.statistics.buttons.factorial},{value:"\\binom",iconClass:"binomial",text:r.statistics.buttons.binomial},{value:"\\overline",iconClass:"overline",text:r.statistics.buttons.overline}],destroy:function(){this.popup.element.off(),l.fn.destroy.call(this)},_commandPalette:function(){var e=this.buttons,i=t("<div />").appendTo(this.popup.element);e.forEach(function(n,o){var r='<a title="'+n.text+'" data-value="'+n.value+'" class="k-button k-button-icon"><span class="k-icon k-i-'+n.iconClass+'"></span></a>';0!==o&&e[o-1].iconClass!==n.iconClass&&i.append(t('<span class="k-separator" />')),i.append(r)})},_action:function(t){var e=t.attr("data-value");this.toolbar.action({command:"ToolbarStatisticsCommand",params:{value:e}})}}),C=c.extend({_click:function(){this.toolbar.dialog({name:"statistics"})}});i.toolbar.registerComponent("statistics",S,C);var A=i.mathinput.messages.dialogs={keypad:{title:"KeyPad",buttons:{comma:",",stop:".",n0:"0",n1:"1",n2:"2",n3:"3",n4:"4",n5:"5",n6:"6",n7:"7",n8:"8",n9:"9",a:"a",b:"b",c:"c",i:"i",j:"j",k:"k",n:"n",p:"p",q:"q",x:"x",y:"y",z:"z",pi:"Pi",infty:"Infinity",space:"Space",subscript:"Subscript"}},basic:{title:"Basic",buttons:{equal:"Equal",plus:"Plus",minus:"Minus",cdot:"Times",times:"Times",div:"Divide",pleft:"Left parenthesis (",pright:"Right parenthesis )",frac:"Fraction",sqrt:"Square root",pow2:"Power of 2",pow3:"Power of 3",sin:"Sine",cos:"Cosine",tan:"Tangent"}},greek:{title:"Greek",buttons:{alpha:"Alpha",beta:"Beta",gamma:"Gamma",delta:"Delta",epsilon:"Epsilon",zeta:"Zeta",eta:"Eta",theta:"Theta",iota:"Iota",kappa:"Kappa",lambda:"Lambda",mu:"Mu",nu:"Nu",xi:"Xi",omicron:"Omicron",pi:"Pi",rho:"Rho",sigma:"Sigma",tau:"Tau",upsilon:"Upsilon",phi:"Phi",chi:"Chi",psi:"Psi",omega:"Omega"}},operators:{title:"Operators",buttons:{equal:"Equal",plus:"Plus",minus:"Minus",cdot:"Times",times:"Times",div:"Divide",pleft:"Left parenthesis (",pright:"Right parenthesis )",bleft:"Left square bracket [",bright:"Right square bracket ]",cleft:"Left curly bracket {",cright:"Right curly bracket }",vleft:"Left vertical line |",vright:"Right vertical line |",lt:"Lower than",le:"Lower than or equal",gt:"Greater than",ge:"Greater than or equal",neq:"Not equal",approx:"Approximate",propto:"Proportional",plusminus:"Plus-Minus",percent:"Percent",not:"Not",and:"And",or:"Or",circ:"Composition",nabla:"Nabla"}},expressions:{title:"Functions",buttons:{sqrt:"Square root",cubert:"Cube root",nthroot:"Nth root",pow2:"Power of 2",pow3:"Power of 3",pow:"Power",log:"Logarithm",log10:"Logarithm base 10",ln:"Naperian logarithm",sin:"Sine",cos:"Cosine",tan:"Tangent",arcsin:"Arc sine",arccos:"Arc cosine",arctan:"Arc tangent",deriv:"Derivative",partial:"Partial derivative",int:"Integral",oint:"Contour integral",sum:"Sum",prod:"Product",lim:"Limit"}},sets:{title:"Sets",buttons:{cset:"Complexes",pset:"Primes",nset:"Naturals",qset:"Rationals",rset:"Reals",zset:"Integers",emptyset:"Empty set",forall:"For all",exists:"Exists",nexists:"Not exists",in:"In",nin:"Not in",subset:"Subset",supset:"Superset",nsubset:"Not subset",nsupset:"Not superset",intersection:"Intersection",union:"Union",to:"To",implies:"Implies",impliedby:"Implied by",nimplies:"Not implies",iff:"Equivalent to"}},matrices:{title:"Matrices",buttons:{vector:"Vector",widehat:"Widehat (angle)",matrix:"Matrix",pmatrix:"Matrix with parentheses",bmatrix:"Matrix with square brackets",bbmatrix:"Matrix with curly braces",vmatrix:"Matrix with vertical lines",vvmatrix:"Matrix with double vertical lines",column:"Add column",row:"Add row"}},statistics:{title:"Statistics",buttons:{factorial:"Factorial",binomial:"Binomial",overline:"Overline (mean)"}}},T={};i.mathinput.dialogs={register:function(t,e){T[t]=e},registered:function(t){return!!T[t]},create:function(t,e){var i=T[t];if(i)return new i(e)}};var j=i.mathinput.MathInputDialog=i.Observable.extend({init:function(e){i.Observable.fn.init.call(this,e),this.options=t.extend(!0,{},this.options,e),this.bind(this.events,e)},events:["close","activate"],options:{autoFocus:!0},dialog:function(){return this._dialog||(this._dialog=t('<div class="k-spreadsheet-window k-action-window kj-mathinput-dialog" />').addClass(this.options.className||"").append(i.template(this.options.template)({messages:i.spreadsheet.messages.dialogs||A,errors:this.options.errors})).appendTo(document.body).kendoWindow({autoFocus:this.options.autoFocus,scrollable:!1,resizable:!1,modal:!0,visible:!1,width:this.options.width||320,title:this.options.title,open:function(){this.center()},close:this._onDialogClose.bind(this),activate:this._onDialogActivate.bind(this),deactivate:this._onDialogDeactivate.bind(this)}).data("kendoWindow")),this._dialog},_onDialogClose:function(){this.trigger("close",{action:this._action})},_onDialogActivate:function(){this.trigger("activate")},_onDialogDeactivate:function(){this.trigger("deactivate"),this.destroy()},destroy:function(){this._dialog&&(this._dialog.destroy(),this._dialog=null)},open:function(){this.dialog().open()},apply:function(){this.close()},close:function(){this._action="close",this.dialog().close()}}),M=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs||A).keypad.title,buttons:[{value:"0",iconClass:"n0",text:A.keypad.buttons.n0},{value:"1",iconClass:"n1",text:A.keypad.buttons.n1},{value:"2",iconClass:"n2",text:A.keypad.buttons.n2},{value:"3",iconClass:"n3",text:A.keypad.buttons.n3},{value:"4",iconClass:"n4",text:A.keypad.buttons.n4},{value:"5",iconClass:"n5",text:A.keypad.buttons.n5},{value:"6",iconClass:"n6",text:A.keypad.buttons.n6},{value:"7",iconClass:"n7",text:A.keypad.buttons.n7},{value:"8",iconClass:"n8",text:A.keypad.buttons.n8},{value:"9",iconClass:"n9",text:A.keypad.buttons.n9},{value:".",iconClass:"stop",text:A.keypad.buttons.stop},{value:",",iconClass:"comma",text:A.keypad.buttons.comma},{value:"a",iconClass:"a",text:A.keypad.buttons.a},{value:"b",iconClass:"b",text:A.keypad.buttons.b},{value:"c",iconClass:"c",text:A.keypad.buttons.c},{value:"i",iconClass:"i",text:A.keypad.buttons.i},{value:"j",iconClass:"j",text:A.keypad.buttons.j},{value:"k",iconClass:"k",text:A.keypad.buttons.k},{value:"n",iconClass:"n",text:A.keypad.buttons.n},{value:"p",iconClass:"p",text:A.keypad.buttons.p},{value:"q",iconClass:"q",text:A.keypad.buttons.q},{value:"x",iconClass:"x",text:A.keypad.buttons.x},{value:"y",iconClass:"y",text:A.keypad.buttons.y},{value:"z",iconClass:"z",text:A.keypad.buttons.z},{value:"\\pi",iconClass:"pi",text:A.keypad.buttons.pi},{value:"\\infty",iconClass:"infty",text:A.keypad.buttons.infty},{value:" ",iconClass:"space",text:A.keypad.buttons.space},{value:"_{ }",iconClass:"subscript",text:A.keypad.buttons.subscript}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarKeyPadCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("keypad",M);var z=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs||A).basic.title,buttons:[{value:"=",iconClass:"equal",text:A.basic.buttons.equal},{value:"+",iconClass:"plus",text:A.basic.buttons.plus},{value:"-",iconClass:"minus",text:A.basic.buttons.minus},{value:"\\cdot",iconClass:"cdot",text:A.basic.buttons.cdot},{value:"\\times",iconClass:"times",text:A.basic.buttons.times},{value:"\\div",iconClass:"div",text:A.basic.buttons.div},{value:"(",iconClass:"pleft",text:A.basic.buttons.pleft},{value:"\\right)",iconClass:"pright",text:A.basic.buttons.pright},{value:"\\frac",iconClass:"frac",text:A.basic.buttons.frac},{value:"\\sqrt",iconClass:"sqrt",text:A.basic.buttons.sqrt},{value:"^2",iconClass:"pow2",text:A.basic.buttons.pow2},{value:"^3",iconClass:"pow3",text:A.basic.buttons.pow3},{value:"\\sin\\left(\\right)",iconClass:"sin",text:A.basic.buttons.sin},{value:"\\cos\\left(\\right)",iconClass:"cos",text:A.basic.buttons.cos},{value:"\\tan\\left(\\right)",iconClass:"tan",text:A.basic.buttons.tan}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarBasicCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("basic",z);var E=j.extend({init:function(e){var n=i.mathinput.messages.dialogs||A,o={title:n.greek.title,buttons:[{value:"\\alpha",iconClass:"alpha",text:n.greek.buttons.alpha},{value:"\\beta",iconClass:"beta",text:n.greek.buttons.beta},{value:"\\gamma",iconClass:"gamma",text:n.greek.buttons.gamma},{value:"\\delta",iconClass:"delta",text:n.greek.buttons.delta},{value:"\\epsilon",iconClass:"epsilon",text:n.greek.buttons.epsilon},{value:"\\zeta",iconClass:"zeta",text:n.greek.buttons.zeta},{value:"\\eta",iconClass:"eta",text:n.greek.buttons.eta},{value:"\\theta",iconClass:"theta",text:n.greek.buttons.theta},{value:"\\iota",iconClass:"iota",text:n.greek.buttons.iota},{value:"\\kappa",iconClass:"kappa",text:n.greek.buttons.kappa},{value:"\\lambda",iconClass:"lambda",text:n.greek.buttons.lambda},{value:"\\mu",iconClass:"mu",text:n.greek.buttons.mu},{value:"\\nu",iconClass:"nu",text:n.greek.buttons.nu},{value:"\\xi",iconClass:"xi",text:n.greek.buttons.xi},{value:"\\omicron",iconClass:"omicron",text:n.greek.buttons.omicron},{value:"\\pi",iconClass:"pi",text:n.greek.buttons.pi},{value:"\\rho",iconClass:"rho",text:n.greek.buttons.rho},{value:"\\sigma",iconClass:"sigma",text:n.greek.buttons.sigma},{value:"\\tau",iconClass:"tau",text:n.greek.buttons.tau},{value:"\\upsilon",iconClass:"upsilon",text:n.greek.buttons.upsilon},{value:"\\phi",iconClass:"phi",text:n.greek.buttons.phi},{value:"\\chi",iconClass:"chi",text:n.greek.buttons.chi},{value:"\\psi",iconClass:"psi",text:n.greek.buttons.psi},{value:"\\omega",iconClass:"omega",text:n.greek.buttons.omega},{value:"\\Gamma",iconClass:"gamma-maj",text:n.greek.buttons.gamma},{value:"\\Delta",iconClass:"delta-maj",text:n.greek.buttons.delta},{value:"\\Theta",iconClass:"theta-maj",text:n.greek.buttons.theta},{value:"\\Lambda",iconClass:"lambda-maj",text:n.greek.buttons.lambda},{value:"\\Xi",iconClass:"xi-maj",text:n.greek.buttons.xi},{value:"\\Pi",iconClass:"pi-maj",text:n.greek.buttons.pi},{value:"\\Sigma",iconClass:"sigma-maj",text:n.greek.buttons.sigma},{value:"\\Upsilon",iconClass:"upsilon-maj",text:n.greek.buttons.upsilon},{value:"\\Phi",iconClass:"phi-maj",text:n.greek.buttons.phi},{value:"\\Psi",iconClass:"psi-maj",text:n.greek.buttons.psi},{value:"\\Omega",iconClass:"omega-maj",text:n.greek.buttons.omega}]};j.fn.init.call(this,t.extend(o,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarGreekCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("greek",E);var I=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs||A).operators.title,buttons:[{value:"=",iconClass:"equal",text:A.operators.buttons.equal},{value:"+",iconClass:"plus",text:A.operators.buttons.plus},{value:"-",iconClass:"minus",text:A.operators.buttons.minus},{value:"\\cdot",iconClass:"cdot",text:A.operators.buttons.cdot},{value:"\\times",iconClass:"times",text:A.operators.buttons.times},{value:"\\div",iconClass:"div",text:A.operators.buttons.div},{value:"(",iconClass:"pleft",text:A.operators.buttons.pleft},{value:"\\right)",iconClass:"pright",text:A.operators.buttons.pright},{value:"[",iconClass:"bleft",text:A.operators.buttons.bleft},{value:"\\right]",iconClass:"bright",text:A.operators.buttons.bright},{value:"\\left{",iconClass:"cleft",text:A.operators.buttons.cleft},{value:"\\right}",iconClass:"cright",text:A.operators.buttons.cright},{value:"\\left|",iconClass:"vleft",text:A.operators.buttons.vleft},{value:"\\right|",iconClass:"vright",text:A.operators.buttons.vright},{value:"<",iconClass:"lt",text:A.operators.buttons.lt},{value:"\\le",iconClass:"le",text:A.operators.buttons.le},{value:">",iconClass:"gt",text:A.operators.buttons.gt},{value:"\\ge",iconClass:"ge",text:A.operators.buttons.ge},{value:"\\neq",iconClass:"neq",text:A.operators.buttons.neq},{value:"\\approx",iconClass:"approx",text:A.operators.buttons.approx},{value:"\\propto",iconClass:"propto",text:A.operators.buttons.propto},{value:"\\pm",iconClass:"plusminus",text:A.operators.buttons.plusminus},{value:"%",iconClass:"percent",text:A.operators.buttons.percent},{value:"\\neg",iconClass:"not",text:A.operators.buttons.not},{value:"\\wedge",iconClass:"and",text:A.operators.buttons.and},{value:"\\vee",iconClass:"or",text:A.operators.buttons.or},{value:"\\circ",iconClass:"circ",text:A.operators.buttons.circ},{value:"\\nabla",iconClass:"nabla",text:A.operators.buttons.nabla}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarOperatorsCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("operators",I);var D=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs.expression||A).title,buttons:[{value:"\\sqrt",iconClass:"sqrt",text:A.expressions.buttons.sqrt},{value:"\\sqrt[3]{ }",iconClass:"cbrt",text:A.expressions.buttons.cubert},{value:"\\sqrt[]{ }",iconClass:"nthroot",text:A.expressions.buttons.nthroot},{value:"^{ }",iconClass:"pow",text:A.expressions.buttons.pow},{value:"^2",iconClass:"pow2",text:A.expressions.buttons.pow2},{value:"^3",iconClass:"pow3",text:A.expressions.buttons.pow3},{value:"\\log_{}\\left(\\right)",iconClass:"log",text:A.expressions.buttons.log},{value:"\\log\\left(\\right)",iconClass:"log10",text:A.expressions.buttons.log10},{value:"\\ln\\left(\\right)",iconClass:"ln",text:A.expressions.buttons.ln},{value:"\\sin\\left(\\right)",iconClass:"sin",text:A.expressions.buttons.sin},{value:"\\cos\\left(\\right)",iconClass:"cos",text:A.expressions.buttons.cos},{value:"\\tan\\left(\\right)",iconClass:"tan",text:A.expressions.buttons.tan},{value:"\\arcsin\\left(\\right)",iconClass:"arcsin",text:A.expressions.buttons.arcsin},{value:"\\arccos\\left(\\right)",iconClass:"arccos",text:A.expressions.buttons.arccos},{value:"\\arctan\\left(\\right)",iconClass:"arctan",text:A.expressions.buttons.arctan},{value:"\\frac{d}{dx}\\left(\\right)",iconClass:"deriv",text:A.expressions.buttons.deriv},{value:"\\frac{\\partial}{\\partial x}\\left(\\right)",iconClass:"partial",text:A.expressions.buttons.partial},{value:"\\int",iconClass:"int",text:A.expressions.buttons.int},{value:"\\sum",iconClass:"sum-ex",text:A.expressions.buttons.sum},{value:"\\prod",iconClass:"prod",text:A.expressions.buttons.prod},{value:"\\lim_{\\to}\\left(\\right)",iconClass:"lim",text:A.expressions.buttons.lim}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarExpressionsCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("expressions",D);var O=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs.set||A).title,buttons:[{value:"\\C",iconClass:"cset",text:A.sets.buttons.cset},{value:"\\N",iconClass:"nset",text:A.sets.buttons.nset},{value:"\\P",iconClass:"pset",text:A.sets.buttons.pset},{value:"\\Q",iconClass:"qset",text:A.sets.buttons.qset},{value:"\\R",iconClass:"rset",text:A.sets.buttons.rset},{value:"\\Z",iconClass:"zset",text:A.sets.buttons.zset},{value:"\\varnothing",iconClass:"emptyset",text:A.sets.buttons.emptyset},{value:"\\forall",iconClass:"forall",text:A.sets.buttons.forall},{value:"\\exists",iconClass:"exists",text:A.sets.buttons.exists},{value:"\\nexists",iconClass:"nexists",text:A.sets.buttons.nexists},{value:"\\in",iconClass:"in",text:A.sets.buttons.in},{value:"\\notin",iconClass:"nin",text:A.sets.buttons.nin},{value:"\\subset",iconClass:"subset",text:A.sets.buttons.subset},{value:"\\supset",iconClass:"supset",text:A.sets.buttons.supset},{value:"\\cap",iconClass:"intersection",text:A.sets.buttons.intersection},{value:"\\cup",iconClass:"union",text:A.sets.buttons.union},{value:"\\to",iconClass:"to",text:A.sets.buttons.to},{value:"\\Rightarrow",iconClass:"implies",text:A.sets.buttons.implies},{value:"\\Leftarrow",iconClass:"impliedby",text:A.sets.buttons.impliedby},{value:"\\iff",iconClass:"iff",text:A.sets.buttons.iff}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarSetsCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("sets",O);var P=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs.matrices||A).title,buttons:[{value:"\\vec",iconClass:"vector",text:A.matrices.buttons.vector},{value:"\\widehat",iconClass:"widehat",text:A.matrices.buttons.widehat},{value:"\\begin{matrix}1&amp;2\\\\x&amp;y\\end{matrix}",iconClass:"matrix",text:A.matrices.buttons.matrix},{value:"\\begin{pmatrix}1&amp;2\\\\x&amp;y\\end{pmatrix}",iconClass:"pmatrix",text:A.matrices.buttons.pmatrix},{value:"\\begin{bmatrix}1&amp;2\\\\x&amp;y\\end{bmatrix}",iconClass:"bmatrix",text:A.matrices.buttons.bmatrix},{value:"\\begin{Bmatrix}1&amp;2\\\\x&amp;y\\end{Bmatrix}",iconClass:"bbmatrix",text:A.matrices.buttons.bbmatrix},{value:"\\begin{vmatrix}1&amp;2\\\\x&amp;y\\end{vmatrix}",iconClass:"vmatrix",text:A.matrices.buttons.vmatrix},{value:"\\begin{Vmatrix}&amp;\\\\&amp;\\end{Vmatrix}",iconClass:"vvmatrix",text:A.matrices.buttons.vvmatrix},{value:"\\begin{Vmatrix}&amp;\\\\&amp;\\end{Vmatrix}",iconClass:"column",text:A.matrices.buttons.column},{value:"\\begin{Vmatrix}&amp;\\\\&amp;\\end{Vmatrix}",iconClass:"row",text:A.matrices.buttons.row}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarMatricesCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("matrices",P);var R=j.extend({init:function(e){var n={title:(i.mathinput.messages.dialogs.statistics||A).title,buttons:[{value:"!",iconClass:"factorial",text:A.statistics.buttons.factorial},{value:"\\binom",iconClass:"binomial",text:A.statistics.buttons.binomial},{value:"\\overline",iconClass:"overline",text:A.statistics.buttons.overline}]};j.fn.init.call(this,t.extend(n,e)),this._list()},options:{template:'<ul class="k-list k-reset"></ul>'},_list:function(){var t=this.dialog().element.find("ul");this.list=new i.ui.StaticList(t,{dataSource:new i.data.DataSource({data:this.options.buttons}),template:'<a title="#=text#" data-value="#=value#"><span class="k-icon k-i-#=iconClass#"></span></a>',change:this.apply.bind(this)}),this.list.dataSource.fetch()},apply:function(t){var e=t.sender.value()[0];j.fn.apply.call(this),this.trigger("action",{command:"ToolbarStatisticsCommand",params:{value:e.value}})}});i.mathinput.dialogs.register("statistics",R)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(120)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=n.Slider,a=window.assert,s=new window.Logger("kidoju.widgets.mediaplayer"),l=".kendoMediaPlayer",c="string",u="number",h="k-button kj-mediaplayer-button",d="a.kj-mediaplayer-button["+i.attr("command")+'="{0}"]',f="audio",p="video",m="play",g="mute",v="full",b='<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="24px" height="24px" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="nonzero" clip-rule="evenodd" viewBox="0 0 10240 10240" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="curve3" fill="#000000" d="M6530 5627c460,457 923,911 1381,1369l0 -971c0,-66 38,-123 99,-148 61,-25 128,-12 174,35l589 598c123,125 187,276 187,452l0 1678c0,176 -144,320 -320,320l-1678 0c-176,0 -329,-62 -452,-187l-588 -598c-47,-47 -60,-114 -35,-175 25,-61 82,-98 148,-99l971 0c-457,-457 -917,-913 -1376,-1368l900 -906z"/><path id="curve2" fill="#000000" d="M4613 6530c-457,460 -911,923 -1369,1381l971 0c66,0 123,38 148,99 25,61 12,128 -35,174l-598 589c-125,123 -276,187 -452,187l-1678 0c-176,0 -320,-144 -320,-320l0 -1678c0,-176 62,-329 187,-452l598 -588c47,-47 114,-60 175,-35 61,25 98,82 99,148l0 971c457,-457 913,-917 1368,-1376l906 900z"/><path id="curve1" fill="#000000" d="M5627 3710c457,-460 911,-923 1369,-1381l-971 0c-66,0 -123,-38 -148,-99 -25,-61 -12,-128 35,-174l598 -589c125,-123 276,-187 452,-187l1678 0c176,0 320,144 320,320l0 1678c0,176 -62,329 -187,452l-598 588c-47,47 -114,60 -175,35 -61,-25 -98,-82 -99,-148l0 -971c-457,457 -913,917 -1368,1376l-906 -900z"/><path id="curve0" fill="#000000" d="M3710 4613c-460,-457 -923,-911 -1381,-1369l0 971c0,66 -38,123 -99,148 -61,25 -128,12 -174,-35l-589 -598c-123,-125 -187,-276 -187,-452l0 -1678c0,-176 144,-320 320,-320l1678 0c176,0 329,62 452,187l588 598c47,47 60,114 35,175 -25,61 -82,98 -148,99l-971 0c457,457 917,913 1376,1368l-900 906z"/></svg>',k='<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="24px" height="24px" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="nonzero" clip-rule="evenodd" viewBox="0 0 10240 10240" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="curve3" fill="#000000" d="M6080 7660c1263,-157 2240,-1235 2240,-2540 0,-1305 -977,-2383 -2240,-2540l0 647c908,152 1600,942 1600,1893 0,951 -692,1741 -1600,1893l0 647z"/><path id="curve2" fill="#000000" d="M6080 6360c552,-142 960,-644 960,-1240 0,-596 -408,-1098 -960,-1240l0 686c191,110 320,317 320,554 0,237 -129,444 -320,554l0 686z"/><path id="curve1" fill="#000000" d="M960 3520l320 0 0 -320 1280 0 0 3840 -1280 0 0 -320 -320 0c-220,0 -320,-144 -320,-320l0 -2560c0,-176 100,-320 320,-320z"/><path id="curve0" fill="#000000" d="M5440 640l0 0c176,0 320,144 320,320l0 8320c0,176 -144,320 -320,320l0 0c-176,0 -320,-144 -320,-320l-2240 -2240 0 -3840 2240 -2240c0,-176 144,-320 320,-320z"/></svg>',y='<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="24px" height="24px" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="nonzero" clip-rule="evenodd" viewBox="0 0 10240 10240" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="curve1" fill="#000000" d="M6400 1280l1280 0c353,0 640,288 640,640l0 6400c0,352 -288,640 -640,640l-1280 0c-352,0 -640,-288 -640,-640l0 -6400c0,-353 287,-640 640,-640z"/><path id="curve0" fill="#000000" d="M2560 1280l1280 0c353,0 640,288 640,640l0 6400c0,352 -288,640 -640,640l-1280 0c-352,0 -640,-287 -640,-640l0 -6400c0,-353 287,-640 640,-640z"/></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="24px" height="24px" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="nonzero" clip-rule="evenodd" viewBox="0 0 10240 10240" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="curve0" fill="#000000" d="M2878 1364l5757 3209c207,115 325,314 325,547 0,233 -118,432 -325,547l-5757 3209c-204,113 -436,112 -639,-4 -203,-116 -319,-313 -319,-544l0 -6416c0,-231 116,-428 319,-544 203,-116 435,-117 639,-4z"/></svg>',_='<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="24px" height="24px" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="nonzero" clip-rule="evenodd" viewBox="0 0 10240 10240" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="curve2" fill="#000000" d="M960 3520l320 0 0 -320 1280 0 0 3840 -1280 0 0 -320 -320 0c-220,0 -320,-144 -320,-320l0 -2560c0,-176 100,-320 320,-320z"/><path id="curve1" fill="#000000" d="M5440 640c176,0 320,144 320,320l0 8320c0,176 -144,320 -320,320 -176,0 -320,-144 -320,-320l-2240 -2240 0 -3840 2240 -2240c0,-176 144,-320 320,-320z"/><path id="curve0" fill="#000000" d="M8921 7266l-921 -921 -921 921c-125,125 -328,125 -453,0l-452 -452c-125,-125 -125,-328 0,-453l921 -921 -921 -921c-125,-125 -125,-328 0,-453l452 -452c125,-125 328,-125 453,0l921 921 921 -921c125,-125 328,-125 453,0l452 452c125,125 125,328 0,453l-921 921 921 921c125,125 125,328 0,453l-452 452c-125,125 -328,125 -453,0z"/></svg>',x="px";function S(t){a.type(u,t,i.format(a.messages.type.default,"seconds",u)),a.ok(t>=0&&t<86400,"Cannot format negative numbers or days.");var e=Math.round(t),n=Math.floor(e/60),o=Math.floor(n/60);return e%=60,n%=60,0===o?i.format("{0:00}:{1:00}",n,e):i.format("{0:00}:{1:00}:{2:00}",o,n,e)}var C=o.extend({init:function(t,e){o.fn.init.call(this,t,e),s.debug({method:"init",message:"widget initialized"}),this._layout()},options:{name:"MediaPlayer",mode:f,autoPlay:!1,files:[],enable:!0,toolbarHeight:48,messages:{play:"Play/Pause",mute:"Mute/Unmute",full:"Full Screen",notSupported:"Media not supported"}},modes:{audio:f,video:p},_layout:function(){this.wrapper=this.element,this.element.addClass("kj-mediaplayer").addClass("kj-interactive").css({position:"relative"}),this._media(),this._toolbar(),this.enable(this.options.enable)},_media:function(){var e=this;e.options.mode===f?e.media=t("<audio></audio>"):e.media=t("<video></video>"),e.media.attr("preload","auto").prop("autoplay",e.options.autoPlay).css({width:"100%"});var n=t.type(e.options.files)===c?[e.options.files]:e.options.files;a.type("array",n,i.format(a.messages.type.default,"options.files","array")),t.each(n,function(n,o){t.type(o)===c&&o.length&&t("<source>").attr({src:o,type:function(t){switch(a.type(c,t,i.format(a.messages.type.default,"url",c)),t.split(".").pop()){case"mp3":return"audio/mpeg";case"mp4":return"video/mp4";case"ogg":return"audio/ogg";case"ogv":return"video/ogg";case"wav":return"audio/wav";case"webm":return"video/webm";default:return"application/octet-stream"}}(o)}).appendTo(e.media)}),e.media.append(e.options.messages.notSupported).on("loadedmetadata",t.proxy(e._onLoadedMetadata,e)).on("play",t.proxy(e._onPlay,e)).on("timeupdate",t.proxy(e._onTimeUpdate,e)).on("pause",t.proxy(e._onPause,e)).on("ended",t.proxy(e._onEnded,e)).on("volumechange",t.proxy(e._onVolumeChange,e)),e.element.append(e.media)},_onLoadedMetadata:function(e){if(a.instanceof(t.Event,e,i.format(a.messages.instanceof.default,"e","jQuery.Event")),this.toolbar instanceof t&&this.seekerSlider instanceof r&&this.volumeSlider instanceof r){var n=e.target;a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),this._setSeekerSlider(n.duration),this.seekerSlider.value(0),this.toolbar.find("span.kj-mediaplayer-time").text(S(n.duration)),this.volumeSlider.value(n.volume),this.resize()}},_onPlay:function(e){var n=this.media.get(0);if(a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),this.toolbar instanceof t){var o=this.toolbar.find(i.format(d,m)).children("svg"),r=t(y).attr({height:o.attr("height"),width:o.attr("width")}).css({margin:"2px 0 0 -2px"});o.replaceWith(r)}},_onTimeUpdate:function(e){if(a.instanceof(t.Event,e,i.format(a.messages.instanceof.default,"e","jQuery.Event")),this.toolbar instanceof t){var n=e.target;a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),this.toolbar.find("span.kj-mediaplayer-time").text(S(n.duration-n.currentTime)),this.seekerSlider.value(n.currentTime)}},_onPause:function(e){var n=this.media.get(0);if(a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),this.toolbar instanceof t){var o=this.toolbar.find(i.format(d,m)).children("svg"),r=t(w).attr({height:o.attr("height"),width:o.attr("width")}).css({margin:"2px 0 0 -2px"});o.replaceWith(r)}},_onEnded:function(e){if(a.instanceof(t.Event,e,i.format(a.messages.instanceof.default,"e","jQuery.Event")),this.toolbar instanceof t&&this.seekerSlider instanceof r){var n=e.target;a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),n.currentTime=0,this.seekerSlider.value(n.currentTime);var o=this.toolbar.find(i.format(d,m)).children("svg"),s=t(w).attr({height:o.attr("height"),width:o.attr("width")}).css({margin:"2px 0 0 -2px"});o.replaceWith(s)}},_onVolumeChange:function(e){var n=this.media.get(0);if(a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),this.toolbar instanceof t&&this.volumeSlider instanceof r){var o,s=this.toolbar.find(i.format(d,g)).children("svg");n.muted?(this.volumeSlider.value(0),o=t(_).attr({height:s.attr("height"),width:s.attr("width")}).css({margin:"2px 0 0 -2px"})):(this.volumeSlider.value(n.volume),o=t(k).attr({height:s.attr("height"),width:s.attr("width")}).css({margin:"2px 0 0 -2px"})),s.replaceWith(o)}},_toolbar:function(){this.toolbar=t("<div/>").addClass("k-widget k-toolbar kj-mediaplayer-toolbar").css({position:"absolute",boxSizing:"border-box",bottom:0,left:0,width:"100%",zIndex:99,visibility:"hidden"}).appendTo(this.element),t("<a/>").attr({href:"javascript:void(0);",title:this.options.messages.play}).attr(i.attr("command"),m).addClass(h).css({overflow:"hidden",display:"inline-block"}).append(w).appendTo(this.toolbar),t("<div/>").addClass("kj-mediaplayer-seeker").css({display:"inline-block"}).appendTo(this.toolbar),this._setSeekerSlider(1),t("<span/>").addClass("kj-mediaplayer-time").appendTo(this.toolbar),t("<a/>").attr({href:"javascript:void(0);",title:this.options.messages.mute}).attr(i.attr("command"),g).addClass(h).css({overflow:"hidden",display:"inline-block"}).append(k).appendTo(this.toolbar),t("<div/>").addClass("kj-mediaplayer-volume").css({display:"inline-block"}).appendTo(this.toolbar),this._setVolumeSlider(),this.options.mode===p&&t("<a/>").attr({href:"javascript:void(0);",title:this.options.messages.full}).attr(i.attr("command"),v).css({overflow:"hidden",display:"inline-block"}).addClass(h).append(b).appendTo(this.toolbar)},_setSeekerSlider:function(e){var i=this.element.find("div.kj-mediaplayer-seeker"),n=i.find("input").data("kendoSlider");n instanceof r&&(n.destroy(),i.empty()),this.seekerSlider=t("<input>").appendTo(i).kendoSlider({max:e,min:0,smallStep:.1,largeStep:1,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0} s."},change:t.proxy(this._onSeekerSliderChange,this)}).data("kendoSlider")},_setVolumeSlider:function(){var e=this.element.find("div.kj-mediaplayer-volume"),i=e.find("input").data("kendoSlider");i instanceof r&&(i.destroy(),e.empty()),this.volumeSlider=t("<input>").appendTo(e).kendoSlider({max:1,min:0,smallStep:.05,largeStep:.25,showButtons:!1,tickPlacement:"none",tooltip:{format:"{0:p0}"},change:t.proxy(this._onVolumeSliderChange,this)}).data("kendoSlider")},_onButtonClick:function(e){switch(t(e.currentTarget).attr(i.attr("command"))){case m:this.togglePlayPause();break;case g:this.toggleMute();break;case v:this.toggleFullScreen()}},togglePlayPause:function(){var t=this.media.get(0);a.instanceof(window.HTMLMediaElement,t,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),t.paused&&t.readyState>=1?t.play():t.pause()},toggleMute:function(){var t=this.media.get(0);a.instanceof(window.HTMLMediaElement,t,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),t.muted=!t.muted},toggleFullScreen:function(){var e=this.media.get(0);a.instanceof(window.HTMLVideoElement,e,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLVideoElement")),document.fullscreenElement===e||document.webkitFullscreenElement===e||document.msFullscreenElement===e||document.mozFullScreenElement===e?t.isFunction(document.exitFullscreen)?document.exitFullscreen():t.isFunction(document.webkitExitFullscreen)?document.webkitExitFullscreen():t.isFunction(document.msExitFullscreen)?document.msExitFullscreen():t.isFunction(document.mozCancelFullScreen)&&document.mozCancelFullScreen():document.fullscreenEnabled&&t.isFunction(e.requestFullscreen)?e.requestFullscreen():document.webkitFullscreenEnabled&&t.isFunction(e.webkitRequestFullscreen)?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):document.msFullscreenEnabled&&t.isFunction(e.msRequestFullscreen)?e.msRequestFullscreen():document.mozFullScreenEnabled&&t.isFunction(e.mozRequestFullScreen)&&e.mozRequestFullScreen()},_onVolumeSliderChange:function(t){this.volume(t.value)},volume:function(e){var n=this.media.get(0);if(a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),"undefined"===t.type(e))return n.volume;a.type(u,e,i.format(a.messages.type.default,"value",u)),e<0?e=0:e>1&&(e=1),n.volume=e},_onSeekerSliderChange:function(t){this.seek(t.value)},seek:function(e){var n=this.media.get(0);if(a.instanceof(window.HTMLMediaElement,n,i.format(a.messages.instanceof.default,"this.media.get(0)","HTMLMediaElement")),"undefined"===t.type(e))return n.currentTime;a.type(u,e,i.format(a.messages.type.default,"value",u)),e<0?e=0:e>n.duration&&(e=n.duration);var o=n.paused;n.pause(),e>=n.seekable.start(0)&&e<=n.seekable.end(0)?n.currentTime=e:n.currentTime=0,o||n.play()},resize:function(){if(this.media instanceof t&&this.toolbar instanceof t&&this.seekerSlider instanceof r&&this.volumeSlider instanceof r){this.toolbar.css({visibility:"hidden"}).show();var e=this.toolbar.find("a.k-button").show(),n=this.toolbar.find("div.kj-mediaplayer-seeker").show(),o=this.toolbar.find("span.kj-mediaplayer-time").show(),a=this.toolbar.find("div.kj-mediaplayer-volume").show(),s=this.options.mode===p,l=s?this.options.toolbarHeight:this.element.height(),c=this.element.width(),u=l/100,h=4*u,f=l-2*h,m=1.5*f;s&&this.element.height(this.media.height()),this.toolbar.height(l),e.css({height:f+x,width:f+x,margin:h+x}),e.children("svg").attr({height:Math.max(f-10,0)+x,width:Math.max(f-10,0)+x}).css({margin:"2px 0 0 -2px"});var b=f+2*h;o.css({fontSize:.8*f+x,margin:"0 "+h+x,lineHeight:"1em"});var k=o.width()+2*h;a.css({margin:3*h+x}),this.volumeSlider.wrapper.width(f),this.volumeSlider.resize();var y=a.width()+6*h,w=this.toolbar.width()-(e.length*b+k+y);if(n.css({margin:3*h+x}),this.seekerSlider.wrapper.width(Math.max(w-6*h-24*u,0)),this.seekerSlider.resize(),u>.5){this.toolbar.find(".k-slider-track").css({height:2*u*8+x,marginTop:2*u*-4+x}),this.toolbar.find(".k-slider-selection").css({height:2*u*8+x,marginTop:2*u*-4+x});var _=this.toolbar.find(".k-draghandle");_.css({top:2*u*-4+x,height:4*u*8+x,width:4*u*8+x,borderRadius:2*u*8+x}),_.first().css({left:-2*u*8+x})}e.find(i.format(d,g)).toggle(c>=e.length*b),e.find(i.format(d,v)).toggle(c>=(e.length-1)*b),o.toggle(c>=e.length*b+k),a.toggle(c>=e.length*b+k+y),n.toggle(n.width()>=m),this.toolbar.toggle(!s||!this._enable).css({visibility:"visible"})}},enable:function(e){var i=this;i.toolbar instanceof t&&i.seekerSlider instanceof r&&i.volumeSlider instanceof r&&(void 0===e&&(e=!0),i.element.off(l),i.toolbar.off(l),e?(i.options.mode===p&&i.element.on("mouseenter.kendoMediaPlayer touchstart.kendoMediaPlayer",function(){i.toolbar.show(300)}).on("mouseleave.kendoMediaPlayer focusout.kendoMediaPlayer",function(){i.toolbar.hide(300)}),i.toolbar.removeClass("k-state-disabled").on("click"+l,"a.k-button",t.proxy(i._onButtonClick,i))):i.toolbar.addClass("k-state-disabled").show(),i.seekerSlider.enable(e),i.volumeSlider.enable(e),i._enable=e)},_clear:function(){i.unbind(this.element),this.element.find("*").off(),this.element.off(),this.element.empty(),this.element.removeClass("kj-mediaplayer")},destroy:function(){o.fn.destroy.call(this),this._clear(),i.destroy(this.element)}});n.plugin(C)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(491),i(40)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=n.MultiSelect,a=i.data.DataSource,s=i.data.ObservableArray,l=window.assert,c=new window.Logger("kidoju.widgets.multiquiz"),u=window.kidoju.util,h=".kendoMultiQuiz",d="change",f="k-state-selected",p='<button class="k-button kj-multiquiz-item kj-multiquiz-button" data-'+i.ns+'uid="#: data.uid #" data-'+i.ns+'value="#: data.{0} #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></button>',m='<div class="k-widget kj-multiquiz-item kj-multiquiz-image" data-'+i.ns+'uid="#: data.uid #" data-'+i.ns+'value="#: data.{0} #"><div class="k-image" style="background-image:url(#: data.{1} #)"></div></div>',g='<span class="kj-multiquiz-item kj-multiquiz-link" data-'+i.ns+'uid="#: data.uid #" data-'+i.ns+'value="#: data.{0} #">#: data.{0} #</span>',v='<div class="kj-multiquiz-item kj-multiquiz-checkbox" data-'+i.ns+'uid="#: data.uid #"><input id="{2}_#: data.uid #" name="{2}" type="checkbox" class="k-checkbox" value="#: data.{0} #"><label class="k-checkbox-label" for="{2}_#: data.uid #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></label></div>',b=".kj-multiquiz-item.kj-multiquiz-button",k=".kj-multiquiz-item.kj-multiquiz-image",y=".kj-multiquiz-item.kj-multiquiz-link",w='.kj-multiquiz-item.kj-multiquiz-checkbox>input[type="checkbox"]',_="button",x="checkbox",S="image",C="link",A="multiselect",T=o.extend({init:function(t,e){o.fn.init.call(this,t,e),c.debug({method:"init",message:"widget initialized"}),this._value=this.options.value,this.setOptions(this.options),this._layout(),this._dataSource(),this.enable(this.options.enable)},modes:{button:_,checkbox:x,image:S,link:C,multiselect:A},options:{name:"MultiQuiz",autoBind:!0,dataSource:[],mode:_,shuffle:!1,textField:"text",imageField:"image",buttonTemplate:p,checkboxTemplate:v,imageTemplate:m,linkTemplate:g,multiSelectTemplate:'<span class="kj-multiquiz-item kj-multiquiz-multiselect"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></span>',itemStyle:{},selectedStyle:{},scaler:"div.kj-stage",stageElement:"div.kj-element",value:null,enable:!0,messages:{placeholder:"Select..."}},setOptions:function(t){o.fn.setOptions.call(this,t),(t=this.options).groupStyle=u.styleString2CssObject(t.groupStyle),t.itemStyle=u.styleString2CssObject(t.itemStyle),t.selectedStyle=u.styleString2CssObject(t.selectedStyle),this._buttonTemplate=i.template(i.format(t.buttonTemplate,t.textField,t.imageField)),this._checkboxTemplate=i.template(i.format(t.checkboxTemplate,t.textField,t.imageField,u.randomId())),this._imageTemplate=i.template(i.format(t.imageTemplate,t.textField,t.imageField)),this._linkTemplate=i.template(i.format(t.linkTemplate,t.textField,t.imageField)),this._multiSelectTemplate=i.format(t.multiSelectTemplate,t.textField,t.imageField)},events:[d],value:function(e){var i=this,n=i.options;if(Array.isArray(e)||e instanceof s){if(i.dataSource instanceof a)for(var o=function(t){return i.dataSource.data().find(function(e){return e[n.textField]===t})},r=e.length-1;r>=0;r--)o(e[r])||e.splice(r,1);else e=[];i._value=e,i._toggleSelection()}else{if("null"!==t.type(e)){if("undefined"===t.type(e))return i._value;throw new TypeError("`value` is expected to be a an array if not null or undefined")}"null"!==t.type(i._value)&&(i._value=null,i._toggleSelection())}},_layout:function(){var t=this.element;this.wrapper=t,t.addClass("kj-multiquiz").addClass("kj-interactive"),this.options.mode===A&&this._layoutMultiSelect()},_layoutMultiSelect:function(){var e=this.element,i=this.options;this.multiSelect=t("<input>").width("100%").appendTo(e).kendoMultiSelect({autoBind:i.autoBind,change:t.proxy(this._onMultiSelectChange,this),open:t.proxy(this._onMultiSelectOpen,this),dataSource:i.dataSource,dataTextField:i.textField,dataValueField:i.textField,placeholder:i.messages.placeholder,itemTemplate:this._multiSelectTemplate,tagTemplate:this._multiSelectTemplate,value:i.value,height:400}).data("kendoMultiSelect")},_onMultiSelectChange:function(){l.instanceof(r,this.multiSelect,l.format(l.messages.instanceof.default,"this.multiSelect","kendo.ui.MultiSelect"));var t=this.multiSelect.value();Array.isArray(t)||t instanceof s?this._value=t:this._value=null,this.trigger(d,{value:this._value})},_onMultiSelectOpen:function(t){var e=this.element,i=this.options,n=e.closest(i.scaler),o=u.getTransformScale(n),r=e.width(),a=e.height(),s=parseInt(e.css("font-size"),10),l=this.multiSelect.popup;l.element.css({fontSize:Math.floor(s*o)+"px",minWidth:Math.floor(r*o)+"px",width:Math.floor(r*o)+"px"}),setTimeout(function(){var t=e.closest(i.stageElement);if(n.length&&t.length){var r=t.position().top+n.offset().top,s=l.wrapper.position().top;s>r&&l.wrapper.css("top",s+(o-1)*a)}},0)},_onCheckBoxClick:function(e){l.instanceof(t.Event,e,l.format(l.messages.instanceof.default,"e","jQuery.Event"));var i=t(e.currentTarget),n=i.val();Array.isArray(this._value)||this._value instanceof s||(this._value=[]);var o=this._value.indexOf(n),r=!!i.prop("checked");r&&-1===o?this._value.push(n):!r&&o>=0&&this._value.splice(o,1),this._toggleCheckBoxes(),this.trigger(d,{value:this._value})},_onButtonClick:function(e){l.instanceof(t.Event,e,l.format(l.messages.instanceof.default,"e","jQuery.Event"));var n=t(e.currentTarget),o=n.attr(i.attr("value"));Array.isArray(this._value)||this._value instanceof s||(this._value=[]);var r=this._value.indexOf(o),a=n.hasClass(f);a||-1!==r?a&&r>=0&&this._value.splice(r,1):this._value.push(o),this._toggleButtons(),this.trigger(d,{value:this._value})},_onImageClick:function(e){l.instanceof(t.Event,e,l.format(l.messages.instanceof.default,"e","jQuery.Event"));var n=t(e.currentTarget),o=n.attr(i.attr("value"));Array.isArray(this._value)||this._value instanceof s||(this._value=[]);var r=this._value.indexOf(o),a=n.hasClass(f);a||-1!==r?a&&r>=0&&this._value.splice(r,1):this._value.push(o),this._toggleImages(),this.trigger(d,{value:this._value})},_onLinkClick:function(e){l.instanceof(t.Event,e,l.format(l.messages.instanceof.default,"e","jQuery.Event"));var n=t(e.currentTarget),o=n.attr(i.attr("value"));Array.isArray(this._value)||this._value instanceof s||(this._value=[]);var r=this._value.indexOf(o),a=n.hasClass(f);a||-1!==r?a&&r>=0&&this._value.splice(r,1):this._value.push(o),this._toggleLinks(),this.trigger(d,{value:this._value})},_toggleSelection:function(){switch(this.options.mode){case _:this._toggleButtons();break;case x:this._toggleCheckBoxes();break;case S:this._toggleImages();break;case C:this._toggleLinks();break;case A:this._toggleMultiSelect()}},_toggleButtons:function(){var e=this.element,n=this.options;e.find(b).removeClass(f).attr("style","").css(n.itemStyle),(Array.isArray(this._value)||this._value instanceof s)&&t.each(this._value,function(o,r){e.find(b+i.format('[{0}="{1}"]',i.attr("value"),r)).addClass(f).attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))})},_toggleCheckBoxes:function(){var e=this.element,n=this.options;e.children("div").attr("style","").css(n.itemStyle),e.find(w).prop("checked",!1).parent().attr("style","").css(n.itemStyle),(Array.isArray(this._value)||this._value instanceof s)&&t.each(this._value,function(o,r){e.find(w+i.format('[{0}="{1}"]',"value",r)).prop("checked",!0).parent().attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))})},_toggleImages:function(){var e=this.element,n=this.options;e.find(k).removeClass(f).attr("style","").css(n.itemStyle),(Array.isArray(this._value)||this._value instanceof s)&&t.each(this._value,function(o,r){e.find(k+i.format('[{0}="{1}"]',i.attr("value"),r)).addClass(f).attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))})},_toggleLinks:function(){var e=this.element,n=this.options;e.find(y).removeClass(f).attr("style","").css(n.itemStyle),(Array.isArray(this._value)||this._value instanceof s)&&t.each(this._value,function(o,r){e.find(y+i.format('[{0}="{1}"]',i.attr("value"),r)).addClass(f).attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))})},_toggleMultiSelect:function(){l.instanceof(r,this.multiSelect,l.format(l.messages.instanceof.default,"this.multiSelect","kendo.ui.MultiSelect")),this.multiSelect.value(this._value)},_dataSource:function(){this.dataSource=a.create(this.options.dataSource),this._refreshHandler&&this.dataSource.unbind(d,this._refreshHandler),this._refreshHandler=t.proxy(this.refresh,this),this.dataSource.bind(d,this._refreshHandler);var e=this.multiSelect;e instanceof r&&e.dataSource!==this.dataSource&&e.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},refresh:function(e){var n=this,o=n.element,a=n.options;if(l.instanceof(t,o,l.format(l.messages.instanceof.default,"this.element","jQuery")),a.mode===A)l.instanceof(r,n.multiSelect,l.format(l.messages.instanceof.default,"that.multiSelect","kendo.ui.MultiSelect")),n.multiSelect.refresh(e);else{var s=n.dataSource.data();e&&e.items instanceof i.data.ObservableArray&&(s=e.items),a.shuffle&&(s=u.shuffle(s)),o.empty(),t(s).each(function(e,i){switch(a.mode){case _:t(n._buttonTemplate(i)).css(a.itemStyle).appendTo(o);break;case S:t(n._imageTemplate(i)).css(a.itemStyle).appendTo(o);break;case C:t(n._linkTemplate(i)).css(a.itemStyle).appendTo(o);break;case x:t(n._checkboxTemplate(i)).css(a.itemStyle).appendTo(o)}})}-1===n.dataSource.data().indexOf(n._value)&&(n._value=null,n.trigger(d,{value:n._value})),c.debug({method:"refresh",message:"widget refreshed"})},enable:function(e){switch("undefined"===t.type(e)&&(e=!0),this.options.mode){case _:this._enableButtons(e);break;case x:this._enableCheckBoxes(e);break;case S:this._enableImages(e);break;case C:this._enableLinks(e);break;case A:this._enableMultiSelect(e)}},_enableButtons:function(e){var i=this.element;l.instanceof(t,i,l.format(l.messages.instanceof.default,"this.element","jQuery")),i.off(h),e&&i.on("click"+h+" tap"+h,b,t.proxy(this._onButtonClick,this)),i.toggleClass("k-state-disabled",!e)},_enableCheckBoxes:function(e){var i=this.element;l.instanceof(t,i,l.format(l.messages.instanceof.default,"this.element","jQuery")),i.off(h),e?i.on("click"+h,w,t.proxy(this._onCheckBoxClick,this)):i.on("click"+h,w,function(t){t.preventDefault()}).on(d+h,w,function(e){t(e.target).prop("checked",!1)}),i.find(w).toggleClass("k-state-disabled",!e).prop("readonly",!e)},_enableImages:function(e){var i=this.element;l.instanceof(t,i,l.format(l.messages.instanceof.default,"this.element","jQuery")),i.off(h),e&&i.on("click"+h,k,t.proxy(this._onImageClick,this)),i.toggleClass("k-state-disabled",!e)},_enableLinks:function(e){var i=this.element;l.instanceof(t,i,l.format(l.messages.instanceof.default,"this.element","jQuery")),i.off(h),e&&i.on("click"+h,y,t.proxy(this._onLinkClick,this)),i.toggleClass("k-state-disabled",!e)},_enableMultiSelect:function(t){l.instanceof(r,this.multiSelect,l.format(l.messages.instanceof.default,"this.multiSelect","kendo.ui.MultiSelect")),this.multiSelect.enable(t)},destroy:function(){var t=this.element;this.multiSelect=void 0,this._refreshHandler&&this.dataSource.unbind(d,this._refreshHandler),t.removeClass("kj-multiquiz").removeClass("kj-interactive").off(h),o.fn.destroy.call(this),i.destroy(t)}});n.plugin(T)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(69),i(62),i(113)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.List,r=t.extend({A:65},i.keys),a=i._activeElement,s=i.data.ObservableArray,l=t.proxy,c="id",u=".kendoMultiSelect",h=/"/g,d=t.isArray,f=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],p=o.extend({init:function(e,n){var r;this.ns=u,o.fn.init.call(this,e,n),this._optionsMap={},this._customOptions={},this._wrapper(),this._tagList(),this._input(),this._textContainer(),this._loader(),this._clearButton(),this._tabindex(this.input),e=this.element.attr("multiple","multiple").hide(),(n=this.options).placeholder||(n.placeholder=e.data("placeholder")),(r=e.attr(c))&&(this._tagID=r+"_tag_active",r+="_taglist",this.tagList.attr(c,r),this.input.attr("aria-describedby",r)),this._initialOpen=!0,this._aria(r),this._dataSource(),this._ignoreCase(),this._popup(),this._tagTemplate(),this.requireValueMapper(this.options),this._initList(),this._reset(),this._enable(),this._placeholder(),n.autoBind?this.dataSource.fetch():n.value&&this._preselect(n.value),t(this.element).parents("fieldset").is(":disabled")&&this.enable(!1),i.notify(this),this._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1},events:["open","close","change","select","deselect","filtering","dataBinding","dataBound"],setDataSource:function(t){this.options.dataSource=t,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(t){var e=this._listOptions(t);o.fn.setOptions.call(this,t),this.listView.setOptions(e),this._accessors(),this._aria(this.tagList.attr(c)),this._tagTemplate(),this._placeholder(),this._clearButton()},currentTag:function(t){if(void 0===t)return this._currentTag;this._currentTag&&(this._currentTag.removeClass("k-state-focused").removeAttr(c),this.input.removeAttr("aria-activedescendant")),t&&(t.addClass("k-state-focused").attr(c,this._tagID),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=t},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var t=this.ns;clearTimeout(this._busy),clearTimeout(this._typingTimeout),this.wrapper.off(t),this.tagList.off(t),this.input.off(t),this._clear.off(t),o.fn.destroy.call(this)},_activateItem:function(){this.popup.visible()&&o.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(e){var n=o.fn._listOptions.call(this,t.extend(e,{selectedItemChange:l(this._selectedItemChange,this),selectable:"multiple"})),r=this.options.itemTemplate||this.options.template,a=n.itemTemplate||r||n.template;return a||(a="#:"+i.expr(n.dataTextField,"data")+"#"),n.template=a,n},_setListValue:function(){o.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(t){var e=this.dataSource.flatView(),i=this._optionsMap,n=this._value;"rebind"===this._state&&(this._state="");for(var o=0;o<t.added.length;o++)if(void 0===i[n(t.added[o].dataItem)]){this._render(e);break}this._selectValue(t.added,t.removed)},_selectedItemChange:function(t){var e,i,n=t.items;for(i=0;i<n.length;i++)e=n[i],this.tagList.children().eq(e.index).children("span:first").html(this.tagTextTemplate(e.item))},_wrapperMousedown:function(e){var n="input"!==e.target.nodeName.toLowerCase(),o=t(e.target),r=o.hasClass("k-select")||o.hasClass("k-icon");r&&(r=!o.closest(".k-select").children(".k-i-arrow-60-down").length),!n||r&&i.support.mobileOS||e.preventDefault(),r||(this.input[0]!==a()&&n&&this.input.focus(),1===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass("k-state-focused")},_inputFocusout:function(){clearTimeout(this._typingTimeout),this.wrapper.removeClass("k-state-focused"),this._placeholder(!this.listView.selectedDataItems()[0],!0),this.close(),"filter"===this._state&&(this._state="accept",this.listView.skipUpdate(!0)),this.listView.bound()&&this.listView.isFiltered()&&(this.persistTagList=!0,this._clearFilter()),this.element.blur()},_removeTag:function(t,e){var i=this,n=i._state,o=t.index(),r=i.listView,a=r.value()[o],s=i.listView.selectedDataItems()[o],l=i._customOptions[a];if(i.trigger("deselect",{dataItem:s,item:t}))i._close();else{void 0!==l||"accept"!==n&&"filter"!==n||(l=i._optionsMap[a]);var c=function(){i.currentTag(null),e&&i._change(),i._close()};void 0===l?(i.persistTagList=!1,r.select(r.select()[o]).done(c)):(i.element[0].children[l].selected=!1,r.removeAt(o),t.remove(),c())}},_tagListClick:function(e){var i=t(e.currentTarget);i.children(".k-i-arrow-60-down").length||this._removeTag(i.closest("li"),!0)},_clearClick:function(){var e=this;"single"===e.options.tagMode?e.value([]):e.tagList.children().each(function(i,n){e._removeTag(t(n),!1)}),e.input.val(""),e._search(),e.trigger("change"),e.focus(),e._hideClear(),"filter"===e._state&&(e._state="accept")},_editable:function(e){var i=e.disable,n=e.readonly,o=this.wrapper.off(u),r=this.tagList.off(u),a=this.element.add(this.input.off(u));n||i?(i?o.addClass("k-state-disabled"):o.removeClass("k-state-disabled"),a.attr("disabled",i).attr("readonly",n).attr("aria-disabled",i)):(o.removeClass("k-state-disabled").on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",this._toggleHover).on("mousedown"+u+" touchend"+u,l(this._wrapperMousedown,this)),this.input.on("keydown.kendoMultiSelect",l(this._keydown,this)).on("paste"+u,l(this._search,this)).on("input"+u,l(this._search,this)).on("focus"+u,l(this._inputFocus,this)).on("focusout"+u,l(this._inputFocusout,this)),this._clear.on("click"+u,l(this._clearClick,this)),a.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1),r.on("mouseenter.kendoMultiSelect","li",function(){t(this).addClass("k-state-hover")}).on("mouseleave.kendoMultiSelect","li",function(){t(this).removeClass("k-state-hover")}).on("click.kendoMultiSelect","li.k-button .k-select",l(this._tagListClick,this)))},_close:function(){this.options.autoClose?this.close():this.popup.position()},_filterSource:function(t,e){e||(e=this._retrieveData),this._retrieveData=!1,o.fn._filterSource.call(this,t,e)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){this._request&&(this._retrieveData=!1),this._retrieveData||!this.listView.bound()||"accept"===this._state?(this._open=!0,this._state="rebind",this.listView.skipUpdate(!0),this.persistTagList=!(this._initialOpen&&!this.listView.bound()),this._filterSource(),this._focusItem()):this._allowOpening()&&(!this._initialOpen||this.options.autoBind||this.options.virtual||!this.options.value||t.isPlainObject(this.options.value[0])||this.value(this._initialValues),this.popup._hovered=!0,this._initialOpen=!1,this.popup.open(),this._focusItem())},toggle:function(t){this[(t=void 0!==t?t:!this.popup.visible())?"open":"close"]()},refresh:function(){this.listView.refresh()},_listBound:function(){var t=this.dataSource.flatView(),e=this.listView.skip();this._render(t),this._renderFooter(),this._renderNoData(),this._toggleNoData(!t.length),this._resizePopup(),this._open&&(this._open=!1,this.toggle(this._allowOpening())),this.popup.position(),!this.options.highlightFirst||void 0!==e&&0!==e||this.listView.focusFirst(),this._touchScroller&&this._touchScroller.reset(),this._hideBusy(),this._makeUnselectable(),this.trigger("dataBound")},_inputValue:function(){var t=this.input.val();return this.options.placeholder===t&&(t=""),t},value:function(t){var e=this.listView,i=e.value().slice(),n=this.options.maxSelectedItems,o=e.bound()&&e.isFiltered();if(void 0===t)return i;this.persistTagList=!1,this.requireValueMapper(this.options,t),t=this._normalizeValues(t),null!==n&&t.length>n&&(t=t.slice(0,n)),o&&this._clearFilter(),e.value(t),this._old=e.value(),o||this._fetchData(),this._toggleCloseVisibility()},_preselect:function(e,n){d(e)||e instanceof i.data.ObservableArray||(e=[e]),(t.isPlainObject(e[0])||e[0]instanceof i.data.ObservableObject||!this.options.dataValueField)&&(this.dataSource.data(e),this.value(n||this._initialValues),this._retrieveData=!0)},_setOption:function(t,e){var i=this.element[0].children[this._optionsMap[t]];i&&(i.selected=e)},_fetchData:function(){var t=this,e=!!t.dataSource.view().length;0===t.listView.value().length||t._request||(t._retrieveData||!t._fetch&&!e)&&(t._fetch=!0,t._retrieveData=!1,t.dataSource.read().done(function(){t._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var t=this.element,e=this.options,n=e.dataSource||{};(n=d(n)?{data:n}:n).select=t,n.fields=[{field:e.dataTextField},{field:e.dataValueField}],this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=l(this._showBusy,this),this._errorHandler=l(this._hideBusy,this)),this.dataSource=i.data.DataSource.create(n).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_reset:function(){var e=this,i=e.element,n=i.attr("form"),o=n?t("#"+n):i.closest("form");o[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initialValues),e._placeholder()})},e._form=o.on("reset",e._resetHandler))},_initValue:function(){var t=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(t)},_normalizeValues:function(e){var i=this;return null===e?e=[]:e&&t.isPlainObject(e)?e=[i._value(e)]:e&&t.isPlainObject(e[0])?e=t.map(e,function(t){return i._value(t)}):d(e)||e instanceof s?d(e)&&(e=e.slice()):e=[e],e},_change:function(){var t=this.value();(function(t,e){var i;if(null===t&&null!==e||null!==t&&null===e)return!1;if((i=t.length)!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0})(t,this._old)||(this._old=t.slice(),this.trigger("change"),this.element.trigger("change")),this._toggleCloseVisibility()},_click:function(t){var e=this,i=t.item;t.preventDefault(),e._select(i).done(function(){e._activeItem=i,e._change(),e._close()})},_getActiveItem:function(){return this._activeItem||t(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(e){var n,o=this,a=e.keyCode,s=o._currentTag,l=o.listView,c=o.input.val(),u=i.support.isRtl(o.wrapper),h=o.popup.visible(),d=0;if(a===r.DOWN){if(e.preventDefault(),!h)return o.open(),void(l.focus()||l.focusFirst());l.focus()?(!o._activeItem&&e.shiftKey&&(o._activeItem=l.focus(),d=-1),n=l.getElementIndex(o._getActiveItem()[0]),l.focusNext(),l.focus()?e.shiftKey&&o._selectRange(n,l.getElementIndex(l.focus()[0])+d):l.focusLast()):l.focusFirst()}else if(a===r.UP)h&&(!o._activeItem&&e.shiftKey&&(o._activeItem=l.focus(),d=1),n=l.getElementIndex(o._getActiveItem()[0]),l.focusPrev(),l.focus()?e.shiftKey&&o._selectRange(n,l.getElementIndex(l.focus()[0])+d):o.close()),e.preventDefault();else if(a===r.LEFT&&!u||a===r.RIGHT&&u)c||(s=s?s.prev():t(o.tagList[0].lastChild))[0]&&o.currentTag(s);else if(a===r.RIGHT&&!u||a===r.LEFT&&u)!c&&s&&(s=s.next(),o.currentTag(s[0]?s:null));else if(e.ctrlKey&&!e.altKey&&a===r.A&&h)this._getSelectedIndices().length===l.items().length&&(o._activeItem=null),l.items().length&&o._selectRange(0,l.items().length-1);else if(a===r.ENTER&&h){if(!l.focus())return;if(e.preventDefault(),l.focus().hasClass("k-state-selected"))return void o._close();o._select(l.focus()).done(function(){o._change(),o._close()})}else if(a===r.SPACEBAR&&e.ctrlKey&&h)o._activeItem&&l.focus()&&l.focus()[0]===o._activeItem[0]&&(o._activeItem=null),t(l.focus()).hasClass("k-state-selected")||(o._activeItem=l.focus()),o._select(l.focus()).done(function(){o._change()}),e.preventDefault();else if(a===r.SPACEBAR&&e.shiftKey&&h){var f=l.getElementIndex(o._getActiveItem()),p=l.getElementIndex(l.focus());void 0!==f&&void 0!==p&&o._selectRange(f,p),e.preventDefault()}else if(a===r.ESC)h?e.preventDefault():(o.tagList.children().each(function(e,i){o._removeTag(t(i),!1)}),o.trigger("change")),o.close();else if(a===r.HOME)h?l.focus()?(e.ctrlKey&&e.shiftKey&&o._selectRange(l.getElementIndex(l.focus()[0]),0),l.focusFirst()):o.close():c||(s=o.tagList[0].firstChild)&&o.currentTag(t(s));else if(a===r.END)h?l.focus()?(e.ctrlKey&&e.shiftKey&&o._selectRange(l.getElementIndex(l.focus()[0]),l.element.children().length-1),l.focusLast()):o.close():c||(s=o.tagList[0].lastChild)&&o.currentTag(t(s));else if(a!==r.DELETE&&a!==r.BACKSPACE||c)if(!o.popup.visible()||a!==r.PAGEDOWN&&a!==r.PAGEUP)clearTimeout(o._typingTimeout),setTimeout(function(){o._scale()}),o._search();else{e.preventDefault();var m=a===r.PAGEDOWN?1:-1;l.scrollWith(m*l.screenHeight())}else{if(o._state="accept","single"===o.options.tagMode)return l.value([]),o._change(),void o._close();a!==r.BACKSPACE||s||(s=t(o.tagList[0].lastChild)),s&&s[0]&&o._removeTag(s,!0)}},_hideBusy:function(){clearTimeout(this._busy),this.input.attr("aria-busy",!1),this._loading.addClass("k-hidden"),this._request=!1,this._busy=null,this._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass("k-hidden"),this._hideClear()},_showBusy:function(){this._request=!0,this._busy||(this._busy=setTimeout(l(this._showBusyHandler,this),100))},_placeholder:function(t,e){var n=this.input,o=a(),r=this.options.placeholder,s=n.val(),l=n[0]===o,c=s.length;l&&!this.options.autoClose&&s!==r||(c=0,s=""),void 0===t&&(t=!1,n[0]!==o&&(t=!this.listView.selectedDataItems()[0])),this._prev=s,n.toggleClass("k-readonly",t).val(t?r:s),l&&!e&&i.caret(n[0],c,c),this._scale()},_scale:function(){var t,e=this.wrapper.find(".k-multiselect-wrap"),i=e.width(),n=this._span.text(this.input.val());e.is(":visible")?t=n.width()+25:(n.appendTo(document.documentElement),i=t=n.width()+25,n.appendTo(e)),this.input.width(t>i?i:t)},_option:function(t,e,n){var o="<option";return void 0!==t&&(-1!==(t+="").indexOf('"')&&(t=t.replace(h,"&quot;")),o+=' value="'+t+'"'),n&&(o+=" selected"),o+=">",void 0!==e&&(o+=i.htmlEncode(e)),o+"</option>"},_render:function(t){var e,i,n,o,r=this.listView.selectedDataItems(),a=this.listView.value(),s=t.length,l="";a.length!==r.length&&(r=this._buildSelectedItems(a));var c={},u={};for(o=0;o<s;o++)i=t[o],n=this._value(i),-1!==(e=this._selectedItemIndex(n,r))&&r.splice(e,1),u[n]=o,l+=this._option(n,this._text(i),-1!==e);if(r.length)for(o=0;o<r.length;o++)i=r[o],c[n=this._value(i)]=s,u[n]=s,s+=1,l+=this._option(n,this._text(i),!0);this._customOptions=c,this._optionsMap=u,this.element.html(l)},_buildSelectedItems:function(t){for(var e,i=this.options.dataValueField,n=this.options.dataTextField,o=[],r=0;r<t.length;r++)(e={})[i]=t[r],e[n]=t[r],o.push(e);return o},_selectedItemIndex:function(t,e){for(var i=this._value,n=0;n<e.length;n++)if(t===i(e[n]))return n;return-1},_search:function(){var t=this;t._typingTimeout=setTimeout(function(){var e=t._inputValue();t._prev!==e&&(t._prev=e,t.search(e),t._toggleCloseVisibility())},t.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&o.fn._allowOpening.call(this)},_allowSelection:function(){var t=this.options.maxSelectedItems;return null===t||t>this.listView.value().length},_angularTagItems:function(e){var i=this;i.angular(e,function(){return{elements:i.tagList[0].children,data:t.map(i.dataItems(),function(t){return{dataItem:t}})}})},updatePersistTagList:function(t,e){this.persistTagList.added&&this.persistTagList.added.length===e.length&&this.persistTagList.removed&&this.persistTagList.removed.length===t.length?this.persistTagList=!1:this.persistTagList={added:t,removed:e}},_selectValue:function(t,e){var i,n,o,r=this.value(),a=this.dataSource.total(),s=this.tagList,l=this._value;if(this.persistTagList)this.updatePersistTagList(t,e);else{if(this._angularTagItems("cleanup"),"multiple"===this.options.tagMode){for(o=e.length-1;o>-1;o--)i=e[o],s.children().length&&(s[0].removeChild(s[0].children[i.position]),this._setOption(l(i.dataItem),!1));for(o=0;o<t.length;o++)n=t[o],s.append(this.tagTemplate(n.dataItem)),this._setOption(l(n.dataItem),!0)}else{for((!this._maxTotal||this._maxTotal<a)&&(this._maxTotal=a),s.html(""),r.length&&s.append(this.tagTemplate({values:r,dataItems:this.dataItems(),maxTotal:this._maxTotal,currentTotal:a})),o=e.length-1;o>-1;o--)this._setOption(l(e[o].dataItem),!1);for(o=0;o<t.length;o++)this._setOption(l(t[o].dataItem),!0)}this._angularTagItems("compile"),this._placeholder()}},_select:function(e){var i=t.Deferred().resolve();if(!e)return i;var n=this,o=n.listView,r=o.dataItemByIndex(o.getElementIndex(e)),a=e.hasClass("k-state-selected");return"rebind"===n._state&&(n._state=""),n._allowSelection()||a?n.trigger(a?"deselect":"select",{dataItem:r,item:e})?(n._close(),i):(n.persistTagList=!1,o.select(e).done(function(){n._placeholder(),"filter"===n._state&&(n._state="accept",o.skipUpdate(!0))})):i},_selectRange:function(e,i){var n,o=this,r=this.listView,a=this.options.maxSelectedItems,s=this._getSelectedIndices().slice(),l=[],c=function(e){r.select(e).done(function(){e.forEach(function(e){var i=r.dataItemByIndex(e),n=r.element.children()[e],a=t(n).hasClass("k-state-selected");o.trigger(a?"select":"deselect",{dataItem:i,item:t(n)})}),o._change()})};if(s.length-1==i-e)return c(s);if(e<i)for(n=e;n<=i;n++)l.push(n);else for(n=e;n>=i;n--)l.push(n);for(null!==a&&l.length>a&&(l=l.slice(0,a)),n=0;n<l.length;n++){var u=l[n];-1==this._getSelectedIndices().indexOf(u)?s.push(u):s.splice(s.indexOf(u),1)}return s.length?(o.persistTagList=!1,c(s)):void 0},_input:function(){var e=this.element,i=e[0].accessKey,n=this._innerWrapper.children("input.k-input");n[0]||(n=t('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper)),e.removeAttr("accesskey"),this._focused=this.input=n.attr({accesskey:i,autocomplete:"off",role:"listbox",title:e[0].title,"aria-expanded":!1})},_tagList:function(){var e=this._innerWrapper.children("ul");e[0]||(e=t('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(this._innerWrapper)),this.tagList=e},_tagTemplate:function(){var t,e=this.options,n=e.tagTemplate,o=e.dataSource,r="multiple"===e.tagMode;this.element[0].length&&!o&&(e.dataTextField=e.dataTextField||"text",e.dataValueField=e.dataValueField||"value"),t=r?i.template("#:"+i.expr(e.dataTextField,"data")+"#",{useWithBlock:!1}):i.template("#:values.length# item(s) selected"),this.tagTextTemplate=n=n?i.template(n):t,this.tagTemplate=function(t){return'<li class="k-button" unselectable="on"><span unselectable="on">'+n(t)+'</span><span unselectable="on" aria-label="'+(r?"delete":"open")+'" class="k-select"><span class="k-icon '+(r?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=t('<span class="k-icon k-i-loading k-hidden"></span>').insertAfter(this.input)},_clearButton:function(){o.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-multiselect-clearable"))},_textContainer:function(){var e=i.getComputedStyles(this.input[0],f);e.position="absolute",e.visibility="hidden",e.top=-3333,e.left=-3333,this._span=t("<span/>").css(e).appendTo(this.wrapper)},_wrapper:function(){var e=this.element,i=e.parent("span.k-multiselect");i[0]||((i=e.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent())[0].style.cssText=e[0].style.cssText,i[0].title=e[0].title,t('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(e)),this.wrapper=i.addClass(e[0].className).css("display",""),this._innerWrapper=t(i[0].firstChild)}});n.plugin(p)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(61),i(40)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=n.DropDownList,a=i.data.DataSource,s=window.assert,l=new window.Logger("kidoju.widgets.quiz"),c=window.kidoju.util,u=".kendoQuiz",h="change",d='<button class="k-button kj-quiz-item kj-quiz-button" data-'+i.ns+'uid="#: data.uid #" data-'+i.ns+'value="#: data.{0} #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></button>',f='<div class="k-widget kj-quiz-item kj-quiz-image" data-'+i.ns+'uid="#: data.uid #" data-'+i.ns+'value="#: data.{0} #"><div class="k-image" style="background-image:url(#: data.{1} #)"></div></div>',p='<span class="kj-quiz-item kj-quiz-link" data-'+i.ns+'uid="#: data.uid #" data-'+i.ns+'value="#: data.{0} #">#: data.{0} #</span>',m='<div class="kj-quiz-item kj-quiz-radio" data-'+i.ns+'uid="#: data.uid #"><input id="{2}_#: data.uid #" name="{2}" type="radio" class="k-radio" value="#: data.{0} #"><label class="k-radio-label" for="{2}_#: data.uid #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></label></div>',g=".kj-quiz-item.kj-quiz-link",v='.kj-quiz-item.kj-quiz-radio>input[type="radio"]',b="button",k="dropdown",y="image",w="link",_="radio",x=o.extend({init:function(t,e){o.fn.init.call(this,t,e),l.debug({method:"init",message:"widget initialized"}),this._value=this.options.value,this.setOptions(this.options),this._layout(),this._dataSource(),this.enable(this.options.enable)},modes:{button:b,dropdown:k,link:w,image:y,radio:_},options:{name:"Quiz",autoBind:!0,dataSource:[],mode:b,shuffle:!1,textField:"text",imageField:"image",buttonTemplate:d,dropDownTemplate:'<span class="kj-quiz-item kj-quiz-dropdown"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></span>',imageTemplate:f,linkTemplate:p,radioTemplate:m,itemStyle:{},selectedStyle:{},scaler:"div.kj-stage",stageElement:"div.kj-element",value:null,enable:!0,messages:{optionLabel:"Select..."}},setOptions:function(t){o.fn.setOptions.call(this,t),(t=this.options).groupStyle=c.styleString2CssObject(t.groupStyle),t.itemStyle=c.styleString2CssObject(t.itemStyle),t.selectedStyle=c.styleString2CssObject(t.selectedStyle),this._buttonTemplate=i.template(i.format(t.buttonTemplate,t.textField,t.imageField)),this._dropDownTemplate=i.format(t.dropDownTemplate,t.textField,t.imageField),this._imageTemplate=i.template(i.format(t.imageTemplate,t.textField,t.imageField)),this._linkTemplate=i.template(i.format(t.linkTemplate,t.textField,t.imageField)),this._radioTemplate=i.template(i.format(t.radioTemplate,t.textField,t.imageField,c.randomId()))},events:[h],value:function(e){var i=this.options;if("string"===t.type(e))this._value!==e&&this.dataSource instanceof a&&this.dataSource.data().find(function(t){return t[i.textField]===e})&&(this._value=e,this._toggleSelection());else{if("null"!==t.type(e)){if("undefined"===t.type(e))return this._value;throw new TypeError("`value` is expected to be a string if not null or undefined")}"null"!==t.type(this._value)&&(this._value=null,this._toggleSelection())}},_layout:function(){var t=this.element;this.wrapper=t,t.addClass("kj-quiz").addClass("kj-interactive"),this.options.mode===k&&this._layoutDropDown()},_layoutDropDown:function(){var e=this.element,i=this.options;this.dropDownList=t("<input>").width("100%").appendTo(e).kendoDropDownList({autoBind:i.autoBind,change:t.proxy(this._onDropDownListChange,this),open:t.proxy(this._onDropDownListOpen,this),dataSource:i.dataSource,dataTextField:i.textField,dataValueField:i.textField,optionLabel:i.messages.optionLabel,template:this._dropDownTemplate,valueTemplate:this._dropDownTemplate,value:i.value,height:400}).data("kendoDropDownList")},_onDropDownListChange:function(){s.instanceof(r,this.dropDownList,s.format(s.messages.instanceof.default,"this.dropDownList","kendo.ui.DropDownList"));var e=this.dropDownList.value();"string"===t.type(e)&&e.length?this._value=e:this._value=null,this.trigger(h,{value:this._value})},_onDropDownListOpen:function(t){var e=this.element,i=this.options,n=e.closest(i.scaler),o=c.getTransformScale(n),r=e.width(),a=e.height(),s=parseInt(e.css("font-size"),10),l=this.dropDownList.popup;l.element.css({fontSize:Math.floor(s*o)+"px",minWidth:Math.floor(r*o)+"px",width:Math.floor(r*o)+"px"}),setTimeout(function(){var t=e.closest(i.stageElement);if(n.length&&t.length){var r=t.position().top+n.offset().top,s=l.wrapper.position().top;s>r&&l.wrapper.css("top",s+(o-1)*a)}},0)},_onButtonClick:function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event"));var n=t(e.currentTarget).attr(i.attr("value"));n!==this._value?this._value=n:this._value=null,this._toggleButtons(),this.trigger(h,{value:this._value})},_onImageClick:function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event"));var n=t(e.currentTarget).attr(i.attr("value"));n!==this._value?this._value=n:this._value=null,this._toggleImages(),this.trigger(h,{value:this._value})},_onLinkClick:function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event"));var n=t(e.currentTarget).attr(i.attr("value"));n!==this._value?this._value=n:this._value=null,this._toggleLinks(),this.trigger(h,{value:this._value})},_onRadioClick:function(e){s.instanceof(t.Event,e,s.format(s.messages.instanceof.default,"e","jQuery.Event"));var i=t(e.currentTarget).val();i!==this._value?this._value=i:this._value=null,this._toggleRadios(),this.trigger(h,{value:this._value})},_toggleSelection:function(){switch(this.options.mode){case b:this._toggleButtons();break;case k:this._toggleDropDownList();break;case y:this._toggleImages();break;case w:this._toggleLinks();break;case _:this._toggleRadios()}},_toggleButtons:function(){var e=this.element,n=this.options;e.find(".kj-quiz-item.kj-quiz-button").removeClass("k-state-selected").attr("style","").css(n.itemStyle),"string"===t.type(this._value)&&e.find(".kj-quiz-item.kj-quiz-button"+i.format('[{0}="{1}"]',i.attr("value"),this._value)).addClass("k-state-selected").attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))},_toggleDropDownList:function(){s.instanceof(r,this.dropDownList,s.format(s.messages.instanceof.default,"this.dropDownList","kendo.ui.DropDownList")),this.dropDownList.value(this._value)},_toggleImages:function(){var e=this.element,n=this.options;e.find(".kj-quiz-item.kj-quiz-image").removeClass("k-state-selected").attr("style","").css(n.itemStyle),"string"===t.type(this._value)&&e.find(".kj-quiz-item.kj-quiz-image"+i.format('[{0}="{1}"]',i.attr("value"),this._value)).addClass("k-state-selected").attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))},_toggleLinks:function(){var e=this.element,n=this.options;e.find(g).removeClass("k-state-selected").attr("style","").css(n.itemStyle),"string"===t.type(this._value)&&e.find(g+i.format('[{0}="{1}"]',i.attr("value"),this._value)).addClass("k-state-selected").attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))},_toggleRadios:function(){var e=this.element,n=this.options;e.children("div").attr("style","").css(n.itemStyle),e.find(v).prop("checked",!1).parent().attr("style","").css(n.itemStyle),"string"===t.type(this._value)&&e.find(v+i.format('[{0}="{1}"]',"value",this._value)).prop("checked",!0).parent().attr("style","").css(t.extend({},n.itemStyle,n.selectedStyle))},_dataSource:function(){this.dataSource=a.create(this.options.dataSource),this._refreshHandler&&this.dataSource.unbind(h,this._refreshHandler),this._refreshHandler=t.proxy(this.refresh,this),this.dataSource.bind(h,this._refreshHandler);var e=this.dropDownList;e instanceof r&&e.dataSource!==this.dataSource&&e.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},refresh:function(e){var n=this,o=n.element,a=n.options;if(s.instanceof(t,o,s.format(s.messages.instanceof.default,"this.element","jQuery")),a.mode===k)s.instanceof(r,n.dropDownList,s.format(s.messages.instanceof.default,"that.dropDownList","kendo.ui.DropDownList")),n.dropDownList.refresh(e);else{var u=n.dataSource.data();e&&e.items instanceof i.data.ObservableArray&&(u=e.items),a.shuffle&&(u=c.shuffle(u)),o.empty(),t(u).each(function(e,i){switch(a.mode){case b:t(n._buttonTemplate(i)).css(a.itemStyle).appendTo(o);break;case y:t(n._imageTemplate(i)).css(a.itemStyle).appendTo(o);break;case w:t(n._linkTemplate(i)).css(a.itemStyle).appendTo(o);break;case _:t(n._radioTemplate(i)).css(a.itemStyle).appendTo(o)}})}-1===n.dataSource.data().indexOf(n._value)&&(n._value=null,n.trigger(h,{value:n._value})),l.debug({method:"refresh",message:"widget refreshed"})},enable:function(e){switch("undefined"===t.type(e)&&(e=!0),this.options.mode){case b:this._enableButtons(e);break;case k:this._enableDropDownList(e);break;case y:this._enableImages(e);break;case w:this._enableLinks(e);break;case _:this._enableRadios(e)}},_enableButtons:function(e){var i=this.element;s.instanceof(t,i,s.format(s.messages.instanceof.default,"this.element","jQuery")),i.off(u),e&&i.on("click"+u,".kj-quiz-item.kj-quiz-button",t.proxy(this._onButtonClick,this)),i.toggleClass("k-state-disabled",!e)},_enableDropDownList:function(t){s.instanceof(r,this.dropDownList,s.format(s.messages.instanceof.default,"this.dropDownList","kendo.ui.DropDownList")),this.dropDownList.enable(t)},_enableImages:function(e){var i=this.element;s.instanceof(t,i,s.format(s.messages.instanceof.default,"this.element","jQuery")),i.off(u),e&&i.on("click"+u,".kj-quiz-item.kj-quiz-image",t.proxy(this._onImageClick,this)),i.toggleClass("k-state-disabled",!e)},_enableLinks:function(e){var i=this.element;s.instanceof(t,i,s.format(s.messages.instanceof.default,"this.element","jQuery")),i.off(u),e&&i.on("click"+u,g,t.proxy(this._onLinkClick,this)),i.toggleClass("k-state-disabled",!e)},_enableRadios:function(e){var i=this.element;s.instanceof(t,i,s.format(s.messages.instanceof.default,"this.element","jQuery")),i.off(u),e?i.on("click"+u,v,t.proxy(this._onRadioClick,this)):i.on("click"+u,v,function(t){t.preventDefault()}).on(h+u,v,function(e){t(e.target).prop("checked",!1)}),i.find(v).toggleClass("k-state-disabled",!e).prop("readonly",!e)},destroy:function(){var t=this.element;this.dropDownList=void 0,this._refreshHandler&&this.dataSource.unbind(h,this._refreshHandler),t.removeClass("kj-quiz").removeClass("kj-interactive").off(u),o.fn.destroy.call(this),i.destroy(t)}});n.plugin(x)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.Widget,r=new window.Logger("kidoju.widgets.rating"),a="span.kj-rating-star",s=3,l=".kendoRating";function c(t){t=parseFloat(t);var e=Math.pow(10,s||0);return Math.round(t*e)/e}var u=o.extend({init:function(e,n){var a=t(e);a.type="number",this.ns=l,n=t.extend({value:parseFloat(a.attr("value")||0),min:parseFloat(a.attr("min")||0),max:parseFloat(a.attr("max")||5),step:parseFloat(a.attr("step")||1),disabled:a.prop("disabled"),readonly:a.prop("readonly")},n),o.fn.init.call(this,e,n),r.debug({method:"init",message:"widget initialized"}),this._layout(),this.value(n.value),i.notify(this)},events:["change"],options:{name:"Rating",value:0,min:0,max:5,step:1},value:function(t){var e=this.element,n=this.options;if(t=parseFloat(t),isNaN(t))return parseFloat(e.val());if(!(t>=n.min&&t<=n.max))throw new RangeError(i.format("Expecting a number between {0} and {1}",n.min,n.max));parseFloat(e.val())!==t&&(e.val(t),this.refresh())},_layout:function(){var t=this.element,e=this.options;this._clear(),t.wrap('<span class="kj-rating"/>'),t.hide(),this.wrapper=t.parent();for(var n=c((e.max-e.min)/e.step),o=1;o<=n;o++)this.wrapper.append(i.format('<span class="kj-rating-star" data-star="{0}">{1}</span>',o,"&#x2606;"));this._editable(e)},_editable:function(e){var i=e.disabled,n=e.readonly,o=this.wrapper;o.find(a).off(l),n||i?o.addClass("k-state-disabled"):(o.removeClass("k-state-disabled"),o.find(a).on("mouseenter.kendoRating mouseleave.kendoRating",t.proxy(this._toggleHover,this)).on("click.kendoRating",t.proxy(this._onStarClick,this)))},enable:function(t){this._editable({readonly:!1,disabled:!(t=void 0===t||t)})},refresh:function(){var e=this.options;if(this.wrapper){var n=c((this.value()-e.min)/e.step);t.each(this.wrapper.find(a),function(e,o){var r=t(o);parseFloat(r.attr(i.attr("star")))<=n?r.html("&#x2605;").addClass("k-state-selected"):r.html("&#x2606;").removeClass("k-state-selected")})}},_onStarClick:function(e){var n=this.options,o=parseFloat(t(e.currentTarget).attr(i.attr("star"))),r=n.min+o*n.step;e.preventDefault(),this.trigger("change",{value:r})||this.value(r)},_toggleHover:function(e){var n=parseFloat(t(e.currentTarget).attr(i.attr("star")));t.each(this.wrapper.find(a),function(o,r){var a=t(r);"mouseenter"===e.type&&parseFloat(a.attr(i.attr("star")))<=n?a.html("&#x2605;").addClass("k-state-hover"):a.html(a.hasClass("k-state-selected")?"&#x2605;":"&#x2606;").removeClass("k-state-hover")})},_clear:function(){var t=this.element;this.wrapper&&(this.wrapper.find(a).off(l).remove(),t.unwrap(),t.off(l),delete this.wrapper,t.show())},destroy:function(){this._clear(),o.fn.destroy.call(this)}});n.plugin(u)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(44),i(24),i(84),i(40)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.data,o=i.drawing,r=i.geometry,a=n.DataSource,s=o.Surface,l=i.ui.Widget,c=i.ui.ToolBar,u=window.assert,h=new window.Logger("kidoju.widgets.selection"),d=window.kidoju.util,f="string",p=".kendoSelector",m=i.Class.extend({init:function(t){u.isPlainObject(t,u.format(u.messages.isPlainObject.default,"options")),u(f,t.container,u.format(u.messages.type.default,"options.container",f)),u(f,t.scaler,u.format(u.messages.type.default,"options.scaler",f)),this._container=t.container,this._scaler=t.scaler},enable:function(e){e="undefined"===t.type(e)||!!e;var i={};t(document).off(p),e&&t(document).on("mousedown.kendoSelector touchstart.kendoSelector",this._container,i,this._onMouseDown.bind(this)).on("mousemove.kendoSelector touchmove.kendoSelector",this._container,i,this._onMouseMove.bind(this)).on("mouseleave.kendoSelector touchleave.kendoSelector",this._container,i,this._onMouseEnd.bind(this)).on("mouseup.kendoSelector touchend.kendoSelector",i,this._onMouseEnd.bind(this))},_getStagePoint:function(e){u.instanceof(t.Event,e,u.format(u.messages.instanceof.default,"e","jQuery.Event")),u.instanceof(window.Element,e.target,u.format(u.messages.instanceof.default,"e.target","Element")),u.type(f,this._container,u.format(u.messages.type.default,"this._container",f)),u.type(f,this._scaler,u.format(u.messages.type.default,"this._scaler",f));var i=t(e.target).closest(this._container);u.hasLength(i,u.format(u.messages.hasLength.default,"container"));var n=i.closest(this._scaler),o=n.length?d.getTransformScale(n):1,a=d.getMousePosition(e,i);return new r.Point(a.x/o,a.y/o)},_getSelectorSurface:function(e){u.instanceof(t,e,u.format(u.messages.instanceof.default,"target","jQuery")),u.hasLength(e,u.format(u.messages.hasLength.default,"target")),u.type(f,this._container,u.format(u.messages.type.default,"this._container",f));var n=e.closest(this._container).find(i.roleSelector("selectorsurface")).data("kendoSelectorSurface");if(n instanceof v&&n.enabled())return n},_onMouseDown:function(e){u.instanceof(t.Event,e,u.format(u.messages.instanceof.default,"e","jQuery.Event")),u.instanceof(window.Element,e.target,u.format(u.messages.instanceof.default,"e.target","Element"));var i=t(e.target);if(!i.closest(".kj-interactive").length){var n=this._getSelectorSurface(i);if(n instanceof v){var r=this._getStagePoint(e),a=n._pullSelections(r);if(Array.isArray(a)&&0===a.length){var s=n.activeSelector.options.stroke,l=new o.Path({stroke:s});l.moveTo(r),n.drawingSurface.draw(l),e.data.type="selection",e.data.path=l,e.data.selectorSurface=n,h.debug({method:"_onMouseDown",message:"Started new selection",data:s})}}}},_onMouseMove:function(e){if(u.instanceof(t.Event,e,u.format(u.messages.instanceof.default,"e","jQuery.Event")),t.isPlainObject(e.data)&&"selection"===e.data.type&&e.data.path instanceof o.Path){e.preventDefault();var i=this._getStagePoint(e);e.data.path.lineTo(i)}},_onMouseEnd:function(e){if(u.instanceof(t.Event,e,u.format(u.messages.instanceof.default,"e","jQuery.Event")),t.isPlainObject(e.data)&&"selection"===e.data.type&&e.data.path instanceof o.Path){if(e.preventDefault(),e.data.selectorSurface instanceof v){var i=e.data.path.bbox();e.data.selectorSurface._pushSelection(i)}e.data.type=void 0,e.data.path=void 0,e.data.selectorSurface=void 0,t.isFunction(window.getSelection)&&window.getSelection().removeAllRanges()}}});m.getSingleton=function(t){return u.isPlainObject(t,u.format(u.messages.isPlainObject.default,"options")),u(f,t.container,u.format(u.messages.type.default,"options.container",f)),u(f,t.scaler,u.format(u.messages.type.default,"options.scaler",f)),m._instance||(m._instance=new m(t)),u.equal(t.container,m._instance._container,u.format(u.messages.equal.default,"SelectorEvents._instance._container","options.container")),u.equal(t.scaler,m._instance._scaler,u.format(u.messages.equal.default,"SelectorEvents._instance._scaler","options.scaler")),m._instance};var g=c.extend({init:function(t,e){e=e||{},c.fn.init.call(this,t,e),h.debug({method:"init",message:"toolbar initialized"}),this.bind("toggle",this._onToggle),i.notify(this)},options:{name:"SelectorToolBar",iconSize:16,resizable:!1},registerSelectorSurface:function(t){u.instanceof(v,t,u.format(u.messages.instanceof.default,"selectorSurface","kendo.ui.SelectorSurface")),this.selectorSurface=t},_onToggle:function(t){u.isPlainObject(t,u.format(u.messages.isPlainObject.default,"e")),u.type(f,t.id,u.format(u.messages.type.default,"e.id",f)),u.instanceof(v,this.selectorSurface,u.format(u.messages.instanceof.default,"this.selectorSurface","kendo.ui.SelectorSurface")),u.isArray(this.selectorSurface.selectors,u.format(u.messages.isArray.default,"this.selectorSurface.selectors"));for(var e=t.id.substr("button_".length),i=0,n=this.selectorSurface.selectors.length;i<n;i++)if(this.selectorSurface.selectors[i].options.id===e){this.selectorSurface.activeSelector=this.selectorSurface.selectors[i];break}},_createButton:function(e){u.instanceof(b,e,u.format(u.messages.instanceof.default,"selector","kendo.ui.Selector")),u.instanceof(v,this.selectorSurface,u.format(u.messages.instanceof.default,"this.selectorSurface","kendo.ui.SelectorSurface"));var n,a=t.Deferred(),s=parseInt(this.options.iconSize,10)||16,l=i.deepExtend({},e.options.stroke,{dashType:"solid",opacity:1,width:2}),c=Math.floor(s/10),h=new o.Group,d=new r.Rect([c,c],[s-2*c,s-2*c]);switch(e.options.shape){case b.fn.shapes.circle:n=this.selectorSurface._createCirclePath(d,l);break;case b.fn.shapes.cross:n=this.selectorSurface._createCrossPath(d,l);break;case b.fn.shapes.rect:n=this.selectorSurface._createRectPath(d,l)}return n instanceof o.Element&&(n.transform(r.transform().translate(c,c)),h.append(n)),o.exportImage(h,{width:s,height:s}).done(function(t){a.resolve({group:"selectors",id:"button_"+e.options.id,imageUrl:t,showText:"overflow",text:e.options.shape.substr(0,1).toUpperCase()+e.options.shape.substr(1).toLowerCase,togglable:!0,type:"button"})}).fail(a.reject),a.promise()},refresh:function(){function e(){var t=i.element.children(".k-button-group, .km-buttongroup");t.length&&i.remove(t)}u.instanceof(v,this.selectorSurface,u.format(u.messages.instanceof.default,"this.selectorSurface","kendo.ui.SelectorSurface")),u.isArray(this.selectorSurface.selectors,u.format(u.messages.isArray.default,"this.selectorSurface.selectors"));var i=this,n=i.selectorSurface,o=n.selectors.length;if(o>1){for(var r=[],a=0;a<o;a++)r.push(i._createButton(n.selectors[a]));t.when.apply(i,r).done(function(){e();var t=Array.prototype.slice.call(arguments);u.equal(o,t.length,u.format(u.messages.equal.default,"buttons.length","length")),i.add({type:"buttonGroup",buttons:t}),u.instanceof(b,n.activeSelector,u.format(u.messages.instanceof.default,"selectorSurface.activeSelector","kendo.ui.Selector")),i.toggle("#button_"+n.activeSelector.options.id,!0),i.wrapper.toggle(!0)})}else e(),i.wrapper.toggle(!1)},destroy:function(){var t=this.element;this.selectorSurface=void 0,c.fn.destroy.call(this),i.destroy(t)}});i.ui.plugin(g);var v=l.extend({init:function(t,e){l.fn.init.call(this,t,e),h.debug("surface initialized"),this.selectors=[],this._layout(),this._initToolBar(),i.notify(this)},options:{name:"SelectorSurface",container:"",toolbar:""},_layout:function(){var t=this.wrapper=this.element;t.addClass("kj-selector-surface").attr(i.attr("id"),d.randomId()),this.drawingSurface=s.create(t)},_initToolBar:function(){var e=t(this.options.toolbar),n=this.element.attr(i.attr("id"));if(e.length){var o=e.find(i.format('[{0}="{1}"]',i.attr("id"),n)).data("kendoSelectorToolBar");if(o instanceof g)this.toolBar=o;else{var r=t("<div/>").appendTo(e);this.toolBar=r.kendoSelectorToolBar().data("kendoSelectorToolBar")}this.toolBar.registerSelectorSurface(this)}},registerSelector:function(t){if(u.instanceof(b,t,u.format(u.messages.instanceof.default,"selector","Selector")),u.isArray(this.selectors,u.format(u.messages.isArray.default,"this.selectors")),-1===this.selectors.indexOf(t)){if(this.selectors.length>0){var e=this.selectors[0];u.equal(e.options.container,t.options.container,u.format(u.messages.equal.default,"first.options.container","selector.options.container")),u.equal(e.options.scaler,t.options.scaler,u.format(u.messages.equal.default,"first.options.scaler","selector.options.scaler")),u.equal(e.options.selectable,t.options.selectable,u.format(u.messages.equal.default,"first.options.selectable","selector.options.selectable")),u.equal(e.options.toolbar,t.options.toolbar,u.format(u.messages.equal.default,"first.options.toolbar","selector.options.toolbar"))}this.selectors.push(t),this.activeSelector instanceof b||(this.activeSelector=t),this.toolBar.refresh()}},unregisterSelector:function(t){u.instanceof(b,t,u.format(u.messages.instanceof.default,"selector","Selector")),u.isArray(this.selectors,u.format(u.messages.isArray.default,"this.selectors"));var e=this.selectors.indexOf(t);e>-1&&(this.selectors.splice(e,1),this.activeSelector===t&&(this.activeSelector=this.selectors[0]),this.toolBar.refresh())},enabled:function(){u.isArray(this.selectors,u.format(u.messages.isArray.default,"this.selectors"));for(var t=0,e=this.selectors.length;t<e;t++)if(this.selectors[t]._enabled)return!0;return!1},_getDataItem:function(t){u.instanceof(b,t,u.format(u.messages.instanceof.default,"selector","kendo.ui.Selector")),u.type(f,t.options.id,u.format(u.messages.type.default,"selector.options.id",f)),u.instanceof(a,t.dataSource,u.format(u.messages.instanceof.default,"selector.dataSource","kendo.data.DataSource"));var e=t.dataSource.view().filter(function(e){return"selection"===e.type&&e.id===t.options.id});return u.ok(e.length<=1,"There should be no more than one dataItem per selector"),e[0]},_createDataItem:function(t){return u.instanceof(b,t,u.format(u.messages.instanceof.default,"selector","kendo.ui.Selector")),u.type(f,t.options.id,u.format(u.messages.type.default,"selector.options.id",f)),{id:t.options.id,type:"selection",data:{shape:t.options.shape,stroke:t.options.stroke,selections:[]}}},_isEmptyDataItem:function(t){return!t||!t.data||!Array.isArray(t.data.selections)||0===t.data.selections.length},_isSmallSelection:function(t,e){u.instanceof(b,t,u.format(u.messages.instanceof.default,"selector","kendo.ui.Selector")),u.instanceof(r.Rect,e,u.format(u.messages.instanceof.default,"rect","kendo.geometry.Rect"));var i=parseInt(t.options.minRadius,10)||15;return Math.sqrt(Math.pow(e.size.height,2)+Math.pow(e.size.width,2))<=2*Math.sqrt(2)*i},_pushSelection:function(e){u.instanceof(r.Rect,e,u.format(u.messages.instanceof.default,"rect","kendo.geometry.Rect")),u.instanceof(b,this.activeSelector,u.format(u.messages.instanceof.default,"this.activeSelector","kendo.ui.Selector")),u.instanceof(a,this.activeSelector.dataSource,u.format(u.messages.instanceof.default,"this.activeSelector.dataSource","kendo.data.DataSource"));var i=this.activeSelector,n=i.dataSource;if(this._isSmallSelection(i,e))this.refresh();else{var o=this._getDataItem(i),s=!0;"undefined"===t.type(o)&&(s=!1,o=this._createDataItem(i));var l=[Math.round(e.origin.x),Math.round(e.origin.y)],c=[Math.round(e.size.width),Math.round(e.size.height)];o.data.selections.push({origin:l,size:c}),s||n.add(o),i.trigger("change"),h.debug({method:"_pushSelection",message:"Added new selection",data:{origin:l,size:c}})}},_pullSelections:function(e){u.instanceof(r.Point,e,u.format(u.messages.instanceof.default,"point","kendo.geometry.Point")),u.instanceof(b,this.activeSelector,u.format(u.messages.instanceof.default,"this.activeSelector","kendo.ui.Selector")),u.instanceof(a,this.activeSelector.dataSource,u.format(u.messages.instanceof.default,"this.activeSelector.dataSource","kendo.data.DataSource"));var i=[],n=this.activeSelector,o=n.dataSource,s=this._getDataItem(n);if("undefined"!==t.type(s)){for(var l=s.data.selections.slice(),c=l.length-1;c>=0;c--)new r.Rect(l[c].origin,l[c].size).containsPoint(e)&&i.push(l.splice(c,1));0===l.length?o.remove(s):i.length>0&&s.set("data.selections",l)}return i.length&&(n.trigger("change"),h.debug({method:"_pullSelection",message:"Removed selections",data:{point:[Math.round(e.x),Math.round(e.y)]}})),i},_createRectPath:function(t,e){u.instanceof(r.Rect,t,u.format(u.messages.instanceof.default,"rect","kendo.geometry.Rect")),u.isPlainObject(e,u.format(u.messages.isPlainObject.default,"stroke"));var i=new o.Path({stroke:e}),n=t.origin.x,a=t.origin.y,s=t.size.height,l=t.size.width;return i.moveTo(n+l-10,a).curveTo([n+l,a],[n+l,a],[n+l,a+10]).lineTo([n+l,a+s-10]).curveTo([n+l,a+s],[n+l,a+s],[n+l-10,a+s]).lineTo([n+10,a+s]).curveTo([n,a+s],[n,a+s],[n,a+s-10]).lineTo(n,a+10).curveTo([n,a],[n,a],[n+10,a]).close(),i},_createCirclePath:function(t,e){u.instanceof(r.Rect,t,u.format(u.messages.instanceof.default,"rect","kendo.geometry.Rect")),u.isPlainObject(e,u.format(u.messages.isPlainObject.default,"stroke"));var i=new r.Arc([t.origin.x+t.size.width/2,t.origin.y+t.size.height/2],{radiusX:t.size.width/2,radiusY:t.size.height/2,startAngle:0,endAngle:360,anticlockwise:!1});return new o.Arc(i,{stroke:e})},_createCrossPath:function(t,e){u.instanceof(r.Rect,t,u.format(u.messages.instanceof.default,"rect","kendo.geometry.Rect")),u.isPlainObject(e,u.format(u.messages.isPlainObject.default,"stroke"));var i=new o.Path({stroke:e}),n=t.origin.x,a=t.origin.y,s=t.size.height,l=t.size.width;return i.moveTo(n+l,a).lineTo(n+.5*l,a+.5*s).curveTo([n,a+s],[n,a+s],[n,a+.5*s]).lineTo(n,a+.5*s).curveTo([n,a],[n,a],[n+.5*l,a+.5*s]).lineTo(n+l,a+s),i},_createSelectorGroup:function(t){u.type("object",t,u.format(u.messages.type.default,"dataItem","object")),u.type(f,t.id,u.format(u.messages.type.default,"dataItem.id",f)),u.equal("selection",t.type,u.format(u.messages.type.default,"dataItem.type","selection")),u.type("object",t.data,u.format(u.messages.type.default,"dataItem.data","object"));for(var e=t.data.selections,n=new o.Group,a=t.data.stroke instanceof i.data.ObservableObject?t.data.stroke.toJSON():t.data.stroke||{},s=0,l=e.length;s<l;s++){var c=new r.Rect(e[s].origin,e[s].size);switch(t.data.shape){case b.fn.shapes.circle:n.append(this._createCirclePath(c,a));break;case b.fn.shapes.cross:n.append(this._createCrossPath(c,a));break;case b.fn.shapes.rect:n.append(this._createRectPath(c,a))}}return n},refresh:function(e){u.instanceof(v,this,u.format(u.messages.instanceof.default,"this","kendo.ui.SelectorSurface")),u.instanceof(s,this.drawingSurface,u.format(u.messages.instanceof.default,"this.drawingSurface","kendo.drawing.Surface"));var n=this.drawingSurface.element.closest(this.options.container).find(i.roleSelector("selector")),o={};for(var r in n.each(function(e,i){var n=t(i).data("kendoSelector");n instanceof b&&n.dataSource instanceof a&&n.dataSource.view().forEach(function(t){o[t.id]=t})}),this.drawingSurface.clear(),o)if(o.hasOwnProperty(r)&&n.closest(i.format('[{0}="{1}"]',i.attr("id"),r)).length){var l=this._createSelectorGroup(o[r]);this.drawingSurface.draw(l)}},destroy:function(){i.unbind(this.element),this.toolBar instanceof g&&(this.toolBar.destroy(),this.toolBar.wrapper.remove(),this.toolBar=void 0),this.activeSelector=void 0,this.drawingSurface=void 0,this.selectors=void 0,l.fn.destroy.call(this),i.destroy(this.element)}});i.ui.plugin(v);var b=l.extend({init:function(t,e){l.fn.init.call(this,t,e),h.debug({method:"init",message:"widget initialized"}),this._layout(),this._dataSource(),m.getSingleton(this.options).enable(!0),this.enable(this.options.enable),i.notify(this)},options:{name:"Selector",id:null,autoBind:!0,dataSource:null,scaler:"div.kj-stage",container:"div.kj-stage>div[data-"+i.ns+'role="stage"]',selectable:"div.kj-element>[data-"+i.ns+'behavior="selectable"]',toolbar:"",empty:"",hitRadius:15,minRadius:15,shape:"circle",stroke:{color:"#FF0000",dashType:"solid",opacity:1,width:12},enable:!0},events:["change"],shapes:{circle:"circle",cross:"cross",rect:"rect"},value:function(e){if("undefined"===t.type(e)){var n;u.instanceof(b,this,u.format(u.messages.instanceof.default,"this","Selector")),u.instanceof(v,this.selectorSurface,u.format(u.messages.instanceof.default,"this.selectorSurface","kendo.ui.SelectorSurface"));var o=this,a=o.element,s=o.options,l=o.selectorSurface,c=l._getDataItem(o);if(c&&c.data&&d.isAnyArray(c.data.selections)&&c.data.selections.length){n=[];var h=a.closest(s.container);u.ok(t.contains(h[0],l.element[0]),"The selector and its selector surface should be children of the same container");var f=h.find(s.selectable),p=new Array(f.length);f.each(function(e,a){for(var s=(a=t(a)).attr(i.attr("constant")),l=o._getBBox(a),u=0,h=c.data.selections.length;u<h;u++){var d=c.data.selections[u],f=new r.Rect(d.origin,d.size);o._checkHit(l,f)&&!p[e]&&(p[e]=!0,n.push(s))}})}else this.options.empty&&(n=[this.options.empty]);return n}},_layout:function(){(this.wrapper=this.element).addClass("kj-selector"),this._initSurface()},_initSurface:function(){var e=this.options,i=this.element.closest(e.container);u.hasLength(i,u.format(u.messages.hasLength.default,e.container));var n=i.find(".kj-selector-surface");if(!n.length){u.isUndefined(this.selectorSurface,u.format(u.messages.isUndefined.default,"this.selectorSurface"));var o=i.children().has(".kj-interactive").first();n=t("<div/>").addClass("kj-selector-surface").css({position:"absolute",top:0,left:0}).height(i.height()).width(i.width()),o.length?n.insertBefore(o):n.appendTo(i),n.kendoSelectorSurface({container:e.container,toolbar:e.toolbar})}this.selectorSurface=n.data("kendoSelectorSurface")},_dataSource:function(){var e=this;e.dataSource=a.create(e.options.dataSource),e._refreshHandler&&e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=t.proxy(e.refresh,e),e.dataSource.bind("change",e._refreshHandler),e.options.autoBind&&e.dataSource.filter({field:"type",operator:"eq",value:"selection"}),setTimeout(function(){e.trigger("change")},0)},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},enable:function(e){u.instanceof(v,this.selectorSurface,u.format(u.messages.instanceof.default,"this.selectorSurface","kendo.ui.SelectorSurface")),e="undefined"===t.type(e)||!!e,this._enabled!==e&&(this._enabled=e,this._enabled?this.selectorSurface.registerSelector(this):this.selectorSurface.unregisterSelector(this))},_getBBox:function(e){var i=this.options,n=e.closest(i.container),o=n.closest(i.scaler),a=o.length?d.getTransformScale(o):1,s=e.get(0).getBoundingClientRect(),l=t(n.get(0).ownerDocument),c=n.offset();return new r.Rect([(s.left-c.left+l.scrollLeft())/a,(s.top-c.top+l.scrollTop())/a],[s.width/a,s.height/a])},_checkHit:function(t,e){u.instanceof(r.Rect,t,u.format(u.messages.instanceof.default,t,"kendo.geometry.Rect")),u.instanceof(r.Rect,e,u.format(u.messages.instanceof.default,e,"kendo.geometry.Rect"));var i=parseInt(this.options.hitRadius,10)||15,n=t.center();return e.containsPoint(n.translate(-i,0))&&e.containsPoint(n.translate(2*i,0))&&e.containsPoint(n.translate(-i,-i))&&e.containsPoint(n.translate(0,2*i))},refresh:function(e){u.instanceof(v,this.selectorSurface,u.format(u.messages.instanceof.default,"this.selectorSurface","kendo.ui.SelectorSurface")),t.isPlainObject(e)&&(e.sender=this),this.selectorSurface.refresh.bind(this.selectorSurface)(e)},destroy:function(){t.isFunction(this._refreshHandler)&&(this.dataSource.unbind("change",this._refreshHandler),this._refreshHandler=void 0),i.unbind(this.element),this.selectorSurface instanceof v&&(this.selectorSurface.unregisterSelector(this),0===this.selectorSurface.selectors.length&&(this.selectorSurface.destroy(),this.selectorSurface.wrapper.remove(),0===t(document).find(i.roleSelector("surfaceselector")).length&&m.getSingleton(this.options).enable(!1)),this.selectorSurface=void 0),l.fn.destroy.call(this),i.destroy(this.element)}});i.ui.plugin(b)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(40),i(68),i(67)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=i.data,r=o.binders,a=o.Binder,s=o.ObservableObject,l=o.ObservableArray,c=window.kidoju,u=c.Tool,h=c.data.PageComponent,d=c.data.PageComponentCollectionDataSource,f=window.assert,p=new window.Logger("kidoju.widgets.stage"),m=window.kidoju.util,g="number",v=".kendoStage",b="mousedown"+v+" touchstart"+v,k="none",y="top",w="left",_="rotate({0}deg)",x=i.attr("uid"),S=i.attr("tool"),C=i.attr("command"),A='<div class="{0}"></div>',T=i.format(A,"k-widget kj-stage"),j="<div "+x+'="{0}" '+S+'="{1}" class="kj-element"></div>',M=".kj-element["+x+'="{0}"]',z=i.format(A,"kj-handle-box"),E=".kj-handle-box["+x+'="{0}"]',I='<span class="kj-handle" '+C+'="move" style="touch-action:none;"></span>',D='<span class="kj-handle" '+C+'="resize" style="touch-action:none;"></span>',O='<span class="kj-handle" '+C+'="rotate" style="touch-action:none;"></span>',P='<span class="kj-handle" '+C+'="menu" style="touch-action:none;"></span>',R="move",L="resize",F="rotate",N="menu",B="play",q=1,V=1024,H=768,U=i.format(A,"debug-mouse"),W=i.format(A,"debug-bounds");r.widget.properties=a.extend({init:function(e,i,n){a.fn.init.call(this,e.element[0],i,n),this.widget=e,this._change=t.proxy(this.change,this),this.widget.bind("change",this._change)},change:function(){this.bindings.properties.set(this.widget.properties())},refresh:function(){this.widget.properties(this.bindings.properties.get())},destroy:function(){this.widget.unbind("change",this._change)}});var G=n.extend({init:function(t,e){n.fn.init.call(this,t,e),p.debug({method:"init",message:"widget initialized"}),this._mode=this.options.mode,this._scale=this.options.scale,this._height=this.options.height,this._width=this.options.width,this._disabled=this.options.disabled,this._readonly=this.options.readonly,this._snapAngle=this.options.snapAngle,this._snapGrid=this.options.snapGrid,this._layout(),this._dataSource(),i.notify(this)},modes:{design:"design",play:"play",review:"review"},events:["change","dataBinding","dataBound","propertyBinding","propertyBound","select"],options:{name:"Stage",autoBind:!0,mode:B,scale:q,height:H,width:V,tools:c.tools,dataSource:void 0,disabled:!1,readonly:!1,snapAngle:0,snapGrid:0,messages:{contextMenu:{delete:"Delete",duplicate:"Duplicate"},noPage:"Please add or select a page"}},mode:function(e){if("undefined"===t.type(e))return this._mode;if(f.type("string",e,f.format(f.messages.type.default,"value","string")),"undefined"===t.type(this.modes[e]))throw new RangeError;e!==this._mode&&(this._mode=e,this._initializeMode(),this.refresh())},scale:function(e){if(void 0===e)return this._scale;if(t.type(e)!==g)throw new TypeError;if(e<0)throw new RangeError;e!==this._scale&&(this._scale=e,this.wrapper.css({transformOrigin:"0 0",transform:i.format("scale({0})",this._scale)}),this.wrapper.find(".kj-handle").css({transform:i.format("scale({0})",1/this._scale)}))},height:function(e){if(!e)return this._height;if(t.type(e)!==g)throw new TypeError;if(e<0)throw new RangeError;e!==this._height&&(this._height=e)},width:function(e){if(!e)return this._width;if(t.type(e)!==g)throw new TypeError;if(e<0)throw new RangeError;e!==this._width&&(this._width=e)},index:function(e){var i;if(void 0===e)return(i=this.dataSource.getByUid(this._selectedUid))instanceof h?this.dataSource.indexOf(i):-1;if(t.type(e)!==g||e%1!=0)throw new TypeError;if(e<0||e>0&&e>=this.length())throw new RangeError;i=this.dataSource.at(e),this.value(i)},id:function(e){var i;if(void 0!==e){if(t.type(e)!==g&&"string"!==t.type(e))throw new TypeError;i=this.dataSource.get(e),this.value(i)}else if((i=this.dataSource.getByUid(this._selectedUid))instanceof h)return i[i.idField]},value:function(t){if(null===t)null!==this._selectedUid&&(this._selectedUid=null,p.debug("selected component uid set to null"),this._toggleSelection(),this.trigger("change",{index:void 0,value:null}));else{if(void 0===t)return null===this._selectedUid?null:this.dataSource.getByUid(this._selectedUid);if(!(t instanceof h))throw new TypeError;if(t.uid!==this._selectedUid&&m.isGuid(t.uid)){var e=this.dataSource.indexOf(t);e>-1&&(this._selectedUid=t.uid,p.debug("selected component uid set to "+t.uid),this._toggleSelection(),this.trigger("change",{index:e,value:t}))}}},length:function(){return this.dataSource instanceof d?this.dataSource.total():-1},properties:function(t){if(!t)return this._properties;t!==this._properties&&(this._properties=t)},snapAngle:function(e){if("undefined"===t.type(e))return this._snapAngle;if(t.type(e)!==g)throw new TypeError("Snap angle value should be a number");this._snapAngle=e},snapGrid:function(e){if("undefined"===t.type(e))return this._snapGrid;if(t.type(e)!==g)throw new TypeError("Snap grid value should be a number");this._snapGrid=e},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},_dataSource:function(){this.dataSource instanceof d&&this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this._initializeMode(),null!==this.options.dataSource&&(this.dataSource=d.create(this.options.dataSource),this._refreshHandler=t.proxy(this.refresh,this),this.dataSource.bind("change",this._refreshHandler),this.options.autoBind&&this.dataSource.fetch())},_layout:function(){this.stage=this.element.wrap(T).css({position:"relative",overflow:"hidden",height:this.height(),width:this.width()}),this.wrapper=this.stage.parent().css({position:"relative",height:this.height(),width:this.width(),transformOrigin:"0 0",transform:i.format("scale({0})",this.scale())})},_initializeMode:function(){var t=this.modes,e=this.options.dataSource;this._toggleNoPageMessage(!e);var i=!e||this._disabled||this._readonly;this._toggleReadOnlyOverlay(i);var n=!!e&&this.mode()!==t.design;this._togglePropertyBindings(n);var o=!!e&&this.mode()===t.design,r=o&&!this._disabled&&!this._readonly;this._toggleHandleBox(r),this._toggleTransformEventHandlers(o),this._toggleContextMenu(r)},_toggleNoPageMessage:function(e){f.instanceof(t,this.wrapper,f.format(f.messages.instanceof.default,"this.wrapper","jQuery"));var i=this.wrapper;i.children(".kj-nopage").remove(),e&&t("<div />").addClass("kj-nopage").text(this.options.messages.noPage).css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}).appendTo(i)},_toggleReadOnlyOverlay:function(e){f.instanceof(t,this.wrapper,f.format(f.messages.instanceof.default,"this.wrapper","jQuery"));var i=this.wrapper;i.children(".kj-overlay").remove(),e&&t("<div />").addClass("kj-overlay").css({position:"absolute",display:"block",top:0,left:0,height:this.height(),width:this.width()}).appendTo(i)},_clearMode:function(){this.stage instanceof t&&(t.each(this.stage.children(".kj-element"),function(t,e){i.destroy(e)}),this.stage.empty())},_togglePropertyBindings:function(e){t.isFunction(this._propertyBinding)&&this.unbind("propertyBinding",this._propertyBinding),e&&(this._propertyBinding=t.proxy(function(){var e=this;e.properties()instanceof s&&t.each(e.stage.children(".kj-element"),function(t,n){i.bind(n,e.properties())})},this),this.bind("propertyBinding",this._propertyBinding))},_toggleHandleBox:function(e){f.instanceof(t,this.wrapper,f.format(f.messages.instanceof.default,"this.wrapper","jQuery"));var i=this.wrapper;t.isFunction(this._removeDebugVisualElements)&&this._removeDebugVisualElements(i),t(document).off(v),i.children(".kj-handle-box").remove(),e&&(t(z).css({position:"absolute",display:k}).append(I).append(D).append(O).append(P).appendTo(i),t(document).on(b,t.proxy(this._onMouseDown,this)).on("mousemove.kendoStage touchmove.kendoStage",t.proxy(this._onMouseMove,this)).on("mouseup.kendoStage touchend.kendoStage",t.proxy(this._onMouseUp,this)),t.isFunction(this._addDebugVisualElements)&&this._addDebugVisualElements(i))},_toggleTransformEventHandlers:function(e){f.instanceof(t,this.stage,f.format(f.messages.instanceof.default,"this.stage","jQuery"));var i=this.stage;i.off(v),e&&i.on("move"+v,".kj-element",t.proxy(this._moveStageElement,this)).on("resize"+v,".kj-element",t.proxy(this._resizeStageElement,this)).on("rotate"+v,".kj-element",t.proxy(this._rotateStageElement,this))},_enableStageElement:function(e,i,n){var o=this.options.tools;f.instanceof(s,o,f.format(f.messages.instanceof.default,"this.options.tools","kendo.data.ObservableObject"));var r=o[i.tool];f.instanceof(u,r,f.format(f.messages.instanceof.default,"tool","kidoju.Tool")),t.isFunction(r.onEnable)&&r.onEnable(e,i,n)},_moveStageElement:function(e,i){var n=this.options.tools;f.instanceof(s,n,f.format(f.messages.instanceof.default,"this.options.tools","kendo.data.ObservableObject"));var o=n[i.tool];f.instanceof(u,o,f.format(f.messages.instanceof.default,"tool","kidoju.Tool")),t.isFunction(o.onMove)&&o.onMove(e,i)},_resizeStageElement:function(e,i){var n=this.options.tools;f.instanceof(s,n,f.format(f.messages.instanceof.default,"this.options.tools","kendo.data.ObservableObject"));var o=n[i.tool];f.instanceof(u,o,f.format(f.messages.instanceof.default,"tool","kidoju.Tool")),t.isFunction(o.onResize)&&o.onResize(e,i)},_rotateStageElement:function(e,i){var n=this.options.tools;f.instanceof(s,n,f.format(f.messages.instanceof.default,"this.options.tools","kendo.data.ObservableObject"));var o=n[i.tool];f.instanceof(u,o,f.format(f.messages.instanceof.default,"tool","kidoju.Tool")),t.isFunction(o.onRotate)&&o.onRotate(e,i)},_toggleContextMenu:function(e){i.ui&&i.ui.ContextMenu&&this.menu instanceof i.ui.ContextMenu&&(this.menu.destroy(),this.menu.element.remove(),this.menu=void 0),e&&(this.menu=t('<ul class="kj-stage-menu"></ul>').append("<li "+C+'="delete">'+this.options.messages.contextMenu.delete+"</li>").append("<li "+C+'="duplicate">'+this.options.messages.contextMenu.duplicate+"</li>").appendTo(this.wrapper).kendoContextMenu({target:".kj-handle["+C+'="menu"]',showOn:b,select:t.proxy(this._contextMenuSelectHandler,this)}).data("kendoContextMenu"))},_contextMenuSelectHandler:function(e){var n,o;switch(f.isPlainObject(e,f.format(f.messages.isPlainObject.default,"e")),f.instanceof(t.Event,e.event,f.format(f.messages.instanceof.default,"e.event","jQuery.Event")),t(e.item).attr(C)){case"delete":n=this.wrapper.children(".kj-handle-box").attr(x),o=this.dataSource.getByUid(n),this.dataSource.remove(o);break;case"duplicate":n=this.wrapper.children(".kj-handle-box").attr(x);var r=(o=this.dataSource.getByUid(n)).clone();r.top+=10,r.left+=10,this.dataSource.add(r)}this.menu instanceof i.ui.ContextMenu&&this.menu.close(),e.preventDefault()},_addStageElement:function(e){f.instanceof(i.ui.Stage,this,f.format(f.messages.instanceof.default,"this","kendo.ui.Stage")),f.instanceof(t,this.stage,f.format(f.messages.instanceof.default,"this.stage","jQuery")),f.instanceof(h,e,f.format(f.messages.instanceof.default,"component","kidoju.data.PageComponent")),f.type("string",e.tool,f.format(f.messages.type.default,"component.tool","string")),f.type(g,e.left,f.format(f.messages.type.default,"component.left",g)),f.type(g,e.top,f.format(f.messages.type.default,"component.top",g));var n=this.stage;if(!(n.children(i.format(M,e.uid)).length>0)){var o=t(i.format(j,e.uid,e.tool)).css({position:"absolute",top:e.get(y),left:e.get(w),height:e.get("height"),width:e.get("width"),transform:i.format(_,e.get("rotate"))});this._prepareStageElement(o,e);var r=this.dataSource.indexOf(e),a=n.children(".kj-element:eq("+r+")");a.length?a.before(o):n.append(o),this._initStageElement(o,e)}},_prepareStageElement:function(e,n){f.instanceof(t,e,f.format(f.messages.instanceof.default,"stageElement","jQuery")),f.instanceof(h,n,f.format(f.messages.instanceof.default,"component","kidoju.data.PageComponent")),f.instanceof(i.ui.Stage,this,f.format(f.messages.instanceof.default,"this","kendo.ui.Stage")),f.instanceof(t,this.stage,f.format(f.messages.instanceof.default,"this.stage","jQuery")),f.equal(n.uid,e.attr(i.attr("uid")),"The stageElement data-uid attribute is expected to equal the component uid");var o=this.options.tools[n.tool];f.instanceof(u,o,f.format(f.messages.instanceof.default,o,"kidoju.Tool"));var r=this.mode();f.enum(Object.keys(i.ui.Stage.fn.modes),r,f.format(f.messages.enum.default,"mode",Object.keys(i.ui.Stage.fn.modes)));var a=o.getHtmlContent(n,r);a instanceof t||(f.type("string",a,f.format(f.messages.type.default,"tool.getHtmlContent(...)","string")),a=t(a)),i.destroy(e),e.empty(),e.append(a)},_initStageElement:function(e,n){i.init(e),this._enableStageElement({currentTarget:e,preventDefault:t.noop,stopPropagation:t.noop},n,this.mode()===this.modes.play),this._moveStageElement({currentTarget:e,preventDefault:t.noop,stopPropagation:t.noop},n),this._resizeStageElement({currentTarget:e,preventDefault:t.noop,stopPropagation:t.noop},n),this._rotateStageElement({currentTarget:e,preventDefault:t.noop,stopPropagation:t.noop},n)},_removeStageElementByUid:function(t){var e=this.stage.children(i.format(M,t));i.unbind(e),i.destroy(e),e.off(v).remove()},_showHandles:function(t){var e=this.wrapper.children(".kj-handle-box");if(e.length){var n=this.stage.children(i.format(M,t));e.css({top:n.css(y),left:n.css(w),height:n.css("height"),width:n.css("width"),transform:n.css("transform"),display:"block"}).attr(x,t),e.children(".kj-handle").css({transform:i.format(_,-m.getTransformRotation(n))+" "+i.format("scale({0})",1/this.scale())})}},_hideHandles:function(){this.wrapper.children(".kj-handle-box").css({display:k}).removeAttr(x)},_onMouseDown:function(e){f.instanceof(t.Event,e,f.format(f.messages.instanceof.default,"e","jQuery.Event")),f.instanceof(i.ui.Stage,this,f.format(f.messages.instanceof.default,"this","kendo.ui.Stage"));var n,o=this.options.tools,r=o.get("active"),a=t(e.target),s=m.getMousePosition(e,this.stage),l=a.closest(".kj-element"),c=a.closest(".kj-handle");if(this.menu instanceof i.ui.ContextMenu&&!a.is(".k-link")&&this.menu.close(),"pointer"!==r){var d=o[r];f.instanceof(u,d,f.format(f.messages.instanceof.default,"tool","kidoju.Tool"));var p=m.getTransformScale(this.wrapper),g=s.x/p,v=s.y/p;if(g>=0&&g<=this.stage.width()&&v>=0&&v<=this.stage.height()){var b=new h({tool:d.id,left:g,top:v,width:d.width,height:d.height});this.dataSource.add(b),o.set("active","pointer")}e.preventDefault(),e.stopPropagation()}else if(c.length){var k=c.attr(C);if(k===N)t.noop();else{var _=this.wrapper.children(".kj-handle-box");n=_.attr(x),l=this.stage.children(i.format(M,n)),_.data("state",{command:k,top:parseFloat(l.css(y))||0,left:parseFloat(l.css(w))||0,height:l.height(),width:l.width(),angle:m.getTransformRotation(l),scale:m.getTransformScale(this.wrapper),snapGrid:0,snapAngle:0,mouseX:s.x,mouseY:s.y,uid:n}),t(document.body).css("cursor",a.css("cursor"))}e.preventDefault(),e.stopPropagation()}else if(l.length||a.is(".kj-handle-box")){if(n=l.attr(x),m.isGuid(n)){var S=this.dataSource.getByUid(n);S instanceof h&&this.value(S)}}else this.wrapper.find(a).length&&(this.value(null),e.preventDefault(),e.stopPropagation())},_onMouseMove:function(e){f.instanceof(t.Event,e,f.format(f.messages.instanceof.default,"e","jQuery.Event")),f.instanceof(i.ui.Stage,this,f.format(f.messages.instanceof.default,"this","kendo.ui.Stage"));var n=this.wrapper.children(".kj-handle-box").data("state");if(t.isPlainObject(n)){var o=m.getMousePosition(e,this.stage),r=this.stage.children(i.format(M,n.uid)),a=this.dataSource.getByUid(n.uid),s=r[0].getBoundingClientRect(),l={left:s.left-this.stage.offset().left+t(this.stage.get(0).ownerDocument).scrollLeft(),top:s.top-this.stage.offset().top+t(this.stage.get(0).ownerDocument).scrollTop(),height:s.height,width:s.width},c={x:l.left+l.width/2,y:l.top+l.height/2};if(t.isFunction(this._updateDebugVisualElements)&&this._updateDebugVisualElements({wrapper:this.wrapper,mouse:o,center:c,bounds:l,scale:n.scale}),n.command===R)a.set(w,m.snap(n.left+(o.x-n.mouseX)/n.scale,this._snapGrid)),a.set(y,m.snap(n.top+(o.y-n.mouseY)/n.scale,this._snapGrid));else if(n.command===L){var u=(o.x-n.mouseX)/n.scale,h=(o.y-n.mouseY)/n.scale,d={x:c.x+u/2,y:c.y+h/2},p={x:n.left,y:n.top},g=m.deg2rad(n.angle),v=m.getRotatedPoint(p,c,g),b=m.getRotatedPoint(v,d,-g);a.set(w,Math.round(b.x)),a.set(y,Math.round(b.y)),a.set("height",m.snap(n.height-u*Math.sin(g)+h*Math.cos(g),this._snapGrid)),a.set("width",m.snap(n.width+u*Math.cos(g)+h*Math.sin(g),this._snapGrid))}else if(n.command===F){var k=m.getRadiansBetween2Points(c,{x:n.mouseX,y:n.mouseY},o),_=m.snap((360+n.angle+m.rad2deg(k))%360,this._snapAngle);a.set("rotate",_)}e.preventDefault(),e.stopPropagation()}},_onMouseUp:function(e){f.instanceof(t.Event,e,f.format(f.messages.instanceof.default,"e","jQuery.Event")),f.instanceof(i.ui.Stage,this,f.format(f.messages.instanceof.default,"this","kendo.ui.Stage"));var n=this.wrapper.children(".kj-handle-box"),o=n.data("state");t.isPlainObject(o)&&(n.removeData("state"),t(document.body).css("cursor",""),t.isFunction(this._hideDebugVisualElements)&&this._hideDebugVisualElements(this.wrapper))},_editable:function(t){this.wrapper,this._disabled=t.disabled,this._readonly=t.readonly},enable:function(t){this._editable({readonly:!1,disabled:!(t=void 0===t||t)})},readonly:function(t){this._editable({readonly:void 0===t||t,disabled:!1})},refresh:function(e){var n=this;if(void 0===e||void 0===e.action){var o=[];void 0===e&&n.dataSource instanceof d?o=n.dataSource.data():e&&e.items instanceof l&&(o=e.items),n._hideHandles(),n.trigger("dataBinding"),t.each(n.stage.children(".kj-element"),function(e,i){n._removeStageElementByUid(t(i).attr(x))}),f.equal(0,n.element.children().length,f.format(f.messages.equal.default,"that.element.children()","0")),t.each(o,function(t,e){n._addStageElement(e)}),n.trigger("dataBound"),n.trigger("propertyBinding"),n.trigger("propertyBound")}else"add"===e.action?t.each(e.items,function(t,e){n._addStageElement(e),n.value(e)}):"remove"===e.action?t.each(e.items,function(t,i){n._removeStageElementByUid(i.uid),n.trigger("change",{action:e.action,value:i}),n.wrapper.children(".kj-handle-box").attr(x)===i.uid&&n.value(null)}):"itemchange"===e.action&&Array.isArray(e.items)&&e.items.length&&e.items[0]instanceof h&&t.each(e.items,function(t,o){var r=n.stage.children(i.format(M,o.uid)),a=n.wrapper.children(i.format(E,o.uid));if(r.length)switch(e.field){case w:Math.round(r.position().left)!==Math.round(o.left)&&(r.css(w,o.left),a.css(w,o.left),r.trigger("move"+v,o));break;case y:Math.round(r.position().top)!==Math.round(o.top)&&(r.css(y,o.top),a.css(y,o.top),r.trigger("move"+v,o));break;case"height":Math.round(r.height())!==Math.round(o.height)&&(r.css("height",o.height),a.css("height",o.height),r.trigger("resize"+v,o));break;case"width":Math.round(r.width())!==Math.round(o.width)&&(r.css("width",o.width),a.css("width",o.width),r.trigger("resize"+v,o));break;case"rotate":Math.round(m.getTransformRotation(r))!==Math.round(o.rotate)&&(r.css("transform",i.format(_,o.rotate)),a.css("transform",i.format(_,o.rotate)),a.children(".kj-handle").css("transform",i.format(_,-o.rotate)+" "+i.format("scale({0})",1/n.scale())),r.trigger("rotate"+v,o));break;default:(/^attributes/.test(e.field)||/^properties/.test(e.field))&&(n._prepareStageElement(r,o),n._initStageElement(r,o))}});p.debug({method:"refresh",message:"widget refreshed"})},_toggleSelection:function(){f.instanceof(i.ui.Stage,this,f.format(f.messages.instanceof.default,"this","kendo.ui.Stage"));var t=this._selectedUid,e=this.wrapper.children(".kj-handle-box");if(e.length){var n=this.stage.children(i.format(M,t));m.isGuid(t)&&n.length&&e.attr(x)!==t?this._showHandles(t):null===t&&e.css("display")!==k&&this._hideHandles()}},items:function(){var e=this.element;return t.isFunction(e[0].getElementsByClassName)?e[0].getElementsByClassName("kj-element"):t.makeArray(this.element.children(".kj-element"))},_clear:function(){this._clearMode(),i.unbind(this.element),this.element.find("*").off(),this.wrapper.children(".kj-nopage").remove(),this.wrapper.children(".kj-overlay").remove(),this.wrapper=void 0,this.element.off().empty().unwrap()},destroy:function(){n.fn.destroy.call(this),this.setDataSource(null),this._clear(),i.destroy(this.element)}});i.ui.plugin(G),window.app&&window.app.DEBUG&&(G.fn._addDebugVisualElements=function(e){t(W).css({position:"absolute",border:"1px dashed #FF00FF",display:k}).appendTo(e),t('<div class="debug-center"></div>').css({position:"absolute",height:"20px",width:"20px",marginTop:"-10px",marginLeft:"-10px",borderRadius:"50%",backgroundColor:"#FF00FF",display:k}).appendTo(e),t(U).css({position:"absolute",height:"20px",width:"20px",marginTop:"-10px",marginLeft:"-10px",borderRadius:"50%",backgroundColor:"#00FFFF",display:k}).appendTo(e)},G.fn._updateDebugVisualElements=function(e){t.isPlainObject(e)&&e.scale>0&&(e.wrapper.children(".debug-center").css({display:"block",left:Math.round(e.center.x/e.scale),top:Math.round(e.center.y/e.scale)}),e.wrapper.children(".debug-bounds").css({display:"block",left:Math.round(e.bounds.left/e.scale),top:Math.round(e.bounds.top/e.scale),height:Math.round(e.bounds.height/e.scale),width:Math.round(e.bounds.width/e.scale)}),e.wrapper.children(".debug-mouse").css({display:"block",left:Math.round(e.mouse.x/e.scale),top:Math.round(e.mouse.y/e.scale)}))},G.fn._hideDebugVisualElements=function(t){window.app&&window.app.DEBUG&&(t.children(".debug-center").css({display:k}),t.children(".debug-bounds").css({display:k}),t.children(".debug-mouse").css({display:k}))},G.fn._removeDebugVisualElements=function(t){window.app&&window.app.DEBUG&&(t.children(".debug-center").remove(),t.children(".debug-bounds").remove(),t.children(".debug-mouse").remove())})}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=(window.assert,new window.Logger("kidoju.widgets.table")),r=150,a=58,s=12,l=n.extend({init:function(t,e){e=e||{},n.fn.init.call(this,t,e),o.debug({method:"init",message:"widget initialized"}),this._layout(),this.value(e.value)},options:{name:"Table",columns:5,rows:8,value:[{}]},value:function(e){if("undefined"===t.type(e))return this._value;this._value=this._parse(e),this.render()},_layout:function(){this.wrapper=this.element,this.element.addClass("kj-table").css({position:"relative"})},_parse:function(e){var i,n,o,l,c=[],u=this.options.rows,h=this.options.columns,d=e&&e.sheets&&e.sheets.length&&e.sheets[0].columns||[],f=e&&e.sheets&&e.sheets.length&&e.sheets[0].rows||[],p=0,m=0,g=function(t){return t.index===o},v=function(t){return t.index===l};for(o=0;o<u;o++){c.push([]);var b=c[o],k=f.find(g)||{cells:[]};for(l=0;l<h;l++){var y=k.cells.find(v),w=d.find(v);i=k&&k.height||a,n=w&&w.width||r,"undefined"===t.type(y)?b.push({css:{left:p,height:i,top:m,width:n}}):b.push({value:y.value,format:y.format,css:{backgroundColor:y.background,borderBottom:y.borderBottom?"solid "+y.borderBottom.size+"px "+y.borderBottom.color:void 0,borderLeft:y.borderLeft?"solid "+y.borderLeft.size+"px "+y.borderLeft.color:void 0,borderRight:y.borderRight?"solid "+y.borderRight.size+"px "+y.borderRight.color:void 0,borderTop:y.borderTop?"solid "+y.borderTop.size+"px "+y.borderTop.color:void 0,color:y.color,fontFamily:y.fontFamily||"Arial",fontSize:y.fontSize||s,fontStyle:y.italic?"italic":"normal",fontWeight:y.bold?"bold":"normal",left:p,height:i,textAlign:y.textAlign||(isNaN(parseFloat(y.value))?"left":"right"),textDecoration:y.underline?"underline":"none",top:m,width:n,whiteSpace:!0===y.wrap?"pre-wrap":"pre",wordBreak:!0===y.wrap?"break-all":"normal"},class:"k-vertical-align-"+(y.verticalAlign||"bottom")}),p+=n}p=0,m+=i}return c},render:function(){var e=this.element,n=this.options.rows,o=this.options.columns;e.empty();for(var r=0;r<n;r++)for(var a=0;a<o;a++){var s=this._value[r][a],l=t("<DIV/>").addClass("k-spreadsheet-cell").css(s.css),c='<DIV class="'+s.class+'">';"undefined"===t.type(s.value)?c+="&nbsp":isNaN(parseFloat(s.value))?c+=s.value:c+="<span>"+i.toString(s.value,s.format)+"</span>",c+="</DIV>",l.html(c).appendTo(e)}},destroy:function(){var t=this.element;n.fn.destroy.call(this),i.unbind(t),i.destroy(t),t.find("*").off(),t.off(),t.empty(),t.removeClass("kj-table")}});i.ui.plugin(l)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(40)],void 0===(r="function"==typeof(n=function(t){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=window.assert,r=new window.Logger("kidoju.widgets.textgaps"),a=window.kidoju.util,s=".kendoTextGaps",l=n.extend({init:function(t,e){e=e||{},n.fn.init.call(this,t,e),r.debug({method:"init",message:"widget initialized"}),this._layout(),this.value(this.options.value),this.enable(this.options.enable),i.notify(this)},options:{name:"TextGaps",value:[],text:"",input:"\\[\\]",inputStyle:"",enable:!0},events:["change"],value:function(e){if("null"===t.type(e)&&(e=[]),"undefined"===t.type(e))return this._value;if(!a.isAnyArray(e))throw new TypeError("`value` is expected to be an array if not null or undefined");a.compareStringArrays(this._value,e)||(this._value=e,this.refresh())},_layout:function(){var t=this.options;this.wrapper=this.element,this.element.addClass("kj-textgaps");var e=i.format('<div class="{0}" style="{1}"></div>',".kj-textgaps-input".substr(1),t.inputStyle),n=i.htmlEncode(t.text).replace(new RegExp(t.input,"g"),e);this.element.html(n)},enable:function(e){e="undefined"===t.type(e)||!!e,this.element.children(".kj-textgaps-input").prop("contenteditable",e),this.element.off(s),e&&this.element.on("paste"+s,".kj-textgaps-input",this._onPaste.bind(this)).on("input"+s,".kj-textgaps-input",this._onInput.bind(this))},_onPaste:function(e){o.instanceof(t.Event,e,o.format(o.messages.instanceof.default,"e","jQuery.Event")),o.instanceof(HTMLDivElement,e.target,o.format(o.messages.instanceof.default,"e.target","HTMLDivElement")),e.stopPropagation(),e.preventDefault();var n=e.originalEvent.clipboardData||window.clipboardData;if(n&&t.isFunction(n.getData)){var r=n.getData("Text");if("string"===t.type(r)){r=i.htmlEncode(r);var s=a.getSelection(e.target),l=t(e.target).text(),c=l.substr(0,s.start),u=l.substr(s.end),h=(c+r).length;t(e.target).text(c+r+u),a.setSelection(e.target,{start:h,end:h})}}},_onInput:function(e){o.instanceof(t.Event,e,o.format(o.messages.instanceof.default,"e","jQuery.Event")),o.instanceof(HTMLDivElement,e.target,o.format(o.messages.instanceof.default,"e.target","HTMLDivElement"));var i=t(e.target),n=this.element.children(".kj-textgaps-input").index(i);this._value[n]=i.text(),this.trigger("change")},refresh:function(){var e=this;e.element.children(".kj-textgaps-input").each(function(i,n){t(n).text()!==e._value[i]&&t(n).text(e._value[i])}),r.debug({method:"refresh",message:"widget refreshed"})},destroy:function(){var t=this.wrapper;i.unbind(t),this.element.off(s),n.fn.destroy.call(this),i.destroy(t)}});i.ui.plugin(l)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(43)],void 0===(r="function"==typeof(n=function(){return function(t,e){var n,o=window.app=window.app||{},r=window.kendo,a=new window.Logger("app.theme"),s={"android-dark":"black","android-light":"fiori",black:"black",blackberry:"black",blueopal:"blueopal",bootstrap:"bootstrap",default:"default",fiori:"fiori",flat:"flat",highcontrast:"highcontrast",ios:"bootstrap",ios7:"bootstrap",material:"material","material-dark":"materialblack","material-light":"material",materialblack:"materialblack",meego:"bootstrap",metro:"metro",metroblack:"metroblack",moonlight:"moonlight",nova:"nova",office365:"office365",silver:"silver",uniform:"uniform","wp-dark":"metroblack","wp-light":"metro"};try{n=window.localStorage}catch(t){}o.theme={load:function(e){var r=t.Deferred(),c=n&&n.getItem("theme");return"undefined"===t.type(s[e])&&(e="flat"),"string"==typeof c&&c!==e&&i(173)("./app.theme."+c+".less")(function(t){t.unuse()}),i(173)("./app.theme."+e+".less")(function(i){if(i.use(),n&&!t.isArray(l))try{n.setItem("theme",e)}catch(t){if(!(window.DOMException&&t instanceof window.DOMException&&t.code===window.DOMException.QUOTA_EXCEEDED_ERR))throw t}t(document.documentElement).removeClass("k-"+s[c]).addClass("k-"+s[e]),o.theme.updateCharts(s[e]),o.theme.updateQRCodes(s[e]),a.debug({message:"theme changed to "+e,method:"load"}),r.resolve()}),r.promise()},updateCharts:function(e){var i=["Chart","TreeMap","Diagram","StockChart","Sparkline","RadialGauge","LinearGauge"];if(r.dataviz&&"string"===t.type(e))for(var n=0;n<i.length;n++){var o=r.dataviz.ui[i[n]];o&&(o.fn.options.theme=e);for(var a=t(r.roleSelector(i[n].toLowerCase())),s=0;s<a.length;s++){var l=t(a[s]).data("kendo"+i[n]);l&&"function"===t.type(l.setOptions)&&"function"===t.type(l.redraw)&&(l.setOptions({theme:e}),l.redraw())}}},updateQRCodes:t.noop,name:function(e){if("string"!==t.type(e)){if("undefined"===t.type(e)&&"undefined"===t.type(window.cordova)){if(t.isArray(l)&&2===l.length&&t.type("string"===l[1]))return l[1].trim().toLowerCase();try{e=n&&n.getItem("theme")}catch(t){}return"string"===t.type(e)&&"string"===t.type(s[e])?e:"flat"}if("undefined"===t.type(e)){try{e=n&&n.getItem("theme")}catch(t){}return"string"===t.type(e)&&"string"===t.type(s[e])||(e="flat"),e}throw new TypeError("bad theme")}o.theme.load(e)}};var l=/[\?|&]theme=([^&]+)/.exec(window.location.search),c=o.theme.name();o.theme.load(c)}(window.jQuery),window.app})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(3).then(function(t){n=i(524);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(4).then(function(t){n=i(525);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(5).then(function(t){n=i(526);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(6).then(function(t){n=i(527);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(7).then(function(t){n=i(528);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(8).then(function(t){n=i(529);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(9).then(function(t){n=i(530);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(10).then(function(t){n=i(531);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(11).then(function(t){n=i(532);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(12).then(function(t){n=i(533);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(13).then(function(t){n=i(534);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(14).then(function(t){n=i(535);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(15).then(function(t){n=i(536);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o=[];t.exports=function(t){o?o.push(t):t(n)},i.e(16).then(function(t){n=i(537);var e=o;o=null;for(var r=0,a=e.length;r<a;r++)e[r](n)}.bind(null,i)).catch(i.oe)},function(t,e,i){var n,o,r;!function(i,a){"use strict";o=[],void 0===(r="function"==typeof(n=function(){return function(t,e){t.deparam=function(e,i){var n={},o={true:!0,false:!1,null:null};return t.each(e.replace(/\+/g," ").split("&"),function(e,r){var a,s=r.split("="),l=window.decodeURIComponent(s[0]),c=n,u=0,h=l.split("]["),d=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[d])?(h[d]=h[d].replace(/\]$/,""),d=(h=h.shift().split("[").concat(h)).length-1):d=0,2===s.length)if(a=window.decodeURIComponent(s[1]),i&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==o[a]?o[a]:a),d)for(;u<=d;u++)c=c[l=""===h[u]?c.length:h[u]]=u<d?c[l]||(h[u+1]&&isNaN(h[u+1])?{}:[]):a;else t.isArray(n[l])?n[l].push(a):void 0!==n[l]?n[l]=[n[l],a]:n[l]=a;else l&&(n[l]=i?void 0:"")}),n}}(window.jQuery),window.jQuery})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(67),i(121),i(174),i(518),i(43),i(112),i(81)],void 0===(r="function"==typeof(n=function(){var t=window.app=window.app||{};return function(e,i){var n=window.kendo,o=window.kidoju,r=t.i18n,a=t.rapi,s=window.assert,l=new window.Logger("app.assets"),c=n.deepExtend,u="string",h='input[type="hidden"][name="version"]',d=/^data:\/\/s\/([^\/]+)\/([^\/]+)\/([^\/]+)$/,f=/^[a-f0-9]{24}$/,p=/^[a-z]{2}$/,m=/^https?\:\/\//;s.isPlainObject(t.assets,s.format(s.messages.isPlainObject.default,"app.assets")),s.isPlainObject(t.assets.audio,s.format(s.messages.isPlainObject.default,"app.assets.audio")),s.isPlainObject(t.assets.icon,s.format(s.messages.isPlainObject.default,"app.assets.icon")),s.isPlainObject(t.assets.image,s.format(s.messages.isPlainObject.default,"app.assets.image")),s.isPlainObject(t.assets.video,s.format(s.messages.isPlainObject.default,"app.assets.video"));var g={image:{template:"<div data-"+n.ns+'role="vectordrawing" data-'+n.ns+'bind="events: { command: onCommand, dialog: onDialog }" data-'+n.ns+'toolbar="'+n.htmlEncode(JSON.stringify({resizable:!0,tools:n.ui.VectorDrawingToolBar.fn.options.tools.slice(2)}))+'"></div>',maximize:!0,openImageDialog:function(){s.instanceof(n.dataviz.ui.VectorDrawing,this,s.format(s.messages.instanceof.default,"this","kendo.dataviz.ui.VectorDrawing"));var i=this,r=o.assets.image.collections[0].tools;o.assets.image.collections[0].tools=r.filter(function(t){return"create"!==t&&"edit"!==t}),o.dialogs.openAssetManager({title:"Insert image",assets:o.assets.image}).then(function(a){if(a.action===n.ui.BaseDialog.fn.options.messages.actions.ok.action){o.assets.image.collections[0].tools=r;var s=a.data.value,c=o.assets.image.schemes;for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s=s.replace(u+"://",c[u]));i.import(s).fail(function(i){t.notification&&e.isFunction(t.notification.error)&&(t.notification.error("Could not load image "+s),l.error({message:"vectorDrawingWidget.import failed",method:"editors.image.openImageDialog",data:{url:s},error:i}))})}})},openUrl:function(i){s.instanceof(n.ui.Window,this,s.format(s.messages.instanceof.default,"this","kendo.ui.Window"));var o=this.element.find(n.roleSelector("vectordrawing")).data("kendoVectorDrawing");return i=e("<a/>").attr("href",i).get(0).href,o.open(i).fail(function(n){t.notification&&e.isFunction(t.notification.error)&&(t.notification.error("Could not load image "+i.split("/").pop()),l.error({message:"vectorDrawingWidget.open failed",method:"editors.image.openUrl",data:{url:i},error:n}))})},resize:function(t){s.instanceof(n.ui.Window,this,s.format(s.messages.instanceof.default,"this","kendo.ui.Window"));var e=this.element.find(n.roleSelector("vectordrawing")).data("kendoVectorDrawing"),i=t.sender.element;e.element.outerWidth(i.width()).outerHeight(i.height()),e.resize()},saveAs:function(i,r){s.instanceof(n.dataviz.ui.VectorDrawing,this,s.format(s.messages.instanceof.default,"this","kendo.dataviz.ui.VectorDrawing")),s.type(u,i,s.format(s.messages.type.default,"name",u)),s.instanceof(n.ui.AssetManager,r,s.format(s.messages.instanceof.default,"assetManager","kendo.ui.AssetManager"));var a=this,c=i.lastIndexOf(".");s.ok(c>0,"`name` should have an extension");var h=i.substr(c+1).toLowerCase();i=i.substr(0,c);var d=!1;h.endsWith("+")&&(d=!0,h=h.slice(0,-1));var f="jpg"===h||"png"===h?a.exportImage:a.exportSVG;l.debug({message:"Saving file",method:"editors.image.saveAs",data:{name:i,ext:h}}),f.bind(a)({json:d}).done(function(t){"jpg"===h?t=o.image.jpegEncode(t,70):"png"===h&&(t=o.image.pngEncode(t));var e=o.image.dataUri2Blob(t);e.name=i+"."+h,l.debug({message:"exporFile successful",method:"editors.image.saveAs",data:{name:i,ext:h}}),r._uploadFile(e).done(function(){a._source=i+"."+h;var t=a.element.closest(n.roleSelector("window")).data("kendoWindow");t instanceof n.ui.Window&&t.title(a._source)})}).fail(function(n){t.notification&&e.isFunction(t.notification.error)&&(t.notification.error("Could not export "+h+" file."),l.error({message:"exportFile failed",method:"editors.image.saveAs",data:{name:i,ext:h},error:n}))})}}},v={websearch:function(e,i){return s.type(u,"type",s.format(s.messages.type.default,"type",u)),s.isPlainObject(i,s.format(s.messages.isPlainObject.default,"params")),c({name:"Google",pageSize:i.pageSize,serverPaging:!0,serverFiltering:!0,transport:{read:function(e){var n=e.data;n.q=n.filter&&"and"===n.filter.logic&&n.filter.filters&&n.filter.filters[1]&&"url"===n.filter.filters[1].field&&n.filter.filters[1].value||"",n.type=i.searchType,n.language=r.locale(),n.filter=void 0,t.rapi.web.search(i.provider,n).done(e.success).fail(e.error)}}},i)},summary:function(i,o){return s.type(u,"type",s.format(s.messages.type.default,"type",u)),s.type("object",o,s.format(s.messages.type.default,"params","object")),c({name:"Project",tools:["upload","create","edit","destroy"],editor:g[i],transport:{create:function(t){throw new Error("Use upload transport")},destroy:function(i){var o=r.locale(),f=JSON.parse(e(h).val()),p=i.data;s.isPlainObject(p,s.format(s.messages.isPlainObject.default,"data")),s.type(u,p.url,s.format(s.messages.type.default,"data.url",u));var m=p.url.match(d);s.equal(4,m.length,s.format(s.messages.equal.default,"matches.length",4)),s.equal(o,m[1],s.format(s.messages.equal.default,"matches[1]",o)),s.equal(f.summaryId,m[2],s.format(s.messages.equal.default,"matches[2]",f.summaryId)),a.v1.content.deleteFile(o,f.summaryId,m[3]).done(function(e){l.debug({message:"file deleted",method:"summary.transport.destroy",data:c({language:o,summaryId:f.summaryId,url:p.url},e)}),i.success({data:[p],total:1}),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.success(r.culture.editor.notifications.fileDeleteSuccess)}).fail(function(e,o,a){l.error({message:"file deletion error",method:"summary.transport.destroy",data:{status:o,error:a,reponse:e.responseText}}),i.error(e,o,a),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.error(r.culture.editor.notifications.fileDeleteFailure)})},read:function(i){var o=r.locale(),c=JSON.parse(e(h).val());s.match(p,o,s.format(s.messages.match.default,"locale",p)),s.match(f,c.summaryId,s.format(s.messages.match.default,c.summaryId,f)),a.v1.content.getAllSummaryFiles(o,c.summaryId).done(function(t){s.isPlainObject(t,s.format(s.messages.isPlainObject.default,"response")),s.isArray(t.data,s.format(s.messages.isArray.default,"response.data")),s.type("number",t.total,s.format(s.messages.type.default,"response.total","number")),i.success(t)}).fail(function(e,o,a){l.error({message:"file list read error",method:"summary.transport.read",data:{status:o,error:a,reponse:e.responseText}}),i.error(e,o,a),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.error(r.culture.editor.notifications.filesLoadFailure)})},update:function(t){throw new Error("Use upload transport")},upload:function(i){var o=r.locale(),d=JSON.parse(e(h).val()),m=i.data;s.match(p,o,s.format(s.messages.match.default,"locale",p)),s.match(f,d.summaryId,s.format(s.messages.match.default,d.summaryId,f)),s.instanceof(window.Blob,m.file,s.format(s.messages.instanceof.default,"data.file","Blob")),s.type(u,m.file.name,s.format(s.messages.type.default,"data.file.name",u)),l.debug({message:"getting a signed url from aws",method:"summary.transport.upload",data:{language:o,summaryId:d.summaryId}}),a.v1.content.getUploadUrl(o,d.summaryId,m.file).done(function(h){l.debug({message:"uploading file/blob to signed url",method:"summary.transport.upload",data:{language:o,summaryId:d.summaryId,uploadUrl:h}}),a.v1.content.uploadFile(h,m.file).progress(function(t){t.lengthComputable&&e(document).trigger("progress.kendoAssetManager",[t.loaded/t.total,"progress"])}).done(function(a){s.isPlainObject(a,s.format(s.messages.isPlainObject.default,"response")),s.type(u,a.name,s.format(s.messages.type.default,"response.name",u)),s.type("number",a.size,s.format(s.messages.type.default,"response.size","number")),s.type(u,a.type,s.format(s.messages.type.default,"response.type",u)),s.type(u,a.url,s.format(s.messages.type.default,"response.url",u)),l.debug({message:"new file/blob uploaded",method:"summary.transport.upload",data:c({language:o,summaryId:d.summaryId},a)}),i.success({data:[a],total:1}),e(document).trigger("progress.kendoAssetManager",[1,"complete"]),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.success(r.culture.editor.notifications.fileCreateSuccess)}).fail(function(e,o,a){l.error({message:"file/blob upload error",method:"summary.transport.upload",data:{status:o,error:a,response:e.responseText}}),i.error(e,o,a),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.error(r.culture.editor.notifications.fileCreateFailure)})}).fail(function(e,o,a){l.error({message:"erro getting a signed upload url",method:"summary.transport.create",data:{status:o,error:a,reponse:e.responseText}}),i.error(e,o,a),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.error(r.culture.editor.notifications.uploadUrlFailure)})},import:function(i){var o=r.locale(),a=JSON.parse(e(h).val()),d=i.data;s.match(p,o,s.format(s.messages.match.default,"locale",p)),s.match(f,a.summaryId,s.format(s.messages.match.default,a.summaryId,f)),s.match(m,d.url,s.format(s.messages.match.default,d.url,m)),window.app.rapi.v1.content.importFile(o,a.summaryId,d.url).done(function(e){s.isPlainObject(e,s.format(s.messages.isPlainObject.default,"response")),s.type(u,e.name,s.format(s.messages.type.default,"response.name",u)),s.type("number",e.size,s.format(s.messages.type.default,"response.size","number")),s.type(u,e.type,s.format(s.messages.type.default,"response.type",u)),s.type(u,e.url,s.format(s.messages.type.default,"response.url",u)),l.debug({message:"url imported",method:"summary.transport.import",data:c({language:o,summaryId:a.summaryId},e)}),i.success({data:[e],total:1}),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.success(r.culture.editor.notifications.urlImportSuccess)}).fail(function(e,o,a){l.error({message:"url import error",method:"summary.transport.import",data:{status:o,error:a,response:e.responseText}}),i.error(e,o,a),s.instanceof(n.ui.Notification,t.notification,s.format(s.messages.instanceof.default,"app.notification","kendo.ui.Notification")),t.notification.error(r.culture.editor.notifications.urlImportFailure)})}}},o)}};function b(i){s.type(u,i,s.format(s.messages.type.default,"type",u)),s.isPlainObject(t.assets[i],s.format(s.messages.isPlainObject.default,"app.assets."+i));for(var n=JSON.parse(JSON.stringify(t.assets[i])),o=0,r=n.collections.length;o<r;o++){var a=n.collections[o];a.source&&e.isFunction(v[a.source])&&(n.collections[o]=v[a.source](i,a.params||{}))}return n}o.assets.audio=new o.ToolAssets(b("audio")),o.assets.icon=new o.ToolAssets(b("icon")),o.assets.image=new o.ToolAssets(b("image")),o.assets.video=new o.ToolAssets(b("video")),l.debug({message:"Assets configured"})}(window.jQuery),t})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(4),i(44),i(20),i(120),i(21),i(175)],void 0===(r="function"==typeof(n=function(){return function(t,e,i){var n=window.kendo,o=n.ui,r=o.Widget,a=n.parseColor,s=n.Color,l=n.keys,c={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},u=".kendoColorTools",h="click"+u,d="keydown"+u,f=n.support.browser,p=f.msie&&f.version<9,m=r.extend({init:function(t,e){var i;r.fn.init.call(this,t,e),t=this.element,e=this.options,this._value=e.value=a(e.value),this._tabIndex=t.attr("tabIndex")||0,(i=this._ariaId=e.ariaId)&&t.attr("aria-labelledby",i),e._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(t){return void 0!==t&&(this._value=a(t),this._updateUI(this._value)),this._value},value:function(t){return(t=this.color(t))&&(t=this.options.opacity?t.toCssRgba():t.toCss()),t||null},enable:function(e){0===arguments.length&&(e=!0),t(".k-disabled-overlay",this.wrapper).remove(),e||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(e)},_select:function(t,e){var i=this._value;t=this.color(t),e||(this.element.trigger("change"),t.equals(i)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(t){g(this,"select",t)},_triggerChange:function(t){g(this,"change",t)},destroy:function(){this.element&&this.element.off(u),this.wrapper&&this.wrapper.off(u).find("*").off(u),this.wrapper=null,r.fn.destroy.call(this)},_updateUI:t.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function g(t,e,i){(i=a(i))&&!i.equals(t.color())&&("change"==e&&(t._value=i),i=1!=i.a?i.toCssRgba():i.toCss(),t.trigger(e,{value:i}))}var v=m.extend({init:function(e,i){var o=this;m.fn.init.call(o,e,i),e=o.wrapper=o.element;var r=(i=o.options).palette;"websafe"==r?(r="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",i.columns=18):"basic"==r&&(r="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7"),"string"==typeof r&&(r=r.split(",")),t.isArray(r)&&(r=t.map(r,function(t){return a(t)})),o._selectedID=(i.ariaId||n.guid())+"_selected",e.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(t(o._template({colors:r,columns:i.columns,tileSize:i.tileSize,value:o._value,id:i.ariaId}))).on(h,".k-item",function(e){o._select(t(e.currentTarget).css("background-color"))}).attr("tabIndex",o._tabIndex).on(d,_(o._keydown,o));var s,l,c=i.tileSize;if(c){if(/number|string/.test(typeof c))s=l=parseFloat(c);else{if("object"!=typeof c)throw new Error("Unsupported value for the 'tileSize' argument");s=parseFloat(c.width),l=parseFloat(c.height)}e.find(".k-item").css({width:s,height:l})}},focus:function(){this.wrapper&&!this.wrapper.is("[unselectable='on']")&&this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(t){t?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var i,n=this.wrapper.find(".k-item"),o=n.filter(".k-state-selected").get(0),r=e.keyCode;if(r==l.LEFT?i=k(n,o,-1):r==l.RIGHT?i=k(n,o,1):r==l.DOWN?i=k(n,o,this.options.columns):r==l.UP?i=k(n,o,-this.options.columns):r==l.ENTER?(w(e),o&&this._select(t(o).css("background-color"))):r==l.ESC&&this._cancel(),i){w(e),this._current(i);try{var s=a(i.css("background-color"));this._triggerSelect(s)}catch(t){}}},_current:function(e){this.wrapper.find(".k-state-selected").removeClass("k-state-selected").attr("aria-selected",!1).removeAttr("id"),t(e).addClass("k-state-selected").attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(e){var i=null;this.wrapper.find(".k-item").each(function(){var n=a(t(this).css("background-color"));if(n&&n.equals(e))return i=this,!1}),this._current(i)},_template:n.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " k-state-selected" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),b=m.extend({init:function(e,i){var n=this;m.fn.init.call(n,e,i),(i=n.options).messages=i.options?t.extend(n.options.messages,i.options.messages):n.options.messages,e=n.element,n.wrapper=e.addClass("k-widget k-flatcolorpicker").append(n._template(i)),n._hueElements=t(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",e),n._selectedColor=t(".k-selected-color-display",e),n._colorAsText=t("input.k-color-value",e),n._sliders(),n._hsvArea(),n._updateUI(n._value||a("#f00")),e.find("input.k-color-value").on(d,function(e){var i=this;if(e.keyCode==l.ENTER)try{var o=a(i.value),r=n.color();n._select(o,o.equals(r))}catch(e){t(i).addClass("k-state-error")}else n.options.autoupdate&&setTimeout(function(){var t=a(i.value,!0);t&&n._updateUI(t,!0)},10)}).end().on(h,".k-controls button.apply",function(){n.options._clearedColor?n.trigger("change"):n._select(n._getHSV())}).on(h,".k-controls button.cancel",function(){n._updateUI(n.color()),n._cancel()}),p&&n._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,m.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,autoupdate:!0,messages:c},_applyIEFilter:function(){var t=this.element.find(".k-hue-slider .k-slider-track")[0],e=t.currentStyle.backgroundImage;e=e.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),t.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')"},_sliders:function(){var t=this,e=t.element,i=e.find(".k-hue-slider"),n=e.find(".k-transparency-slider");function o(e){t._updateUI(t._getHSV(e.value,null,null,null))}function r(e){t._updateUI(t._getHSV(null,null,null,e.value/100))}i.attr("aria-label","hue saturation"),t._hueSlider=i.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,slide:o,change:o}).data("kendoSlider"),n.attr("aria-label","opacity"),t._opacitySlider=n.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:r,change:r}).data("kendoSlider")},_hsvArea:function(){var t=this,e=t.element.find(".k-hsv-rectangle"),i=e.find(".k-draghandle").attr("tabIndex",0).on(d,_(t._keydown,t));function o(e,i){var n=this.offset,o=e-n.left,r=i-n.top,a=this.width,s=this.height;o=o<0?0:o>a?a:o,r=r<0?0:r>s?s:r,t._svChange(o/a,1-r/s)}t._hsvEvents=new n.UserEvents(e,{global:!0,press:function(t){this.offset=n.getOffset(e),this.width=e.width(),this.height=e.height(),i.focus(),o.call(this,t.x.location,t.y.location)},start:function(){e.addClass("k-dragging"),i.focus()},move:function(t){t.preventDefault(),o.call(this,t.x.location,t.y.location)},end:function(){e.removeClass("k-dragging")}}),t._hsvRect=e,t._hsvHandle=i},_onEnable:function(t){this._hueSlider.enable(t),this._opacitySlider&&this._opacitySlider.enable(t),this.wrapper.find("input").attr("disabled",!t);var e=this._hsvRect.find(".k-draghandle");t?e.attr("tabIndex",this._tabIndex):e.removeAttr("tabIndex")},_keydown:function(t){var e=this;function i(i,n){var o=e._getHSV();o[i]+=n*(t.shiftKey?.01:.05),o[i]<0&&(o[i]=0),o[i]>1&&(o[i]=1),e._updateUI(o),w(t)}function n(i){var n=e._getHSV();n.h+=i*(t.shiftKey?1:5),n.h<0&&(n.h=0),n.h>359&&(n.h=359),e._updateUI(n),w(t)}switch(t.keyCode){case l.LEFT:t.ctrlKey?n(-1):i("s",-1);break;case l.RIGHT:t.ctrlKey?n(1):i("s",1);break;case l.UP:i(t.ctrlKey&&e._opacitySlider?"a":"v",1);break;case l.DOWN:i(t.ctrlKey&&e._opacitySlider?"a":"v",-1);break;case l.ENTER:e._select(e._getHSV());break;case l.F2:e.wrapper.find("input.k-color-value").focus().select();break;case l.ESC:e._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(t,e,i,n){var o=this._hsvRect,r=o.width(),a=o.height(),l=this._hsvHandle.position();return null==t&&(t=this._hueSlider.value()),null==e&&(e=l.left/r),null==i&&(i=1-l.top/a),null==n&&(n=this._opacitySlider?this._opacitySlider.value()/100:1),s.fromHSV(t,e,i,n)},_svChange:function(t,e){var i=this._getHSV(null,t,e,null);this._updateUI(i)},_updateUI:function(t,e){var i=this._hsvRect;t&&(this._colorAsText.attr("title",this.options.messages.previewInput),this._colorAsText.removeClass("k-state-error"),this._selectedColor.css("background-color",t.toDisplay()),e||this._colorAsText.val(this._opacitySlider?t.toCssRgba():t.toCss()),this._triggerSelect(t),t=t.toHSV(),this._hsvHandle.css({left:t.s*i.width()+"px",top:(1-t.v)*i.height()+"px"}),this._hueElements.css("background-color",s.fromHSV(t.h,1,1,1).toCss()),this._hueSlider.value(t.h),this._opacitySlider&&this._opacitySlider.value(100*t.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:n.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function k(t,e,i){var n=(t=Array.prototype.slice.call(t)).length,o=t.indexOf(e);return o<0?i<0?t[n-1]:t[0]:((o+=i)<0?o+=n:o%=n,t[o])}var y=r.extend({init:function(e,i){var n=this;r.fn.init.call(n,e,i),i=n.options;var o=(e=n.element).attr("value")||e.val();o=a(o||i.value,!0),n._value=i.value=o;var s=n.wrapper=t(n._template(i));if(e.hide().after(s),e.is("input")){e.appendTo(s);var l=e.closest("label"),c=e.attr("id");c&&(l=l.add('label[for="'+c+'"]')),l.click(function(t){n.open(),t.preventDefault()})}n._tabIndex=e.attr("tabIndex")||0,n.enable(!e.attr("disabled"));var u=e.attr("accesskey");u&&(e.attr("accesskey",null),s.attr("accesskey",u)),n.bind("activate",function(t){t.isDefaultPrevented()||n.toggle()}),n._updateUI(o)},destroy:function(){this.wrapper.off(u).find("*").off(u),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,r.fn.destroy.call(this)},enable:function(t){var e=this,i=e.wrapper,n=i.children(".k-picker-wrap"),o=n.find(".k-select");0===arguments.length&&(t=!0),e.element.attr("disabled",!t),i.attr("aria-disabled",!t),o.off(u).on("mousedown"+u,w),i.addClass("k-state-disabled").removeAttr("tabIndex").add("*",i).off(u),t?i.removeClass("k-state-disabled").attr("tabIndex",e._tabIndex).on("mouseenter"+u,function(){n.addClass("k-state-hover")}).on("mouseleave"+u,function(){n.removeClass("k-state-hover")}).on("focus"+u,function(){n.addClass("k-state-focused")}).on("blur"+u,function(){n.removeClass("k-state-focused")}).on(d,_(e._keydown,e)).on(h,".k-select",_(e.toggle,e)).on(h,e.options.toolIcon?".k-tool-icon":".k-selected-color",function(){e.trigger("activate")}):e.close()},_template:n.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:c,opacity:!1,buttons:!0,preview:!0,clearButton:!1,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var t=this._selector&&this._selector.options||{};t._closing=!0,this._getPopup().close(),delete t._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:m.fn.color,value:m.fn.value,_select:m.fn._select,_triggerSelect:m.fn._triggerSelect,_isInputTypeColor:function(){var t=this.element[0];return/^input$/i.test(t.tagName)&&/^color$/i.test(t.type)},_updateUI:function(t){var e="";t&&(e=this._isInputTypeColor()||1==t.a?t.toCss():t.toCssRgba(),this.element.val(e)),this._ariaTemplate||(this._ariaTemplate=n.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(e)),this._triggerSelect(t),this.wrapper.find(".k-selected-color").css("background-color",t?t.toDisplay():"#ffffff"),this._noColorIcon()[e?"hide":"show"]()},_keydown:function(t){var e=t.keyCode;this._getPopup().visible()?(e==l.ESC?this._selector._cancel():this._selector._keydown(t),w(t)):e!=l.ENTER&&e!=l.DOWN||(this.open(),w(t))},_getPopup:function(){var e=this,i=e._popup;if(!i){var o,r=e.options;o=r.palette?v:b,r._standalone=!1,delete r.select,delete r.change,delete r.cancel;var s=n.guid(),l=e._selector=new o(t('<div id="'+s+'"/>').appendTo(document.body),r);e.wrapper.attr("aria-owns",s),e._popup=i=l.wrapper.kendoPopup({anchor:e.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),l.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(t){l.options._clearedColor=!0,e.value(null),e.element.val(null),e._updateUI(null),l._colorAsText.val(""),l._hsvHandle.css({top:"0px",left:"0px"}),l._selectedColor.css("background-color","#ffffff"),e.trigger("change",{value:e.value()}),t.preventDefault()}}),l.bind({select:function(t){e._updateUI(a(t.value)),delete l.options._clearedColor},change:function(){l.options._clearedColor||e._select(l.color()),e.close()},cancel:function(){l.options._clearedColor&&!e.value()&&l.value()&&e._select(l.color(),!0),e.close()}}),i.bind({close:function(t){if(e.trigger("close"))t.preventDefault();else{e.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var i=l._selectOnHide(),n=l.value(),o=e.value(),r=l.options;i?r._clearedColor&&!o||e._select(i):(setTimeout(function(){e.wrapper&&!e.wrapper.is("[unselectable='on']")&&e.wrapper.focus()}),!r._closing&&r._clearedColor&&!o&&n?e._select(n,!0):e._updateUI(e.color()))}},open:function(t){e.trigger("open")?t.preventDefault():e.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){l._select(e.color(),!0),l.focus(),e.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return i}});function w(t){t.preventDefault()}function _(t,e){return function(){return t.apply(e,arguments)}}o.plugin(v),o.plugin(b),o.plugin(y)}(jQuery,parseInt),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(69),i(62),i(113)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=n.List,r=n.Select,a=i.caret,s=i.support,l=s.placeholder,c=i._activeElement,u=i.keys,h=".kendoComboBox",d=h+"FocusEvent",f="click"+h,p="mousedown"+h,m="k-state-default",g=t.proxy,v=/(\r\n|\n|\r)/gm,b=r.extend({init:function(e,n){var o;this.ns=h,n=t.isArray(n)?{dataSource:n}:n,r.fn.init.call(this,e,n),n=this.options,e=this.element.on("focus"+h,g(this._focusHandler,this)),n.placeholder=n.placeholder||e.attr("placeholder"),this._reset(),this._wrapper(),this._input(),this._clearButton(),this._tabindex(this.input),this._popup(),this._dataSource(),this._ignoreCase(),this._enable(),this._attachFocusEvents(),this._oldIndex=this.selectedIndex=-1,this._aria(),this._initialIndex=n.index,this.requireValueMapper(this.options),this._initList(),this._cascade(),n.autoBind?this._filterSource():(!(o=n.text)&&this._isSelect&&(o=e.children(":selected").text()),o&&this._setText(o)),o||this._placeholder(),t(this.element).parents("fieldset").is(":disabled")&&this.enable(!1),i.notify(this),this._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0,autoWidth:!1},events:["open","close","change","select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(t){var e=this._listOptions(t);r.fn.setOptions.call(this,t),this.listView.setOptions(e),this._accessors(),this._aria(),this._clearButton()},destroy:function(){this.input.off(h),this.input.off(d),this.element.off(h),this._inputWrapper.off(h),clearTimeout(this._pasteTimeout),this._arrow.off(f+" "+p),this._clear.off(f+" "+p),r.fn.destroy.call(this)},_change:function(){var t=this.text(),e=t&&t!==this._oldText&&t!==this.options.placeholder,i=this.selectedIndex,n=-1===i;if(!this.options.syncValueAndText&&!this.value()&&n&&e)return this._old="",this._oldIndex=i,this._oldText=t,this._typing||this.element.trigger("change"),this.trigger("change"),void(this._typing=!1);r.fn._change.call(this),this._toggleCloseVisibility()},_attachFocusEvents:function(){this.input.on("focus"+d,g(this._inputFocus,this)).on("focusout"+d,g(this._inputFocusout,this))},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass("k-state-focused"),this._placeholder(!1)},_inputFocusout:function(){var t=this.value();this._userTriggered=!0,this._inputWrapper.removeClass("k-state-focused"),clearTimeout(this._typingTimeout),this._typingTimeout=null,this.text(this.text());var e=this._focus(),i=this.listView.dataItemByIndex(this.listView.getElementIndex(e));t!==this.value()&&this.trigger("select",{dataItem:i,item:e})?this.value(t):(this._placeholder(),this._blur(),this.element.blur())},_inputPaste:function(){var t=this;clearTimeout(t._pasteTimeout),t._pasteTimeout=null,t._pasteTimeout=setTimeout(function(){t.search()})},_editable:function(t){var e=t.disable,i=t.readonly,n=this._inputWrapper.off(h),o=this.element.add(this.input.off(h)),r=this._arrow.off(f+" "+p),a=this._clear;i||e?(n.addClass(e?"k-state-disabled":m).removeClass(e?m:"k-state-disabled"),o.attr("disabled",e).attr("readonly",i).attr("aria-disabled",e)):(n.addClass(m).removeClass("k-state-disabled").on("mouseenter.kendoComboBox mouseleave.kendoComboBox",this._toggleHover),o.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1),r.on(f,g(this._arrowClick,this)).on(p,function(t){t.preventDefault()}),a.on(f,g(this._clearValue,this)).on(p,function(t){t.preventDefault()}),this.input.on("keydown"+h,g(this._keydown,this)).on("input"+h,g(this._search,this)).on("paste"+h,g(this._inputPaste,this))),this._toggleCloseVisibility()},open:function(){var t=this._state,e=!!this.dataSource.filter()&&this.dataSource.filter().filters.length>0;this.popup.visible()||(!this.listView.bound()&&"filter"!==t||"accept"===t?(this._open=!0,this._state="rebind",1!==this.options.minLength&&!e||e&&this.value()&&-1===this.selectedIndex?(this.refresh(),this._openPopup(),this.options.virtual||this.listView.bound(!1)):this._filterSource()):this._allowOpening()&&(this.popup._hovered=!0,this._openPopup(),this.options.virtual&&this._focusItem()))},_scrollToFocusedItem:function(){var t=this.listView;t.scrollToIndex(t.getElementIndex(t.focus()))},_openPopup:function(){this.popup.one("activate",g(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var t=this.options.text,e=this.options.value;this.listView.isFiltered()||(-1===this.selectedIndex?(void 0!==t&&null!==t||(t=e),this._accessor(e),this.input.val(t||this.input.val()),this._placeholder()):-1===this._oldIndex&&(this._oldIndex=this.selectedIndex))},_buildOptions:function(t){if(this._isSelect){var e=this._customOption;"rebind"===this._state&&(this._state=""),this._customOption=void 0,this._options(t,"",this.value()),e&&e[0].selected&&this._custom(e.val())}},_updateSelection:function(){var e=this.listView,i=this._initialIndex,n=null!==i&&i>-1;if("filter"===this._state)t(e.focus()).removeClass("k-state-selected");else if(!this._fetch){e.value().length||(n?this.select(i):this._accessor()&&e.value(this._accessor())),this._initialIndex=null;var o=e.selectedDataItems()[0];o&&(this._value(o)!==this.value()&&this._custom(this._value(o)),this.text()&&this.text()!==this._text(o)&&this._selectValue(o))}},_updateItemFocus:function(){var t=this.listView;this.options.highlightFirst?t.focus()||t.focusIndex()||t.focus(0):t.focus(-1)},_listBound:function(){var t=this.input[0]===c(),e=this.dataSource.flatView(),i=this.listView.skip(),n=e.length,o=this.dataSource._group?this.dataSource._group.length:0,r=void 0===i||0===i;this._presetValue=!1,this._renderFooter(),this._renderNoData(),this._toggleNoData(!n),this._toggleHeader(!!o&&!!n),this._resizePopup(),this.popup.position(),this._buildOptions(e),this._makeUnselectable(),this._updateSelection(),e.length&&r&&(this._updateItemFocus(),this.options.suggest&&t&&this.input.val()&&this.suggest(e[0])),this._open&&(this._open=!1,this._typingTimeout&&!t?this.popup.close():this.toggle(this._allowOpening()),this._typingTimeout=null),this._hideBusy(),this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(t){var e,i,n;if("function"==typeof t){for(e=this.dataSource.flatView(),n=0;n<e.length;n++)if(t(e[n])){t=n,i=!0;break}i||(t=-1)}return t},_select:function(t,e){var i=this;return-1===(t=i._get(t))&&(i.input[0].value="",i._accessor("")),i.listView.select(t).done(function(){e||"filter"!==i._state||(i._state="accept"),i._toggleCloseVisibility()})},_selectValue:function(t){var e=this.listView.select(),i="",n="";void 0===(e=e[e.length-1])&&(e=-1),this.selectedIndex=e,this.listView.isFiltered()&&-1!==e&&(this._valueBeforeCascade=this._old),-1!==e||t?((t||0===t)&&(i=this._dataValue(t),n=this._text(t)),null===i&&(i="")):(this.options.syncValueAndText?i=n=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value:n=this.text(),this.listView.focus(-1)),this._setDomInputValue(n),this._accessor(void 0!==i?i:n,e),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(t){var e,i=this,n=a(this.input);if(n&&n.length&&(e=n[0]),this._prev=this.input[0].value=t,e&&-1===this.selectedIndex){var o=s.mobileOS;o.wp||o.android?setTimeout(function(){i.input[0].setSelectionRange(e,e)},0):this.input[0].setSelectionRange(e,e)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var t=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!t?this._showClear():this._hideClear()},suggest:function(t){var e,i=this.input[0],n=this.text(),r=a(i)[0],s=this._last;s!=u.BACKSPACE&&s!=u.DELETE?("string"!=typeof(t=t||"")&&(t[0]&&(t=this.dataSource.view()[o.inArray(t[0],this.ul[0])]),t=t?this._text(t):""),r<=0&&(r=n.toLowerCase().indexOf(t.toLowerCase())+1),t?(e=(t=t.toString()).toLowerCase().indexOf(n.toLowerCase()))>-1&&(n+=t.substring(e+n.length)):n=n.substring(0,r),n.length===r&&t||(i.value=n,i===c()&&a(i,r,n.length))):this._last=void 0},text:function(t){t=null===t?"":t;var e,i,n=this,r=n.input[0],a=n.options.ignoreCase,s=t;if(void 0===t)return r.value;!1!==n.options.autoBind||n.listView.bound()?(e=n.dataItem())&&n._text(e).replace&&n._text(e).replace(v,"")===t&&(i=n._value(e))===o.unifyType(n._old,typeof i)?n._triggerCascade():(a&&(s=s.toLowerCase()),n._select(function(t){return t=n._text(t),a&&(t=(t+"").toLowerCase()),t===s}).done(function(){n.selectedIndex<0&&(r.value=t,n.options.syncValueAndText&&n._accessor(t),n._cascadeTriggered=!0,n._triggerCascade()),n._prev=r.value})):n._setText(t)},toggle:function(t){this._toggle(t,!0)},value:function(t){var e=this,i=e.options,n=e.listView;if(void 0===t)return void 0===(t=e._accessor()||e.listView.value()[0])||null===t?"":t;e.requireValueMapper(e.options,t),e.trigger("set",{value:t}),t===i.value&&e.input.val()===i.text||(e._accessor(t),e._isFilterEnabled()&&n.bound()&&n.isFiltered()?e._clearFilter():e._fetchData(),n.value(t).done(function(){-1===e.selectedIndex&&(e._accessor(t),e.input.val(t),e._placeholder(!0)),e._old=e._accessor(),e._oldIndex=e.selectedIndex,e._prev=e.input.val(),"filter"===e._state&&(e._state="accept"),e._toggleCloseVisibility()}))},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._toggleCloseVisibility()},_click:function(t){var e=this,i=t.item,n=e.listView.dataItemByIndex(e.listView.getElementIndex(i));t.preventDefault(),e.trigger("select",{dataItem:n,item:i})?e.close():(e._userTriggered=!0,e._select(i).done(function(){e._blur()}))},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(t){var e=this,i=e.options,n=e.dataSource,o=i.ignoreCase;if(o&&(t=t.toLowerCase()),e.ul[0].firstChild){this.listView.focus(this._get(function(i){var n=e._text(i);if(void 0!==n)return(""==(n+="")||""!==t)&&(o&&(n=n.toLowerCase()),0===n.indexOf(t))}));var r=this.listView.focus();r&&(i.suggest&&e.suggest(r),this.open()),this.options.highlightFirst&&!t&&this.listView.focusFirst()}else n.one("change",function(){n.view()[0]&&e.search(t)}).fetch()},_input:function(){var e,i,n=this.element.removeClass("k-input")[0],o=n.accessKey,r=this.wrapper,a=n.name||"";a&&(a='name="'+a+'_input" '),(e=r.find("input.k-input"))[0]||(r.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+a+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),e=r.find("input.k-input")),e[0].style.cssText=n.style.cssText,e[0].title=n.title,(i=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))>-1&&(e[0].maxLength=i),e.addClass(n.className).css({width:"",height:n.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),l&&e.attr("placeholder",this.options.placeholder),o&&(n.accessKey="",e[0].accessKey=o),this._focused=this.input=e,this._inputWrapper=t(r[0].firstChild),this._arrow=r.find(".k-select").attr({role:"button",tabIndex:-1}),this._arrowIcon=this._arrow.find(".k-icon"),n.id&&this._arrow.attr("aria-controls",this.ul[0].id)},_clearButton:function(){o.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(t){var e=this,i=t.keyCode;if(e._last=i,clearTimeout(e._typingTimeout),e._typingTimeout=null,i===u.HOME)e._firstItem();else if(i===u.END)e._lastItem();else if(i===u.ENTER||i===u.TAB){var n=e.listView.focus(),r=e.dataItem(),a=!0;if(e.popup.visible()||r&&e.text()===e._text(r)||(n=null),n){if(e.popup.visible()&&t.preventDefault(),(r=e.listView.dataItemByIndex(e.listView.getElementIndex(n)))&&(a=e._value(r)!==o.unifyType(e.value(),typeof e._value(r))),a&&e.trigger("select",{dataItem:r,item:n}))return;e._userTriggered=!0,e._select(n).done(function(){e._blur(),e._valueBeforeCascade=e._old=e.value()})}else(e._syncValueAndText()||e._isSelect)&&e._accessor(e.input.val()),e.listView.value(e.input.val()),e._blur()}else i==u.TAB||e._move(t)?i!==u.ESC||e.popup.visible()||e._clearValue():e._search()},_placeholder:function(t){if(!l){var e,i=this.input,n=this.options.placeholder;if(n){if(e=this.value(),void 0===t&&(t=!e),i.toggleClass("k-readonly",t),!t){if(e)return;n=""}i.val(n),n||i[0]!==c()||a(i[0],0,0)}}},_search:function(){var t=this;t._typingTimeout=setTimeout(function(){var e=t.text();t._prev!==e&&(t._prev=e,"none"===t.options.filter&&t.options.virtual&&t.listView.select(-1),t.search(e),t._toggleCloseVisibility()),t._typingTimeout=null},t.options.delay)},_setText:function(t){this.input.val(t),this._prev=t},_wrapper:function(){var t=this.element,e=t.parent();e.is("span.k-widget")||((e=t.hide().wrap("<span />").parent())[0].style.cssText=t[0].style.cssText),this.wrapper=e.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","")},_clearSelection:function(t,e){var i=t.value(),n=i&&-1===t.selectedIndex;-1==this.selectedIndex&&this.value()||(e||!i||n)&&(this.options.value="",this.value(""),this._selectedValue=null)},_preselect:function(t,e){this.input.val(e),this._accessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(t),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()}});n.plugin(b)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n;t.exports=function t(e,i,o){function r(s,l){if(!i[s]){if(!e[s]){var c="function"==typeof n&&n;if(!l&&c)return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i||t)},h,h.exports,t,e,i,o)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)o(i,n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,o){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),o);else for(var r=0;r<n;r++)t[o+r]=e[i+r]},flattenChunks:function(t){var e,i,n,o,r,a;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(a=new Uint8Array(n),o=0,e=0,i=t.length;e<i;e++)r=t[e],a.set(r,o),o+=r.length;return a}},a={arraySet:function(t,e,i,n,o){for(var r=0;r<n;r++)t[o+r]=e[i+r]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(n)},{}],2:[function(t,e,i){"use strict";var n=t("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",a=0;a<e;a++)i+=String.fromCharCode(t[a]);return i}a[254]=a[254]=1,i.string2buf=function(t){var e,i,o,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new n.Buf8(l),a=0,r=0;a<l;r++)55296==(64512&(i=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(o-56320),r++),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i);return e},i.buf2binstring=function(t){return l(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,o=e.length;i<o;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,o,r,s=e||t.length,c=new Array(2*s);for(n=0,i=0;i<s;)if((o=t[i++])<128)c[n++]=o;else if((r=a[o])>4)c[n++]=65533,i+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&i<s;)o=o<<6|63&t[i++],r--;r>1?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return l(c,n)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":1}],3:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{o=o+e[n++]|0,r=r+o|0}while(--a);o%=65521,r%=65521}return o|r<<16|0}},{}],4:[function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,o){var r=n,a=o+i;t^=-1;for(var s=o;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],5:[function(t,e,i){"use strict";var n,o=t("../utils/common"),r=t("./trees"),a=t("./adler32"),s=t("./crc32"),l=t("./messages"),c=0,u=1,h=3,d=4,f=5,p=0,m=1,g=-2,v=-3,b=-5,k=-1,y=1,w=2,_=3,x=4,S=0,C=2,A=8,T=9,j=15,M=8,z=286,E=30,I=19,D=2*z+1,O=15,P=3,R=258,L=R+P+1,F=32,N=42,B=69,q=73,V=91,H=103,U=113,W=666,G=1,Q=2,Y=3,K=4,Z=3;function X(t,e){return t.msg=l[e],e}function J(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(o.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function et(t,e){r._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function nt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function ot(t,e,i,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,o.arraySet(e,t.input,t.next_in,r,i),1===t.state.wrap?t.adler=a(t.adler,e,r,i):2===t.state.wrap&&(t.adler=s(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)}function rt(t,e){var i,n,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-L?t.strstart-(t.w_size-L):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+R,f=c[r+a-1],p=c[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(i=e)+a]===p&&c[i+a-1]===f&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<d);if(n=R-(d-r),r=d-R,n>a){if(t.match_start=e,a=n,n>=s)break;f=c[r+a-1],p=c[r+a]}}}while((e=h[e&u])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function at(t){var e,i,n,r,a,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-L)){o.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,i=t.hash_size,e=i;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--i);e=i=s;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--i);r+=s}if(0===t.strm.avail_in)break;if(i=ot(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=i,t.lookahead+t.insert>=P)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+P-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<P)););}while(t.lookahead<L&&0!==t.strm.avail_in)}function st(t,e){for(var i,n;;){if(t.lookahead<L){if(at(t),t.lookahead<L&&e===c)return G;if(0===t.lookahead)break}if(i=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-L&&(t.match_length=rt(t,i)),t.match_length>=P)if(n=r._tr_tally(t,t.strstart-t.match_start,t.match_length-P),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=P){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=t.strstart<P-1?t.strstart:P-1,e===d?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Q}function lt(t,e){for(var i,n,o;;){if(t.lookahead<L){if(at(t),t.lookahead<L&&e===c)return G;if(0===t.lookahead)break}if(i=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=P-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-L&&(t.match_length=rt(t,i),t.match_length<=5&&(t.strategy===y||t.match_length===P&&t.strstart-t.match_start>4096)&&(t.match_length=P-1)),t.prev_length>=P&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-P,n=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-P),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=P-1,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return G}else if(t.match_available){if((n=r._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return G}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<P-1?t.strstart:P-1,e===d?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Q}function ct(t,e,i,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=o}function ut(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=C,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?N:U,t.adler=2===e.wrap?0:1,e.last_flush=c,r._tr_init(e),p):X(t,g)}function ht(t){var e=ut(t);return e===p&&function(t){t.window_size=2*t.w_size,$(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=P-1,t.match_available=0,t.ins_h=0}(t.state),e}function dt(t,e,i,n,r,a){if(!t)return g;var s=1;if(e===k&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>T||i!==A||n<8||n>15||e<0||e>9||a<0||a>x)return X(t,g);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*D),this.dyn_dtree=new o.Buf16(2*(2*E+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*z+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+P-1)/P),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=i,ht(t)}n=[new ct(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===c)return G;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,et(t,!1),0===t.strm.avail_out))return G;if(t.strstart-t.block_start>=t.w_size-L&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===d?(et(t,!0),0===t.strm.avail_out?Y:K):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),G)}),new ct(4,4,8,4,st),new ct(4,5,16,8,st),new ct(4,6,32,32,st),new ct(4,4,16,16,lt),new ct(8,16,32,32,lt),new ct(8,16,128,128,lt),new ct(8,32,128,256,lt),new ct(32,128,258,1024,lt),new ct(32,258,258,4096,lt)],i.deflateInit=function(t,e){return dt(t,e,A,j,M,S)},i.deflateInit2=dt,i.deflateReset=ht,i.deflateResetKeep=ut,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g},i.deflate=function(t,e){var i,o,a,l;if(!t||!t.state||e>f||e<0)return t?X(t,g):g;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===W&&e!==d)return X(t,0===t.avail_out?b:g);if(o.strm=t,i=o.last_flush,o.last_flush=e,o.status===N)if(2===o.wrap)t.adler=0,it(o,31),it(o,139),it(o,8),o.gzhead?(it(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),it(o,255&o.gzhead.time),it(o,o.gzhead.time>>8&255),it(o,o.gzhead.time>>16&255),it(o,o.gzhead.time>>24&255),it(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),it(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(it(o,255&o.gzhead.extra.length),it(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=B):(it(o,0),it(o,0),it(o,0),it(o,0),it(o,0),it(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),it(o,Z),o.status=U);else{var v=A+(o.w_bits-8<<4)<<8,k=-1;k=o.strategy>=w||o.level<2?0:o.level<6?1:6===o.level?2:3,v|=k<<6,0!==o.strstart&&(v|=F),v+=31-v%31,o.status=U,nt(o,v),0!==o.strstart&&(nt(o,t.adler>>>16),nt(o,65535&t.adler)),t.adler=1}if(o.status===B)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),tt(t),a=o.pending,o.pending!==o.pending_buf_size));)it(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=q)}else o.status=q;if(o.status===q)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),tt(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,it(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=V)}else o.status=V;if(o.status===V)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),tt(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,it(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=H)}else o.status=H;if(o.status===H&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&tt(t),o.pending+2<=o.pending_buf_size&&(it(o,255&t.adler),it(o,t.adler>>8&255),t.adler=0,o.status=U)):o.status=U),0!==o.pending){if(tt(t),0===t.avail_out)return o.last_flush=-1,p}else if(0===t.avail_in&&J(e)<=J(i)&&e!==d)return X(t,b);if(o.status===W&&0!==t.avail_in)return X(t,b);if(0!==t.avail_in||0!==o.lookahead||e!==c&&o.status!==W){var y=o.strategy===w?function(t,e){for(var i;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===c)return G;break}if(t.match_length=0,i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===d?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Q}(o,e):o.strategy===_?function(t,e){for(var i,n,o,a,s=t.window;;){if(t.lookahead<=R){if(at(t),t.lookahead<=R&&e===c)return G;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=P&&t.strstart>0&&(o=t.strstart-1,(n=s[o])===s[++o]&&n===s[++o]&&n===s[++o])){a=t.strstart+R;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<a);t.match_length=R-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=P?(i=r._tr_tally(t,1,t.match_length-P),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===d?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Q}(o,e):n[o.level].func(o,e);if(y!==Y&&y!==K||(o.status=W),y===G||y===Y)return 0===t.avail_out&&(o.last_flush=-1),p;if(y===Q&&(e===u?r._tr_align(o):e!==f&&(r._tr_stored_block(o,0,0,!1),e===h&&($(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),tt(t),0===t.avail_out))return o.last_flush=-1,p}return e!==d?p:o.wrap<=0?m:(2===o.wrap?(it(o,255&t.adler),it(o,t.adler>>8&255),it(o,t.adler>>16&255),it(o,t.adler>>24&255),it(o,255&t.total_in),it(o,t.total_in>>8&255),it(o,t.total_in>>16&255),it(o,t.total_in>>24&255)):(nt(o,t.adler>>>16),nt(o,65535&t.adler)),tt(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?p:m)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==N&&e!==B&&e!==q&&e!==V&&e!==H&&e!==U&&e!==W?X(t,g):(t.state=null,e===U?X(t,v):p):g},i.deflateSetDictionary=function(t,e){var i,n,r,s,l,c,u,h,d=e.length;if(!t||!t.state)return g;if(i=t.state,2===(s=i.wrap)||1===s&&i.status!==N||i.lookahead)return g;for(1===s&&(t.adler=a(t.adler,e,d,0)),i.wrap=0,d>=i.w_size&&(0===s&&($(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new o.Buf8(i.w_size),o.arraySet(h,e,d-i.w_size,i.w_size,0),e=h,d=i.w_size),l=t.avail_in,c=t.next_in,u=t.input,t.avail_in=d,t.next_in=0,t.input=e,at(i);i.lookahead>=P;){n=i.strstart,r=i.lookahead-(P-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+P-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=P-1,at(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=P-1,i.match_available=0,t.next_in=c,t.input=u,t.avail_in=l,i.wrap=s,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,i){"use strict";var n=t("../utils/common"),o=4,r=0,a=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,u=1,h=2,d=29,f=256,p=f+1+d,m=30,g=19,v=2*p+1,b=15,k=16,y=7,w=256,_=16,x=17,S=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(p+2));l(M);var z=new Array(2*m);l(z);var E=new Array(512);l(E);var I=new Array(256);l(I);var D=new Array(d);l(D);var O,P,R,L=new Array(m);function F(t,e,i,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}function N(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function B(t){return t<256?E[t]:E[256+(t>>>7)]}function q(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function V(t,e,i){t.bi_valid>k-i?(t.bi_buf|=e<<t.bi_valid&65535,q(t,t.bi_buf),t.bi_buf=e>>k-t.bi_valid,t.bi_valid+=i-k):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function H(t,e,i){V(t,i[2*e],i[2*e+1])}function U(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function W(t,e,i){var n,o,r=new Array(b+1),a=0;for(n=1;n<=b;n++)r[n]=a=a+i[n-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=U(r[s]++,s))}}function G(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<m;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Q(t){t.bi_valid>8?q(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Y(t,e,i,n){var o=2*e,r=2*i;return t[o]<t[r]||t[o]===t[r]&&n[e]<=n[i]}function K(t,e,i){for(var n=t.heap[i],o=i<<1;o<=t.heap_len&&(o<t.heap_len&&Y(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!Y(e,n,t.heap[o],t.depth));)t.heap[i]=t.heap[o],i=o,o<<=1;t.heap[i]=n}function Z(t,e,i){var n,o,r,a,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],o=t.pending_buf[t.l_buf+s],s++,0===n?H(t,o,e):(r=I[o],H(t,r+f+1,e),0!==(a=C[r])&&(o-=D[r],V(t,o,a)),r=B(--n),H(t,r,i),0!==(a=A[r])&&(n-=L[r],V(t,n,a)))}while(s<t.last_lit);H(t,w,e)}function X(t,e){var i,n,o,r=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=v,i=0;i<l;i++)0!==r[2*i]?(t.heap[++t.heap_len]=c=i,t.depth[i]=0):r[2*i+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=c<2?++c:0,r[2*o]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=c,i=t.heap_len>>1;i>=1;i--)K(t,r,i);o=l;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],K(t,r,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,r[2*o]=r[2*i]+r[2*n],t.depth[o]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,r[2*i+1]=r[2*n+1]=o,t.heap[1]=o++,K(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,o,r,a,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(r=0;r<=b;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<v;i++)n=t.heap[i],(r=l[2*l[2*n+1]+1]+1)>p&&(r=p,m++),l[2*n+1]=r,n>c||(t.bl_count[r]++,a=0,n>=f&&(a=d[n-f]),s=l[2*n],t.opt_len+=s*(r+a),h&&(t.static_len+=s*(u[2*n+1]+a)));if(0!==m){do{for(r=p-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(r=p;0!==r;r--)for(n=t.bl_count[r];0!==n;)(o=t.heap[--i])>c||(l[2*o+1]!==r&&(t.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),n--)}}(t,e),W(r,c,t.bl_count)}function J(t,e,i){var n,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)o=a,a=e[2*(n+1)+1],++s<l&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[2*_]++):s<=10?t.bl_tree[2*x]++:t.bl_tree[2*S]++,s=0,r=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))}function $(t,e,i){var n,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++)if(o=a,a=e[2*(n+1)+1],!(++s<l&&o===a)){if(s<c)do{H(t,o,t.bl_tree)}while(0!=--s);else 0!==o?(o!==r&&(H(t,o,t.bl_tree),s--),H(t,_,t.bl_tree),V(t,s-3,2)):s<=10?(H(t,x,t.bl_tree),V(t,s-3,3)):(H(t,S,t.bl_tree),V(t,s-11,7));s=0,r=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}}l(L);var tt=!1;function et(t,e,i,o){V(t,(c<<1)+(o?1:0),3),function(t,e,i,o){Q(t),o&&(q(t,i),q(t,~i)),n.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}i._tr_init=function(t){tt||(function(){var t,e,i,n,o,r=new Array(b+1);for(i=0,n=0;n<d-1;n++)for(D[n]=i,t=0;t<1<<C[n];t++)I[i++]=n;for(I[i-1]=n,o=0,n=0;n<16;n++)for(L[n]=o,t=0;t<1<<A[n];t++)E[o++]=n;for(o>>=7;n<m;n++)for(L[n]=o<<7,t=0;t<1<<A[n]-7;t++)E[256+o++]=n;for(e=0;e<=b;e++)r[e]=0;for(t=0;t<=143;)M[2*t+1]=8,t++,r[8]++;for(;t<=255;)M[2*t+1]=9,t++,r[9]++;for(;t<=279;)M[2*t+1]=7,t++,r[7]++;for(;t<=287;)M[2*t+1]=8,t++,r[8]++;for(W(M,p+1,r),t=0;t<m;t++)z[2*t+1]=5,z[2*t]=U(t,5);O=new F(M,C,f+1,p,b),P=new F(z,A,0,m,b),R=new F(new Array(0),T,0,g,y)}(),tt=!0),t.l_desc=new N(t.dyn_ltree,O),t.d_desc=new N(t.dyn_dtree,P),t.bl_desc=new N(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,G(t)},i._tr_stored_block=et,i._tr_flush_block=function(t,e,i,n){var l,c,d=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return r;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return a;return r}(t)),X(t,t.l_desc),X(t,t.d_desc),d=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),X(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*j[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=l&&(l=c)):l=c=i+5,i+4<=l&&-1!==e?et(t,e,i,n):t.strategy===o||c===l?(V(t,(u<<1)+(n?1:0),3),Z(t,M,z)):(V(t,(h<<1)+(n?1:0),3),function(t,e,i,n){var o;for(V(t,e-257,5),V(t,i-1,5),V(t,n-4,4),o=0;o<n;o++)V(t,t.bl_tree[2*j[o]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,d+1),Z(t,t.dyn_ltree,t.dyn_dtree)),G(t),n&&Q(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(I[i]+f+1)]++,t.dyn_dtree[2*B(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){V(t,u<<1,3),H(t,w,M),function(t){16===t.bi_valid?(q(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":1}],8:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(t,e,i){"use strict";var n=t("./zlib/deflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,h=0,d=8;function f(t){if(!(this instanceof f))return new f(t);this.options=o.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==c)throw new Error(a[i]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?r.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[i]);this._dict_set=!0}}function p(t,e){var i=new f(e);if(i.push(t,!0),i.err)throw i.msg||a[i.err];return i.result}f.prototype.push=function(t,e){var i,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=r.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(i=n.deflate(s,a))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(r.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=f,i.deflate=p,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return d});var n=i(5),o=i.n(n),r=(i(4),i(172),i(177),i(519),i(3)),a=window.kendo,s=a.bind,l=a.ns,c=a.resize,u=a.roleSelector,h=a.ui.BaseDialog;function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o.a.Deferred(),i=h.getElement(t.cssClass);i.css({padding:0}).addClass("k-tabstrip k-header");var n=i.kendoBaseDialog(Object.assign({title:h.fn.options.messages[t.type||"info"],content:"<div data-".concat(l,'role="assetmanager" data-').concat(l,'bind="value:value"></div>'),data:{value:""},actions:[h.fn.options.messages.actions.ok,h.fn.options.messages.actions.cancel],width:860},t)).data("kendoBaseDialog");return n.unbind("initOpen"),n.one("initOpen",function(t){t.sender.element.find(u("assetmanager")).kendoAssetManager(t.sender.options.assets),s(t.sender.element.children(),t.sender.viewModel)}),n.one("show",function(t){c(t.sender.element)}),n.bind(r.a.CLICK,function(i){var n=i.sender.viewModel.get("value"),a=!1;Object.keys(t.assets.schemes).some(function(t){return a=n.startsWith("".concat(t,"://"))}),a?e.resolve({action:i.action,data:i.sender.viewModel.toJSON()}):r.a.RX_URL.test(n)&&i.action===h.fn.options.messages.actions.ok.action&&t.assets.collections.length>0&&t.assets.collections[0].transport&&o.a.type(t.assets.collections[0].transport.import)===r.a.FUNCTION?t.assets.collections[0].transport.import({data:{url:n},success:function(t){e.resolve({action:i.action,data:{value:t.data[0].url}})},error:e.reject}):r.a.RX_URL.test(n)&&i.action!==h.fn.options.messages.actions.ok.action?e.resolve({action:i.action,data:{value:""}}):e.reject(new Error("Unknown url scheme"))}),n.one(r.a.CLOSE,function(t){t.sender.element.removeClass("k-tabstrip k-header")}),n.open(),e.promise()}window.kidoju=window.kidoju||{},window.kidoju.dialogs=window.kidoju.dialogs||{},window.kidoju.dialogs.openAssetManager=d},function(t,e,i){var n,o,r;!function(a,s){"use strict";o=[i(1),i(6),i(11),i(61),i(167),i(166),i(520),i(521),i(64),i(177),i(171)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=i.data.DataSource,r=i.data.ObservableObject,a=i.ui.DropDownList,s=i.ui.ListView,l=i.ui.Pager,c=i.ui.ProgressBar,u=i.ui.TabStrip,h=i.ui.Window,d=window.assert,f=new window.Logger("kidoju.widgets.assetmanager"),p="number",m="string",g="object",v="array",b="error",k=".kendoAssetManager",y="dragenter",w="dragover",_='<li class="k-tile" '+i.attr("uid")+'="#=uid#">#if (/^image\\//.test(mime$())) {#<div class="k-thumb"><img alt="#=name$()#" src="#=url$()#" class="k-image"></span></div>#}else{#<div class="k-thumb"><span class="k-icon k-i-file"></span></div>#}#<strong>#=name$()#</strong><span class="k-filesize">#=size$()#</span></li>',x="create",S="edit",C="destroy";function A(t){t=t||[],d.type(v,t,i.format(d.messages.type.default,"extensions",v));var e=null;if(1===t.length)e={field:"url",operator:"endswith",value:t[0]};else if(t.length>1){e={logic:"or",filters:[]};for(var n=0;n<t.length;n++)e.filters.push({field:"url",operator:"endswith",value:t[n]})}return e}function T(t,e,i){var n,o;t.on(y+k,function(t){e(t),o=new Date,n||(n=setInterval(function(){new Date-o>100&&(i(),clearInterval(n),n=null)},100))}).on(w+k,function(){o=new Date})}var j=n.extend({init:function(t,e){e=e||{},n.fn.init.call(this,t,e),f.debug({method:"init",message:"widget initialized"}),this._initDataSources(),this._layout(),i.notify(this)},options:{name:"AssetManager",enable:!0,toolbarTemplate:'<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"><label class="k-label" style="display:none">#=messages.toolbar.collections#<select data-role="dropdownlist"></select></label><div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-i-plus"></span>#:messages.toolbar.upload#<input type="file" name="file" accept="#=accept#" multiple /></div></div><button type="button" class="k-button k-button-icon" title="#:messages.toolbar.create#"><span class="k-icon k-i-file-add"></span></button><button type="button" class="k-button k-button-icon k-state-disabled" title="#:messages.toolbar.edit#"><span class="k-icon k-i-track-changes-enable"></span></button><button type="button" class="k-button k-button-icon k-state-disabled" title="#:messages.toolbar.delete#"><span class="k-icon k-i-delete"></span></button></div><div class="k-tiles-arrange"><div class="k-progressbar"></div><div class="k-widget k-search-wrap k-textbox"><input placeholder="#=messages.toolbar.search#" class="k-input"><a href="\\#" class="k-icon k-i-zoom k-search"></a></div></div></div>',itemTemplate:_,collections:[],schemes:{},extensions:[],messages:{dialogs:{cancel:{imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/close.svg",text:"Cancel"},confirm:"Confirm",newFile:"New file",ok:{imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/ok.svg",text:"OK"},warningOverwrite:"Do you really want to overwite these files: `{0}`? Note that file updates take time to propagate across our Content Delivery Network while new files propagate instantly."},toolbar:{collections:"Collections:&nbsp;",create:"Create New",delete:"Delete",edit:"Edit",search:"Search",upload:"Upload"}}},events:["change","click",b],value:function(){var t=this._selectedItem();if(t instanceof r)return t.url},progress:function(t){if(this.progressBar instanceof c)return this.progressBar.value(t)},select:function(e){return t.type(e)===p?e=this.listView.items().get(e):t.type(e)===m&&(e=t(e)),this.listView.select(e)},_layout:function(){this.wrapper=this.element,this.element.addClass("k-widget kj-assetmanager"),this._tabStrip(),this._tabContent(),this._dropZone(),this.tabStrip.select(0),this.tabStrip.contentHolder(0).height("auto")},_initDataSources:function(){var e=this;e._errorHandler=e._dataError.bind(e),e._collections=function i(n,r){for(var a,s=[],l=0,c=n.length;l<c;l++)t.isArray(n[l].collections)?s.push({name:n[l].name,collections:i(n[l].collections,r+1)}):(a=o.create(e._extendDataSourceOptions(n[l])),t.isFunction(e._errorHandler)&&a.bind(b,e._errorHandler),s.push({dataSource:a,depth:r,editor:n[l].editor,name:n[l].name,tools:n[l].tools}));return s}(e.options.collections,0)},_extendDataSourceOptions:function(e){var n=this.options;return t.isPlainObject(e)&&(e=t.extend(!0,{},{filter:A(n.extensions),page:1,pageSize:12,schema:{data:"data",error:"error",model:{id:"url",fields:{size:{type:p,editable:!1},mime:{type:m,nullable:!0},url:{type:m,editable:!1,nullable:!0}},name$:function(){return function(t){return d.type(m,t,i.format(d.messages.type.default,"url",m)),t.split("\\").pop().split("/").pop()}(this.get("url"))},size$:function(){return function(t){if(d.type(p,t,i.format(d.messages.type.default,"size",p)),!t)return"";var e=" bytes";return t>=1073741824?(e=" GB",t/=1073741824):t>=1048576?(e=" MB",t/=1048576):t>=1024&&(e=" KB",t/=1024),Math.round(100*t)/100+e}(this.get("size"))},mime$:function(){var t=this.get("mime");if(t)return t;var e=this.get("url");return e?function(t){switch(d.type(m,t,i.format(d.messages.type.default,"url",m)),t.split(".").pop()){case"gif":return"image/gif";case"jpg":case"jpeg":return"image/jpeg";case"mp3":return"audio/mpeg";case"mp4":return"video/mp4";case"ogg":return"audio/ogg";case"ogv":return"video/ogg";case"png":return"image/png";case"svg":return"image/svg+xml";case"wav":return"audio/wav";case"webm":return"video/webm";default:return"application/octet-stream"}}(e):"application/octet-stream"},url$:function(){return function(t,e){d.type(m,t,i.format(d.messages.type.default,"url",m)),d.type(g,e,i.format(d.messages.type.default,"schemes",g));var n=t;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&new RegExp("^"+o+"://").test(t)){n=t.replace(o+"://",e[o]);break}return n}(this.get("url"),n.schemes)}},total:"total"},serverFiltering:!1,serverPaging:!1},e)),e},_tabStrip:function(){d.isArray(this._collections,i.format(d.messages.isArray.default,"this._collections")),d.hasLength(this._collections,i.format(d.messages.hasLength.default,"this._collections"));for(var e=t("<div></div>"),n=t("<ul></ul>").appendTo(e),o=0,r=this._collections.length;o<r;o++)n.append("<li>"+this._collections[o].name+"</li>"),e.append("<div></div>");e.appendTo(this.element),this.tabStrip=e.kendoTabStrip({tabPosition:"left",animation:!1,select:this._onTabSelect.bind(this)}).data("kendoTabStrip"),d.instanceof(u,this.tabStrip,i.format(d.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip"))},_tabContent:function(){d.instanceof(u,this.tabStrip,i.format(d.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip")),this.fileBrowser=t('<div class="k-filebrowser k-dropzone"></div>').appendTo(this.tabStrip.contentHolder(0)),this._tabToolbar(),this._listView()},_tabToolbar:function(){var e=this,n=e.options,o=i.template(n.toolbarTemplate);e.toolbar=t(o({accept:(n.extensions||[]).join(","),messages:n.messages})).appendTo(e.fileBrowser),d.instanceof(t,e.toolbar,i.format(d.messages.instanceof.default,"this.toolbar","jQuery")),e.dropDownList=e.toolbar.find(i.roleSelector("dropdownlist")).kendoDropDownList({dataSource:[],dataTextField:"name",dataValueField:"name",change:e._onDropDownListChange.bind(e)}).data("kendoDropDownList"),d.instanceof(a,e.dropDownList,i.format(d.messages.instanceof.default,"this.dropDownList","kendo.ui.DropDownList")),e.progressBar=e.toolbar.find("div.k-tiles-arrange .k-progressbar").kendoProgressBar({type:"percent",min:0,max:1,animation:{duration:600}}).data("kendoProgressBar"),d.instanceof(c,e.progressBar,i.format(d.messages.instanceof.default,"this.progressBar","kendo.ui.ProgressBar")),e.progressBar instanceof c&&t(document).on("progress"+k,function(t,i,n){e.progressBar.value(i),"complete"===n&&setTimeout(function(){e.progressBar.value(0)},100)}),e.searchInput=e.toolbar.find("input.k-input"),d.instanceof(t,e.searchInput,i.format(d.messages.instanceof.default,"this.searchInput","jQuery")),e.toolbar.on("change"+k,".k-upload input[type=file]",e._onFileInputChange.bind(e)).on("click"+k,"button:not(.k-state-disabled)",e._onButtonClick.bind(e)).on("change"+k,"input.k-input",e._onSearchInputChange.bind(e)).on("click"+k,"a.k-i-close",e._onSearchClearClick.bind(e))},_onTabSelect:function(e){d.isPlainObject(e,i.format(d.messages.isPlainObject.default,"e")),d.instanceof(window.HTMLLIElement,e.item,i.format(d.messages.instanceof.default,"e.item","HTMLLIElement")),d.instanceof(u,this.tabStrip,i.format(d.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip")),d.instanceof(t,this.fileBrowser,i.format(d.messages.instanceof.default,"this.fileBrowser","jQuery")),d.isArray(this._collections,i.format(d.messages.isArray.default,"this._collections"));var n=t(e.item).index(),o=this.collection=this._collections[n];t.isArray(o.collections)&&o.collections.length?(this.collection=o.collections[0],this.dropDownList.setDataSource(o.collections),this.dropDownList.select(0)):this.dropDownList.setDataSource([]),this.tabStrip.contentHolder(n).height("auto"),this.fileBrowser.appendTo(this.tabStrip.contentHolder(n)),this._updateTab()},_updateTab:function(){d.isArray(this._collections,i.format(d.messages.isArray.default,"this._collections")),d.isPlainObject(this.collection,i.format(d.messages.isPlainObject.default,"this.collection"));var e=this.collection,n=e.tools||[];this.toolbar.find(".k-toolbar-wrap > .k-label").toggle(e.depth>0),this.toolbar.find(".k-toolbar-wrap >.k-upload").toggle(n.indexOf("upload")>-1),this.toolbar.find(".k-toolbar-wrap >.k-button").has(".k-i-file-add").toggle(n.indexOf("create")>-1),this.toolbar.find(".k-toolbar-wrap >.k-button").has(".k-i-track-changes-enable").toggle(n.indexOf("edit")>-1),this.toolbar.find(".k-toolbar-wrap >.k-button").has(".k-i-delete").toggle(n.indexOf("destroy")>-1),this.toolbar.find("div.k-tiles-arrange .k-progressbar").toggle(!!n.length),this.listView.setDataSource(e.dataSource),this.pager.setDataSource(e.dataSource),this.pager.refresh(),this.dropZone instanceof t&&this.dropZone.toggleClass("k-state-nodrop",e.editable)},_onDropDownListChange:function(t){d.isPlainObject(t,i.format(d.messages.isPlainObject.default,"e")),d.instanceof(a,t.sender,i.format(d.messages.instanceof.default,"e.sender","kendo.ui.DropDownList")),d.instanceof(u,this.tabStrip,i.format(d.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip"));var e=this.tabStrip.select().index(),n=this._collections[e];d.isArray(n.collections,i.format(d.messages.isArray.default,"parent.collections"));var o=n.collections.filter(function(e){return e.name===t.sender.value()});this.collection=o[0],this._updateTab()},_onFileInputChange:function(e){d.instanceof(t.Event,e,i.format(d.messages.instanceof.default,"e","jQuery.Event")),d.instanceof(window.HTMLInputElement,e.target,i.format(d.messages.instanceof.default,"e.target","HTMLInputElement"));var n=e.target.files;n instanceof window.FileList&&n.length&&this._uploadFileList(n)},_uploadFileList:function(e){function n(){for(var i=[],n=0,r=e.length;n<r;n++)i.push(o._uploadFile(e[n]));o._showUploadProgress(),t.when.apply(t,i).always(o._hideUploadProgress.bind(o))}d.instanceof(window.FileList,e,i.format(d.messages.instanceof.default,"fileList","FileList"));for(var o=this,r=o.options,a=[],s=0,l=e.length;s<l;s++){var c=o._findDataItem(e[s].name);c&&a.push(c.name$())}a.length?window.kidoju.dialogs.openAlert({type:i.ui.BaseDialog.fn.type.warning,title:r.messages.dialogs.confirm,message:i.format(r.messages.dialogs.warningOverwrite,a.join("`, `"))}).done(function(t){"ok"===t.action&&n()}):n()},_showUploadProgress:function(){this.listView.element.addClass("k-loading")},_hideUploadProgress:function(){this.toolbar.find(".k-upload input[type=file]").val(""),this.listView.element.removeClass("k-loading")},_findDataItem:function(t){d.type(m,t,i.format(d.messages.type.default,"fileName",m)),d.instanceof(s,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.instanceof(o,this.listView.dataSource,i.format(d.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),d.equal(this.collection.dataSource,this.listView.dataSource,i.format(d.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));for(var e=this.listView.dataSource.data(),n=t.lastIndexOf("."),r=t.substr(0,n).replace(/[^\w\\\/]+/gi,"_").replace(/_{2,}/g,"_").replace(/(^_|_$)/,"")+"."+t.substr(n+1),a=0,l=e.length;a<l;a++)if(e[a].url.endsWith(r))return e[a]},_createDataItem:function(t){d.type(g,t,i.format(d.messages.type.default,"file",g)),d.type(p,t.size,i.format(d.messages.type.default,"file.size",p)),d.type(m,t.type,i.format(d.messages.type.default,"file.type",m)),d.type(m,t.url,i.format(d.messages.type.default,"file.url",m)),d.instanceof(s,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.instanceof(o,this.listView.dataSource,i.format(d.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),d.equal(this.collection.dataSource,this.listView.dataSource,i.format(d.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));var e=this._findDataItem(t.name);return e?(e.accept({size:t.size,type:t.type,url:t.url}),e._override=!0):e=new this.listView.dataSource.reader.model({size:t.size,type:t.type,url:t.url}),e},_insertDataItem:function(t){var e;if(d.instanceof(i.data.Model,t,i.format(d.messages.instanceof.default,"model","kendo.data.Model")),d.instanceof(s,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.instanceof(o,this.listView.dataSource,i.format(d.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),d.equal(this.collection.dataSource,this.listView.dataSource,i.format(d.messages.equal.default,"this.listView.dataSource","this.collection.dataSource")),t._override)return t;for(var n=this.listView.dataSource,r=n.view(),a=0,l=r.length;a<l;a++)if("f"===r[a].get("type")){e=a;break}return n.insert(++e,t)},_uploadFile:function(e){d.instanceof(window.Blob,e,i.format(d.messages.instanceof.default,"file","Blob")),d.type(m,e.name,i.format(d.messages.type.default,"file.name",m)),d.instanceof(s,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.instanceof(o,this.listView.dataSource,i.format(d.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),d.isPlainObject(this.listView.dataSource.transport,d.format(d.messages.isPlainObject.default,"this.listView.dataSource.transport")),d.isFunction(this.listView.dataSource.transport.upload,d.format(d.messages.isFunction.default,"this.listView.dataSource.transport.upload"));var n=this,r=t.Deferred();return f.debug({message:"Uploading file",method:"_uploadFile"}),n.listView.dataSource.transport.upload({data:{file:e},success:function(t){d.type(g,t,i.format(d.messages.type.default,"response",g)),d.isArray(t.data,i.format(d.messages.isArray.default,"reponse.data")),d.equal(1,t.data.length,i.format(d.messages.equal.default,"response.data.length",1));var e=n._createDataItem(t.data[0]);d.equal(e.name$(),t.data[0].name,i.format(d.messages.equal.default,"response.data[0].name","model.name$()")),n._insertDataItem(e),r.resolve(e)},error:function(t,e,i){r.reject(t,e,i),n._xhrErrorHandler(t,e,i)}}),r.promise()},_onButtonClick:function(e){d.instanceof(t.Event,e,i.format(d.messages.instanceof.default,"e","jQuery.Event")),t(e.currentTarget).has(".k-i-file-add").length?this.trigger("click",{action:x})||this._editNew():t(e.currentTarget).has(".k-i-track-changes-enable").length?this.trigger("click",{action:S})||this._editSelected():t(e.currentTarget).has(".k-i-delete").length&&(this.trigger("click",{action:C})||this._deleteSelected())},_editNew:function(){d.isPlainObject(this.collection,i.format(d.messages.isPlainObject.default,"this.collection"));var e=this;if(e.collection.editor){f.debug({method:"_editNew",message:"Open asset editor"});var n=e._getWindow();n.viewModel=e._getWindowViewModel(),n.title(e.options.messages.dialogs.newFile),n.content(e.collection.editor.template),i.bind(n.element,n.viewModel),t.isFunction(e.collection.editor.resize)&&n.bind("resize",function(t){e.collection.editor.resize.bind(t.sender)(t)}),n.center().open(),e.collection.editor.maximize&&n.maximize()}},_editSelected:function(){d.isPlainObject(this.collection,i.format(d.messages.isPlainObject.default,"this.collection")),d.instanceof(i.ui.ListView,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.equal(this.collection.dataSource,this.listView.dataSource,i.format(d.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));var e=this,n=e.listView.dataItem(e.listView.select());if(e.collection.editor&&n instanceof i.data.Model){f.debug({method:"_editSelected",message:"Open asset editor",data:n.toJSON()});var o=e._getWindow();o.viewModel=e._getWindowViewModel(n.url$()),o.title(o.viewModel.url.split("/").pop()),o.content(e.collection.editor.template),i.bind(o.element,o.viewModel),t.isFunction(e.collection.editor.resize)&&o.bind("resize",function(t){e.collection.editor.resize.bind(t.sender)(t)}),t.isFunction(e.collection.editor.openUrl)?o.one("open",function(t){e.collection.editor.openUrl.bind(t.sender)(n.url$())}):f.warn({method:"_editSelected",message:"The collection does not designate an editor implementing openUrl"}),o.center().open(),e.collection.editor.maximize&&o.maximize()}},_deleteSelected:function(){d.isPlainObject(this.collection,i.format(d.messages.isPlainObject.default,"this.collection")),d.instanceof(i.ui.ListView,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.equal(this.collection.dataSource,this.listView.dataSource,i.format(d.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));var t=this.listView.dataItem(this.listView.select());t instanceof i.data.Model&&(f.debug({method:"_deleteSelected",message:"Asset deletion",data:t.toJSON()}),this.listView.dataSource.remove(t),this.listView.dataSource.sync())},_onSearchInputChange:function(e){d.instanceof(t.Event,e,i.format(d.messages.instanceof.default,"e","jQuery.Event")),d.instanceof(window.HTMLInputElement,e.target,i.format(d.messages.instanceof.default,"e.target","HTMLInputElement")),d.instanceof(s,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),d.instanceof(o,this.listView.dataSource,i.format(d.messages.instanceof.default,"this.listView","kendo.data.DataSource"));var n=A(this.options.extensions),r=t(e.target).val(),a={field:"url",operator:"contains",value:r};t.type(r)===m&&r.length&&(n=t.isArray(n)?n.slice().push(a):t.isPlainObject(n)&&t.type(n.field)===m&&t.type(n.operator)===m&&n.value?[n,a]:t.isPlainObject(n)&&"and"===n.logic&&t.isArray(n.filters)?t.extend(!0,{},n).filters.push(a):t.isPlainObject(n)&&"or"===n.logic&&t.isArray(n.filters)?{logic:"and",filters:[n,a]}:a),this.listView.dataSource.query({filter:n,page:1,pageSize:this.listView.dataSource.pageSize()})},_onSearchClearClick:function(){var e=this.searchInput;d.instanceof(t,e,i.format(d.messages.instanceof.default,"this.searchInput","jQuery")),""!==e.val()&&e.val("").trigger("change"+k)},_listView:function(){d.instanceof(t,this.fileBrowser,i.format(d.messages.instanceof.default,"this.fileBrowser","jQuery"));var e=new o;this.listView=t('<ul class="k-reset k-floats k-tiles"/>').appendTo(this.fileBrowser).kendoListView({change:this._onListViewChange.bind(this),dataBound:this._onListViewDataBound.bind(this),dataSource:e,selectable:!0,template:i.template(this.options.itemTemplate)}).data("kendoListView"),d.instanceof(s,this.listView,i.format(d.messages.instanceof.default,"this.listView","kendo.ui.ListView")),this.pager=t('<div class="k-pager-wrap"></div>').appendTo(this.fileBrowser).kendoPager({autoBind:!1,dataSource:e}).data("kendoPager"),d.instanceof(l,this.pager,i.format(d.messages.instanceof.default,"this.pager","kendo.ui.Pager"))},_onListViewChange:function(){d.instanceof(u,this.tabStrip,i.format(d.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip")),d.instanceof(t,this.toolbar,i.format(d.messages.instanceof.default,"this.toolbar","jQuery")),this._selectedItem()instanceof r&&(this.toolbar.find(".k-i-track-changes-enable").parent().removeClass("k-state-disabled"),this.toolbar.find(".k-i-delete").parent().removeClass("k-state-disabled"),this.trigger("change"))},_computeStorageSize:function(){if(this.listView instanceof s&&this.progressBar instanceof c){for(var t=0,e=this.listView.dataSource.data(),i=0,n=e.length;i<n;i++)t+=e[i].size;this.progressBar.value(t/1e5)}},_onListViewDataBound:function(e){d.isPlainObject(e,i.format(d.messages.isPlainObject.default,"e")),d.instanceof(s,e.sender,i.format(d.messages.instanceof.default,"e.sender","kendo.ui.ListView"));var n=e.sender;this._computeStorageSize(),"add"===e.action&&t.isArray(e.items)&&e.items.length?n._dataBoundUid=e.items[e.items.length-1].uid:"sync"===e.action&&t.type(n._dataBoundUid)===m?(n.select(n.element.children("["+i.attr("uid")+'="'+n._dataBoundUid+'"]')),n._dataBoundUid=void 0):n.select(n.element.children().first())},_selectedItem:function(){var e=this.listView;if(e instanceof i.ui.ListView){var n=e.select();if(n instanceof t&&n.length)return this.listView.dataSource.getByUid(n.attr(i.attr("uid")))}},_getWindow:function(){var e=t(".kj-assetmanager-window").data("kendoWindow");return e instanceof h||(e=t(i.format('<div class="{0} kj-no-padding kj-hidden-overflow"></div>',".kj-assetmanager-window".substr(1))).appendTo(document.body).kendoWindow({actions:["Maximize","Close"],content:"",draggable:!0,modal:!0,resizable:!0,visible:!1,height:600,width:800,activate:function(){e.trigger("resize")},close:function(){e.unbind("resize"),e.content(""),e.viewModel=void 0}}).data("kendoWindow")),e},_getWindowViewModel:function(e){var n=this;return i.observable({url:e||"",onCommand:function(e){"ToolbarSaveCommand"===e.command&&(e.preventDefault(),n.collection.editor&&t.isFunction(n.collection.editor.saveAs)?n.collection.editor.saveAs.bind(e.sender)(e.params.value,n):f.warn({method:"_getWindowViewModel",message:"The collection does not designate an editor implementing saveAs"}))},onDialog:function(e){"vectorImage"===e.name&&(e.preventDefault(),n.collection.editor&&t.isFunction(n.collection.editor.openImageDialog)?n.collection.editor.openImageDialog.bind(e.sender)():f.warn({method:"_getWindowViewModel",message:"The collection does not designate an editor implementing openImageDialog"}))}})},_xhrErrorHandler:function(t,e,i){},_dataError:function(t){this.trigger(b,t)||this.collection.dataSource.cancelChanges()},_dropZone:function(){var e=this;(function(){var t=navigator.userAgent.toLowerCase();return!(!/chrome/.test(t)&&/safari/.test(t)&&/windows/.test(t)||!window.FileList)})()&&(e.dropZone=t(".k-dropzone",e.wrapper).on(y+k,function(t){t.stopPropagation(),t.preventDefault()}).on(w+k,function(t){t.preventDefault()}).on("drop"+k,e._onDrop.bind(e)),T(e.dropZone,function(){e.wrapper.hasClass("k-state-disabled")||e.dropZone.hasClass("k-state-nodrop")||e.dropZone.addClass("k-dropzone-hovered")},function(){e.dropZone.removeClass("k-dropzone-hovered")}),T(t(document),function(){e.wrapper.hasClass("k-state-disabled")||e.dropZone.hasClass("k-state-nodrop")||e.dropZone.addClass("k-dropzone-active")},function(){e.dropZone.removeClass("k-dropzone-active")}))},_onDrop:function(e){if(e.stopPropagation(),e.preventDefault(),this.dropZone instanceof t&&!this.dropZone.hasClass(".k-state-nodrop")){var i=e.originalEvent.dataTransfer.files;this._uploadFileList(i)}},destroy:function(){var e=this.wrapper;t(document).off(k),this.toolbar instanceof t&&this.toolbar.off(k),this.dropZone instanceof t&&this.dropZone.off(k),i.unbind(e),this.tabStrip=void 0,this.dropDownList=void 0,this.progressBar=void 0,this.searchInput=void 0,this.toolbar=void 0,this.listView=void 0,this.pager=void 0,this.fileBrowser=void 0,this.dropZone=void 0,this.dataSource instanceof o&&t.isFunction(this._errorHandler)&&this.dataSource.unbind(b,this._errorHandler),this.dataSource=void 0,this._errorHandler=void 0,n.fn.destroy.call(this),i.destroy(e)}});i.ui.plugin(j)}(window.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}(0,i(0))},function(t,e,i){var n,o,r;i(0),o=[i(17),i(118),i(82)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui.Widget,o=i.keys,r="k-state-focused",a=".kendoListView",s=t.proxy,l=i._activeElement,c=i.ui.progress,u=i.data.DataSource,h=i.ui.DataBoundWidget.extend({init:function(e,o){o=t.isArray(o)?{dataSource:o}:o,n.fn.init.call(this,e,o),o=this.options,this.wrapper=e=this.element,e[0].id&&(this._itemId=e[0].id+"_lv_active"),this._element(),this._dataSource(),this._templates(),this._navigatable(),this._selectable(),this._pageable(),this._crudHandlers(),this.options.autoBind&&this.dataSource.fetch(),i.notify(this)},events:["change","cancel","dataBinding","dataBound","edit","remove","save"],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(t){n.fn.setOptions.call(this,t),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable()},_templates:function(){var t=this.options;this.template=i.template(t.template||""),this.altTemplate=i.template(t.altTemplate||t.template),this.editTemplate=i.template(t.editTemplate||"")},_item:function(t){return this.element.children()[t]()},items:function(){return this.element.children()},dataItem:function(e){var n=i.attr("uid"),o=t(e).closest("["+n+"]").attr(n);return this.dataSource.getByUid(o)},setDataSource:function(t){this.options.dataSource=t,this._dataSource(),this.options.autoBind&&t.fetch()},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=s(this.refresh,this),this._progressHandler=s(this._progress,this),this._errorHandler=s(this._error,this)),this.dataSource=u.create(this.options.dataSource).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_progress:function(){c(this.element,!0)},_error:function(){c(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(t){var e,n,o,r,a,s=this.dataSource.view(),c="",u=this.template,h=this.altTemplate,d=l();if("itemchange"!==(t=t||{}).action){if(!this.trigger("dataBinding",{action:t.action||"rebind",items:t.items,index:t.index})){for(this._angularItems("cleanup"),this._destroyEditable(),r=0,a=s.length;r<a;r++)c+=r%2?h(s[r]):u(s[r]);for(this.element.html(c),n=this.items(),r=0,a=s.length;r<a;r++)n.eq(r).attr(i.attr("uid"),s[r].uid).attr("role","option").attr("aria-selected","false");this.element[0]===d&&this.options.navigatable&&this.current(n.eq(0)),this._angularItems("compile"),this.trigger("dataBound",{action:t.action||"rebind",items:t.items,index:t.index})}}else this._hasBindingTarget()||this.editable||(e=t.items[0],(o=this.items().filter("["+i.attr("uid")+"="+e.uid+"]")).length>0&&(r=o.index(),this.angular("cleanup",function(){return{elements:[o]}}),o.replaceWith(u(e)),(o=this.items().eq(r)).attr(i.attr("uid"),e.uid),this.angular("compile",function(){return{elements:[o],data:[{dataItem:e}]}}),this.trigger("itemChange",{item:o,data:e})))},_pageable:function(){var e,n,o=this.options.pageable;t.isPlainObject(o)&&(n=o.pagerId,e=t.extend({},o,{dataSource:this.dataSource,pagerId:null}),this.pager=new i.ui.Pager(t("#"+n),e))},_selectable:function(){var t,e,n=this,r=n.options.selectable,s=n.options.navigatable;r&&(t=i.ui.Selectable.parseOptions(r).multiple,n.selectable=new i.ui.Selectable(n.element,{aria:!0,multiple:t,filter:">*:not(.k-loading-mask)",change:function(){n.trigger("change")}}),s&&n.element.on("keydown"+a,function(i){if(i.keyCode===o.SPACEBAR){if(e=n.current(),i.target==i.currentTarget&&i.preventDefault(),t)if(i.ctrlKey){if(e&&e.hasClass("k-state-selected"))return void e.removeClass("k-state-selected")}else n.selectable.clear();else n.selectable.clear();n.selectable.value(e)}}))},current:function(t){var e=this.element,i=this._current,n=this._itemId;if(void 0===t)return i;i&&i[0]&&(i[0].id===n&&i.removeAttr("id"),i.removeClass(r),e.removeAttr("aria-activedescendant")),t&&t[0]&&(n=t[0].id||n,this._scrollTo(t[0]),e.attr("aria-activedescendant",n),t.addClass(r).attr("id",n)),this._current=t},_scrollTo:function(e){var i,n=!1;"auto"==this.wrapper.css("overflow")||"scroll"==this.wrapper.css("overflow")?i=this.wrapper[0]:(i=window,n=!0);var o=function(o,r){var a=n?t(e).offset()[o.toLowerCase()]:e["offset"+o],s=e["client"+r],l=t(i)["scroll"+o](),c=t(i)[r.toLowerCase()]();a+s>l+c?t(i)["scroll"+o](a+s-c):a<l&&t(i)["scroll"+o](a)};o("Top","Height"),o("Left","Width")},_navigatable:function(){var e=this,n=e.options.navigatable,c=e.element;n&&(e._tabindex(),c.on("focus"+a,function(){var t=e._current;t&&t.is(":visible")||(t=e._item("first")),e.current(t)}).on("focusout"+a,function(){e._current&&e._current.removeClass(r)}).on("keydown"+a,function(n){var r,a=n.keyCode,s=e.current(),u=t(n.target),h=!u.is(":button,textarea,a,a>.t-icon,input"),d=u.is(":text,:password"),f=i.preventDefault,p=c.find(".k-edit-item"),m=l();if(!(!h&&!d&&o.ESC!=a||d&&o.ESC!=a&&o.ENTER!=a))if(o.UP===a||o.LEFT===a)s&&(s=s.prev()),e.current(s&&s[0]?s:e._item("last")),f(n);else if(o.DOWN===a||o.RIGHT===a)s&&(s=s.next()),e.current(s&&s[0]?s:e._item("first")),f(n);else if(o.PAGEUP===a)e.current(null),e.dataSource.page(e.dataSource.page()-1),f(n);else if(o.PAGEDOWN===a)e.current(null),e.dataSource.page(e.dataSource.page()+1),f(n);else if(o.HOME===a)e.current(e._item("first")),f(n);else if(o.END===a)e.current(e._item("last")),f(n);else if(o.ENTER===a)0!==p.length&&(h||d)?(r=e.items().index(p),m&&m.blur(),e.save(),e.one("dataBound",function(){e.element.trigger("focus"),e.current(e.items().eq(r))})):""!==e.options.editTemplate&&e.edit(s);else if(o.ESC===a){if(0===(p=c.find(".k-edit-item")).length)return;r=e.items().index(p),e.cancel(),e.element.trigger("focus"),e.current(e.items().eq(r))}}),c.on("mousedown"+a+" touchstart"+a,">*:not(.k-loading-mask)",s(function(n){e.current(t(n.currentTarget)),t(n.target).is(":button,a,:input,a>.k-icon,textarea")||i.focusElement(c)},e)))},clearSelection:function(){this.selectable.clear(),this.trigger("change")},select:function(e){var i=this.selectable;return(e=t(e)).length?(i.options.multiple||(i.clear(),e=e.first()),void i.value(e)):i.value()},_destroyEditable:function(){this.editable&&(this.editable.destroy(),delete this.editable)},_modelFromElement:function(t){var e=t.attr(i.attr("uid"));return this.dataSource.getByUid(e)},_closeEditable:function(){var t,e,n,o=this.editable,r=this.template;return o&&(o.element.index()%2&&(r=this.altTemplate),this.angular("cleanup",function(){return{elements:[o.element]}}),t=this._modelFromElement(o.element),this._destroyEditable(),n=o.element.index(),o.element.replaceWith(r(t)),(e=this.items().eq(n)).attr(i.attr("uid"),t.uid),this._hasBindingTarget()&&i.bind(e,t),this.angular("compile",function(){return{elements:[e],data:[{dataItem:t}]}})),!0},edit:function(t){var e,n,o=this._modelFromElement(t),r=o.uid;this.cancel(),n=(t=this.items().filter("["+i.attr("uid")+"="+r+"]")).index(),t.replaceWith(this.editTemplate(o)),e=this.items().eq(n).addClass("k-edit-item").attr(i.attr("uid"),o.uid),this.editable=e.kendoEditable({model:o,clearContainer:!1,errorTemplate:!1,target:this}).data("kendoEditable"),this.trigger("edit",{model:o,item:e})},save:function(){var t,e=this.editable;if(e){var i=e.element;t=this._modelFromElement(i),e.end()&&!this.trigger("save",{model:t,item:i})&&(this._closeEditable(),this.dataSource.sync())}},remove:function(t){var e=this.dataSource,i=this._modelFromElement(t);this.editable&&(e.cancelChanges(this._modelFromElement(this.editable.element)),this._closeEditable()),this.trigger("remove",{model:i,item:t})||(t.hide(),e.remove(i),e.sync())},add:function(){var t,e=this.dataSource,i=e.indexOf((e.view()||[])[0]);i<0&&(i=0),this.cancel(),t=e.insert(i,{}),this.edit(this.element.find("[data-uid='"+t.uid+"']"))},cancel:function(){var t=this.dataSource;if(this.editable){var e=this.editable.element,i=this._modelFromElement(e);this.trigger("cancel",{model:i,container:e})||(t.cancelChanges(i),this._closeEditable())}},_crudHandlers:function(){var e=this,n="click"+a;e.element.on(n,".k-edit-button",function(n){var o=t(this).closest("["+i.attr("uid")+"]");e.edit(o),n.preventDefault()}),e.element.on(n,".k-delete-button",function(n){var o=t(this).closest("["+i.attr("uid")+"]");e.remove(o),n.preventDefault()}),e.element.on(n,".k-update-button",function(t){e.save(),t.preventDefault()}),e.element.on(n,".k-cancel-button",function(t){e.cancel(),t.preventDefault()})},destroy:function(){n.fn.destroy.call(this),this._unbindDataSource(),this._destroyEditable(),this.element.off(a),this.pager&&this.pager.destroy(),i.destroy(this.element)}});i.ui.plugin(h)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;i(0),o=[i(17)],void 0===(r="function"==typeof(n=function(){return function(t,e){var i=window.kendo,n=i.ui,o=i.keys,r=t.map,a=t.each,s=t.trim,l=t.extend,c=i.isFunction,u=i.template,h=i._outerWidth,d=i._outerHeight,f=n.Widget,p=/^(a|div)$/i,m=".kendoTabStrip",g="img",v="k-link",b="k-last",k="k-image",y="k-first",w="k-state-disabled",_="k-state-default",x="k-state-active",S="k-tab-on-top",C=".k-item:not(."+w+")",A=".k-tabstrip-items > "+C+":not(."+x+")",T={content:u("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:u("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:u("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:u("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:u("<span class='k-sprite #= spriteCssClass #'></span>"),empty:u("")},j={wrapperCssClass:function(t,e){var i="k-item",n=e.index;return!1===e.enabled?i+=" k-state-disabled":i+=" k-state-default",0===n&&(i+=" k-first"),n==t.length-1&&(i+=" k-last"),i},textAttributes:function(t){return t.url?" href='"+t.url+"'":""},text:function(t){return!1===t.encoded?t.text:i.htmlEncode(t.text)},tag:function(t){return t.url?"a":"span"},contentAttributes:function(t){return!0!==t.active?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(t){return t.content?t.content:t.contentUrl?"":"&nbsp;"},contentUrl:function(t){return t.contentUrl?i.attr("content-url")+'="'+t.contentUrl+'"':""}};function M(e){e.children(g).addClass(k),e.children("a").addClass(v).children(g).addClass(k),e.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(_),e.filter("li[disabled]").addClass(w).attr("aria-disabled","true").removeAttr("disabled"),e.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(x+" "+S),e.attr("role","tab"),e.filter("."+x).attr("aria-selected",!0),e.each(function(){var e=t(this);e.children("."+v).length||e.contents().filter(function(){return!(this.nodeName.match(p)||3==this.nodeType&&!s(this.nodeValue))}).wrapAll("<span UNSELECTABLE='on' class='"+v+"'/>")})}function z(t){var e=t.children(".k-item");e.filter(".k-first:not(:first-child)").removeClass(y),e.filter(".k-last:not(:last-child)").removeClass(b),e.filter(":first-child").addClass(y),e.filter(":last-child").addClass(b)}function E(t,e){return"<span class='k-button k-button-icon k-bare k-tabstrip-"+t+"' unselectable='on'><span class='k-icon "+e+"'></span></span>"}var I=f.extend({init:function(e,n){var o,r=this;f.fn.init.call(r,e,n),r._animations(r.options),n=r.options,r._contentUrls=n.contentUrls||[],r._wrapper(),r._isRtl=i.support.isRtl(r.wrapper),r._tabindex(),r._updateClasses(),r._dataSource(),n.dataSource&&r.dataSource.fetch(),r._tabPosition(),r._scrollable(),r._contentUrls.length?r.wrapper.find(".k-tabstrip-items > .k-item").each(function(e,i){var n=r._contentUrls[e];"string"==typeof n&&t(i).find(">."+v).data("contentUrl",n)}):r._contentUrls.length=r.tabGroup.find("li.k-item").length,r.wrapper.on("mouseenter"+m+" mouseleave"+m,A,r._toggleHover).on("focus"+m,t.proxy(r._active,r)).on("blur"+m,function(){r._current(null)}),r._keyDownProxy=t.proxy(r._keydown,r),n.navigatable&&r.wrapper.on("keydown"+m,r._keyDownProxy),r.options.value&&(o=r.options.value),r.wrapper.children(".k-tabstrip-items").on("click"+m,".k-state-disabled .k-link",!1).on("click"+m," > "+C,function(e){var n=r.wrapper[0];if(n!==document.activeElement)if(i.support.browser.msie)try{n.setActive()}catch(t){n.focus()}else n.focus();r._click(t(e.currentTarget))&&e.preventDefault()});var a=r.tabGroup.children("li."+x),s=r.contentHolder(a.index());a[0]&&s.length>0&&0===s[0].childNodes.length&&r.activateTab(a.eq(0)),r.element.attr("role","tablist"),r.element[0].id&&(r._ariaId=r.element[0].id+"_ts_active"),r.value(o),i.notify(r)},_active:function(){var t=this.tabGroup.children().filter("."+x);(t=t[0]?t:this._endItem("first"))[0]&&this._current(t)},_endItem:function(t){return this.tabGroup.children(C)[t]()},_getItem:function(t){return this.tabGroup.children(".k-item")[t]()},_item:function(t,e){var i;return i="prev"===e?"last":"first",t?((t=t[e]())[0]||(t=this.tabGroup.children(".k-item")[i]()),t.hasClass(w)&&t.addClass("k-state-focused"),(t.hasClass(w)||t.hasClass(x))&&(this._focused=t),t):this._endItem(i)},_current:function(t){var e=this._focused,i=this._ariaId;if(void 0===t)return e;e&&(this.tabGroup.children("#"+i).removeAttr("id"),e.removeClass("k-state-focused")),t&&(t.hasClass(x)||t.addClass("k-state-focused"),this.element.removeAttr("aria-activedescendant"),(i=t[0].id||i)&&(t.attr("id",i),this.element.attr("aria-activedescendant",i))),this._focused=t},_keydown:function(t){var e,i=t.keyCode,n=this._current(),r=this._isRtl,a=/top|bottom/.test(this.options.tabPosition);if(t.target==t.currentTarget){if(i!==o.DOWN||a)if(i!==o.UP||a)if(i===o.RIGHT&&a)e=r?"prev":"next";else if(i===o.LEFT&&a)e=r?"next":"prev";else if(i==o.ENTER||i==o.SPACEBAR)this._click(n),t.preventDefault();else{if(i==o.HOME)return this._click(this._getItem("first")),void t.preventDefault();if(i==o.END)return this._click(this._getItem("last")),void t.preventDefault()}else e="prev";else e="next";e&&(this._click(this._item(n,e)),t.preventDefault())}},_dataSource:function(){this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler):this._refreshHandler=t.proxy(this.refresh,this),this.dataSource=i.data.DataSource.create(this.options.dataSource).bind("change",this._refreshHandler)},setDataSource:function(t){this.options.dataSource=t,this._dataSource(),this.dataSource.fetch()},_animations:function(t){t&&"animation"in t&&!t.animation&&(t.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(t){var e,n,o,r=this.options,a=i.getter(r.dataEncodedField),s=i.getter(r.dataTextField),l=i.getter(r.dataContentField),c=i.getter(r.dataContentUrlField),u=i.getter(r.dataImageUrlField),h=i.getter(r.dataUrlField),d=i.getter(r.dataSpriteCssClass),f=[],p=this.dataSource.view();for((t=t||{}).action&&(p=t.items),e=0,o=p.length;e<o;e++)n={text:s(p[e])},r.dataEncodedField&&(n.encoded=a(p[e])),r.dataContentField&&(n.content=l(p[e])),r.dataContentUrlField&&(n.contentUrl=c(p[e])),r.dataUrlField&&(n.url=h(p[e])),r.dataImageUrlField&&(n.imageUrl=u(p[e])),r.dataSpriteCssClass&&(n.spriteCssClass=d(p[e])),f[e]=n;if("add"==t.action)t.index<this.tabGroup.children().length?this.insertBefore(f,this.tabGroup.children().eq(t.index)):this.append(f);else if("remove"==t.action)for(e=0;e<p.length;e++)this.remove(t.index);else"itemchange"==t.action?(e=this.dataSource.view().indexOf(p[0]),t.field===r.dataTextField&&this.tabGroup.children().eq(e).find(".k-link").text(p[0].get(t.field)),t.field===r.dataUrlField&&(this._contentUrls[e]=p[0].get(t.field))):(this.trigger("dataBinding"),this.remove("li"),this._contentUrls=[],this.append(f),this.trigger("dataBound"))},value:function(e){var i=this;if(void 0===e)return i.select().text();e!=i.value()&&i.tabGroup.children().each(function(){t.trim(t(this).text())==e&&i.select(this)})},items:function(){return this.tabGroup[0].children},setOptions:function(t){var e=this.options.animation;this._animations(t),t.contentUrls&&(this._contentUrls=t.contentUrls),t.animation=l(!0,e,t.animation),t.navigatable?this.wrapper.on("keydown"+m,this._keyDownProxy):this.wrapper.off("keydown"+m,this._keyDownProxy),f.fn.setOptions.call(this,t)},events:["select","activate","show","error","contentLoad","change","dataBinding","dataBound"],options:{name:"TabStrip",dataEncodedField:"",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1,navigatable:!0,contentUrls:!1,scrollable:{distance:200}},destroy:function(){var t=this.scrollWrap;f.fn.destroy.call(this),this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler),this.wrapper.off(m),this.wrapper.children(".k-tabstrip-items").off(m),this._scrollableModeActive&&(this._scrollPrevButton.off().remove(),this._scrollNextButton.off().remove()),i.destroy(this.wrapper),t.children(".k-tabstrip").unwrap()},select:function(e){var i=this;return 0===arguments.length?i.tabGroup.children("li."+x):(isNaN(e)||(e=i.tabGroup.children().get(e)),e=i.tabGroup.find(e),t(e).each(function(e,n){(n=t(n)).hasClass(x)||i.trigger("select",{item:n[0],contentElement:i.contentHolder(n.index())[0]})||i.activateTab(n)}),i)},enable:function(t,e){return this._toggleDisabled(t,!1!==e),this},disable:function(t){return this._toggleDisabled(t,!1),this},reload:function(e){e=this.tabGroup.find(e);var i=this,n=i._contentUrls;return e.each(function(){var e=t(this),o=e.find("."+v).data("contentUrl")||n[e.index()],r=i.contentHolder(e.index());o&&i.ajaxRequest(e,r,null,o)}),i},append:function(t){var e=this,i=e._create(t);return a(i.tabs,function(t){var n=i.contents[t];e.tabGroup.append(this),"bottom"==e.options.tabPosition?e.tabGroup.before(n):e._scrollableModeActive?e._scrollPrevButton.before(n):e.wrapper.append(n),e.angular("compile",function(){return{elements:[n]}})}),z(e.tabGroup),e._updateContentElements(),e.resize(!0),e},_appendUrlItem:function(t){this._contentUrls.push(t)},_moveUrlItem:function(t,e){this._contentUrls.splice(e,0,this._contentUrls.splice(t,1)[0])},_removeUrlItem:function(t){this._contentUrls.splice(t,1)},insertBefore:function(e,i){i=t(e).is(t(i))?this.tabGroup.find(i).next():this.tabGroup.find(i);var n=this,o=n._create(e),r=n.element.find("[id='"+i.attr("aria-controls")+"']");return a(o.tabs,function(e){var a=o.contents[e],s=o.newTabsCreated?n._contentUrls.length-(o.tabs.length-e):t(a).index()-1;i.before(this),r.before(a),n._moveUrlItem(s,t(this).index()),n.angular("compile",function(){return{elements:[a]}})}),z(n.tabGroup),n._updateContentElements(o.newTabsCreated),n.resize(!0),n},insertAfter:function(e,i){i=t(e).is(t(i))?this.tabGroup.find(i).prev():this.tabGroup.find(i);var n=this,o=n._create(e),r=n.element.find("[id='"+i.attr("aria-controls")+"']");return a(o.tabs,function(e){var a=o.contents[e],s=o.newTabsCreated?n._contentUrls.length-(o.tabs.length-e):t(a).index()-1;i.after(this),r.after(a),n._moveUrlItem(s,t(this).index()),n.angular("compile",function(){return{elements:[a]}})}),z(n.tabGroup),n._updateContentElements(o.newTabsCreated),n.resize(!0),n},remove:function(e){var n,o=this,r=typeof e;return"string"===r?e=o.tabGroup.find(e):"number"===r&&(e=o.tabGroup.children().eq(e)),n=e.map(function(){var e=t(this).index(),n=o.contentElement(e);return i.destroy(n),o._removeUrlItem(e),n}),e.remove(),n.empty(),n.remove(),o._updateContentElements(),o.resize(!0),o},_create:function(e){var n,o,a,s=this,c=!1;return e=e instanceof i.data.ObservableArray?e.toJSON():e,t.isPlainObject(e)||t.isArray(e)?(e=t.isArray(e)?e:[e],c=!0,n=r(e,function(i,n){return s._appendUrlItem(e[n].contentUrl||null),t(I.renderItem({group:s.tabGroup,item:l(i,{index:n})}))}),o=r(e,function(e,i){if("string"==typeof e.content||e.contentUrl)return t(I.renderContent({item:l(e,{index:i})}))})):(n="string"==typeof e&&"<"!=e[0]?s.element.find(e):t(e),o=t(),n.each(function(){if(/k-tabstrip-items/.test(this.parentNode.className)){var e=s.element.find("[id='"+this.getAttribute("aria-controls")+"']");a=e}else a=t("<div class='k-content'/>");o=o.add(a)}),M(n)),{tabs:n,contents:o,newTabsCreated:c}},_toggleDisabled:function(e,i){(e=this.tabGroup.find(e)).each(function(){t(this).toggleClass(_,i).toggleClass(w,!i).attr("aria-disabled",!i)})},_updateClasses:function(){var e,i,n;this.wrapper.addClass("k-widget k-header k-tabstrip"),this.tabGroup=this.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),this.tabGroup[0]||(this.tabGroup=t("<ul class='k-tabstrip-items k-reset'/>").appendTo(this.wrapper)),(e=this.tabGroup.find("li").addClass("k-item")).length&&(n=(i=e.filter("."+x).index())>=0?i:void 0,this.tabGroup.contents().filter(function(){return 3==this.nodeType&&!s(this.nodeValue)}).remove()),i>=0&&e.eq(i).addClass(S),this.contentElements=this.wrapper.children("div"),this.contentElements.addClass("k-content").eq(n).addClass(x).css({display:"block"}),e.length&&(M(e),z(this.tabGroup),this._updateContentElements(!0))},_elementId:function(t,e){var n=t.attr("id"),o=this.element.attr("id");return!n||n.indexOf(o+"-")>-1?(o||i.guid())+"-"+(e+1):n},_updateContentElements:function(e){var n=this,o=n._contentUrls,r=n.tabGroup.children(".k-item"),a=n.wrapper.children("div"),s=n._elementId.bind(n);a.length&&r.length>a.length?a.each(function(i){var n=s(t(this),i),o=r.filter("[aria-controls="+(this.id||0)+"]")[0];!o&&e&&(o=r[i]),o&&o.setAttribute("aria-controls",n),this.setAttribute("id",n)}):r.each(function(e){var i=a.eq(e),r=s(i,e);this.setAttribute("aria-controls",r),!i.length&&o[e]?t("<div class='k-content'/>").appendTo(n.wrapper).attr("id",r):(i.attr("id",r),t(this).children(".k-loading")[0]||o[e]||t("<span class='k-loading k-complete'/>").prependTo(this)),i.attr("role","tabpanel"),i.filter(":not(."+x+")").attr("aria-hidden",!0).attr("aria-expanded",!1),i.filter("."+x).attr("aria-expanded",!0)}),n.contentElements=n.contentAnimators=n.wrapper.children("div"),n.tabsHeight=d(n.tabGroup)+parseInt(n.wrapper.css("border-top-width"),10)+parseInt(n.wrapper.css("border-bottom-width"),10),i.kineticScrollNeeded&&i.mobile.ui.Scroller&&(i.touchScroller(n.contentElements),n.contentElements=n.contentElements.children(".km-scroll-container"))},_wrapper:function(){this.element.is("ul")?this.wrapper=this.element.wrapAll("<div />").parent():this.wrapper=this.element,this.scrollWrap=this.wrapper.parent(".k-tabstrip-wrapper"),this.scrollWrap[0]||(this.scrollWrap=this.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent())},_tabPosition:function(){var t=this.options.tabPosition;this.wrapper.addClass("k-floatwrap k-tabstrip-"+t),"bottom"==t&&this.tabGroup.appendTo(this.wrapper),this.resize(!0)},_setContentElementsDimensions:function(){var t=this.options.tabPosition;if("left"==t||"right"==t){var e=this.wrapper.children(".k-content"),i=e.filter(":visible"),n="margin-"+t,o=this.tabGroup,r=h(o),a=Math.ceil(o.height())-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10)-parseInt(i.css("border-top-width"),10)-parseInt(i.css("border-bottom-width"),10);setTimeout(function(){e.css(n,r).css("min-height",a)})}},_resize:function(){this._setContentElementsDimensions(),this._scrollable()},_sizeScrollWrap:function(t){if(t.is(":visible")){var e=this.options.tabPosition,i=Math.floor(d(t,!0))+("left"===e||"right"===e?2:this.tabsHeight);this.scrollWrap.css("height",i).css("height")}},_toggleHover:function(e){t(e.currentTarget).toggleClass("k-state-hover","mouseenter"==e.type)},_click:function(t){var e,i,n=t.find("."+v),o=n.attr("href"),r=this.options.collapsible,a=t.index(),s=this.contentHolder(a),l=t.parent().children().filter(".k-state-focused");if(t.closest(".k-widget")[0]==this.wrapper[0]){if(t.is("."+w+(r?"":",."+x)))return l.removeClass("k-state-focused"),this._focused=t,t.addClass("k-state-focused"),this._current(t),this._scrollableModeActive&&this._scrollTabsToItem(t),!0;if(i=n.data("contentUrl")||this._contentUrls[a]||o&&("#"==o.charAt(o.length-1)||-1!=o.indexOf("#"+this.element[0].id+"-")),e=!o||i,this.tabGroup.children("[data-animating]").length)return e;if(this.trigger("select",{item:t[0],contentElement:s[0]}))return!0;if(!1!==e)return r&&t.is("."+x)?(this.deactivateTab(t),!0):(this.activateTab(t)&&(e=!0),e)}},_scrollable:function(){var t,e,n,o,r=this,a=r.options;if(r._scrollableAllowed())if(r.wrapper.addClass("k-tabstrip-scrollable"),t=r.wrapper[0].offsetWidth,(e=r.tabGroup[0].scrollWidth)>t&&!r._scrollableModeActive){r._nowScrollingTabs=!1,r._isRtl=i.support.isRtl(r.element);var s=i.support.mobileOS?"touchstart":"mousedown",l=i.support.mobileOS?"touchend":"mouseup";r.wrapper.append(E("prev","k-i-arrow-60-left")+E("next","k-i-arrow-60-right")),n=r._scrollPrevButton=r.wrapper.children(".k-tabstrip-prev"),o=r._scrollNextButton=r.wrapper.children(".k-tabstrip-next"),r.tabGroup.css({marginLeft:h(n)+9,marginRight:h(o)+12}),n.on(s+m,function(){r._nowScrollingTabs=!0,r._scrollTabsByDelta(a.scrollable.distance*(r._isRtl?1:-1))}),o.on(s+m,function(){r._nowScrollingTabs=!0,r._scrollTabsByDelta(a.scrollable.distance*(r._isRtl?-1:1))}),n.add(o).on(l+m,function(){r._nowScrollingTabs=!1}),r._scrollableModeActive=!0,r._toggleScrollButtons()}else r._scrollableModeActive&&e<=t?(r._scrollableModeActive=!1,r.wrapper.removeClass("k-tabstrip-scrollable"),r._scrollPrevButton.off().remove(),r._scrollNextButton.off().remove(),r.tabGroup.css({marginLeft:"",marginRight:""})):r._scrollableModeActive?r._toggleScrollButtons():r.wrapper.removeClass("k-tabstrip-scrollable")},_scrollableAllowed:function(){var t=this.options;return t.scrollable&&!t.scrollable.distance&&(t.scrollable={distance:200}),t.scrollable&&!isNaN(t.scrollable.distance)&&("top"==t.tabPosition||"bottom"==t.tabPosition)},_scrollTabsToItem:function(t){var e,i=this,n=i.tabGroup,o=n.scrollLeft(),r=h(t),a=i._isRtl?t.position().left:t.position().left-n.children().first().position().left,s=n[0].offsetWidth,l=Math.ceil(parseFloat(n.css("padding-left")));i._isRtl?a<0?e=o+a-(s-o)-l:a+r>s&&(e=o+a-r+2*l):o+s<a+r?e=a+r-s+2*l:o>a&&(e=a-l),n.finish().animate({scrollLeft:e},"fast","linear",function(){i._toggleScrollButtons()})},_scrollTabsByDelta:function(t){var e=this,i=e.tabGroup,n=i.scrollLeft();i.finish().animate({scrollLeft:n+t},"fast","linear",function(){e._nowScrollingTabs&&!jQuery.fx.off?e._scrollTabsByDelta(t):e._toggleScrollButtons()})},_toggleScrollButtons:function(){var t=this.tabGroup,e=t.scrollLeft();this._scrollPrevButton.toggle(this._isRtl?e<t[0].scrollWidth-t[0].offsetWidth-1:0!==e),this._scrollNextButton.toggle(this._isRtl?0!==e:e<t[0].scrollWidth-t[0].offsetWidth-1)},deactivateTab:function(t){var e=this.options.animation,n=e.open,o=l({},e.close),r=o&&"effects"in o;t=this.tabGroup.find(t),o=l(r?o:l({reverse:!0},n),{hide:!0}),i.size(n.effects)?(t.kendoAddClass(_,{duration:n.duration}),t.kendoRemoveClass(x,{duration:n.duration})):(t.addClass(_),t.removeClass(x)),t.removeAttr("aria-selected"),this.contentAnimators.filter("."+x).kendoStop(!0,!0).kendoAnimate(o).removeClass(x).attr("aria-hidden",!0)},activateTab:function(t){if(!this.tabGroup.children("[data-animating]").length){t=this.tabGroup.find(t);var e=this,n=e.options.animation,o=n.open,r=l({},n.close),a=r&&"effects"in r,s=t.parent().children(),c=s.filter("."+x),u=s.index(t),h=o&&"duration"in o&&"effects"in o;r=l(a?r:l({reverse:!0},o),{hide:!0}),i.size(o.effects)?(c.kendoRemoveClass(x,{duration:r.duration}),t.kendoRemoveClass("k-state-hover",{duration:r.duration})):(c.removeClass(x),t.removeClass("k-state-hover"));var f=e.contentAnimators;if(e.inRequest&&(e.xhr.abort(),e.inRequest=!1),0===f.length)return e.tabGroup.find("."+S).removeClass(S),t.addClass(S).css("z-index"),t.addClass(x),e._current(t),e.trigger("change"),e._scrollableModeActive&&e._scrollTabsToItem(t),!1;var p=f.filter("."+x),m=e.contentHolder(u),g=m.closest(".k-content");if(e.tabsHeight=d(e.tabGroup)+parseInt(e.wrapper.css("border-top-width"),10)+parseInt(e.wrapper.css("border-bottom-width"),10),e._sizeScrollWrap(p),0===m.length)return p.removeClass(x).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(r),!1;t.attr("data-animating",!0);var b=!(!t.children("."+v).data("contentUrl")&&!e._contentUrls[u])&&m.is(":empty"),k=function(){c.removeAttr("aria-selected"),t.attr("aria-selected",!0),e._current(t),e._sizeScrollWrap(g),g.addClass(x).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(l({init:function(){e.trigger("show",{item:t[0],contentElement:m[0]}),i.resize(m)}},o,{complete:function(){t.removeAttr("data-animating"),e.trigger("activate",{item:t[0],contentElement:m[0]}),i.resize(m),e.scrollWrap.css("height","").css("height"),h&&(i.support.browser.msie||i.support.browser.edge)&&m.finish().animate({opacity:.9},"fast","linear",function(){m.finish().animate({opacity:1},"fast","linear")})}}))},y=function(){b?(t.removeAttr("data-animating"),e.ajaxRequest(t,m,function(){t.attr("data-animating",!0),k(),e.trigger("change")})):(k(),e.trigger("change")),e._scrollableModeActive&&e._scrollTabsToItem(t)};return p.removeClass(x),e.tabGroup.find("."+S).removeClass(S),t.addClass(S).css("z-index"),i.size(o.effects)?(c.kendoAddClass(_,{duration:o.duration}),t.kendoAddClass(x,{duration:o.duration})):(c.addClass(_),t.addClass(x)),p.attr("aria-hidden",!0),p.attr("aria-expanded",!1),p.length?p.kendoStop(!0,!0).kendoAnimate(l({complete:y},r)):y(),!0}},contentElement:function(e){if(!isNaN(e-0)){var n=this.contentElements&&this.contentElements[0]&&!i.kineticScrollNeeded?this.contentElements:this.contentAnimators,o=t(this.tabGroup.children()[e]).attr("aria-controls");if(n)for(var r=0,a=n.length;r<a;r++)if(n.eq(r).closest(".k-content")[0].id==o)return n[r]}},contentHolder:function(e){var n=t(this.contentElement(e)),o=n.children(".km-scroll-container");return i.support.touch&&o[0]?o:n},ajaxRequest:function(e,n,o,r){e=this.tabGroup.find(e);var a=this,s=t.ajaxSettings.xhr,l=e.find("."+v),u=e.width()/2,h=!1,d=e.find(".k-loading").removeClass("k-complete");d[0]||(d=t("<span class='k-loading'/>").prependTo(e));var f=2*u-d.width(),p=function(){d.animate({marginLeft:(parseInt(d.css("marginLeft"),10)||0)<u?f:0},500,p)};i.support.browser.msie&&i.support.browser.version<10&&setTimeout(p,40),r=r||l.data("contentUrl")||a._contentUrls[e.index()]||l.attr("href"),a.inRequest=!0;var m={type:"GET",cache:!1,url:r,dataType:"html",data:{},xhr:function(){var e=this,i=s(),n=e.progressUpload?"progressUpload":!!e.progress&&"progress";return i&&t.each([i,i.upload],function(){this.addEventListener&&this.addEventListener("progress",function(t){n&&e[n](t)},!1)}),e.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest),i},progress:function(t){if(t.lengthComputable){var e=parseInt(t.loaded/t.total*100,10)+"%";d.stop(!0).addClass("k-progress").css({width:e,marginLeft:0})}},error:function(t,e){a.trigger("error",{xhr:t,status:e})&&this.complete()},stopProgress:function(){clearInterval(h),d.stop(!0).addClass("k-progress")[0].style.cssText=""},complete:function(t){a.inRequest=!1,this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress(),"abort"==t.statusText&&d.remove()},success:function(t){d.addClass("k-complete");try{var s=this,l=10;s.noProgress&&(d.width(l+"%"),h=setInterval(function(){s.progress({lengthComputable:!0,loaded:Math.min(l,100),total:100}),l+=10},40)),a.angular("cleanup",function(){return{elements:n.get()}}),i.destroy(n),n.html(t)}catch(t){var c=window.console;c&&c.error&&c.error(t.name+": "+t.message+" in "+r),this.error(this.xhr,"error")}o&&o.call(a,n),a.angular("compile",function(){return{elements:n.get()}}),a.trigger("contentLoad",{item:e[0],contentElement:n[0]})}};"object"==typeof r&&(m=t.extend(!0,{},m,r),c(m.url)&&(m.url=m.url())),a.xhr=t.ajax(m)}});l(I,{renderItem:function(t){t=l({tabStrip:{},group:{}},t);var e=T.empty,i=t.item;return T.item(l(t,{image:i.imageUrl?T.image:e,sprite:i.spriteCssClass?T.sprite:e,itemWrapper:T.itemWrapper},j))},renderContent:function(t){return T.content(l(t,j))}}),i.ui.plugin(I)}(window.kendo.jQuery),window.kendo})?n.apply(e,o):n)||(t.exports=r)}]);